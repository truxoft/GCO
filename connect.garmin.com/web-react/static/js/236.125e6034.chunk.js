// TX GCOverrides v1.20
(window.webpackJsonp = window.webpackJsonp || []).push([[236, 4, 5, 7, 9, 11, 12, 14, 20, 21, 24, 56, 83, 84, 263, 416, 419, 420, 421], {
    1250: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(438)
          , h = i(2655)
          , p = i(2656)
          , d = i(25)
          , u = (i(1292),
        i(306))
          , g = i(4574)
          , m = i(4578)
          , f = i.n(m)
          , y = o.a.View.extend({
            template: n.a.template(f.a),
            attributes: function() {
                return {
                    class: function() {
                        return "tab-pane tab-time-in-zones"
                    }
                }
            },
            initialize: function(e) {
                if (!e.activityId)
                    throw "Activity Id is required";
                if (!e.timeInZones)
                    throw "Time In Zones required";
                if (this.activityId = e.activityId,
                this.timeInZones = e.timeInZones,
                this.activityDuration = e.activityDuration,
                this.chartCollection = [],
                this.timeInZones) {
                    var t = new d.a;
                    this.timeInZones.hasHrTimeInZones && (this.hrTimeInZones = new h.a({
                        activityId: this.activityId
                    }),
                    t.addModel({
                        model: this.hrTimeInZones,
                        required: !0
                    })),
                    this.timeInZones.hasPowerTimeInZones && (this.powerTimeInZones = new p.a({
                        activityId: this.activityId
                    }),
                    t.addModel({
                        model: this.powerTimeInZones,
                        required: !0
                    })),
                    t.models.length > 0 && (t.on(d.a.Events.SYNCHRONIZED, this.onModelSynchronizerSynchronized, this),
                    t.fetchModels())
                }
                return this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a
                })),
                this
            },
            onModelSynchronizerSynchronized: function() {
                if (this.$el.empty(),
                this.hrTimeInZones && this.hrTimeInZones.models.length > 0) {
                    this.calculatePercentage(this.hrTimeInZones);
                    var e = new g.a({
                        options: {
                            chartTitle: "heart.rate.zones",
                            containerClass: "stat-block heart-rate-zones",
                            tableClass: "table-heart-rate-zones",
                            trClass: this.getTrClass,
                            fieldOptions: [{
                                fieldName: "zoneNumber",
                                formatter: this.formatZoneColumn,
                                tooltipFunction: this.getTooltipText
                            }, {
                                fieldName: "secsInZone",
                                formatter: this.formatTime
                            }, {
                                fieldName: "percentage",
                                formatter: function(e) {
                                    return e + "%"
                                }
                            }],
                            sortComparator: this.sortComparator,
                            sortDirection: g.a.SortDirection.descending,
                            zoneUtil: new u.a(this.hrTimeInZones.models,u.a.HrZoneNameMapper)
                        },
                        collection: this.hrTimeInZones
                    });
                    this.chartCollection.push(e),
                    this.$el.append(e.render().el)
                }
                if (this.powerTimeInZones && this.powerTimeInZones.models.length > 0) {
                    this.calculatePercentage(this.powerTimeInZones);
                    var t = new g.a({
                        options: {
                            isPowerZonesChart: !0,
                            chartTitle: "power.zones",
                            containerClass: "stat-block power-zones",
                            tableClass: "table-power-zones",
                            trClass: this.getTrClass,
                            fieldOptions: [{
                                fieldName: "zoneNumber",
                                formatter: this.formatZoneColumn,
                                tooltipFunction: this.getTooltipText
                            }, {
                                fieldName: "secsInZone",
                                formatter: this.formatTime,
                                tooltipFunction: null
                            }, {
                                fieldName: "percentage",
                                formatter: function(e) {
                                    return e + "%"
                                },
                                tooltipFunction: null
                            }],
                            sortComparator: this.sortComparator,
                            sortDirection: g.a.SortDirection.descending,
                            maxRowsToShow: 7,
                            zoneUtil: new u.a(this.powerTimeInZones.models,u.a.PowerZoneNameMapper)
                        },
                        collection: this.powerTimeInZones
                    });
                    this.chartCollection.push(t),
                    this.$el.append(t.render().el)
                }
                this.$el.hasClass("tab-time-in-zones") || this.$el.addClass("tab-time-in-zones")
            },
            calculatePercentage: function(e) {
                for (var t, i = 0, a = 0; a < e.models.length; a += 1)
                    (t = e.models[a]) && t instanceof o.a.Model && (0 === t.get("secsInZone") ? t.set("percentage", 0) : (i = l.a.personalizePercentComplete(t.get("secsInZone"), this.activityDuration, !0),
                    t.set("percentage", Math.round(i)),
                    +t.get("secsInZone")))
            },
            destroy: function() {
                this.destroyCharts(),
                this.off(),
                this.remove()
            },
            destroyCharts: function() {
                for (var e = 0; e < this.chartCollection.length; e += 1)
                    this.chartCollection[e] && "function" === typeof this.chartCollection[e].destroy && this.chartCollection[e].destroy()
            },
            getTrClass: function(e) {
                return "zone-" + e.model.zoneNumber
            },
            getTooltipText: function(e) {
                if (e && e.model && e.util) {
                    var t = e.model.zoneNumber
                      , i = e.util.getZone(t);
                    return s.a.localize("zone") + " " + t + (i.name ? " - " + s.a.localize(i.name) : "") + " " + i.range
                }
                return ""
            },
            formatTime: function(e) {
                return l.a.personalizeDuration(e, !1)
            },
            formatZoneColumn: function(e) {
                return "Z" + e
            },
            sortComparator: function(e, t) {
                return e.zoneNumber > t.zoneNumber ? 1 : e.zoneNumber < t.zoneNumber ? -1 : 0
            }
        })
          , v = i(4579)
          , b = i.n(v)
          , A = o.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(b.a),
                this.diveInfo = e.diveInfo,
                this.diveType = e.activityTypeKey
            },
            render: function() {
                var e = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    tanksArray: this.diveInfo.diveGases,
                    getGasMixtureString: this.getGasMixtureString,
                    getPressureUsedString: this.getPressureUsedString,
                    diveType: this.diveType
                });
                this.$el.html(e)
            },
            getPressureUsedString: function(e, t, i) {
                var a = null;
                return e && t && (a = e - t),
                a ? l.a.personalizePressure(a) + " " + l.a.personalizePressureUnit(i, s.a) : "--"
            },
            getGasMixtureString: function(e, t) {
                var i = parseInt(e, 10)
                  , a = parseInt(t, 10)
                  , n = "--";
                return i > 0 && a > 0 ? n = i + "%" + s.a.localize("oxygen_gas") + " " + a + "%" + s.a.localize("helium_gas") : i > 0 && 0 === a ? n = i + "%" + s.a.localize("oxygen_gas") : 0 === e && t > 0 && (n = a + "%" + s.a.localize("helium_gas")),
                n
            }
        })
          , C = i(4580)
          , w = i.n(C)
          , _ = i(442)
          , x = i(436)
          , S = i(437)
          , T = i(81)
          , E = i(80)
          , k = i(82)
          , L = i(10)
          , P = i.n(L)
          , z = i(89)
          , I = i(2657)
          , D = i(66)
          , B = i(4581)
          , M = i.n(B)
          , O = i(28)
          , R = i(248)
          , N = function(e) {
            function t() {
                var e, i;
                Object(x.a)(this, t);
                for (var a = arguments.length, n = new Array(a), r = 0; r < a; r++)
                    n[r] = arguments[r];
                return (i = Object(T.a)(this, (e = Object(E.a)(t)).call.apply(e, [this].concat(n)))).getMilesPerMinute = function(e, t) {
                    var i = e / 60
                      , a = l.a.convertDistance(t);
                    return l.a.formatPace(i / a)
                }
                ,
                i.convertSpeedToPaceSeconds = function(e, t) {
                    return null === e || 0 === e || isNaN(e) ? 0 : t ? O.a.KmToMeters / e : O.a.MilesToMeters / parseInt(e)
                }
                ,
                i.getGoalPaceIcon = function(e, t) {
                    var a = i.convertSpeedToPaceSeconds(e, !0)
                      , n = i.convertSpeedToPaceSeconds(t, !0)
                      , r = parseInt(100 * Math.abs((a - n) / a));
                    return r >= 0 && r <= 2 ? M.a.greenPaceIcon : r >= 3 && r <= 5 ? M.a.yellowPaceIcon : M.a.redPaceIcon
                }
                ,
                i.getPaceProSplits = function() {
                    var e, t = i.props, a = t.activity, n = t.activityTypedSplits, r = [], o = [], s = new I.a(i.activityTypeKey), c = a.splitSummaries.filter(function(e) {
                        return e.splitType === R.a
                    }), h = n.filter(function(e) {
                        return e.type === R.a
                    }), p = i.getGoalPaceIcon(c[0].targetAverageSpeed, c[0].averageSpeed);
                    return r.push(s.getSplitsHeader(!0), s.getDurationHeader(!0), s.getDistanceHeader(!0), s.getAvgPaceHeader(!0), s.getGoalPaceHeader(!0)),
                    e = h.map(function(e, t) {
                        var a = i.getGoalPaceIcon(e.targetAverageSpeed, e.averageSpeed);
                        return {
                            index: {
                                value: t + 1,
                                sortValue: 1
                            },
                            duration: {
                                value: l.a.personalizeDuration(e.duration),
                                sortValue: l.a.personalizeDuration(e.duration)
                            },
                            distance: {
                                value: l.a.personalizeDistance(e.distance),
                                sortValue: l.a.personalizeDistance(e.distance)
                            },
                            averageSpeed: {
                                value: P.a.createElement("div", null, P.a.createElement("span", {
                                    className: a
                                }), i.getMilesPerMinute(e.duration, e.distance)),
                                sortValue: i.getMilesPerMinute(e.duration, e.distance)
                            },
                            targetAverageSpeed: {
                                value: i.getMilesPerMinute(e.targetDuration, e.targetDistance),
                                sortValue: i.getMilesPerMinute(e.targetDuration, e.targetDistance)
                            }
                        }
                    }),
                    o.push({
                        key: "index",
                        value: P.a.createElement(z.a, {
                            ns: "common",
                            content: "label_summary"
                        })
                    }, {
                        key: "duration",
                        value: l.a.personalizeDuration(c[0].duration)
                    }, {
                        key: "distance",
                        value: l.a.personalizeDistance(c[0].distance)
                    }, {
                        key: "averageSpeed",
                        value: P.a.createElement("div", null, P.a.createElement("span", {
                            className: p
                        }), i.getMilesPerMinute(c[0].duration, c[0].distance))
                    }, {
                        key: "targetAverageSpeed",
                        value: i.getMilesPerMinute(c[0].targetDuration, c[0].targetDistance)
                    }),
                    {
                        headers: r,
                        data: e,
                        footer: o
                    }
                }
                ,
                i
            }
            return Object(k.a)(t, e),
            Object(S.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props.activityTypedSplits && this.getPaceProSplits();
                    return P.a.createElement(P.a.Fragment, null, P.a.createElement(D.SortableTable, {
                        data: e.data,
                        columns: e.headers,
                        footer: e.footer,
                        selector: !0
                    }))
                }
            }]),
            t
        }(P.a.PureComponent)
          , V = o.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(w.a),
                this.activity = e.activity,
                this.activityTypedSplits = e.activityTypedSplits
            },
            render: function() {
                this.$el.html(this.template()),
                this.view = new _.a,
                this.view.renderComponent(N, this.$(".react-pacepro-strategy")[0], {
                    activity: this.activity.toJSON(),
                    activityTypedSplits: this.activityTypedSplits.toJSON()
                })
            }
        })
          , j = i(4583)
          , F = i.n(j)
          , G = i(4584)
          , U = i.n(G)
          , H = i(449)
          , K = i(1360)
          , W = o.a.View.extend({
            tagName: "tr",
            initialize: function(e) {
                this.template = n.a.template(U.a),
                this.apneaDive = e.apneaDive,
                this.index = e.index
            },
            render: function() {
                var e = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    apneaDive: this.apneaDive,
                    index: this.index
                });
                return this.$el.html(e),
                this.apneaDive.startLatitude && this.apneaDive.startLongitude && (this.mapView = new K.a({
                    el: this.$(".apnea-map"),
                    mapContainerId: "map-container-" + (new Date).getTime(),
                    mapProvider: this.mapProvider,
                    disablePanning: !0,
                    disableZooming: !0,
                    mapStyle: "road",
                    showMenu: !1,
                    useCustomMapControls: !0,
                    width: 77,
                    height: 55,
                    viewerIsAuthenticated: !0,
                    cursorStyle: "default",
                    enableBikeLanes: !1,
                    showControlScale: !1
                }),
                this.listenTo(this.mapView, K.a.Events.ON_MAP_READY, function() {
                    var e = [{
                        lat: this.apneaDive.startLatitude,
                        lon: this.apneaDive.startLongitude
                    }];
                    this.mapView.fitMapToPoints(e),
                    this.mapView.addMarker(e[0].lat, e[0].lon, H.a.getSmallStartMarkerOptions())
                }),
                this.mapView.render(),
                this.mapView.loadMap()),
                this
            }
        })
          , Q = o.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(F.a),
                this.apneaDives = e.apneaDives
            },
            render: function() {
                var e = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    apneaDives: this.apneaDives
                });
                this.$el.html(e),
                this.renderItemViews()
            },
            renderItemViews: function() {
                var e = this.$("tbody");
                n.a.each(this.apneaDives, function(t, i) {
                    var a = new W({
                        apneaDive: t,
                        index: i
                    }).render();
                    e.append(a.el)
                }, this)
            }
        })
          , Y = i(4585)
          , $ = i.n(Y)
          , Z = i(4586)
          , q = i.n(Z)
          , X = o.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(q.a),
                this.totalSeatedTime = e.positionTimes.totalSeatedTime,
                this.totalStandingTime = e.positionTimes.totalStandingTime
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    totalSeatedTime: l.a.personalizeStandingTime(this.totalSeatedTime),
                    totalStandingTime: l.a.personalizeStandingTime(this.totalStandingTime)
                })),
                this
            }
        })
          , J = i(4587)
          , ee = i(4589)
          , te = i(4592)
          , ie = i(1571)
          , ae = i(83)
          , ne = {
            ChartRangeChanged: "ChartRangeChanged",
            ResetZoom: "ResetZoom",
            ModelSyncSuccess: "ModelSyncSuccess",
            ModelSyncFail: "ModelSyncFail"
        }
          , re = o.a.View.extend({
            DataToUse: {
                MAX: "MAX",
                SUMMARY: "SUMMARY"
            },
            initialize: function(e) {
                this.template = n.a.template($.a),
                this.activityId = e.activityId,
                this.summaryDTO = e.summaryDTO,
                this.axisType = e.axisType,
                this.powerRange = e.powerRange,
                this.startTime = ae.a.parseISOUTC(this.summaryDTO.startTimeGMT).getTime(),
                this.powerPhasePieChartView = null,
                this.pcoChartView = null,
                this.cyclingPositonChartView = null,
                this.cyclingControlsView = null,
                this.chartDataToUse = null,
                this.isPillEvent = !1,
                this.maxAveragePowerModel = null,
                this.maxAveragePowerData = null,
                -1 !== this.powerRange && (this.initPowerModel(),
                this.syncPowerModel(this.onModelSynchronized, this.onModelSynchronizedFailed))
            },
            initPowerModel: function() {
                this.maxAveragePowerModel = new ie.a({
                    activityId: this.activityId,
                    duration: this.powerRange,
                    startTimeMilliseconds: this.startTime
                })
            },
            syncPowerModel: function(e, t) {
                var i = new d.a;
                this.maxAveragePowerModel && (i.addModel({
                    model: this.maxAveragePowerModel,
                    required: !0
                }),
                i.on(d.a.Events.SYNCHRONIZED, e, this),
                i.on(d.a.Events.SYNCHRONIZE_FAILED, t, this),
                i.fetchModels())
            },
            setData: function(e) {
                e && (this.summaryDTO = e)
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a
                })),
                -1 === this.powerRange && this.summaryDTO && (this.chartDataToUse = this.DataToUse.SUMMARY,
                this.postRender()),
                this.renderCyclingControls(),
                this.listenTo(this.cyclingControlsView, te.a.Events.PowerRangeChanged, this.onPowerRangeChanged, this),
                this.listenTo(this.cyclingControlsView, te.a.Events.ResetZoom, this.onResetRange, this),
                this
            },
            onModelSynchronized: function() {
                var e;
                this.trigger(ne.ModelSyncSuccess),
                this.chartDataToUse = this.DataToUse.MAX,
                this.postRender(),
                this.isPillEvent && this.updateCharts(this.powerRange),
                e = {
                    axisType: this.axisType,
                    startTime: this.maxAveragePowerModel.getStartTime(),
                    endTime: this.maxAveragePowerModel.getEndTime(),
                    startDistance: this.maxAveragePowerModel.getStartDistance(),
                    endDistance: this.maxAveragePowerModel.getEndDistance(),
                    powerValue: this.maxAveragePowerModel.getValue()
                },
                this.cyclingControlsView.setMaxAvgLabel(e)
            },
            onModelSynchronizedFailed: function() {
                this.trigger(ne.ModelSyncFail)
            },
            postRender: function() {
                this.$(".spinner-container").hide(),
                this.renderPowerPhase(),
                this.renderPCO(),
                this.renderPosition()
            },
            renderCyclingControls: function() {
                this.cyclingControlsView && this.cyclingControlsView.remove(),
                this.cyclingControlsView = new te.a({
                    powerRange: this.powerRange,
                    duration: this.summaryDTO.duration
                }),
                this.$("#max-avg-power-controls").append(this.cyclingControlsView.render().el)
            },
            renderPowerPhase: function() {
                this.powerPhasePieChartView && this.powerPhasePieChartView.destroy(),
                this.powerPhasePieChartView = new ee.a({
                    model: this.getPieChartModel()
                }),
                this.$("#power-phase-container").append(this.powerPhasePieChartView.render().el)
            },
            renderPCO: function() {
                this.pcoChartView && this.pcoChartView.destroy(),
                this.pcoChartView = new J.a({
                    platformCenterOffsetData: this.getPlatformCenterOffset()
                }),
                this.$("#pco-container").append(this.pcoChartView.render().el)
            },
            renderPosition: function() {
                this.cyclingPositonChartView && this.cyclingPositonChartView.remove(),
                this.cyclingPositonChartView = new X({
                    positionTimes: this.getPositionTimes()
                }),
                this.$("#position-container").append(this.cyclingPositonChartView.render().el)
            },
            getPieChartModel: function() {
                var e = {};
                return this.chartDataToUse === this.DataToUse.MAX ? (this.maxAveragePowerData = this.maxAveragePowerModel.get("summaryMeasurementDTOMap"),
                e = {
                    leftPowerPhaseStart: this.maxAveragePowerData.leftPowerPhaseStart.value,
                    leftPowerPhasePeakStart: this.maxAveragePowerData.leftPowerPhasePeakStart.value,
                    leftPowerPhasePeakEnd: this.maxAveragePowerData.leftPowerPhasePeakEnd.value,
                    leftPowerPhaseEnd: this.maxAveragePowerData.leftPowerPhaseEnd.value,
                    rightPowerPhaseStart: this.maxAveragePowerData.rightPowerPhaseStart.value,
                    rightPowerPhasePeakStart: this.maxAveragePowerData.rightPowerPhasePeakStart.value,
                    rightPowerPhasePeakEnd: this.maxAveragePowerData.rightPowerPhasePeakEnd.value,
                    rightPowerPhaseEnd: this.maxAveragePowerData.rightPowerPhaseEnd.value,
                    leftBalance: this.maxAveragePowerData.leftBalance.value,
                    rightBalance: this.maxAveragePowerData.rightBalance.value
                }) : e = {
                    leftPowerPhaseStart: this.summaryDTO.leftPowerPhaseStart,
                    leftPowerPhasePeakStart: this.summaryDTO.leftPowerPhasePeakStart,
                    leftPowerPhasePeakEnd: this.summaryDTO.leftPowerPhasePeakEnd,
                    leftPowerPhaseEnd: this.summaryDTO.leftPowerPhaseEnd,
                    rightPowerPhaseStart: this.summaryDTO.rightPowerPhaseStart,
                    rightPowerPhasePeakStart: this.summaryDTO.rightPowerPhasePeakStart,
                    rightPowerPhasePeakEnd: this.summaryDTO.rightPowerPhasePeakEnd,
                    rightPowerPhaseEnd: this.summaryDTO.rightPowerPhaseEnd,
                    leftBalance: this.summaryDTO.leftBalance,
                    rightBalance: this.summaryDTO.rightBalance
                },
                e
            },
            getPlatformCenterOffset: function() {
                var e = {};
                return this.chartDataToUse === this.DataToUse.MAX ? (this.maxAveragePowerData = this.maxAveragePowerModel.get("summaryMeasurementDTOMap"),
                e = {
                    leftPlatformCenterOffset: this.maxAveragePowerData.leftPlatformCenterOffset.value,
                    rightPlatformCenterOffset: this.maxAveragePowerData.rightPlatformCenterOffset.value
                }) : e = {
                    leftPlatformCenterOffset: this.summaryDTO.leftPlatformCenterOffset,
                    rightPlatformCenterOffset: this.summaryDTO.rightPlatformCenterOffset
                },
                e
            },
            getPositionTimes: function() {
                var e = {};
                return this.chartDataToUse === this.DataToUse.MAX ? (this.maxAveragePowerData = this.maxAveragePowerModel.get("summaryMeasurementDTOMap"),
                e = {
                    totalSeatedTime: n.a.has(this.maxAveragePowerData, "seatedTime") ? this.maxAveragePowerData.seatedTime.value : null,
                    totalStandingTime: n.a.has(this.maxAveragePowerData, "standingTime") ? this.maxAveragePowerData.standingTime.value : null
                }) : e = {
                    totalSeatedTime: this.summaryDTO.seatedTime,
                    totalStandingTime: this.summaryDTO.standingTime
                },
                e
            },
            destroy: function() {
                this.cyclingControlsView && this.cyclingControlsView.remove(),
                this.destroyCharts(),
                this.off(),
                this.remove()
            },
            destroyCharts: function() {
                this.powerPhasePieChartView && "function" === typeof this.powerPhasePieChartView.destroy && this.powerPhasePieChartView.destroy(),
                this.pcoChartView && "function" === typeof this.pcoChartView.destroy && this.pcoChartView.destroy(),
                this.cyclingPositonChartView && "function" === typeof this.cyclingPositonChartView.destroy && this.cyclingPositonChartView.destroy()
            },
            onAxisTypeChanged: function(e) {
                e && (this.axisType = e,
                this.onResetRange(-1))
            },
            onPowerRangeChanged: function(e, t) {
                e && e !== this.powerRange && (this.powerRange = e,
                this.isPillEvent = t,
                this.maxAveragePowerModel ? (this.maxAveragePowerModel.setData(this.startTime, this.powerRange),
                this.syncPowerModel(this.onModelSynchronized, this.onModelSynchronizedFailed)) : (this.initPowerModel(),
                this.syncPowerModel(this.onModelSynchronized, this.onModelSynchronizedFailed)),
                this.cyclingControlsView && this.cyclingControlsView.selectRange(e, t))
            },
            onResetRange: function(e, t) {
                e && (this.powerRange = e,
                this.isPillEvent = t,
                this.chartDataToUse !== this.DataToUse.SUMMARY && (this.chartDataToUse = this.DataToUse.SUMMARY,
                this.postRender(),
                this.isPillEvent && this.updateCharts(this.powerRange)),
                this.cyclingControlsView && (this.cyclingControlsView.selectRange(e, t),
                this.cyclingControlsView.clearLabel()))
            },
            updateCharts: function(e) {
                -1 === e ? this.trigger(ne.ChartRangeChanged, null, null, null, e) : "sumDuration" === this.axisType ? this.trigger(ne.ChartRangeChanged, this.maxAveragePowerModel.getStartTime(), this.maxAveragePowerModel.getEndTime(), this.maxAveragePowerModel.getValue(), e) : this.trigger(ne.ChartRangeChanged, this.maxAveragePowerModel.getStartDistance(), this.maxAveragePowerModel.getEndDistance(), this.maxAveragePowerModel.getValue(), e)
            }
        });
        re.Events = ne;
        var oe = re
          , se = i(4594)
          , le = i.n(se)
          , ce = i(42)
          , he = function() {
            return s.a.localize("intervals")
        }
          , pe = function(e) {
            switch (e) {
            case "surfing":
                return s.a.localize("surf_waves_label");
            case "backcountry_skiing_snowboarding_ws":
                return s.a.localize("activity_splits");
            case "resort_skiing_snowboarding_ws":
                return s.a.localize("splits.runs");
            case "bouldering":
            case "indoor_climbing":
                return s.a.localize("splits.routes");
            default:
                return s.a.localize("splits.laps")
            }
        }
          , de = {
            ChartRangeChanged: "ChartRangeChanged",
            ResetZoom: "ResetZoom",
            ModelSyncSuccess: "ModelSyncSuccess",
            ModelSyncFail: "ModelSyncFail",
            SEGMENT_TAB_CLICK: "SEGMENT_TAB_CLICK",
            MtbTabClicked: "MtbTabClicked",
            PowerCurveTabClicked: "PowerCurveTabClicked",
            Error: "Error"
        }
          , ue = o.a.View.extend({
            template: n.a.template(le.a),
            events: {
                "click #tabTimeInZonesId": "onTimeInZoneTabClicked",
                "click #tabCyclingDynamics": "onCyclingDynamicsClicked",
                "click #tabGasesAndTanksId": "onGasesAndTanksClicked",
                "click #tabPaceProStrategy": "onPaceProStrategyClicked",
                "click #tabApneaDives": "onApneaDivesClicked",
                "click #tabSegmentsId": "onSegmentTabClicked",
                "click #tabMtbMetricsId": "onMtbMetricsClicked",
                "click #tabPowerCurve": "onPowerCurveClicked"
            },
            initialize: function(e) {
                this.segmentCount = e.segmentCount,
                this.isLapSwimming = e.isLapSwimming,
                this.showSegmentTab = !0,
                this.showSplitsTab = !0,
                this.showStatsTab = !0,
                this.timeInZones = e.timeInZones,
                this.activityId = e.activityId,
                this.activityDistance = e.activityDistance,
                this.hasCyclingDynamicsData = e.containsCyclingDynamicsData,
                this.hasMTBData = e.hasMTBData,
                this.summaryDTO = e.summaryDTO,
                this.timeInZonesTabClickCount = 0,
                this.diveInfo = e.diveInfo,
                this.apneaDives = e.apneaDives,
                this.gasesAndTanksTabClickCount = 0,
                this.paceProStrategyTabClickCount = 0,
                this.apneaDivesTabClickCount = 0,
                this.cyclingDynamicsTabClickCount = 0,
                this.axisType = "sumDuration",
                this.powerRange = -1,
                this.segmentTabClickCount = 0,
                this.mtbMetricsTabClickCount = 0,
                this.powerCurveTabClickCount = 0,
                this.showPowerCurve = e.showPowerCurve,
                this.activityTypeKey = e.activityTypeKey,
                this.manualActivity = e.manualActivity,
                this.hasIntensityIntervals = e.hasIntensityIntervals,
                this.hasTypedSplits = e.hasTypedSplits,
                this.activity = e.activity,
                this.activityTypedSplits = e.activityTypedSplits,
                this.activityPageModel = e.activityPageModel
               ,this.onTimeInZoneTabClicked(null);          // TX GCOverrides
            },
            setData: function(e, t, i, a, n, r, o, s, l, c, h) {
                this.segmentCount = e,
                this.isLapSwimming = t,
                this.containsGasesAndTanks = i,
                this.hasApneaDives = a,
                this.apneaDives = n,
                this.timeInZones = r,
                this.hasCyclingDynamicsData = o,
                this.activityId = s,
                this.activityDuration = l,
                this.summaryDTO = c,
                this.isParentActivity = h,
                this.updateSummaryDTOForCyclingDynamics()
            },
            updateSegmentCount: function(e) {
                var t = !1;
                0 === this.segmentCount && (t = !0),
                this.segmentCount = e,
                t ? this.$("#tabSegmentsId").append('<span class="notification-count">' + this.segmentCount + "</span>") : this.$("#tabSegmentsId .notification-count").html(this.segmentCount)
            },
            checkIfShouldRemoveSegmentCount: function(e) {
                var t = this.$("#tabSegmentsId .notification-count");
                e && t && t.remove()
            },
            render: function() {
                this.timeInZonesTabClickCount = 0,
                this.showSplitsTab = this.shouldShowSplitsTab(),
                this.activityTimeInZones && "function" === typeof this.activityTimeInZones.destroyCharts && this.activityTimeInZones.destroyCharts();
                var e = !this.activityPageModel.isSegmentMatchActiveValues()
                  , t = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    segmentCount: this.segmentCount,
                    shouldShowSegmentCounter: e,
                    isLapSwimming: this.isLapSwimming,
                    showSegmentTab: this.showSegmentTab,
                    showSplitsTab: this.showSplitsTab,
                    showStatsTab: this.showStatsTab,
                    showGasesAndTanksTab: this.containsGasesAndTanks,
                    showApneaDivesTab: this.hasApneaDives,
                    showTimeInZones: this.canShowTimeInZonesTab(),
                    showCyclingDynamics: this.canShowCyclingDynamics(),
                    timeInZones: this.timeInZones,
                    canShowMtbMetricsTab: this.canShowMtbMetricsTab(),
                    showPowerCurve: this.showPowerCurve,
                    splitsTab: this.getSplitsTabLabel(),
                    showPaceProStrategyTab: this.shouldShowPaceProStrategy()
                });
                this.$el.addClass("nav nav-tabs"),
                this.$el.html(t)
            },
            shouldShowSplitsTab: function() {
                return !this.isParentActivity && !(this.manualActivity && (ce.h.isIndoorClimbingActivity(this.activityTypeKey) || ce.h.isBoulderingActivity(this.activityTypeKey)) || ce.h.isPilatesActivity(this.activityTypeKey) || ce.h.isYogaActivity(this.activityTypeKey) || ce.h.isStrengthTrainingActivity(this.activityTypeKey) || ce.h.isCardioActivity(this.activityTypeKey) || ce.h.isDivingActivity(this.activityTypeKey) || ce.h.isEsportActivity(this.activityTypeKey) || ce.h.isHiitActivity(this.activityTypeKey))
            },
            shouldShowPaceProStrategy: function() {
                var e = this.activity.get("splitSummaries")
                  , t = e && e.filter(function(e) {
                    return e.splitType === R.a
                });
                return !!(this.hasTypedSplits && t.length > 0)
            },
            destroy: function() {
                this.activityTimeInZones && this.activityTimeInZones.destroy(),
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.destroy(),
                this.off(),
                this.remove()
            },
            onTimeInZoneTabClicked: function(e) {
                if (e) e.preventDefault();  // TX GCOverrides
                0 === this.timeInZonesTabClickCount && (this.activityTimeInZones = new y({
                    el: "#tab-time-in-zones",
                    activityId: this.activityId,
                    timeInZones: this.timeInZones,
                    activityDuration: this.activityDuration
                }),
                this.activityTimeInZones.render()),
                this.timeInZonesTabClickCount++,
                this.pushShowTimeInZonesTabAnalyticsEvents()
            },
            getSplitsTabLabel: function() {
                return this.isLapSwimming || this.hasIntensityIntervals ? he() : pe(this.activityTypeKey)
            },
            pushShowTimeInZonesTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show View Time In Zones Tab"
                })
            },
            onCyclingDynamicsClicked: function(e) {
                e.preventDefault(),
                0 === this.cyclingDynamicsTabClickCount && (this.cyclingDynamicsTabView = new oe({
                    el: "#tab-cycling-dynamics",
                    activityId: this.activityId,
                    summaryDTO: this.summaryDTO,
                    axisType: this.axisType,
                    powerRange: this.powerRange
                }),
                this.cyclingDynamicsTabView.render()),
                this.cyclingDynamicsTabClickCount++,
                this.listenTo(this.cyclingDynamicsTabView, oe.Events.ChartRangeChanged, this.onChartRangeChanged, this),
                this.listenTo(this.cyclingDynamicsTabView, oe.Events.ModelSyncSuccess, this.onModelSyncSuccess, this),
                this.listenTo(this.cyclingDynamicsTabView, oe.Events.ModelSyncFail, this.onModelSyncFail, this),
                this.pushShowCyclingDynamicsTabAnalyticsEvents()
            },
            onGasesAndTanksClicked: function(e) {
                e.preventDefault(),
                0 === this.gasesAndTanksTabClickCount && (this.gasesAndTanksTabView = new A({
                    el: "#tab-gases-and-tanks",
                    diveInfo: this.diveInfo,
                    activityTypeKey: this.activityTypeKey
                }),
                this.gasesAndTanksTabView.render()),
                this.gasesAndTanksTabClickCount++,
                this.pushShowGasesAndTanksTabAnalyticsEvents()
            },
            onApneaDivesClicked: function(e) {
                e.preventDefault(),
                0 === this.apneaDivesTabClickCount && (this.apneaDivesTabView = new Q({
                    el: "#tab-apnea-dives",
                    apneaDives: this.apneaDives
                }),
                this.apneaDivesTabView.render()),
                this.apneaDivesTabClickCount++,
                this.pushShowApneaDivesTabAnalyticsEvents()
            },
            onPaceProStrategyClicked: function(e) {
                e.preventDefault(),
                0 === this.paceProStrategyTabClickCount && (this.paceProStrategyTabView = new V({
                    el: "#tab-pacepro-strategy",
                    activity: this.activity,
                    activityTypedSplits: this.activityTypedSplits
                }),
                this.paceProStrategyTabView.render()),
                this.paceProStrategyTabClickCount++
            },
            onMtbMetricsClicked: function(e) {
                e.preventDefault(),
                0 === this.mtbMetricsTabClickCount && this.trigger(de.MtbTabClicked, this.mtbMetricsTabClickCount),
                this.mtbMetricsTabClickCount++
            },
            pushShowGasesAndTanksTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Gases and Tanks Tab"
                })
            },
            pushShowApneaDivesTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Apnea Dives Tab"
                })
            },
            pushShowCyclingDynamicsTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Cycling Dynamics Tab"
                })
            },
            updateSummaryDTOForCyclingDynamics: function() {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.setData(this.summaryDTO)
            },
            changeAxisType: function(e) {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.onAxisTypeChanged(e),
                this.axisType = e,
                this.powerRange = -1
            },
            changePowerRange: function(e, t) {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.onPowerRangeChanged(e, t),
                this.powerRange = e
            },
            onChartRangeChanged: function(e, t, i, a) {
                this.trigger(de.ChartRangeChanged, e, t, i, a)
            },
            resetRange: function(e) {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.onResetRange(e),
                this.powerRange = e
            },
            onModelSyncSuccess: function() {
                this.trigger(de.ModelSyncSuccess)
            },
            onModelSyncFail: function() {
                this.trigger(de.ModelSyncFail)
            },
            canShowTimeInZonesTab: function() {
                var e = !1;
                return this.timeInZones && (e = this.timeInZones.hasPowerTimeInZones || this.timeInZones.hasHrTimeInZones),
                (ce.h.isBreathworkActivity(this.activityTypeKey) || ce.h.isEsportActivity(this.activityTypeKey)) && (e = !1),
                e
            },
            canShowCyclingDynamics: function() {
                return this.hasCyclingDynamicsData
            },
            canShowMtbMetricsTab: function() {
                return this.hasMTBData
            },
            onSegmentTabClicked: function() {
                this.pushShowSegmentTabAnalyticsEvents(),
                0 === this.segmentTabClickCount && this.trigger(de.SEGMENT_TAB_CLICK),
                this.segmentTabClickCount++
            },
            onPowerCurveClicked: function(e) {
                this.pushShowPowerCurveEvents(),
                0 === this.powerCurveTabClickCount && this.trigger(de.PowerCurveTabClicked, this.powerCurveTabClickCount),
                this.powerCurveTabClickCount++
            },
            pushShowPowerCurveEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Power Curve Tab"
                })
            },
            pushShowSegmentTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Segment Tab"
                })
            }
        });
        ue.Events = de;
        t.a = ue
    },
    1251: function(e, t, i) {
        "use strict";
        var a = i(1799)
          , n = i(1909)
          , r = i(1355);
        var o = function(e) {
            var t = null == e ? 0 : e.length;
            return t ? e[t - 1] : void 0
        }
          , s = i(1418);
        var l = function(e, t, i) {
            var a = -1
              , n = e.length;
            t < 0 && (t = -t > n ? 0 : n + t),
            (i = i > n ? n : i) < 0 && (i += n),
            n = t > i ? 0 : i - t >>> 0,
            t >>>= 0;
            for (var r = Array(n); ++a < n; )
                r[a] = e[a + t];
            return r
        };
        var c = function(e, t) {
            return t.length < 2 ? e : Object(s.a)(e, l(t, 0, -1))
        }
          , h = i(1381);
        var p = function(e, t) {
            return t = Object(r.a)(t, e),
            null == (e = c(e, t)) || delete e[Object(h.a)(o(t))]
        }
          , d = i(1483)
          , u = i(468);
        var g = function(e) {
            return Object(u.a)(e) ? void 0 : e
        }
          , m = i(1497)
          , f = i(1807)
          , y = Object(m.a)(function(e, t) {
            var i = {};
            if (null == e)
                return i;
            var o = !1;
            t = Object(a.a)(t, function(t) {
                return t = Object(r.a)(t, e),
                o || (o = t.length > 1),
                t
            }),
            Object(d.a)(e, Object(f.a)(e), i),
            o && (i = Object(n.a)(i, 7, g));
            for (var s = t.length; s--; )
                p(i, t[s]);
            return i
        });
        var v = function(e) {
            return void 0 === e
        }
          , b = i(244)
          , A = i(22)
          , C = i.n(A)
          , w = i(10)
          , _ = i.n(w)
          , x = i(1746)
          , S = i(1486)
          , T = C.a.oneOfType([C.a.instanceOf(b.LatLngBounds), S.a])
          , E = i(1327)
          , k = i(1394)
          , L = i(1484)
          , P = i(1511)
          , z = C.a.shape({
            center: k.a,
            zoom: C.a.number
        })
          , I = i(1950);
        function D(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var B = ["children", "className", "id", "style", "useFlyTo", "whenReady"]
          , M = function(e) {
            return Array.isArray(e) ? [e[0], e[1]] : [e.lat, e.lon ? e.lon : e.lng]
        }
          , O = function(e) {
            function t(i, a) {
                !function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t);
                var n = function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.call(this, i, a));
                return n.viewport = {
                    center: void 0,
                    zoom: void 0
                },
                n._updating = !1,
                n.onViewportChange = function() {
                    var e = n.leafletElement.getCenter();
                    n.viewport = {
                        center: e ? [e.lat, e.lng] : void 0,
                        zoom: n.leafletElement.getZoom()
                    },
                    n.props.onViewportChange && !n._updating && n.props.onViewportChange(n.viewport)
                }
                ,
                n.onViewportChanged = function() {
                    n.props.onViewportChanged && !n._updating && n.props.onViewportChanged(n.viewport)
                }
                ,
                n.bindContainer = function(e) {
                    n.container = e
                }
                ,
                n.className = i.className,
                n
            }
            return D(t, e),
            t.prototype.getChildContext = function() {
                return {
                    layerContainer: this.leafletElement,
                    map: this.leafletElement
                }
            }
            ,
            t.prototype.createLeafletElement = function(e) {
                var t = e.viewport
                  , i = function(e, t) {
                    var i = {};
                    for (var a in e)
                        t.indexOf(a) >= 0 || Object.prototype.hasOwnProperty.call(e, a) && (i[a] = e[a]);
                    return i
                }(e, ["viewport"]);
                return t && (t.center && (i.center = t.center),
                "number" === typeof t.zoom && (i.zoom = t.zoom)),
                new b.Map(this.container,i)
            }
            ,
            t.prototype.updateLeafletElement = function(e, t) {
                this._updating = !0;
                var i = t.animate
                  , a = t.bounds
                  , n = t.boundsOptions
                  , r = t.boxZoom
                  , o = t.center
                  , s = t.className
                  , l = t.doubleClickZoom
                  , c = t.dragging
                  , h = t.keyboard
                  , p = t.maxBounds
                  , d = t.scrollWheelZoom
                  , u = t.tap
                  , g = t.touchZoom
                  , m = t.useFlyTo
                  , f = t.viewport
                  , y = t.zoom;
                if (Object(I.a)(this.container, e.className, s),
                f && f !== e.viewport) {
                    var v = f.center ? f.center : o
                      , b = null == f.zoom ? y : f.zoom;
                    !0 === m ? this.leafletElement.flyTo(v, b, {
                        animate: i
                    }) : this.leafletElement.setView(v, b, {
                        animate: i
                    })
                } else
                    o && this.shouldUpdateCenter(o, e.center) ? !0 === m ? this.leafletElement.flyTo(o, y, {
                        animate: i
                    }) : this.leafletElement.setView(o, y, {
                        animate: i
                    }) : "number" === typeof y && y !== e.zoom && (null == e.zoom ? this.leafletElement.setView(o, y) : this.leafletElement.setZoom(y));
                p && this.shouldUpdateBounds(p, e.maxBounds) && this.leafletElement.setMaxBounds(p),
                a && (this.shouldUpdateBounds(a, e.bounds) || n !== e.boundsOptions) && (!0 === m ? this.leafletElement.flyToBounds(a, n) : this.leafletElement.fitBounds(a, n)),
                r !== e.boxZoom && (!0 === r ? this.leafletElement.boxZoom.enable() : this.leafletElement.boxZoom.disable()),
                l !== e.doubleClickZoom && (!0 === l ? this.leafletElement.doubleClickZoom.enable() : this.leafletElement.doubleClickZoom.disable()),
                c !== e.dragging && (!0 === c ? this.leafletElement.dragging.enable() : this.leafletElement.dragging.disable()),
                h !== e.keyboard && (!0 === h ? this.leafletElement.keyboard.enable() : this.leafletElement.keyboard.disable()),
                d !== e.scrollWheelZoom && (!0 === d || "string" === typeof d ? (this.leafletElement.options.scrollWheelZoom = d,
                this.leafletElement.scrollWheelZoom.enable()) : this.leafletElement.scrollWheelZoom.disable()),
                u !== e.tap && (!0 === u ? this.leafletElement.tap.enable() : this.leafletElement.tap.disable()),
                g !== e.touchZoom && (!0 === g || "string" === typeof g ? (this.leafletElement.options.touchZoom = g,
                this.leafletElement.touchZoom.enable()) : this.leafletElement.touchZoom.disable()),
                this._updating = !1
            }
            ,
            t.prototype.componentDidMount = function() {
                var t = y(this.props, B);
                this.leafletElement = this.createLeafletElement(t),
                this.leafletElement.on("move", this.onViewportChange),
                this.leafletElement.on("moveend", this.onViewportChanged),
                v(t.bounds) || this.leafletElement.fitBounds(t.bounds, t.boundsOptions),
                this.props.whenReady && this.leafletElement.whenReady(this.props.whenReady),
                e.prototype.componentDidMount.call(this),
                this.forceUpdate()
            }
            ,
            t.prototype.componentDidUpdate = function(e) {
                this.updateLeafletElement(e, this.props)
            }
            ,
            t.prototype.componentWillUnmount = function() {
                e.prototype.componentWillUnmount.call(this),
                this.leafletElement.off("move", this.onViewportChange),
                this.leafletElement.off("moveend", this.onViewportChanged),
                !0 === this.props.preferCanvas ? (this.leafletElement._initEvents(!0),
                this.leafletElement._stop()) : this.leafletElement.remove()
            }
            ,
            t.prototype.shouldUpdateCenter = function(e, t) {
                return !t || (e = M(e),
                t = M(t),
                e[0] !== t[0] || e[1] !== t[1])
            }
            ,
            t.prototype.shouldUpdateBounds = function(e, t) {
                return !t || !Object(b.latLngBounds)(e).equals(Object(b.latLngBounds)(t))
            }
            ,
            t.prototype.render = function() {
                var e = this.leafletElement ? this.props.children : null;
                return _.a.createElement("div", {
                    className: this.className,
                    id: this.props.id,
                    ref: this.bindContainer,
                    style: this.props.style
                }, e)
            }
            ,
            t
        }(x.a);
        O.propTypes = {
            animate: C.a.bool,
            bounds: T,
            boundsOptions: C.a.object,
            center: k.a,
            children: E.a,
            className: C.a.string,
            id: C.a.string,
            maxBounds: T,
            maxZoom: C.a.number,
            minZoom: C.a.number,
            style: C.a.object,
            useFlyTo: C.a.bool,
            viewport: z,
            whenReady: C.a.func,
            zoom: C.a.number
        },
        O.childContextTypes = {
            layerContainer: L.a,
            map: P.a
        };
        t.a = O
    },
    1291: function(e, t, i) {
        (t = e.exports = i(34)(!0)).push([e.i, "/* breakpoints */\n/* Using .9375 on the max-widths prevents overlap at the breakpoint pixel. 1em by default equals 16px, .9375 is 15/16ths */", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/node_modules/ui-connect/styles/variables.module.css"],
            names: [],
            mappings: "AAMA,iBAAgB;AAChB,2HAA0H",
            file: "variables.module.css",
            sourcesContent: ["@value spacingXS: 11px;\n@value spacingSM: 22px;\n@value spacingMD: 33px;\n@value spacingLG: 44px;\n@value spacingXL: 55px;\n\n/* breakpoints */\n/* Using .9375 on the max-widths prevents overlap at the breakpoint pixel. 1em by default equals 16px, .9375 is 15/16ths */\n@value endXS:     47.9375em;\n@value startSM:   48em;\n@value endSM:     61.9375em;\n@value startMD:   62em;\n@value endMD:     74.9375em;\n@value startLG:   75em;"],
            sourceRoot: ""
        }]),
        t.locals = {
            spacingXS: "11px",
            spacingSM: "22px",
            spacingMD: "33px",
            spacingLG: "44px",
            spacingXL: "55px",
            endXS: "47.9375em",
            startSM: "48em",
            endSM: "61.9375em",
            startMD: "62em",
            endMD: "74.9375em",
            startLG: "75em"
        }
    },
    1296: function(e, t, i) {
        "use strict";
        var a = i(1313)
          , n = i(21)
          , r = {
            red: "#ff0035",
            royalRed: "#f6192e",
            orange: "#ed7e00",
            mango: "#ff9e0d",
            hatorade: "#daf200",
            green: "#50b012",
            lightGreen: "#baf792",
            peakGreen: "#72ea24",
            blue: "#11a9ed",
            lightBlue: "#b0e1f7",
            skyBlue: "#73d4ff",
            royalBlue: "#4169E1",
            babyBlue: "#57c4E8",
            purple: "#cf23b8",
            gritPurple: "#632d5c",
            grey: "#888",
            baseGrey: "#e6e6e6",
            expandGrey: "#6d8595",
            performanceGrey: "#7d919f",
            diveGrey: "#C8D8E3",
            decoRed: "#D0021B",
            workoutTargetGray: "#C7C7C7",
            paceProTargetGray: "#C7C7C7",
            powerCurveGrey: "#C7C7C7",
            powerCurveDarkerGrey: "#6E8594",
            powerCurveBlue: "#B0E1F7",
            p02Green: "#33AE00",
            vo2Black: "#222",
            teBenefitPurple: "#6439E4",
            teBenefitYellow: n.orange_dark_1,
            teBenefitGreen: "#0AA476",
            loadFocusAnaerobic: "#9370F9",
            loadFocusHighAerobic: n.orange_light_2,
            loadFocusLowAerobic: "#34D6A6",
            tsDetrainingGrey: "#555",
            tsUnproductiveOrange: n.orange_light_3,
            tsPeakingPurple: "#815AF7"
        }
          , o = {
            mapSeriesType: function(e, t) {
                if (null == e)
                    return "";
                if (e.chartColor && "function" === typeof e.chartColor)
                    return e.chartColor();
                switch (e.name || e.prototype.name) {
                case a.a.Elevation.prototype.name:
                case a.a.SurfElevation.prototype.name:
                case a.a.Ascent.prototype.name:
                case a.a.ClimbAscent.prototype.name:
                    return r.green;
                case a.a.StrokeRate.prototype.name:
                case a.a.SwimStrokes.prototype.name:
                case a.a.OpenWaterSwimStrokes.prototype.name:
                case a.a.BikeCadence.prototype.name:
                case a.a.RunCadence.prototype.name:
                    return r.orange;
                case a.a.SwimSwolf.prototype.name:
                case a.a.PowerKg.prototype.name:
                case a.a.PowerWatts.prototype.name:
                case a.a.VerticalRatio.prototype.name:
                case a.a.VerticalOscillation.prototype.name:
                case a.a.VectorAirWindSpeed.prototype.name:
                    return r.purple;
                case a.a.Gforce.prototype.name:
                case a.a.HeartRate.prototype.name:
                case a.a.SurfHeartRate.prototype.name:
                case a.a.HeartRateLapSwimming.prototype.name:
                case a.a.VectorAirDragCdA.prototype.name:
                case a.a.VectorAirDragWattsPerCdA.prototype.name:
                    return r.red;
                case a.a.LeftRightPowerBalance.prototype.name:
                    return "rgba(207,35,184,.5)";
                case a.a.LeftPCO.prototype.name:
                    return t ? "rgb(191,15,36)" : "rgba(191,15,36,.5)";
                case a.a.RightPCO.prototype.name:
                    return t ? "rgb(255,158,13)" : "rgba(255,158,13,.5)";
                case a.a.LeftPPStart.prototype.name:
                case a.a.LeftPeakPPStart.prototype.name:
                    return t ? "rgb(80,176,18)" : "rgba(80,176,18,.5)";
                case a.a.RightPPStart.prototype.name:
                case a.a.RightPeakPPStart.prototype.name:
                    return t ? "rgb(17,169,237)" : "rgba(17,169,237,.5)";
                case a.a.LeftPPEnd.prototype.name:
                case a.a.LeftPeakPPEnd.prototype.name:
                    return t ? "rgb(80,176,18)" : "rgba(80,176,18,.5)";
                case a.a.RightPPEnd.prototype.name:
                case a.a.RightPeakPPEnd.prototype.name:
                    return t ? "rgb(17,169,237)" : "rgba(17,169,237,.5)";
                case a.a.GroundContactTimeBalance.prototype.name:
                case a.a.GroundContactTime.prototype.name:
                case a.a.SwimSpeed.prototype.name:
                case a.a.SwimPace.prototype.name:
                case a.a.Speed.prototype.name:
                case a.a.Pace.prototype.name:
                case a.a.LapAveragePace.prototype.name:
                case a.a.PaceProComparePace.prototype.name:
                case a.a.LapAveragePaceWithRest.prototype.name:
                case a.a.FloorClimbingPace.prototype.name:
                case a.a.OpenWaterSwimPace.prototype.name:
                case a.a.OpenWaterSwimSpeed.prototype.name:
                case a.a.Position.prototype.name:
                    return r.blue;
                case a.a.RespirationRate.prototype.name:
                    return r.lightBlue;
                case a.a.Temperature.prototype.name:
                    return r.grey;
                case a.a.DistancePerStroke.prototype.name:
                case a.a.StrideLength.prototype.name:
                    return r.royalBlue;
                case a.a.DiveDepth.prototype.name:
                    return r.diveGrey;
                case a.a.DecoCeiling.prototype.name:
                    return r.decoRed;
                case a.a.SetPointDepth.prototype.name:
                    return r.p02Green;
                case a.a.Flow.prototype.name:
                    return r.peakGreen;
                case a.a.Grit.prototype.name:
                    return r.gritPurple;
                case a.a.Stress.prototype.name:
                    return n.orange_light_1;
                case a.a.TankPressure.prototype.name:
                    return n.teal_dark_3;
                default:
                    return ""
                }
            },
            getVerticalOscillationColorRange: function(e) {
                return e ? {
                    Purple: {
                        zone: "95",
                        range: "6.3",
                        cutoffMax: 6.3
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.3 - 8.6",
                        cutoffMax: 8.6
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "8.6 - 10.8",
                        cutoffMax: 10.8
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "10.8 - 13.1",
                        cutoffMax: 13.1
                    },
                    Red: {
                        zone: "5",
                        range: "13.1"
                    }
                } : {
                    Purple: {
                        zone: "95",
                        range: "6.4",
                        cutoffMax: 6.4
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.4 - 8.1",
                        cutoffMax: 8.2
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "8.2 - 9.7",
                        cutoffMax: 9.8
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "9.8 - 11.5",
                        cutoffMax: 11.6
                    },
                    Red: {
                        zone: "5",
                        range: "11.5"
                    }
                }
            },
            getVerticalRatioColorRange: function(e) {
                return e ? {
                    Purple: {
                        zone: "95",
                        range: "6.3",
                        cutoffMax: 6.3
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.3 - 8.2",
                        cutoffMax: 8.2
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "8.2 - 9.9",
                        cutoffMax: 9.9
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "9.9 - 11.8",
                        cutoffMax: 11.8
                    },
                    Red: {
                        zone: "5",
                        range: "11.8"
                    }
                } : {
                    Purple: {
                        zone: "95",
                        range: "6.1",
                        cutoffMax: 6.1
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.1 - 7.4",
                        cutoffMax: 7.5
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "7.5 - 8.6",
                        cutoffMax: 8.7
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "8.7 - 10.1",
                        cutoffMax: 10.1
                    },
                    Red: {
                        zone: "5",
                        range: "10.1"
                    }
                }
            },
            getVectorAirCdAColorRange: function() {
                return {
                    roadCyclist: {
                        Purple: {
                            zone: "95",
                            range: "0.300",
                            cutoffMin: 0,
                            cutoffMax: .3
                        },
                        Blue: {
                            zone: "70 - 95",
                            range: "0.300 - 0.350",
                            cutoffMin: 0,
                            cutoffMax: .35
                        },
                        Green: {
                            zone: "30 - 69",
                            range: "0.350 - 0.425",
                            cutoffMin: 0,
                            cutoffMax: .425
                        },
                        Orange: {
                            zone: "5 - 29",
                            range: "0.426 - 0.500",
                            cutoffMin: 0,
                            cutoffMax: .5
                        },
                        Red: {
                            zone: "5",
                            range: "0.500",
                            cutoffMin: 0,
                            cutoffMax: 0
                        }
                    },
                    timeTrialist: {
                        Purple: {
                            zone: "95",
                            range: "0.220",
                            cutoffMin: 0,
                            cutoffMax: .22
                        },
                        Blue: {
                            zone: "70 - 95",
                            range: "0.221 - 0.240",
                            cutoffMin: 0,
                            cutoffMax: .24
                        },
                        Green: {
                            zone: "30 - 69",
                            range: "0.241 - 0.260",
                            cutoffMin: 0,
                            cutoffMax: .26
                        },
                        Orange: {
                            zone: "5 - 29",
                            range: "0.261 - 0.280",
                            cutoffMin: 0,
                            cutoffMax: .28
                        },
                        Red: {
                            zone: "5",
                            range: "0.280",
                            cutoffMin: 0,
                            cutoffMax: 0
                        }
                    }
                }
            },
            getVectorAirWattsPerCdAColorRange: function() {
                return this.getVectorAirCdAColorRange()
            },
            mapStroke: function(e) {
                return "FREESTYLE" == e ? r.purple : "BACKSTROKE" == e ? r.green : "BREASTSTROKE" == e ? r.red : "BUTTERFLY" == e ? r.blue : "DRILL" == e ? r.orange : r.grey
            }
        };
        o.Colors = r,
        t.a = o
    },
    1301: function(e, t, i) {
        "use strict";
        var a = i(1334)
          , n = function() {
            return this
        };
        n.PopularityRouteTypes = {
            ROAD_BIKING: "ROAD_CYCLING",
            ROAD_CYCLING: "ROAD_CYCLING",
            MOUNTAIN_BIKING: "MOUNTAIN_BIKING",
            GRAVEL_BIKING: "GRAVEL_BIKING",
            GRAVEL_CYCLING: "GRAVEL_BIKING",
            MIXED_SURFACE: "MIXED_SURFACE",
            RUNNING: "RUNNING",
            TRAIL_RUNNING: "TRAIL_RUNNING"
        },
        n.RoundTripRouteTypes = {
            ROAD_BIKING: "ROAD_CYCLING",
            ROAD_CYCLING: "ROAD_CYCLING",
            MOUNTAIN_BIKING: "MOUNTAIN_BIKING",
            GRAVEL_BIKING: "GRAVEL_BIKING",
            GRAVEL_CYCLING: "GRAVEL_BIKING",
            MIXED_SURFACE: "MIXED_SURFACE",
            RUNNING: "RUNNING",
            TRAIL_RUNNING: "TRAIL_RUNNING",
            HIKING: "TRAIL_RUNNING",
            OTHER: "MIXED_SURFACE"
        },
        n.SupportedPopularityTypes = {
            ROAD_BIKING: "ROAD_CYCLING",
            ROAD_CYCLING: "ROAD_CYCLING",
            MOUNTAIN_BIKING: "MOUNTAIN_BIKING",
            GRAVEL_BIKING: "GRAVEL_BIKING",
            GRAVEL_CYCLING: "GRAVEL_BIKING",
            RUNNING: "RUNNING",
            TRAIL_RUNNING: "TRAIL_RUNNING"
        },
        n.allowRoutingForRunning = !1,
        n.isRunningSupportedPopularityTypes = function(e) {
            return e.indexOf("RUNNING") > -1
        }
        ,
        n.isPopularityRoutingSupported = function(e) {
            return !(!e || !this.SupportedPopularityTypes[e.toUpperCase()]) && !(this.isRunningSupportedPopularityTypes(e.toUpperCase()) && !this.allowRoutingForRunning)
        }
        ,
        n.ErrorCodes = {
            GENERIC: "GENERIC",
            ROUTE_TO_LONG: "ROUTE_TO_LONG",
            ROUTE_TO_FAR_FROM_ROADS: "ROUTE_TO_FAR_FROM_ROADS",
            NO_ROUTING_DATA: "NO_ROUTING_DATA",
            PR_GENERIC: "PR_GENERIC",
            PR_NO_ROUTING_DATA: "PR_NO_ROUTING_DATA"
        },
        n.MAP_LAYER_TYPES = {
            ROAD: "ROAD",
            SATELLITE: "SATELLITE",
            TERRAIN: "TERRAIN",
            HYBRID: "HYBRID"
        },
        n.TRANSIT_MODE = {
            CYCLING: "CYCLING",
            PEDESTRIAN: "PEDESTRIAN"
        },
        n.MapProviders = {
            GOOGLE: "google",
            OSM: "osm",
            HERE: "here",
            BING: "bing",
            BAIDU: "baidu"
        },
        n.HereMapTileTypeMapping = {
            road: "normal.day",
            satellite: "satellite.day",
            terrain: "terrain.day",
            hybrid: "normal.traffic.day"
        },
        n.DirectionServices = {
            GOOGLE: "GOOGLE",
            OSM: "OSM",
            GARMIN: "GARMIN",
            BAIDU: "BAIDU"
        },
        n.HeatMapServices = {
            GARMIN: "GARMIN"
        },
        n.TaskTypes = {
            START: "START",
            END: "END",
            SPLIT: "SPLIT",
            CUSTOM: "CUSTOM"
        },
        n.ProviderToNameMapping = {
            google: "Google",
            here: "here",
            osm: "OpenStreetMap",
            baidu: "Baidu"
        },
        n.RoutingErrorMapping = {
            GENERIC: {
                key: "course_map_alert_error_retrieving_route",
                alertType: a.a.AlertType.Warning
            },
            ROUTE_TO_LONG: {
                key: "course_route_to_long",
                alertType: a.a.AlertType.Info
            },
            ROUTE_TO_FAR_FROM_ROADS: {
                key: "course_route_to_far_from_roads",
                alertType: a.a.AlertType.Info
            },
            NO_ROUTING_DATA: {
                key: "course_map_alert_error_retrieving_route",
                alertType: a.a.AlertType.Warning
            },
            PR_GENERIC: {
                key: "course_pr_service_error",
                alertType: a.a.AlertType.Warning
            },
            PR_NO_ROUTING_DATA: {
                key: "course_pr_no_routing_data",
                alertType: a.a.AlertType.Warning
            }
        },
        n.DrawingMethods = {
            SNAP_TO_ROAD: "snap",
            POPULAR_ROUTES: "popular",
            FREEHAND: "free"
        },
        n.CoordinateSystem = {
            WGS84: "WGS84",
            GCJ02: "GCJ02",
            BD09: "BD09"
        },
        n.LeafletDefaults = {
            POLYLINE: {
                COLOR: null,
                WEIGHT: 4
            }
        },
        n.extend = function(e, t) {
            for (var i in t)
                i && t.hasOwnProperty(i) && (e[i] = t[i])
        }
        ;
        t.a = n
    },
    1310: function(e, t, i) {
        "use strict";
        var a = i(436)
          , n = i(437)
          , r = i(81)
          , o = i(80)
          , s = i(82)
          , l = i(10)
          , c = i.n(l)
          , h = i(1295)
          , p = i.n(h)
          , d = i(1326)
          , u = i.n(d)
          , g = i(1323)
          , m = i.n(g)
          , f = i(1312)
          , y = i.n(f);
        m()(p.a),
        y()(p.a);
        var v = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(o.a)(t).apply(this, arguments))
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.config
                      , i = e.callback;
                    return c.a.createElement(u.a, {
                        options: t,
                        highcharts: p.a,
                        callback: i
                    })
                }
            }]),
            t
        }(c.a.Component);
        t.a = v
    },
    1312: function(e, t, i) {
        var a, n;
        n = function(e) {
            !function(e) {
                var t, i = e.pInt, a = e.pick, n = e.each, r = e.isNumber;
                (0,
                e.wrap)(e.Renderer.prototype.symbols, "arc", function(e, t, i, a, n, r) {
                    return e = e(t, i, a, n, r),
                    r.rounded && (r = ["A", a = ((r.r || a) - r.innerR) / 2, a, 0, 1, 1, e[12], e[13]],
                    e.splice.apply(e, [e.length - 1, 0].concat(["A", a, a, 0, 1, 1, e[1], e[2]])),
                    e.splice.apply(e, [11, 3].concat(r))),
                    e
                }),
                t = {
                    initDataClasses: function(t) {
                        var i, a = this.chart, r = 0, o = this.options;
                        this.dataClasses = i = [],
                        n(t.dataClasses, function(n, s) {
                            n = e.merge(n),
                            i.push(n),
                            n.color || ("category" === o.dataClassColor ? (s = a.options.colors,
                            n.color = s[r++],
                            r === s.length && (r = 0)) : n.color = e.color(o.minColor).tweenTo(e.color(o.maxColor), s / (t.dataClasses.length - 1)))
                        })
                    },
                    initStops: function(t) {
                        this.stops = t.stops || [[0, this.options.minColor], [1, this.options.maxColor]],
                        n(this.stops, function(t) {
                            t.color = e.color(t[1])
                        })
                    },
                    toColor: function(e, t) {
                        var i, a, n, r, o = this.stops, s = this.dataClasses;
                        if (s) {
                            for (r = s.length; r--; )
                                if (i = (n = s[r]).from,
                                o = n.to,
                                (void 0 === i || e >= i) && (void 0 === o || e <= o)) {
                                    a = n.color,
                                    t && (t.dataClass = r);
                                    break
                                }
                        } else {
                            for (this.isLog && (e = this.val2lin(e)),
                            e = 1 - (this.max - e) / (this.max - this.min),
                            r = o.length; r-- && !(e > o[r][0]); )
                                ;
                            i = o[r] || o[r + 1],
                            e = 1 - ((o = o[r + 1] || i)[0] - e) / (o[0] - i[0] || 1),
                            a = i.color.tweenTo(o.color, e)
                        }
                        return a
                    }
                },
                e.seriesType("solidgauge", "gauge", {
                    colorByPoint: !0
                }, {
                    translate: function() {
                        var i = this.yAxis;
                        e.extend(i, t),
                        !i.dataClasses && i.options.dataClasses && i.initDataClasses(i.options),
                        i.initStops(i.options),
                        e.seriesTypes.gauge.prototype.translate.call(this)
                    },
                    drawPoints: function() {
                        var t, o = this, s = o.yAxis, l = s.center, c = o.options, h = o.chart.renderer, p = c.overshoot, d = r(p) ? p / 180 * Math.PI : 0;
                        r(c.threshold) && (t = s.startAngleRad + s.translate(c.threshold, null, null, null, !0)),
                        this.thresholdAngleRad = a(t, s.startAngleRad),
                        n(o.points, function(t) {
                            var n = t.graphic
                              , r = s.startAngleRad + s.translate(t.y, null, null, null, !0)
                              , p = i(a(t.options.radius, c.radius, 100)) * l[2] / 200
                              , u = i(a(t.options.innerRadius, c.innerRadius, 60)) * l[2] / 200
                              , g = s.toColor(t.y, t)
                              , m = Math.min(s.startAngleRad, s.endAngleRad)
                              , f = Math.max(s.startAngleRad, s.endAngleRad);
                            "none" === g && (g = t.color || o.color || "none"),
                            "none" !== g && (t.color = g),
                            r = Math.max(m - d, Math.min(f + d, r)),
                            !1 === c.wrap && (r = Math.max(m, Math.min(f, r))),
                            m = Math.min(r, o.thresholdAngleRad),
                            (r = Math.max(r, o.thresholdAngleRad)) - m > 2 * Math.PI && (r = m + 2 * Math.PI),
                            t.shapeArgs = u = {
                                x: l[0],
                                y: l[1],
                                r: p,
                                innerR: u,
                                start: m,
                                end: r,
                                rounded: c.rounded
                            },
                            t.startR = p,
                            n ? (p = u.d,
                            n.animate(e.extend({
                                fill: g
                            }, u)),
                            p && (u.d = p)) : (t.graphic = n = h.arc(u).attr({
                                fill: g,
                                "sweep-flag": 0
                            }).add(o.group),
                            "square" !== c.linecap && n.attr({
                                "stroke-linecap": "round",
                                "stroke-linejoin": "round"
                            }),
                            n.attr({
                                stroke: c.borderColor || "none",
                                "stroke-width": c.borderWidth || 0
                            })),
                            n && n.addClass(t.getClassName(), !0)
                        })
                    },
                    animate: function(t) {
                        t || (this.startAngleRad = this.thresholdAngleRad,
                        e.seriesTypes.pie.prototype.animate.call(this, t))
                    }
                })
            }(e)
        }
        ,
        "object" === typeof e && e.exports ? e.exports = n : void 0 === (a = function() {
            return n
        }
        .call(t, i, t, e)) || (e.exports = a)
    },
    1313: function(e, t, a) {
        "use strict";
        (function(e) {
            var n = a(8)
              , r = a.n(n)
              , o = a(7)
              , s = a(11)
              , l = a(83)
              , c = a(1457)
              , h = a(1570)
              , p = a(1426)
              , d = a(1475)
              , u = a(42)
              , g = a(1458)
              , m = a(322)
              , f = a(248)
              , y = a(1530)
              , v = a(1611)
              , b = a(1296)
              , A = a(1349)
              , C = a(1612)
              , w = a(1337)
              , _ = a(1366)
              , x = new c.a
              , S = function(e) {
                return e && e.activitySummary.get("activityTypeDTO") && e.activitySummary.get("activityTypeDTO").typeKey ? e.activitySummary.get("activityTypeDTO").typeKey : ""
            }
              , T = {
                RunCadence: {
                    name: "RunCadence",
                    seriesKey: "directDoubleCadence",
                    label: "label_run_cadence",
                    unit_key: "run_cadence_unit",
                    defaultChartType: "scatter",
                    mainChartFilter: h.a.prototype.filterNulls,
                    formattingFunction: r.a.bind(s.a.formatWholeNumber, s.a),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0, !0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 2, !0),
                    avgValueKey: "averageRunCadence",
                    helpKey: "directDoubleCadence",
                    colorMapper: function(e) {
                        return e < 153 ? b.a.Colors.red : e < 164 ? b.a.Colors.orange : e < 174 ? b.a.Colors.green : e < 184 ? b.a.Colors.blue : b.a.Colors.purple
                    },
                    workoutTargetTypes: ["CADENCE"]
                },
                BikeCadence: {
                    name: "BikeCadence",
                    seriesKey: "directBikeCadence",
                    label: "label_bike_cadence",
                    getLabel: function() {
                        var e = this.activitySummary.get("activityTypeDTO").typeKey;
                        return s.a.getBikeCadenceChartKey(e, o.a)
                    },
                    unit_key: "bike_cadence_unit",
                    formattingFunction: r.a.bind(s.a.formatWholeNumber, s.a),
                    defaultChartType: "line",
                    avgValueKey: "averageBikeCadence",
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 0, !0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    workoutTargetTypes: ["CADENCE"]
                },
                SurfElevation: {
                    name: "SurfElevation",
                    seriesKey: "directElevation",
                    label: "label_elevation",
                    getLabel: function() {
                        var e = this.activitySummary.get("activityTypeDTO").typeKey;
                        return s.a.isFlyingActivity(e) ? s.a.getElevationLabelKey(s.a.SpeedTypes.Flying) : h.a.prototype.getLabel.call(this)
                    },
                    conversionFunction: r.a.bind(s.a.convertElevation, s.a),
                    createHighChartsPlotBandsOptions: function() {
                        return Object(v.a)(this.activityTypedSplits.toJSON(), this.activityDetails)
                    },
                    formatToolTipRow: function(e, t, i, a, n, r, o, s) {
                        return Object(v.b)(e.activitySummary, e.activityTypedSplits.toJSON(), e.activityDetails, this.formattingFunction, s, i, a, this.xAxisType)
                    },
                    formattingFunction: r.a.bind(s.a.formatElevation, s.a),
                    unit_key: s.a.getElevationUnitKey(),
                    defaultChartType: "line",
                    primaryChartMin: function() {
                        var e = 400;
                        return s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (e *= s.a.ConversionFactors.FeetToMeters),
                        this.getLowerRangeWithMinRange(e, !0)
                    },
                    primaryChartMax: function() {
                        var e = 400;
                        return s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (e *= s.a.ConversionFactors.FeetToMeters),
                        this.getUpperRangeWithMinRange(e)
                    },
                    expandedMin: function() {
                        var e = 1e3;
                        return s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (e *= s.a.ConversionFactors.FeetToMeters),
                        this.getLowerRangeWithMinRange(e, !0)
                    },
                    expandedMax: function() {
                        var e = 1e3;
                        return s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (e *= s.a.ConversionFactors.FeetToMeters),
                        this.getUpperRangeWithMinRange(e)
                    },
                    threshold: -9999
                },
                SurfSpeed: {
                    name: "Speed",
                    seriesKey: "directSpeed",
                    label: "label_speed",
                    getLabel: function() {
                        var e = this.activitySummary.get("activityTypeDTO").typeKey;
                        return s.a.isFlyingActivity(e) ? s.a.getSpeedTypeLabelKey(s.a.SpeedTypes.Flying) : h.a.prototype.getLabel.call(this)
                    },
                    unit_key: function() {
                        return s.a.getSpeedUnitKey(S(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        return s.a.convertSpeed(e, t, S(this))
                    },
                    createHighChartsPlotBandsOptions: function() {
                        return Object(v.a)(this.activityTypedSplits.toJSON(), this.activityDetails)
                    },
                    formatToolTipRow: function(e, t, i, a, n, r, o, s) {
                        return Object(v.b)(e.activitySummary, e.activityTypedSplits.toJSON(), e.activityDetails, this.formattingFunction, s, i, a, this.xAxisType)
                    },
                    formattingFunction: r.a.bind(s.a.formatSpeed, s.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 0, !0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    workoutTargetTypes: ["SPEED", "SPEED_LAP"]
                },
                SurfHeartRate: {
                    name: "SurfHeartRate",
                    seriesKey: "directHeartRate",
                    label: "label_heart_rate",
                    unit_key: s.a.getHeartRateUnitKey(),
                    defaultChartType: "line",
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    avgValueKey: "averageHR",
                    createHighChartsPlotBandsOptions: function() {
                        return Object(v.a)(this.activityTypedSplits.toJSON(), this.activityDetails)
                    },
                    formatToolTipRow: function(e, t, i, a, n, r, o, s) {
                        return Object(v.b)(e.activitySummary, e.activityTypedSplits.toJSON(), e.activityDetails, this.formattingFunction, s, i, a, this.xAxisType)
                    },
                    formattingFunction: r.a.bind(s.a.personalizeHeartRate, s.a),
                    workoutTargetTypes: ["HEART_RATE", "HEART_RATE_LAP"]
                },
                Speed: {
                    name: "Speed",
                    seriesKey: "directSpeed",
                    label: "label_speed",
                    getLabel: function() {
                        var e = this.activitySummary.get("activityTypeDTO").typeKey;
                        return s.a.isFlyingActivity(e) ? s.a.getSpeedTypeLabelKey(s.a.SpeedTypes.Flying) : h.a.prototype.getLabel.call(this)
                    },
                    unit_key: function() {
                        return s.a.getSpeedUnitKey(S(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        return s.a.convertSpeed(e, t, S(this))
                    },
                    formatToolTipRow: function(e, t, i, a, n, r, o, s) {
                        return this.activityDetails.hasGForceData() && s && s.y ? this.formattingFunction(s.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: r.a.bind(s.a.formatSpeed, s.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 0, !0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    workoutTargetTypes: ["SPEED", "SPEED_LAP"]
                },
                Pace: {
                    name: "Pace",
                    seriesKey: "directSpeed",
                    label: "label_pace",
                    paceProCompatible: !0,
                    unit_key: function() {
                        return s.a.getPaceUnitKey(S(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        return "rowing" !== S(this) && "indoor_rowing" !== S(this) ? s.a.convertFractionalPace(e) : s.a.convertRowingPace(e)
                    },
                    formattingFunction: r.a.bind(s.a.formatPace, s.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 2),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 2),
                    reversed: !0,
                    threshold: 9999,
                    workoutTargetTypes: ["SPEED", "SPEED_LAP"],
                    shouldBeVisible: function() {
                        return !u.h.isUltraRunActivity(S(this))
                    }
                },
                LapAveragePace: {
                    name: "Lap Average Pace",
                    seriesKey: "directSpeed",
                    label: "pace_chart_lap_avg",
                    unit_key: function() {
                        return s.a.getPaceUnitKey(S(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        return s.a.convertFractionalPace(e)
                    },
                    formattingFunction: r.a.bind(s.a.formatPace, s.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 2),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 2),
                    reversed: !0,
                    threshold: 9999,
                    shouldBeVisible: function() {
                        return !1
                    },
                    buildData: function(e, t) {
                        var i, a, n, r, o, c, h = this, p = this.activitySplits.get("lapDTOs"), d = [];
                        return p.forEach(function(e, t) {
                            if (i = l.a.parseISOUTC(e.startTimeGMT).getTime(),
                            n = _.a.findClosest(h.activityDetails.get("directTimestamp"), i),
                            c = h.conversionFunction(e.averageSpeed, h.measurementSystem()),
                            t === h.activitySplits.get("lapDTOs").length - 1 ? r = h.activityDetails.get("directTimestamp").length : (a = l.a.parseISOUTC(h.activitySplits.get("lapDTOs")[t + 1].startTimeGMT).getTime(),
                            r = _.a.findClosest(h.activityDetails.get("directTimestamp"), a)),
                            o = r - n,
                            "sumDuration" === h.xAxisType)
                                for (var p = 0; p < o; p++)
                                    d.push({
                                        x: h.activityDetails.get("sumDuration")[n + p],
                                        y: c
                                    });
                            else
                                for (var u = 0; u < o; u++) {
                                    var g = s.a.convertDistance(h.activityDetails.get("sumDistance")[n + u], h.activitySummary.getActivityTypeKey());
                                    d.push({
                                        x: g,
                                        y: c
                                    })
                                }
                        }),
                        d
                    }
                },
                LapAveragePaceWithRest: {
                    name: "Lap Average Pace With Rest",
                    seriesKey: "directSpeed",
                    isTransparent: !0,
                    isRest: !0,
                    label: "pace_chart_lap_avg",
                    unit_key: function() {
                        return s.a.getPaceUnitKey(S(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        return s.a.convertFractionalPace(e)
                    },
                    formattingFunction: r.a.bind(s.a.personalizeDuration, s.a),
                    formatToolTipRow: function(e, t, i, a, n, r, s, l, c) {
                        var h = l || c;
                        if (h && h.type && h.type === f.c)
                            return o.a.localize("manualActivity.restTime") + ": " + this.formattingFunction(h.splitDuration)
                    },
                    avgValueKey: "averageSpeed",
                    reversed: !0,
                    threshold: 9999,
                    shouldBeVisible: function() {
                        return !!u.h.isUltraRunActivity(S(this))
                    },
                    buildData: function(e, t) {
                        var i = this
                          , a = this.activitySplits.get("lapDTOs")
                          , n = this.activityTypedSplits.toJSON()
                          , r = this.conversionFunction(this.activitySummary.get("averageSpeed"), this.measurementSystem());
                        n.length && n.forEach(function(e) {
                            if (e.lapIndexes) {
                                var t = e.lapIndexes[0];
                                a[t].splitType = e.type,
                                a[t].splitDuration = e.duration
                            }
                        });
                        var o, c, h, p, d, u, g = [];
                        return a.forEach(function(e, t) {
                            if (o = l.a.parseISOUTC(e.startTimeGMT).getTime(),
                            h = _.a.findClosest(i.activityDetails.get("directTimestamp"), o),
                            u = e.splitType === f.c ? r : null,
                            t === i.activitySplits.get("lapDTOs").length - 1 ? p = i.activityDetails.get("directTimestamp").length : (c = l.a.parseISOUTC(i.activitySplits.get("lapDTOs")[t + 1].startTimeGMT).getTime(),
                            p = _.a.findClosest(i.activityDetails.get("directTimestamp"), c)),
                            d = p - h,
                            "sumDuration" === i.xAxisType)
                                for (var a = 0; a < d; a++)
                                    g.push({
                                        x: i.activityDetails.get("sumDuration")[h + a],
                                        y: u,
                                        type: e.splitType ? e.splitType : null,
                                        splitDuration: e.splitDuration
                                    });
                            else
                                for (var n = 0; n < d; n++) {
                                    var m = s.a.convertDistance(i.activityDetails.get("sumDistance")[h + n], i.activitySummary.getActivityTypeKey());
                                    g.push({
                                        x: m,
                                        y: u,
                                        type: e.splitType ? e.splitType : null,
                                        splitDuration: e.splitDuration
                                    })
                                }
                        }),
                        g
                    }
                },
                PaceProComparePace: {
                    name: "paceProComparePace",
                    seriesKey: "directSpeed",
                    label: "pace_pro_chart_split_avg",
                    paceProCompatible: !0,
                    unit_key: function() {
                        return s.a.getPaceUnitKey(S(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        return s.a.convertFractionalPace(e)
                    },
                    formattingFunction: r.a.bind(s.a.formatPace, s.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 2),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 2),
                    reversed: !0,
                    threshold: 9999,
                    shouldBeVisible: function() {
                        return !1
                    },
                    buildData: function(e, t) {
                        var i, a, n, r, o, c, h = this, p = this.activitySplits.get("lapDTOs"), d = [];
                        return p.forEach(function(e, t) {
                            if (i = l.a.parseISOUTC(e.startTimeGMT).getTime(),
                            n = _.a.findClosest(h.activityDetails.get("directTimestamp"), i),
                            c = h.conversionFunction(e.averageSpeed, h.measurementSystem()),
                            t === h.activitySplits.get("lapDTOs").length - 1 ? r = h.activityDetails.get("directTimestamp").length : (a = l.a.parseISOUTC(h.activitySplits.get("lapDTOs")[t + 1].startTimeGMT).getTime(),
                            r = _.a.findClosest(h.activityDetails.get("directTimestamp"), a)),
                            o = r - n,
                            "sumDuration" === h.xAxisType)
                                for (var p = 0; p < o; p++)
                                    d.push({
                                        x: h.activityDetails.get("sumDuration")[n + p],
                                        y: c
                                    });
                            else
                                for (var u = 0; u < o; u++) {
                                    var g = s.a.convertDistance(h.activityDetails.get("sumDistance")[n + u], h.activitySummary.getActivityTypeKey());
                                    d.push({
                                        x: g,
                                        y: c
                                    })
                                }
                        }),
                        d
                    }
                },
                OpenWaterSwimPace: {
                    name: "OpenWaterSwimPace",
                    seriesKey: "directSpeed",
                    label: "label_swim_pace",
                    unit_key: s.a.getSwimPaceUnitKey(),
                    defaultChartType: "line",
                    conversionFunction: r.a.bind(s.a.convertFractionalSwimPace, s.a),
                    formattingFunction: r.a.bind(s.a.formatPace, s.a),
                    avgValueKey: "averageSpeed",
                    reversed: !0,
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, .6),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, .6),
                    threshold: 9999
                },
                OpenWaterSwimSpeed: {
                    name: "OpenWaterSwimSpeed",
                    seriesKey: "directSpeed",
                    label: "label_speed",
                    unit_key: s.a.getSwimSpeedUnitKey(),
                    defaultChartType: "line",
                    conversionFunction: r.a.bind(s.a.convertSwimSpeed, s.a),
                    formattingFunction: r.a.bind(s.a.formatSpeed, s.a),
                    avgValueKey: "averageSpeed",
                    expandedMin: 0
                },
                OpenWaterSwimStrokes: {
                    name: "OpenWaterSwimStrokes",
                    seriesKey: "directSwimCadence",
                    label: "label_strokes",
                    unit_key: "swim_cadence_unit",
                    formattingFunction: r.a.bind(s.a.formatWholeNumber, s.a),
                    defaultChartType: "line",
                    avgValueKey: "averageSwimCadence",
                    expandedMin: 0
                },
                HeartRate: {
                    name: "HeartRate",
                    seriesKey: "directHeartRate",
                    label: "label_heart_rate",
                    unit_key: s.a.getHeartRateUnitKey(),
                    defaultChartType: "line",
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    avgValueKey: "averageHR",
                    formatToolTipRow: function(e, t, i, a, n, r, o, s) {
                        return this.activityDetails.hasGForceData() && s && s.y ? this.formattingFunction(s.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: r.a.bind(s.a.personalizeHeartRate, s.a),
                    workoutTargetTypes: ["HEART_RATE", "HEART_RATE_LAP"]
                },
                HeartRateLapSwimming: {
                    name: "HeartRateLapSwimming",
                    seriesKey: "directHeartRate",
                    label: "label_heart_rate",
                    unit_key: s.a.getHeartRateUnitKey(),
                    defaultChartType: "line",
                    mainChartFilter: function(e) {
                        var t = this.activitySummary.get("duration");
                        return r.a.reject(e, function(e) {
                            return e[0] > t
                        })
                    },
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    avgValueKey: "averageHR",
                    formattingFunction: r.a.bind(s.a.personalizeHeartRate, s.a),
                    getXAxisKey: function() {
                        return this.xAxisType === A.a.SwimDuration ? "interpolatedSwimDuration" : this.xAxisType === A.a.SwimLengths ? "interpolatedSwimLengths" : this.xAxisType === A.a.SwimDistance ? "interpolatedSwimDistance" : null
                    }
                },
                Elevation: {
                    name: "Elevation",
                    seriesKey: "directElevation",
                    label: "label_elevation",
                    getLabel: function() {
                        var e = this.activitySummary.get("activityTypeDTO").typeKey;
                        return s.a.isFlyingActivity(e) ? s.a.getElevationLabelKey(s.a.SpeedTypes.Flying) : h.a.prototype.getLabel.call(this)
                    },
                    conversionFunction: r.a.bind(s.a.convertElevation, s.a),
                    formatToolTipRow: function(e, t, i, a, n, r, o, s) {
                        return this.activityDetails.hasGForceData() && s && s.y ? this.formattingFunction(s.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: r.a.bind(s.a.formatElevation, s.a),
                    unit_key: s.a.getElevationUnitKey(),
                    defaultChartType: "line",
                    primaryChartMin: function() {
                        var e = 400;
                        return this.props.canViewImprovedElevationsScaling ? s.a.convertMetersFt(this.activitySummary.get("summaryDTO").minElevation) : (s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (e *= s.a.ConversionFactors.FeetToMeters),
                        this.getLowerRangeWithMinRange(e, !0))
                    },
                    primaryChartMax: function() {
                        var e = this.activitySummary.get("minElevation")
                          , t = this.activitySummary.get("maxElevation")
                          , i = 400
                          , a = 0 === e;
                        if (this.props.canViewImprovedElevationsScaling) {
                            var n = s.a.convertMetersFt(this.activitySummary.get("summaryDTO").minElevation);
                            return t - e < 12 ? a ? n + Math.round(s.a.convertMetersFt(u.b.POSITIVE_SCALE)) : n + Math.round(s.a.convertMetersFt(u.b.NEGATIVE_SCALE)) : s.a.convertMetersFt(this.activitySummary.get("summaryDTO").maxElevation)
                        }
                        return s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (i *= s.a.ConversionFactors.FeetToMeters),
                        this.getUpperRangeWithMinRange(i)
                    },
                    expandedMin: function() {
                        var e = 1e3
                          , t = this.activitySummary.get("minElevation")
                          , i = this.activitySummary.get("maxElevation")
                          , a = 0 === t || t < 0;
                        if (this.props.canViewImprovedElevationsScaling) {
                            var n = s.a.convertMetersFt(this.activitySummary.get("summaryDTO").minElevation);
                            return i - t < 12 && !a ? s.a.measurementSystem === s.a.MeasurementSystems.METRIC ? n - Math.round(s.a.convertMetersFt(u.b.EXPANDED_NEGATIVE_SCALE)) : n - Math.round(s.a.convertMetersFt(u.b.POSITIVE_SCALE)) : s.a.convertMetersFt(this.activitySummary.get("summaryDTO").minElevation)
                        }
                        return s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (e *= s.a.ConversionFactors.FeetToMeters),
                        this.getLowerRangeWithMinRange(e, !0)
                    },
                    expandedMax: function() {
                        var e = this.props.canViewImprovedElevationsScaling
                          , t = 1e3
                          , i = this.activitySummary.get("minElevation")
                          , a = this.activitySummary.get("maxElevation");
                        if (e) {
                            var n = s.a.convertMetersFt(this.activitySummary.get("summaryDTO").minElevation);
                            return a - i <= 12 ? s.a.measurementSystem === s.a.MeasurementSystems.METRIC ? n + Math.round(s.a.convertMetersFt(u.b.NEGATIVE_SCALE)) : n + Math.round(s.a.convertMetersFt(u.b.EXPANDED_POSITIVE_SCALE)) : s.a.convertMetersFt(this.activitySummary.get("summaryDTO").maxElevation)
                        }
                        return s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (t *= s.a.ConversionFactors.FeetToMeters),
                        this.getUpperRangeWithMinRange(t)
                    },
                    threshold: -9999
                },
                ClimbAscent: {
                    name: "ClimbAscent",
                    seriesKey: "directElevation",
                    label: "label_climb_ascent",
                    defaultChartType: "line",
                    conversionFunction: r.a.bind(s.a.convertElevation, s.a),
                    formatToolTipRow: function(e, t, i, a, n, r, o, s) {
                        var l = e.props.indoorClimbDifficulty;
                        return Object(y.b)(e.activitySummary, e.activityTypedSplits, this.formattingFunction, s, i, a, this.xAxisType, l)
                    },
                    hasData: function() {
                        return this.activityDetails.hasData(this.seriesKey) && this.activityTypedSplits.getSplitsOfType(m.b.CLIMB_ACTIVE).length
                    },
                    buildData: function() {
                        return Object(y.a)(this.data, this.activitySummary, this.activityTypedSplits, this.conversionFunction, this.measurementSystem(), this.xAxisType)
                    },
                    getAvgValue: function(e) {
                        var t = this.activitySplitSummaries.find({
                            splitType: m.b.CLIMB_ACTIVE
                        })
                          , i = t ? t.get("averageElevationGain") : void 0;
                        if (void 0 !== i && null !== i)
                            return this.conversionFunction(i, e || this.measurementSystem())
                    },
                    hasAvgValue: function() {
                        return !0
                    },
                    formattingFunction: r.a.bind(s.a.formatElevation, s.a),
                    unit_key: s.a.getElevationUnitKey(),
                    primaryChartMin: function() {
                        return 0
                    },
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 2, !0),
                    expandedMin: function() {
                        return 0
                    },
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 2, !0)
                },
                Gforce: {
                    name: "Gforce",
                    seriesKey: "directGforce",
                    label: "label_g_force",
                    unit_key: "g_force_unit",
                    defaultChartType: "line",
                    mainChartFilter: h.a.prototype.filterNulls,
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    avgValueKey: "averageGforce",
                    formatToolTipRow: function(e, t, i, a, n, r, o, s) {
                        return s && s.y ? this.formattingFunction(s.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: function(e) {
                        return s.a.formatDecimalNumber(e, 1, "##,##0")
                    }
                },
                GroundContactTime: {
                    name: "GroundContactTime",
                    seriesKey: "directGroundContactTime",
                    label: "label_ground_contact_time",
                    formattingFunction: r.a.bind(s.a.personalizeVerticalOscillation, s.a),
                    unit_key: s.a.getGroundContactTimeUnitKey(),
                    defaultChartType: "scatter",
                    avgValueKey: "groundContactTime",
                    mainChartFilter: h.a.prototype.filterNulls,
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 2),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 2),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    colorMapper: function(e) {
                        return e < 218 ? b.a.Colors.purple : e < 249 ? b.a.Colors.blue : e < 278 ? b.a.Colors.green : e < 309 ? b.a.Colors.orange : b.a.Colors.red
                    },
                    helpKey: "directGroundContactTime",
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                GroundContactTimeBalance: {
                    name: "GroundContactTimeBalance",
                    seriesKey: "directGroundContactBalanceLeft",
                    label: "label_ground_contact_time_balance",
                    unit_key: "percentage_unit",
                    defaultChartType: "scatter",
                    expandedMin: 40,
                    expandedMax: 60,
                    primaryChartMin: 40,
                    primaryChartMax: 60,
                    mainChartFilter: h.a.prototype.filterNulls,
                    avgValueKey: "groundContactBalanceLeft",
                    helpKey: "directGroundContactTimeBalance",
                    yAxisFormattingFunction: function(e, t) {
                        return e < 50 ? o.a.localize("power_balance_right_format", 100 - e) : e > 50 ? o.a.localize("power_balance_left_format", e) : "50/50"
                    },
                    conversionFunction: function(e) {
                        return e
                    },
                    formatToolTipRow: function(e, t, i, a, n, r, l) {
                        var c = s.a.getGroundContactBalance(i);
                        return o.a.localize(s.a.getPowerBalanceUnitKey(), c.left, c.right)
                    },
                    colorMapper: function(e) {
                        return e < 47.6 ? b.a.Colors.red : e >= 47.6 && e <= 49.4 ? b.a.Colors.orange : e >= 49.3 && e <= 50.7 ? b.a.Colors.green : e >= 50.6 && e <= 52.2 ? b.a.Colors.orange : e > 52.2 ? b.a.Colors.red : void 0
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                VerticalOscillation: {
                    name: "VerticalOscillation",
                    seriesKey: "directVerticalOscillation",
                    label: "label_vert_oscillation",
                    unit_key: s.a.getVerticalOscillationUnitKey(),
                    formattingFunction: r.a.bind(s.a.personalizeVerticalOscillation, s.a),
                    defaultChartType: "scatter",
                    avgValueKey: "verticalOscillation",
                    mainChartFilter: h.a.prototype.filterNulls,
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 2),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 2),
                    helpKey: "directVerticalOscillation",
                    helpKeyAdditionalData: function() {
                        var e = !!this.activitySummary && this.activitySummary.hasPodSenor();
                        return b.a.getVerticalOscillationColorRange(e)
                    },
                    colorMapper: function(t) {
                        var i = this.activitySummary && this.activitySummary.hasPodSenor() || !1
                          , a = b.a.getVerticalOscillationColorRange(i);
                        return (t = +e.formatNumber(t, {
                            format: "####0.0"
                        })) < a.Purple.cutoffMax ? b.a.Colors.purple : t <= a.Blue.cutoffMax ? b.a.Colors.blue : t <= a.Green.cutoffMax ? b.a.Colors.green : t <= a.Orange.cutoffMax ? b.a.Colors.orange : b.a.Colors.red
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                VerticalRatio: {
                    name: "VerticalRatio",
                    seriesKey: "directVerticalRatio",
                    label: "label_vert_ratio",
                    expandedMin: 0,
                    expandedMax: 20,
                    unit_key: s.a.getVerticalRatioUnitKey(),
                    formattingFunction: r.a.bind(s.a.personalizeVerticalRatio, s.a),
                    defaultChartType: "scatter",
                    avgValueKey: "verticalRatio",
                    mainChartFilter: h.a.prototype.filterNulls,
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 2),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 2),
                    helpKey: "directVerticalRatio",
                    helpKeyAdditionalData: function() {
                        var e = !!this.activitySummary && this.activitySummary.hasPodSenor();
                        return b.a.getVerticalRatioColorRange(e)
                    },
                    colorMapper: function(t) {
                        var i = this.activitySummary && this.activitySummary.hasPodSenor() || !1
                          , a = b.a.getVerticalRatioColorRange(i);
                        return (t = +e.formatNumber(t, {
                            format: "####0.0"
                        })) < a.Purple.cutoffMax ? b.a.Colors.purple : t <= a.Blue.cutoffMax ? b.a.Colors.blue : t <= a.Green.cutoffMax ? b.a.Colors.green : t <= a.Orange.cutoffMax ? b.a.Colors.orange : b.a.Colors.red
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                Temperature: {
                    name: "Temperature",
                    seriesKey: "directAirTemperature",
                    label: "label_temperature",
                    avgValueKey: "averageTemperature",
                    unit_key: s.a.getTemperatureUnitKey(),
                    conversionFunction: r.a.bind(s.a.convertTemperature, s.a),
                    formattingFunction: r.a.bind(s.a.formatTemperature, s.a),
                    defaultChartType: "line",
                    primaryChartMin: function() {
                        var e = 10;
                        return s.a.measurementSystem === s.a.MeasurementSystems.METRIC && (e *= 5 / 9),
                        this.getLowerRangeWithMinRange(e)
                    },
                    primaryChartMax: function() {
                        var e = 10;
                        return s.a.measurementSystem === s.a.MeasurementSystems.METRIC && (e *= 5 / 9),
                        this.getUpperRangeWithMinRange(e)
                    },
                    expandedMin: function() {
                        var e = 30;
                        return s.a.measurementSystem === s.a.MeasurementSystems.METRIC && (e *= 5 / 9),
                        this.getLowerRangeWithMinRange(e)
                    },
                    expandedMax: function() {
                        var e = 30;
                        return s.a.measurementSystem === s.a.MeasurementSystems.METRIC && (e *= 5 / 9),
                        this.getUpperRangeWithMinRange(e)
                    },
                    threshold: -9999
                },
                LeftRightPowerBalance: {
                    name: "LeftRightPowerBalance",
                    seriesKey: "directRightBalance",
                    label: "label_left_right_balance",
                    unit_key: "",
                    defaultChartType: "scatter",
                    expandedMin: 0,
                    expandedMax: 100,
                    mainChartFilter: h.a.prototype.filterNulls,
                    yAxisFormattingFunction: function(e, t) {
                        return e < 50 ? o.a.localize("power_balance_right_format", 100 - e) : e > 50 ? o.a.localize("power_balance_left_format", e) : "50/50"
                    },
                    conversionFunction: function(e) {
                        return 100 - e
                    },
                    formatToolTipRow: function(e, t, i, a, n, r, l) {
                        var c = i
                          , h = 100 - c;
                        return o.a.localize(s.a.getPowerBalanceUnitKey(), c, h)
                    }
                },
                PowerWatts: {
                    name: "PowerWatts",
                    seriesKey: "directPower",
                    label: ["label_full_power", "label_power_unit"],
                    avgValueKey: "averagePower",
                    unit_key: s.a.getPowerUnitKey(),
                    defaultChartType: "line",
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 0, !0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    formattingFunction: r.a.bind(s.a.personalizePower, s.a),
                    chartRangeSelectorType: C.a,
                    workoutTargetTypes: ["POWER", "POWER_3S", "POWER_10S", "POWER_30S", "POWER_LAP"],
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                PowerKg: {
                    name: "PowerKg",
                    seriesKey: "directPower",
                    label: ["label_full_power", "label_power_kg"],
                    avgValueKey: "averagePower",
                    unit_key: "label_power_kg",
                    defaultChartType: "line",
                    expandedMin: 0,
                    conversionFunction: function(e) {
                        return e / this.usersWeight
                    },
                    formattingFunction: r.a.bind(s.a.personalizePowerKg, s.a),
                    chartRangeSelectorType: C.a,
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPPStart: {
                    name: "LeftPPStart",
                    seriesKey: "directLeftPowerPhaseStart",
                    label: "label_cd_left_power_phase_start",
                    parentLabel: "label_cd_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    reversed: !0,
                    mainChartFilter: h.a.prototype.filterNulls,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(d.a.rebaseDegrees(e, -90))
                    },
                    conversionFunction: function(e) {
                        return d.a.rebaseDegrees(e, 90)
                    },
                    formatToolTipRow: function(e, t, i, a, n, r, s, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + o.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135, 180],
                    expandedMin: 0,
                    expandedMax: 180,
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPPStart: {
                    name: "RightPPStart",
                    seriesKey: "directRightPowerPhaseStart",
                    label: "label_cd_right_power_phase_start",
                    parentLabel: "label_cd_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    reversed: !0,
                    mainChartFilter: h.a.prototype.filterNulls,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(d.a.rebaseDegrees(e, -90))
                    },
                    conversionFunction: function(e) {
                        return d.a.rebaseDegrees(e, 90)
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135, 180],
                    expandedMin: 0,
                    expandedMax: 180,
                    formatToolTipRow: function(e, t, i, a, n, r, s, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + o.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPeakPPStart: {
                    name: "LeftPeakPPStart",
                    seriesKey: "directLeftPowerPhasePeakStart",
                    label: "label_cd_left_peak_power_phase_start",
                    parentLabel: "label_cd_peak_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: h.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(e)
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135],
                    expandedMin: 0,
                    expandedMax: 135,
                    formatToolTipRow: function(e, t, i, a, n, r, s, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + o.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPeakPPStart: {
                    name: "RightPeakPPStart",
                    seriesKey: "directRightPowerPhasePeakStart",
                    label: "label_cd_right_peak_power_phase_start",
                    parentLabel: "label_cd_peak_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: h.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(e)
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135],
                    expandedMin: 0,
                    expandedMax: 135,
                    formatToolTipRow: function(e, t, i, a, n, r, s, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + o.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPPEnd: {
                    name: "LeftPPEnd",
                    seriesKey: "directLeftPowerPhaseEnd",
                    label: "label_cd_left_power_phase_end",
                    parentLabel: "label_cd_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: h.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(d.a.rebaseDegrees(e, 90))
                    },
                    conversionFunction: function(e) {
                        return d.a.rebaseDegrees(e, -90)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180, 225],
                    expandedMin: 45,
                    expandedMax: 225,
                    formatToolTipRow: function(e, t, i, a, n, r, s, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + o.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPPEnd: {
                    name: "RightPPEnd",
                    seriesKey: "directRightPowerPhaseEnd",
                    label: "label_cd_right_power_phase_end",
                    parentLabel: "label_cd_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: h.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(d.a.rebaseDegrees(e, 90))
                    },
                    conversionFunction: function(e) {
                        return d.a.rebaseDegrees(e, -90)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180, 225],
                    expandedMin: 45,
                    expandedMax: 225,
                    formatToolTipRow: function(e, t, i, a, n, r, s, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + o.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPeakPPEnd: {
                    name: "LeftPeakPPEnd",
                    seriesKey: "directLeftPowerPhasePeakEnd",
                    label: "label_cd_left_peak_power_phase_end",
                    parentLabel: "label_cd_peak_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: h.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(e)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180],
                    expandedMin: 45,
                    expandedMax: 180,
                    formatToolTipRow: function(e, t, i, a, n, r, s, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + o.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPeakPPEnd: {
                    name: "RightPeakPPEnd",
                    seriesKey: "directRightPowerPhasePeakEnd",
                    label: "label_cd_right_peak_power_phase_end",
                    parentLabel: "label_cd_peak_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: h.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(e)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180],
                    expandedMin: 45,
                    expandedMax: 180,
                    formatToolTipRow: function(e, t, i, a, n, r, s, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + o.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPCO: {
                    name: "LeftPCO",
                    seriesKey: "directLeftPlatformCenterOffset",
                    label: "label_cd_left_pedal_center_offset",
                    avgValueKey: "leftPlatformCenterOffset",
                    unit_key: "platform_center_offset_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 1,
                    primaryChartMin: -30,
                    primaryChartMax: 30,
                    expandedMin: -30,
                    expandedMax: 30,
                    tickInterval: 15,
                    mainChartFilter: h.a.prototype.filterBadPCOs,
                    formattingFunction: r.a.bind(s.a.personalizePlatformCenterOffset, s.a),
                    plotLines: [{
                        color: "#888888",
                        width: 2,
                        value: 0
                    }]
                },
                RightPCO: {
                    name: "RightPCO",
                    seriesKey: "directRightPlatformCenterOffset",
                    label: "label_cd_right_pedal_center_offset",
                    avgValueKey: "rightPlatformCenterOffset",
                    unit_key: "platform_center_offset_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 1,
                    primaryChartMin: -30,
                    primaryChartMax: 30,
                    expandedMin: -30,
                    expandedMax: 30,
                    tickInterval: 15,
                    mainChartFilter: h.a.prototype.filterBadPCOs,
                    conversionFunction: function(e) {
                        return -e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePlatformCenterOffset(-e)
                    },
                    plotLines: [{
                        color: "#888888",
                        width: 2,
                        value: 0
                    }]
                },
                SwimPace: {
                    name: "SwimPace",
                    seriesKey: "weightedMeanSpeed",
                    label: "label_swim_pace",
                    unit_key: function(e) {
                        return s.a.getSwimPaceUnitKey(e)
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        var i = this.activitySummary.get("unitOfPoolLength").unitKey
                          , a = s.a.poolUnitKeyToMeasurementSystem(i);
                        return s.a.convertFractionalSwimPace(e, a)
                    },
                    formattingFunction: function(e) {
                        var t = this.activitySummary.get("unitOfPoolLength").unitKey
                          , i = s.a.poolUnitKeyToMeasurementSystem(t);
                        return e >= 60 ? "--" : s.a.formatPace(e, i)
                    },
                    mainChartFilter: h.a.prototype.filterRestsIfXAxisIsDistance,
                    avgValueKey: "averageSpeed",
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: function() {
                        return h.a.prototype.calculateMax.call(this, 60) + 1
                    },
                    reversed: !0
                },
                SwimSpeed: {
                    name: "SwimSpeed",
                    seriesKey: "weightedMeanSpeed",
                    label: "label_speed",
                    unit_key: function(e) {
                        return s.a.getSwimSpeedUnitKey(e)
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        return s.a.convertSwimSpeed(e, t)
                    },
                    formattingFunction: function(e) {
                        var t = this.activitySummary.get("unitOfPoolLength").unitKey
                          , i = s.a.poolUnitKeyToMeasurementSystem(t);
                        return s.a.formatSpeed(e, i)
                    },
                    mainChartFilter: h.a.prototype.filterRestsIfXAxisIsDistance
                },
                SwimStrokes: {
                    name: "SwimStrokes",
                    seriesKey: "sumStrokes",
                    label: "label_strokes",
                    unit_key: s.a.getStrokesUnitKey(),
                    defaultChartType: "line",
                    expandedMin: 0,
                    mainChartFilter: h.a.prototype.filterRestsIfXAxisIsDistance
                },
                SwimSwolf: {
                    name: "SwimSwolf",
                    seriesKey: "weightedMeanSwolf",
                    label: "label_swolf",
                    unit_key: "label_swolf",
                    defaultChartType: "line",
                    expandedMin: 0,
                    mainChartFilter: h.a.prototype.filterRestsIfXAxisIsDistance
                },
                SwimLengths: {
                    name: "SwimLengths",
                    seriesKey: "sumDuration",
                    label: "label_swim_lengths",
                    unit_key: null,
                    defaultChartType: "column",
                    formattingFunction: r.a.bind(s.a.personalizeDuration, s.a)
                },
                StrideLength: {
                    name: "StrideLength",
                    seriesKey: "directStrideLength",
                    label: "label_stride_length",
                    unit_key: s.a.getAvgStrideLengthUnitKey(),
                    defaultChartType: "scatter",
                    mainChartFilter: h.a.prototype.filterNulls,
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    avgValueKey: "strideLength",
                    formattingFunction: r.a.bind(s.a.formatStrideLength, s.a),
                    conversionFunction: r.a.bind(s.a.convertStrideLength, s.a)
                },
                StrokeRate: {
                    name: "StrokeRate",
                    seriesKey: "directStrokeCadence",
                    label: "label_chart_stroke_rate",
                    unit_key: "rowing_cadence_unit",
                    formattingFunction: r.a.bind(s.a.formatWholeNumber, s.a),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    defaultChartType: "line",
                    avgValueKey: "averageStrokeCadence"
                },
                DistancePerStroke: {
                    name: "DistancePerStroke",
                    seriesKey: "directStrokeDistance",
                    label: "label_stroke_distance",
                    mainChartFilter: h.a.prototype.filterNulls,
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    unit_key: function() {
                        return "rowing" !== S(this) ? s.a.getDistancePerStrokeUnitKey() : "distance.meter"
                    },
                    formattingFunction: r.a.bind(s.a.formatDistancePerStroke, s.a),
                    conversionFunction: function(e) {
                        return "rowing" === S(this) ? e : s.a.getAverageStrokeDistance(e)
                    },
                    yAxisFormattingFunction: function(e) {
                        var t = S(this);
                        return "rowing" === t || "stand_up_paddleboarding" === t ? e : s.a.convertDistancePerStroke(e)
                    },
                    defaultChartType: "scatter",
                    avgValueKey: "averageStrokeDistance"
                },
                Position: {
                    name: "Position",
                    seriesKey: "directTimestamp",
                    label: "label_position",
                    unit_key: "",
                    defaultChartType: "line",
                    hasData: function() {
                        var e = p.a.EventSectionTypeKeys.RIDER_POSITION
                          , t = this.activitySplits.getEventDataBySectionTypeKey(e);
                        return t && t.length > 0
                    },
                    buildData: function(e, t) {
                        var i, a, n = 0, r = this.data.length, o = p.a.EventSectionTypeKeys.RIDER_POSITION, l = this.activitySplits.getEventDataBySectionTypeKey(o), c = [];
                        if (l)
                            for (var h = 0, d = l.length; h < d; h++)
                                for (i = l[h].riderPosition,
                                a = h === d - 1 ? this.data[r - 1][1] : l[h + 1].startTimeGMTDoubleValue,
                                n = c.length; n < r && this.data[n][1] <= a; n++)
                                    this.xAxisType === A.a.Distance && (this.data[n][0] = s.a.convertDistance(this.data[n][0], this.activitySummary.getActivityTypeKey())),
                                    c[n] = 0 === h && 1 === i ? [this.data[n][0], 0] : [this.data[n][0], i];
                        return c
                    },
                    getClosestPoint: function(e) {
                        for (var t = this.data, i = t.length, a = 0; a < i && !(t[a][0] >= e); a++)
                            ;
                        var n = Math.min(t.length - 1, a);
                        if (n > 0 && t[n][0] != e) {
                            var r = Math.abs(t[n][0] - e)
                              , o = Math.abs(t[n - 1][0] - e);
                            Math.abs(o - r) <= 1e-5 && n--
                        }
                        return this.data[n]
                    },
                    formatToolTipRow: function(e, t, i, a, n, r, s, l) {
                        return null !== i ? "<span>" + o.a.localize(0 === i ? "label_sitting" : "label_standing") + "</span>" : ""
                    }
                },
                PerformanceCondition: {
                    name: "PerformanceCondition",
                    seriesKey: "directPerformanceCondition",
                    label: "label_performance_condition",
                    defaultChartType: "area",
                    helpKey: "directPerformanceCondition",
                    primaryChartMin: h.a.prototype.getExtremeMin,
                    primaryChartMax: h.a.prototype.getExtremeMax,
                    expandedMin: h.a.prototype.getExtremeMin,
                    expandedMax: h.a.prototype.getExtremeMax,
                    formatToolTipRow: function(e, t, i, a, n, o, s) {
                        return r.a.isNumber(i) ? '<span style="min-width: 64px;">&nbsp;&nbsp;' + (i > 0 ? "+" + i : i) + "&nbsp;&nbsp;</span>" : i
                    }
                },
                Ascent: {
                    name: "Ascent",
                    seriesKey: "directElevation",
                    label: "label_ascent",
                    defaultChartType: "line",
                    conversionFunction: r.a.bind(s.a.convertElevation, s.a),
                    formatToolTipRow: function(e, t, i, a, n, r, o, s) {
                        return this.formattingFunction(i) + " " + a
                    },
                    buildData: function(e, t) {
                        for (var i, a, n, r = [], o = 0, l = this.data.length; o < l; o++)
                            this.data[o] && (n = this.data[0][1],
                            i = this.data[o][0],
                            this.xAxisType === A.a.Distance && (i = s.a.convertDistance(i, this.activitySummary.getActivityTypeKey())),
                            a = this.data[o][1] - n,
                            r[o] = {
                                x: i,
                                y: null === a ? null : this.conversionFunction(a, this.measurementSystem()),
                                color: e.call(this, a)
                            });
                        return r
                    },
                    formattingFunction: r.a.bind(s.a.formatElevation, s.a),
                    unit_key: s.a.getElevationUnitKey(),
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 2),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 2)
                },
                FloorClimbingPace: {
                    name: "FloorClimbingPace",
                    seriesKey: "directVerticalSpeed",
                    label: "label_pace",
                    unit_key: function() {
                        return s.a.getPaceUnitKey(S(this))
                    },
                    defaultChartType: "line",
                    buildData: function(e, t) {
                        for (var i, a, n = [], r = this.data.length; r--; )
                            this.data[r][1] < 0 && this.data.splice(r, 1);
                        var o = 0;
                        for (r = this.data.length; o < r; o++)
                            this.data[o] && (i = this.data[o][0],
                            this.xAxisType === A.a.Distance && (i = s.a.convertDistance(i, this.activitySummary.getActivityTypeKey())),
                            a = this.data[o][1],
                            n[o] = {
                                x: i,
                                y: null === a ? null : this.conversionFunction(a, this.measurementSystem()),
                                color: e.call(this, a)
                            });
                        return n
                    },
                    conversionFunction: r.a.bind(s.a.personalizeFloorClimbingPace, s.a),
                    avgValueKey: "avgVerticalSpeed",
                    primaryChartMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    expandedMin: r.a.partial(h.a.prototype.getLowerRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0)
                },
                TankPressure: {
                    name: "TankPressure",
                    seriesKey: "tankPressure",
                    label: "label_tank_pressure",
                    getLabel: function() {
                        return this.props.tankSensor.name
                    },
                    formattingFunction: r.a.bind(s.a.personalizePressure, s.a),
                    unit_key: function() {
                        var e = this.props.tankSensor;
                        return s.a.personalizePressureUnitKey({
                            unitKey: e.pressureUnit
                        })
                    },
                    defaultChartType: "line",
                    getData: function() {
                        var e = this
                          , t = this.props.tankSensor
                          , a = this.activityDetails.get("directTimestamp").length
                          , n = []
                          , r = t.records.map(function(t) {
                            return [_.a.findClosest(e.activityDetails.get("directTimestamp"), t[0]), t[1]]
                        });
                        return r.forEach(function(t, o) {
                            if (0 === o)
                                for (i = 0; i <= t[0]; i++)
                                    n.push([e.activityDetails.get("sumDuration")[i], t[1]]);
                            else {
                                var s = o === r.length - 1
                                  , l = r[o - 1][0]
                                  , c = s ? a - l - 1 : t[0] - l;
                                for (i = 1; i <= c; i++)
                                    n.push([e.activityDetails.get("sumDuration")[l + i], t[1]])
                            }
                        }),
                        n
                    },
                    hasData: function() {
                        return !!this.props.tankSensor.records.length
                    },
                    getAvgValue: function(e) {
                        var t = this.props.tankSensor;
                        if (!(t.records.length < 1))
                            return t.records.reduce(function(e, t) {
                                return [0, e[1] + t[1]]
                            })[1] / t.records.length
                    },
                    hasAvgValue: function() {
                        return !0
                    },
                    getUniqueName: function() {
                        var e = this.props.tankSensor;
                        return "".concat(this.getName()).concat(e.name)
                    }
                },
                DiveDepth: {
                    name: "DiveDepth",
                    seriesKey: "directDepth",
                    label: "label_depth_profile",
                    conversionFunction: r.a.bind(s.a.convertMetersFt, s.a),
                    formattingFunction: r.a.bind(s.a.formatMetersFt, s.a),
                    unit_key: s.a.getDepthUnitKey(),
                    defaultChartType: "line",
                    reversed: !0,
                    threshold: 9999,
                    avgValueKey: "averageDepth",
                    primaryChartMin: 0,
                    primaryChartMax: function() {
                        return this.getUpperRange()
                    }
                },
                DecoCeiling: {
                    name: "DecoCeiling",
                    seriesKey: "directNextStopDepth",
                    label: "label_depth_profile",
                    conversionFunction: r.a.bind(s.a.convertMetersFt, s.a),
                    formattingFunction: r.a.bind(s.a.formatMetersFt, s.a),
                    unit_key: s.a.getDepthUnitKey(),
                    defaultChartType: "line",
                    reversed: !0,
                    threshold: 0
                },
                SetPointDepth: {
                    name: "SetPointDepth",
                    seriesKey: "directDepth",
                    label: "label_depth_profile",
                    conversionFunction: r.a.bind(s.a.convertMetersFt, s.a),
                    formattingFunction: r.a.bind(s.a.formatMetersFt, s.a),
                    unit_key: s.a.getDepthUnitKey(),
                    defaultChartType: "scatter",
                    threshold: 9999,
                    buildData: function() {
                        for (var e, t, i = [], a = this.activitySplits.getEventDataBySectionTypeKey("DIVE_ALERT"), n = g.a.chartData(this.activitySummary, this.data, a), r = 0, l = n.length; r < l; r++)
                            n[r].x && (e = n[r].x,
                            this.xAxisType === A.a.Distance && (e = s.a.convertDistance(e, this.activitySummary.getActivityTypeKey())),
                            t = n[r].y,
                            name = o.a.localize(g.a.SetPointLabels[n[r].name]),
                            i.push({
                                x: e,
                                y: null === t ? null : this.conversionFunction(t, this.measurementSystem()),
                                color: b.a.Colors.p02Green,
                                pointName: name
                            }));
                        return i
                    },
                    formatToolTipRow: function(e, t, i, a, n, r, o, s) {
                        this.activitySplits.getEventDataBySectionTypeKey("DIVE_ALERT");
                        for (var l = 0, c = this.data.length; l < c; l++)
                            if (s.x === this.data[l].x)
                                return this.data[l].pointName
                    }
                },
                VectorAirDragCdA: {
                    name: "VectorAirDragCdA",
                    seriesKey: "directCda",
                    label: "label_vector_air_drag_cda",
                    helpKey: "vectorAirDragCdA",
                    unit_key: "cda_unit",
                    shouldBeVisible: function() {
                        return !1
                    },
                    formattingFunction: r.a.bind(s.a.formatVectorAirCdA, s.a),
                    helpKeyAdditionalData: function() {
                        return b.a.getVectorAirCdAColorRange()
                    }
                },
                VectorAirDragWattsPerCdA: {
                    name: "VectorAirDragWattsPerCdA",
                    helpKey: "vectorAirDragWattsPerCdA",
                    seriesKey: "directWattsPerCda",
                    label: "label_vector_air_drag_watts_cda",
                    unit_key: "wcda_unit",
                    shouldBeVisible: function() {
                        return !1
                    },
                    formattingFunction: r.a.bind(s.a.formatWholeNumber, s.a),
                    helpKeyAdditionalData: function() {
                        return b.a.getVectorAirWattsPerCdAColorRange()
                    }
                },
                VectorAirWindSpeed: {
                    name: "VectorAirWindSpeed",
                    seriesKey: "directAirSpeed",
                    unit_key: "speed_unit_statute",
                    label: "label_vector_air_wind_speed",
                    buildSecondSeriesData: function() {
                        for (var e = [], t = 0, i = 0, a = this.activityDetails.getData("directWindYawAngle", this.getXAxisKey()), n = 0, r = a.length; n < r; n += 1)
                            a[n] && (t = a[n][1],
                            i = x.getDegreeFromRadian(t),
                            e.push({
                                x: a[n][0],
                                value: this.data[0].y,
                                direction: i
                            }));
                        return e
                    },
                    formattingFunction: r.a.bind(s.a.formatSpeed, s.a)
                },
                Grit: {
                    name: "Grit",
                    seriesKey: "directGrit",
                    label: "label_grit",
                    helpKey: "directGrit",
                    unit_key: null,
                    defaultChartType: "spline",
                    isGradient: !0,
                    gradientRangeMaxes: [{
                        max: u.d.max_1,
                        color: u.d.color_1
                    }, {
                        max: u.d.max_2,
                        color: u.d.color_2
                    }, {
                        max: u.d.max_3,
                        color: u.d.color_3
                    }],
                    formattingFunction: r.a.bind(s.a.peronalizeMTBGrit, s.a),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    expandedMin: 0
                },
                Flow: {
                    name: "Flow",
                    seriesKey: "directFlow",
                    label: "label_flow",
                    helpKey: "directFlow",
                    unit_key: null,
                    defaultChartType: "spline",
                    isGradient: !0,
                    gradientRangeMaxes: [{
                        max: u.c.max_1,
                        color: u.c.color_1
                    }, {
                        max: u.c.max_2,
                        color: u.c.color_2
                    }, {
                        max: u.c.max_3,
                        color: u.c.color_3
                    }],
                    formattingFunction: r.a.bind(s.a.peronalizeMTBFlow, s.a),
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0),
                    expandedMin: 0
                },
                RespirationRate: {
                    name: "RespirationRate",
                    seriesKey: "directRespirationRate",
                    label: "label_respiration_rate",
                    unit_key: "label_respiration_rate_unit",
                    helpKey: "directRespirationRate",
                    defaultChartType: "line",
                    formattingFunction: r.a.bind(s.a.formatWholeNumber, s.a),
                    avgValueKey: "avgRespirationRate",
                    primaryChartMin: 0,
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    tickInterval: 4
                },
                Stress: {
                    name: "Stress",
                    seriesKey: "directCurrentStress",
                    label: "label_stress",
                    defaultChartType: "column",
                    formattingFunction: r.a.bind(s.a.personalizeStress, s.a),
                    primaryChartMin: 0,
                    primaryChartMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: r.a.partial(h.a.prototype.getUpperRange, 0, !0),
                    tickInterval: 25,
                    formatToolTipRow: function(e, t, i, a, n, r, o, s) {
                        return "".concat(i, " (").concat(Object(w.f)(i), ")")
                    }
                }
            };
            for (var E in T)
                if (T.hasOwnProperty(E)) {
                    var k = T[E];
                    T[E] = h.a.extend(k)
                }
            t.a = T
        }
        ).call(this, a(9))
    },
    1316: function(e, t, i) {
        "use strict";
        (function(e) {
            t.a = {
                Map: {
                    Event: {
                        SWAP_MARKER_ID: "swapmarkerid",
                        ELEVATION_CHANGE: "elevationChange",
                        RESET_ROUTE: "resetRoute"
                    },
                    Validator: {},
                    Utils: {
                        MEASURE_STATUTE: "statute",
                        RADIUS_KILOMETERS: 6371,
                        RADIUS_MILES: 3959,
                        FEET_PER_METER: 3.28083989501312,
                        MARKER: "marker-",
                        POLYLINE: "polyline-",
                        LAP_MARKER_URL: "/modern/images/feature/courses/lap-marker-",
                        SHADOW_URL: "/api/activity-search/style/explore/images/pin-shadow.png",
                        METRIC: "metric",
                        GEO_OFFSET: 7e-5,
                        GEO_BUFFER: 7e-5,
                        BUSY_DIV_ID: "loading-mask",
                        MAP_STYLE_ROAD: "road",
                        MAP_STYLE_SATELLITE: "satellite",
                        MAP_STYLE_HYBRID: "hybrid",
                        MAP_STYLE_AUTO: "auto",
                        MAP_STYLE_TERRAIN: "terrain",
                        MAP_STYLE_BICYCLE: "bicycle",
                        MAP_STYLE_OSM: "osm",
                        PROVIDER_TYPE_HERE: "here",
                        PROVIDER_TYPE_GOOGLE: "google",
                        PROVIDER_TYPE_OSM: "osm",
                        PROVIDER_TYPE_NUMAP: "numap",
                        PROVIDER_TYPE_BAIDU: "BAIDU_V_1_4",
                        PROVIDER_TYPE_MOCK: "mock",
                        MAXIMUM_ELEVATION_SAMPLES: 512,
                        MAXIMUM_ELEVATION_PATH_POINTS: 375,
                        LINE_COLOR: [255, 0, 0],
                        LINE_OPACITY: .8,
                        LINE_WIDTH: 4,
                        EVENT_MARKER_CHANGED: "changed",
                        EVENT_MOUSE_CLICK: "click",
                        EVENT_MOUSE_DBLCLICK: "doubleclick",
                        EVENT_MOUSE_DOWN: "mousedown",
                        EVENT_MOUSE_OUT: "mouseout",
                        EVENT_MOUSE_OVER: "mouseover",
                        EVENT_MOUSE_UP: "mouseup",
                        EVENT_MOUSE_WHEEL: "mousewheel",
                        EVENT_MOUSE_RIGHT_CLICK: "rightclick",
                        EVENT_MAP_VIEW_CHANGE_START: "viewchangestart",
                        EVENT_MAP_VIEW_CHANGE_END: "viewchangeend",
                        EVENT_MAP_ZOOM_CHANGED: "zoomchanged",
                        EVENT_MAP_IDLE: "idle",
                        EVENT_DRAG_START: "dragstart",
                        EVENT_DRAG_END: "dragend",
                        EVENT_DRAGGING: "dragging",
                        EVENT_TARGET_MAP: "map",
                        EVENT_TARGET_MARKER: "marker",
                        EVENT_TARGET_POLYLINE: "polyline",
                        EVENT_TOGGLE_HEATMAP_ITEMS: "toggleHeatmapItems",
                        EVENT_OSM_MAP_READY: "osmMapReady",
                        LAYER_POLYLINES: "polylineLayer",
                        LAYER_TERMINUS: "terminusLayer",
                        LAYER_MARKERS: "markerLayer",
                        LAYER_SEGMENTS: "segmentsLayer",
                        LAYER_SEGMENT: "segmentLayer",
                        LAYER_DISTANCE_CLOSE: "distanceLayerClose",
                        LAYER_DISTANCE_MEDIUM: "distanceLayerMedium",
                        LAYER_DISTANCE_FAR: "distanceLayerFar",
                        LAYER_DISTANCE_MAX: "distanceLayerMax",
                        heatmapPreferences: null,
                        heatmapFolderDataList: null,
                        heatmapRenderedTileDataList: {},
                        activityType: ""
                    }
                },
                Queue: {
                    Constants: {
                        GC_SYNC_URL: "connectagent://launch",
                        GC_SYNC_ID: "#notify-agent",
                        DEVICE_IMG_LOCATION: "//static.garmincdn.com/apps/connect/image/devices"
                    },
                    NotificationWidgetQueueIds: {
                        QUEUE_NOTIFICATION: "#notify-agent"
                    },
                    Events: {
                        SEND_TO_DEVICE_FROM_QUEUE: "SEND_TO_DEVICE_FROM_QUEUE",
                        VIEW_PENDING_ITEMS: "VIEW_PENDING_ITEMS",
                        MESSAGE_SENT: "MESSAGE_SENT",
                        RETURN_TO_TRAINING_PLAN: "return.to.trainingplanpageview"
                    },
                    MessageTypes: {
                        ACTIVITIES: {
                            id: 1,
                            type: "courses",
                            name: "activities"
                        },
                        COURSES: {
                            id: 2,
                            type: "courses",
                            name: "courses"
                        },
                        WORKOUTS: {
                            id: 3,
                            type: "workouts",
                            name: "workouts"
                        },
                        PR: {
                            id: 4,
                            type: "personal-records",
                            name: "personal-records"
                        },
                        SCHEDULES: {
                            id: 5,
                            type: "schedules",
                            name: "schedules"
                        },
                        SETTINGS: {
                            id: 6,
                            type: "settings",
                            name: "settings"
                        },
                        ZONES: {
                            id: 6,
                            type: "settings",
                            name: "zones"
                        },
                        GOALS: {
                            id: 7,
                            type: "goals",
                            name: "goals"
                        },
                        SOFTWARE_UPDATE: {
                            id: 8,
                            type: "software_update",
                            name: "software_update"
                        },
                        DEVICE_SETTINGS: {
                            id: 9,
                            type: "device-settings",
                            name: "device-settings"
                        },
                        LANGUAGE_SETTINGS: {
                            id: 10,
                            type: "language-settings",
                            name: "language-settings"
                        },
                        PROFILE: {
                            id: 11,
                            type: "user-profile",
                            name: "user-profile"
                        },
                        SPORTS: {
                            id: 12,
                            type: "sports",
                            name: "sports"
                        },
                        SEGMENT_LEADERS: {
                            id: 14,
                            type: "segment-leaders",
                            name: "segment-leaders"
                        }
                    }
                }
            }
        }
        ).call(this, i(1320))
    },
    1317: function(e, t, i) {
        "use strict";
        e.exports = i(1362)
    },
    1322: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(1349)
              , h = i(1521)
              , p = i(1520)
              , d = i(31)
              , u = i(1412)
              , g = i(2358)
              , m = i(1296)
              , f = i(1476)
              , y = i(2359)
              , v = i(2360)
              , b = i.n(v)
              , A = i(1295)
              , C = i.n(A)
              , w = i(2361)
              , _ = i.n(w)
              , x = i(1901)
              , S = i(42)
              , T = i(248);
            C.a.Annotation || _()(C.a);
            var E = 0
              , k = {
                ON_CHART_ZOOMED: "ON_CHART_ZOOMED",
                ON_CHART_RENDERED: "ON_CHART_RENDERED",
                ON_ZOOM_RESET: "ON_ZOOM_RESET",
                ON_EXPANDED_CHART_CLICKED: "ON_EXPANDED_CHART_CLICKED",
                ON_CHART_FOCUSED: "ON_CHART_FOCUSED",
                ON_RANGE_SELECTED: "ON_RANGE_SELECTED",
                ON_CHART_SELECTOR_TOGGLE: "ON_CHART_SELECTOR_TOGGLE"
            }
              , L = o.a.View.extend({
                template: n.a.template(b.a),
                events: {
                    mousemove: "onMouseMoved",
                    mouseenter: "onMouseEnter",
                    "click .chart-zoom-toggle": "onZoomChartClicked",
                    'click .help-icon[data-toggle="modal"]': "onShowHelpClicked"
                },
                seriesType: "areaspline",
                conversionFunction: null,
                formattingFunction: null,
                fillColor: "ffffff",
                lineWidth: 0,
                fillOpacity: .85,
                reversed: !1,
                removeLowOutliers: !1,
                removeHighOutliers: !1,
                stdDeviations: 2,
                threshold: 9999,
                step: !1,
                zeroThreshold: !1,
                spacingBottom: 8,
                measurementSystem: function() {
                    return l.a.measurementSystem
                },
                chartTitle: function(e) {
                    return "Untitled"
                },
                canExpandChart: function() {
                    return !0
                },
                yLabel: function() {
                    return 0 == this.primarySeries.length ? "" : this.getPrimarySeriesLabel()
                },
                yUnit: function(e) {
                    return e.unit_key ? s.a.localize(n.a.result(e, "unit_key")) : ""
                },
                initialize: function(e) {
                    this.primarySeries = e.primarySeries || [],
                    this.backgroundSeries = e.backgroundSeries || null,
                    this.xAxisType = e.xAxisType,
                    this.plotLineId = E++,
                    this.showXAxisPlotLineLabel = e.showXAxisPlotLineLabel,
                    this.activityDetails = e.activityDetails,
                    this.activitySplits = e.activitySplits,
                    this.activitySummary = e.activitySummary,
                    this.jumps = e.jumps,
                    this.turboThreshold = e.turboThreshold ? e.turboThreshold : 4e3,
                    this.visible = !0,
                    this.redrawOnNextShow = !1,
                    this.hasPaceProSplits = e.hasPaceProSplits,
                    this.overlayData = e.overlayData,
                    this.displayAvgLabel = "undefined" === typeof e.displayAvgLabel || e.displayAvgLabel,
                    C.a.setOptions({
                        global: {
                            useUTC: !1
                        }
                    }),
                    this.playerModel = e.playerModel,
                    n.a.each(this.primarySeries, function(e) {
                        e.chartColorMapperObject = m.a,
                        e.generateData(void 0, !0)
                    }, this),
                    this.initializeView && this.initializeView.call(this),
                    this.rendered = !1
                },
                initializeView: function() {
                    return this
                },
                shouldBeVisible: function() {
                    var e = !1;
                    return n.a.each(this.primarySeries, function(t) {
                        t.shouldBeVisible() && (e = !0)
                    }),
                    e
                },
                setXAxisType: function(e) {
                    e != this.xAxisType && (this.xAxisType = e,
                    n.a.each(this.primarySeries, function(t) {
                        t.setXAxisType(e),
                        t.generateData(void 0, !0)
                    }, this),
                    this.chartRangeSelector && (this.chartRangeSelector.xAxisType = this.xAxisType))
                },
                xAxisLabelFormatter: function(e) {
                    switch (e.xAxisType) {
                    case L.XAxisTypes.Distance:
                        return l.a.formatDistance(this.value, e.activitySummary.getActivityTypeKey());
                    case L.XAxisTypes.SwimDistance:
                        return l.a.personalizeDistance(this.value, e.activitySummary.getActivityTypeKey(), e.activitySummary.get("unitOfPoolLength"));
                    case L.XAxisTypes.SwimLengths:
                        return l.a.formatWholeNumber(this.value + 1);
                    default:
                        return l.a.personalizeDuration(this.value)
                    }
                },
                formatXAxisPlotLineLabel: function(e, dist) {    // TX !!! black tooltip label with the Time or Distance
                    dist = s.a.localize("chart_x_plotline_distance_label",                                                 // TX GCOverrides
                                        l.a.formatDistance(dist, this.activitySummary.getActivityTypeKey()),               // TX GCOverrides
                                        s.a.localize(l.a.getDistanceUnitKey(this.activitySummary.getActivityTypeKey())));  // TX GCOverrides
                    switch (this.xAxisType) {
                    case L.XAxisTypes.Distance: return dist;     // TX GCOverrides
                    case L.XAxisTypes.Duration:
                    case L.XAxisTypes.SwimDuration:
                        return l.a.personalizeDuration(e) + " / " + dist; // TX GCOverrides
                    case L.XAxisTypes.SwimLengths:
                        return l.a.formatWholeNumber(e + 1);
                    case L.XAxisTypes.SwimDistance:
                        return l.a.formatDistance(e, "swimming");
                    default:
                        return e
                    }
                },
                formatAvgPlotLineLabel: function(e) {
                    var t = e.formattingFunction || n.a.identity;
                    return s.a.localize("chart_plotline_label", t.call(e, e.getAvgValue()), this.yUnit(e))
                },
                xAxisUnit: function(e) {
                    return e.xAxisType == c.a.Distance ? s.a.localize(l.a.getDistanceUnitKey(this.activitySummary.getActivityTypeKey())) : ""
                },
                yAxisLabelFormatter: function(e) {
                    return e.primarySeries[0].yAxisFormattingFunction ? '<p class="y-axis-label">' + e.primarySeries[0].yAxisFormattingFunction(this.value, e.measurementSystem()) + "</p>" : '<p class="y-axis-label">' + e.primarySeries[0].formattingFunction(this.value, e.measurementSystem()) + "</p>"
                },
                tooltipFormatter: function(e) {
                    var t = this.point || this.points[0];
                    if (t && e) {
                        if (e.hasNullValue(t))
                            return !1;
                        var i = t.x;
                        return (e.highChartObj && e.highChartObj.tooltip.shared && e.highChartObj.series.length > 1 ? e.tooltipFormatterForMultipleSeries(e, i) : e.tooltipFormatterForSingleSeries(e, i, t)).join("<br/>")
                    }
                },
                tooltipFormatterForMultipleSeries: function(e, t) {
                    var i = []
                      , a = e.primarySeries[0]
                      , n = a.getClosestPoint(t)
                      , r = e.yLabel()
                      , o = e.yUnit(a)
                      , h = n.data.y
                      , p = ""
                      , d = ""
                      , u = "";
                    function g(t) {
                        e.xAxisType === c.a.Distance ? (p = s.a.localize("distance"),
                        d = s.a.localize(l.a.getDistanceUnitKey(null, null)),
                        u = l.a.personalizeDistance(t)) : (p = s.a.localize("label_time"),
                        d = s.a.localize(l.a.getDurationUnitKey()),
                        u = l.a.personalizeDuration(t))
                    }
                    function m(e, t) {
                        r = s.a.localize(e.name),
                        h = e.userOptions.yValueKey ? t[e.userOptions.yValueKey] : t && null !== t.y && void 0 !== t.y ? t.y : t && t.value ? t.value : 0,
                        e.userOptions.valueSuffix ? o = e.userOptions.valueSuffix : e.userOptions.valueUnit && (o = "function" === typeof e.userOptions.valueUnit ? e.userOptions.valueUnit(h) : e.userOptions.valueUnit),
                        e.userOptions.valueFormatter && "function" === typeof e.userOptions.valueFormatter && (h = e.userOptions.valueFormatter(h))
                    }
                    g(n.data.x),
                    i.push(r + ": " + a.formatToolTipRow(a, r, h, o, p, u, d));
                    for (var f = 1, y = e.highChartObj.series.length; f < y; f += 1) {
                        var v, b = e.highChartObj.series[f];
                        if (b)
                            m(b, v = e.backgroundSeries && e.backgroundSeries[n.index] ? e.backgroundSeries[n.index] : b.data[n.index]),
                            g(v ? v.x : null),
                            e.primarySeries[0].hasWorkoutData && 0 === h && (h = "--"),
                            b.userOptions.formatToolTipRow && "function" === typeof b.userOptions.formatToolTipRow ? i.push(r + ": " + b.userOptions.formatToolTipRow(a, r, h, o, p, u, d)) : "--" === h ? i.push(r + ": " + h + " " + o) : i.push(r + ": " + a.formatToolTipRow(a, r, h, o, p, u, d))
                    }
                    return i
                },
                tooltipFormatterForSingleSeries: function(e, t, i) {
                    var a = this
                      , r = []
                      , o = [];
                    if (n.a.each(e.primarySeries, function(a) {
                        var n = a.getClosestPoint(t)
                          , o = ""
                          , h = e.yLabel()
                          , p = ""
                          , d = n.data ? n.data.y : ""
                          , u = ""
                          , g = e.yUnit(a);
                        e.xAxisType === c.a.Distance ? (o = s.a.localize("distance"),
                        u = s.a.localize(l.a.getDistanceUnitKey(null, null)),
                        p = l.a.personalizeDistance(n.data.x)) : (o = s.a.localize("label_time"),
                        u = s.a.localize(l.a.getDurationUnitKey()),
                        p = l.a.personalizeDuration(n.data ? n.data.x : "")),
                        r.push({
                            tooltip: a.formatToolTipRow(a, h, d, g, o, p, u, i),
                            type: n.data && n.data.type ? n.data.type : void 0
                        })
                    }, this),
                    r.forEach(function(e) {
                        a.restSplitsSupported() ? "undefined" !== typeof e.tooltip && o.push(e.tooltip) : o.push(e.tooltip)
                    }),
                    this.restSplitsSupported()) {
                        var h = r.find(function(e) {
                            return e.type === T.c
                        });
                        h && (o = [h.tooltip])
                    }
                    return o
                },
                hasNullValue: function(e) {
                    return !(!e || null !== e.y)
                },
                getChartTitles: function() {
                    return [{
                        chartTitle: this.chartTitle(),
                        seriesColor: this.primarySeries[0].getColor(!0)
                    }]
                },
                render: function() {
                    if (this.primarySeries.length) {
                        if (this.stopListening(),
                        this.$el.html(this.template({
                            Localizer: s.a,
                            chartTitles: this.getChartTitles(),
                            workoutSeriesColor: m.a.Colors.workoutTargetGray,
                            paceProSeriesColor: m.a.Colors.paceProTargetGray,
                            helpKey: this.getHelpKey(),
                            canExpandChart: this.canExpandChart()
                        })),
                        this.customHelpTemplate) {
                            var e = null;
                            "function" === typeof this.customHelpTemplate ? e = this.customHelpTemplate() : this.customHelpTemplate.length > 0 && (e = this.customHelpTemplate),
                            e && this.$(".chart-header-item").append(e)
                        }
                        this.trigger(k.ON_CHART_RENDERED);
                        var t = this.defaultChartOptions();
                        (this.primarySeries[0].hasWorkoutData || this.primarySeries[0].isPacePro) && (t.yAxis.min = this.calculateYAxisMin(),
                        t.yAxis.max = this.calculateYAxisMax(),
                        t.tooltip.shared = !0);
                        var i = this.getChartSelectorType();
                        i && (this.chartRangeSelector = new i({
                            el: this.$(".chart-range-selector"),
                            activityDetails: this.activityDetails,
                            activitySummary: this.activitySummary,
                            xAxisType: this.xAxisType
                        }),
                        this.listenTo(this.chartRangeSelector, f.a.Events.RangeSelected, this.onRangeSelected),
                        this.listenTo(this.chartRangeSelector, f.a.Events.RangeReset, this.onRangeReset),
                        this.chartRangeSelector.render());
                        var a = this.getChartSelector();
                        a && this.canShowChartSelector() && this.renderChartSelector(a),
                        this.highChartObj = new C.a.Chart(t),
                        this.setExtremes(this.minX, this.maxX, !1),
                        this.renderPlotLineLabels(),
                        this.visible || (this.redrawOnNextShow = !0),
                        this.listenTo(this.playerModel, "change:x", this.onPlayerTimeChanged, this),
                        this.listenTo(this.playerModel, "clear", this.onPlayerCleared, this),
                        this.rendered = !0
                    }
                },
                getChartSelectorType: function() {
                    for (var e = 0; e < this.primarySeries.length; e++) {
                        var t = this.primarySeries[e];
                        if (t.chartRangeSelectorType)
                            return t.chartRangeSelectorType
                    }
                    return null
                },
                getChartSelector: function() {
                    for (var e = 0; e < this.primarySeries.length; e++) {
                        var t = this.primarySeries[e];
                        if (t && t.chartSelector)
                            return t.chartSelector
                    }
                },
                canShowChartSelector: function() {
                    for (var e = 0; e < this.primarySeries.length; e++) {
                        var t = this.primarySeries[e];
                        if (t && "function" === typeof t.canShowChartSelector)
                            return t.canShowChartSelector()
                    }
                },
                renderChartSelector: function(e) {
                    this.chartSelector = new e({
                        el: this.$(".chart-selector"),
                        activityDetails: this.activityDetails,
                        activitySummary: this.activitySummary
                    }),
                    this.listenTo(this.chartSelector, y.a.Events.OnChartToggle, this.onChartSelectorToggle),
                    this.chartSelector.render()
                },
                setChartRangeSelector: function(e, t, i, a) {
                    this.chartRangeSelector && this.chartRangeSelector.setChartRangeSelector(e, t, i, a)
                },
                setActiveChartSelector: function(e) {
                    this.chartSelector && "function" === typeof this.chartSelector.setActiveChart && this.chartSelector.setActiveChart(e)
                },
                onRangeSelected: function(e, t, i) {
                    this.xAxisType == c.a.Duration ? this.setExtremes(e, t, !0) : this.setExtremes(l.a.convertDistance(e), l.a.convertDistance(t), !0),
                    this.trigger(k.ON_RANGE_SELECTED, i)
                },
                onRangeReset: function() {
                    this.setExtremes(null, null, !0),
                    this.trigger(k.ON_ZOOM_RESET)
                },
                onChartSelectorToggle: function(e) {
                    this.trigger(k.ON_CHART_SELECTOR_TOGGLE, e)
                },
                renderPlotLineLabels: function() {
                    n.a.each(this.primarySeries, function(e) {
                        this.renderPlotLineLabel(e)
                    }, this)
                },
                renderPlotLineLabel: function(e) {
                    if (e.hasAvgValue() && this.displayAvgLabel && (this.avgText && (this.avgText.destroy(),
                    this.avgRect.destroy(),
                    this.avgText = null,
                    this.avgRect = null),
                    0 != this.highChartObj.yAxis[0].plotLinesAndBands.length && this.highChartObj.yAxis[0].plotLinesAndBands[0].svgElem)) {
                        var t = this.formatAvgPlotLineLabel(e)
                          , i = this.highChartObj.renderer.label(t, this.highChartObj.plotLeft, this.highChartObj.plotTop).css({
                            color: "#000000",
                            zIndex: 999
                        }).add()
                          , a = i.getBBox().width
                          , n = (i.getBBox().height,
                        this.highChartObj.yAxis[0].plotLinesAndBands[0].svgElem.getBBox().y)
                          , r = this.highChartObj.plotWidth - a + 18 - 20
                          , o = this.highChartObj.plotTop + n + 9 - 15;
                        i.destroy(),
                        this.avgText = this.highChartObj.renderer.label(t, r, o).attr({
                            zIndex: 5
                        }).css({
                            color: "#000000",
                            zIndex: 999,
                            opacity: .85
                        }).add();
                        var s = this.avgText.getBBox();
                        this.avgRect = this.highChartObj.renderer.rect(r - 2, o, s.width + 4, s.height, 0).attr({
                            fill: "#FFFFEF",
                            "stroke-width": 0,
                            zIndex: 4,
                            opacity: .7
                        }).add()
                    }
                },
                renderXAxisPlotLineLabel: function() {
                    if (this.showXAxisPlotLineLabel && 0 != this.highChartObj.xAxis[0].plotLinesAndBands.length && this.highChartObj.xAxis[0].plotLinesAndBands[0].svgElem) {
                        var dist = this.currentPlotLinePoint.series.chart.userOptions.series[0].data[this.currentPlotLinePoint.index].dist;   // TX GCOverrides
                        var e = this.currentPlotLinePoint && this.currentPlotLinePoint.x ? this.currentPlotLinePoint.x : ""
                          , t = this.formatXAxisPlotLineLabel(e, dist)                // TX GCOverrides (added second argument - distance)  
                          , i = this.highChartObj.renderer.label(t, this.highChartObj.plotLeft, this.highChartObj.plotTop).css({
                            color: "#000000",
                            zIndex: 999
                        }).add()
                          , a = i.getBBox().width
                          , n = this.highChartObj.xAxis[0].plotLinesAndBands[0].svgElem.getBBox().x
                          , r = this.highChartObj.xAxis[0].plotLinesAndBands[0].svgElem.getBBox().y
                          , o = n - .5 * a
                          , s = this.highChartObj.plotTop + r + 9 - 15;
                        i.destroy(),
                        this.currentXAxisLabelText = this.highChartObj.renderer.label(t, o, s).attr({
                            zIndex: 999
                        }).css({
                            color: "#FFFFFF",
                            zIndex: 999
                        }).add();
                        var l = this.currentXAxisLabelText.getBBox();
                        this.currentXAxisLabelBox = this.highChartObj.renderer.rect(o - 5, s - 2, l.width + 10, l.height + 4, 0).attr({
                            fill: "#0F314D",
                            "stroke-width": 0,
                            zIndex: 4
                        }).add()
                    }
                },
                highChartsRenderChartEvent: function() {
                    return this
                },
                setExtremes: function(e, t, i) {
                    this.minX = e,
                    this.maxX = t,
                    this.highChartObj && (this.extremesSetProgramatically = !0,
                    i && (this.extremesSetProgramatically = !1),
                    this.highChartObj.xAxis[0].setExtremes(e, t, !0, !1))
                },
                setExtremesY: function(e, t, i) {           // TX GCOverrides (whole block) - resetting also the Y axis
                    this.minY = e,
                    this.maxY = t,
                    this.highChartObj && (this.extremesSetProgramatically = !0,
                    i && (this.extremesSetProgramatically = !1),
                    this.highChartObj.yAxis[0].setExtremes(e, t, !0, !1))
                },
                getExtremes: function() {
                    return this.highChartObj.xAxis[0].getExtremes()
                },
                calculateYAxisMin: function() {
                    var e = this.getChartMinValue()
                      , t = this.getWorkoutDataMin()
                      , i = this.getPaceProDataMin();
                    return e <= t && e <= i ? e : t <= i ? t : i
                },
                calculateYAxisMax: function() {
                    var e = this.getChartMaxValue()
                      , t = this.getWorkoutDataMax()
                      , i = this.getPaceProDataMax();
                    return e >= t && e >= i ? e : t >= i ? t : i
                },
                resetZoom: function() {
                    this.setExtremes(null, null)
                   ,this.setExtremesY(null, null)           // TX GCOverrides - resetting also the Y axis
                },
                createAnnotations: function() {
                    return [{
                        labels: []
                    }]
                },
                getMarginBottom: function() {},
                defaultChartOptions: function() {
                    return {
                        chart: {
                            alignTicks: !1,
                            inverted: this.getInvertedChart(),
                            height: 100,
                            renderTo: this.$(".chart-placeholder").get(0),
                            marginLeft: 18,
                            spacingTop: 17,
                            spacingBottom: this.spacingBottom,
                            marginTop: 9,
                            marginBottom: this.getMarginBottom(),
                            zoomType: "xy",     // TX GCOverrides for small graphs on Activity page
                            panning: true,      // TX GCOverrides
                            panKey: 'shift',    // TX GCOverrides
                            resetZoomButton: {
                                theme: {
                                    display: "none"
                                }
                            },
                            events: {
                                redraw: n.a.bind(this.renderPlotLineLabels, this),
                                render: n.a.bind(this.highChartsRenderChartEvent, this)
                            },
                            style: {
                                cursor: "crosshair"
                            }
                        },
                        plotOptions: {
                            series: {
                                fillOpacity: this.fillOpacity,
                                lineWidth: this.lineWidth,
                                step: this.step,
                                marker: {
                                    enabled: !1,
                                    symbol: "circle",
                                    states: {
                                        hover: {
                                            fillColor: "#222222",
                                            lineWidth: 1,
                                            lineColor: "#222222",
                                            radius: 1e-4
                                        }
                                    }
                                },
                                states: {
                                    hover: !1
                                }
                            },
                            scatter: {
                                marker: {
                                    radius: this.scatterLineRadius || 3
                                },
                                dashStyle: this.dashStyle,
                                color: this.scatterLineColor
                            },
                            areaspline: {
                                stacking: this.getAreaStacking()
                            },
                            area: {
                                threshold: this.primarySeries[0].reversed ? n.a.result(this, "threshold") : null,
                                step: this.step
                            },
                            line: {
                                step: this.step
                            },
                            column: {
                                pointPadding: 0,
                                groupPadding: 0
                            }
                        },
                        title: {
                            text: "",
                            style: {
                                display: "none"
                            }
                        },
                        xAxis: this.createHighChartsXAxisObjects(this),
                        yAxis: this.createHighChartsYAxisObjects(),
                        tooltip: {
                            formatter: this.partial(this.tooltipFormatter, this),
                            positioner: this.tooltipPositioner,
                            hideDelay: 100,
                            borderWidth: 0,
                            borderRadius: 0,
                            backgroundColor: "rgba(255, 255, 255, .85)",
                            style: this.styleTooltip(),
                            enabled: this.enableTooltip(),
                            useHTML: !0,
                            shared: this.shareTooltip()
                        },
                        annotations: this.createAnnotations(),
                        legend: {
                            enabled: !1
                        },
                        series: this.createHighChartsSeriesObjects(),
                        credits: {
                            enabled: !1
                        },
                        exporting: {
                            enabled: !1
                        }
                    }
                },
                getInvertedChart: function() {
                    return !1
                },
                getAreaStacking: function() {
                    if (this.restSplitsSupported())
                        return "normal"
                },
                tooltipPositioner: function(e, t, i) {
                    var a = {
                        x: i.plotX,
                        y: i.plotY
                    };
                    return this.tooltip ? (a.x -= e / 2,
                    a.x < 0 && (a.x = i.plotX + (e + 10) / 2)) : a.y = 40,
                    a
                },
                createHighChartsYAxisObjects: function() {
                    var e = this.primarySeries[0];
                    return {
                        gridLineColor: "#e8e8e8",
                        min: this.getChartMinValue(),
                        max: this.getChartMaxValue(),
                        maxPadding: 0,
                        minPadding: 0,
                        reversed: e.reversed,
                        endOnTick: !0,
                        startOnTick: !0,
                        tickPixelInterval: e.tickInterval ? null : 50,
                        tickInterval: e.tickInterval,
                        title: {
                            text: null
                        },
                        labels: {
                            formatter: this.partial(this.yAxisLabelFormatter, this),
                            align: "left",
                            x: 2,
                            y: 2,
                            style: {
                                whiteSpace: "nowrap"
                            }
                        },
                        plotLines: this.createHighChartsPlotlineOptions(),
                        tickPositions: this.createHighChartsTickPositions()
                    }
                },
                createHighChartsXAxisObjects: function(e) {
                    return {
                        labels: {
                            formatter: this.partial(this.xAxisLabelFormatter, this),
                            y: -4,
                            align: "right"
                        },
                        gridLineWidth: 0,
                        showFirstLabel: !1,
                        tickWidth: 0,
                        endOnTick: !1,
                        startOnTick: !1,
                        maxPadding: 0,
                        minPadding: 0,
                        plotBands: this.createHighChartsPlotBandsOptions(),
                        events: {
                            afterSetExtremes: function(t) {
                                e && (e.extremesSetProgramatically || e.trigger(k.ON_CHART_ZOOMED, e, this.userMin, this.userMax),
                                e.extremesSetProgramatically = !1)
                            }
                        }
                    }
                },
                createHighChartsPlotBandsOptions: function() {
                    var e = [];
                    return n.a.each(this.primarySeries, function(t) {
                        t.createHighChartsPlotBandsOptions && (e = t.plotBands)
                    }),
                    e
                },
                createHighChartsPlotlineOptions: function() {
                    var e = this.primarySeries[0]
                      , t = [];
                    return e.hasAvgValue() && t.push({
                        color: "#888888",
                        width: "1",
                        value: e.getAvgValue(),
                        dashStyle: "dash",
                        zIndex: 4
                    }),
                    "undefined" !== typeof e.plotLines && n.a.each(e.plotLines, function(e) {
                        t.push(e)
                    }),
                    t
                },
                createHighChartsTickPositions: function() {
                    return this.primarySeries[0].tickPositions
                },
                createHighChartsSeriesObjects: function() {
                    var e = []
                      , t = null
                      , i = null;
                    return n.a.each(this.primarySeries, function(a) {
                        var n = a.generateData(void 0, !0);
                        this.hasPaceProSplits && (this.paceProAvgPace = a.generatePaceProAvgData(n.length),
                        this.paceProData = this.paceProAvgPace.paceProData,
                        this.paceProData.length > 0 && this.paceProAvgPace.isPacePro && (t = 0,
                        i = "scatter" === a.defaultChartType ? 0 : 1)),
                        this.workoutInfo = a.generateWorkoutData(),
                        this.workoutData = this.workoutInfo.workoutData,
                        !this.workoutInfo.allZeros && this.workoutData && this.workoutData.length > 0 && (t = 0,
                        i = "scatter" === a.defaultChartType ? 0 : 1),
                        e.push(this.createSeries(a, n, t, i)),
                        this.hasPaceProSplits && this.paceProData.length > 0 && this.paceProAvgPace.isPacePro && (e.push(this.createPaceProSeries(this.paceProData)),
                        a.isPacePro = !0),
                        !this.workoutInfo.allZeros && this.workoutData && this.workoutData.length > 0 && (e.push(this.createWorkoutSeries(this.workoutData)),
                        a.hasWorkoutData = !0)
                    }, this),
                    e
                },
                createSeries: function(e, t, i, a) {
                    void 0 !== i && null !== i || (i = this.fillOpacity),
                    void 0 !== a && null !== a || (a = this.lineWidth);
                    var n = {
                        turboThreshold: this.turboThreshold,
                        type: this.getChartType(e),
                        data: t,
                        marker: {
                            enabled: "scatter" === e.defaultChartType
                        },
                        color: m.a.mapSeriesType(e),
                        fillOpacity: i,
                        lineWidth: a
                    };
                    if (e.threshold && (n.threshold = e.threshold),
                    this.shouldShowOverlay()) {
                        var r = this.overlayData.getOverlayRanges(t)
                          , o = this.overlayData.getColor(m.a.mapSeriesType(e))
                          , s = this.overlayData.getHighlightColor(m.a.mapSeriesType(e));
                        n.zoneAxis = "x",
                        n.zones = [],
                        n.zones.push({
                            value: 0,
                            color: o
                        }),
                        r.forEach(function(e) {
                            n.zones.push({
                                value: e.start,
                                color: o
                            }),
                            n.zones.push({
                                value: e.end,
                                color: s
                            })
                        }),
                        n.zones.push({
                            value: n.data[n.data.length - 1].x,
                            color: o
                        })
                    }
                    return n
                },
                shouldShowOverlay: function() {
                    return !(!this.overlayData || !(this.overlayData.type === x.a.videoClips || this.overlayData.type === x.a.typedSplits && this.typedSplitsSupported()))
                },
                typedSplitsSupported: function() {
                    return !1
                },
                restSplitsSupported: function() {
                    return !!S.h.isUltraRunActivity(this.activitySummary.getActivityTypeKey())
                },
                createWorkoutSeries: function(e) {
                    if (e && e.length > 0) {
                        var t = {
                            turboThreshold: this.turboThreshold,
                            type: "area",
                            data: e,
                            color: m.a.Colors.workoutTargetGray,
                            fillOpacity: .45,
                            lineWidth: 1,
                            name: "target"
                        };
                        return this.$(".workout-target-label").removeClass("hidden"),
                        t
                    }
                },
                createPaceProSeries: function(e) {
                    if (e && e.length > 0) {
                        var t = {
                            turboThreshold: this.turboThreshold,
                            type: "area",
                            data: e,
                            color: m.a.Colors.paceProTargetGray,
                            fillOpacity: .45,
                            lineWidth: 1,
                            name: "target"
                        };
                        return this.$(".pacepro-target-label").removeClass("hidden"),
                        t
                    }
                },
                getChartType: function(e) {
                    return this.seriesType ? this.seriesType : "line" === e.defaultChartType ? "areaspline" : e.defaultChartType
                },
                getChartMinValue: function() {
                    var e = n.a.result(this, "min");
                    if ("undefined" === typeof e || null === e) {
                        var t = !1;
                        n.a.each(this.primarySeries, function(i) {
                            (i.primaryChartMin && "undefined" === typeof e || null === e) && (t || (e = 99999999,
                            t = !0),
                            e = Math.min(e, this.getSeriesMinValue(i)))
                        }, this)
                    }
                    return e
                },
                getSeriesMinValue: function(e) {
                    return "function" === typeof e.primaryChartMin ? e.primaryChartMin() : e.primaryChartMin
                },
                getWorkoutDataMin: function() {
                    var e = 99999999;
                    return n.a.each(this.workoutData, function(t) {
                        t[1] < e && (e = t[1])
                    }),
                    e
                },
                getPaceProDataMin: function() {
                    var e = 99999999;
                    return n.a.each(this.paceProData, function(t) {
                        t[1] < e && (e = t[1])
                    }),
                    e
                },
                getChartMaxValue: function() {
                    var e = n.a.result(this, "max");
                    if ("undefined" === typeof e || null === e) {
                        var t = !1;
                        n.a.each(this.primarySeries, function(i) {
                            (i.primaryChartMax && "undefined" === typeof e || null === e) && (t || (e = -99999999,
                            t = !0),
                            e = Math.max(e, this.getSeriesMaxValue(i)))
                        }, this)
                    }
                    return e
                },
                getSeriesMaxValue: function(e) {
                    return "function" === typeof e.primaryChartMax ? e.primaryChartMax() : e.primaryChartMax
                },
                getWorkoutDataMax: function() {
                    var e = -99999999;
                    return n.a.each(this.workoutData, function(t) {
                        t[1] > e && (e = t[1])
                    }),
                    e
                },
                getPaceProDataMax: function() {
                    var e = -99999999;
                    return n.a.each(this.paceProData, function(t) {
                        t[1] > e && (e = t[1])
                    }),
                    e
                },
                partial: function(e) {
                    var t = Array.prototype.slice.call(arguments, 1);
                    return function() {
                        return e.apply(this, t)
                    }
                },
                onMouseMoved: function(e) {
                    if (this.highChartObj && this.playerModel && this.playerModel.get("mode") != h.a.Modes.Playing) {
                        e = this.highChartObj.pointer.normalize(e);
                        var t = this.highChartObj.xAxis[0].toValue(e.chartX);
                        if ("undefined" == typeof t || null == t)
                            return;
                        this.playerModel.set("x", t)
                    }
                },
                onMouseEnter: function() {
                    this.trigger(k.ON_CHART_FOCUSED, this)
                },
                onPlayerCleared: function() {
                    this.highChartObj && (this.highChartObj.xAxis[0].removePlotLine(this.plotLineId),
                    this.highChartObj.tooltip && this.highChartObj.tooltip.hide()),
                    this.currentPlotLinePoint = null,
                    this.currentXAxisLabelText && (this.currentXAxisLabelText.destroy(),
                    this.currentXAxisLabelText = null),
                    this.currentXAxisLabelBox && (this.currentXAxisLabelBox.destroy(),
                    this.currentXAxisLabelBox = null)
                },
                clearXAxisPlotLineLabel: function() {
                    this.currentXAxisLabelText && (this.currentXAxisLabelText.destroy(),
                    this.currentXAxisLabelText = null),
                    this.currentXAxisLabelBox && (this.currentXAxisLabelBox.destroy(),
                    this.currentXAxisLabelBox = null)
                },
                onPlayerTimeChanged: function() {
                    if (this.clearXAxisPlotLineLabel(),
                    this.highChartObj && this.highChartObj.xAxis && this.highChartObj.xAxis.length) {
                        this.highChartObj.xAxis[0].removePlotLine(this.plotLineId);
                        var e = this.playerModel.get("x");
                        this.highChartObj.xAxis[0].addPlotLine({
                            color: "#222222",
                            value: e,
                            width: 1,
                            id: this.plotLineId,
                            zIndex: 3
                        });
                        for (var t = this.highChartObj.series[0].points, i = t.length, a = 0; a < i && !(t[a].x >= e); a++)
                            ;
                        var n = Math.min(t.length - 1, a);
                        if (n > 0 && t[n].x != e) {
                            var r = Math.abs(t[n].x - e);
                            Math.abs(t[n - 1].x - e) < r && n--
                        }
                        var o = t[n]
                          , s = [];
                        if (this.highChartObj.series.length > 1 && this.highChartObj.tooltip.shared) {
                            s.push(o);
                            for (var l = 1, c = this.highChartObj.series.length; l < c; l += 1)
                                if (this.highChartObj.series[l] && this.highChartObj.series[l].points && this.highChartObj.series[l].points.length > 0)
                                    for (var h = 0; h < this.highChartObj.series[l].points.length; h += 1)
                                        if (o.x === this.highChartObj.series[l].points[h].x) {
                                            s.push(this.highChartObj.series[l].points[h]);
                                            break
                                        }
                        } else
                            s = o;
                        o && (this.highChartObj && this.highChartObj.tooltip && this.highChartObj.tooltip.refresh(s),
                        this.currentPlotLinePoint = o,
                        this.renderXAxisPlotLineLabel())
                    }
                },
                getHelpKey: function() {
                    var e = "";
                    return n.a.each(this.primarySeries, function(t) {
                        t.helpKey && !e && (e = t.helpKey)
                    }),
                    e
                },
                getHelpKeyAdditionalData: function() {
                    var e = null;
                    return n.a.each(this.primarySeries, function(t) {
                        t.helpKeyAdditionalData && (e = "function" === typeof t.helpKeyAdditionalData ? t.helpKeyAdditionalData() : t.helpKeyAdditionalData)
                    }),
                    e
                },
                onShowHelpClicked: function(t) {
                    var i = e(t.currentTarget).attr("data-help-key");
                    "directRespirationRate" === i ? (this.respirationModalView && this.respirationModalView.destroy(),
                    this.respirationModalView = new u.a({
                        reactComponent: g.a
                    }),
                    new d.a({
                        view: this.respirationModalView,
                        showFooter: !1,
                        customClasses: "",
                        modalTitle: s.a.localize("help.title")
                    }).render()) : new p.a({
                        key: i,
                        additionalData: this.getHelpKeyAdditionalData()
                    }).render()
                },
                onZoomChartClicked: function() {
                    this.trigger(k.ON_EXPANDED_CHART_CLICKED, this)
                },
                destroy: function() {
                    this.stopListening(),
                    this.highChartObj && this.highChartObj.destroy(),
                    this.$el.remove()
                },
                hide: function() {
                    this.visible = !1,
                    this.$el.hide(),
                    this.stopListening()
                },
                show: function() {
                    this.visible = !0,
                    this.$el.show(),
                    this.listenTo(this.playerModel, "change:x", this.onPlayerTimeChanged, this),
                    this.listenTo(this.playerModel, "clear", this.onPlayerCleared, this),
                    this.redrawOnNextShow && (this.redrawOnNextShow = !1,
                    this.render())
                },
                getPrimarySeriesLabel: function() {
                    var e = this.primarySeries[0].label;
                    return e instanceof Array ? s.a.localize(e[0], s.a.localize(e[1])) : s.a.localize(e)
                },
                isRendered: function() {
                    return this.rendered
                },
                enableTooltip: function() {
                    return !0
                },
                styleTooltip: function() {
                    return {
                        color: "#222",
                        padding: "3px",
                        opacity: 1,
                        zIndex: 5
                    }
                },
                shareTooltip: function() {
                    return !1
                }
            });
            L.XAxisTypes = c.a,
            L.Events = k,
            t.a = L
        }
        ).call(this, i(9))
    },
    1325: function(e, t, i) {
        "use strict";
        t.a = {
            SportTypes: {
                Running: "running",
                Cycling: "cycling",
                Other: "other",
                Swimming: "swimming",
                Strength_Training: "strength_training",
                Cardio: "cardio_training",
                Yoga: "yoga",
                Pilates: "pilates"
            },
            StepTypes: {
                Warm_Up: "warmup",
                Interval: "interval",
                Cool_Down: "cooldown",
                Recovery: "recovery",
                Rest: "rest",
                Repeat: "repeat",
                Other: "other"
            },
            TargetTypes: {
                No_Target: "no.target",
                Cadence: "cadence",
                Heart_Rate_Zone: "heart.rate.zone",
                Pace_Zone: "pace.zone",
                Power_Zone: "power.zone",
                Speed_Zone: "speed.zone",
                Power_Curve: "power.curve"
            },
            ChildTargetTypes: {
                Select_Heart_Rate_Zone: "select.heart.rate.zone",
                Select_Power_Zone: "select.power.zone"
            },
            ConditionTypes: {
                Calories: "calories",
                Distance: "distance",
                Heart_Rate: "heart.rate",
                Lap_Button: "lap.button",
                Iterations: "iterations",
                Power: "power",
                Time: "time",
                Fixed_Rest: "fixed.rest",
                Fixed_Repetition: "fixed.repetition",
                Reps: "reps"
            },
            IntensityTypes: {
                Active: "active",
                Rest: "rest",
                Warm_Up: "warmup",
                Cool_Down: "cooldown"
            },
            DurationTypes: {
                No_Duration: "no.duration",
                Calories: "calories",
                Distance: "distance",
                Lap_Button: "lap.button",
                Time: "time",
                Heart_Zone: "heart.rate",
                Power_Zone: "power",
                Fixed_Rest: "fixed.rest",
                Fixed_Repetition: "fixed.repetition",
                Reps: "reps"
            },
            StrokeTypes: {
                Any: "any_stroke",
                Backstroke: "backstroke",
                Breaststroke: "breaststroke",
                Drill: "drill",
                Fly: "fly",
                Free: "free",
                IM: "individual_medley",
                Mixed: "mixed"
            },
            EquipmentTypes: {
                No_Equipment: "no.equipment",
                Fins: "fins",
                Kickboard: "kickboard",
                Paddles: "paddles",
                Pull_Buoy: "pull_buoy",
                Snorkel: "snorkel"
            }
        }
    },
    1326: function(e, t, i) {
        var a;
        "undefined" != typeof self && self,
        e.exports = (a = i(10),
        function(e) {
            function t(a) {
                if (i[a])
                    return i[a].exports;
                var n = i[a] = {
                    i: a,
                    l: !1,
                    exports: {}
                };
                return e[a].call(n.exports, n, n.exports, t),
                n.l = !0,
                n.exports
            }
            var i = {};
            return t.m = e,
            t.c = i,
            t.d = function(e, i, a) {
                t.o(e, i) || Object.defineProperty(e, i, {
                    configurable: !1,
                    enumerable: !0,
                    get: a
                })
            }
            ,
            t.n = function(e) {
                var i = e && e.__esModule ? function() {
                    return e.default
                }
                : function() {
                    return e
                }
                ;
                return t.d(i, "a", i),
                i
            }
            ,
            t.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }
            ,
            t.p = "",
            t(t.s = 0)
        }([function(e, t, i) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var a = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var i = arguments[t];
                    for (var a in i)
                        Object.prototype.hasOwnProperty.call(i, a) && (e[a] = i[a])
                }
                return e
            }
              , n = function() {
                function e(e, t) {
                    for (var i = 0; i < t.length; i++) {
                        var a = t[i];
                        a.enumerable = a.enumerable || !1,
                        a.configurable = !0,
                        "value"in a && (a.writable = !0),
                        Object.defineProperty(e, a.key, a)
                    }
                }
                return function(t, i, a) {
                    return i && e(t.prototype, i),
                    a && e(t, a),
                    t
                }
            }()
              , r = i(1)
              , o = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(r)
              , s = function(e) {
                function t(e) {
                    !function(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    var i = function(e, t) {
                        if (!e)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return i.container = o.default.createRef(),
                    i
                }
                return function(e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, e),
                n(t, [{
                    key: "componentDidMount",
                    value: function() {
                        var e = this.props
                          , t = e.highcharts || window.Highcharts;
                        this.chart = t[e.constructorType || "chart"](this.container.current, e.options, e.callback ? e.callback : void 0)
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function() {
                        var e;
                        !1 !== this.props.allowChartUpdate && (e = this.chart).update.apply(e, [this.props.options].concat(function(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, i = Array(e.length); t < e.length; t++)
                                    i[t] = e[t];
                                return i
                            }
                            return Array.from(e)
                        }(this.props.updateArgs || [!0, !0])))
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function() {
                        this.chart && (this.chart.destroy(),
                        this.chart = null)
                    }
                }, {
                    key: "render",
                    value: function() {
                        return o.default.createElement("div", a({}, this.props.containerProps, {
                            ref: this.container
                        }))
                    }
                }]),
                t
            }(o.default.PureComponent);
            t.default = s
        }
        , function(e, t) {
            e.exports = a
        }
        ]))
    },
    1327: function(e, t, i) {
        "use strict";
        var a = i(22)
          , n = i.n(a);
        t.a = n.a.oneOfType([n.a.arrayOf(n.a.node), n.a.node])
    },
    1330: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(37)
          , h = (i(434),
        i(1352))
          , p = i.n(h)
          , d = {
            CHANGE: "CHANGE",
            EDIT: "EDIT",
            PRE_CANCEL: "PRE_CANCEL",
            CANCEL: "CANCEL"
        }
          , u = 8
          , g = 46
          , m = 37
          , f = 38
          , y = 39
          , v = 40
          , b = o.a.View.extend({
            template: n.a.template(p.a),
            events: {
                "click .inline-edit-target": "onInlineEditTargetClicked",
                "click .inline-edit-trigger": "onInlineEditTriggered",
                "click .inline-edit-save": "onInlineEditSaveClicked",
                "click .inline-edit-cancel": "onInlineEditCancelled",
                "keydown .inline-edit-editable-text": "onInputKeyDown"
            },
            initialize: function(e) {
                this.tag = e.tag || "a",
                this.customClasses = e.customClasses || "",
                this.label = e.label || "",
                this.value = e.value,
                this.formatClass = e.formatClass || "",
                this.url = e.url,
                this.disableEditability = e.disableEditability,
                this.disableEditOnClickText = e.disableEditOnClickText,
                this.maxLength = e.maxLength,
                this.minLength = e.minLength,
                this.disableEditBtn = e.disableEditBtn,
                this.disableEditOnClickText || (this.disableEditOnClickText = !1),
                "undefined" == typeof this.value && (this.value = ""),
                this.AcceptableList = [u, g, m, y, f, v]
            },
            defaultFormatFunc: function(e) {
                return e
            },
            render: function() {
                this.$el.removeClass("edit"),
                this.$el.addClass(this.formatClass + " inline-edit inline-edit-text-field"),
                this.$el.html(this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    value: this.value,
                    label: this.label,
                    url: this.url || "#",
                    tag: this.tag,
                    customClasses: this.customClasses,
                    disableEditBtn: this.disableEditBtn
                })),
                this.disableEditability && this.$(".inline-edit-trigger").hide()
            },
            onInlineEditTargetClicked: function(e) {
                this.disableEditBtn || (this.url ? c.default.anchorTagHandler(e) : this.disableEditOnClickText ? e.preventDefault() : this.onInlineEditTriggered(e))
            },
            onInlineEditTriggered: function(e) {
                e.preventDefault(),
                this.$el.addClass("edit"),
                this.$(".inline-edit-target").hide(),
                this.$(".inline-edit-editable").show(),
                this.$(".inline-edit-editable-text").focus(),
                this.setSelected(),
                this.trigger(d.EDIT)
            },
            onInlineEditCancelled: function(e) {
                this.trigger(d.PRE_CANCEL),
                e.preventDefault(),
                e.stopPropagation(),
                this.render(),
                this.trigger(d.CANCEL)
            },
            onInlineEditSaveClicked: function(e) {
                e.preventDefault(),
                e.stopPropagation(),
                this.processInput()
            },
            processInput: function() {
                var e = this.$(".inline-edit-editable-text").text().trim();
                !n.a.isUndefined(this.minLength) && e.length < this.minLength || (this.value = e,
                this.maxLength && this.value.length > this.maxLength && (this.value = this.value.substring(0, this.maxLength)),
                this.trigger(d.CHANGE, this.value))
            },
            onInputKeyDown: function(e) {
                13 === e.keyCode && (e.preventDefault(),
                this.processInput()),
                this.maxLength && e.target.textContent.length >= this.maxLength && -1 == this.AcceptableList.indexOf(e.keyCode) && e.preventDefault()
            },
            setSelected: function() {
                var e, t, i = this.$(".inline-edit-editable-text")[0];
                document.body.createTextRange ? ((e = document.body.createTextRange()).moveToElementText(i),
                e.select()) : window.getSelection && (t = window.getSelection(),
                (e = document.createRange()).selectNodeContents(i),
                t.removeAllRanges(),
                t.addRange(e))
            }
        });
        b.Events = d,
        t.a = b
    },
    1334: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(0)
          , s = i.n(o)
          , l = i(1340)
          , c = i.n(l)
          , h = {
            Small: "relative bottom",
            Long: ""
        }
          , p = {
            Success: "alert-success",
            Error: "alert-error",
            Info: "alert-info",
            Warning: "alert-warning"
        }
          , d = s.a.View.extend({
            template: n.a.template(c.a),
            className: "alert",
            events: {
                "click #alert": "onDismissLinkClicked",
                "click a[data-action]": "onLinkClicked"
            },
            initialize: function(e) {
                if (!e.message)
                    throw "a message is required for the alert.";
                return this.message = e.message,
                this.size = e.size || h.Long,
                this.alertType = e.alertType || p.Success,
                this.showAlert = e.showAlert || !1,
                this.callback = e.callback,
                this.localizeArgs = e.localizeArgs,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a,
                    message: this.message,
                    args: this.localizeArgs
                })),
                this.updateSizeInUI(),
                this.updateAlertTypeInUI(),
                this.showAlert ? this.displayAlert() : this.hideAlert(),
                this
            },
            setMessage: function(e) {
                return e ? (this.message = e,
                !0) : !!this.message
            },
            setSize: function(e) {
                if (e) {
                    if ("small" === e)
                        return this.size = h.Small,
                        !0;
                    if ("long" === e)
                        return this.size = h.Long,
                        !0;
                    if (e === h.Long || e === h.Small)
                        return this.size = e,
                        !0
                }
                return !!this.size
            },
            setAlertType: function(e) {
                if (e) {
                    if ("success" === e)
                        return this.alertType = p.Success,
                        !0;
                    if ("error" === e)
                        return this.alertType = p.Error,
                        !0;
                    if ("info" === e)
                        return this.alertType = p.Info,
                        !0;
                    if ("warning" === e)
                        return this.alertType = p.Warning,
                        !0;
                    if (e === p.Success || e === p.Error || e === p.Info || p.Warning)
                        return this.alertType = e,
                        !0
                }
                return !!this.alertType
            },
            updateSizeInUI: function() {
                this.size === h.Small ? this.$el.addClass(h.Small) : this.size === h.Long && this.$el.removeClass(h.Small)
            },
            updateAlertTypeInUI: function() {
                this.alertType === p.Success ? (this.$el.addClass(p.Success),
                this.$el.removeClass(p.Error),
                this.$el.removeClass(p.Info)) : this.alertType === p.Error ? (this.$el.addClass(p.Error),
                this.$el.removeClass(p.Success),
                this.$el.removeClass(p.Info)) : this.alertType === p.Info ? (this.$el.addClass(p.Info),
                this.$el.removeClass(p.Error),
                this.$el.removeClass(p.Success)) : this.alertType === p.Warning && (this.$el.addClass(p.Warning),
                this.$el.removeClass(p.Error),
                this.$el.removeClass(p.Success),
                this.$el.removeClass(p.Info))
            },
            setAndRenderAlert: function(e, t, i, a, n) {
                var r = this.setMessage(e)
                  , o = this.setSize(t)
                  , s = this.setAlertType(i);
                this.localizeArgs = n,
                r && o && s && (this.showAlert = !0,
                this.callback = a,
                this.render())
            },
            displayAlert: function() {
                this.$el.show()
            },
            hideAlert: function() {
                this.$el.hide()
            },
            onDismissLinkClicked: function(e) {
                e.preventDefault(),
                this.hideAlert()
            },
            onLinkClicked: function(e) {
                e.preventDefault(),
                this.callback && this.callback(),
                this.hideAlert()
            }
        });
        d.Size = h,
        d.AlertType = p,
        t.a = d
    },
    1339: function(e, t, i) {
        "use strict";
        var a = i(22)
          , n = i.n(a);
        t.a = n.a.object
    },
    1340: function(e, t) {
        e.exports = '<%= Localizer.localize(message, args) %>\n<a href="#" id="alert"><%- Localizer.localize(\'course_map_alert_dismiss\') %></a>'
    },
    1342: function(e, t, i) {
        "use strict";
        var a = i(244)
          , n = i.n(a)
          , r = i(28)
          , o = (i(1462),
        i(1480),
        i(1481),
        i(1507))
          , s = function() {};
        s.MaxDistance = 999,
        s.Radius = {
            KILOMETERS: 6371,
            MILES: 3959
        },
        s.ZoomLevel = {
            MAX: 9,
            FAR: 10,
            MEDIUM: 12,
            CLOSE: 13
        },
        s.LowestHeatmapZoomLevel = 9,
        s.Layers = {
            LAYER_DISTANCE_CLOSE: "distanceLayerClose",
            LAYER_DISTANCE_MEDIUM: "distanceLayerMedium",
            LAYER_DISTANCE_FAR: "distanceLayerFar",
            LAYER_DISTANCE_MAX: "distanceLayerMax",
            LAYER_MARKERS: "markerLayer",
            LAYER_POSITION: "positionLayer",
            POPULAR_AREAS: "POPULAR_AREAS",
            LAYER_ELEVATION_SELECTION: "elevationLayer",
            CUSTOM_POINT_LAYER: "CUSTOM_POINT_LAYER",
            LAYER_POLYLINE_OVERLAY: "polylineOverlayLayer",
            LAYER_TOOLTIP: "layerTooltip"
        },
        s.calculateBoundingBoxAreaInKM = function(e, t, i, a) {
            return this.calculateDistanceBetweenPointsInKM(e, a, t, a) * this.calculateDistanceBetweenPointsInKM(e, a, e, i)
        }
        ,
        s.calculateDistanceBetweenPointsInKM = function(e, t, i, a) {
            var n = new o.a(e,t)
              , s = new o.a(i,a);
            return n.distanceTo(s) * r.a.MetersToKm
        }
        ,
        s.calculateDistanceBetweenPointsInMeters = function(e, t, i, a) {
            var n = new o.a(e,t)
              , r = new o.a(i,a);
            return n.distanceTo(r)
        }
        ,
        s.calculateDistanceFromCollectionOfLatLngs = function(e) {
            var t = 0;
            if (e)
                for (var i = 0, a = e.length; i < a; i += 1) {
                    var n = e[i]
                      , r = e[i + 1];
                    n && r && (t += this.calculateDistanceBetweenPointsInMeters(n.lat, n.lng, r.lat, r.lng))
                }
            return t
        }
        ,
        s.calculateDestinationPoint = function(e, t, i) {
            var a = (e = new o.a(e.lat,e.lng)).destinationPoint(t, i);
            return {
                lat: a.lat,
                lng: a.lon
            }
        }
        ,
        s.calculateBearingOfPoints = function(e, t) {
            var i = new o.a(e.lat,e.lng)
              , a = new o.a(t.lat,t.lng);
            return i.finalBearingTo(a)
        }
        ,
        s.decodeLine = function(e) {
            var t = 0
              , i = []
              , a = 0
              , n = 0;
            if (e && void 0 != e)
                for (var r = e.length; t < r; ) {
                    var o, s = 0, l = 0;
                    do {
                        l |= (31 & (o = e.charCodeAt(t++) - 63)) << s,
                        s += 5
                    } while (o >= 32);a += 1 & l ? ~(l >> 1) : l >> 1,
                    s = 0,
                    l = 0;
                    do {
                        l |= (31 & (o = e.charCodeAt(t++) - 63)) << s,
                        s += 5
                    } while (o >= 32);n += 1 & l ? ~(l >> 1) : l >> 1,
                    i.push([1e-5 * a, 1e-5 * n])
                }
            return i
        }
        ,
        s.indexOfClosestPoint = function(e, t, i, a) {
            var r, o = -1, s = this.truncateLatLng(t, i);
            if (e)
                if (2 === e.length)
                    o = 1;
                else {
                    for (r = 0; r < e.length - 1; r++) {
                        var l = this.truncateLatLng(e[r], i)
                          , c = this.truncateLatLng(e[r + 1], i);
                        if (this.isPointsEqual(l, s, i) || this.isPointsEqual(c, s, i) || n.a.polyline([l, c]).getBounds().contains(s)) {
                            o = r + 1;
                            break
                        }
                    }
                    -1 !== o || a || (o = i > 2 ? this.indexOfClosestPoint(e, t, i - 1) : e.length - 1)
                }
            return o
        }
        ,
        s.findPointOnPolyline = function(e, t, i, a, n) {
            var r, o, s, l, c, h, p, d = e[i - 1], u = e[i];
            return d.equals(t) ? o = d : u.equals(t) ? o = u : d.equals(u) ? o = d : (s = a.latLngToPoint(d, n).x,
            l = a.latLngToPoint(d, n).y,
            c = a.latLngToPoint(u, n).x,
            h = a.latLngToPoint(u, n).y,
            (p = ((a.latLngToPoint(t, n).x - s) * (c - s) + (a.latLngToPoint(t, n).y - l) * (h - l)) / (Math.pow(c - s, 2) + Math.pow(h - l, 2))) > 1 ? o = u : p < 0 ? o = d : (r = {
                x: s + p * (c - s),
                y: l + p * (h - l)
            },
            o = a.pointToLatLng(r, n))),
            o.wrap()
        }
        ,
        s.isPointsEqual = function(e, t, i) {
            return this.roundPointToSpecified(e.lat, i) === this.roundPointToSpecified(t.lat, i) && this.roundPointToSpecified(e.lng, i) === this.roundPointToSpecified(t.lng, i)
        }
        ,
        s.truncateLatLng = function(e, t) {
            return n.a.latLng(this.roundPointToSpecified(e.lat, t), this.roundPointToSpecified(e.lng, t))
        }
        ,
        s.roundPointToSpecified = function(e, t) {
            return Math.round(Math.pow(10, t) * e) / Math.pow(10, t)
        }
        ,
        t.a = s
    },
    1349: function(e, t, i) {
        "use strict";
        t.a = {
            Duration: "sumDuration",
            Distance: "sumDistance",
            SwimLengths: "directLengthIndex",
            SwimDuration: "cumulativeDuration",
            SwimDistance: "cumulativeDistance"
        }
    },
    1351: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(1378)
              , h = i.n(c)
              , p = {
                CHANGE: "CHANGE"
            }
              , d = o.a.View.extend({
                template: n.a.template(h.a),
                events: {
                    "click li": "onInlineSelectionChanged"
                },
                initialize: function(e) {
                    if (this.formatClass = e.formatClass || "",
                    this.value = e.value,
                    this.items = e.items,
                    this.label = e.label,
                    this.includeDivider = !0,
                    this.scrollable = !0,
                    this.dropdownClass = e.dropdownClass || "",
                    "undefined" != typeof e.scrollable && (this.scrollable = e.scrollable),
                    "undefined" === typeof this.items)
                        throw "Items are required for InlineDropDownListView";
                    if ("undefined" === typeof this.value)
                        throw "Value is required for InlineDropDownListView";
                    "undefined" !== typeof e.includeDivider && (this.includeDivider = e.includeDivider),
                    this.options = e.options || {}
                },
                render: function() {
                    var e = this.findItem(this.value);
                    return this.scrollable && this.$el.addClass("inline-edit inline-edit-select"),
                    this.$el.html(this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        formatClass: this.formatClass,
                        className: this.className,
                        items: this.items,
                        selectedItem: e,
                        label: this.label,
                        useSelect: this.useSelect,
                        options: this.options,
                        includeDivider: this.includeDivider,
                        dropdownClass: this.dropdownClass
                    })),
                    this.$("[data-value=" + this.value + "]").addClass("active"),
                    this
                },
                findItem: function(e) {
                    for (var t = 0; t < this.items.length; t++) {
                        var i = this.items[t];
                        if (i.value == e)
                            return i;
                        if ("undefined" != typeof i.children)
                            for (var a = 0; a < i.children.length; a++) {
                                var n = i.children[a];
                                if (n.value == e)
                                    return n
                            }
                    }
                    return null
                },
                onInlineSelectionChanged: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).data("value");
                    i != this.value && (this.value = i,
                    this.trigger(p.CHANGE, this.value)),
                    this.render()
                }
            });
            d.Events = p,
            t.a = d
        }
        ).call(this, i(9))
    },
    1352: function(e, t) {
        e.exports = '<<%- tag %> href="<%- url %>" class="inline-edit-target <%- customClasses %>"><%- value %>\n<% if (label) {     %>\n<%- label %>\n<% }                %>\n</<%- tag %>>\n\n<% if(disableEditBtn) { %>\n    <span class="js-disable-edit" >\n        <button disabled>\n            <i class="icon-pencil"></i>\n        </button>\n    </span>\n<% } else { %>\n    <button class="inline-edit-trigger modal-trigger" aria-label="<%-\xa0Localizer.localize(\'edit\')\xa0%>">\n        <i class="icon-pencil"></i>\n    </button>\n\n    <div class="inline-edit-editable">\n        <div class="inline-edit-editable-text" style="min-width: 15px;" contenteditable="true"><%- value %></div>\n        <span class="inline-edit-actions">\n            <button class="inline-edit-save icon-checkmark" aria-label="<%-\xa0Localizer.localize(\'button_save\')\xa0%>"></button>\n            <button class="inline-edit-cancel icon-close" aria-label="<%-\xa0Localizer.localize(\'button_cancel\')\xa0%>"></button>\n        </span>\n    </div>\n<% } %>\n    \n\n'
    },
    1353: function(e, t, i) {
        "use strict";
        var a = Array.isArray;
        t.a = a
    },
    1354: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(1361)
          , h = i(83)
          , p = i(192)
          , d = i(1295)
          , u = i.n(d)
          , g = i(1323)
          , m = i.n(g)
          , f = i(1447)
          , y = i.n(f)
          , v = i(13)
          , b = i.n(v);
        m()(u.a),
        y()(u.a);
        t.a = o.a.View.extend({
            initialize: function(e) {
                this.report = e.report,
                this.reportType = e.reportType,
                this.activeTab = e.activeTab,
                this.metricList = e.metricList,
                this.metricPeriod = e.metricPeriod,
                this.userPreferences = e.userPreferences,
                this.daysInMonth = e.daysInMonth,
                this.chartType = e.chartType,
                this.chartFormat = e.chartFormat,
                this.currentDateOffset = e.currentDateOffset,
                this.startDateStr = e.startDateStr,
                this.fromDate = h.a.parseISO(this.startDateStr),
                this.untilDateStr = e.untilDateStr,
                this.toDate = h.a.parseISO(this.untilDateStr),
                this.initExportData(),
                this.initializeChart(e)
            },
            initExportData: function() {
                this.exportDataCount = 0,
                this.exportData = {
                    title: s.a.localize(this.report.metricName),
                    rows: []
                }
            },
            initializeChart: function(e) {},
            render: function() {
                this.calcStartingMonthDayAndYearNumbers(),
                this.getXAxisCategories(),
                this.yAxisTitle = this.determineYAxisTitle(),
                this.yAxisLabel = this.determineYAxisLabel(),
                this.initializeChartSeries(),
                this.createExportDataRowHeader(),
                this.compileStats(),
                null != this.chartSeries && (this.options = this.createOption(),
                this.setCategories(),
                this.setSeries(),
                this.customizeOptions(),
                this.chartObj = new u.a.Chart(this.el,this.options),
                this.postRender())
            },
            postRender: function() {},
            initializeChartSeries: function() {
                this.chartSeries = {}
            },
            createExportDataRowHeader: function() {},
            determineYAxisLabel: function() {
                return ""
            },
            compileStats: function() {
                this.metricList.each(this.processMetricList, this)
            },
            processMetricList: function(e) {
                var t = e.get("metricsMap")[this.report.metricName];
                if (t) {
                    this.metricAvailable = t.length;
                    for (var i = 0; i < t.length; i++)
                        this.addMetricToDataset(t[i])
                }
            },
            createZeroArray: function() {
                switch (this.metricPeriod) {
                case "daily":
                    return [0, 0, 0, 0, 0, 0, 0];
                case "weekly":
                    return [0, 0, 0, 0];
                case "monthly":
                    return [0, 0, 0, 0, 0, 0];
                case "yearly":
                    return [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                }
            },
            createNullArray: function() {
                switch (this.metricPeriod) {
                case "daily":
                    return [null, null, null, null, null, null, null];
                case "weekly":
                    return [null, null, null, null];
                case "monthly":
                    return [null, null, null, null, null, null];
                case "yearly":
                    return [null, null, null, null, null, null, null, null, null, null, null, null]
                }
            },
            getXAxisCategories: function() {
                switch (this.metricPeriod) {
                case "daily":
                    this.getDailyCategories();
                    break;
                case "weekly":
                    this.getWeeklyCategories();
                    break;
                case "monthly":
                    this.getMonthlyCategories();
                    break;
                case "yearly":
                    this.getYearlyCategories()
                }
            },
            createOption: function() {
                var e = {
                    chart: {
                        renderTo: "report-graph",
                        type: this.chartType,
                        backgroundColor: "transparent"
                    },
                    exporting: {
                        enabled: !1
                    },
                    credits: {
                        enabled: !1
                    },
                    title: {
                        text: ""
                    },
                    xAxis: {},
                    yAxis: {
                        min: 0,
                        title: {
                            text: "",
                            style: {
                                color: "#222"
                            }
                        },
                        labels: {
                            formatter: function() {
                                return l.a.formatDecimalNumber(this.value, 0) + " " + t.yAxisLabel
                            }
                        },
                        plotLines: [{
                            value: 0,
                            width: 1,
                            color: "#808080"
                        }],
                        allowDecimals: !1
                    },
                    legend: {
                        enabled: !1,
                        itemStyle: {
                            fontWeight: "normal"
                        }
                    },
                    plotOptions: {},
                    tooltip: {}
                }
                  , t = this;
                return "widget" == this.chartFormat ? (e.chart.height = 180,
                e.chart.width = 290,
                e.chart.events = {
                    click: function(e) {
                        e.preventDefault();
                        var i = "/report/" + t.report.metricId + "/" + t.reportType + "/" + t.activeTab;
                        o.a.history.navigate(i, {
                            trigger: !0
                        })
                    }
                }) : e.chart.zoomType = "xy",    // TX GCOverrides
                     e.chart.panning = true,     // TX GCOverrides
                     e.chart.panKey = 'shift',   // TX GCOverrides
                e
            },
            setCategories: function() {
                this.options.xAxis = {
                    categories: this.categories
                }
            },
            setSeries: function() {
                this.options.series = n.a.toArray(this.chartSeries)
            },
            getDailyCategories: function() {
                this.categories = [];
                for (var e = -6; e <= 0; e++) {
                    var t = new Date;
                    t.setHours(12),
                    t.setMinutes(0),
                    t.setMilliseconds(0),
                    t.setDate(t.getDate() + this.currentDateOffset),
                    t.setDate(t.getDate() + e);
                    var i, a = t.getDay().toString();
                    i = s.a.localize("day." + a + ".short"),
                    this.categories.push(i)
                }
            },
            getWeeklyCategories: function() {
                if (this.categories = [],
                this.startDateStr)
                    for (var e = h.a.parseISO(this.startDateStr), t = this.userPreferences.get("dateFormat").formatKey, i = 0; i < 4; i++) {
                        var a = c.a.formatMonthDate(p.a.addDays(e, 7 * i), t);
                        this.categories.push(a)
                    }
                else {
                    var n = "0";
                    switch (this.userPreferences.get("firstDayOfWeek").dayName) {
                    case "saturday":
                        n = "6";
                        break;
                    case "monday":
                        n = "1"
                    }
                    for (i = this.daysInMonth; i <= 0; i++) {
                        var r = new Date;
                        if (r.setHours(12),
                        r.setMinutes(0),
                        r.setMilliseconds(0),
                        r.setDate(r.getDate() + this.currentDateOffset),
                        r.setDate(r.getDate() + i),
                        r.getDay().toString() == n) {
                            var o = r.getDate().toString()
                              , l = (r.getMonth() + 1).toString()
                              , d = this.userPreferences.get("dateFormat");
                            a = "";
                            a = "mmddyyyy" == d.formatKey || "yyyymmdd" == d.formatKey ? s.a.localize("month.abbr." + (l.length > 1 ? l : "0" + l)) + " " + o : o + " " + s.a.localize("month.abbr." + (l.length > 1 ? l : "0" + l)),
                            this.categories.push(a)
                        }
                    }
                }
            },
            getMonthlyCategories: function() {
                this.categories = [];
                for (var e = this.startMonth, t = this.startYear, i = 0; i < 6; i++) {
                    var a = new Date(t,e + 1,0,0,0,0,0).getMonth() + 1;
                    this.categories.push(s.a.localize("month.abbr." + (a > 9 ? a : "0" + a))),
                    ++e > 11 && (t++,
                    e = 0)
                }
            },
            getYearlyCategories: function() {
                this.categories = [];
                var e = b()(this.startDateStr)
                  , t = b()(this.untilDateStr);
                for (this.startMonth = e.month(); e.isBefore(t); ) {
                    e.add(1, "M");
                    var i = e.month();
                    this.categories.push(s.a.localize("month.abbr." + p.a.pad2(i || 12)))
                }
            },
            calcStartingMonthDayAndYearNumbers: function() {
                var e = new Date;
                switch (e.setHours(12),
                e.setMinutes(0),
                e.setMilliseconds(0),
                e.setDate(e.getDate() + this.currentDateOffset),
                this.metricPeriod) {
                case "daily":
                    break;
                case "weekly":
                    e.setMonth(e.getMonth() - 1);
                    break;
                case "monthly":
                    e.setMonth(e.getMonth() - 5);
                    break;
                case "yearly":
                    e.setMonth(e.getMonth() - 11)
                }
                this.startMonth = e.getMonth(),
                this.startYear = e.getFullYear(),
                this.startDate = e.getDate()
            },
            calculateDailyDataIndex: function(e) {
                var t = c.a.formatDate(this.currentDateOffset)
                  , i = 7 - c.a.determineNumberOfDays(e, t);
                return i < 0 || i > 6 ? -1 : i
            },
            calculateWeeklyDataIndex: function(e) {
                var t = e.split("-")
                  , i = new Date(t[0],t[1] - 1,t[2],0,0,0)
                  , a = i.getMonth() + 1
                  , n = i.getDate()
                  , r = this.userPreferences.get("dateFormat")
                  , o = "";
                o = "mmddyyyy" == r.formatKey || "yyyymmdd" == r.formatKey ? s.a.localize("month.abbr." + (a > 9 ? a : "0" + a)) + " " + n : n + " " + s.a.localize("month.abbr." + (a > 9 ? a : "0" + a));
                var l = this.categories.indexOf(o);
                return l < 0 || l > 3 ? -1 : l
            },
            calculateMonthlyDataIndex: function(e) {
                var t = s.a.localize("month.abbr." + (e > 9 ? e : "0" + e))
                  , i = this.categories.indexOf(t);
                return i < 0 || i > 5 ? -1 : i
            },
            calculateYearlyDataIndex: function(e, t) {
                var i = e - this.startMonth + 12 * (t - this.startYear);
                return i < 0 || i > 11 ? -1 : i
            },
            determineDataIndex: function(e) {
                var t = "";
                switch (this.metricPeriod) {
                case "daily":
                    t = this.calculateDailyDataIndex(e.calendarDate);
                    break;
                case "weekly":
                    t = this.calculateWeeklyDataIndex(e.startDateOfWeek);
                    break;
                case "monthly":
                    var i = e.month;
                    t = this.calculateMonthlyDataIndex(i.monthId);
                    break;
                case "yearly":
                    i = e.month;
                    t = this.calculateYearlyDataIndex(i.monthId - 1, i.year, this.startMonth, this.startYear)
                }
                return t
            },
            getExportData: function() {
                return this.exportData
            }
        })
    },
    1355: function(e, t, i) {
        "use strict";
        var a = i(1353)
          , n = i(1629)
          , r = i(1696)
          , o = "Expected a function";
        function s(e, t) {
            if ("function" != typeof e || null != t && "function" != typeof t)
                throw new TypeError(o);
            var i = function i() {
                var a = arguments
                  , n = t ? t.apply(this, a) : a[0]
                  , r = i.cache;
                if (r.has(n))
                    return r.get(n);
                var o = e.apply(this, a);
                return i.cache = r.set(n, o) || r,
                o
            };
            return i.cache = new (s.Cache || r.a),
            i
        }
        s.Cache = r.a;
        var l = s
          , c = 500;
        var h = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
          , p = /\\(\\)?/g
          , d = function(e) {
            var t = l(e, function(e) {
                return i.size === c && i.clear(),
                e
            })
              , i = t.cache;
            return t
        }(function(e) {
            var t = [];
            return 46 === e.charCodeAt(0) && t.push(""),
            e.replace(h, function(e, i, a, n) {
                t.push(a ? n.replace(p, "$1") : i || e)
            }),
            t
        })
          , u = i(450)
          , g = i(1799)
          , m = i(1630)
          , f = 1 / 0
          , y = u.a ? u.a.prototype : void 0
          , v = y ? y.toString : void 0;
        var b = function e(t) {
            if ("string" == typeof t)
                return t;
            if (Object(a.a)(t))
                return Object(g.a)(t, e) + "";
            if (Object(m.a)(t))
                return v ? v.call(t) : "";
            var i = t + "";
            return "0" == i && 1 / t == -f ? "-0" : i
        };
        var A = function(e) {
            return null == e ? "" : b(e)
        };
        t.a = function(e, t) {
            return Object(a.a)(e) ? e : Object(n.a)(e, t) ? [e] : d(A(e))
        }
    },
    1356: function(e, t, i) {
        var a = i(2080);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1357: function(e, t, i) {
        "use strict";
        t.a = {
            googleUrl: "//maps.googleapis.com/maps/api/js?sensor=true",
            baiduUrl: "https://sapi.map.baidu.com/api?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&s=1&callback=initializeBaidu",
            baiduKey: "KQMz9KcIzBwWNUgbHWUHZGSD",
            HereAppCode: "D7pWNLGdZbuU0ReUY4A85g",
            HereAppId: "hYaBOISjlUD2egn6d3AT",
            HereAppGeocoderUrl: "https://geocoder.api.here.com/6.2/geocode.json"
        }
    },
    1360: function(e, t, i) {
        "use strict";
        var a, n, r = i(8), o = i.n(r), s = i(0), l = i.n(s), c = i(7), h = i(449), p = i(246), d = i(9), u = i.n(d), g = i(244), m = i.n(g), f = (i(1786),
        i(1506)), y = i.n(f), v = i(60), b = i(1357), A = (i(1948),
        m.a.Marker.extend({
            initialize: function(e, t) {
                m.a.Marker.prototype.initialize.call(this, e, t),
                this.label = {
                    text: ""
                }
            },
            setLabel: function(e) {
                this.label = e
            },
            getLabel: function() {
                return this.label
            },
            setTitle: function(e) {
                this._icon.innerHTML = e
            },
            setPosition: function(e) {
                this.setLatLng(e)
            }
        })), C = i(1380), w = C.a.extend({
            getHeatMapUrl: function(e) {
                return "undefined" != typeof e && null != e ? e[0] : ""
            }
        }), _ = C.a.extend({
            getHeatMapUrl: function(e) {
                if ("undefined" != typeof e && null != e && e.length > 1)
                    return e[1]
            }
        }), x = C.a.extend({
            getHeatMapUrl: function(e) {
                if ("undefined" != typeof e && null != e && e.length > 2)
                    return e[2]
            }
        }), S = m.a.TileLayer.extend({
            initialize: function(e, t) {
                m.a.Util.setOptions(this, t),
                this.url = e || "http://downloadqdc.garmin.com/GCSProxyServlet/MarineImages/{quadkey}.png"
            },
            getTileUrl: function(e) {
                var t = this._getZoomForUrl();
                return this.url.replace("{quadkey}", this.tile2quad(e.x, e.y, t))
            },
            tile2quad: function(e, t, i) {
                for (var a = "", n = i; n > 0; n--) {
                    var r = 0
                      , o = 1 << n - 1;
                    0 !== (e & o) && (r += 1),
                    0 !== (t & o) && (r += 2),
                    a += r
                }
                return a
            },
            _animateZoom: function(e) {
                this.zoomingIn = e.zoom > this._map.getZoom(),
                m.a.TileLayer.prototype._animateZoom.call(this, e)
            },
            _tileLoaded: function() {
                this._tilesToLoad--,
                this._animated && m.a.DomUtil.addClass(this._tileContainer, "leaflet-zoom-animated"),
                this._tilesToLoad || (this.fire("load"),
                this._clearBgBuffer())
            },
            _prepareBgBuffer: function() {
                var e = this._tileContainer
                  , t = this._bgBuffer
                  , i = this._getLoadedTilesPercentage(t)
                  , a = this._getLoadedTilesPercentage(e);
                if (t && i > .5 && a < .5)
                    return e.style.visibility = "hidden",
                    void this._stopLoadingImages(e);
                t.style.visibility = "hidden",
                this.zoomingIn ? (t.style.zIndex = 1,
                e.style.zIndex = 2) : (t.style.zIndex = 2,
                e.style.zIndex = 1),
                delete this.zoomingIn,
                t.style[m.a.DomUtil.TRANSFORM] = "",
                this._tileContainer = t,
                t = this._bgBuffer = e,
                this._stopLoadingImages(t),
                clearTimeout(this._clearBgBufferTimer)
            }
        }), T = i(1535), E = i(1301), k = m.a.Circle.extend({
            onAdd: function(e) {
                if (m.a.Circle.prototype.onAdd.call(this, e),
                this.options.draggable) {
                    var t, i = function(e) {
                        var i = m.a.latLng(e.latlng.lat - t.lat, e.latlng.lng - t.lng);
                        a.setLatLng(i),
                        a.fireEvent("drag")
                    }, a = this;
                    this.on("mousedown", function(a) {
                        t = {
                            lat: a.latlng.lat - this.getLatLng().lat,
                            lng: a.latlng.lng - this.getLatLng().lng
                        },
                        e.dragging.disable(),
                        e.on("mousemove", i)
                    }),
                    this.on("click", function(e) {
                        m.a.DomEvent.stopPropagation(e)
                    }),
                    e.on("mouseup", function(t) {
                        e.dragging.enable(),
                        e.off("mousemove", i),
                        a.fireEvent("dragend")
                    })
                }
            },
            getCenter: function() {
                return this.getLatLng()
            },
            setCenter: function(e) {
                this.setLatLng(e)
            }
        }), L = m.a.Rectangle.extend({
            onAdd: function(e) {
                m.a.Rectangle.prototype.onAdd.call(this, e);
                var t = this
                  , i = function() {
                    u()(t.editing._moveMarker._icon).hide()
                };
                t.on("mousedown", function(i) {
                    t.isDragging = !0,
                    t.initialBounds = t.getBounds(),
                    t.mouseDownPosition = h.a.getStandardizedPoint(i.latlng),
                    t.editing.disable(),
                    e.dragging.disable()
                }),
                e.on("mousemove", function(e) {
                    if (t.isDragging) {
                        var i = h.a.getStandardizedPoint(e.latlng)
                          , a = {
                            lat: i.lat - t.mouseDownPosition.lat,
                            lon: i.lon - t.mouseDownPosition.lon
                        }
                          , n = new m.a.LatLng(h.a.getStandardizedPoint(t.initialBounds.getSouthWest()).lat + a.lat,h.a.getStandardizedPoint(t.initialBounds.getSouthWest()).lon + a.lon)
                          , r = new m.a.LatLng(h.a.getStandardizedPoint(t.initialBounds.getNorthEast()).lat + a.lat,h.a.getStandardizedPoint(t.initialBounds.getNorthEast()).lon + a.lon)
                          , o = new m.a.latLngBounds(n,r);
                        t.setBounds(o)
                    }
                }),
                e.on("mouseup", function() {
                    delete t.isDragging,
                    t.editing.enable(),
                    i(),
                    e.dragging.enable()
                }),
                t.editing.enable(),
                setTimeout(i())
            },
            getStandardizedBounds: function() {
                var e = this.getBounds();
                return {
                    sw: h.a.getStandardizedPoint(e.getSouthWest()),
                    ne: h.a.getStandardizedPoint(e.getNorthEast())
                }
            }
        }), P = i(1320), z = i.n(P), I = i(121), D = i.n(I), B = (i(1949),
        i(1787),
        {
            ON_MAP_READY: "ON_MAP_READY",
            ON_MAP_PROVIDER_CHANGED: "ON_MAP_PROVIDER_CHANGED",
            ON_VISIBLE_TILES_LOADED: "ON_VISIBLE_TILES_LOADED"
        }), M = {
            road: "ROADMAP",
            satellite: "SATELLITE",
            terrain: "TERRAIN",
            hybrid: "HYBRID"
        }, O = "moveend", R = "dragstart", N = "drag", V = "dragend", j = T.a.TileLayer, F = {
            road: "mapbox.streets",
            satellite: "mapbox.satellite"
        }, G = {
            road: "ROAD.Map",
            satellite: "SATELLITE.Map"
        }, U = l.a.View.extend({
            providers: {
                GOOGLE: "google",
                HERE: "here",
                OSM: "osm",
                BAIDU: "BAIDU_V_1_4"
            },
            initialize: function(e) {
                e = this.addInitializationDefaults(e),
                this.initializeState(e),
                h.a.userInChina() && h.a.isBaiduEnabled() && (this.mapProvider = z.a.Map.Utils.PROVIDER_TYPE_BAIDU)
            },
            addInitializationDefaults: function(e) {
                return o.a.defaults(e, {
                    enableBikeLanes: !0,
                    disablePanning: !1,
                    disableZooming: !1,
                    showControlScale: !0,
                    zoomLimits: {
                        min: 3,
                        max: 18
                    }
                })
            },
            initializeState: function(e) {
                this.el = e.el,
                this.viewerIsAuthenticated = e.viewerIsAuthenticated,
                this.mapContainerId = e.mapContainerId,
                this.mapContainerClass = e.mapContainerClass,
                this.enableBikeLanes = e.enableBikeLanes,
                this.disablePanning = e.disablePanning,
                this.disableZooming = e.disableZooming,
                this.showControlScale = e.showControlScale,
                this.mapProvider = e.mapProvider,
                this.mapStyle = e.mapStyle,
                this.zoom = e.zoom,
                this.zoomLimits = e.zoomLimits,
                this.mapHasBeenInitialized = !1,
                this.hideAttributionControl = e.hideAttributionControl
            },
            render: function() {
                return this.$el.attr("id", this.mapContainerId),
                this.$el.addClass(this.mapContainerClass),
                this.el
            },
            loadMap: function() {
                var e = this;
                this.mapProvider === z.a.Map.Utils.PROVIDER_TYPE_BAIDU ? D()(["https://api.map.baidu.com/getscript?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&services=", "https://sapi.map.baidu.com/api?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&s=1&callback="], function() {
                    var t = i.e(74).then(i.t.bind(null, 5051, 7))
                      , n = i.e(261).then(i.bind(null, 2431))
                      , r = i.e(262).then(i.bind(null, 5464))
                      , o = i.e(75).then(i.t.bind(null, 5052, 7));
                    Promise.all([t, n, r, o]).then(function(t) {
                        var i = Object(p.a)(t, 3)
                          , n = (i[1],
                        i[2])
                          , r = n ? n.default : null;
                        a = r,
                        e.checkAndRenderMap()
                    })
                }) : Promise.all(this.loadMapProviders()).then(function(t) {
                    var i = Object(p.a)(t, 3)
                      , a = i[1]
                      , r = i[2]
                      , o = a ? a.default : null
                      , s = r ? r.default : null;
                    "google" === e.mapProvider ? new o(null,function() {
                        n = s,
                        e.checkAndRenderMap()
                    }
                    ) : e.checkAndRenderMap()
                })
            },
            checkAndRenderMap: function() {
                this.mapProvider && h.a.isMapProviderValid(this.mapProvider) ? this.renderMap() : this.viewerIsAuthenticated ? this.loadMapProviderPreference() : (this.mapProvider = "google",
                this.loadMap()),
                this.showDefaultZoomControls || this.$(".leaflet-control-zoom").hide()
            },
            loadMapProviders: function() {
                var e, t, a;
                switch (this.mapProvider) {
                case "google":
                    e = i.e(263).then(i.bind(null, 1430)),
                    t = i.e(264).then(i.bind(null, 2737)),
                    a = i.e(265).then(i.bind(null, 5465));
                    break;
                case "here":
                    e = i.e(266).then(i.t.bind(null, 1998, 7)),
                    t = i.e(267).then(i.bind(null, 2647));
                    break;
                case "osm":
                    e = i.e(268).then(i.t.bind(null, 2646, 7)),
                    t = i.e(269).then(i.bind(null, 5466))
                }
                return [e, t, a]
            },
            loadMapProviderPreference: function() {
                this.mapProviderPreference = new v.a({
                    key: "map_provider_type"
                }),
                this.mapProviderPreference.once("sync", function() {
                    this.mapProvider = this.mapProviderPreference.get("value"),
                    null == this.mapProvider && (this.mapProvider = "google"),
                    this.loadMap()
                }, this),
                this.mapProviderPreference.fetch()
            },
            renderMap: function() {
                var e = this.getLeafletOptions();
                0 !== u()("#" + this.mapContainerId).length && (this.map = m.a.map(this.mapContainerId, e),
                this.map.attributionControl && this.map.attributionControl.setPrefix(""),
                this.configureMap(),
                this.changeMapStyle(this.mapStyle || "road"),
                this.mapHasBeenInitialized = !0,
                this.trigger(B.ON_MAP_READY),
                this.setupEvents())
            },
            getLeafletOptions: function() {
                var e = {};
                return this.zoomLimits && (e.minZoom = this.zoomLimits.min),
                this.hideAttributionControl && (e.attributionControl = !1),
                e.zoom = this.zoom,
                e.worldCopyJump = !0,
                e
            },
            configureMap: function() {
                this.disableZooming ? this.map.scrollWheelZoom.disable() : this.map.scrollWheelZoom.enable(),
                this.disablePanning ? this.map.dragging.disable() : this.map.dragging.enable(),
                this.showControlScale && m.a.control.scale({
                    position: "bottomright"
                }).addTo(this.map)
            },
            setupEvents: function() {
                this.currentLayer.on("load", function() {
                    this.trigger(B.ON_VISIBLE_TILES_LOADED),
                    this.map.invalidateSize()
                }
                .bind(this))
            },
            changeMapStyle: function(e) {
                if (e && (!this.currentLayer || e !== this.mapStyle))
                    return this.currentLayer && this.map.removeLayer(this.currentLayer),
                    this.mapStyle = e,
                    h.a.userInChina() ? (this.map.options.crs = m.a.CRS.BEPSG3857,
                    this.currentLayer = new m.a.GarminBaidu(G[e]),
                    this.map.addLayer(this.currentLayer)) : this.mapProvider === this.providers.GOOGLE ? (this.googleLayer = new m.a.GridLayer.GoogleMutant({
                        maptype: M[e],
                        maxZoom: this.zoomLimits.max
                    }),
                    this.currentLayer = this.googleLayer,
                    this.map.addLayer(this.googleLayer),
                    this.map.on("layeradd", function() {
                        this.enableBikeLanes && this.toggleBicycleLayer(!0)
                    }
                    .bind(this))) : this.mapProvider === this.providers.HERE ? (this.currentLayer = new m.a.tileLayer.here({
                        appId: b.a.HereAppId,
                        appCode: b.a.HereAppCode,
                        scheme: E.a.HereMapTileTypeMapping[e.toLowerCase()]
                    }),
                    this.map.addLayer(this.currentLayer)) : (this.currentLayer = this.getOpenStreetMapLayer(e),
                    this.map.addLayer(this.currentLayer)),
                    !0
            },
            getMapProvider: function() {
                return this
            },
            changeMapProvider: function(e) {
                this.mapProvider !== e && (this.mapProvider = e,
                this.trigger(B.ON_MAP_PROVIDER_CHANGED, e))
            },
            zoomIn: function() {
                this.map.zoomIn(),
                this._setZoom()
            },
            zoomOut: function() {
                this.map.zoomOut(),
                this._setZoom()
            },
            fitMapToPoints: function(e, t) {
                e && (o.a.isArray(e) && e.length > 0 || e instanceof m.a.LatLngBounds) && this.map.fitBounds(e),
                t && t.zoomOutDelta && this.map.zoomOut(t.zoomOutDelta),
                this._setZoom()
            },
            hasLabelSupport: function() {
                return this.mapProvider === this.providers.GOOGLE
            },
            toggleBicycleLayer: function(e) {
                this.enableBikeLanes = e,
                this.googleLayer && (this.enableBikeLanes ? this.googleLayer.addGoogleLayer("BicyclingLayer") : this.googleLayer.removeGoogleLayer("BicyclingLayer"))
            },
            getMapProviderType: function() {
                return this.mapProvider
            },
            hasTerrainSupport: function() {
                return this.mapProvider === this.providers.GOOGLE
            },
            hasTrailSupport: function() {
                return this.mapProvider === this.providers.GOOGLE
            },
            hasHeatmapSupport: function() {
                return !0
            },
            removeMarker: function(e) {
                return this.map.removeLayer(e)
            },
            removePolyline: function(e) {
                return this.map.removeLayer(e)
            },
            addPolyline: function(e, t) {
                if (e.length < 2)
                    return null;
                var i = {};
                t && (i.interactive = t.clickable,
                i.opacity = t.opacity,
                i.color = t.strokeColor,
                i.weight = t.width,
                i.stroke = t.visible),
                i = o.a.defaults(i, {
                    interactive: !1,
                    opacity: z.a.Map.Utils.LINE_OPACITY,
                    color: "#FF0000",
                    weight: z.a.Map.Utils.LINE_WIDTH,
                    stroke: !0
                });
                var a = m.a.polyline(e, i);
                return this.map.addLayer(a).on("load", function() {
                    this.trigger(B.ON_VISIBLE_TILES_LOADED)
                }
                .bind(this)),
                a
            },
            addHotlinePolyline: function(e, t) {
                var i = m.a.hotline(e, t);
                return this.map.addLayer(i),
                i
            },
            showPolyline: function(e) {
                this.map.addLayer(e)
            },
            baiduMapsDisabled: function() {
                return !0
            },
            addMarker: function(e, t, i, a, n, r) {
                var s = {
                    icon: m.a.icon({
                        iconUrl: i.iconURL,
                        iconAnchor: [i.iconAnchor.x, i.iconAnchor.y],
                        iconSize: [i.iconSize.width, i.iconSize.height]
                    }),
                    zIndexOffset: i.zIndex
                }
                  , l = m.a.marker([e, t], s);
                return l.addTo(this.map),
                a && o.a.isFunction(a) && l.on("click", a),
                n && o.a.isFunction(n) && l.on("mouseover", n),
                r && o.a.isFunction(r) && l.on("mouseout", r),
                l
            },
            bindPopupToMarker: function(e, t) {
                var i = m.a.popup(e).setContent(e.popupText);
                return t.bindPopup(i),
                i
            },
            addNumberedMarker: function(e, t, i, a) {
                var n = {
                    icon: m.a.divIcon({
                        html: '<span class="course-pt course-pt-lap">' + a + "</span>",
                        className: "map-marker",
                        iconAnchor: [Math.floor(10), Math.floor(10)],
                        iconSize: [20, 20]
                    }),
                    zIndexOffset: i.zIndex
                }
                  , r = m.a.marker([e, t], n);
                return r.addTo(this.map),
                r
            },
            removeLayer: function(e) {
                this.map.eachLayer(o.a.bind(function(t) {
                    e(t) && this.map.removeLayer(t)
                }, this))
            },
            setView: function(e, t) {
                var i = h.a.getStandardizedPoint(e);
                this.map.setView([i.lat, i.lon], t || this.zoom),
                this._setZoom()
            },
            locate: function(e) {
                this.map.locate(e),
                this._setZoom()
            },
            addLineListener: function(e, t, i) {
                i.on(e, function(e) {
                    t({
                        eventPoint: {
                            lat: e.latlng.lat,
                            lon: e.latlng.lng
                        }
                    })
                })
            },
            addMapListener: function(e, t) {
                var i = this.toProprietaryEventName(e);
                this.map.on(i, t)
            },
            enableTerrain: function(e) {
                this.hasTerrainSupport() && (e ? this.changeMapStyle("terrain") : this.changeMapStyle("road"))
            },
            enableTrails: function(e) {
                this.hasTrailSupport() && this.toggleBicycleLayer(e)
            },
            enableLabels: function(e) {
                this.hasLabelSupport() && (e ? this.changeMapStyle("hybrid") : this.changeMapStyle("satellite"))
            },
            enableHeatMaps: function(e, t) {
                this.hasHeatmapSupport() && (this.toggleHeatmapLayersOff(),
                z.a.Map.Utils.activityType = "cycling" == t ? "cycling" : "running",
                e && this.toggleHeatmapLayersOn())
            },
            toggleHeatmapLayersOn: function() {
                var e = this;
                this.getHeatMapDependencies().done(function() {
                    var t = z.a.Map.Utils.heatmapPreferences;
                    null != t && (e.map.addLayer(new w("",{
                        tileSize: 256,
                        maxZoom: t.heatmapCityZoomLevelEnd,
                        minZoom: t.heatmapGlobalZoomLevelStart,
                        opacity: t.heatmapLayerOpacity,
                        zIndex: 2
                    })),
                    e.map.addLayer(new _("",{
                        tileSize: 256,
                        maxZoom: t.heatmapCityZoomLevelEnd,
                        minZoom: t.heatmapGlobalZoomLevelStart,
                        opacity: t.heatmapLayerOpacity,
                        zIndex: 2
                    })),
                    e.map.addLayer(new x("",{
                        tileSize: 256,
                        maxZoom: t.heatmapCityZoomLevelEnd,
                        minZoom: t.heatmapGlobalZoomLevelStart,
                        opacity: t.heatmapLayerOpacity,
                        zIndex: 2
                    })))
                })
            },
            getHeatMapDependencies: function() {
                var e = u.a.Deferred();
                return z.a.Map.Utils.getHeatMapPreferences().done(function() {
                    z.a.Map.Utils.getAllHeatMapFolderData(z.a.Map.Utils.heatmapPreferences.heatmapActiveVersion).done(function() {
                        e.resolve()
                    })
                }),
                e
            },
            toggleHeatmapLayersOff: function() {
                this.removeLayer(function(e) {
                    return e instanceof C.a
                })
            },
            getOpenStreetMapLayer: function(e) {
                return j.options.id = F[e] ? F[e] : F.road,
                new m.a.GarminOSMLayer(j.url,j.options)
            },
            addTilesOverlay: function(e, t) {
                var i = new S(e,t);
                this.map.addLayer(i),
                this.map.on("layeradd", function(e) {
                    i.bringToFront()
                })
            },
            getMapCenterZoom: function() {
                return {
                    center: h.a.getStandardizedPoint(this.map.getCenter()),
                    zoom: this.map.getZoom()
                }
            },
            getTargetZoom: function() {
                return !1
            },
            zoomInMapToUsersLocation: function(e, t, i) {
                this.map.locate({
                    maxZoom: t,
                    setView: !0
                }).on("locationfound", function(e) {
                    this._setZoom(),
                    i && i(e)
                }
                .bind(this))
            },
            displayAreaSelectionTool: function() {
                var e = this.map.latLngToLayerPoint(this.map.getCenter())
                  , t = new m.a.Point(e.x - 100,e.y + 100)
                  , i = new m.a.Point(e.x + 100,e.y - 100)
                  , a = new m.a.latLngBounds(this.map.layerPointToLatLng(t),this.map.layerPointToLatLng(i));
                return this.selectionRect = new L(a,{
                    color: "#000",
                    weight: 2,
                    opacity: .4,
                    fillColor: "#000",
                    fillOpacity: .4,
                    editing: {},
                    original: {}
                }).addTo(this.map),
                this.selectionRect
            },
            removeAreaSelectionTool: function() {
                this.selectionRect && (this.map.off("mouseup"),
                this.selectionRect.off("mousedown"),
                this.map.off("mousemove"),
                this.map.removeLayer(this.selectionRect),
                delete this.selectionRect)
            },
            searchForLocation: function(e, t) {
                if (h.a.userInChina()) {
                    var i = this
                      , a = new BMap.LocalSearch(new BMap.Map("container"),{
                        onSearchComplete: function() {
                            if (a.getResults().getPoi(0)) {
                                var e, n, r = a.getResults().getPoi(0).point, o = [];
                                e = m.a.latLng(r.lat, r.lng),
                                n = m.a.latLngBounds(e, e),
                                o[0] = {
                                    bbox: n,
                                    center: e
                                },
                                i.fitMapToPoints(n),
                                t && t(o[0], o)
                            } else
                                t(a.getResults())
                        }
                    });
                    a.search(e)
                } else {
                    var n = new m.a.Control.Geocoder.Google;
                    this.mapProvider !== E.a.MapProviders.GOOGLE && (n = new m.a.Control.Geocoder.HERE({
                        geocodeUrl: b.a.HereAppGeocoderUrl,
                        app_id: b.a.HereAppId,
                        app_code: b.a.HereAppCode
                    })),
                    n.geocode(e, function(e) {
                        var i = null;
                        0 !== e.length && (i = e[0],
                        this.fitMapToPoints(i.bbox),
                        t && t(i, e))
                    }, this)
                }
            },
            searchAddressByPosition: function(e, t) {
                h.a.userInChina() ? (this.addressService = new a,
                this.addressService.fetch({
                    location: [e.lat, e.lng],
                    success: function(e) {
                        t(e)
                    }
                })) : (new n).fetch({
                    location: [e.lat, e.lng],
                    success: function(e) {
                        t(e.address)
                    },
                    error: function() {
                        t()
                    }
                }, this)
            },
            displayPrivacyZone: function(e, t, i, a) {
                var n = this.displayCircleAndMarkersToMap(t, a);
                this.panPointToMap(n.circle)
            },
            displayCircleAndMarkersToMap: function(e, t) {
                var i = new k([e.center.lat, e.center.lng],e.radius,{
                    weight: e.strokeWeight,
                    color: e.strokeColor,
                    fillColor: e.fillColor,
                    fillOpacity: e.fillOpacity,
                    draggable: e.draggable
                }).addTo(this.map)
                  , a = t.icon
                  , n = m.a.icon({
                    iconUrl: a.url,
                    iconSize: m.a.point(a.scaledSize, a.scaledSize),
                    iconAnchor: m.a.point(a.anchor, a.anchor)
                });
                return {
                    circle: i,
                    marker: new A([t.position.lat, t.position.lng],{
                        icon: n,
                        draggable: t.draggable
                    }).addTo(this.map)
                }
            },
            panPointToMap: function(e) {
                var t = e.getBounds()
                  , i = [];
                i.push([t.getSouthWest().lat, t.getSouthWest().lng]),
                i.push([t.getNorthEast().lat, t.getNorthEast().lng]),
                this.fitMapToPoints(i)
            },
            toProprietaryEventName: function(e) {
                var t = e;
                switch (e) {
                case z.a.Map.Utils.EVENT_DRAG_START:
                    t = R;
                    break;
                case z.a.Map.Utils.EVENT_DRAGGING:
                    t = N;
                    break;
                case z.a.Map.Utils.EVENT_DRAG_END:
                    t = V;
                    break;
                case z.a.Map.Utils.EVENT_MAP_VIEW_CHANGE_END:
                    t = O;
                    break;
                default:
                    t = e
                }
                return t
            },
            displayPrivacyZoneMap: function(e, t, i, a, n, r, o, s) {
                var l = !1;
                if (y.a.isOutOfChina(t.center.lat, t.center.lng) && (l = !0),
                h.a.userInChina() && !l) {
                    var c = this
                      , p = {
                        lat: t.center.lat,
                        lng: t.center.lng
                    };
                    y.a.convert(p, function(e) {
                        t.center = {
                            lat: e.lat,
                            lng: e.lon
                        },
                        a.position = {
                            lat: e.lat,
                            lng: e.lon
                        };
                        var i = c.displayCircleAndMarkersToMap(t, a);
                        s.zoneCircle = i.circle,
                        s.zoneCircle.marker = i.marker,
                        s.zoneCircle.on(r, s.onCircleDragHandler.bind(s)),
                        s.zoneCircle.marker.on(r, s.onMarkerDragHandler.bind(s)),
                        s.zoneCircle.on(o, s.updateAddressBar.bind(s)),
                        s.zoneCircle.marker.on(o, s.updateAddressBar.bind(s)),
                        c.panPointToMap(s.zoneCircle)
                    })
                } else {
                    var d = this.displayCircleAndMarkersToMap(t, a);
                    s.zoneCircle = d.circle,
                    s.zoneCircle.marker = d.marker,
                    s.zoneCircle.on(r, s.onCircleDragHandler.bind(s)),
                    s.zoneCircle.marker.on(r, s.onMarkerDragHandler.bind(s)),
                    s.zoneCircle.on(o, s.updateAddressBar.bind(s)),
                    s.zoneCircle.marker.on(o, s.updateAddressBar.bind(s)),
                    this.panPointToMap(s.zoneCircle)
                }
            },
            formatPointAsObject: function(e) {
                return e
            },
            getDraggingEventPoint: function(e) {
                return e.target.getLatLng()
            },
            getEventPoint: function(e) {
                return e.latlng
            },
            getMapPoint: function(e) {
                return e
            },
            getLocationPoint: function(e) {
                return e.center
            },
            _setZoom: function() {
                this.zoom = this.map.getZoom()
            },
            resizeMap: function() {
                this.map.invalidateSize()
            },
            changeCursorStyle: function(e) {
                this.$el.css("cursor", e)
            }
        });
        U.Events = B;
        var H = U
          , K = {
            ON_MAP_READY: "ON_MAP_READY",
            ON_VISIBLE_TILES_LOADED: "ON_VISIBLE_TILES_LOADED",
            ON_MAP_PROVIDER_CHANGED: "ON_MAP_PROVIDER_CHANGED"
        }
          , W = "NOT_LOADED"
          , Q = {};
        Q.google = {
            key: "google",
            loadStatus: W,
            moduleName: "garmingooglemaps",
            syncModel: new l.a.Model
        },
        Q.osm = {
            key: "osm",
            loadStatus: W,
            moduleName: "garminosmmaps",
            syncModel: new l.a.Model
        },
        Q.BAIDU_V_1_4 = {
            key: "BAIDU_V_1_4",
            loadStatus: W,
            moduleName: "garminbaidumaps",
            syncModel: new l.a.Model
        };
        var Y = l.a.View.extend({
            initialize: function(e) {
                if (!e.mapContainerId)
                    throw "mapContainerId required for MapView";
                if ("undefined" == typeof e.width)
                    throw "Width is required for Map View";
                if ("undefined" == typeof e.height)
                    throw "Height is required for Map View";
                this.mapProvider = e.mapProvider,
                this.args = e,
                this.onReady = e.onReady,
                this.map = new H(o.a.defaults({
                    el: this.el,
                    mapProvider: this.mapProvider
                }, e)),
                this.bindMapEvents()
            },
            bindMapEvents: function() {
                this.listenTo(this.map, K.ON_MAP_READY, this.onMapReady.bind(this)),
                this.listenTo(this.map, K.ON_MAP_PROVIDER_CHANGED, this.onMapProviderChanged.bind(this)),
                this.listenTo(this.map, K.ON_VISIBLE_TILES_LOADED, this.onVisibleTilesLoaded.bind(this))
            },
            onMapReady: function() {
                this.configureMap(),
                h.a.userInChina() && this.$el.append('<div class="baiduLogo"></div>'),
                this.onReady && this.onReady(),
                this.trigger(K.ON_MAP_READY)
            },
            configureMap: function() {
                this.args.cursorStyle && this.map.changeCursorStyle(this.args.cursorStyle)
            },
            onMapProviderChanged: function() {
                this.trigger(K.ON_MAP_PROVIDER_CHANGED)
            },
            onVisibleTilesLoaded: function() {
                this.trigger(K.ON_VISIBLE_TILES_LOADED)
            },
            render: function() {
                this.map.render()
            },
            loadMap: function() {
                return this.map.loadMap()
            },
            isMapProviderValid: function(e) {
                return !(!this.isBaiduEnabled() && "BAIDU_V_1_4" === e)
            },
            onAPIsLoaded: function() {
                return this.map.onAPIsLoaded()
            },
            zoomIn: function() {
                return this.map.zoomIn()
            },
            zoomOut: function() {
                return this.map.zoomOut()
            },
            addMarker: function(e, t, i, a, n, r) {
                return this.map.addMarker(e, t, i, a, n, r)
            },
            bindPopupToMarker: function(e, t) {
                return this.map.bindPopupToMarker(e, t)
            },
            addNumberedMarker: function(e, t, i, a, n, r, o) {
                return this.map.addNumberedMarker(e, t, i, a, n, r, o)
            },
            addInfoBox: function(e, t) {
                return this.map.addInfoBox(e, t)
            },
            removeInfoBox: function(e) {
                return this.map.removeInfoBox(e)
            },
            removeMarker: function(e) {
                return this.map.removeMarker(e)
            },
            removePolyline: function(e) {
                return this.map.removePolyline(e)
            },
            setBounds: function(e, t) {
                return this.map.setBounds(e, t)
            },
            closeInfoBoxes: function() {
                return this.map.closeInfoBoxes()
            },
            isInfoBoxOpen: function(e) {
                return this.map.isInfoBoxOpen(e)
            },
            addPolyline: function(e, t) {
                return this.map.addPolyline(e, t)
            },
            addEncodedPolyline: function(e, t) {
                return this.map.addEncodedPolyline(e, t)
            },
            fitMapToPoints: function(e, t) {
                return this.map.fitMapToPoints(e, t)
            },
            fitMapToPointsWithoutConvert: function(e) {
                this.map.fitMapToPointsWithoutConvert(e)
            },
            convertPoint: function(e, t) {
                this.map.convertPoint(e, t)
            },
            displayPrivacyZone: function(e, t, i, a) {
                return this.map.displayPrivacyZone(e, t, i, a)
            },
            displayPrivacyZoneMap: function(e, t, i, a, n, r, o, s) {
                return this.map.displayPrivacyZoneMap(e, t, i, a, n, r, o, s)
            },
            formatPointAsObject: function(e) {
                return this.map.formatPointAsObject(e)
            },
            changeMapProvider: function(e) {
                return this.map.changeMapProvider(e)
            },
            addClickHandler: function(e, t) {
                return this.map.addClickHandler(e, t)
            },
            changeCursorStyle: function(e) {
                return this.map.changeCursorStyle(e)
            },
            getMapProvider: function() {
                return this.map.getMapProvider()
            },
            getMapProviderType: function() {
                return this.map.getMapProviderType()
            },
            enableTerrain: function(e) {
                return this.map.enableTerrain(e)
            },
            enableTrails: function(e) {
                return this.map.enableTrails(e)
            },
            enableLabels: function(e) {
                return this.map.enableLabels(e)
            },
            enableHeatMaps: function(e, t) {
                return this.map.enableHeatMaps(e, t)
            },
            hasTerrainSupport: function() {
                return this.map.hasTerrainSupport()
            },
            hasTrailSupport: function() {
                return this.map.hasTrailSupport()
            },
            hasHeatmapSupport: function() {
                return this.map.hasHeatmapSupport()
            },
            hasLabelSupport: function() {
                return this.map.hasLabelSupport()
            },
            loadMapProvider: function(e) {
                return this.map.loadMapProvider()
            },
            isBaiduEnabled: function() {
                return this.map.isBaiduEnabled()
            },
            searchForLocation: function(e, t) {
                this.map.searchForLocation(e, t)
            },
            displayAreaSelectionTool: function(e) {
                return this.map.displayAreaSelectionTool(e)
            },
            removeAreaSelectionTool: function() {
                return this.map.removeAreaSelectionTool()
            },
            addTilesOverlay: function(e, t) {
                this.map.addTilesOverlay(e, t || {})
            },
            zoomInMapToUsersLocation: function(e, t, i) {
                return this.map.zoomInMapToUsersLocation(e, t, i)
            },
            zoomInMapToSpecificLocation: function(e) {
                return this.map.zoomInMapToSpecificLocation(e)
            },
            limitZoomOnMouseWheel: function() {
                return this.map.limitZoomOnMouseWheel()
            },
            disableDoubleClickZoom: function() {
                return this.map.disableDoubleClickZoom()
            },
            displayCustomCircle: function(e) {
                return this.map.displayCustomCircle(e)
            },
            displayCustomMarker: function(e, t) {
                return this.map.displayCustomMarker(e, t)
            },
            getEventPoint: function(e) {
                return this.map.getEventPoint(e)
            },
            getDraggingEventPoint: function(e) {
                return this.map.getDraggingEventPoint(e)
            },
            getLocationPoint: function(e) {
                return this.map.getLocationPoint(e)
            },
            getMapPoint: function(e) {
                return this.map.getMapPoint(e)
            },
            searchAddressByPosition: function(e, t) {
                this.map.searchAddressByPosition(e, t)
            },
            searchUpdateAddressByPosition: function(e, t) {
                this.map.searchUpdateAddressByPosition(e, t)
            },
            changeMapStyle: function(e) {
                return this.map.changeMapStyle(e)
            },
            remove: function() {
                if (this.map)
                    return this.map.remove()
            },
            getMapCenterZoom: function() {
                return this.map.getMapCenterZoom()
            },
            getUrlVars: function() {
                return this.map.getUrlVars()
            },
            disableBaidu: function() {
                this.map.baiduMapsDisabled()
            },
            mapHasBeenInitialized: function() {
                return !!this.map && this.map.mapHasBeenInitialized
            },
            getTrails: function() {
                this.map.hasTrailSupport()
            },
            toggleBicycleLayer: function(e) {
                this.map.toggleBicycleLayer(e)
            },
            setView: function(e, t) {
                this.map.setView(e, t)
            },
            locate: function(e) {
                this.map.locate(o.a.extend({
                    setView: !0
                }, e))
            },
            addLineListener: function(e, t, i) {
                this.map.addLineListener(e, t, i)
            },
            addMapListener: function(e, t) {
                this.map.addMapListener(e, t)
            },
            getTargetZoom: function() {
                return this.map.getTargetZoom()
            },
            resizeMap: function() {
                return this.map.resizeMap()
            },
            toProprietaryEventName: function(e) {
                return this.map.toProprietaryEventName(e)
            },
            onWindowResized: function() {
                window.matchMedia("(max-width: 767px)").matches ? (this.showScrollToggleButton(),
                "google" !== this.mapProvider && this.$el.addClass("pointer-events-none")) : (this.hideScrollToggleButton(),
                this.$el.removeClass("pointer-events-none"));
                var e = this.$el.hasClass("pointer-events-none") ? c.a.localize("enable_scrolling") : c.a.localize("disable_scrolling");
                this.setTextForEnableDisableScrollButton(e)
            },
            setTextForEnableDisableScrollButton: function(e) {
                this.$(".map-control-item.scrolling").text(e)
            },
            hideScrollToggleButton: function() {
                this.$(".map-control-item.scrolling").addClass("hide")
            },
            showScrollToggleButton: function() {
                this.$(".map-control-item.scrolling").removeClass("hide")
            },
            toggleMapInteraction: function(e) {
                e ? this.$el.removeClass("pointer-events-none") : this.$el.addClass("pointer-events-none")
            },
            addHotlinePolyline: function(e, t) {
                return this.map.addHotlinePolyline(e, t)
            },
            showPolyline: function(e) {
                this.map.showPolyline(e)
            }
        });
        Y.Events = K;
        t.a = Y
    },
    1362: function(e, t, i) {
        "use strict";
        var a = i(250)
          , n = i(10);
        function r(e) {
            for (var t = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, i = 1; i < arguments.length; i++)
                t += "&args[]=" + encodeURIComponent(arguments[i]);
            return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
        }
        var o = "function" === typeof Symbol && Symbol.for
          , s = o ? Symbol.for("react.portal") : 60106
          , l = o ? Symbol.for("react.fragment") : 60107
          , c = o ? Symbol.for("react.strict_mode") : 60108
          , h = o ? Symbol.for("react.profiler") : 60114
          , p = o ? Symbol.for("react.provider") : 60109
          , d = o ? Symbol.for("react.context") : 60110
          , u = o ? Symbol.for("react.concurrent_mode") : 60111
          , g = o ? Symbol.for("react.forward_ref") : 60112
          , m = o ? Symbol.for("react.suspense") : 60113
          , f = o ? Symbol.for("react.suspense_list") : 60120
          , y = o ? Symbol.for("react.memo") : 60115
          , v = o ? Symbol.for("react.lazy") : 60116
          , b = o ? Symbol.for("react.fundamental") : 60117
          , A = o ? Symbol.for("react.scope") : 60119
          , C = n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
        function w(e) {
            if (null == e)
                return null;
            if ("function" === typeof e)
                return e.displayName || e.name || null;
            if ("string" === typeof e)
                return e;
            switch (e) {
            case l:
                return "Fragment";
            case s:
                return "Portal";
            case h:
                return "Profiler";
            case c:
                return "StrictMode";
            case m:
                return "Suspense";
            case f:
                return "SuspenseList"
            }
            if ("object" === typeof e)
                switch (e.$$typeof) {
                case d:
                    return "Context.Consumer";
                case p:
                    return "Context.Provider";
                case g:
                    var t = e.render;
                    return t = t.displayName || t.name || "",
                    e.displayName || ("" !== t ? "ForwardRef(" + t + ")" : "ForwardRef");
                case y:
                    return w(e.type);
                case v:
                    if (e = 1 === e._status ? e._result : null)
                        return w(e)
                }
            return null
        }
        C.hasOwnProperty("ReactCurrentDispatcher") || (C.ReactCurrentDispatcher = {
            current: null
        }),
        C.hasOwnProperty("ReactCurrentBatchConfig") || (C.ReactCurrentBatchConfig = {
            suspense: null
        });
        var _ = {};
        function x(e, t) {
            for (var i = 0 | e._threadCount; i <= t; i++)
                e[i] = e._currentValue2,
                e._threadCount = i + 1
        }
        for (var S = new Uint16Array(16), T = 0; 15 > T; T++)
            S[T] = T + 1;
        S[15] = 0;
        var E = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/
          , k = Object.prototype.hasOwnProperty
          , L = {}
          , P = {};
        function z(e) {
            return !!k.call(P, e) || !k.call(L, e) && (E.test(e) ? P[e] = !0 : (L[e] = !0,
            !1))
        }
        function I(e, t, i, a, n, r) {
            this.acceptsBooleans = 2 === t || 3 === t || 4 === t,
            this.attributeName = a,
            this.attributeNamespace = n,
            this.mustUseProperty = i,
            this.propertyName = e,
            this.type = t,
            this.sanitizeURL = r
        }
        var D = {};
        "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e) {
            D[e] = new I(e,0,!1,e,null,!1)
        }),
        [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(e) {
            var t = e[0];
            D[t] = new I(t,1,!1,e[1],null,!1)
        }),
        ["contentEditable", "draggable", "spellCheck", "value"].forEach(function(e) {
            D[e] = new I(e,2,!1,e.toLowerCase(),null,!1)
        }),
        ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(e) {
            D[e] = new I(e,2,!1,e,null,!1)
        }),
        "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e) {
            D[e] = new I(e,3,!1,e.toLowerCase(),null,!1)
        }),
        ["checked", "multiple", "muted", "selected"].forEach(function(e) {
            D[e] = new I(e,3,!0,e,null,!1)
        }),
        ["capture", "download"].forEach(function(e) {
            D[e] = new I(e,4,!1,e,null,!1)
        }),
        ["cols", "rows", "size", "span"].forEach(function(e) {
            D[e] = new I(e,6,!1,e,null,!1)
        }),
        ["rowSpan", "start"].forEach(function(e) {
            D[e] = new I(e,5,!1,e.toLowerCase(),null,!1)
        });
        var B = /[\-:]([a-z])/g;
        function M(e) {
            return e[1].toUpperCase()
        }
        "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e) {
            var t = e.replace(B, M);
            D[t] = new I(t,1,!1,e,null,!1)
        }),
        "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e) {
            var t = e.replace(B, M);
            D[t] = new I(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)
        }),
        ["xml:base", "xml:lang", "xml:space"].forEach(function(e) {
            var t = e.replace(B, M);
            D[t] = new I(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)
        }),
        ["tabIndex", "crossOrigin"].forEach(function(e) {
            D[e] = new I(e,1,!1,e.toLowerCase(),null,!1)
        }),
        D.xlinkHref = new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),
        ["src", "href", "action", "formAction"].forEach(function(e) {
            D[e] = new I(e,1,!1,e.toLowerCase(),null,!0)
        });
        var O = /["'&<>]/;
        function R(e) {
            if ("boolean" === typeof e || "number" === typeof e)
                return "" + e;
            e = "" + e;
            var t = O.exec(e);
            if (t) {
                var i, a = "", n = 0;
                for (i = t.index; i < e.length; i++) {
                    switch (e.charCodeAt(i)) {
                    case 34:
                        t = "&quot;";
                        break;
                    case 38:
                        t = "&amp;";
                        break;
                    case 39:
                        t = "&#x27;";
                        break;
                    case 60:
                        t = "&lt;";
                        break;
                    case 62:
                        t = "&gt;";
                        break;
                    default:
                        continue
                    }
                    n !== i && (a += e.substring(n, i)),
                    n = i + 1,
                    a += t
                }
                e = n !== i ? a + e.substring(n, i) : a
            }
            return e
        }
        function N(e, t) {
            var i, a = D.hasOwnProperty(e) ? D[e] : null;
            return (i = "style" !== e) && (i = null !== a ? 0 === a.type : 2 < e.length && ("o" === e[0] || "O" === e[0]) && ("n" === e[1] || "N" === e[1])),
            i || function(e, t, i, a) {
                if (null === t || "undefined" === typeof t || function(e, t, i, a) {
                    if (null !== i && 0 === i.type)
                        return !1;
                    switch (typeof t) {
                    case "function":
                    case "symbol":
                        return !0;
                    case "boolean":
                        return !a && (null !== i ? !i.acceptsBooleans : "data-" !== (e = e.toLowerCase().slice(0, 5)) && "aria-" !== e);
                    default:
                        return !1
                    }
                }(e, t, i, a))
                    return !0;
                if (a)
                    return !1;
                if (null !== i)
                    switch (i.type) {
                    case 3:
                        return !t;
                    case 4:
                        return !1 === t;
                    case 5:
                        return isNaN(t);
                    case 6:
                        return isNaN(t) || 1 > t
                    }
                return !1
            }(e, t, a, !1) ? "" : null !== a ? (e = a.attributeName,
            3 === (i = a.type) || 4 === i && !0 === t ? e + '=""' : (a.sanitizeURL && (t = "" + t),
            e + '="' + R(t) + '"')) : z(e) ? e + '="' + R(t) + '"' : ""
        }
        var V = "function" === typeof Object.is ? Object.is : function(e, t) {
            return e === t && (0 !== e || 1 / e === 1 / t) || e !== e && t !== t
        }
          , j = null
          , F = null
          , G = null
          , U = !1
          , H = !1
          , K = null
          , W = 0;
        function Q() {
            if (null === j)
                throw Error(r(321));
            return j
        }
        function Y() {
            if (0 < W)
                throw Error(r(312));
            return {
                memoizedState: null,
                queue: null,
                next: null
            }
        }
        function $() {
            return null === G ? null === F ? (U = !1,
            F = G = Y()) : (U = !0,
            G = F) : null === G.next ? (U = !1,
            G = G.next = Y()) : (U = !0,
            G = G.next),
            G
        }
        function Z(e, t, i, a) {
            for (; H; )
                H = !1,
                W += 1,
                G = null,
                i = e(t, a);
            return F = j = null,
            W = 0,
            G = K = null,
            i
        }
        function q(e, t) {
            return "function" === typeof t ? t(e) : t
        }
        function X(e, t, i) {
            if (j = Q(),
            G = $(),
            U) {
                var a = G.queue;
                if (t = a.dispatch,
                null !== K && void 0 !== (i = K.get(a))) {
                    K.delete(a),
                    a = G.memoizedState;
                    do {
                        a = e(a, i.action),
                        i = i.next
                    } while (null !== i);return G.memoizedState = a,
                    [a, t]
                }
                return [G.memoizedState, t]
            }
            return e = e === q ? "function" === typeof t ? t() : t : void 0 !== i ? i(t) : t,
            G.memoizedState = e,
            e = (e = G.queue = {
                last: null,
                dispatch: null
            }).dispatch = function(e, t, i) {
                if (!(25 > W))
                    throw Error(r(301));
                if (e === j)
                    if (H = !0,
                    e = {
                        action: i,
                        next: null
                    },
                    null === K && (K = new Map),
                    void 0 === (i = K.get(t)))
                        K.set(t, e);
                    else {
                        for (t = i; null !== t.next; )
                            t = t.next;
                        t.next = e
                    }
            }
            .bind(null, j, e),
            [G.memoizedState, e]
        }
        function J() {}
        var ee = 0
          , te = {
            readContext: function(e) {
                var t = ee;
                return x(e, t),
                e[t]
            },
            useContext: function(e) {
                Q();
                var t = ee;
                return x(e, t),
                e[t]
            },
            useMemo: function(e, t) {
                if (j = Q(),
                t = void 0 === t ? null : t,
                null !== (G = $())) {
                    var i = G.memoizedState;
                    if (null !== i && null !== t) {
                        e: {
                            var a = i[1];
                            if (null === a)
                                a = !1;
                            else {
                                for (var n = 0; n < a.length && n < t.length; n++)
                                    if (!V(t[n], a[n])) {
                                        a = !1;
                                        break e
                                    }
                                a = !0
                            }
                        }
                        if (a)
                            return i[0]
                    }
                }
                return e = e(),
                G.memoizedState = [e, t],
                e
            },
            useReducer: X,
            useRef: function(e) {
                j = Q();
                var t = (G = $()).memoizedState;
                return null === t ? (e = {
                    current: e
                },
                G.memoizedState = e) : t
            },
            useState: function(e) {
                return X(q, e)
            },
            useLayoutEffect: function() {},
            useCallback: function(e) {
                return e
            },
            useImperativeHandle: J,
            useEffect: J,
            useDebugValue: J,
            useResponder: function(e, t) {
                return {
                    props: t,
                    responder: e
                }
            },
            useDeferredValue: function(e) {
                return Q(),
                e
            },
            useTransition: function() {
                return Q(),
                [function(e) {
                    e()
                }
                , !1]
            }
        }
          , ie = {
            html: "http://www.w3.org/1999/xhtml",
            mathml: "http://www.w3.org/1998/Math/MathML",
            svg: "http://www.w3.org/2000/svg"
        };
        function ae(e) {
            switch (e) {
            case "svg":
                return "http://www.w3.org/2000/svg";
            case "math":
                return "http://www.w3.org/1998/Math/MathML";
            default:
                return "http://www.w3.org/1999/xhtml"
            }
        }
        var ne = {
            area: !0,
            base: !0,
            br: !0,
            col: !0,
            embed: !0,
            hr: !0,
            img: !0,
            input: !0,
            keygen: !0,
            link: !0,
            meta: !0,
            param: !0,
            source: !0,
            track: !0,
            wbr: !0
        }
          , re = a({
            menuitem: !0
        }, ne)
          , oe = {
            animationIterationCount: !0,
            borderImageOutset: !0,
            borderImageSlice: !0,
            borderImageWidth: !0,
            boxFlex: !0,
            boxFlexGroup: !0,
            boxOrdinalGroup: !0,
            columnCount: !0,
            columns: !0,
            flex: !0,
            flexGrow: !0,
            flexPositive: !0,
            flexShrink: !0,
            flexNegative: !0,
            flexOrder: !0,
            gridArea: !0,
            gridRow: !0,
            gridRowEnd: !0,
            gridRowSpan: !0,
            gridRowStart: !0,
            gridColumn: !0,
            gridColumnEnd: !0,
            gridColumnSpan: !0,
            gridColumnStart: !0,
            fontWeight: !0,
            lineClamp: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            tabSize: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0,
            fillOpacity: !0,
            floodOpacity: !0,
            stopOpacity: !0,
            strokeDasharray: !0,
            strokeDashoffset: !0,
            strokeMiterlimit: !0,
            strokeOpacity: !0,
            strokeWidth: !0
        }
          , se = ["Webkit", "ms", "Moz", "O"];
        Object.keys(oe).forEach(function(e) {
            se.forEach(function(t) {
                t = t + e.charAt(0).toUpperCase() + e.substring(1),
                oe[t] = oe[e]
            })
        });
        var le = /([A-Z])/g
          , ce = /^ms-/
          , he = n.Children.toArray
          , pe = C.ReactCurrentDispatcher
          , de = {
            listing: !0,
            pre: !0,
            textarea: !0
        }
          , ue = /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/
          , ge = {}
          , me = {};
        var fe = Object.prototype.hasOwnProperty
          , ye = {
            children: null,
            dangerouslySetInnerHTML: null,
            suppressContentEditableWarning: null,
            suppressHydrationWarning: null
        };
        function ve(e, t) {
            if (void 0 === e)
                throw Error(r(152, w(t) || "Component"))
        }
        function be(e, t, i) {
            function o(n, o) {
                var s = o.prototype && o.prototype.isReactComponent
                  , l = function(e, t, i, a) {
                    if (a && "object" === typeof (a = e.contextType) && null !== a)
                        return x(a, i),
                        a[i];
                    if (e = e.contextTypes) {
                        for (var n in i = {},
                        e)
                            i[n] = t[n];
                        t = i
                    } else
                        t = _;
                    return t
                }(o, t, i, s)
                  , c = []
                  , h = !1
                  , p = {
                    isMounted: function() {
                        return !1
                    },
                    enqueueForceUpdate: function() {
                        if (null === c)
                            return null
                    },
                    enqueueReplaceState: function(e, t) {
                        h = !0,
                        c = [t]
                    },
                    enqueueSetState: function(e, t) {
                        if (null === c)
                            return null;
                        c.push(t)
                    }
                };
                if (s) {
                    if (s = new o(n.props,l,p),
                    "function" === typeof o.getDerivedStateFromProps) {
                        var d = o.getDerivedStateFromProps.call(null, n.props, s.state);
                        null != d && (s.state = a({}, s.state, d))
                    }
                } else if (j = {},
                s = o(n.props, l, p),
                null == (s = Z(o, n.props, s, l)) || null == s.render)
                    return void ve(e = s, o);
                if (s.props = n.props,
                s.context = l,
                s.updater = p,
                void 0 === (p = s.state) && (s.state = p = null),
                "function" === typeof s.UNSAFE_componentWillMount || "function" === typeof s.componentWillMount)
                    if ("function" === typeof s.componentWillMount && "function" !== typeof o.getDerivedStateFromProps && s.componentWillMount(),
                    "function" === typeof s.UNSAFE_componentWillMount && "function" !== typeof o.getDerivedStateFromProps && s.UNSAFE_componentWillMount(),
                    c.length) {
                        p = c;
                        var u = h;
                        if (c = null,
                        h = !1,
                        u && 1 === p.length)
                            s.state = p[0];
                        else {
                            d = u ? p[0] : s.state;
                            var g = !0;
                            for (u = u ? 1 : 0; u < p.length; u++) {
                                var m = p[u];
                                null != (m = "function" === typeof m ? m.call(s, d, n.props, l) : m) && (g ? (g = !1,
                                d = a({}, d, m)) : a(d, m))
                            }
                            s.state = d
                        }
                    } else
                        c = null;
                if (ve(e = s.render(), o),
                "function" === typeof s.getChildContext && "object" === typeof (n = o.childContextTypes)) {
                    var f = s.getChildContext();
                    for (var y in f)
                        if (!(y in n))
                            throw Error(r(108, w(o) || "Unknown", y))
                }
                f && (t = a({}, t, f))
            }
            for (; n.isValidElement(e); ) {
                var s = e
                  , l = s.type;
                if ("function" !== typeof l)
                    break;
                o(s, l)
            }
            return {
                child: e,
                context: t
            }
        }
        var Ae = function() {
            function e(e, t) {
                n.isValidElement(e) ? e.type !== l ? e = [e] : (e = e.props.children,
                e = n.isValidElement(e) ? [e] : he(e)) : e = he(e),
                e = {
                    type: null,
                    domNamespace: ie.html,
                    children: e,
                    childIndex: 0,
                    context: _,
                    footer: ""
                };
                var i = S[0];
                if (0 === i) {
                    var a = S
                      , o = 2 * (i = a.length);
                    if (!(65536 >= o))
                        throw Error(r(304));
                    var s = new Uint16Array(o);
                    for (s.set(a),
                    (S = s)[0] = i + 1,
                    a = i; a < o - 1; a++)
                        S[a] = a + 1;
                    S[o - 1] = 0
                } else
                    S[0] = S[i];
                this.threadID = i,
                this.stack = [e],
                this.exhausted = !1,
                this.currentSelectValue = null,
                this.previousWasTextNode = !1,
                this.makeStaticMarkup = t,
                this.suspenseDepth = 0,
                this.contextIndex = -1,
                this.contextStack = [],
                this.contextValueStack = []
            }
            var t = e.prototype;
            return t.destroy = function() {
                if (!this.exhausted) {
                    this.exhausted = !0,
                    this.clearProviders();
                    var e = this.threadID;
                    S[e] = S[0],
                    S[0] = e
                }
            }
            ,
            t.pushProvider = function(e) {
                var t = ++this.contextIndex
                  , i = e.type._context
                  , a = this.threadID;
                x(i, a);
                var n = i[a];
                this.contextStack[t] = i,
                this.contextValueStack[t] = n,
                i[a] = e.props.value
            }
            ,
            t.popProvider = function() {
                var e = this.contextIndex
                  , t = this.contextStack[e]
                  , i = this.contextValueStack[e];
                this.contextStack[e] = null,
                this.contextValueStack[e] = null,
                this.contextIndex--,
                t[this.threadID] = i
            }
            ,
            t.clearProviders = function() {
                for (var e = this.contextIndex; 0 <= e; e--)
                    this.contextStack[e][this.threadID] = this.contextValueStack[e]
            }
            ,
            t.read = function(e) {
                if (this.exhausted)
                    return null;
                var t = ee;
                ee = this.threadID;
                var i = pe.current;
                pe.current = te;
                try {
                    for (var a = [""], n = !1; a[0].length < e; ) {
                        if (0 === this.stack.length) {
                            this.exhausted = !0;
                            var o = this.threadID;
                            S[o] = S[0],
                            S[0] = o;
                            break
                        }
                        var s = this.stack[this.stack.length - 1];
                        if (n || s.childIndex >= s.children.length) {
                            var l = s.footer;
                            if ("" !== l && (this.previousWasTextNode = !1),
                            this.stack.pop(),
                            "select" === s.type)
                                this.currentSelectValue = null;
                            else if (null != s.type && null != s.type.type && s.type.type.$$typeof === p)
                                this.popProvider(s.type);
                            else if (s.type === m) {
                                this.suspenseDepth--;
                                var c = a.pop();
                                if (n) {
                                    n = !1;
                                    var h = s.fallbackFrame;
                                    if (!h)
                                        throw Error(r(303));
                                    this.stack.push(h),
                                    a[this.suspenseDepth] += "\x3c!--$!--\x3e";
                                    continue
                                }
                                a[this.suspenseDepth] += c
                            }
                            a[this.suspenseDepth] += l
                        } else {
                            var d = s.children[s.childIndex++]
                              , u = "";
                            try {
                                u += this.render(d, s.context, s.domNamespace)
                            } catch (g) {
                                if (null != g && "function" === typeof g.then)
                                    throw Error(r(294));
                                throw g
                            }
                            a.length <= this.suspenseDepth && a.push(""),
                            a[this.suspenseDepth] += u
                        }
                    }
                    return a[0]
                } finally {
                    pe.current = i,
                    ee = t
                }
            }
            ,
            t.render = function(e, t, i) {
                if ("string" === typeof e || "number" === typeof e)
                    return "" === (i = "" + e) ? "" : this.makeStaticMarkup ? R(i) : this.previousWasTextNode ? "\x3c!-- --\x3e" + R(i) : (this.previousWasTextNode = !0,
                    R(i));
                if (e = (t = be(e, t, this.threadID)).child,
                t = t.context,
                null === e || !1 === e)
                    return "";
                if (!n.isValidElement(e)) {
                    if (null != e && null != e.$$typeof) {
                        if ((i = e.$$typeof) === s)
                            throw Error(r(257));
                        throw Error(r(258, i.toString()))
                    }
                    return e = he(e),
                    this.stack.push({
                        type: null,
                        domNamespace: i,
                        children: e,
                        childIndex: 0,
                        context: t,
                        footer: ""
                    }),
                    ""
                }
                var o = e.type;
                if ("string" === typeof o)
                    return this.renderDOM(e, t, i);
                switch (o) {
                case c:
                case u:
                case h:
                case f:
                case l:
                    return e = he(e.props.children),
                    this.stack.push({
                        type: null,
                        domNamespace: i,
                        children: e,
                        childIndex: 0,
                        context: t,
                        footer: ""
                    }),
                    "";
                case m:
                    throw Error(r(294))
                }
                if ("object" === typeof o && null !== o)
                    switch (o.$$typeof) {
                    case g:
                        j = {};
                        var C = o.render(e.props, e.ref);
                        return C = Z(o.render, e.props, C, e.ref),
                        C = he(C),
                        this.stack.push({
                            type: null,
                            domNamespace: i,
                            children: C,
                            childIndex: 0,
                            context: t,
                            footer: ""
                        }),
                        "";
                    case y:
                        return e = [n.createElement(o.type, a({
                            ref: e.ref
                        }, e.props))],
                        this.stack.push({
                            type: null,
                            domNamespace: i,
                            children: e,
                            childIndex: 0,
                            context: t,
                            footer: ""
                        }),
                        "";
                    case p:
                        return i = {
                            type: e,
                            domNamespace: i,
                            children: o = he(e.props.children),
                            childIndex: 0,
                            context: t,
                            footer: ""
                        },
                        this.pushProvider(e),
                        this.stack.push(i),
                        "";
                    case d:
                        o = e.type,
                        C = e.props;
                        var w = this.threadID;
                        return x(o, w),
                        o = he(C.children(o[w])),
                        this.stack.push({
                            type: e,
                            domNamespace: i,
                            children: o,
                            childIndex: 0,
                            context: t,
                            footer: ""
                        }),
                        "";
                    case b:
                        throw Error(r(338));
                    case v:
                        switch (function(e) {
                            if (-1 === e._status) {
                                e._status = 0;
                                var t = e._ctor;
                                t = t(),
                                e._result = t,
                                t.then(function(t) {
                                    0 === e._status && (t = t.default,
                                    e._status = 1,
                                    e._result = t)
                                }, function(t) {
                                    0 === e._status && (e._status = 2,
                                    e._result = t)
                                })
                            }
                        }(o = e.type),
                        o._status) {
                        case 1:
                            return e = [n.createElement(o._result, a({
                                ref: e.ref
                            }, e.props))],
                            this.stack.push({
                                type: null,
                                domNamespace: i,
                                children: e,
                                childIndex: 0,
                                context: t,
                                footer: ""
                            }),
                            "";
                        case 2:
                            throw o._result;
                        default:
                            throw Error(r(295))
                        }
                    case A:
                        throw Error(r(343))
                    }
                throw Error(r(130, null == o ? o : typeof o, ""))
            }
            ,
            t.renderDOM = function(e, t, i) {
                var o = e.type.toLowerCase();
                if (i === ie.html && ae(o),
                !ge.hasOwnProperty(o)) {
                    if (!ue.test(o))
                        throw Error(r(65, o));
                    ge[o] = !0
                }
                var s = e.props;
                if ("input" === o)
                    s = a({
                        type: void 0
                    }, s, {
                        defaultChecked: void 0,
                        defaultValue: void 0,
                        value: null != s.value ? s.value : s.defaultValue,
                        checked: null != s.checked ? s.checked : s.defaultChecked
                    });
                else if ("textarea" === o) {
                    var l = s.value;
                    if (null == l) {
                        l = s.defaultValue;
                        var c = s.children;
                        if (null != c) {
                            if (null != l)
                                throw Error(r(92));
                            if (Array.isArray(c)) {
                                if (!(1 >= c.length))
                                    throw Error(r(93));
                                c = c[0]
                            }
                            l = "" + c
                        }
                        null == l && (l = "")
                    }
                    s = a({}, s, {
                        value: void 0,
                        children: "" + l
                    })
                } else if ("select" === o)
                    this.currentSelectValue = null != s.value ? s.value : s.defaultValue,
                    s = a({}, s, {
                        value: void 0
                    });
                else if ("option" === o) {
                    c = this.currentSelectValue;
                    var h = function(e) {
                        if (void 0 === e || null === e)
                            return e;
                        var t = "";
                        return n.Children.forEach(e, function(e) {
                            null != e && (t += e)
                        }),
                        t
                    }(s.children);
                    if (null != c) {
                        var p = null != s.value ? s.value + "" : h;
                        if (l = !1,
                        Array.isArray(c)) {
                            for (var d = 0; d < c.length; d++)
                                if ("" + c[d] === p) {
                                    l = !0;
                                    break
                                }
                        } else
                            l = "" + c === p;
                        s = a({
                            selected: void 0,
                            children: void 0
                        }, s, {
                            selected: l,
                            children: h
                        })
                    }
                }
                if (l = s) {
                    if (re[o] && (null != l.children || null != l.dangerouslySetInnerHTML))
                        throw Error(r(137, o, ""));
                    if (null != l.dangerouslySetInnerHTML) {
                        if (null != l.children)
                            throw Error(r(60));
                        if (!("object" === typeof l.dangerouslySetInnerHTML && "__html"in l.dangerouslySetInnerHTML))
                            throw Error(r(61))
                    }
                    if (null != l.style && "object" !== typeof l.style)
                        throw Error(r(62, ""))
                }
                for (A in l = s,
                c = this.makeStaticMarkup,
                h = 1 === this.stack.length,
                p = "<" + e.type,
                l)
                    if (fe.call(l, A)) {
                        var u = l[A];
                        if (null != u) {
                            if ("style" === A) {
                                d = void 0;
                                var g = ""
                                  , m = "";
                                for (d in u)
                                    if (u.hasOwnProperty(d)) {
                                        var f = 0 === d.indexOf("--")
                                          , y = u[d];
                                        if (null != y) {
                                            if (f)
                                                var v = d;
                                            else if (v = d,
                                            me.hasOwnProperty(v))
                                                v = me[v];
                                            else {
                                                var b = v.replace(le, "-$1").toLowerCase().replace(ce, "-ms-");
                                                v = me[v] = b
                                            }
                                            g += m + v + ":",
                                            m = d,
                                            g += f = null == y || "boolean" === typeof y || "" === y ? "" : f || "number" !== typeof y || 0 === y || oe.hasOwnProperty(m) && oe[m] ? ("" + y).trim() : y + "px",
                                            m = ";"
                                        }
                                    }
                                u = g || null
                            }
                            d = null;
                            e: if (f = o,
                            y = l,
                            -1 === f.indexOf("-"))
                                f = "string" === typeof y.is;
                            else
                                switch (f) {
                                case "annotation-xml":
                                case "color-profile":
                                case "font-face":
                                case "font-face-src":
                                case "font-face-uri":
                                case "font-face-format":
                                case "font-face-name":
                                case "missing-glyph":
                                    f = !1;
                                    break e;
                                default:
                                    f = !0
                                }
                            f ? ye.hasOwnProperty(A) || (d = z(d = A) && null != u ? d + '="' + R(u) + '"' : "") : d = N(A, u),
                            d && (p += " " + d)
                        }
                    }
                c || h && (p += ' data-reactroot=""');
                var A = p;
                l = "",
                ne.hasOwnProperty(o) ? A += "/>" : (A += ">",
                l = "</" + e.type + ">");
                e: {
                    if (null != (c = s.dangerouslySetInnerHTML)) {
                        if (null != c.__html) {
                            c = c.__html;
                            break e
                        }
                    } else if ("string" === typeof (c = s.children) || "number" === typeof c) {
                        c = R(c);
                        break e
                    }
                    c = null
                }
                return null != c ? (s = [],
                de[o] && "\n" === c.charAt(0) && (A += "\n"),
                A += c) : s = he(s.children),
                e = e.type,
                i = null == i || "http://www.w3.org/1999/xhtml" === i ? ae(e) : "http://www.w3.org/2000/svg" === i && "foreignObject" === e ? "http://www.w3.org/1999/xhtml" : i,
                this.stack.push({
                    domNamespace: i,
                    type: o,
                    children: s,
                    childIndex: 0,
                    context: t,
                    footer: l
                }),
                this.previousWasTextNode = !1,
                A
            }
            ,
            e
        }()
          , Ce = {
            renderToString: function(e) {
                e = new Ae(e,!1);
                try {
                    return e.read(1 / 0)
                } finally {
                    e.destroy()
                }
            },
            renderToStaticMarkup: function(e) {
                e = new Ae(e,!0);
                try {
                    return e.read(1 / 0)
                } finally {
                    e.destroy()
                }
            },
            renderToNodeStream: function() {
                throw Error(r(207))
            },
            renderToStaticNodeStream: function() {
                throw Error(r(208))
            },
            version: "16.12.0"
        }
          , we = {
            default: Ce
        }
          , _e = we && Ce || we;
        e.exports = _e.default || _e
    },
    1363: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(1316)
              , n = {
                openAgent: function(e) {
                    null != e && "undefined" != typeof e || ("undefined" !== typeof console && console.log && this.log("A device id wasn't passed into GCSyncUtil.openAgent()"),
                    e = ""),
                    this.log("calling " + a.a.Queue.Constants.GC_SYNC_URL + "?deviceId=" + e),
                    window.location.assign(a.a.Queue.Constants.GC_SYNC_URL + "?deviceId=" + e)
                },
                log: function(e) {
                    "undefined" !== typeof console && console.log && console.log(new Date + ": " + e)
                },
                scrollToRank: function(t) {
                    var i = {
                        scrollTop: t
                    };
                    e("body,html").animate(i)
                }
            };
            t.a = n
        }
        ).call(this, i(9))
    },
    1364: function(e, t, i) {
        "use strict";
        var a = i(22)
          , n = i.n(a)
          , r = i(10)
          , o = i.n(r)
          , s = i(1746)
          , l = i(1327)
          , c = i(1484)
          , h = i(1511)
          , p = function() {
            function e(e, t) {
                for (var i = 0; i < t.length; i++) {
                    var a = t[i];
                    a.enumerable = a.enumerable || !1,
                    a.configurable = !0,
                    "value"in a && (a.writable = !0),
                    Object.defineProperty(e, a.key, a)
                }
            }
            return function(t, i, a) {
                return i && e(t.prototype, i),
                a && e(t, a),
                t
            }
        }();
        function d(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var u = function(e) {
            function t() {
                return function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.apply(this, arguments))
            }
            return d(t, e),
            t.prototype.createLeafletElement = function(e) {
                throw new Error("createLeafletElement() must be implemented")
            }
            ,
            t.prototype.updateLeafletElement = function(e, t) {}
            ,
            t.prototype.componentWillMount = function() {
                e.prototype.componentWillMount.call(this),
                this.leafletElement = this.createLeafletElement(this.props)
            }
            ,
            t.prototype.componentDidMount = function() {
                e.prototype.componentDidMount.call(this),
                this.layerContainer.addLayer(this.leafletElement)
            }
            ,
            t.prototype.componentDidUpdate = function(e) {
                this.updateLeafletElement(e, this.props)
            }
            ,
            t.prototype.componentWillUnmount = function() {
                e.prototype.componentWillUnmount.call(this),
                this.layerContainer.removeLayer(this.leafletElement)
            }
            ,
            t.prototype.render = function() {
                var e = this.props.children;
                return r.Children.count(e) > 1 ? o.a.createElement("div", {
                    style: {
                        display: "none"
                    }
                }, e) : null == e ? null : e
            }
            ,
            p(t, [{
                key: "layerContainer",
                get: function() {
                    return this.context.layerContainer || this.context.map
                }
            }]),
            t
        }(s.a);
        u.propTypes = {
            children: l.a
        },
        u.contextTypes = {
            layerContainer: c.a,
            map: h.a,
            pane: n.a.string
        },
        t.a = u
    },
    1368: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(0)
              , n = i.n(a)
              , r = i(1377)
              , o = i.n(r)
              , s = n.a.View.extend({
                template: e.template(o.a),
                initialize: function(e) {
                    if (!e.content)
                        throw "Content is required!";
                    return this.content = e.content,
                    this.title = e.title,
                    this
                },
                render: function() {
                    return this.$el.html(this.template({
                        title: this.title,
                        content: this.content
                    })),
                    this
                }
            });
            t.a = s
        }
        ).call(this, i(8))
    },
    1369: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(449)
          , o = i(1301)
          , s = i(37)
          , l = {
            public: {
                id: 1,
                key: "public"
            },
            private: {
                id: 2,
                key: "private"
            }
        }
          , c = n.a.Model.extend({
            urlRoot: s.default.url("/proxy/course-service/course/"),
            idAttribute: "courseId",
            initialize: function(e) {
                e && e.courseId && (this.courseId = e.courseId)
            },
            sync: function(e, t, i) {
                "update" !== e && "delete" !== e || !this.courseId && this.id && (this.courseId = this.id),
                r.a.userInChina() ? this.courseId && (i.url = "delete" === e || "update" === e ? this.urlRoot + this.courseId : this.urlRoot + this.courseId + "?targetCoordinateSystem=" + o.a.CoordinateSystem.BD09) : this.courseId && (i.url = this.urlRoot + this.courseId),
                n.a.sync.call(this, e, t, i)
            },
            getPrivacyRule: function() {
                var e = this.get("rulePK");
                return e === l.public.id ? l.public.key : e === l.private.id ? l.private.key : null
            },
            getRulesDTO: function() {
                return l
            }
        });
        c.RulesDTO = l,
        t.a = c
    },
    1372: function(e, t, i) {
        "use strict";
        t.a = function(e) {
            var t = typeof e;
            return null != e && ("object" == t || "function" == t)
        }
    },
    1376: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return a
        });
        var a = function(e, t, i, a) {
            return e && t || i && a
        }
    },
    1377: function(e, t) {
        e.exports = "<% if(title) { %>\n    <div><h5><%- title %></h5></div>\n<% } %>\n<div><%= content %></div>"
    },
    1378: function(e, t) {
        e.exports = '<div class="dropdown <%- dropdownClass %>">\n    <button data-toggle="dropdown" data-value="<%- selectedItem.value %>">\n        <span class="<%- formatClass %>"><%- selectedItem.name || Localizer.localize(selectedItem.nameKey) %></span>\n        <i class="icon-pointer-down"></i>\n    </button>\n    <ul class="dropdown-menu pull-left" role="menu" aria-label="<%- Localizer.localize(\'select.one\') %>">\n        <% for (var i = 0; i < items.length; i++) { %>\n        <% var item = items[i]; %>\n            <li data-value="<%- item.value %>" role="none">\n                <a href="#" role="menuitem"><%- item.name || Localizer.localize(item.nameKey) %></a>\n            </li>\n            <% if (typeof item.children != \'undefined\') { %>\n                <% for (var j = 0; j < item.children.length; j++) { %>\n                <%  var childItem = item.children[j]; %>\n                    <li data-value="<%- childItem.value %>" role="none">\n                        <a href="#" class="dropdown-tier" role="menuitem"><%- childItem.name || Localizer.localize(childItem.nameKey) %></a>\n                    </li>\n                <% } %>\n            <% } %>\n            <% if (includeDivider) { %> \n                <li class="divider" role="separator"></li>\n            <% } %>\n        <% } %>\n    </ul>\n</div>\n'
    },
    1379: function(e, t, i) {
        "use strict";
        var a = i(60).a.extend({
            defaults: {
                mapType: "road",
                terrain: !1,
                trails: !1,
                labels: !0,
                HeatMapsRunning: !1,
                HeatMapsCycling: !1
            },
            parse: function(e) {
                return JSON.parse(e.value)
            },
            toJSON: function() {
                return {
                    key: this.id,
                    value: JSON.stringify(this.attributes)
                }
            },
            getMapType: function(e) {
                return this.get("mapType", e)
            },
            getTerrain: function(e) {
                return this.get("terrain", e)
            },
            getTrails: function(e) {
                return this.get("trails", e)
            },
            getLabels: function(e) {
                return this.get("labels", e)
            },
            getHeatMapsRunning: function(e) {
                return this.get("HeatMapsRunning", e)
            },
            getHeatMapsCycling: function(e) {
                return this.get("HeatMapsCycling", e)
            },
            setMapType: function(e) {
                this.set("mapType", e)
            },
            setTerrain: function(e) {
                this.set("terrain", e)
            },
            setTrails: function(e) {
                this.set("trails", e)
            },
            setLabels: function(e) {
                this.set("labels", e)
            },
            setHeatMapsRunning: function(e) {
                this.set("HeatMapsRunning", e)
            },
            setHeatMapsCycling: function(e) {
                this.set("HeatMapsCycling", e)
            },
            setCustom: function(e, t) {
                this.set(e, t)
            },
            getCustom: function(e, t) {
                return this.has(e) ? this.get(e) : t
            }
        });
        t.a = a
    },
    1380: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(244)
              , n = i.n(a).a.TileLayer.extend({
                getTileUrl: function(t) {
                    var i = e.Map.Utils.getHeatMapUrls(t.x, t.y, t.z);
                    return this.getHeatMapUrl(i)
                },
                getHeatMapUrl: function(e) {}
            });
            t.a = n
        }
        ).call(this, i(1320))
    },
    1381: function(e, t, i) {
        "use strict";
        var a = i(1630)
          , n = 1 / 0;
        t.a = function(e) {
            if ("string" == typeof e || Object(a.a)(e))
                return e;
            var t = e + "";
            return "0" == t && 1 / e == -n ? "-0" : t
        }
    },
    1382: function(e, t, i) {
        var a = i(1636);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1386: function(e, t, i) {
        "use strict";
        var a = i(3)
          , n = i(436)
          , r = i(437)
          , o = i(81)
          , s = i(80)
          , l = i(82)
          , c = i(10)
          , h = i.n(c)
          , p = i(1592)
          , d = i.n(p)
          , u = function(e) {
            function t(e) {
                var i;
                return Object(n.a)(this, t),
                (i = Object(o.a)(this, Object(s.a)(t).call(this, e))).state = {
                    options: Object(a.a)({}, e.options, {
                        animationData: e.animationData
                    })
                },
                i.animation = d.a,
                i.ref = null,
                i
            }
            return Object(l.a)(t, e),
            Object(r.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    var e = this.props.animateToFrameOnLoad
                      , t = Object(a.a)({}, this.state.options, {
                        container: this.ref
                    });
                    this.animation = d.a.loadAnimation(t),
                    e && this.animation.playSegments([0, e], !0),
                    this.setState({
                        activeAnimationFrame: e
                    })
                }
            }, {
                key: "playSegments",
                value: function(e, t) {
                    this.animation.playSegments(e, t),
                    this.setState({
                        activeAnimationFrame: e[1]
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var e = this
                      , t = this.props.onClick;
                    return h.a.createElement("span", {
                        ref: function(t) {
                            return e.ref = t
                        },
                        onClick: t
                    })
                }
            }]),
            t
        }(c.Component);
        u.defaultProps = {
            animateToFrameOnLoad: 0,
            options: {
                renderer: "svg",
                loop: !1,
                autoplay: !1
            }
        },
        t.a = u
    },
    1388: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(0)
              , r = i.n(n)
              , o = i(170)
              , s = i(25)
              , l = i(1363)
              , c = i(192)
              , h = i(438)
              , p = i(424)
              , d = i(423)
              , u = i(48)
              , g = i(7)
              , m = i(2062)
              , f = i.n(m)
              , y = i(2063)
              , v = i.n(y)
              , b = i(449)
              , A = i(1301)
              , C = i(1316)
              , w = i(430)
              , _ = i(1501)
              , x = i(1325)
              , S = {
                WORKOUT_CAPABLE: "workoutCapable",
                RUNNING_WORKOUT_CAPABLE: "runningWorkoutCapable",
                CYCLING_WORKOUT_CAPABLE: "cyclingWorkoutCapable",
                SWIM_WORKOUT_CAPABLE: "swimWorkoutCapable",
                CUSTOM_WORKOUT_CAPABLE: "customWorkoutCapable",
                STRENGTH_TRAINING_WORKOUT_CAPABLE: "strengthWorkoutCapable",
                CARDIO_TRAINING_WORKOUT_CAPABLE: "cardioWorkoutCapable",
                YOGA_WORKOUT_CAPABLE: "yogaWorkoutCapable",
                PILATES_WORKOUT_CAPABLE: "pilatesWorkoutCapable"
            }
              , T = {
                RENDERED: "RENDERED",
                ON_CLOSE: "ON_CLOSE",
                NOTIFICATIONS_SENT: "NOTIFICATIONS_SENT"
            }
              , E = r.a.View.extend(w.a).extend({
                events: {
                    "click .btn.device-selected": "onSendToDeviceClicked",
                    "change .selected-device": "setWarningContent",
                    "click .need-help": "onNeedHelpClicked",
                    "click .close-help ": "onHideHelpClicked"
                },
                initialize: function(t) {
                    this.contentLoaded = !1,
                    this.queueNotifications = new d.a,
                    this.userLocale = t.userLocale,
                    this.displayName = t.displayName,
                    this.sendToDeviceWorkoutId = t.completeWorkoutData,
                    this.sendToDeviceWorkoutData = t.completeWorkoutData,
                    this.template = e.template(f.a),
                    this.segmentHelpTemplate = e.template(v.a),
                    this.collection.bind("change", this.render, this),
                    this.collection.bind("error", this.defaultErrorHandler, this),
                    this.additionalWorkoutFilter = t.additionalWorkoutFilter || null,
                    this.titleView = t.titleView,
                    this.detailView = t.detailView,
                    this.shouldGetWorkoutSteps() && (this.sendToDeviceWorkoutData = new _.a({
                        workoutId: this.sendToDeviceWorkoutId
                    }));
                    var i = this;
                    this.queueNotifications.bind("sendAll", function(e) {
                        this.queueNotifications.reset(),
                        e.success ? (this.trigger(T.NOTIFICATIONS_SENT, e),
                        "undefined" == typeof e.extra && (e.extra.wifiSetup = !1,
                        e.extra.deviceName = "",
                        "undefined" == typeof e.extra.openExpress && (e.extra.openExpress = !0),
                        "undefined" == typeof e.extra.poll && (this.extra.poll = !0)),
                        a(C.a.Queue.NotificationWidgetQueueIds.QUEUE_NOTIFICATION).trigger(C.a.Queue.Events.SEND_TO_DEVICE_FROM_QUEUE, {
                            messageType: i.messageType,
                            wifiSetup: e.extra.wifiSetup,
                            name: e.extra.deviceName,
                            deviceId: e.extra.deviceId
                        }),
                        a(C.a.Queue.NotificationWidgetQueueIds.QUEUE_NOTIFICATION).trigger(C.a.Queue.Events.MESSAGE_SENT, {
                            messageCount: e.numberSent
                        }),
                        this.$(".btn.device-selected").attr({
                            disabled: !1
                        }),
                        1 == e.extra.openExpress && l.a.openAgent(e.extra.deviceId)) : (console.log("xHR:", e.xHR),
                        this.$(".btn.device-selected").attr({
                            disabled: !0
                        }),
                        this.$(".queue-error").show())
                    }, this),
                    this.propertiesPath = "/send_to_device/",
                    this.propertiesFile = "send_to_device",
                    this.messageType = t.messageType,
                    this.id = t.id,
                    this.messageName = t.messageName,
                    t.courseOriginalCoordinateSystem && (this.courseOriginalCoordinateSystem = t.courseOriginalCoordinateSystem),
                    this.initLanguageHash(),
                    this.initUrlHash(),
                    this.load()
                },
                shouldGetWorkoutSteps: function() {
                    return this.sendToDeviceWorkoutId && !isNaN(this.sendToDeviceWorkoutId)
                },
                provideDependencies: function(e, t) {
                    this.shouldGetWorkoutSteps() && (e.addModel({
                        model: this.sendToDeviceWorkoutData,
                        required: !0
                    }),
                    this.needsToLoadWorkout = !0)
                },
                onDependenciesLoaded: function(e) {
                    this.needsToLoadWorkout = !1,
                    this.setWarningContent()
                },
                defaultErrorHandler: function(e, t) {
                    this.$(".btn.device-selected").attr({
                        disabled: !0
                    }),
                    this.$(".queue-error").show()
                },
                initUrlHash: function() {
                    this.urlHash = {},
                    this.urlHash[C.a.Queue.MessageTypes.COURSES.id] = "course-service/course/{0}/",
                    this.urlHash[C.a.Queue.MessageTypes.WORKOUTS.id] = "workout-service/workout/{0}/",
                    this.urlHash[C.a.Queue.MessageTypes.ACTIVITIES.id] = "course-service/course/copyFromActivity/{0}/",
                    this.urlHash[C.a.Queue.MessageTypes.PR.id] = "personalrecord-service/personalrecord/FIT/",
                    this.urlHash[C.a.Queue.MessageTypes.SCHEDULES.id] = "workout-service/schedule/export/{0}",
                    this.urlHash[C.a.Queue.MessageTypes.PROFILE.id] = "user-service-1.0/tcx/user/",
                    this.urlHash[C.a.Queue.MessageTypes.SETTINGS.id] = "user-service-1.0/fit/user/",
                    this.urlHash[C.a.Queue.MessageTypes.SPORTS.id] = ["user-service-1.0/fit/sportSettings/other", "user-service-1.0/fit/sportSettings/running", "user-service-1.0/fit/sportSettings/cycling"],
                    this.urlHash[C.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id] = ["http://garmindeveloper.com/download/rgn/ldr_{0}.rgn", "http://garmindeveloper.com/download/udr/Updates_{0}.udr"],
                    this.urlHash[C.a.Queue.MessageTypes.DEVICE_SETTINGS.id] = "",
                    this.urlHash[C.a.Queue.MessageTypes.SEGMENT_LEADERS.id] = "course-service/leaderboard/fit/"
                },
                initLanguageHash: function() {
                    this.languageHash = {},
                    this.languageHash.hr = "CROATIAN",
                    this.languageHash.cs = "CZECH",
                    this.languageHash.el = "GREEK",
                    this.languageHash.hu = "HUNGARIAN",
                    this.languageHash.pl = "POLISH",
                    this.languageHash.pt = "PORTUGUESE",
                    this.languageHash.ru = "RUSSIAN",
                    this.languageHash.sk = "SLOVAKIAN",
                    this.languageHash.sl = "SLOVENIAN"
                },
                setTrainingPlanModel: function(e) {
                    this.calendarTrainingPlans = e,
                    window.SEND_TO_DEVICE_TITLE = g.a.localize("send.to.device.workouts", this.calendarTrainingPlans.count)
                },
                render: function() {
                    var t = this.messageType
                      , i = e.filter(this.collection.models, function(e) {
                        return t.id == C.a.Queue.MessageTypes.COURSES.id || t.id == C.a.Queue.MessageTypes.ACTIVITIES.id ? b.a.userInChina() && this.courseOriginalCoordinateSystem && this.courseOriginalCoordinateSystem !== A.a.CoordinateSystem.WGS84 ? e.get("courseCapable") && e.get("gcj02CourseCapable") : e.get("courseCapable") : t.id == C.a.Queue.MessageTypes.SCHEDULES.id ? e.get("workoutCapable") : t.id == C.a.Queue.MessageTypes.WORKOUTS.id ? null == this.additionalWorkoutFilter ? e.get(S.WORKOUT_CAPABLE) : e.get(this.additionalWorkoutFilter) && e.get(S.WORKOUT_CAPABLE) : t.id == C.a.Queue.MessageTypes.PR.id ? e.get("personalRecordCapable") : t.id == C.a.Queue.MessageTypes.GOALS.id ? e.get("goalCapable") : t.id == C.a.Queue.MessageTypes.SETTINGS.id || t.id == C.a.Queue.MessageTypes.PROFILE.id ? e.get("settingCapable") || e.get("userProfileCapable") : t.id == C.a.Queue.MessageTypes.ZONES.id ? e.get("hrZoneCapable") : t.id == C.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? e.get("languageSettingCapable") : t.id == C.a.Queue.MessageTypes.DEVICE_SETTINGS.id ? e.get("deviceSettingCapable") : t.id == C.a.Queue.MessageTypes.SEGMENT_LEADERS.id ? e.get("segmentCapable") || e.get("runningSegmentCapable") : e
                    }, this)
                      , a = "undefined" === typeof window.SEND_TO_DEVICE_TITLE ? "" : window.SEND_TO_DEVICE_TITLE
                      , n = this.getSendToDeviceTitle(a)
                      , r = this.template({
                        devices: i,
                        hasDevices: this.hasDevices,
                        sendToDeviceTitle: n,
                        Localizer: g.a
                    });
                    this.$el.html(r),
                    t.id === C.a.Queue.MessageTypes.SEGMENT_LEADERS.id && this.$(".send-help").html(this.segmentHelpTemplate({
                        Localizer: g.a
                    })),
                    this.titleView ? this.$(".header-content-placeholder").replaceWith(this.titleView.render().el) : this.$(".header-content-placeholder").replaceWith('<h3 class="bottom-m">' + n + "</h3>"),
                    this.detailView ? this.$(".additional-content-placeholder").replaceWith(this.detailView.render().el) : this.$(".additional-content-placeholder").remove(),
                    0 == this.hasDevices ? (this.$("#download-body").show(),
                    this.$("#send-body").hide()) : (this.$("#download-body").hide(),
                    this.$("#send-body").show()),
                    u.a.formatHelpStartForExpressionEngine(this.userLocale),
                    this.fetched = !1,
                    this.$(".queue-error").hide(),
                    this.$(".btn.device-selected").attr({
                        disabled: !1
                    }),
                    this.trigger(T.RENDERED),
                    this.setWarningContent()
                },
                getSendToDeviceTitle: function(e) {
                    var t = "send.to.device.title2";
                    return this.messageType.id == C.a.Queue.MessageTypes.COURSES.id || this.messageType.id == C.a.Queue.MessageTypes.ACTIVITIES.id || this.messageType.id == C.a.Queue.MessageTypes.WORKOUTS.id || this.messageType.id == C.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? t = "send.to.device.title" : this.messageType.id == C.a.Queue.MessageTypes.GOALS.id ? t = "send.to.device.goals" : this.messageType.id == C.a.Queue.MessageTypes.PR.id ? t = "send.to.device.pr" : this.messageType.id == C.a.Queue.MessageTypes.SETTINGS.id ? t = this.messageType.name == C.a.Queue.MessageTypes.ZONES.name ? "send.to.device.zones" : "send.to.device.personal" : this.messageType.id == C.a.Queue.MessageTypes.ZONES.id ? t = "send.to.device.zones" : this.messageType.id == C.a.Queue.MessageTypes.SEGMENT_LEADERS.id && (t = "send.to.device.segment"),
                    g.a.localize(t, e)
                },
                getExportTypeByMessageType: function(e) {
                    var t = null;
                    return this.messageType.id == C.a.Queue.MessageTypes.SCHEDULES.id ? t = e.get("workoutFileType") : this.messageType.id == C.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? t = e.get("languageSettingFileType") : this.messageType.id == C.a.Queue.MessageTypes.ACTIVITIES.id ? t = e.get("courseFileType") : this.messageType.id == C.a.Queue.MessageTypes.COURSES.id ? t = e.get("courseFileType") : this.messageType.id == C.a.Queue.MessageTypes.DEVICE_SETTINGS.id ? t = e.get("deviceSettingFileType") : this.messageType.id == C.a.Queue.MessageTypes.GOALS.id ? t = "TCX" : this.messageType.id == C.a.Queue.MessageTypes.PR.id ? t = e.get("personalRecordFileType") : this.messageType.id == C.a.Queue.MessageTypes.SETTINGS.id || this.messageType.id == C.a.Queue.MessageTypes.ZONES.id ? e.get("settingCapable") ? t = "FIT" : e.get("userProfileCapable") && (t = "TCX") : this.messageType.id == C.a.Queue.MessageTypes.WORKOUTS.id ? t = e.get("workoutFileType") : this.messageType.id == C.a.Queue.MessageTypes.SEGMENT_LEADERS.id && (t = "FIT"),
                    t
                },
                onNeedHelpClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation(),
                    this.$(".need-help-link").hide(),
                    this.$(".send-help").show(),
                    this.$(".close-help").show()
                },
                onHideHelpClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation(),
                    this.$(".send-help").hide(),
                    this.$(".need-help-link").show(),
                    this.$(".close-help").hide()
                },
                workoutHasSecondaryTarget: function() {
                    var e = null;
                    if (this.sendToDeviceWorkoutData && "object" === typeof this.sendToDeviceWorkoutData) {
                        var t = this.sendToDeviceWorkoutData.get("workoutSegments")[0].workoutSteps;
                        t && t.length && (e = t.find(function(e) {
                            return e.workoutSteps ? e.workoutSteps.find(function(e) {
                                return e.workoutSteps && e.workoutSteps.length ? e.workoutSteps.find(function(e) {
                                    return !(!e.secondaryTargetType || !e.secondaryTargetType.workoutTargetTypeKey || e.secondaryTargetType.workoutTargetTypeKey === x.a.TargetTypes.No_Target)
                                }) : !(!e.secondaryTargetType || !e.secondaryTargetType.workoutTargetTypeKey || e.secondaryTargetType.workoutTargetTypeKey === x.a.TargetTypes.No_Target)
                            }) : !(!e.secondaryTargetType || !e.secondaryTargetType.workoutTargetTypeKey || e.secondaryTargetType.workoutTargetTypeKey === x.a.TargetTypes.No_Target)
                        }))
                    }
                    return e
                },
                workoutHasPowerCurve: function() {
                    var e = null;
                    if (this.sendToDeviceWorkoutData && "object" === typeof this.sendToDeviceWorkoutData) {
                        var t = this.sendToDeviceWorkoutData.get("workoutSegments")[0].workoutSteps
                          , i = x.a.TargetTypes.Power_Curve;
                        t && t.length && (e = t.find(function(e) {
                            return e.workoutSteps ? e.workoutSteps.find(function(e) {
                                return e.workoutSteps && e.workoutSteps.length ? e.workoutSteps.find(function(e) {
                                    return !(!e.secondaryTargetType || !e.secondaryTargetType.workoutTargetTypeKey || e.secondaryTargetType.workoutTargetTypeKey !== i) || !(!e.targetType || !e.targetType.workoutTargetTypeKey || e.targetType.workoutTargetTypeKey !== i)
                                }) : !(!e.secondaryTargetType || !e.secondaryTargetType.workoutTargetTypeKey || e.secondaryTargetType.workoutTargetTypeKey !== i) || !(!e.targetType || !e.targetType.workoutTargetTypeKey || e.targetType.workoutTargetTypeKey !== i)
                            }) : !(!e.secondaryTargetType || !e.secondaryTargetType.workoutTargetTypeKey || e.secondaryTargetType.workoutTargetTypeKey !== i) || !(!e.targetType || !e.targetType.workoutTargetTypeKey || e.targetType.workoutTargetTypeKey !== i)
                        }))
                    }
                    return e
                },
                getSelectedDeviceModel: function() {
                    var e = this.$("select.selected-device").val();
                    return this.collection.models.find(function(t) {
                        return !isNaN(e) && t.attributes.deviceId === parseInt(e)
                    })
                },
                setWarningContent: function() {
                    if (this.sendToDeviceWorkoutData && "object" === typeof this.sendToDeviceWorkoutData && this.sendToDeviceWorkoutData.get("sportType") && this.sendToDeviceWorkoutData.get("sportType").sportTypeKey === x.a.SportTypes.Cycling) {
                        var e = this.getSelectedDeviceModel()
                          , t = e ? e.get("secondaryWorkoutStepTargetCapable") : null
                          , i = this.workoutHasSecondaryTarget()
                          , a = e ? e.get("powerCurveCapable") : null
                          , n = this.workoutHasPowerCurve()
                          , r = e ? e.get("displayName") : null;
                        i && !t && n && !a ? this.toggleWarningContent(!0, g.a.localize("device_workout_compatibility_warning_two_issues_information", r, g.a.localize("secondary_targets_capable"), g.a.localize("power_curve_capable"))) : i && !t ? this.toggleWarningContent(!0, g.a.localize("device_workout_compatibility_warning_single_information", r, g.a.localize("secondary_targets_capable"))) : n && !a ? this.toggleWarningContent(!0, g.a.localize("device_workout_compatibility_warning_single_information", r, g.a.localize("power_curve_capable"))) : this.toggleWarningContent(!1)
                    }
                },
                toggleWarningContent: function(e, t) {
                    e ? (this.$(".conflicting-values-warning").removeClass("hide"),
                    this.$(".conflicting-values-warning-content").text(t)) : (this.$(".conflicting-values-warning").addClass("hide"),
                    this.$(".conflicting-values-warning-content").empty())
                },
                onSendToDeviceClicked: function(e) {
                    this.$(".queue-error").hide(),
                    e.preventDefault(),
                    e.stopPropagation();
                    var t = this.$(".btn.device-selected");
                    if (0 == t.attr("disabled") || !t.attr("disabled")) {
                        this.enableSendButton(t, !1),
                        this.wifiSetup = !1,
                        this.deviceName = this.$("select.selected-device option:selected")[0].text;
                        for (var i = null, n = this.$("select.selected-device").val(), r = null, o = 0; o < this.collection.models.length; o++)
                            if (this.collection.models[o].attributes.deviceId == n) {
                                r = this.collection.models[o],
                                this.wifiSetup = r.get("wifiSetup"),
                                i = this.getExportTypeByMessageType(r);
                                break
                            }
                        if (null == i && (console.log("Could not get export file type for messageType: ", this.messageType),
                        i = "FIT"),
                        "TCX" == i && (this.messageType.id == C.a.Queue.MessageTypes.SCHEDULES.id || this.messageType.id == C.a.Queue.MessageTypes.WORKOUTS.id)) {
                            var s = g.a.localize("sendToDevice.confirmation.powerWorkout1") + "\n\n" + g.a.localize("sendToDevice.confirmation.powerWorkout2") + "\n\n" + g.a.localize("sendToDevice.confirmation.powerWorkout3") + "\n\n" + g.a.localize("sendToDevice.confirmation.powerWorkout4") + "\n\n" + g.a.localize("sendToDevice.confirmation.powerWorkout5") + "\n\n" + g.a.localize("sendToDevice.confirmation.powerWorkout6") + "\n\n";
                            if (!confirm(s))
                                return this.messageType.id == C.a.Queue.MessageTypes.SCHEDULES.id && this.trigger(C.a.Queue.Events.RETURN_TO_TRAINING_PLAN),
                                void this.enableSendButton(t, !0)
                        }
                        var l = []
                          , h = null
                          , p = {
                            wifiSetup: this.wifiSetup,
                            deviceName: this.deviceName,
                            openExpress: !0,
                            deviceId: n
                        };
                        if (this.messageType.id == C.a.Queue.MessageTypes.SCHEDULES.id) {
                            var d = this.urlHash[this.messageType.id];
                            if (d = d.replace("{0}", i.toUpperCase()),
                            d += "?startDate=" + c.a.toISODateString(new Date) + "&includeTP=" + r.get("trainingPlanCapable"),
                            l.push(d),
                            "FIT" == i)
                                return this.createMessagesFromTrainingPlanData(n, r, d),
                                this.queueNotifications.sendAll(p),
                                void this.enableSendButton(t, !1);
                            this.messageName = g.a.localize("queue.calendar.workouts.tcx", this.calendarTrainingPlans.count, this.calendarTrainingPlans.startDate, this.calendarTrainingPlans.endDate)
                        } else if (this.messageType.id == C.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id) {
                            var u = a("#languageComboSelect").val();
                            i = this.getLanguage(u),
                            this.messageName = i,
                            h = g.a.localize("send.to.device.language.title", i)
                        } else {
                            if (this.messageType.id == C.a.Queue.MessageTypes.ACTIVITIES.id)
                                return this.addActivityToDevice(this.id, this.messageName, i, n),
                                this.queueNotifications.sendAll(p),
                                void this.enableSendButton(t, !0);
                            if (this.messageType.id == C.a.Queue.MessageTypes.WORKOUTS.id)
                                ;
                            else {
                                if (this.messageType.id == C.a.Queue.MessageTypes.COURSES.id)
                                    return this.addCourseToDevice(this.id, this.messageName, i, n),
                                    this.queueNotifications.sendAll(p),
                                    void this.enableSendButton(t, !0);
                                if (this.messageType.id == C.a.Queue.MessageTypes.SETTINGS.id)
                                    return this.addPersonalInfoAndSportsToDevice(n, i, r),
                                    this.queueNotifications.sendAll(p),
                                    void this.enableSendButton(t, !0);
                                if (this.messageType.id == C.a.Queue.MessageTypes.SEGMENT_LEADERS.id)
                                    return this.addSegmentToDevice(this.id, this.messageName, i, n),
                                    this.queueNotifications.sendAll(p),
                                    void this.enableSendButton(t, !0)
                            }
                        }
                        0 == l.length && (l = l.concat(this.urlHash[this.messageType.id]));
                        var m = null;
                        for (o = 0; o < l.length; o++) {
                            var f = null;
                            f = this.messageType.id == C.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? l[o].replace("{0}", i) : l[o].replace("{0}", this.getFormattedExportType(i)),
                            "undefined" != this.id && null != this.id && (f += this.id),
                            this.messageType.id == C.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id && (m = f.substring(f.lastIndexOf(".") + 1)),
                            this.addMessageToQueue(n, f, this.messageType.type, this.messageName, h, o + 1, null == m ? i : m, "undefined" == this.id || null == this.id || "" == this.id ? null : this.id)
                        }
                        this.queueNotifications.sendAll(p),
                        this.messageType.id != C.a.Queue.MessageTypes.PR.id && this.messageType.id != C.a.Queue.MessageTypes.WORKOUTS.id || this.pushSendToDeviceAnalyticsEvents(this.messageType.name)
                    }
                },
                pushSendToDeviceAnalyticsEvents: function(e) {
                    h.a.push({
                        event: "track_event",
                        category: "Personal Records Page Events",
                        action: "Send " + e + " To Device"
                    })
                },
                getFormattedExportType: function(e) {
                    return this.messageType == C.a.Queue.MessageTypes.WORKOUTS ? e.toUpperCase() : e.toLowerCase()
                },
                addCourseToDevice: function(e, t, i, a) {
                    var n = (this.urlHash[this.messageType.id] + e + "/" + a + "?elevation=true").replace("{0}", i.toLowerCase());
                    this.addMessageToQueue(a, n, this.messageType.type, t, null, 0, i, e)
                },
                addActivityToDevice: function(e, t, i, a) {
                    var n = (this.urlHash[this.messageType.id] + e + "/" + a + "?elevation=true").replace("{0}", i.toLowerCase());
                    this.addMessageToQueue(a, n, this.messageType.type, t, null, 0, i, e)
                },
                addPersonalInfoAndSportsToDevice: function(e, t, i) {
                    if (this.addMessageToQueue(e, this.urlHash["FIT" == t ? C.a.Queue.MessageTypes.SETTINGS.id : C.a.Queue.MessageTypes.PROFILE.id], "FIT" == t ? C.a.Queue.MessageTypes.SETTINGS.type : C.a.Queue.MessageTypes.PROFILE.type, "FIT" == t ? g.a.localize("queue.personal.information") : g.a.localize("queue.personalInf.training.zones"), null, 1, t, null),
                    "FIT" == t && i.get("sportCapable"))
                        for (var a = 0; a < this.urlHash[C.a.Queue.MessageTypes.SPORTS.id].length; a++)
                            this.urlHash[C.a.Queue.MessageTypes.SPORTS.id][a].indexOf("cycling") > -1 && 0 == i.get("powerZonesCapable") || this.addMessageToQueue(e, this.urlHash[C.a.Queue.MessageTypes.SPORTS.id][a], C.a.Queue.MessageTypes.SPORTS.type, "SPORTS", null, a + 2, t, null)
                },
                addSegmentToDevice: function(e, t, i, a) {
                    var n = (this.urlHash[this.messageType.id] + e).replace("{0}", i.toLowerCase());
                    this.addMessageToQueue(a, n, this.messageType.type, t, "Segments", 0, i, null)
                },
                enableSendButton: function(e, t) {
                    t ? e.attr({
                        disabled: !1
                    }) : (e.attr({
                        disabled: !0
                    }),
                    this.$("#send-body").hide(),
                    this.$(".loading-mask").show(),
                    this.$(".still-waiting").show())
                },
                getLanguage: function(e) {
                    var t = this.languageHash[e];
                    if ("undefined" == typeof t)
                        throw new Error("Language not found in URL path pairs. Check that the parameter is being passed in or see SendToDevicePageView.js");
                    return t
                },
                createMessagesFromTrainingPlanData: function(e, t, i) {
                    var a = null
                      , n = this.urlHash[C.a.Queue.MessageTypes.WORKOUTS.id];
                    n = n.replace("{0}", "FIT");
                    for (var r = "", o = 0; o < this.calendarTrainingPlans.models.length; o++) {
                        t.get("scheduleCapable") && 0 == o && this.addMessageToQueue(e, i, this.messageType.type, "Schedule", "", 1, "FIT", null);
                        for (var s = 0; s < this.calendarTrainingPlans.models[o].length; s++)
                            a = 1 == this.calendarTrainingPlans.models[o][s].attributes.nameChanged ? this.calendarTrainingPlans.models[o][s].attributes.newName : this.calendarTrainingPlans.models[o][s].attributes.workout.workoutName,
                            r = this.calendarTrainingPlans.models[o][s].attributes.groupName,
                            this.addMessageToQueue(e, n + this.calendarTrainingPlans.models[o][s].attributes.workout.workoutId, "workouts", a, r, this.calendarTrainingPlans.models[o][s].attributes.priority, "FIT", this.calendarTrainingPlans.models[o][s].attributes.workout.workoutId)
                    }
                },
                addMessageToQueue: function(e, t, i, a, n, r, o, s) {
                    var l = new p.a({
                        deviceId: e,
                        messageUrl: t,
                        messageType: i,
                        messageName: a,
                        groupName: n,
                        priority: r,
                        fileType: o,
                        metaDataId: s
                    });
                    this.queueNotifications.add(l)
                },
                loadContent: function() {
                    if (this.contentLoaded)
                        this.render();
                    else {
                        this.userPreferences = new o.a({
                            displayName: this.viewerDisplayName,
                            propertiesPath: this.propertiesPath,
                            propertiesFile: this.propertiesFile
                        });
                        var e = new s.a;
                        e.addModel({
                            model: this.userPreferences,
                            required: !0
                        }),
                        e.addModel({
                            model: this.collection,
                            required: !0
                        }),
                        e.bind(s.a.Events.SYNCHRONIZED, this.onModelsFetched, this),
                        e.bind(s.a.Events.SYNCHRONIZE_FAILED, this.onModelsFailed, this),
                        e.fetchModels()
                    }
                },
                onModelsFetched: function() {
                    this.contentLoaded = !0,
                    this.hasDevices = this.collection.length > 0,
                    this.render()
                },
                onModelsFailed: function(e) {},
                close: function() {
                    this.remove(),
                    this.trigger(T.ON_CLOSE)
                }
            });
            E.Events = T,
            E.DEVICE_CAPABILITIES = S,
            t.a = E
        }
        ).call(this, i(8), i(9))
    },
    1389: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(7)
              , r = i(0)
              , o = i.n(r);
            function s(t) {
                var i = e.has(t, "customMakeModel") ? t.customMakeModel : t instanceof o.a.Model && t.get("customMakeModel") || "";
                return i || (e.has(t, "gearMakeName") ? t.gearMakeName : t instanceof o.a.Model && t.get("gearMakeName") || "") + " " + (e.has(t, "gearModelName") ? t.gearModelName : t instanceof o.a.Model && t.get("gearModelName") || "")
            }
            var l = o.a.Model.extend({
                idAttribute: "uuid",
                urlRoot: "/proxy/gear-service/gear"
            });
            l.getFullGearDisplayNameByModel = function(t) {
                var i = ""
                  , n = e.has(t, "displayName") ? t.displayName : t.get("displayName") || ""
                  , r = s(t);
                return n && r && (i += n + " (" + a.trim(r) + ")"),
                n || (i = r),
                i
            }
            ,
            l.getFullGearDisplayName = function(e, t) {
                return e || t ? e ? t ? e + " (" + t + ")" : e : t : n.a.localize("gear_change_default_confirmation_no_name")
            }
            ,
            l.getMakeModelDisplayName = s,
            t.a = l
        }
        ).call(this, i(8), i(9))
    },
    1391: function(e, t, i) {
        "use strict";
        var a = i(3)
          , n = i(436)
          , r = i(437)
          , o = i(81)
          , s = i(80)
          , l = i(195)
          , c = i(82)
          , h = i(10)
          , p = i.n(h)
          , d = i(3068)
          , u = i(1251)
          , g = i(3069)
          , m = i(3070)
          , f = i(3071)
          , y = i(244)
          , v = i(1563)
          , b = i(3067);
        y.GarminOpenStreetMapLayer = y.TileLayer.extend({
            options: {
                subdomains: [0, 1, 2, 3],
                type: "Aerial",
                attribution: "",
                culture: ""
            },
            initialize: function(e, t) {
                this._url = e,
                y.Util.setOptions(this, t)
            },
            getTileUrl: function(e) {
                var t = e.y.toString(16)
                  , i = e.x.toString(16)
                  , a = "R" + this.padString(t, 8, "0").toUpperCase()
                  , n = "C" + this.padString(i, 8, "0").toUpperCase() + ".png"
                  , r = e.z
                  , o = "L" + (r < 10 ? "0" : "") + r;
                return this._url + o + "/" + a + "/" + n
            },
            getAttribution: function() {
                return this.options.attribution
            },
            padString: function(e, t, i) {
                if (e.length >= t)
                    return e;
                for (var a = t - e.length, n = "", r = 0; r < a; r++)
                    n += i;
                return n += e
            }
        }),
        y.GarminOSMLayer = function(e, t) {
            return new y.GarminOpenStreetMapLayer(e,t)
        }
        ;
        var A = function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "createLeafletElement",
                value: function(e) {
                    var t = e.url
                      , i = Object(v.a)(e, ["url"]);
                    return y.GarminOSMLayer(t, this.getOptions(i))
                }
            }]),
            t
        }(b.a)
          , C = i(22)
          , w = i.n(C);
        y.GarminPopularAreaLayer = y.TileLayer.extend({
            options: {
                attribution: ""
            },
            initialize: function(e, t) {
                y.Util.setOptions(this, t),
                t.routeType || (t.routeType = "ROAD_CYCLING"),
                t.filterZoomLevel ? this.filterZoomLevel = t.filterZoomLevel : this.filterZoomLevel = 9,
                y.TileLayer.prototype.initialize.call(this, "https://" + e + "/" + t.routeType + "/{z}/{x}/{y}.png", t)
            },
            getTileUrl: function(e) {
                return !this.filterZoomLevel || this._getZoomForUrl() >= this.filterZoomLevel ? y.TileLayer.prototype.getTileUrl.call(this, e) : null
            }
        }),
        y.PopularAreas = function(e, t) {
            return new y.GarminPopularAreaLayer(e,t)
        }
        ;
        var _ = function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "createLeafletElement",
                value: function(e) {
                    var t = e.url
                      , i = Object(v.a)(e, ["url"]);
                    return y.PopularAreas(t, this.getOptions(i))
                }
            }]),
            t
        }(b.a);
        _.propTypes = {
            url: w.a.string.isRequired
        };
        var x = _
          , S = i(1564)
          , T = i(2091)
          , E = (i(1430),
        function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "createLeafletElement",
                value: function(e) {
                    return new y.gridLayer.googleMutant(e)
                }
            }, {
                key: "componentDidMount",
                value: function() {
                    Object(S.a)(Object(s.a)(t.prototype), "componentDidMount", this).call(this),
                    this.updateGoogleLayer(this.props)
                }
            }, {
                key: "updateLeafletElement",
                value: function(e, i) {
                    Object(S.a)(Object(s.a)(t.prototype), "updateLeafletElement", this).call(this, e, i),
                    i.value && this.updateGoogleLayer(i)
                }
            }, {
                key: "updateGoogleLayer",
                value: function(e) {
                    e.value && (JSON.parse(e.value).trails ? this.leafletElement.addGoogleLayer("BicyclingLayer") : this.leafletElement.removeGoogleLayer("BicyclingLayer"))
                }
            }]),
            t
        }(T.a));
        E.contextTypes = T.a.contextTypes,
        E.childContextTypes = T.a.childContextTypes,
        E.propTypes = {
            googlekey: w.a.string.isRequired,
            maptype: w.a.string,
            asclientid: w.a.bool
        },
        y.Projection.BaiduSphericalMercator = {
            project: function(e) {
                if ("undefined" != typeof window.BMap) {
                    var t = window.BMap
                      , i = new t.MercatorProjection
                      , a = new t.Point(e.lng,e.lat)
                      , n = i.lngLatToPoint(a);
                    return new y.Point(n.x,n.y)
                }
            },
            unproject: function(e) {
                if ("undefined" != typeof window.BMap) {
                    var t = window.BMap
                      , i = (new t.MercatorProjection).pointToLngLat(new t.Pixel(e.x,e.y));
                    return new y.LatLng(i.lat,i.lng)
                }
            },
            bounds: function() {
                y.bounds([-20037726.37, -11708041.66], [20037726.37, 12474104.17]);
                var e = 33554432;
                return new y.Bounds([-e, -e],[e, e])
            }()
        },
        y.CRS.BEPSG3857 = y.extend({}, y.CRS.Earth, {
            code: "EPSG:B3857",
            projection: y.Projection.BaiduSphericalMercator,
            transformation: function() {
                var e = Math.pow(2, -26);
                return new y.Transformation(e,.5,-e,.5)
            }()
        }),
        y.Baidu = y.TileLayer.extend({
            options: {
                minZoom: 3,
                maxZoom: 18,
                subdomains: "0123",
                crs: y.CRS.BEPSG3857,
                attribution: "? 2020 Baidu - GS(2019)5218? - \ufffd\ufffd??\ufffdr1100930 - \ufffd\ufffdICP?030173? - Data ?"
            },
            initialize: function(e, t) {
                var i = y.Baidu.desc
                  , a = (e = e || "ROAD.Map").split(".")
                  , n = a[0]
                  , r = a[1]
                  , o = a[2]
                  , s = i[n][r];
                "CustomStyle" === n && (o ? s = s + "&customid=" + o : t.styles && (s = s + "&styles=" + t.styles)),
                (t = t || {}).subdomains || (t.subdomains = i.subdomains),
                y.TileLayer.prototype.initialize.call(this, s, t)
            },
            getTileUrl: function(e) {
                var t = Math.pow(2, e.z - 1)
                  , i = e.x - t
                  , a = t - e.y - 1
                  , n = y.point(i, a);
                return n.z = e.z,
                y.TileLayer.prototype.getTileUrl.call(this, n)
            }
        }),
        y.Baidu.desc = {
            ROAD: {
                Map: "https://gss{s}.bdstatic.com/8bo_dTSlRMgBo1vgoIiO_jowehsv/tile/?qt=vtile&x={x}&y={y}&z={z}&styles=pl&scaler=1&udt=20191003"
            },
            SATELLITE: {
                Map: "https://gss{s}.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv/starpic/?qt=satepc&u=x={x};y={y};z={z};v=009;type=sate&fm=46&app=webearth2&v=009&udt=20191003",
                Road: "https://gss{s}.bdstatic.com/8bo_dTSlRMgBo1vgoIiO_jowehsv/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&udt=20141015"
            },
            CustomStyle: {
                Map: "http://api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}",
                subdomains: "012"
            },
            subdomains: "0123"
        },
        y.Baidu.baiduLayer = function(e, t) {
            return new y.Baidu(e,t)
        }
        ;
        var k = i(121)
          , L = i.n(k)
          , P = function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "createLeafletElement",
                value: function(e) {
                    return new y.Baidu.baiduLayer(e.type,e)
                }
            }, {
                key: "componentDidMount",
                value: function() {
                    Object(S.a)(Object(s.a)(t.prototype), "componentDidMount", this).call(this),
                    L()(["https://api.map.baidu.com/getscript?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD"])
                }
            }]),
            t
        }(T.a);
        P.contextTypes = T.a.contextTypes,
        P.childContextTypes = T.a.childContextTypes,
        P.defaultProps = {
            mapViewType: "normal",
            mapTile: "base"
        },
        P.propTypes = {
            mapViewType: w.a.string,
            mapTile: w.a.string
        };
        var z = i(331)
          , I = (i(1808),
        i(260))
          , D = i.n(I)
          , B = z.a.mapProviderInfo
          , M = {
            googleMapGeoCoder: function(e, t, i) {
                (new window.google.maps.Geocoder).geocode({
                    address: e
                }, function(e, a) {
                    a === window.google.maps.GeocoderStatus.OK && e.length > 0 ? e.length > 0 && "function" === typeof i && i([e[0].geometry.location.lat(), e[0].geometry.location.lng()], t) : console.log("Error finding address", a)
                })
            },
            hereMapGeoCoder: function(e, t, i) {
                L()("//js.api.here.com/v3/3.0/mapsjs-core.js", function() {
                    L()("//js.api.here.com/v3/3.0/mapsjs-service.js", function() {
                        !function() {
                            var a = new window.H.service.Platform({
                                app_id: B.here.HereMapId,
                                app_code: B.here.HereMapCode,
                                useHTTPS: !0
                            }).getGeocodingService()
                              , n = {
                                searchText: e,
                                jsonattributes: 1
                            };
                            a.geocode(n, function(e) {
                                if (e.response.view && e.response.view.length > 0) {
                                    var a = e.response.view[0].result[0].location.displayPosition;
                                    i({
                                        lat: a.latitude,
                                        lng: a.longitude
                                    }, t)
                                } else
                                    console.log(e.response)
                            }, function(e) {
                                console.log(e, "Unexpected data returned.")
                            })
                        }()
                    })
                })
            },
            baiduMapGeoCoder: function(e, t, i) {
                var a = ["https://api.map.baidu.com/geocoder/v2/?"];
                a.push("ret_coordtype=bd09ll"),
                a.push("&address=" + encodeURIComponent(e)),
                a.push("&ak=KQMz9KcIzBwWNUgbHWUHZGSD"),
                a.push("&output=json"),
                a.push("&callback=?"),
                D()(a.join(""), {
                    headers: {
                        Accept: "application/json"
                    },
                    jsonCallbackFunction: "showLocation"
                }).then(function(e) {
                    return e.json()
                }).then(function(e) {
                    if (e.result) {
                        var a = e.result.location;
                        i({
                            lat: a.lat,
                            lng: a.lng
                        }, t)
                    } else
                        console.log("Unexpected data returned.")
                })
            }
        }
          , O = (i(1809),
        i(1810),
        z.a.mapProviderInfo)
          , R = function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "createLeafletElement",
                value: function(e) {
                    var t = e.mapViewType
                      , i = e.mapTile
                      , a = "https://1.".concat(i, ".maps.api.here.com/maptile/2.1/maptile/newest/").concat(t, ".day/{z}/{x}/{y}/256/png8?app_id=").concat(O.here.HereMapId, "&app_code=").concat(O.here.HereMapCode);
                    return y.tileLayer(a, {
                        id: "hereMap",
                        attribution: O.here.attribution
                    })
                }
            }]),
            t
        }(b.a);
        R.defaultProps = {
            mapViewType: "normal",
            mapTile: "base"
        },
        R.propTypes = {
            mapViewType: w.a.string,
            mapTile: w.a.string
        };
        var N = R
          , V = i(1634)
          , j = i.n(V)
          , F = i(89)
          , G = i(440)
          , U = function(e) {
            function t(e) {
                var i;
                return Object(n.a)(this, t),
                (i = Object(o.a)(this, Object(s.a)(t).call(this, e))).state = {
                    expanded: !1
                },
                i.onClickHereMap = i.onClickHereMap.bind(Object(l.a)(i)),
                i.onClickGoogle = i.onClickGoogle.bind(Object(l.a)(i)),
                i.onClickOSM = i.onClickOSM.bind(Object(l.a)(i)),
                i.onClickBaidu = i.onClickBaidu.bind(Object(l.a)(i)),
                i.onClickDropdown = i.onClickDropdown.bind(Object(l.a)(i)),
                i
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "mapProviderString",
                value: function() {
                    var e = this.props.mapProvider;
                    if (Object(G.b)())
                        return "course_map_map_provider_label_baidu";
                    switch (e && e.value) {
                    case z.b.here.value:
                        return "course_map_map_provider_label_here";
                    case z.b.google.value:
                        return "course_map_map_provider_label_google";
                    default:
                        return "course_map_map_provider_label_osm"
                    }
                }
            }, {
                key: "onClickHereMap",
                value: function(e) {
                    e.preventDefault();
                    var t = this.props;
                    (0,
                    t.setUserPreference)("map_provider_type", "here", t.mapSettingsJSON)
                }
            }, {
                key: "onClickGoogle",
                value: function(e) {
                    e.preventDefault();
                    var t = this.props;
                    (0,
                    t.setUserPreference)("map_provider_type", "google", t.mapSettingsJSON)
                }
            }, {
                key: "onClickOSM",
                value: function(e) {
                    e.preventDefault();
                    var t = this.props;
                    (0,
                    t.setUserPreference)("map_provider_type", "osm", t.mapSettingsJSON)
                }
            }, {
                key: "onClickBaidu",
                value: function(e) {
                    e.preventDefault(),
                    (0,
                    this.props.setUserPreference)("map_provider_type", "baidu")
                }
            }, {
                key: "onClickDropdown",
                value: function(e) {
                    e.preventDefault(),
                    this.setState({
                        expanded: !this.state.expanded
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props.mapProvider
                      , t = [];
                    Object(G.b)() ? t.push(p.a.createElement("li", {
                        key: z.b.baidu.value,
                        className: e.value === z.b.baidu.value ? "active" : "",
                        onClick: this.onClickBaidu
                    }, p.a.createElement("a", {
                        "data-action": "baidu"
                    }, p.a.createElement(F.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_baidu"
                    })))) : (t.push(p.a.createElement("li", {
                        key: z.b.google.value,
                        className: e.value === z.b.google.value ? "active" : "",
                        onClick: this.onClickGoogle
                    }, p.a.createElement("a", {
                        "data-action": "google"
                    }, p.a.createElement(F.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_google"
                    })))),
                    t.push(p.a.createElement("li", {
                        key: z.b.osm.value,
                        className: e.value === z.b.osm.value || null === e.value ? "active" : "",
                        onClick: this.onClickOSM
                    }, p.a.createElement("a", {
                        "data-action": "osm"
                    }, p.a.createElement(F.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_osm"
                    })))),
                    t.push(p.a.createElement("li", {
                        key: z.b.here.value,
                        className: e.value === z.b.here.value ? "active" : "",
                        onClick: this.onClickHereMap
                    }, p.a.createElement("a", {
                        "data-action": "here"
                    }, p.a.createElement(F.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_here"
                    })))));
                    var i = t.length > 1;
                    return p.a.createElement("div", {
                        className: "map-filter active map-filter-provider ".concat(this.state.expanded ? "open" : "", " ").concat(j.a.mapFilterProvider),
                        onClick: i ? this.onClickDropdown : function() {}
                    }, p.a.createElement("a", {
                        className: "map-filter-trigger ".concat(j.a.mapFilterTrigger),
                        tabIndex: "-1"
                    }, i && p.a.createElement("span", {
                        className: "icon-pointer-down"
                    }), p.a.createElement("span", {
                        className: "map-filter-label ".concat(j.a.mapFilterLabel)
                    }, p.a.createElement(F.a, {
                        key: this.mapProviderString(),
                        ns: "course",
                        content: this.mapProviderString()
                    }))), " ", p.a.createElement("div", {
                        className: "map-filter-detail ".concat(j.a.mapFilterDetail)
                    }, p.a.createElement("ul", null, t)))
                }
            }]),
            t
        }(p.a.Component)
          , H = i(1382)
          , K = i.n(H)
          , W = function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.className
                      , i = e.name
                      , a = e.dataName
                      , n = e.onClick;
                    return p.a.createElement("a", {
                        "data-name": a,
                        className: "map-layer active layer-tile-style selected ".concat(t, " ").concat(K.a.mapLayer, " ").concat(K.a.layerTileStyle),
                        title: i,
                        onClick: n
                    }, p.a.createElement("span", {
                        "data-name": a,
                        className: "layer-tile-style-label ".concat(K.a.layerTileStyleLabel)
                    }, p.a.createElement("span", {
                        "data-name": a,
                        className: "layer-tile-style-text ".concat(K.a.layerTileStyleText)
                    }, i)))
                }
            }]),
            t
        }(p.a.Component)
          , Q = i(1637)
          , Y = i.n(Q)
          , $ = function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.className
                      , i = e.selected
                      , a = e.onClick
                      , n = e.name
                      , r = "map-layer ".concat(t, " ").concat(i ? Y.a.selected : "");
                    return p.a.createElement("a", {
                        className: r,
                        onClick: a
                    }, i && p.a.createElement("span", {
                        className: "".concat(Y.a.iconCheckmark)
                    }), p.a.createElement("span", {
                        title: n,
                        className: "button-text"
                    }, n))
                }
            }]),
            t
        }(p.a.Component);
        $.defaultProps = {
            selected: !1
        };
        var Z = $
          , q = i(194)
          , X = function(e) {
            function t(e) {
                var i;
                return Object(n.a)(this, t),
                (i = Object(o.a)(this, Object(s.a)(t).call(this, e))).onClickSatellite = i.onClickSatellite.bind(Object(l.a)(i)),
                i.onClickTerrain = i.onClickTerrain.bind(Object(l.a)(i)),
                i.onClickTrails = i.onClickTrails.bind(Object(l.a)(i)),
                i
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "onClickSatellite",
                value: function(e) {
                    e.preventDefault();
                    var t = this.props
                      , i = t.setUserPreference
                      , a = t.mapSettingsJSON
                      , n = e.target.attributes["data-name"].value;
                    a.terrain = !1,
                    "map" === n ? (a.satellite = !1,
                    a.hybrid = !1) : a.trails ? (a.satellite = !1,
                    a.hybrid = !0) : (a.satellite = !0,
                    a.hybrid = !1),
                    i(a)
                }
            }, {
                key: "onClickTerrain",
                value: function(e) {
                    e.preventDefault();
                    var t = this.props
                      , i = t.setUserPreference
                      , a = t.mapSettingsJSON;
                    a.terrain = !a.terrain,
                    a.satellite = !1,
                    a.hybrid = !1,
                    i(a)
                }
            }, {
                key: "onClickTrails",
                value: function(e) {
                    e.preventDefault();
                    var t = this.props
                      , i = t.setUserPreference
                      , a = t.mapSettingsJSON
                      , n = t.updateBikeLanesAndTrails
                      , r = a.hybrid;
                    a.trails = !a.trails,
                    a.hybrid = a.satellite && a.trails,
                    a.satellite = r && !a.trails,
                    n(a.trails),
                    i(a)
                }
            }, {
                key: "render",
                value: function() {
                    var e, t = this.props, i = t.mapSettingsJSON, a = t.hideBikeLanesButton, n = t.t, r = !!i && i.trails;
                    return a || (e = p.a.createElement(Z, {
                        selected: r,
                        className: "layer-bike-data active",
                        name: n("course:course_map_label_bike_friendly"),
                        onClick: this.onClickTrails
                    })),
                    i && i.terrain ? p.a.createElement("div", {
                        className: "map-layers map-provider-google ".concat(K.a.mapLayers)
                    }, p.a.createElement(W, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: n("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(W, {
                        className: "layer-tile-default",
                        dataName: "map",
                        name: n("map:map.control.road"),
                        onClick: this.onClickTerrain
                    }), e) : i && (i.satellite || i.hybrid) ? p.a.createElement("div", {
                        className: "map-layers map-provider-google ".concat(K.a.mapLayers)
                    }, p.a.createElement(W, {
                        className: "layer-tile-default",
                        dataName: "map",
                        name: n("map:map.control.road"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(W, {
                        className: "layer-tile-terrain",
                        dataName: "terrain",
                        name: n("map:map.control.terrain"),
                        onClick: this.onClickTerrain
                    }), e) : p.a.createElement("div", {
                        className: "map-layers map-provider-google ".concat(K.a.mapLayers)
                    }, p.a.createElement(W, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: n("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(W, {
                        className: "layer-tile-terrain",
                        dataName: "terrain",
                        name: n("map:map.control.terrain"),
                        onClick: this.onClickTerrain
                    }), e)
                }
            }]),
            t
        }(p.a.Component)
          , J = Object(q.d)(["map"])(X)
          , ee = function(e) {
            function t(e) {
                var i;
                return Object(n.a)(this, t),
                (i = Object(o.a)(this, Object(s.a)(t).call(this, e))).onClickSatellite = i.onClickSatellite.bind(Object(l.a)(i)),
                i.onClickTerrain = i.onClickTerrain.bind(Object(l.a)(i)),
                i
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "onClickSatellite",
                value: function(e) {
                    e.preventDefault();
                    var t = this.props
                      , i = t.setUserPreference
                      , a = t.mapSettingsJSON
                      , n = e.target.attributes["data-name"].value;
                    a.terrain = !1,
                    a.hybrid = !1,
                    a.satellite = !("map" === n),
                    i(a)
                }
            }, {
                key: "onClickTerrain",
                value: function(e) {
                    e.preventDefault();
                    var t = this.props
                      , i = t.setUserPreference
                      , a = t.mapSettingsJSON;
                    a.terrain = !a.terrain,
                    a.satellite = !1,
                    a.hybrid = !1,
                    i(a)
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.t
                      , i = e.mapSettingsJSON;
                    return i && i.terrain ? p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(K.a.mapLayers)
                    }, p.a.createElement(W, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: t("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(W, {
                        className: "layer-tile-default",
                        dataName: "map",
                        name: t("map:map.control.road"),
                        onClick: this.onClickTerrain
                    })) : i && (i.satellite || i.hybrid) ? p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(K.a.mapLayers)
                    }, p.a.createElement(W, {
                        className: "layer-tile-default",
                        dataName: "map",
                        name: t("map:map.control.road"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(W, {
                        className: "layer-tile-terrain",
                        dataName: "terrain",
                        name: t("map:map.control.terrain"),
                        onClick: this.onClickTerrain
                    })) : p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(K.a.mapLayers)
                    }, p.a.createElement(W, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: t("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(W, {
                        className: "layer-tile-terrain",
                        dataName: "terrain",
                        name: t("map:map.control.terrain"),
                        onClick: this.onClickTerrain
                    }))
                }
            }]),
            t
        }(p.a.Component)
          , te = Object(q.d)(["map"])(ee)
          , ie = function(e) {
            function t(e) {
                var i;
                return Object(n.a)(this, t),
                (i = Object(o.a)(this, Object(s.a)(t).call(this, e))).onClickSatellite = i.onClickSatellite.bind(Object(l.a)(i)),
                i
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "onClickSatellite",
                value: function(e) {
                    e.preventDefault();
                    var t = this.props
                      , i = t.setUserPreference
                      , a = t.mapSettingsJSON
                      , n = e.target.attributes["data-name"].value;
                    a.terrain = !1,
                    a.hybrid = !1,
                    a.satellite = !("map" === n),
                    i(a)
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.t
                      , i = e.mapSettingsJSON;
                    return i && i.terrain ? p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(K.a.mapLayers)
                    }, p.a.createElement(W, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: t("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    })) : i && (i.satellite || i.hybrid) ? p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(K.a.mapLayers)
                    }, p.a.createElement(W, {
                        className: "layer-tile-default",
                        dataName: "map",
                        name: t("map:map.control.road"),
                        onClick: this.onClickSatellite
                    })) : p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(K.a.mapLayers)
                    }, p.a.createElement(W, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: t("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    }))
                }
            }]),
            t
        }(p.a.Component)
          , ae = Object(q.d)(["map"])(ie)
          , ne = function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "render",
                value: function() {
                    switch (this.props.mapProvider.value) {
                    case "google":
                        return p.a.createElement(J, this.props);
                    case "here":
                        return p.a.createElement(te, this.props);
                    case "osm":
                        return null;
                    case "baidu":
                        return p.a.createElement(ae, this.props);
                    default:
                        return null
                    }
                }
            }]),
            t
        }(p.a.Component)
          , re = i(66)
          , oe = i(1639)
          , se = i.n(oe)
          , le = function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.buttonStyle
                      , i = e.onClickZoomIn
                      , a = e.onClickZoomOut
                      , n = "activity" === t ? "map" : "default";
                    return p.a.createElement("div", {
                        className: "".concat(se.a.wrapper, " ").concat(se.a[t])
                    }, p.a.createElement("div", {
                        onClick: i,
                        className: "".concat(se.a.zoomButton, " ").concat(se.a.zoomInButton, " ").concat(se.a[t])
                    }, p.a.createElement(re.ButtonIcon, {
                        theme: n,
                        icon: "icon-add",
                        ariaLabel: "zoom in",
                        hideOutline: !0
                    })), p.a.createElement("div", {
                        onClick: a,
                        className: "".concat(se.a.zoomButton, " ").concat(se.a.zoomOutButton, " ").concat(se.a[t])
                    }, p.a.createElement(re.ButtonIcon, {
                        theme: n,
                        icon: "icon-minus",
                        ariaLabel: "zoom out",
                        hideOutline: !0
                    })))
                }
            }]),
            t
        }(p.a.Component);
        le.defaultProps = {
            buttonStyle: "course"
        };
        var ce = le
          , he = function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.zoomProps
                      , i = e.mapFilterProps
                      , a = e.mapLayersProps
                      , n = t.hideZoomControls
                      , r = t.onClickZoomIn
                      , o = t.onClickZoomOut
                      , s = i.hideMapProviderSwitch
                      , l = a.hideMapTypeSwitch;
                    return p.a.createElement(p.a.Fragment, null, s ? null : p.a.createElement(U, i), l ? null : p.a.createElement(ne, a), n ? null : p.a.createElement(ce, {
                        buttonStyle: "course",
                        onClickZoomIn: r,
                        onClickZoomOut: o
                    }))
                }
            }]),
            t
        }(p.a.Component)
          , pe = i(1641)
          , de = i.n(pe)
          , ue = function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "render",
                value: function() {
                    var e = this
                      , t = this.props
                      , i = t.mapProvider
                      , a = t.mapSettingsJSON;
                    return Object(G.b)() ? p.a.createElement("div", {
                        className: de.a.container
                    }, p.a.createElement(re.Menu, {
                        customComponent: !0,
                        trigger: p.a.createElement(F.a, {
                            ns: "map"
                        }, function(e) {
                            return p.a.createElement(re.ButtonIcon, {
                                icon: "icon-layers",
                                ariaLabel: e("map.control.layers"),
                                theme: "map"
                            })
                        }),
                        direction: "right"
                    }, p.a.createElement(re.MenuItem, {
                        onClick: function() {
                            return e.onClickBaidu()
                        },
                        selected: z.b.baidu.value === i.value
                    }, p.a.createElement(F.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_baidu"
                    })), p.a.createElement(re.MenuItem, {
                        divider: !0
                    }), p.a.createElement(re.MenuItem, {
                        onClick: function() {
                            return e.onClickMap()
                        },
                        selected: !a.satellite,
                        disabled: z.b.osm.value === i.value
                    }, p.a.createElement(F.a, {
                        ns: "map",
                        content: "map.control.road"
                    })), p.a.createElement(re.MenuItem, {
                        onClick: function() {
                            return e.onClickSatellite()
                        },
                        selected: a.satellite,
                        disabled: z.b.osm.value === i.value
                    }, p.a.createElement(F.a, {
                        ns: "map",
                        content: "map.control.satellite"
                    })))) : p.a.createElement("div", {
                        className: de.a.container
                    }, p.a.createElement(re.Menu, {
                        customComponent: !0,
                        trigger: p.a.createElement(F.a, {
                            ns: "map"
                        }, function(e) {
                            return p.a.createElement(re.ButtonIcon, {
                                icon: "icon-layers",
                                ariaLabel: e("map.control.layers"),
                                theme: "map"
                            })
                        }),
                        direction: "right"
                    }, p.a.createElement(re.MenuItem, {
                        onClick: function() {
                            return e.onClickGoogle()
                        },
                        selected: z.b.google.value === i.value
                    }, p.a.createElement(F.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_google"
                    })), p.a.createElement(re.MenuItem, {
                        onClick: function() {
                            return e.onClickHereMap()
                        },
                        selected: z.b.here.value === i.value
                    }, p.a.createElement(F.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_here"
                    })), p.a.createElement(re.MenuItem, {
                        onClick: function() {
                            return e.onClickOSM()
                        },
                        selected: z.b.osm.value === i.value
                    }, p.a.createElement(F.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_osm"
                    })), p.a.createElement(re.MenuItem, {
                        divider: !0
                    }), p.a.createElement(re.MenuItem, {
                        onClick: function() {
                            return e.onClickMap()
                        },
                        selected: !a.satellite,
                        disabled: z.b.osm.value === i.value
                    }, p.a.createElement(F.a, {
                        ns: "map",
                        content: "map.control.road"
                    })), p.a.createElement(re.MenuItem, {
                        onClick: function() {
                            return e.onClickSatellite()
                        },
                        selected: a.satellite,
                        disabled: z.b.osm.value === i.value
                    }, p.a.createElement(F.a, {
                        ns: "map",
                        content: "map.control.satellite"
                    }))))
                }
            }, {
                key: "onClickHereMap",
                value: function() {
                    var e = this.props;
                    (0,
                    e.setMapProvider)("map_provider_type", "here", e.mapSettingsJSON)
                }
            }, {
                key: "onClickGoogle",
                value: function() {
                    var e = this.props;
                    (0,
                    e.setMapProvider)("map_provider_type", "google", e.mapSettingsJSON)
                }
            }, {
                key: "onClickOSM",
                value: function() {
                    var e = this.props;
                    (0,
                    e.setMapProvider)("map_provider_type", "osm", e.mapSettingsJSON)
                }
            }, {
                key: "onClickBaidu",
                value: function() {
                    (0,
                    this.props.setMapProvider)("map_provider_type", "baidu")
                }
            }, {
                key: "onClickSatellite",
                value: function() {
                    var e = this.props
                      , t = e.setMapLayer
                      , i = e.mapSettingsJSON;
                    i.terrain = !1,
                    i.trails ? (i.satellite = !1,
                    i.hybrid = !0) : (i.satellite = !0,
                    i.hybrid = !1),
                    t(i)
                }
            }, {
                key: "onClickMap",
                value: function() {
                    var e = this.props
                      , t = e.setMapLayer
                      , i = e.mapSettingsJSON;
                    i.terrain = !1,
                    i.satellite = !1,
                    i.hybrid = !1,
                    t(i)
                }
            }]),
            t
        }(p.a.Component)
          , ge = function(e) {
            function t() {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.zoomProps
                      , i = e.mapFilterProps
                      , a = e.mapLayersProps
                      , n = t.hideZoomControls
                      , r = t.onClickZoomIn
                      , o = t.onClickZoomOut;
                    return p.a.createElement(p.a.Fragment, null, n ? null : p.a.createElement(ce, {
                        onClickZoomIn: r,
                        onClickZoomOut: o,
                        buttonStyle: "activity"
                    }), !i.hideMapProviderSwitch && p.a.createElement(ue, {
                        mapProvider: i.mapProvider,
                        mapSettingsJSON: i.mapSettingsJSON,
                        setMapProvider: i.setUserPreference,
                        setMapLayer: a.setUserPreference
                    }))
                }
            }]),
            t
        }(p.a.Component)
          , me = i(1643)
          , fe = i.n(me)
          , ye = i(457)
          , ve = z.a.mapProviderInfo
          , be = d.a.BaseLayer
          , Ae = d.a.Overlay
          , Ce = function(e) {
            return e && e.satellite ? e.trails ? ve.google.types.hybrid : ve.google.types.satellite : e && e.terrain ? ve.google.types.terrain : e && e.hybrid ? e.trails ? ve.google.types.hybrid : ve.google.types.satellite : ve.google.types.default
        }
          , we = function(e) {
            return e && (e.satellite || e.hybrid) ? ve.here.mapViewType.satellite : e && e.terrain ? ve.here.mapViewType.terrain : ve.here.mapViewType.normal
        }
          , _e = function(e) {
            return e && (e.satellite || e.hybrid || e.terrain) ? ve.here.mapTile.aerial : ve.here.mapTile.base
        }
          , xe = function(e) {
            return e && e.satellite ? ve.baidu.type.satellite : ve.baidu.type.default
        }
          , Se = {
            mapType: "road",
            terrain: !1,
            trails: !1,
            labels: !0,
            HeatMapsRunning: !1,
            HeatMapsCycling: !1
        }
          , Te = function(e) {
            function t(e) {
                var i;
                Object(n.a)(this, t),
                (i = Object(o.a)(this, Object(s.a)(t).call(this, e))).addMapListeners = i.addMapListeners.bind(Object(l.a)(i)),
                i.onMapStartEvent = i.onMapStartEvent.bind(Object(l.a)(i)),
                i.updateProvider = i.updateProvider.bind(Object(l.a)(i)),
                i.updateLayer = i.updateLayer.bind(Object(l.a)(i)),
                i.onMapEndEvent = i.onMapEndEvent.bind(Object(l.a)(i)),
                i.handleClick = i.handleClick.bind(Object(l.a)(i));
                var a = e.bounds
                  , r = e.boundingOptions;
                if (i.state = {
                    isMapLoaded: !Object(G.b)() || "undefined" !== typeof BMap,
                    bounds: a,
                    boundingOptions: r,
                    showBikeLanesAndTrails: !1
                },
                Object(G.b)()) {
                    if ("undefined" !== typeof BMap)
                        return Object(o.a)(i);
                    window.HOST_TYPE = "2";
                    L()(["https://api.map.baidu.com/getscript?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD"], function() {
                        i.setState({
                            isMapLoaded: !0
                        }),
                        i.map = i.refs.map.leafletElement,
                        i.addMapListeners()
                    })
                }
                return i
            }
            return Object(c.a)(t, e),
            Object(r.a)(t, [{
                key: "addMarker",
                value: function(e) {
                    this.markers.push(e)
                }
            }, {
                key: "componentDidMount",
                value: function() {
                    var e = this.props.handleRef;
                    this.fetchMapPreferences(),
                    this.state.isMapLoaded && (this.map = this.refs.map.leafletElement,
                    this.addMapListeners()),
                    e && e(this.map)
                }
            }, {
                key: "fetchMapPreferences",
                value: function() {
                    var e = this.props
                      , t = e.mapProvider
                      , i = e.mapSettings
                      , a = e.mapPreferenceKey
                      , n = e.fetchUserPreference;
                    i && i.value || n(a),
                    i && t.value || n("map_provider_type")
                }
            }, {
                key: "componentDidUpdate",
                value: function(e, t) {
                    if (e.bounds === this.props.bounds && e.boundingOptions === this.props.boundingOptions || this.setState({
                        bounds: this.props.bounds,
                        boundingOptions: this.props.boundingOptions
                    }),
                    e && e.mapProvider && e.mapProvider.value !== this.props.mapProvider.value && this.props.mapProvider.value === ve.here.value) {
                        var i = this.props.mapSettings;
                        if (i && i.value) {
                            var a = JSON.parse(i.value);
                            a.hybrid && (a.hybrid = !1,
                            a.satellite = !0,
                            a.trails = !1,
                            this.updateLayer(a))
                        }
                    }
                    this.state.isMapLoaded && this.refs.map.leafletElement && !this.map && (this.map = this.refs.map.leafletElement,
                    this.addMapListeners())
                }
            }, {
                key: "addMapListeners",
                value: function() {
                    this.turnOffMapListeners(),
                    this.turnOnMapListeners()
                }
            }, {
                key: "turnOnMapListeners",
                value: function() {
                    this.map && (this.map.on("zoomstart", this.onMapStartEvent),
                    this.map.on("movestart", this.onMapStartEvent),
                    this.map.on("moveend", this.onMapEndEvent))
                }
            }, {
                key: "turnOffMapListeners",
                value: function() {
                    this.map && (this.map.off("zoomstart"),
                    this.map.off("movestart"),
                    this.map.off("moveend"))
                }
            }, {
                key: "onMapEvent",
                value: function() {
                    this.state.bounds && this.setState({
                        bounds: null
                    })
                }
            }, {
                key: "onMapStartEvent",
                value: function() {
                    this.props.onMapStartEvent && this.props.onMapStartEvent(),
                    this.state.bounds && this.setState({
                        bounds: null
                    })
                }
            }, {
                key: "onMapEndEvent",
                value: function() {
                    if (this.props.onMapEndEvent && this.props.onMapEndEvent(),
                    this.props.moveEnd) {
                        var e = this.map.getCenter().wrap();
                        this.props.moveEnd({
                            zoom: this.map.getZoom(),
                            center: {
                                lat: e.lat,
                                lng: e.lng
                            }
                        })
                    }
                }
            }, {
                key: "getMapType",
                value: function() {
                    var e = this.props
                      , t = e.mapProvider
                      , i = e.mapSettings
                      , a = JSON.parse(i.value)
                      , n = null;
                    switch (t.value) {
                    case ve.here.value:
                        n = we(a);
                        break;
                    case ve.osm.value:
                        n = ve.osm.value;
                        break;
                    case ve.google.value:
                        n = Ce(a);
                        break;
                    case ve.baidu.value:
                        n = xe(a);
                        break;
                    default:
                        n = Object(G.b)() ? xe(a) : Ce(a)
                    }
                    return n
                }
            }, {
                key: "shouldComponentUpdate",
                value: function(e) {
                    return !this.props.shouldUpdate || this.props.shouldUpdate(e)
                }
            }, {
                key: "updateProvider",
                value: function(e, t, i) {
                    var a = this.props
                      , n = a.setUserPreference
                      , r = a.mapPreferenceKey;
                    t === ve.google.value ? i.trails = this.state.showBikeLanesAndTrails : i.trails = !1,
                    n(e, t),
                    n(r, JSON.stringify(i))
                }
            }, {
                key: "updateLayer",
                value: function(e) {
                    var t = this.props
                      , i = t.mapPreferenceKey;
                    (0,
                    t.setUserPreference)(i, JSON.stringify(e))
                }
            }, {
                key: "setBikeLanesAndTrails",
                value: function(e) {
                    this.setState({
                        showBikeLanesAndTrails: e
                    })
                }
            }, {
                key: "updateBikeLanesAndTrails",
                value: function(e) {
                    this.setBikeLanesAndTrails(e)
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.mapProvider
                      , i = e.mapSettings
                      , a = e.mapItems
                      , n = e.zoom
                      , r = e.center
                      , o = e.attributionControl
                      , s = e.dragging
                      , l = e.doubleClickZoom
                      , c = e.scrollWheelZoom
                      , h = e.children
                      , d = JSON.parse(i.value) || Se
                      , m = {
                        ref: "map",
                        zoom: n,
                        zoomControl: !1,
                        boundsOptions: this.state.boundingOptions,
                        dragging: s,
                        doubleClickZoom: l,
                        scrollWheelZoom: c,
                        attributionControl: o,
                        center: r
                    };
                    return Object(G.b)() && (m.crs = y.CRS.BEPSG3857),
                    this.state.bounds && (m.bounds = this.state.bounds),
                    t.value === ve.bing.value && this.updateProvider("map_provider_type", ve.here.value, d),
                    Object(G.b)() && !this.state.isMapLoaded ? p.a.createElement("div", null) : p.a.createElement("div", {
                        className: "connect-map-view ".concat(fe.a.connectMapView)
                    }, this.mapOverlay(d), p.a.createElement(u.a, Object.assign({
                        onClick: this.handleClick,
                        onLocationfound: this.handleLocationFound
                    }, m), this.layersControl(d), h || a, this.scaleControl(), p.a.createElement(g.a, {
                        prefix: ""
                    })), Object(G.b)() ? p.a.createElement("div", {
                        className: "baiduLogo"
                    }) : null)
                }
            }, {
                key: "layersControl",
                value: function(e) {
                    var t = this.props
                      , i = t.mapSettings
                      , n = t.mapProvider
                      , r = t.popularityType
                      , o = t.popularityTileUrl;
                    if (!n || !n.value)
                        return "";
                    var s = ve.google
                      , l = ve.here
                      , c = ve.osm
                      , h = ve.baidu
                      , u = [];
                    if (Object(G.b)())
                        u.push(p.a.createElement(be, {
                            key: xe(e),
                            checked: n.value === h.value || Object(G.b)(),
                            name: "course_map_map_provider_label_baidu"
                        }, p.a.createElement(P, Object.assign({
                            key: xe(e),
                            type: xe(e)
                        }, h.options))));
                    else {
                        var g = Object(a.a)({}, this.props.styles ? {
                            styles: this.props.styles
                        } : {}, this.props.opacity ? {
                            opacity: this.props.opacity
                        } : {}, this.props.onAfterLoad ? {
                            onAfterLoad: this.props.onAfterLoad
                        } : {}, this.props.libraries ? {
                            libraries: this.props.libraries
                        } : {}, this.props.attribution ? {
                            attribution: this.props.attribution
                        } : {});
                        "google" === n.value ? u.push(p.a.createElement(be, {
                            key: "google",
                            checked: n.value === s.value,
                            name: "course_map_map_provider_label_google"
                        }, p.a.createElement(E, Object.assign({
                            key: Ce(e),
                            maptype: Ce(e),
                            googlekey: s.key,
                            value: i.value
                        }, g, s.options)))) : "osm" === n.value ? u.push(p.a.createElement(be, {
                            key: "osm",
                            checked: n.value === c.value || null === n.value,
                            name: "course_map_map_provider_label_osm"
                        }, p.a.createElement(A, Object.assign({
                            url: "https://connectOsm16.azureedge.net/"
                        }, c.options)))) : u.push(p.a.createElement(be, {
                            key: we(e),
                            checked: n.value === l.value || Object(G.b)(),
                            name: "course_map_map_provider_label_here"
                        }, p.a.createElement(N, {
                            mapTile: _e(e),
                            mapViewType: we(e)
                        })))
                    }
                    if (r && o && o.value) {
                        var f = "".concat(r, "-").concat(this.getMapType());
                        u.push(p.a.createElement(Ae, {
                            checked: !0,
                            name: f
                        }, p.a.createElement(m.a, {
                            key: f
                        }, p.a.createElement(x, {
                            url: o.value,
                            routeType: r,
                            filterZoomLevel: 9
                        }))))
                    }
                    return p.a.createElement(d.a, null, u)
                }
            }, {
                key: "scaleControl",
                value: function() {
                    var e = this.props.mapProvider;
                    if (!e || !e.value)
                        return "";
                    var t = this.props.scaleControl
                      , i = void 0 === t || t;
                    return i ? p.a.createElement(f.a, {
                        position: "bottomright"
                    }) : void 0
                }
            }, {
                key: "mapOverlay",
                value: function(e) {
                    var t = this
                      , i = this.props
                      , a = i.overlay
                      , n = i.hideZoomControls
                      , r = i.mapProvider
                      , o = i.hideMapProviderSwitch
                      , s = i.hideMapTypeSwitch
                      , l = i.hideBikeLanesButton
                      , c = {
                        zoomProps: {
                            hideZoomControls: n,
                            onClickZoomIn: function() {
                                return t.zoomIn()
                            },
                            onClickZoomOut: function() {
                                return t.zoomOut()
                            }
                        },
                        mapFilterProps: {
                            hideMapProviderSwitch: o,
                            isChinaUser: Object(G.b)(),
                            mapProvider: r,
                            mapSettingsJSON: e,
                            setUserPreference: function(e, i, a) {
                                return t.updateProvider(e, i, a)
                            }
                        },
                        mapLayersProps: {
                            hideMapTypeSwitch: s,
                            mapSettingsJSON: e,
                            mapProvider: r,
                            setUserPreference: function(e) {
                                return t.updateLayer(e)
                            },
                            setBikeLanesAndTrails: function() {
                                return t.setBikeLanesAndTrails(e.trails)
                            },
                            updateBikeLanesAndTrails: function(e) {
                                return t.updateBikeLanesAndTrails(e)
                            },
                            hideBikeLanesButton: l
                        }
                    };
                    switch (a) {
                    case "activity":
                        return p.a.createElement(ge, c);
                    case "course":
                    default:
                        return p.a.createElement(he, c)
                    }
                }
            }, {
                key: "zoomIn",
                value: function() {
                    this.refs.map.leafletElement.zoomIn()
                }
            }, {
                key: "zoomOut",
                value: function() {
                    this.refs.map.leafletElement.zoomOut()
                }
            }, {
                key: "getBounds",
                value: function() {
                    if (this.state.isMapLoaded && this.refs.map.leafletElement)
                        return this.refs.map.leafletElement.getBounds()
                }
            }, {
                key: "flyToBounds",
                value: function(e) {
                    this.refs.map.leafletElement.flyToBounds(e)
                }
            }, {
                key: "getMapBounds",
                value: function() {
                    this.refs.map.leafletElement.getBounds()
                }
            }, {
                key: "panTo",
                value: function(e, t, i) {
                    var a = this
                      , n = this.props.mapProvider;
                    Object(G.b)() && (n.value = ve.baidu.value);
                    var r = function(e, t) {
                        a.refs.map.leafletElement.panTo(e, t),
                        "function" === typeof i && i()
                    };
                    if (e)
                        switch (n.value) {
                        case "google":
                            M.googleMapGeoCoder(e, t, r);
                            break;
                        case "baidu":
                            M.baiduMapGeoCoder(e, t, r);
                            break;
                        default:
                            M.hereMapGeoCoder(e, t, r)
                        }
                }
            }, {
                key: "handleClick",
                value: function(e) {
                    this.props.onClick && this.props.onClick(e)
                }
            }, {
                key: "componentWillUnmount",
                value: function() {
                    this.turnOffMapListeners()
                }
            }]),
            t
        }(p.a.Component);
        Te.defaultProps = {
            hideMapProviderSwitch: !1,
            hideMapTypeSwitch: !1,
            zoom: 13,
            center: ye.a,
            mapPreferenceKey: "Map.Setting.Activities",
            overlay: "course",
            attributionControl: !1,
            dragging: !0,
            doubleClickZoom: !0,
            scrollWheelZoom: !0
        };
        var Ee = Te
          , ke = i(99)
          , Le = i(486)
          , Pe = i(152)
          , ze = {
            fetchUserPreference: Pe.Cb,
            setUserPreference: Pe.Wc
        }
          , Ie = Object(ke.b)(function(e, t) {
            return {
                mapProvider: Object(Le.b)(e, "map_provider_type"),
                mapSettings: Object(Le.c)(e, t.mapPreferenceKey)
            }
        }, ze, null, {
            withRef: !0
        })(Ee);
        t.a = Ie
    },
    1394: function(e, t, i) {
        "use strict";
        var a = i(22)
          , n = i.n(a);
        t.a = n.a.oneOfType([n.a.arrayOf(n.a.number), n.a.shape({
            lat: n.a.number,
            lng: n.a.number
        }), n.a.shape({
            lat: n.a.number,
            lon: n.a.number
        })])
    },
    1401: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(11)
          , o = (i(28),
        i(1402),
        i(1423),
        i(1437))
          , s = i(1342)
          , l = ["north", "south", "east", "west"]
          , c = {
            getElevationGainThreshold: function() {
                return 2
            },
            getElevationLossThreshold: function() {
                return 2
            },
            convertElevationDataForElevationAnalyzer: function(e) {
                var t;
                if (e) {
                    var i = e.distance || e.x;
                    !n.a.isNaN(i) && n.a.isNumber(i) || (i = 0),
                    t = {
                        elevation: r.a.convertElevationToMeter(e.y || e.elevation),
                        lat: e.latlng ? e.latlng[0] : e.lat,
                        lng: e.latlng ? e.latlng[1] : e.lng,
                        distance: i > 0 ? r.a.revertDistance(i) : i
                    }
                }
                return t
            },
            getGeoPointsFromElevationSelection: function(e) {
                var t = [];
                if (e)
                    for (var i = 0, a = e.length; i < a; i += 1)
                        e[i] && t.push({
                            latitude: e[i].lat,
                            longitude: e[i].lng,
                            elevation: e[i].elevation
                        });
                return t
            },
            getGeoPointsFromElevationData: function(e) {
                var t = [];
                if (e)
                    for (var i = 0, a = e.length; i < a; i += 1)
                        e[i] && t.push({
                            latitude: e[i].latlng[0],
                            longitude: e[i].latlng[1],
                            elevation: r.a.convertElevationToMeter(e[i].y),
                            distance: r.a.revertDistance(e[i].x),
                            timestamp: e[i].timestamp
                        });
                return t
            },
            getRouteSegments: function(e, t, i, a) {
                var n = new o.a;
                return n.setCourseId(e).setGeoRoutePk(t).setSortOrder(i).setNumberOfPoints(a.numberOfPoints).setDistanceInMeters(a.distance).setBearing(0),
                n
            },
            convertForElevationService: function(e) {
                var t = [];
                return n.a.each(e, function(e) {
                    t.push({
                        lat: e.latlng[0],
                        lng: e.latlng[1]
                    })
                }),
                t
            },
            convertCourseLinesForElevationService: function(e) {
                var t, i, a = [], n = [];
                if (e)
                    for (var r = 0, o = e.length; r < o; r += 1)
                        if (e.models[r]) {
                            for (var s = 0, l = (t = (i = e.models[r]).get("points")).length; s < l; s += 1)
                                t[s] && n.push({
                                    lat: t[s].lat,
                                    lng: t[s].lon
                                });
                            a.push({
                                id: r + 1,
                                points: n,
                                distance: i.get("distanceInMeters"),
                                numberOfPoints: n.length
                            }),
                            n = []
                        }
                return a
            },
            getElevationDataFromGeoPoints: function(e) {
                for (var t, i, a = [], n = 0, o = 0, s = 0, l = e.length; s < l; s += 1)
                    e[s] && (t = e[s],
                    i && (n = null !== t.distance && void 0 !== t.distance ? t.distance : o += n = this.calculateDistanceBetweenPointsInMeters(i.latitude, i.longitude, t.latitude, t.longitude)),
                    i = t,
                    a.push({
                        latlng: [t.latitude, t.longitude],
                        timestamp: t.timestamp,
                        y: t.elevation ? r.a.convertElevation(t.elevation) : null,
                        x: r.a.convertDistance(n)
                    }));
                return a.sort(this.sortElevationDataByDistance),
                this.stripDupDistancesFromPoints(a, "x"),
                a
            },
            getElevationDataFromSegments: function(e) {
                for (var t, i, a, n = [], o = 0, s = 0, l = 0, c = e.data.length; l < c; l += 1)
                    if (e.data[l] && e.data[l].points)
                        for (var h = 0, p = (i = e.data[l].points).length; h < p; h += 1)
                            i[h] && (t = i[h],
                            a && (o = null !== t.distance && void 0 !== t.distance ? t.distance : s += o = this.calculateDistanceBetweenPointsInMeters(a.lat, a.lng, t.lat, t.lng)),
                            a = t,
                            n.push({
                                latlng: [t.lat, t.lng],
                                timestamp: t.timestamp,
                                y: t.elevation ? r.a.convertElevation(t.elevation) : null,
                                x: r.a.convertDistance(o)
                            }));
                return n.sort(this.sortElevationDataByDistance),
                this.stripDupDistancesFromPoints(n, "x"),
                n
            },
            calculateAvgGradient: function(e, t, i) {
                var a = 100 * (t - e) / i;
                return n.a.isNaN(a) || !n.a.isFinite(a) ? 0 : a
            },
            calculateBoundingBoxAreaInKM: function(e, t, i, a) {
                return s.a.calculateBoundingBoxAreaInKM(e, t, i, a)
            },
            calculateDistanceBetweenPointsInKM: function(e, t, i, a) {
                return s.a.calculateDistanceBetweenPointsInKM(e, t, i, a)
            },
            calculateDistanceBetweenPointsInMeters: function(e, t, i, a) {
                return s.a.calculateDistanceBetweenPointsInMeters(e, t, i, a)
            },
            calculateDistanceFromLeafletLatLngs: function(e) {
                return s.a.calculateDistanceFromCollectionOfLatLngs(e)
            },
            populateDistanceInGeoPoints: function(e) {
                for (var t, i = 0, a = 0, n = 0, r = e.length; n < r; n += 1)
                    e[n] && (t && (i = a += i = this.calculateDistanceBetweenPointsInMeters(t.latitude, t.longitude, e[n].latitude, e[n].longitude)),
                    t = e[n],
                    e[n].distance = i);
                return e
            },
            sortElevationDataByDistance: function(e, t) {
                return e.x < t.x ? -1 : e.x > t.x ? 1 : 0
            },
            stripDupDistancesFromPoints: function(e, t) {
                var i, a;
                !function e(n) {
                    for (var r = 0, o = n.length; r < o; r += 1)
                        if (n[r]) {
                            if (!!i && i[t] === n[r][t]) {
                                a = r;
                                break
                            }
                            i = n[r]
                        }
                    a && (n.splice(a, 1),
                    a = null,
                    e(n))
                }(e)
            },
            getGeoPointsFromEncodedSamples: function(e) {
                var t = 0
                  , i = []
                  , a = 0
                  , n = 0;
                if (e && void 0 != e)
                    for (var r = e.length; t < r; ) {
                        var o, s = 0, l = 0;
                        do {
                            l |= (31 & (o = e.charCodeAt(t++) - 63)) << s,
                            s += 5
                        } while (o >= 32);a += 1 & l ? ~(l >> 1) : l >> 1,
                        s = 0,
                        l = 0;
                        do {
                            l |= (31 & (o = e.charCodeAt(t++) - 63)) << s,
                            s += 5
                        } while (o >= 32);n += 1 & l ? ~(l >> 1) : l >> 1,
                        i.push({
                            longitude: 1e-5 * n,
                            latitude: 1e-5 * a,
                            distance: null,
                            elevation: null
                        })
                    }
                return i
            },
            getCoursePoints: function(e, t) {
                var i = [];
                return e && n.a.each(e, function(e) {
                    i.push({
                        elevation: e.getStartElevation(),
                        lat: e.getStart().lat,
                        lon: e.getStart().lng,
                        coursePk: t,
                        coursePointType: e.getCoursePointTypeId(),
                        name: e.getCoursePointTitle(),
                        distance: e.getCoursePointDistance(),
                        coursePointId: e.getCoursePointId()
                    })
                }),
                i.length > 0 ? i : null
            },
            getPolylinePointsFromGeoPoints: function(e) {
                if (e)
                    for (var t, i = [], a = 0, n = e.length; a < n; a += 1)
                        e[a] && (t = e[a],
                        i.push({
                            lat: t.latitude,
                            lng: t.longitude
                        }));
                return i
            },
            getPointsFromCoursePoints: function(e) {
                var t = [];
                return e && n.a.each(e, function(e) {
                    t.push({
                        lat: e.lat,
                        lon: e.lon,
                        coursePointId: e.coursePointId,
                        coursePointTypeId: e.coursePointType,
                        coursePointTitle: e.name,
                        coursePointDistance: e.distance,
                        startElevation: e.elevation
                    })
                }, this),
                t
            },
            resetCourse: function(e) {
                e.courseId = null,
                e.id = null,
                e.set("createDate", null),
                e.set("updateDate", null),
                e.set("virtualPartnerId", null),
                e.set("geoRoutePk", null),
                e.set("userProfilePk", null),
                e.set("displayName", null),
                e.set("userGroupPk", null),
                e.has("coursePoints") && n.a.each(e.get("coursePoints"), function(e) {
                    e.coursePk = null,
                    e.coursePointId = null
                })
            },
            getMapLayers: function() {
                return s.a.Layers
            },
            stripDistanceDupsFromSegmentRoutes: function(e) {
                var t = null
                  , i = null
                  , a = null;
                return function e(n) {
                    if (n && n.data && n.data.length > 0)
                        for (var r = 0, o = n.data.length; r < o; r += 1) {
                            var s = n.data[r];
                            if (s && s.points && s.points.length > 0)
                                for (var l = 0, c = s.points.length; l < c; l += 1)
                                    if (s.points[l]) {
                                        if (!!t && (h = t,
                                        p = s.points[l],
                                        !(!h || !p) && h.elevation === p.elevation && h.lat === p.lat && h.lng === p.lng)) {
                                            i = r,
                                            a = l;
                                            break
                                        }
                                        t = s.points[l]
                                    }
                        }
                    var h, p;
                    i && a && (n.data[i].points.splice(a, 1),
                    t = null,
                    i = null,
                    a = null,
                    !1,
                    e(n))
                }(e),
                e
            },
            convertRoundTripRoutesToSegmentRoutes: function(e) {
                for (var t = [], i = 0, a = e.length; i < a; i += 1)
                    if (e[i]) {
                        var n = [];
                        for (var r in e[i].attributes)
                            e[i].attributes.hasOwnProperty(r) && n.push({
                                lat: e[i].attributes[r][0],
                                lon: e[i].attributes[r][1]
                            });
                        t.push({
                            points: n
                        })
                    }
                return t
            },
            getRandomRoundTripDirection: function() {
                return l[Math.floor(Math.random() * l.length)]
            },
            convertRoundTripRoutesToGeoPoints: function(e) {
                for (var t = [], i = 0, a = e.length; i < a; i += 1)
                    if (e[i] && e[i].attributes)
                        for (var n = e[i].attributes.points, r = 0, o = n.length; r < o; r += 1)
                            n[r] && t.push(n[r]);
                return t
            }
        };
        t.a = c
    },
    1405: function(e, t, i) {
        "use strict";
        var a = i(1418)
          , n = i(1446)
          , r = i(1355)
          , o = i(1445)
          , s = i(1372)
          , l = i(1381);
        var c = function(e, t, i, a) {
            if (!Object(s.a)(e))
                return e;
            for (var c = -1, h = (t = Object(r.a)(t, e)).length, p = h - 1, d = e; null != d && ++c < h; ) {
                var u = Object(l.a)(t[c])
                  , g = i;
                if (c != p) {
                    var m = d[u];
                    void 0 === (g = a ? a(m, u, d) : void 0) && (g = Object(s.a)(m) ? m : Object(o.a)(t[c + 1]) ? [] : {})
                }
                Object(n.a)(d, u, g),
                d = d[u]
            }
            return e
        };
        var h = function(e, t, i) {
            for (var n = -1, o = t.length, s = {}; ++n < o; ) {
                var l = t[n]
                  , h = Object(a.a)(e, l);
                i(h, l) && c(s, Object(r.a)(l, e), h)
            }
            return s
        }
          , p = i(1498);
        var d = function(e, t) {
            return h(e, t, function(t, i) {
                return Object(p.a)(e, i)
            })
        }
          , u = i(1497)
          , g = Object(u.a)(function(e, t) {
            return null == e ? {} : d(e, t)
        })
          , m = i(1453);
        var f = function(e, t) {
            return Object(m.a)(e, t)
        }
          , y = i(1364)
          , v = i(1327)
          , b = i(1339);
        function A(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var C = ["stroke", "color", "weight", "opacity", "lineCap", "lineJoin", "dashArray", "dashOffset", "fill", "fillColor", "fillOpacity", "fillRule", "bubblingMouseEvents", "renderer", "className", "interactive", "pane", "attribution"]
          , w = function(e) {
            function t() {
                return function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.apply(this, arguments))
            }
            return A(t, e),
            t.prototype.componentDidUpdate = function(t) {
                e.prototype.componentDidUpdate.call(this, t),
                this.setStyleIfChanged(t, this.props)
            }
            ,
            t.prototype.getChildContext = function() {
                return {
                    popupContainer: this.leafletElement
                }
            }
            ,
            t.prototype.getPathOptions = function(e) {
                return g(e, C)
            }
            ,
            t.prototype.setStyle = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                this.leafletElement.setStyle(e)
            }
            ,
            t.prototype.setStyleIfChanged = function(e, t) {
                var i = this.getPathOptions(t);
                f(i, this.getPathOptions(e)) || this.setStyle(i)
            }
            ,
            t
        }(y.a);
        w.childContextTypes = {
            children: v.a,
            popupContainer: b.a
        };
        t.a = w
    },
    1408: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return a
        }),
        i.d(t, "c", function() {
            return n
        }),
        i.d(t, "b", function() {
            return r
        });
        var a = function(e) {
            e = e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function(e, t, i, a) {
                return t + t + i + i + a + a
            });
            var t = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);
            return t ? [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)] : null
        }
          , n = function(e, t, i) {
            return "#" + ((1 << 24) + (e << 16) + (t << 8) + i).toString(16).slice(1)
        }
          , r = function(e, t, i) {
            var a = (2 * (1 - i) - 1 + 1) / 2
              , n = 1 - a;
            return [Math.round(e[0] * a + t[0] * n), Math.round(e[1] * a + t[1] * n), Math.round(e[2] * a + t[2] * n)]
        }
    },
    1409: function(e, t, i) {
        "use strict";
        t.a = {
            out: function(e) {
                return null == e || "undefined" == typeof e ? "" : e
            },
            selectedOutput: function(e, t) {
                return !t && -1 == e || t && e == t ? 'selected="true"' : ""
            },
            buildRangeString: function(e, t) {
                return e === t ? t : e + "\u2013" + t
            },
            titleCaseWord: function(e) {
                return e[0].toUpperCase() + e.slice(1).toLowerCase()
            }
        }
    },
    1411: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            initialize: function(e) {},
            urlRoot: "/proxy/personalrecord-service/personalrecord/"
        });
        n.Sports = {
            Run: "RUN",
            Cycle: "CYCLE",
            Steps: "STEPS",
            Swim: "SWIM"
        },
        t.a = n
    },
    1412: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = (i(7),
        i(442))
          , l = i(1661)
          , c = i.n(l);
        t.a = o.a.View.extend({
            template: n.a.template(c.a),
            initialize: function(e) {
                if (this.reactComponent = e.reactComponent,
                !this.reactComponent)
                    throw Error("reactComponent is required!");
                this.additionalClasses = e.additionalClasses || "",
                this.args = e
            },
            render: function() {
                return this.$el.html(this.template({
                    additionalClasses: this.additionalClasses
                })),
                this.r = new s.a,
                this.r.renderComponent(this.reactComponent, this.$(".react-placeholder")[0], this.args.props),
                this
            },
            destroy: function() {
                this.r && this.r.removeComponent()
            }
        })
    },
    1414: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(37)
          , l = o.a.Model.extend({
            defaults: {
                latitude: null,
                longitude: null,
                elevation: null,
                distance: null
            },
            getLatitude: function() {
                return this.get("latitude")
            },
            getLongitude: function() {
                return this.get("longitude")
            },
            getElevation: function() {
                return this.get("elevation")
            },
            getDistance: function() {
                return this.get("distance")
            },
            setLatitude: function(e) {
                return this.set("latitude", e),
                this
            },
            setLongitude: function(e) {
                return this.set("longitude", e),
                this
            },
            setElevation: function(e) {
                return this.set("elevation", e),
                this
            },
            setDistance: function(e) {
                return this.set("distance", e),
                this
            }
        })
          , c = i(449)
          , h = o.a.Collection.extend({
            model: l,
            url: function() {
                return c.a.userInChina() ? s.default.url("/proxy/course-service/course/elevation/from/BD09/CN") : s.default.url("/proxy/course-service/course/elevation")
            },
            fetch: function(e) {
                var t = e || {};
                return t.url = this.url(),
                t.contentType = "application/json",
                t.type = "POST",
                t.data = this.getFormatedData(),
                o.a.Collection.prototype.fetch.call(this, t)
            },
            getFormatedData: function() {
                var e = [];
                return n.a.each(this.models, function(t) {
                    e.push([t.getLatitude(), t.getLongitude(), null])
                }),
                JSON.stringify(e)
            },
            getElevationByLatLng: function(e, t) {
                var i = this.findWhere({
                    latitude: e,
                    longitude: t
                });
                return i ? i.getElevation() : null
            },
            parse: function(e) {
                if (e) {
                    var t = [];
                    return n.a.each(e, function(e) {
                        t.push(new l({
                            latitude: e[0],
                            longitude: e[1],
                            elevation: e[2]
                        }))
                    }),
                    t
                }
            }
        })
          , p = function(e) {};
        p.prototype.fetch = function(e, t) {
            var i = new h
              , a = null;
            n.a.each(e.geoPoints, function(e) {
                n.a.each(e.points, function(e) {
                    e.elevation = null,
                    a = new l({
                        latitude: e.lat,
                        longitude: e.lng
                    }),
                    i.add(a)
                })
            }),
            i.fetch({
                success: function() {
                    e.success && (n.a.each(e.geoPoints, function(e) {
                        n.a.each(e.points, function(e) {
                            e.elevation = i.getElevationByLatLng(e.lat, e.lng)
                        })
                    }),
                    e.success.call(t, e.geoPoints))
                },
                error: function(i, a, n) {
                    e.error && e.error.call(t, n, a)
                }
            })
        }
        ;
        var d = p
          , u = i(1428)
          , g = i(1301)
          , m = o.a.Collection.extend({
            model: u.a,
            urlRoot: "/proxy/course-service/course/popularRoutes",
            url: function() {
                return c.a.userInChina() ? this.urlRoot + "?sourceCoordinateSystem=" + g.a.CoordinateSystem.BD09 + "&targetCoordinateSystem=" + g.a.CoordinateSystem.BD09 + "&startLat=" + this.startLat + "&startLon=" + this.startLon + "&endLat=" + this.endLat + "&endLon=" + this.endLon + (this.courseType ? "&courseType=" + this.courseType : "") : this.urlRoot + "?startLat=" + this.startLat + "&startLon=" + this.startLon + "&endLat=" + this.endLat + "&endLon=" + this.endLon + (this.courseType ? "&courseType=" + this.courseType : "")
            },
            initialize: function(e) {
                if (!e.startLat)
                    throw "startLat is required";
                if (!e.startLon)
                    throw "startLon is required";
                if (!e.endLat)
                    throw "endLat is required";
                if (!e.endLon)
                    throw "endLon is required";
                this.courseType = e.courseType,
                this.startLat = e.startLat,
                this.startLon = e.startLon,
                this.endLat = e.endLat,
                this.endLon = e.endLon
            },
            parse: function(e) {
                if (e) {
                    var t = [];
                    return n.a.each(e, function(e) {
                        n.a.each(e, function(e) {
                            t.push({
                                latitude: e[0],
                                longitude: e[1]
                            })
                        })
                    }),
                    t
                }
            }
        })
          , f = i(1342)
          , y = function() {};
        y.prototype.fetch = function(e, t) {
            var i, a, n, r = e.courseType && g.a.PopularityRouteTypes[e.courseType.toUpperCase()] || g.a.PopularityRouteTypes.ROAD_CYCLING, o = new m({
                startLat: e.start[0],
                startLon: e.start[1],
                endLat: e.end[0],
                endLon: e.end[1],
                courseType: r
            }), s = [], l = 0;
            o.fetch({
                success: function(r, o, c) {
                    if (e.success)
                        if (200 === c.xhr.status && r) {
                            for (r.each(function(e) {
                                s.push([e.getLatitude(), e.getLongitude(), 0, 0])
                            }),
                            i = 0; i < r.models.length - 1; i++)
                                a = r.models[i],
                                n = r.models[i + 1],
                                l += f.a.calculateDistanceBetweenPointsInMeters(a.getLatitude(), a.getLongitude(), n.getLatitude(), n.getLongitude());
                            e.success.call(t, {
                                points: s,
                                meters: l
                            })
                        } else
                            204 === c.xhr.status ? e.error.call(t, c.xhr.statusText, c.xhr.status, g.a.ErrorCodes.PR_NO_ROUTING_DATA) : e.error.call(t, c.xhr.statusText, c.xhr.status, g.a.ErrorCodes.PR_GENERIC)
                },
                error: function(i, a) {
                    e.error && e.error.call(t, a.statusText, a.status, g.a.ErrorCodes.PR_GENERIC)
                }
            })
        }
        ;
        var v = y
          , b = i(1508)
          , A = function() {
            return this.name = null,
            this.directionService = null,
            this.locationService = null,
            this.elevationService = new d,
            this.popularityRoutingService = new v,
            this.convertService = new b.a,
            this
        };
        A.prototype.getDirectionService = function() {
            return this.directionService
        }
        ,
        A.prototype.getLocationService = function() {
            return this.locationService
        }
        ,
        A.prototype.getElevationService = function() {
            return this.elevationService
        }
        ,
        A.prototype.getPopularityRoutingService = function() {
            return this.popularityRoutingService
        }
        ,
        A.prototype.getConvertService = function() {
            return this.convertService
        }
        ,
        A.prototype.updateTransitionMode = function(e) {
            this.directionService && "function" === typeof this.directionService.updateTransitionMode && this.directionService.updateTransitionMode(e)
        }
        ,
        A.prototype.getName = function() {
            return this.name
        }
        ,
        A.prototype.getSupportedMaxZoom = function() {
            return 18
        }
        ,
        A.prototype.getSupportedMinZoom = function() {
            return 3
        }
        ;
        t.a = A
    },
    1418: function(e, t, i) {
        "use strict";
        var a = i(1355)
          , n = i(1381);
        t.a = function(e, t) {
            for (var i = 0, r = (t = Object(a.a)(t, e)).length; null != e && i < r; )
                e = e[Object(n.a)(t[i++])];
            return i && i == r ? e : void 0
        }
    },
    1421: function(e, t, i) {
        "use strict";
        i.r(t);
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(1399)
          , l = i(1309)
          , c = i(42)
          , h = (i(1356),
        o.a.Model.extend({
            idAttribute: "activityId",
            url: function() {
                return "/proxy/activity-service/activity/" + this.id
            },
            initialize: function() {
                this.bind("change:duration", this.validateFields, this),
                this.bind("change:distance", this.validateFields, this)
            },
            getOwnerId: function() {
                return this.get("userInfoDto").userProfilePk
            },
            getActivityTypeKey: function() {
                return this.get("activityTypeDTO").typeKey
            },
            isParent: function() {
                return this.get("isMultiSportParent")
            },
            hasParent: function() {
                var e = this.get("parentId");
                return !("undefined" == typeof e || null == e)
            },
            isLapSwimming: function() {
                var e = this.get("numberOfActiveLengths")
                  , t = this.get("activityTypeDTO").typeKey;
                return "undefined" != typeof e && null != e && 0 != e && "strength_training" !== t
            },
            isCycling: function() {
                return "cycling" == l.a.map(this.get("activityTypeDTO").typeKey)
            },
            isFloorClimbing: function() {
                return "floor_climbing" === this.getActivityTypeKey()
            },
            isDiving: function() {
                return c.h.isDivingActivity(this.get("activityTypeDTO").typeKey)
            },
            isBackcountrySki: function() {
                return c.h.isBackcountrySkiActivity(this.get("activityTypeDTO").typeKey)
            },
            isSurfingActivity: function() {
                return c.h.isSurfingActivity(this.get("activityTypeDTO").typeKey)
            },
            isSafetyEvent: function() {
                return c.h.isSafetyEvent(this.get("activityTypeDTO").typeKey)
            },
            hasCyclingDynamicsData: function() {
                return !!(this.get("rightPowerPhaseArcCenter") || this.get("rightPowerPhaseArcLength") || this.get("rightPowerPhaseEnd") || this.get("rightPlatformCenterOffset") || this.get("seatedTime") || this.get("standingCount"))
            },
            isRunning: function() {
                return "running" == l.a.map(this.get("activityTypeDTO").typeKey)
            },
            isSwimming: function() {
                return "swimming" == l.a.map(this.get("activityTypeDTO").typeKey)
            },
            hasConnectIQMeasurements: function() {
                return this.has("connectIQMeasurements")
            },
            getIndexOfChild: function(e) {
                return this.isParent() ? n.a.indexOf(this.get("childIds"), e) : null
            },
            hasPodSenor: function() {
                if (this.has("metadataDTO") && this.get("metadataDTO").sensors) {
                    var e = n.a.find(this.get("metadataDTO").sensors, function(e) {
                        return e.bodyLocation && "WAIST_MID_BACK" === e.bodyLocation
                    });
                    if (e && !n.a.isEmpty(e))
                        return !0
                }
                return !1
            },
            hasVectorAirCdAData: function() {
                return this.get("avgCda") || this.get("maxCda") || this.get("avgWattsPerCda")
            },
            hasMTBData: function() {
                return this.get("flow") || this.get("grit") || this.has("jumpCount") && this.get("jumpCount") > 0
            },
            hasStrokeData: function() {
                return this.has("totalNumberOfStrokes") || this.has("averageStrokeCadence") || this.has("maxStrokeCadence") || this.has("averageStrokeDistance")
            },
            canDisplayAccessories: function() {
                return this.hasPodSenor()
            },
            canDisplayAccessoriesBatteryStatus: function() {
                var e = !1;
                return this.has("metadataDTO") && this.get("metadataDTO").sensors ? (e = this.getListOfAccessoriesWithBatteryStatus()) && e.length > 0 : e
            },
            getListOfAccessoriesWithBatteryStatus: function() {
                var e, t, i, a = [], r = this;
                if (this.get("metadataDTO") && this.get("metadataDTO").sensors)
                    for (var o = 0, l = this.get("metadataDTO").sensors.length; o < l; o += 1)
                        if ((e = this.get("metadataDTO").sensors[o]) && e.sku)
                            for (var c in s.a.AccessoriesWithBatteryStatus)
                                c && s.a.AccessoriesWithBatteryStatus.hasOwnProperty(c) && (t = e.sku.indexOf(s.a.AccessoriesWithBatteryStatus[c].sku) > -1,
                                i = n.a.find(a, function(t) {
                                    return t.sku.indexOf(e.sku) > -1 && r.sameSensorSerialNumber(e, t)
                                }),
                                t && !i && e.batteryStatus && (e.name = s.a.AccessoriesWithBatteryStatus[c].name,
                                e.imageUrl = s.a.AccessoriesWithBatteryStatus[c].imageUrl,
                                a.push(e)));
                return a
            },
            sameSensorSerialNumber: function(e, t) {
                return !!t.serialNumber && t.serialNumber === e.serialNumber
            },
            getListOfAccessories: function() {
                return s.a.Accessories
            },
            getAccessoryWithBatteryStatus: function(e) {
                return n.a.filter(this.get("metadataDTO").sensors, function(t) {
                    if (t.sku && e === t.sku && t.batteryStatus)
                        return t
                })
            },
            getBatteryInfo: function(e) {
                var t, i = {};
                if (t = this.getAccessoryWithBatteryStatus(e.sku))
                    if (1 === t.length)
                        i = t[0];
                    else
                        for (var a = 0, r = t.length; a < r; a += 1)
                            t[a] && t[a].batteryStatus && (!i || n.a.isEmpty(i) ? i = t[a] : s.a.BatteryStatusTypes[i.batteryStatus].rank > s.a.BatteryStatusTypes[t[a].batteryStatus].rank && (i = t[a]));
                return i.name = e.name,
                i.imageUrl = e.imageUrl,
                i
            },
            getBatteryStatusTypes: function() {
                return s.a.BatteryStatusTypes
            },
            isActivitySaveAsCourseCapable: function() {
                return "open_water_swimming" !== this.get("activityTypeDTO").typeKey
            },
            getConnectedGPSSensor: function() {
                var e = null;
                return this.has("metadataDTO") && this.get("metadataDTO").sensors && (e = this.get("metadataDTO").sensors.find(function(e) {
                    return "CONNECTED_GPS" === e.bleDeviceType
                })),
                e
            },
            parse: function(e) {
                if (!e)
                    return e;
                var t = {};
                for (var i in this.metaDataKeys = [],
                this.summaryKeys = [],
                this.diveKeys = [],
                e)
                    if (e.hasOwnProperty(i)) {
                        var a = e[i];
                        "metadataDTO" === i ? (n.a.extend(t, a),
                        this.metaDataKeys = n.a.keys(a)) : "summaryDTO" === i ? (n.a.extend(t, a),
                        this.summaryKeys = n.a.keys(a)) : "diveInfo" === i ? (n.a.extend(t, a),
                        this.diveKeys = n.a.keys(a)) : "activityTypeDTO" === i && (this.attributes.activityType = a),
                        t[i] = a
                    }
                return t
            },
            save: function() {
                var e = this.unsavedAttributes();
                if (e) {
                    var t = {};
                    for (var i in e)
                        if (e.hasOwnProperty(i)) {
                            var a = e[i];
                            n.a.indexOf(this.metaDataKeys, i) > 1 ? (t.metadataDTO || (t.metadataDTO = {}),
                            t.metadataDTO[i] = a) : n.a.indexOf(this.summaryKeys, i) > 1 ? (t.summaryDTO || (t.summaryDTO = {}),
                            t.summaryDTO[i] = a) : n.a.indexOf(this.diveKeys, i) > 1 ? (t.diveInfo || (t.diveInfo = this.get("diveInfo")),
                            t.diveInfo[i] = a) : t[i] = a
                        }
                    return t[this.idAttribute] = this.id,
                    o.a.Model.prototype.save.call(this, t, {
                        patch: !0
                    })
                }
            },
            toJSON: function() {
                return o.a.Model.prototype.toJSON.call(this)
            },
            isNew: function() {
                return !1
            },
            sync: function(e, t, i) {
                "patch" === e && (e = "update"),
                o.a.Model.prototype.sync.call(this, e, t, i)
            }
        }));
        t.default = h
    },
    1424: function(e, t, i) {
        "use strict";
        var a = i(1797)
          , n = i(484).a["__core-js_shared__"]
          , r = function() {
            var e = /[^.]+$/.exec(n && n.keys && n.keys.IE_PROTO || "");
            return e ? "Symbol(src)_1." + e : ""
        }();
        var o = function(e) {
            return !!r && r in e
        }
          , s = i(1372)
          , l = i(1798)
          , c = /^\[object .+?Constructor\]$/
          , h = Function.prototype
          , p = Object.prototype
          , d = h.toString
          , u = p.hasOwnProperty
          , g = RegExp("^" + d.call(u).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
        var m = function(e) {
            return !(!Object(s.a)(e) || o(e)) && (Object(a.a)(e) ? g : c).test(Object(l.a)(e))
        };
        var f = function(e, t) {
            return null == e ? void 0 : e[t]
        };
        t.a = function(e, t) {
            var i = f(e, t);
            return m(i) ? i : void 0
        }
    },
    1425: function(e, t, i) {
        "use strict";
        var a = i(436)
          , n = i(437)
          , r = i(132)
          , o = function() {
            function e() {
                Object(a.a)(this, e)
            }
            return Object(n.a)(e, null, [{
                key: "diveWaterType",
                value: function(e, t, i) {
                    switch (e) {
                    case 0:
                        return r.a.t("diving:water_type_fresh");
                    case 1:
                        return r.a.t("diving:water_type_salt");
                    case 2:
                    case 3:
                        return i.personalizeWaterDensity(t) + " " + r.a.t("units:water_density_unit");
                    case 255:
                    default:
                        return "--"
                    }
                }
            }, {
                key: "diveGas",
                value: function(e, t) {
                    return 100 === t ? r.a.t("diving:gas_type_oxygen") : 21 === t && 0 === e ? r.a.t("diving:gas_type_air") : 21 !== t && 0 !== t && 0 === e ? r.a.t("diving:gas_type_eanx") : e > 0 ? r.a.t("diving:gas_type_trimix") : "--"
                }
            }]),
            e
        }()
          , s = i(11)
          , l = i(42)
          , c = i(7)
          , h = i(322);
        i.d(t, "a", function() {
            return p
        });
        var p = function() {
            function e(t, i, n, r) {
                Object(a.a)(this, e),
                this.speedModel = i,
                this.activity = t,
                this.indoorClimbDifficulty = r,
                this.repCountingActivity = n,
                this.activityTypeKey = t.activityTypeDTO ? t.activityTypeDTO.typeKey : t.activityType.typeKey
            }
            return Object(n.a)(e, [{
                key: "getDistance",
                value: function() {
                    var e = this.activityTypeKey;
                    return {
                        value: s.a.personalizeDistance(this.activity.distance, e, this.activity.unitOfPoolLength),
                        unit: r.a.t("units:".concat(s.a.getDistanceUnitKey(e, this.activity.distance, this.activity.unitOfPoolLength))),
                        label: r.a.t("units:label_distance"),
                        metricName: "distance"
                    }
                }
            }, {
                key: "getDuration",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:".concat(s.a.getDurationLabelKey(this.activityTypeKey))),
                        metricName: "duration",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getAverageSpeedOrPace",
                value: function() {
                    return {
                        value: this.speedModel.avgSpeedOrPace,
                        unit: this.speedModel.avgSpeedOrPaceUnit,
                        label: this.speedModel.avgSpeedOrPaceLabel,
                        metricName: "averageSpeed"
                    }
                }
            }, {
                key: "getAverageHR",
                value: function() {
                    return {
                        value: this.activity.averageHR ? s.a.personalizeHeartRate(this.activity.averageHR) : "--",
                        unit: r.a.t("units:heart_rate_unit"),
                        label: r.a.t("units:label_avg_heart_rate"),
                        metricName: "averageHR"
                    }
                }
            }, {
                key: "getMaxHR",
                value: function() {
                    return {
                        value: this.activity.maxHR ? s.a.personalizeHeartRate(this.activity.maxHR) : "--",
                        unit: r.a.t("units:heart_rate_unit"),
                        label: r.a.t("units:label_max_heart_rate"),
                        metricName: "maxHR"
                    }
                }
            }, {
                key: "getCalories",
                value: function() {
                    return {
                        value: s.a.formatWholeNumber(this.activity.calories),
                        unit: r.a.t("units:".concat(s.a.getCalorieUnitKey())),
                        label: r.a.t("units:label_calories"),
                        metricName: "calories"
                    }
                }
            }, {
                key: "getElevationGain",
                value: function() {
                    var e = this.activity.elevationGain
                      , t = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(e),
                        unit: e ? r.a.t("units:".concat(s.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(s.a.getElevGainLabelKey(t))),
                        metricName: "elevationGain"
                    }
                }
            }, {
                key: "getElevationLoss",
                value: function() {
                    var e = this.activity.elevationLoss
                      , t = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(e),
                        unit: e ? r.a.t("units:".concat(s.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(s.a.getElevLossLabelKey(t))),
                        metricName: "elevationLoss"
                    }
                }
            }, {
                key: "getNumberOfRuns",
                value: function() {
                    return {
                        value: this.activity.lapCount,
                        unit: "",
                        label: r.a.t("activity:number_of_runs"),
                        metricName: "runsLapCnt"
                    }
                }
            }, {
                key: "getMaxSpeed",
                value: function() {
                    var e = this.activityTypeKey;
                    return {
                        value: this.speedModel.maxSpeedOrPace,
                        unit: this.speedModel.maxSpeedOrPaceUnit,
                        label: r.a.t("units:".concat(s.a.getMaxSpeedTypeLabelKey(e))),
                        metricName: "maxSpeed"
                    }
                }
            }, {
                key: "getStrokes",
                value: function() {
                    var e = this.activity.strokes;
                    return {
                        value: e ? s.a.personalizeStrokes(e) : "--",
                        unit: "",
                        label: r.a.t("units:label_total_swim_strokes"),
                        metricName: "strokes"
                    }
                }
            }, {
                key: "getGasType",
                value: function() {
                    var e = this.activity.summarizedDiveInfo
                      , t = e && e.summarizedDiveGases && e.summarizedDiveGases.length > 0 ? e.summarizedDiveGases : null
                      , i = t ? t[0] : null
                      , a = i ? i.heliumContent : null
                      , n = i ? i.oxygenContent : null
                      , s = "";
                    return t && t.length > 1 && (s = " (+" + (t.length - 1) + ")"),
                    {
                        value: o.diveGas(a, n) + s,
                        unit: "",
                        label: r.a.t("diving:gas_type"),
                        metricName: "gasType"
                    }
                }
            }, {
                key: "getWaterType",
                value: function() {
                    var e = this.activity.summarizedDiveInfo ? this.activity.summarizedDiveInfo.waterType : null
                      , t = this.activity.summarizedDiveInfo ? this.activity.summarizedDiveInfo.waterDensity : null;
                    return {
                        value: o.diveWaterType(e, t, s.a),
                        unit: "",
                        label: r.a.t("diving:water_type"),
                        metricName: "summarizedDiveInfo.waterType"
                    }
                }
            }, {
                key: "getMaxDepth",
                value: function() {
                    var e = this.activity.maxDepth;
                    return {
                        value: s.a.personalizeDepth(e),
                        unit: r.a.t("units:".concat(s.a.getDepthUnitKey())),
                        label: r.a.t("diving:".concat(s.a.getMaxDepthLabelKey(this.activityTypeKey))),
                        metricName: "maxDepth"
                    }
                }
            }, {
                key: "getMaxDepthWidget",
                value: function() {
                    var e = this.activity.maxDepth / 100;
                    return {
                        value: s.a.personalizeDepth(e),
                        unit: r.a.t("units:".concat(s.a.getDepthUnitKey())),
                        label: r.a.t("diving:".concat(s.a.getMaxDepthLabelKey(this.activityTypeKey))),
                        metricName: "maxDepth"
                    }
                }
            }, {
                key: "getSessionBottomTime",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.bottomTime, !1),
                        unit: "",
                        label: r.a.t("diving:".concat(s.a.getBottomTimeLabelKey(this.activityTypeKey))),
                        metricName: "sessionBottomTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getTotalSurfaceTime",
                value: function() {
                    var e = this.activity.summarizedDiveInfo ? this.activity.summarizedDiveInfo.totalSurfaceTime : null;
                    return {
                        value: s.a.personalizeDuration(e, !1),
                        unit: "",
                        label: r.a.t("segment:surface_label"),
                        metricName: "summarizedDiveInfo.totalSurfaceTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getDiveSurfaceTime",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.totalSurfaceTime, !1),
                        unit: "",
                        label: r.a.t("diving:total_surface_interval"),
                        metricName: "totalSurfaceTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getNumberOfApneaDives",
                value: function() {
                    return {
                        value: s.a.personalizerNumberOfDives(this.activity.lapCount),
                        unit: "",
                        label: r.a.t("units:label_num_dives"),
                        metricName: "lapCount"
                    }
                }
            }, {
                key: "getDiveWaterType",
                value: function() {
                    return {
                        value: s.a.personalizeDiveWaterType(this.activity.diveSettings.waterType, this.activity.diveSettings.waterDensity, c.a),
                        unit: "",
                        label: r.a.t("diving:water_type"),
                        metricName: "waterDiveType"
                    }
                }
            }, {
                key: "getDeepestDive",
                value: function() {
                    return {
                        value: s.a.personalizeDepth(this.activity.maxDepth),
                        unit: r.a.t("units:".concat(s.a.getDepthUnitKey())),
                        label: r.a.t("diving:deepest_dive"),
                        metricName: "maxDepthDive"
                    }
                }
            }, {
                key: "getActiveSets",
                value: function() {
                    var e = this.activity.activeSets ? s.a.personalizeActiveSets(this.activity.activeSets) : 1;
                    return {
                        value: e,
                        unit: "",
                        label: r.a.t("units:label_sets", {
                            0: e
                        }),
                        metricName: "activeSets"
                    }
                }
            }, {
                key: "getTotalStrengthTrainingTime",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getTotalWorkTime",
                value: function() {
                    var e = 0;
                    if (this.activity.summarizedExerciseSets && this.activity.summarizedExerciseSets.length > 0)
                        for (var t = 0, i = this.activity.summarizedExerciseSets.length; t < i; t++)
                            "REST" !== this.activity.summarizedExerciseSets[t].setType && (e += this.activity.summarizedExerciseSets[t].duration / 1e3);
                    return {
                        value: s.a.personalizeDuration(e),
                        unit: "",
                        label: r.a.t("units:label_work_time"),
                        metricName: "summarizedExerciseSets.duration",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getStrengthTotalTime",
                value: function() {
                    return {
                        value: this.activity.summarizedExerciseSets && this.activity.summarizedExerciseSets.length > 0 ? s.a.personalizeDuration(this.repCountingActivity.getTotalTime()) : s.a.personalizeDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "strengthTotalTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getWorkoutTime",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.repCountingActivity.getWorkTime()),
                        unit: "",
                        label: r.a.t("units:label_work_time"),
                        metricName: "workOutTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getSecondaryMetricsForMultiSport",
                value: function(e) {
                    return {
                        value: s.a.personalizeDuration(e.value),
                        unit: "",
                        label: r.a.t("activity_types:activity_type_".concat(e.label)) + " " + r.a.t("units:label_time")
                    }
                }
            }, {
                key: "getBestLapTime",
                value: function() {
                    return {
                        value: s.a.fromSecondsToDuration(this.activity.minActivityLapDuration),
                        unit: "",
                        label: r.a.t("activity:marq_best_laptime"),
                        metricName: "bestLapTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getTotalTime",
                value: function() {
                    return {
                        value: s.a.fromSecondsToDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "totalTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getMaxSpeedOrPace",
                value: function() {
                    return {
                        value: this.speedModel.maxSpeedOrPace,
                        unit: this.speedModel.maxSpeedOrPaceUnit,
                        label: r.a.t("units:".concat(s.a.getMaxSpeedTypeLabelKey(this.activityTypeKey))),
                        metricName: "maxTopSpeed"
                    }
                }
            }, {
                key: "getNumberOfRaceLap",
                value: function() {
                    return {
                        value: this.activity.lapCount,
                        unit: "",
                        label: r.a.t("activity:activity_map_laps"),
                        metricName: "raceLapCnt"
                    }
                }
            }, {
                key: "getTotalDuration",
                value: function() {
                    return {
                        value: s.a.fromSecondsToDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "raceTotalTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getTime",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time"),
                        metricName: "time",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getFloorsClimbed",
                value: function() {
                    return {
                        value: s.a.formatWholeNumber(this.activity.floorsClimbed),
                        unit: "",
                        label: r.a.t("units:label_floors_climbed_unit"),
                        metricName: "floorsClimbed"
                    }
                }
            }, {
                key: "getFloorsPerMin",
                value: function() {
                    return {
                        value: s.a.personalizeFloorClimbingPace(this.activity.avgVerticalSpeed),
                        unit: "",
                        label: r.a.t("units:label_floors_per_minute"),
                        metricName: "floorsPerMin"
                    }
                }
            }, {
                key: "getAveragePower",
                value: function() {
                    return {
                        value: s.a.personalizePower(this.activity.averagePower),
                        unit: r.a.t("units:".concat(s.a.getPowerUnitKey())),
                        label: r.a.t("units:label_avg_power"),
                        metricName: "averagePower"
                    }
                }
            }, {
                key: "getAvgPower",
                value: function() {
                    return {
                        value: this.activity.avgPower ? s.a.personalizePower(this.activity.avgPower) : "--",
                        unit: r.a.t("units:".concat(s.a.getPowerUnitKey())),
                        label: r.a.t("units:label_avg_power"),
                        metricName: "avgPower"
                    }
                }
            }, {
                key: "getTotalReps",
                value: function() {
                    return {
                        value: s.a.zeroDash(this.repCountingActivity.getTotalRepCount()),
                        unit: "",
                        label: r.a.t("units:label_total_reps"),
                        metricName: "totalReps"
                    }
                }
            }, {
                key: "getAvgRespirationRate",
                value: function() {
                    return {
                        value: s.a.personalizeRespiration(this.activity.avgRespirationRate),
                        unit: r.a.t("units:".concat(s.a.getRespirationUnitKey())),
                        label: r.a.t("units:label_avg_resp_abbr"),
                        metricName: "avgRespirationRate"
                    }
                }
            }, {
                key: "getStressChange",
                value: function() {
                    return {
                        value: s.a.personalizeStress(this.activity.differenceStress),
                        unit: "",
                        label: r.a.t("units:label_stress_change"),
                        metricName: "differenceStress"
                    }
                }
            }, {
                key: "getStartStress",
                value: function() {
                    return {
                        value: s.a.personalizeStress(this.activity.startStress),
                        label: r.a.t("units:label_startStress"),
                        metricName: "startStress"
                    }
                }
            }, {
                key: "getEndStress",
                value: function() {
                    return {
                        value: s.a.personalizeStress(this.activity.endStress),
                        label: r.a.t("units:label_endStress"),
                        metricName: "endStress"
                    }
                }
            }, {
                key: "getAvgStress",
                value: function() {
                    return {
                        value: s.a.personalizeStress(this.activity.avgStress),
                        label: r.a.t("units:label_avg_stress"),
                        metricName: "avgStress"
                    }
                }
            }, {
                key: "getAverageSpeedPaceWidget",
                value: function() {
                    var e = this.activityTypeKey;
                    return {
                        value: this.speedModel.avgSpeedOrPace,
                        unit: "",
                        label: r.a.t("units:".concat(s.a.getSpeedTypeLabelKey(e, null, !0))) + " (" + r.a.t("units:".concat(s.a.getSpeedTypeKey(e, this.activity.distance, this.activity.unitOfPoolLength))) + ")",
                        metricName: "averageSpeedWidget"
                    }
                }
            }, {
                key: "getElevationLossWidget",
                value: function() {
                    var e = this.activity.elevationLoss
                      , t = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(e),
                        unit: r.a.t("units:".concat(s.a.getElevationUnitKey())),
                        label: r.a.t("units:".concat(s.a.getElevLossLabelKey(t))),
                        metricName: "elevationLoss"
                    }
                }
            }, {
                key: "getElevationGainWidget",
                value: function() {
                    var e = this.activity.elevationGain
                      , t = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(e),
                        unit: r.a.t("units:".concat(s.a.getElevationUnitKey())),
                        label: r.a.t("units:".concat(s.a.getElevGainLabelKey(t))),
                        metricName: "elevationGainWidget"
                    }
                }
            }, {
                key: "getCaloriesWidget",
                value: function() {
                    return {
                        value: s.a.formatWholeNumber(this.activity.calories),
                        unit: "",
                        label: r.a.t("units:label_calories"),
                        metricName: "caloriesWidget"
                    }
                }
            }, {
                key: "getActiveSetsWidget",
                value: function() {
                    return {
                        value: this.activity.activeSets ? s.a.personalizeActiveSets(this.activity.activeSets) : 1,
                        unit: "",
                        label: r.a.t("units:label_total_sets"),
                        metricName: "activeSetsWidget"
                    }
                }
            }, {
                key: "getTotalTimeWidget",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.duration) ? s.a.personalizeDuration(this.activity.duration) : "--",
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "totalTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getPilatesSets",
                value: function() {
                    return {
                        value: s.a.zeroDash(this.repCountingActivity.getActiveSetCount()),
                        unit: "",
                        label: r.a.t("units:label_total_sets"),
                        metricName: "pilateSets"
                    }
                }
            }, {
                key: "getYogaPoses",
                value: function() {
                    return {
                        value: s.a.personalizeActiveSets(this.activity.activeSets),
                        unit: "",
                        label: r.a.t("units:label_total_poses"),
                        metricName: "yogaPoses"
                    }
                }
            }, {
                key: "getDeepestDiveWidget",
                value: function() {
                    return {
                        value: s.a.personalizeDepth(this.activity.maxDepth / 100),
                        unit: r.a.t("units:".concat(s.a.getDepthUnitKey())),
                        label: r.a.t("diving:deepest_dive"),
                        metricName: "maxDepthDive"
                    }
                }
            }, {
                key: "getTotalDistanceWidget",
                value: function() {
                    var e = this.activityTypeKey;
                    return {
                        value: s.a.personalizeDistance(this.activity.distance, e),
                        unit: r.a.t("units:".concat(s.a.getDistanceUnitKey(e, this.activity.distance))),
                        label: r.a.t("units:label_distance_total"),
                        metricName: "TotalDistance"
                    }
                }
            }, {
                key: "getClimbTotalAscent",
                value: function() {
                    var e = l.h.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).totalAscent
                      , t = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(e),
                        unit: e ? r.a.t("units:".concat(s.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(s.a.getElevGainLabelKey(t))),
                        metricName: "elevationGain"
                    }
                }
            }, {
                key: "getClimbAscent",
                value: function() {
                    var e = l.h.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).elevationGain
                      , t = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(e),
                        unit: e ? r.a.t("units:".concat(s.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(s.a.getElevGainLabelKey(t))),
                        metricName: "elevationGain"
                    }
                }
            }, {
                key: "getTotalClimbRoutes",
                value: function() {
                    var e = l.h.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).noOfSplits;
                    return {
                        value: e || "--",
                        unit: "",
                        label: r.a.t("activity:total_climb_routes"),
                        metricName: "TotalRoutes"
                    }
                }
            }, {
                key: "getNumberOfSends",
                value: function() {
                    var e = l.h.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).numClimbSends;
                    return {
                        value: e || "--",
                        unit: "",
                        label: r.a.t("activity:climb_sends"),
                        metricName: "sends"
                    }
                }
            }, {
                key: "getNumberOfFalls",
                value: function() {
                    var e = l.h.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).numFalls;
                    return {
                        value: e || "--",
                        unit: "",
                        label: r.a.t("activity:climb_falls"),
                        metricName: "falls"
                    }
                }
            }, {
                key: "getMaxDifficulity",
                value: function() {
                    var e = l.h.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).maxGradeValue
                      , t = e && e.valueKey
                      , i = e && e.scale
                      , a = Object(h.c)(i, t, this.indoorClimbDifficulty);
                    return {
                        value: a || "--",
                        unit: "",
                        label: r.a.t("activity:label_max_difficulty"),
                        metricName: "difficulty"
                    }
                }
            }, {
                key: "getAverageCadence",
                value: function() {
                    var e = this.activityTypeKey;
                    return {
                        value: s.a.personalizeCadence(this.activity.averageBikeCadence, e),
                        unit: r.a.t("units:".concat(s.a.getCadenceUnitKey(e))),
                        label: r.a.t("units:".concat(s.a.getAvgCadenceTypeLabelKey(e))),
                        metricName: "avgCadence"
                    }
                }
            }, {
                key: "getClimbTime",
                value: function() {
                    var e = l.h.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).duration;
                    return {
                        value: this.getClimbTimeValue(e),
                        unit: "",
                        label: r.a.t("activity:climb_active_time"),
                        metricName: "climbDuration",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getAverageBikeCadence",
                value: function() {
                    var e = this.activityTypeKey
                      , t = this.activity.averageBikingCadenceInRevPerMinute;
                    return {
                        value: t ? s.a.personalizeCadence(t, e) : "--",
                        unit: r.a.t("units:".concat(s.a.getCadenceUnitKey(e))),
                        label: r.a.t("units:".concat(s.a.getAvgCadenceTypeLabelKey(e))),
                        metricName: "averageBikeCadence"
                    }
                }
            }, {
                key: "getMinWaterTemperature",
                value: function() {
                    return {
                        value: s.a.personalizeTemperature(this.activity.minTemperature),
                        unit: r.a.t("units:".concat(s.a.getTemperatureUnitKey())),
                        label: r.a.t("diving:min_water_temperature"),
                        metricName: "minWaterTemperature"
                    }
                }
            }, {
                key: "getSurfaceInterval",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.surfaceInterval, !1),
                        unit: "",
                        label: r.a.t("diving:surface_interval_short"),
                        metricName: "surfaceInterval",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getTotalClimbRoutesNewsFeed",
                value: function() {
                    return {
                        value: this.activity.noOfClimbs ? this.activity.noOfClimbs : "--",
                        unit: "",
                        label: r.a.t("activity:total_climb_routes"),
                        metricName: "TotalRoutes"
                    }
                }
            }, {
                key: "getMaxDifficulityNewsFeed",
                value: function() {
                    var e = this.activity.maxGradeValue && this.activity.maxGradeValue.valueKey
                      , t = this.activity.maxGradeValue && this.activity.maxGradeValue.scale
                      , i = Object(h.c)(t, e, this.indoorClimbDifficulty);
                    return {
                        value: i || "--",
                        unit: "",
                        label: r.a.t("activity:label_max_difficulty"),
                        metricName: "difficulty"
                    }
                }
            }, {
                key: "getClimbTimeNewsFeed",
                value: function() {
                    return {
                        value: this.getClimbTimeValue(this.activity.totalClimbTime),
                        unit: "",
                        label: r.a.t("activity:climb_active_time"),
                        metricName: "climbDuration",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getSurfTotalWavesNewsFeed",
                value: function() {
                    var e = this.activity.noOfClimbs;
                    return {
                        value: e || "--",
                        unit: "",
                        label: r.a.t("activity:total_waves_surf"),
                        metricName: "totalWaves"
                    }
                }
            }, {
                key: "getSurfLongestWaveNewsFeed",
                value: function() {
                    var e = this.activity.maxSplitDistance
                      , t = this.activityTypeKey;
                    return {
                        value: e ? s.a.personalizeWaveDistance(e, t) : "--",
                        unit: r.a.t("units:".concat(s.a.getWaveDistanceUnitKey(t, e))),
                        label: r.a.t("activity:surf_longest_wave_label"),
                        metricName: "longestWave"
                    }
                }
            }, {
                key: "getSurfMaxSpeedNewsFeed",
                value: function() {
                    var e = this.activity.maxSpeed
                      , t = this.activityTypeKey;
                    return {
                        value: e ? s.a.personalizeSpeed(e, t) : "--",
                        unit: r.a.t("units:".concat(s.a.getSpeedTypeKey(t, e))),
                        label: r.a.t("activity:max_speed_surf"),
                        metricName: "mapSpeedSurf"
                    }
                }
            }, {
                key: "getSurfTotalWaves",
                value: function() {
                    var e = l.h.getSplitSummary(this.activity.splitSummaries, "SURF_ACTIVE").noOfSplits;
                    return {
                        value: e || "--",
                        unit: "",
                        label: r.a.t("activity:total_waves_surf"),
                        metricName: "totalWaves"
                    }
                }
            }, {
                key: "getSurfLongestWave",
                value: function() {
                    var e = l.h.getSplitSummary(this.activity.splitSummaries, "SURF_ACTIVE").maxDistance
                      , t = this.activityTypeKey;
                    return {
                        value: e ? s.a.personalizeWaveDistance(e, t) : "--",
                        unit: r.a.t("units:".concat(s.a.getWaveDistanceUnitKey(t, e))),
                        label: r.a.t("activity:surf_longest_wave_label"),
                        metricName: "longestWave"
                    }
                }
            }, {
                key: "getSurfMaxSpeed",
                value: function() {
                    var e = l.h.getSplitSummary(this.activity.splitSummaries, "SURF_ACTIVE").maxSpeed
                      , t = this.activityTypeKey;
                    return {
                        value: e ? s.a.personalizeSpeed(e, t) : "--",
                        unit: r.a.t("units:".concat(s.a.getSpeedTypeKey(t, e))),
                        label: r.a.t("activity:max_speed_surf"),
                        metricName: "maxSpeedSurf"
                    }
                }
            }, {
                key: "getSurfTime",
                value: function() {
                    var e = l.h.getSplitSummary(this.activity.splitSummaries, "SURF_ACTIVE").duration;
                    return {
                        value: e ? s.a.personalizeDuration(e) : "--",
                        unit: "",
                        label: r.a.t("activity:surf_time_label"),
                        metricName: "surfTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getSurfSessionTime",
                value: function() {
                    var e = this.activity.duration;
                    return {
                        value: e ? s.a.personalizeDuration(e) : "--",
                        unit: "",
                        label: r.a.t("activity:session_time_surf"),
                        metricName: "sessionTimeSurf",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getClimbTimeValue",
                value: function(e) {
                    return e ? s.a.personalizeDuration(e) : 0 === this.activity.duration ? "--" : s.a.personalizeDuration(this.activity.duration)
                }
            }]),
            e
        }()
    },
    1426: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/splits"
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "ActivitySplits requires an activity ID";
                this.activityId = t.activityId
            },
            getEventDataBySectionTypeKey: function(e) {
                return n.a.filter(this.get("eventDTOs"), function(t) {
                    return t.sectionTypeDTO.sectionTypeKey === e
                })
            }
        });
        o.EventSectionTypeKeys = {
            RIDER_POSITION: "RIDER_POSITION",
            TIMER_TRIGGER: "TIMER_TRIGGER",
            OFF_COURSE: "OFF_COURSE"
        },
        t.a = o
    },
    1428: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            getLatitude: function() {
                return this.get("latitude")
            },
            getLongitude: function() {
                return this.get("longitude")
            },
            setLatitude: function(e) {
                return this.set("latitude", e),
                this
            },
            setLongitude: function(e) {
                return this.set("longitude", e),
                this
            }
        })
    },
    1429: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: "/web-data/climb-difficulty/climb-difficulty-master.json"
        })
    },
    1430: function(e, t, i) {
        "use strict";
        i.r(t);
        var a = i(244)
          , n = i(1485);
        n.VERSION = "3.18",
        a.GridLayer.GoogleMutant = a.GridLayer.extend({
            includes: a.Evented,
            APIKey: "AIzaSyBuqMiuCNohSYg09UnOzu9Poy05jND5m3k",
            options: {
                minZoom: 0,
                maxZoom: 18,
                tileSize: 256,
                subdomains: "abc",
                errorTileUrl: "",
                attribution: "",
                opacity: 1,
                continuousWorld: !1,
                noWrap: !1,
                type: "satellite",
                maxNativeZoom: 21
            },
            initialize: function(e) {
                a.GridLayer.prototype.initialize.call(this, e);
                var t = this;
                e.asclientid ? n.CLIENT = e.googlekey || this.APIKey : n.KEY = e.googlekey || this.APIKey,
                n.CHANNEL = "connect",
                n.LIBRARIES = e.libraries || [],
                t._type = e.maptype || "SATELLITE",
                n.load(function(i) {
                    google = i,
                    t._ready = !0,
                    t._initMutant(),
                    t._update(),
                    e.onAfterLoad && e.onAfterLoad(google)
                }),
                this._tileCallbacks = {},
                this._freshTiles = {},
                this._subLayers = {},
                this._imagesPerTile = "HYBRID" === t._type ? 2 : 1,
                this.createTile = "HYBRID" === t._type ? this._createMultiTile : this._createSingleTile
            },
            onAdd: function(e) {
                a.GridLayer.prototype.onAdd.call(this, e),
                this._initMutantContainer(),
                this._ready && (this._map = e,
                this._initMutant(),
                e.on("viewreset", this._reset, this),
                e.on("move", this._update, this),
                e.on("zoomend", this._handleZoomAnim, this),
                e.on("resize", this._resize, this),
                e._controlCorners.bottomright.style.marginBottom = "20px",
                this._reset(),
                this._update())
            },
            onRemove: function(e) {
                a.GridLayer.prototype.onRemove.call(this, e),
                e._container.removeChild(this._mutantContainer),
                this._mutantContainer = void 0,
                e.off("viewreset", this._reset, this),
                e.off("move", this._update, this),
                e.off("zoomend", this._handleZoomAnim, this),
                e.off("resize", this._resize, this),
                e._controlCorners && (e._controlCorners.bottomright.style.marginBottom = "0em")
            },
            getAttribution: function() {
                return this.options.attribution
            },
            setOpacity: function(e) {
                this.options.opacity = e,
                e < 1 && a.DomUtil.setOpacity(this._mutantContainer, e)
            },
            setElementSize: function(e, t) {
                e.style.width = t.x + "px",
                e.style.height = t.y + "px"
            },
            addGoogleLayer: function(e, t) {
                if (!this._subLayers[e] && this._ready) {
                    var i = new (0,
                    google.maps[e])(t);
                    i.setMap(this._mutant),
                    this._subLayers[e] = i,
                    a.GridLayer.prototype.redraw.call(this)
                }
            },
            removeGoogleLayer: function(e) {
                var t = this._subLayers[e];
                t && (t.setMap(null),
                a.GridLayer.prototype.redraw.call(this),
                delete this._subLayers[e])
            },
            _initMutantContainer: function() {
                this._mutantContainer || (this._mutantContainer = a.DomUtil.create("div", "leaflet-google-mutant leaflet-top leaflet-left"),
                this._mutantContainer.id = "_MutantContainer_" + a.Util.stamp(this._mutantContainer),
                this._mutantContainer.style.pointerEvents = "none",
                this._map.getContainer().appendChild(this._mutantContainer)),
                this.setOpacity(this.options.opacity),
                this.setElementSize(this._mutantContainer, this._map.getSize()),
                this._attachObserver(this._mutantContainer)
            },
            _initMutant: function() {
                if (this._ready && this._mutantContainer) {
                    this._mutantCenter = new google.maps.LatLng(0,0);
                    var e = new google.maps.Map(this._mutantContainer,{
                        center: this._mutantCenter,
                        zoom: 0,
                        tilt: 0,
                        mapTypeId: google.maps.MapTypeId[this._type],
                        disableDefaultUI: !0,
                        keyboardShortcuts: !1,
                        draggable: !1,
                        disableDoubleClickZoom: !0,
                        scrollwheel: !1,
                        streetViewControl: !1,
                        styles: this.options.styles || {},
                        backgroundColor: "transparent"
                    });
                    this._mutant = e,
                    google.maps.event.addListenerOnce(e, "tilesloaded", function() {
                        setTimeout(function() {
                            if (this._mutantContainer) {
                                for (var e = this._mutantContainer.querySelectorAll("a"), t = 0; t < e.length; t++)
                                    e[t].style.pointerEvents = "auto",
                                    e[t].addEventListener("click", function(e) {
                                        e.stopPropagation()
                                    });
                                var i = this._mutantContainer.querySelectorAll("iframe");
                                i[0] && i[0].style && (i[0].style.width = 0,
                                i[0].style.height = 0)
                            }
                        }
                        .bind(this), 500)
                    }
                    .bind(this)),
                    this.fire("spawned", {
                        mapObject: e
                    })
                }
            },
            _attachObserver: function(e) {
                new MutationObserver(this._onMutations.bind(this)).observe(e, {
                    childList: !0,
                    subtree: !0
                })
            },
            _onMutations: function(e) {
                for (var t = 0; t < e.length; ++t)
                    for (var i = e[t], a = 0; a < i.addedNodes.length; ++a) {
                        var n = i.addedNodes[a];
                        n instanceof HTMLImageElement ? this._onMutatedImage(n) : n instanceof HTMLElement && Array.prototype.forEach.call(n.querySelectorAll("img"), this._onMutatedImage.bind(this))
                    }
            },
            _roadRegexp: /!1i(\d+)!2i(\d+)!3i(\d+)!/,
            _satRegexp: /x=(\d+)&y=(\d+)&z=(\d+)/,
            _staticRegExp: /StaticMapService\.GetMapImage/,
            _onMutatedImage: function(e) {
                var t, i, n, r = e.src.match(this._roadRegexp);
                if (r ? (t = {
                    z: r[1],
                    x: r[2],
                    y: r[3]
                },
                this._imagesPerTile > 1 && (e.style.zIndex = 1),
                i = 1) : ((r = e.src.match(this._satRegexp)) && (t = {
                    x: r[1],
                    y: r[2],
                    z: r[3]
                }),
                i = 0),
                t) {
                    var o = this._tileCoordsToKey(t);
                    e.style.position = "absolute",
                    this._imagesPerTile > 1 && (o += "/" + i),
                    o in this._tileCallbacks && this._tileCallbacks[o] ? (this._tileCallbacks[o].pop()(e),
                    this._tileCallbacks[o].length || delete this._tileCallbacks[o]) : ((n = e.parentNode) && (n.removeChild(e),
                    n.removeChild = a.Util.falseFn),
                    o in this._freshTiles ? this._freshTiles[o].push(e) : this._freshTiles[o] = [e])
                } else
                    e.src.match(this._staticRegExp) && (n = e.parentNode) && e.parentNode.replaceChild(a.DomUtil.create("img"), e)
            },
            _createSingleTile: function(e, t) {
                var i = this._tileCoordsToKey(e);
                if (i in this._freshTiles) {
                    var n = this._freshTiles[i].pop();
                    return this._freshTiles[i].length || delete this._freshTiles[i],
                    a.Util.requestAnimFrame(t),
                    n
                }
                var r = a.DomUtil.create("div");
                return this._tileCallbacks[i] = this._tileCallbacks[i] || [],
                this._tileCallbacks[i].push(function(e) {
                    return function(i) {
                        var n = i.parentNode;
                        n && (n.removeChild(i),
                        n.removeChild = a.Util.falseFn),
                        e.appendChild(i),
                        t()
                    }
                    .bind(this)
                }
                .bind(this)(r)),
                r
            },
            _createMultiTile: function(e, t) {
                var i = this._tileCoordsToKey(e)
                  , n = a.DomUtil.create("div");
                n.dataset.pending = this._imagesPerTile;
                for (var r = 0; r < this._imagesPerTile; r++) {
                    var o = i + "/" + r;
                    o in this._freshTiles ? (n.appendChild(this._freshTiles[o].pop()),
                    this._freshTiles[o].length || delete this._freshTiles[o],
                    n.dataset.pending--) : (this._tileCallbacks[o] = this._tileCallbacks[o] || [],
                    this._tileCallbacks[o].push(function(e) {
                        return function(i) {
                            var n = i.parentNode;
                            n && (n.removeChild(i),
                            n.removeChild = a.Util.falseFn),
                            e.appendChild(i),
                            e.dataset.pending--,
                            parseInt(e.dataset.pending) || t()
                        }
                        .bind(this)
                    }
                    .bind(this)(n)))
                }
                return parseInt(n.dataset.pending) || a.Util.requestAnimFrame(t),
                n
            },
            _checkZoomLevels: function() {
                void 0 !== this._map.getZoom() && this._mutant.getZoom() !== this._map.getZoom() && this._map.setZoom(this._mutant.getZoom())
            },
            _reset: function() {
                this._initContainer()
            },
            _update: function() {
                if (a.GridLayer.prototype._update.call(this),
                this._mutant) {
                    var e = this._map.getCenter()
                      , t = new google.maps.LatLng(e.lat,e.lng);
                    this._mutant.setCenter(t),
                    void 0 !== this._map.getZoom() && this._mutant.setZoom(Math.round(this._map.getZoom()))
                }
            },
            _resize: function() {
                var e = this._map.getSize();
                this._mutantContainer.style.width === e.x && this._mutantContainer.style.height === e.y || (this.setElementSize(this._mutantContainer, e),
                this._mutant && google.maps.event.trigger(this._mutant, "resize"))
            },
            _handleZoomAnim: function() {
                var e = this._map.getCenter()
                  , t = new google.maps.LatLng(e.lat,e.lng);
                this._mutant.setCenter(t),
                this._mutant.setZoom(Math.round(this._map.getZoom()))
            },
            _removeTile: function(e) {
                if (this._imagesPerTile > 1)
                    for (var t = 0; t < this._imagesPerTile; t++) {
                        var i = e + "/" + t;
                        i in this._freshTiles && delete this._freshTiles[i]
                    }
                else
                    e in this._freshTiles && delete this._freshTiles[e];
                return a.GridLayer.prototype._removeTile.call(this, e)
            }
        }),
        a.gridLayer.googleMutant = function(e) {
            return new a.GridLayer.GoogleMutant(e)
        }
    },
    1431: function(e, t, i) {
        var a = i(1539);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1434: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1438)
          , r = i(1411)
          , o = i(11)
          , s = {
            getPersonalizerFunction: function(e) {
                switch (e) {
                case n.a.Types.RUN_FARTHEST:
                case n.a.Types.CYCLE_FARTHEST:
                    return function(e) {
                        return o.a.personalizeDistance(e) + " " + a.a.localize(o.a.getDistanceUnitKey())
                    }
                    ;
                case n.a.Types.SWIM_LONGEST:
                    return function(e, t) {
                        var i = null;
                        return i = t ? "yard" === t.key || "yard" === t.unitKey ? "statute_us" : "metric" : o.a.inferPoolMeasurementSystemFromDistance(e),
                        o.a.personalizeSwimDistance(e, i) + " " + a.a.localize(o.a.getDistanceUnitKey("lap_swimming", e, t))
                    }
                    ;
                case n.a.Types.CYCLE_MAX_ELEV:
                    return function(e) {
                        return o.a.personalizeElevation(e) + " " + a.a.localize(o.a.getElevationUnitKey())
                    }
                    ;
                case n.a.Types.CYCLE_MAX_POWER:
                    return function(e) {
                        return o.a.personalizePower(e) + " " + a.a.localize(o.a.getPowerUnitKey())
                    }
                    ;
                case n.a.Types.RUN_1K:
                case n.a.Types.RUN_5K:
                case n.a.Types.RUN_10K:
                case n.a.Types.RUN_HALF_MARATHON:
                case n.a.Types.RUN_MARATHON:
                case n.a.Types.RUN_1Mile:
                case n.a.Types.CYCLE_40K:
                case n.a.Types.SWIM_100M:
                case n.a.Types.SWIM_400M:
                case n.a.Types.SWIM_750M:
                case n.a.Types.SWIM_1000M:
                case n.a.Types.SWIM_1500M:
                case n.a.Types.SWIM_100YD:
                case n.a.Types.SWIM_500YD:
                case n.a.Types.SWIM_1000YD:
                case n.a.Types.SWIM_1650YD:
                    return function(e) {
                        return o.a.personalizeDuration(e)
                    }
                    ;
                case n.a.Types.STEPS_BEST_DAY:
                case n.a.Types.STEPS_BEST_WEEK:
                case n.a.Types.STEPS_BEST_MONTH:
                    return function(e) {
                        return o.a.personalizeSteps(e)
                    }
                    ;
                case n.a.Types.STEPS_LONGEST_STREAK:
                    return function(e) {
                        return e ? a.a.localize("pr.label.steps.longest.streak.unit", e) : null
                    }
                    ;
                case n.a.Types.STEPS_CURRENT_STREAK:
                    return function(e) {
                        return e ? a.a.localize("pr.label.steps.current.streak.unit", e) : null
                    }
                }
            },
            getSortOrder: function(e) {
                var t = n.a.GetSortOrder(e);
                return "undefined" == typeof t && (console && console.log("Unrecognized Personal Record Type: " + e),
                t = 99),
                t
            },
            getRecordTypeFromKey: function(e) {
                var t = n.a.Types;
                switch (e) {
                case t.CYCLE_40K:
                case t.CYCLE_MAX_ELEV:
                case t.CYCLE_FARTHEST:
                case t.CYCLE_MAX_POWER:
                    return r.a.Sports.Cycle;
                case t.RUN_1K:
                case t.RUN_5K:
                case t.RUN_10K:
                case t.RUN_HALF_MARATHON:
                case t.RUN_MARATHON:
                case t.RUN_FARTHEST:
                case t.RUN_1Mile:
                    return r.a.Sports.Run;
                case t.STEPS_BEST_DAY:
                case t.STEPS_BEST_WEEK:
                case t.STEPS_BEST_MONTH:
                case t.STEPS_LONGEST_STREAK:
                case t.STEPS_CURRENT_STREAK:
                    return r.a.Sports.Steps;
                case t.SWIM_100M:
                case t.SWIM_100YD:
                case t.SWIM_400M:
                case t.SWIM_500YD:
                case t.SWIM_750M:
                case t.SWIM_1000M:
                case t.SWIM_1000YD:
                case t.SWIM_1500M:
                case t.SWIM_1650YD:
                case t.SWIM_LONGEST:
                    return r.a.Sports.Swim
                }
                return null
            }
        };
        t.a = s
    },
    1437: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            idAttribute: "geoRoutePk",
            setCourseId: function(e) {
                return this.set("courseId", e),
                this
            },
            getCourseId: function() {
                return this.get("courseId")
            },
            getGeoRoutePk: function() {
                return this.get("geoRoutePk")
            },
            setGeoRoutePk: function(e) {
                return this.set("geoRoutePk", e),
                this
            },
            getSortOrder: function() {
                return this.get("sortOrder")
            },
            setSortOrder: function(e) {
                return this.set("sortOrder", e),
                this
            },
            getNumberOfPoints: function() {
                return this.get("numberOfPoints")
            },
            setNumberOfPoints: function(e) {
                return this.set("numberOfPoints", e),
                this
            },
            getDistanceInMeters: function() {
                return this.get("distanceInMeters")
            },
            setDistanceInMeters: function(e) {
                return this.set("distanceInMeters", e),
                this
            },
            getBearing: function() {
                return this.get("bearing")
            },
            setBearing: function(e) {
                return this.set("bearing", e),
                this
            },
            getPoints: function() {
                return this.get("points")
            },
            setPoints: function(e) {
                this.set("points", e)
            }
        })
    },
    1438: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = n.a.Model.extend({
            initialize: function(e) {},
            comparator: function(e) {
                return e.get("key")
            },
            urlRoot: "/proxy/personalrecord-service/personalrecordtype"
        })
          , o = {
            RUN_1K: "pr.label.1k.run",
            RUN_5K: "pr.label.5k.run",
            RUN_10K: "pr.label.10k.run",
            RUN_HALF_MARATHON: "pr.label.half.marathon",
            RUN_MARATHON: "pr.label.full.marathon",
            RUN_FARTHEST: "pr.label.farthest.run",
            RUN_1Mile: "pr.label.1mile.run",
            CYCLE_FARTHEST: "pr.label.farthest.cycle",
            CYCLE_MAX_ELEV: "pr.label.max.elev",
            CYCLE_MAX_POWER: "pr.label.max.power",
            CYCLE_40K: "pr.label.40k.cycle",
            STEPS_BEST_DAY: "pr.label.steps.best.day",
            STEPS_BEST_WEEK: "pr.label.steps.best.week",
            STEPS_BEST_MONTH: "pr.label.steps.best.month",
            STEPS_LONGEST_STREAK: "pr.label.steps.longest.streak",
            STEPS_CURRENT_STREAK: "pr.label.steps.current.streak",
            SWIM_LONGEST: "pr.label.longest.poolswim",
            SWIM_100M: "pr.label.100m.poolswim",
            SWIM_400M: "pr.label.400m.poolswim",
            SWIM_750M: "pr.label.750m.poolswim",
            SWIM_1000M: "pr.label.1000m.poolswim",
            SWIM_1500M: "pr.label.1500m.poolswim",
            SWIM_100YD: "pr.label.100yd.poolswim",
            SWIM_500YD: "pr.label.500yd.poolswim",
            SWIM_1000YD: "pr.label.1000yd.poolswim",
            SWIM_1650YD: "pr.label.1650yd.poolswim"
        }
          , s = function(e) {
            var t = 99;
            switch (e) {
            case o.RUN_1K:
                t = 0;
                break;
            case o.RUN_1Mile:
                t = 1;
                break;
            case o.RUN_5K:
                t = 2;
                break;
            case o.RUN_10K:
                t = 3;
                break;
            case o.RUN_HALF_MARATHON:
                t = 4;
                break;
            case o.RUN_MARATHON:
                t = 5;
                break;
            case o.RUN_FARTHEST:
                t = 6;
                break;
            case o.CYCLE_40K:
                t = 10;
                break;
            case o.CYCLE_MAX_ELEV:
                t = 11;
                break;
            case o.CYCLE_MAX_POWER:
                t = 12;
                break;
            case o.CYCLE_FARTHEST:
                t = 13;
                break;
            case o.STEPS_BEST_DAY:
                t = 14;
                break;
            case o.STEPS_BEST_WEEK:
                t = 15;
                break;
            case o.STEPS_BEST_MONTH:
                t = 16;
                break;
            case o.STEPS_LONGEST_STREAK:
                t = 17;
                break;
            case o.STEPS_CURRENT_STREAK:
                t = 18;
                break;
            case o.SWIM_100M:
                t = 20;
                break;
            case o.SWIM_100YD:
                t = 21;
                break;
            case o.SWIM_400M:
                t = 22;
                break;
            case o.SWIM_500YD:
                t = 23;
                break;
            case o.SWIM_750M:
                t = 24;
                break;
            case o.SWIM_1000M:
                t = 25;
                break;
            case o.SWIM_1000YD:
                t = 26;
                break;
            case o.SWIM_1500M:
                t = 27;
                break;
            case o.SWIM_1650YD:
                t = 28;
                break;
            case o.SWIM_LONGEST:
                t = 29
            }
            return t
        }
          , l = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/personalrecord-service/personalrecordtype/prtypes/" + (this.displayName || "")
            },
            initialize: function(e, t) {
                this.displayName = t.displayName
            },
            comparator: function(e, t) {
                var i = s(e.get("key"))
                  , a = s(t.get("key"));
                return i < a ? -1 : i > a ? 1 : 0
            }
        });
        l.Types = o,
        l.GetSortOrder = s;
        t.a = l
    },
    1442: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(28)
          , l = (i(1356),
        o.a.Model.extend({
            url: function() {
                return this.isLapSwimming ? "/proxy/activity-service/activity/" + this.get("activityId") + "/swimDetails?maxChartSize=" + this.maxChartSize : "/proxy/activity-service/activity/" + this.get("activityId") + "/details?maxChartSize=" + this.maxChartSize + "&maxPolylineSize=" + this.maxPolylineSize
            },
            initialize: function(e) {
                this.maxChartSize = e.maxChartSize || 500,
                this.maxPolylineSize = e.maxPolylineSize || 1e3,
                this.isLapSwimming = e.isLapSwimming || !1
            },
            setIsLapSwimming: function(e) {
                this.isLapSwimming = e
            },
            isValid: function() {
                return "undefined" != typeof this.get("sumDuration")
            },
            parse: function(e) {
                var t = []
                  , i = e.metricDescriptors
                  , a = e.activityDetailMetrics;
                if (!a || 0 == a.length)
                    return null;
                for (var r = 0; r < a[0].metrics.length; r++)
                    t[r] = [];
                for (var o = 0; o < a.length; o++)
                    for (var l = a[o].metrics, c = 0; c < l.length; c++)
                        t[c][o] = l[c];
                var h = {};
                if (h.original = n.a.clone(e),
                n.a.each(i, function(e) {
                    h[e.key] = t[e.metricsIndex]
                }, this),
                this.isLapSwimming) {
                    var p, d = h.sumDuration[0];
                    h.cumulativeDuration = n.a.clone(h.sumDuration);
                    var u = h.cumulativeDuration;
                    for (u[0] = 0,
                    o = 1; o < u.length; o++) {
                        var g = u[o];
                        u[o] = d + u[o - 1],
                        d = g
                    }
                    d += u[u.length - 1],
                    u.push(d),
                    h.sumStrokes = h.sumStrokes.concat(n.a.last(h.sumStrokes)),
                    (p = n.a.last(h.weightedMeanSpeed)) && h.weightedMeanSpeed.push(p),
                    (p = n.a.last(h.weightedMeanSwolf)) && h.weightedMeanSwolf.push(p),
                    (p = n.a.last(h.directLengthIndex)) && h.directLengthIndex.push(p + 1);
                    var m, f = h.sumDistance[0];
                    for (h.cumulativeDistance = n.a.clone(h.sumDistance),
                    (u = h.cumulativeDistance)[0] = 0,
                    o = 1; o < u.length; o++) {
                        var y = u[o];
                        u[o] = f + u[o - 1],
                        f = y
                    }
                    if (f += u[u.length - 1],
                    u.push(f),
                    h.weightedMeanSpeed)
                        for (m = "hmph" === n.a.find(i, function(e) {
                            return "weightedMeanSpeed" === e.key
                        }).unit.key ? s.a.HmphToMps : s.a.HydphToMps,
                        u = h.weightedMeanSpeed,
                        o = 0; o < u.length; o++)
                            u[o] = u[o] * m;
                    if (h.weightedMeanSwolf) {
                        o = 0;
                        for (var v = h.weightedMeanSwolf.length; o < v; o += 1)
                            null === h.weightedMeanSwolf[o] && (h.weightedMeanSwolf[o] = 0)
                    }
                    if (h.sumStrokes)
                        for (o = 0,
                        v = h.sumStrokes.length; o < v; o += 1)
                            null === h.sumStrokes[o] && (h.sumStrokes[o] = 0);
                    var b = e.heartRateDTOs;
                    if (b && b.length) {
                        for (o = b.length - 1; b[o].duration > d; )
                            b.pop(),
                            o--;
                        h.directHeartRate = n.a.map(b, function(e) {
                            return e.bpm
                        }),
                        h.interpolatedSwimDuration = n.a.map(b, function(e) {
                            return e.duration
                        }),
                        h.interpolatedSwimLengths = [],
                        h.interpolatedSwimDistance = [],
                        this.calculateInterpolatedValues(h, b, this.interpolateSwimLength),
                        this.calculateInterpolatedValues(h, b, this.interpolateSwimDistance)
                    }
                }
                return e.geoPolylineDTO && e.geoPolylineDTO.polyline && (h.polyline = e.geoPolylineDTO.polyline),
                h
            },
            calculateInterpolatedValues: function(e, t, i) {
                for (var a = [], n = 0, r = e.cumulativeDuration[1], o = null, s = 0; s < t.length; )
                    (o = t[s]).duration <= r ? (a.push(o.bpm),
                    s++) : (i(n, a, e),
                    n++,
                    r = e.cumulativeDuration[n + 1],
                    a = []);
                a.length && i(n, a, e)
            },
            interpolateSwimLength: function(e, t, i) {
                for (var a = 1 / t.length, n = 1; n <= t.length; n++)
                    i.interpolatedSwimLengths.push(e + n * a)
            },
            interpolateSwimDistance: function(e, t, i) {
                for (var a = i.sumDistance[e], n = i.cumulativeDistance[e], r = a / t.length, o = 1; o <= t.length; o++)
                    i.interpolatedSwimDistance.push(n + o * r)
            },
            hasData: function(e) {
                return !!this.get(e)
            },
            getData: function(e, t, i, a) {     // TX !!! bookmark - graph data array building
                t || (t = "sumDuration");
                var r = this.get(e)
                  , o = this.get(t)
                  , d = this.get("sumDistance");   // TX GCOverrides
                if (!r || !o)
                    return null;
                r.length != o.length && console.log("Number of datapoints for elevation and timestamps do not match!");
                var s = Math.min(r.length, o.length);
                i || (i = n.a.identity),
                a || (a = n.a.identity);
                for (var l = [], c = 0, h = 0; h < s; h++)
                    null !== o[h] && (l[c] = [a(o[h]), i(r[h]), a(d[h])],  // TX GCOverrides
                    c++);
                return l
            },
            getElevationData: function(e, t, i) {
                return this.getData("directElevation", e, t, i)
            },
            getHRData: function(e, t, i) {
                return this.getData("directHeartRate", e, t, i)
            },
            getStressData: function(e, t, i) {
                return this.getData("directCurrentStress", e, t, i)
            },
            getRespirationRateData: function(e, t, i) {
                return this.getData("directRespirationRate", e, t, i)
            },
            getSpeedData: function(e, t, i) {
                return this.getData("directSpeed", e, t, i)
            },
            getPowerData: function(e, t, i) {
                return this.getData("directPower", e, t, i)
            },
            getCadenceData: function(e, t, i) {
                return this.getData("directBikeCadence", e, t, i) || this.getData("directDoubleCadence", e, t, i) || this.getData("directSwimCadence", e, t, i)
            },
            getTemperatureData: function(e, t, i) {
                return this.getData("directAirTemperature", e, t, i)
            },
            getLeftRightBalanceData: function(e, t, i) {
                return this.getData("directRightBalance", e, t, i)
            },
            getVerticalOscillationData: function(e, t, i) {
                return this.getData("directVerticalOscillation", e, t, i)
            },
            getGroundContactTimeData: function(e, t, i) {
                return this.getData("directGroundContactTime", e, t, i)
            },
            getSwimSpeedData: function(e, t, i) {
                return this.isLapSwimming ? this.getData("weightedMeanSpeed", e, t, i) : this.getData("directSpeed", e, t, i)
            },
            getSwimStrokeData: function(e, t, i) {
                return this.getData("sumStrokes", e, t, i)
            },
            getSwimSwolfData: function(e, t, i) {
                return this.getData("weightedMeanSwolf", e, t, i)
            },
            getSwimLengthData: function(e, t, i) {
                return this.getData("sumDuration", e, t, i)
            },
            getDiveDepthData: function(e, t, i) {
                return this.getData("directDepth", e, t, i)
            },
            getDiveDecoData: function(e, t, i) {
                return this.getData("directNextStopDepth", e, t, i)
            },
            getConnectIQMeasurements: function() {
                return n.a.filter(this.get("original").metricDescriptors, function(e) {
                    return e.hasOwnProperty("appID")
                })
            },
            hasPowerData: function() {
                var e = this.get("directPower");
                return !n.a.isUndefined(e) && null != e && e.length > 0
            },
            hasElevationData: function() {
                var e = this.get("directElevation");
                return !n.a.isUndefined(e) && null != e && e.length > 0
            },
            hasLongitudeData: function() {
                var e = this.get("directLongitude");
                return !n.a.isUndefined(e) && null != e && e.length > 0
            },
            hasLatitudeData: function() {
                var e = this.get("directLatitude");
                return !n.a.isUndefined(e) && null != e && e.length > 0
            },
            hasGForceData: function() {
                var e = this.get("directGforce");
                return !n.a.isUndefined(e) && null != e && e.length > 0
            },
            getGritData: function() {
                return this.get("directGrit") || []
            },
            getFlowData: function() {
                return this.get("directFlow") || []
            }
        }));
        t.a = l
    },
    1443: function(e, t, i) {
        "use strict";
        var a = i(1301)
          , n = function(e) {
            return this.transitMode = null,
            this.updateTransitionMode(e.transitMode || null),
            this
        };
        n.prototype.fetch = function() {}
        ,
        n.prototype.updateTransitionMode = function(e) {
            e && e.parent ? this.transitMode = "cycling" === e.parent ? a.a.TRANSIT_MODE.CYCLING : a.a.TRANSIT_MODE.PEDESTRIAN : this.transitMode = a.a.TRANSIT_MODE.PEDESTRIAN
        }
        ,
        t.a = n
    },
    1444: function(e, t, i) {
        "use strict";
        var a = function() {
            return this
        };
        a.prototype.fetch = function() {}
        ,
        t.a = a
    },
    1445: function(e, t, i) {
        "use strict";
        var a = 9007199254740991
          , n = /^(?:0|[1-9]\d*)$/;
        t.a = function(e, t) {
            var i = typeof e;
            return !!(t = null == t ? a : t) && ("number" == i || "symbol" != i && n.test(e)) && e > -1 && e % 1 == 0 && e < t
        }
    },
    1446: function(e, t, i) {
        "use strict";
        var a = i(1804)
          , n = i(1632)
          , r = Object.prototype.hasOwnProperty;
        t.a = function(e, t, i) {
            var o = e[t];
            r.call(e, t) && Object(n.a)(o, i) && (void 0 !== i || t in e) || Object(a.a)(e, t, i)
        }
    },
    1447: function(e, t, i) {
        var a, n;
        n = function(e) {
            !function(e) {
                var t = e.defaultOptions
                  , i = e.doc
                  , a = e.Chart
                  , n = e.addEvent
                  , r = e.removeEvent
                  , o = e.fireEvent
                  , s = e.createElement
                  , l = e.discardElement
                  , c = e.css
                  , h = e.merge
                  , p = e.pick
                  , d = e.each
                  , u = e.objectEach
                  , g = e.extend
                  , m = e.isTouchDevice
                  , f = e.win
                  , y = f.navigator.userAgent
                  , v = e.Renderer.prototype.symbols;
                /Edge\/|Trident\/|MSIE /.test(y),
                /firefox/i.test(y),
                g(t.lang, {
                    printChart: "Print chart",
                    downloadPNG: "Download PNG image",
                    downloadJPEG: "Download JPEG image",
                    downloadPDF: "Download PDF document",
                    downloadSVG: "Download SVG vector image",
                    contextButtonTitle: "Chart context menu"
                }),
                t.navigation = {
                    buttonOptions: {
                        theme: {},
                        symbolSize: 14,
                        symbolX: 12.5,
                        symbolY: 10.5,
                        align: "right",
                        buttonSpacing: 3,
                        height: 22,
                        verticalAlign: "top",
                        width: 24
                    }
                },
                h(!0, t.navigation, {
                    menuStyle: {
                        border: "1px solid #999999",
                        background: "#ffffff",
                        padding: "5px 0"
                    },
                    menuItemStyle: {
                        padding: "0.5em 1em",
                        background: "none",
                        color: "#333333",
                        fontSize: m ? "14px" : "11px",
                        transition: "background 250ms, color 250ms"
                    },
                    menuItemHoverStyle: {
                        background: "#335cad",
                        color: "#ffffff"
                    },
                    buttonOptions: {
                        symbolFill: "#666666",
                        symbolStroke: "#666666",
                        symbolStrokeWidth: 3,
                        theme: {
                            fill: "#ffffff",
                            stroke: "none",
                            padding: 5
                        }
                    }
                }),
                t.exporting = {
                    type: "image/png",
                    url: "https://export.highcharts.com/",
                    printMaxWidth: 780,
                    scale: 2,
                    buttons: {
                        contextButton: {
                            className: "highcharts-contextbutton",
                            menuClassName: "highcharts-contextmenu",
                            symbol: "menu",
                            titleKey: "contextButtonTitle",
                            menuItems: "printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")
                        }
                    },
                    menuItemDefinitions: {
                        printChart: {
                            textKey: "printChart",
                            onclick: function() {
                                this.print()
                            }
                        },
                        separator: {
                            separator: !0
                        },
                        downloadPNG: {
                            textKey: "downloadPNG",
                            onclick: function() {
                                this.exportChart()
                            }
                        },
                        downloadJPEG: {
                            textKey: "downloadJPEG",
                            onclick: function() {
                                this.exportChart({
                                    type: "image/jpeg"
                                })
                            }
                        },
                        downloadPDF: {
                            textKey: "downloadPDF",
                            onclick: function() {
                                this.exportChart({
                                    type: "application/pdf"
                                })
                            }
                        },
                        downloadSVG: {
                            textKey: "downloadSVG",
                            onclick: function() {
                                this.exportChart({
                                    type: "image/svg+xml"
                                })
                            }
                        }
                    }
                },
                e.post = function(e, t, a) {
                    var n = s("form", h({
                        method: "post",
                        action: e,
                        enctype: "multipart/form-data"
                    }, a), {
                        display: "none"
                    }, i.body);
                    u(t, function(e, t) {
                        s("input", {
                            type: "hidden",
                            name: t,
                            value: e
                        }, null, n)
                    }),
                    n.submit(),
                    l(n)
                }
                ,
                g(a.prototype, {
                    sanitizeSVG: function(e, t) {
                        if (t && t.exporting && t.exporting.allowHTML) {
                            var i = e.match(/<\/svg>(.*?$)/);
                            i && i[1] && (i = '<foreignObject x="0" y="0" width="' + t.chart.width + '" height="' + t.chart.height + '"><body xmlns="http://www.w3.org/1999/xhtml">' + i[1] + "</body></foreignObject>",
                            e = e.replace("</svg>", i + "</svg>"))
                        }
                        return e = e.replace(/zIndex="[^"]+"/g, "").replace(/symbolName="[^"]+"/g, "").replace(/jQuery[0-9]+="[^"]+"/g, "").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g, "url($2)").replace(/url\([^#]+#/g, "url(#").replace(/<svg /, '<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+\:)href=/g, " xlink:href=").replace(/\n/, " ").replace(/<\/svg>.*?$/, "</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g, '$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g, "\xa0").replace(/&shy;/g, "\xad"),
                        this.ieSanitizeSVG && (e = this.ieSanitizeSVG(e)),
                        e
                    },
                    getChartHTML: function() {
                        return this.container.innerHTML
                    },
                    getSVG: function(t) {
                        var a, n, r, c, p, u = h(this.options, t);
                        return n = s("div", null, {
                            position: "absolute",
                            top: "-9999em",
                            width: this.chartWidth + "px",
                            height: this.chartHeight + "px"
                        }, i.body),
                        r = this.renderTo.style.width,
                        p = this.renderTo.style.height,
                        r = u.exporting.sourceWidth || u.chart.width || /px$/.test(r) && parseInt(r, 10) || 600,
                        p = u.exporting.sourceHeight || u.chart.height || /px$/.test(p) && parseInt(p, 10) || 400,
                        g(u.chart, {
                            animation: !1,
                            renderTo: n,
                            forExport: !0,
                            renderer: "SVGRenderer",
                            width: r,
                            height: p
                        }),
                        u.exporting.enabled = !1,
                        delete u.data,
                        u.series = [],
                        d(this.series, function(e) {
                            (c = h(e.userOptions, {
                                animation: !1,
                                enableMouseTracking: !1,
                                showCheckbox: !1,
                                visible: e.visible
                            })).isInternal || u.series.push(c)
                        }),
                        d(this.axes, function(t) {
                            t.userOptions.internalKey || (t.userOptions.internalKey = e.uniqueKey())
                        }),
                        a = new e.Chart(u,this.callback),
                        t && d(["xAxis", "yAxis", "series"], function(e) {
                            var i = {};
                            t[e] && (i[e] = t[e],
                            a.update(i))
                        }),
                        d(this.axes, function(t) {
                            var i = e.find(a.axes, function(e) {
                                return e.options.internalKey === t.userOptions.internalKey
                            })
                              , n = (r = t.getExtremes()).userMin
                              , r = r.userMax;
                            i && (void 0 !== n && n !== i.min || void 0 !== r && r !== i.max) && i.setExtremes(n, r, !0, !1)
                        }),
                        r = a.getChartHTML(),
                        o(this, "getSVG", {
                            chartCopy: a
                        }),
                        r = this.sanitizeSVG(r, u),
                        u = null,
                        a.destroy(),
                        l(n),
                        r
                    },
                    getSVGForExport: function(e, t) {
                        var i = this.options.exporting;
                        return this.getSVG(h({
                            chart: {
                                borderRadius: 0
                            }
                        }, i.chartOptions, t, {
                            exporting: {
                                sourceWidth: e && e.sourceWidth || i.sourceWidth,
                                sourceHeight: e && e.sourceHeight || i.sourceHeight
                            }
                        }))
                    },
                    exportChart: function(t, i) {
                        i = this.getSVGForExport(t, i),
                        t = h(this.options.exporting, t),
                        e.post(t.url, {
                            filename: t.filename || "chart",
                            type: t.type,
                            width: t.width || 0,
                            scale: t.scale,
                            svg: i
                        }, t.formAttributes)
                    },
                    print: function() {
                        var e, t, a = this, n = a.container, r = [], s = n.parentNode, l = i.body, c = l.childNodes, h = a.options.exporting.printMaxWidth;
                        a.isPrinting || (a.isPrinting = !0,
                        a.pointer.reset(null, 0),
                        o(a, "beforePrint"),
                        (t = h && a.chartWidth > h) && (e = [a.options.chart.width, void 0, !1],
                        a.setSize(h, void 0, !1)),
                        d(c, function(e, t) {
                            1 === e.nodeType && (r[t] = e.style.display,
                            e.style.display = "none")
                        }),
                        l.appendChild(n),
                        setTimeout(function() {
                            f.focus(),
                            f.print(),
                            setTimeout(function() {
                                s.appendChild(n),
                                d(c, function(e, t) {
                                    1 === e.nodeType && (e.style.display = r[t])
                                }),
                                a.isPrinting = !1,
                                t && a.setSize.apply(a, e),
                                o(a, "afterPrint")
                            }, 1e3)
                        }, 1))
                    },
                    contextMenu: function(t, a, r, o, l, h, p) {
                        var u, m = this, f = m.options.navigation, y = m.chartWidth, v = m.chartHeight, b = "cache-" + t, A = m[b], C = Math.max(l, h);
                        A || (m.exportContextMenu = m[b] = A = s("div", {
                            className: t
                        }, {
                            position: "absolute",
                            zIndex: 1e3,
                            padding: C + "px",
                            pointerEvents: "auto"
                        }, m.fixedDiv || m.container),
                        u = s("div", {
                            className: "highcharts-menu"
                        }, null, A),
                        c(u, g({
                            MozBoxShadow: "3px 3px 10px #888",
                            WebkitBoxShadow: "3px 3px 10px #888",
                            boxShadow: "3px 3px 10px #888"
                        }, f.menuStyle)),
                        A.hideMenu = function() {
                            c(A, {
                                display: "none"
                            }),
                            p && p.setState(0),
                            m.openMenu = !1,
                            e.clearTimeout(A.hideTimer)
                        }
                        ,
                        m.exportEvents.push(n(A, "mouseleave", function() {
                            A.hideTimer = setTimeout(A.hideMenu, 500)
                        }), n(A, "mouseenter", function() {
                            e.clearTimeout(A.hideTimer)
                        }), n(i, "mouseup", function(e) {
                            m.pointer.inClass(e.target, t) || A.hideMenu()
                        }), n(A, "click", function() {
                            m.openMenu && A.hideMenu()
                        })),
                        d(a, function(t) {
                            var i;
                            ("string" === typeof t && (t = m.options.exporting.menuItemDefinitions[t]),
                            e.isObject(t, !0)) && (t.separator ? i = s("hr", null, null, u) : ((i = s("div", {
                                className: "highcharts-menu-item",
                                onclick: function(e) {
                                    e && e.stopPropagation(),
                                    A.hideMenu(),
                                    t.onclick && t.onclick.apply(m, arguments)
                                },
                                innerHTML: t.text || m.options.lang[t.textKey]
                            }, null, u)).onmouseover = function() {
                                c(this, f.menuItemHoverStyle)
                            }
                            ,
                            i.onmouseout = function() {
                                c(this, f.menuItemStyle)
                            }
                            ,
                            c(i, g({
                                cursor: "pointer"
                            }, f.menuItemStyle))),
                            m.exportDivElements.push(i))
                        }),
                        m.exportDivElements.push(u, A),
                        m.exportMenuWidth = A.offsetWidth,
                        m.exportMenuHeight = A.offsetHeight),
                        a = {
                            display: "block"
                        },
                        r + m.exportMenuWidth > y ? a.right = y - r - l - C + "px" : a.left = r - C + "px",
                        o + h + m.exportMenuHeight > v && "top" !== p.alignOptions.verticalAlign ? a.bottom = v - o - C + "px" : a.top = o + h - C + "px",
                        c(A, a),
                        m.openMenu = !0
                    },
                    addButton: function(e) {
                        var t, i, a = this, n = a.renderer, r = h(a.options.navigation.buttonOptions, e), o = r.onclick, s = r.menuItems, l = r.symbolSize || 12;
                        if (a.btnCount || (a.btnCount = 0),
                        a.exportDivElements || (a.exportDivElements = [],
                        a.exportSVGElements = []),
                        !1 !== r.enabled) {
                            var c, d = r.theme, u = (m = d.states) && m.hover, m = m && m.select;
                            delete d.states,
                            o ? c = function(e) {
                                e && e.stopPropagation(),
                                o.call(a, e)
                            }
                            : s && (c = function(e) {
                                e && e.stopPropagation(),
                                a.contextMenu(i.menuClassName, s, i.translateX, i.translateY, i.width, i.height, i),
                                i.setState(2)
                            }
                            ),
                            r.text && r.symbol ? d.paddingLeft = p(d.paddingLeft, 25) : r.text || g(d, {
                                width: r.width,
                                height: r.height,
                                padding: 0
                            }),
                            (i = n.button(r.text, 0, 0, c, d, u, m).addClass(e.className).attr({
                                "stroke-linecap": "round",
                                title: p(a.options.lang[r._titleKey || r.titleKey], "")
                            })).menuClassName = e.menuClassName || "highcharts-menu-" + a.btnCount++,
                            r.symbol && (t = n.symbol(r.symbol, r.symbolX - l / 2, r.symbolY - l / 2, l, l, {
                                width: l,
                                height: l
                            }).addClass("highcharts-button-symbol").attr({
                                zIndex: 1
                            }).add(i)).attr({
                                stroke: r.symbolStroke,
                                fill: r.symbolFill,
                                "stroke-width": r.symbolStrokeWidth || 1
                            }),
                            i.add(a.exportingGroup).align(g(r, {
                                width: i.width,
                                x: p(r.x, a.buttonOffset)
                            }), !0, "spacingBox"),
                            a.buttonOffset += (i.width + r.buttonSpacing) * ("right" === r.align ? -1 : 1),
                            a.exportSVGElements.push(i, t)
                        }
                    },
                    destroyExport: function(t) {
                        var i = t ? t.target : this;
                        t = i.exportSVGElements;
                        var a, n = i.exportDivElements, o = i.exportEvents;
                        t && (d(t, function(e, t) {
                            e && (e.onclick = e.ontouchstart = null,
                            a = "cache-" + e.menuClassName,
                            i[a] && delete i[a],
                            i.exportSVGElements[t] = e.destroy())
                        }),
                        t.length = 0),
                        i.exportingGroup && (i.exportingGroup.destroy(),
                        delete i.exportingGroup),
                        n && (d(n, function(t, a) {
                            e.clearTimeout(t.hideTimer),
                            r(t, "mouseleave"),
                            i.exportDivElements[a] = t.onmouseout = t.onmouseover = t.ontouchstart = t.onclick = null,
                            l(t)
                        }),
                        n.length = 0),
                        o && (d(o, function(e) {
                            e()
                        }),
                        o.length = 0)
                    }
                }),
                v.menu = function(e, t, i, a) {
                    return ["M", e, t + 2.5, "L", e + i, t + 2.5, "M", e, t + a / 2 + .5, "L", e + i, t + a / 2 + .5, "M", e, t + a - 1.5, "L", e + i, t + a - 1.5]
                }
                ,
                a.prototype.renderExporting = function() {
                    var e = this
                      , t = e.options.exporting
                      , i = t.buttons
                      , a = e.isDirtyExporting || !e.exportSVGElements;
                    e.buttonOffset = 0,
                    e.isDirtyExporting && e.destroyExport(),
                    a && !1 !== t.enabled && (e.exportEvents = [],
                    e.exportingGroup = e.exportingGroup || e.renderer.g("exporting-group").attr({
                        zIndex: 3
                    }).add(),
                    u(i, function(t) {
                        e.addButton(t)
                    }),
                    e.isDirtyExporting = !1),
                    n(e, "destroy", e.destroyExport)
                }
                ,
                n(a, "init", function() {
                    var e = this;
                    d(["exporting", "navigation"], function(t) {
                        e[t] = {
                            update: function(i, a) {
                                e.isDirtyExporting = !0,
                                h(!0, e.options[t], i),
                                p(a, !0) && e.redraw()
                            }
                        }
                    })
                }),
                a.prototype.callbacks.push(function(e) {
                    e.renderExporting(),
                    n(e, "redraw", e.renderExporting)
                })
            }(e)
        }
        ,
        "object" === typeof e && e.exports ? e.exports = n : void 0 === (a = function() {
            return n
        }
        .call(t, i, t, e)) || (e.exports = a)
    },
    1453: function(e, t, i) {
        "use strict";
        var a = i(1698)
          , n = i(1696)
          , r = "__lodash_hash_undefined__";
        var o = function(e) {
            return this.__data__.set(e, r),
            this
        };
        var s = function(e) {
            return this.__data__.has(e)
        };
        function l(e) {
            var t = -1
              , i = null == e ? 0 : e.length;
            for (this.__data__ = new n.a; ++t < i; )
                this.add(e[t])
        }
        l.prototype.add = l.prototype.push = o,
        l.prototype.has = s;
        var c = l;
        var h = function(e, t) {
            for (var i = -1, a = null == e ? 0 : e.length; ++i < a; )
                if (t(e[i], i, e))
                    return !0;
            return !1
        };
        var p = function(e, t) {
            return e.has(t)
        }
          , d = 1
          , u = 2;
        var g = function(e, t, i, a, n, r) {
            var o = i & d
              , s = e.length
              , l = t.length;
            if (s != l && !(o && l > s))
                return !1;
            var g = r.get(e);
            if (g && r.get(t))
                return g == t;
            var m = -1
              , f = !0
              , y = i & u ? new c : void 0;
            for (r.set(e, t),
            r.set(t, e); ++m < s; ) {
                var v = e[m]
                  , b = t[m];
                if (a)
                    var A = o ? a(b, v, m, t, e, r) : a(v, b, m, e, t, r);
                if (void 0 !== A) {
                    if (A)
                        continue;
                    f = !1;
                    break
                }
                if (y) {
                    if (!h(t, function(e, t) {
                        if (!p(y, t) && (v === e || n(v, e, i, a, r)))
                            return y.push(t)
                    })) {
                        f = !1;
                        break
                    }
                } else if (v !== b && !n(v, b, i, a, r)) {
                    f = !1;
                    break
                }
            }
            return r.delete(e),
            r.delete(t),
            f
        }
          , m = i(450)
          , f = i(1800)
          , y = i(1632);
        var v = function(e) {
            var t = -1
              , i = Array(e.size);
            return e.forEach(function(e, a) {
                i[++t] = [a, e]
            }),
            i
        };
        var b = function(e) {
            var t = -1
              , i = Array(e.size);
            return e.forEach(function(e) {
                i[++t] = e
            }),
            i
        }
          , A = 1
          , C = 2
          , w = "[object Boolean]"
          , _ = "[object Date]"
          , x = "[object Error]"
          , S = "[object Map]"
          , T = "[object Number]"
          , E = "[object RegExp]"
          , k = "[object Set]"
          , L = "[object String]"
          , P = "[object Symbol]"
          , z = "[object ArrayBuffer]"
          , I = "[object DataView]"
          , D = m.a ? m.a.prototype : void 0
          , B = D ? D.valueOf : void 0;
        var M = function(e, t, i, a, n, r, o) {
            switch (i) {
            case I:
                if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset)
                    return !1;
                e = e.buffer,
                t = t.buffer;
            case z:
                return !(e.byteLength != t.byteLength || !r(new f.a(e), new f.a(t)));
            case w:
            case _:
            case T:
                return Object(y.a)(+e, +t);
            case x:
                return e.name == t.name && e.message == t.message;
            case E:
            case L:
                return e == t + "";
            case S:
                var s = v;
            case k:
                var l = a & A;
                if (s || (s = b),
                e.size != t.size && !l)
                    return !1;
                var c = o.get(e);
                if (c)
                    return c == t;
                a |= C,
                o.set(e, t);
                var h = g(s(e), s(t), a, n, r, o);
                return o.delete(e),
                h;
            case P:
                if (B)
                    return B.call(e) == B.call(t)
            }
            return !1
        }
          , O = i(1801)
          , R = 1
          , N = Object.prototype.hasOwnProperty;
        var V = function(e, t, i, a, n, r) {
            var o = i & R
              , s = Object(O.a)(e)
              , l = s.length;
            if (l != Object(O.a)(t).length && !o)
                return !1;
            for (var c = l; c--; ) {
                var h = s[c];
                if (!(o ? h in t : N.call(t, h)))
                    return !1
            }
            var p = r.get(e);
            if (p && r.get(t))
                return p == t;
            var d = !0;
            r.set(e, t),
            r.set(t, e);
            for (var u = o; ++c < l; ) {
                var g = e[h = s[c]]
                  , m = t[h];
                if (a)
                    var f = o ? a(m, g, h, t, e, r) : a(g, m, h, e, t, r);
                if (!(void 0 === f ? g === m || n(g, m, i, a, r) : f)) {
                    d = !1;
                    break
                }
                u || (u = "constructor" == h)
            }
            if (d && !u) {
                var y = e.constructor
                  , v = t.constructor;
                y != v && "constructor"in e && "constructor"in t && !("function" == typeof y && y instanceof y && "function" == typeof v && v instanceof v) && (d = !1)
            }
            return r.delete(e),
            r.delete(t),
            d
        }
          , j = i(1558)
          , F = i(1353)
          , G = i(1624)
          , U = i(1920)
          , H = 1
          , K = "[object Arguments]"
          , W = "[object Array]"
          , Q = "[object Object]"
          , Y = Object.prototype.hasOwnProperty;
        var $ = function(e, t, i, n, r, o) {
            var s = Object(F.a)(e)
              , l = Object(F.a)(t)
              , c = s ? W : Object(j.a)(e)
              , h = l ? W : Object(j.a)(t)
              , p = (c = c == K ? Q : c) == Q
              , d = (h = h == K ? Q : h) == Q
              , u = c == h;
            if (u && Object(G.a)(e)) {
                if (!Object(G.a)(t))
                    return !1;
                s = !0,
                p = !1
            }
            if (u && !p)
                return o || (o = new a.a),
                s || Object(U.a)(e) ? g(e, t, i, n, r, o) : M(e, t, c, i, n, r, o);
            if (!(i & H)) {
                var m = p && Y.call(e, "__wrapped__")
                  , f = d && Y.call(t, "__wrapped__");
                if (m || f) {
                    var y = m ? e.value() : e
                      , v = f ? t.value() : t;
                    return o || (o = new a.a),
                    r(y, v, i, n, o)
                }
            }
            return !!u && (o || (o = new a.a),
            V(e, t, i, n, r, o))
        }
          , Z = i(487);
        t.a = function e(t, i, a, n, r) {
            return t === i || (null == t || null == i || !Object(Z.a)(t) && !Object(Z.a)(i) ? t !== t && i !== i : $(t, i, a, n, e, r))
        }
    },
    1454: function(e, t, i) {
        "use strict";
        var a = i(1918)
          , n = i(1627)
          , r = i(509)
          , o = Object(r.a)(Object.keys, Object)
          , s = Object.prototype.hasOwnProperty;
        var l = function(e) {
            if (!Object(n.a)(e))
                return o(e);
            var t = [];
            for (var i in Object(e))
                s.call(e, i) && "constructor" != i && t.push(i);
            return t
        }
          , c = i(1622);
        t.a = function(e) {
            return Object(c.a)(e) ? Object(a.a)(e) : l(e)
        }
    },
    1470: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(1428)
          , l = o.a.Collection.extend({
            model: s.a,
            url: function() {
                return "/proxy/course-service/course/routes?startLat=" + this.startLat + "&startLon=" + this.startLon + "&endLat=" + this.endLat + "&endLon=" + this.endLon + "&courseType=" + this.courseType
            },
            initialize: function(e) {
                if (!e.startLat)
                    throw "startLat is required";
                if (!e.startLon)
                    throw "startLon is required";
                if (!e.endLat)
                    throw "endLat is required";
                if (!e.endLon)
                    throw "endLon is required";
                if (!e.courseType)
                    throw "courseType is required";
                this.startLat = e.startLat,
                this.startLon = e.startLon,
                this.endLat = e.endLat,
                this.endLon = e.endLon,
                this.courseType = e.courseType
            },
            parse: function(e) {
                if (e) {
                    var t = [];
                    return n.a.each(e, function(e) {
                        n.a.each(e, function(e) {
                            t.push({
                                latitude: e[0],
                                longitude: e[1]
                            })
                        })
                    }),
                    t
                }
            }
        })
          , c = i(1301)
          , h = i(1342)
          , p = i(1443)
          , d = function(e) {
            return p.a.call(this, e),
            this
        };
        (d.prototype = Object.create(p.a.prototype)).constructor = d,
        d.prototype.updateTransitionMode = function(e) {
            e.parent ? "cycling" === e.parent && e.value ? this.transitMode = c.a.PopularityRouteTypes[e.value.toUpperCase()] || c.a.PopularityRouteTypes.ROAD_CYCLING : "running" === e.parent && e.value && (this.transitMode = c.a.PopularityRouteTypes[e.value.toUpperCase()] || c.a.PopularityRouteTypes.RUNNING) : this.transitMode = c.a.PopularityRouteTypes.RUNNING
        }
        ,
        d.prototype.fetch = function(e, t) {
            var i, a, n, r = new l({
                startLat: e.start[0],
                startLon: e.start[1],
                endLat: e.end[0],
                endLon: e.end[1],
                courseType: this.transitMode
            }), o = [], s = 0;
            return r.fetch({
                success: function(r, l, p) {
                    if (e.success)
                        if (200 === p.xhr.status && r) {
                            for (r.each(function(e) {
                                o.push([e.getLatitude(), e.getLongitude(), 0, 0])
                            }),
                            i = 0; i < r.models.length - 1; i++)
                                a = r.models[i],
                                n = r.models[i + 1],
                                s += h.a.calculateDistanceBetweenPointsInMeters(a.getLatitude(), a.getLongitude(), n.getLatitude(), n.getLongitude());
                            e.success.call(t, {
                                points: o,
                                meters: s
                            })
                        } else
                            p.xhr.status,
                            e.error.call(t, p.xhr.statusText, p.xhr.status, c.a.ErrorCodes.GENERIC)
                },
                error: function(i, a) {
                    e.error && e.error.call(t, a.statusText, a.status, c.a.ErrorCodes.GENERIC)
                }
            })
        }
        ;
        t.a = d
    },
    1476: function(e, t, i) {
        "use strict";
        i(8);
        var a = i(0)
          , n = i.n(a).a.View.extend({
            initialize: function(e) {
                if (this.activitySummary = e.activitySummary,
                this.activityDetails = e.activityDetails,
                this.xAxisType = e.xAxisType,
                !this.activitySummary)
                    throw "ActivitySummary required for Range Selector";
                if (!this.activityDetails)
                    throw "ActivityDetails required for Range Selector"
            },
            render: function() {
                this.$el.addClass(this.customClasses),
                this.$el.html(this.template({})),
                this.$el.show()
            }
        });
        n.Events = {
            RangeSelected: "RangeSelected",
            RangeReset: "OnRangeReset"
        },
        t.a = n
    },
    1477: function(e, t, i) {
        "use strict";
        t.a = {
            "BENCH_PRESS/BARBELL_BENCH_PRESS": "Ex66",
            "BENCH_PRESS/BARBELL_FLOOR_PRESS": "Ex63",
            "BENCH_PRESS/CLOSE_GRIP_BARBELL_BENCH_PRESS": "Ex65",
            "BENCH_PRESS/DUMBBELL_BENCH_PRESS": "Ex174",
            "BENCH_PRESS/DUMBBELL_FLOOR_PRESS": "Ex43",
            "BENCH_PRESS/INCLINE_DUMBBELL_BENCH_PRESS": "Ex175",
            "BENCH_PRESS/KETTLEBELL_CHEST_PRESS": "Ex414",
            "BENCH_PRESS/PARTIAL_LOCKOUT": "Ex6083",
            "CARDIO/CARDIO_CORE_CRAWL": "Ex788",
            "CARDIO/JUMPING_JACKS": "Ex533",
            "CARDIO/JUMP_ROPE": "Ex783",
            "CARDIO/SQUAT_JACKS": "Ex6113",
            "CORE/ARM_AND_LEG_EXTENSION_ON_KNEES": "PL-IN-0039",
            "CORE/BARBELL_ROLLOUT": "Ex6015",
            "CORE/BICEP_CURL_WITH_LEG_EXTENSION": "PL-IN-0025",
            "CORE/BICEP_CURL_WITH_LEG_EXTENSION_WITH_WEIGHTS": "GCE_BICEP_CURL_WITH_LEG_EXTENSION_WITH_WEIGHTS",
            "CORE/BICYCLE": "PL-IN-0034",
            "CORE/CAT_COW": "PL-IN-0038",
            "CORE/CORKSCREW": "PL-IN-0016",
            "CORE/CRISS_CROSS": "PL-IN-0009",
            "CORE/DOUBLE_LEG_STRETCH": "PL-IN-0008",
            "CORE/KNEELING_AB_WHEEL": "Ex6066",
            "CORE/KNEE_FOLDS": "PL-IN-0001",
            "CORE/LOWER_LIFT": "PL-IN-0011",
            "CORE/LOWER_LIFT_WITH_WEIGHTS": "GCE_LOWER_LIFT_WITH_WEIGHTS",
            "CORE/NECK_PULL": "PL-IN-0017",
            "CORE/PELVIC_CLOCKS": "PL-IN-0015",
            "CORE/ROLLING": "PL-IN-0006",
            "CORE/ROLL_OVER": "PL-IN-0004",
            "CORE/ROLL_UP": "PL-IN-0003",
            "CORE/ROWING_1": "PL-IN-0018",
            "CORE/ROWING_1_WITH_WEIGHTS": "GCE_ROWING_1_WITH_WEIGHTS",
            "CORE/ROWING_2": "PL-IN-0019",
            "CORE/ROWING_2_WITH_WEIGHTS": "GCE_ROWING_2_WITH_WEIGHTS",
            "CORE/RUSSIAN_TWIST": "Ex726",
            "CORE/SCISSORS": "PL-IN-0010",
            "CORE/SCISSORS_WITH_WEIGHTS": "GCE_SCISSORS_WITH_WEIGHTS",
            "CORE/SINGLE_LEG_CIRCLES": "PL-IN-0005",
            "CORE/SINGLE_LEG_STRETCH": "GCE_SINGLE_LEG_STRETCH",
            "CORE/SINGLE_LEG_STRETCH_WITH_WEIGHTS": "GCE_SINGLE_LEG_STRETCH_WITH_WEIGHTS",
            "CORE/SNAKE_TWIST_1_AND_2": "PL-IN-0043",
            "CORE/SWAN": "PL-IN-0027",
            "CORE/SWIMMING": "PL-IN-0028",
            "CORE/SWISS_BALL_JACKKNIFE": "Ex803",
            "CORE/SWISS_BALL_ROLLOUT": "Ex595",
            "CORE/TEASER": "PL-IN-0050",
            "CORE/THE_HUNDRED": "PL-IN-0002",
            "CORE/WEIGHTED_CRISS_CROSS": "GCE_WEIGHTED_CRISS_CROSS",
            "CORE/WEIGHTED_DOUBLE_LEG_STRETCH": "GCE_WEIGHTED_DOUBLE_LEG_STRETCH",
            "CORE/WEIGHTED_THE_HUNDRED": "GCE_WEIGHTED_THE_HUNDRED",
            "CRUNCH/BICYCLE_CRUNCH": "Ex629",
            "CRUNCH/CABLE_CRUNCH": "Ex6024",
            "CRUNCH/CRUNCH": "Ex969",
            "CRUNCH/HANGING_KNEE_RAISE_OBLIQUE_CRUNCH": "Ex867",
            "CRUNCH/KNEELING_CABLE_CRUNCH": "Ex300",
            "CRUNCH/REVERSE_CRUNCH": "Ex719",
            "CRUNCH/REVERSE_CRUNCH_ON_A_BENCH": "Ex841",
            "CRUNCH/SKATER_CRUNCH_CROSS": "Ex624",
            "CRUNCH/STRAIGHT_LEG_CRUNCH_WITH_BALL": "PL-IN-0012",
            "CRUNCH/SWISS_BALL_CRUNCH": "Ex973",
            "CURL/ALTERNATING_DUMBBELL_BICEPS_CURL": "Ex146",
            "CURL/ALTERNATING_INCLINE_DUMBBELL_BICEPS_CURL": "Ex181",
            "CURL/BARBELL_BICEPS_CURL": "Ex137",
            "CURL/DEAD_HANG_BICEPS_CURL": "Ex6035",
            "CURL/DUMBBELL_HAMMER_CURL": "Ex6040",
            "CURL/FORWARD_BEND_BICEPS_CURL": "Ex136",
            "CURL/ONE_ARM_CONCENTRATION_CURL": "Ex48",
            "CURL/SEATED_ALTERNATING_DUMBBELL_BICEPS_CURL": "Ex180",
            "CURL/STANDING_ALTERNATING_DUMBBELL_CURLS": "Ex6116",
            "CURL/STANDING_DUMBBELL_BICEPS_CURL": "Ex147",
            "DEADLIFT/BARBELL_DEADLIFT": "Ex339",
            "DEADLIFT/BARBELL_STRAIGHT_LEG_DEADLIFT": "Ex6017",
            "DEADLIFT/DUMBBELL_DEADLIFT": "Ex37",
            "DEADLIFT/DUMBBELL_STRAIGHT_LEG_DEADLIFT": "Ex368",
            "DEADLIFT/SINGLE_LEG_DEADLIFT_WITH_BARBELL": "Ex81",
            "FLYE/ARM_ROTATIONS": "PL-IN-0023",
            "FLYE/DUMBBELL_FLYE": "Ex50",
            "FLYE/HUG_A_TREE": "PL-IN-0020",
            "HIP_RAISE/BARBELL_HIP_THRUST_ON_FLOOR": "Ex104",
            "HIP_RAISE/CLAMS": "PL-IN-0035",
            "HIP_RAISE/HIP_RAISE": "Ex422",
            "HIP_RAISE/KETTLEBELL_SWING": "Ex353",
            "HIP_RAISE/LEG_CIRCLES": "PL-IN-0033",
            "HIP_RAISE/LEG_LIFT": "PL-IN-0031",
            "HIP_RAISE/LEG_LIFT_IN_EXTERNAL_ROTATION": "PL-IN-0032",
            "HIP_RAISE/SINGLE_LEG_HIP_RAISE": "Ex417",
            "HIP_STABILITY/EXTERNAL_HIP_RAISE": "Ex730",
            "HIP_SWING/ONE_ARM_SWING": "Ex1120",
            "HIP_SWING/SINGLE_ARM_DUMBBELL_SWING": "Ex6096",
            "HYPEREXTENSION/COBRA": "PL-IN-0026",
            "HYPEREXTENSION/SWISS_BALL_HYPEREXTENSION": "Ex1092",
            "LATERAL_RAISE/ARM_CIRCLES": "Ex508",
            "LATERAL_RAISE/CABLE_FRONT_RAISE": "Ex270",
            "LATERAL_RAISE/SHAVING_THE_HEAD": "PL-IN-0021",
            "LEG_CURL/GOOD_MORNING": "Ex384",
            "LEG_RAISE/HANGING_LEG_RAISE": "Ex6057",
            "LUNGE/ALTERNATING_DUMBBELL_LUNGE": "Ex371",
            "LUNGE/ALTERNATING_DUMBBELL_LUNGE_WITH_REACH": "Ex432",
            "LUNGE/BARBELL_BULGARIAN_SPLIT_SQUAT": "Ex388",
            "LUNGE/BARBELL_SIDE_LUNGE": "Ex442",
            "LUNGE/DUMBBELL_REVERSE_LUNGE": "Ex375",
            "LUNGE/LOW_LUNGE_WITH_ISOMETRIC_ADDUCTION": "Ex438",
            "LUNGE/LUNGE": "Ex9054",
            "LUNGE/LUNGE_WITH_ARM_REACH": "Ex673",
            "LUNGE/OVERHEAD_DUMBBELL_LUNGE": "Ex1123",
            "LUNGE/OVERHEAD_DUMBBELL_SPLIT_SQUAT": "Ex1126",
            "LUNGE/REVERSE_SLIDING_LUNGE": "Ex6135",
            "LUNGE/RUNNERS_LUNGE_TO_BALANCE": "Ex446",
            "LUNGE/SHIFTING_SIDE_LUNGE": "Ex447",
            "LUNGE/SIDE_TO_SIDE_LUNGE_CHOPS": "Ex451",
            "LUNGE/WALKING_LUNGE": "Ex659",
            "MOVE/ARCH_AND_CURL": "GCE_ARCH_AND_CURL",
            "MOVE/ARM_CIRCLES_WITH_BALL_BAND_AND_WEIGHT": "GCE_ARM_CIRCLES_WITH_BALL_BAND_AND_WEIGHT",
            "MOVE/ARM_STRETCH": "GCE_ARM_STRETCH",
            "MOVE/BACK_MASSAGE": "GCE_BACK_MASSAGE",
            "MOVE/BELLY_BREATHING": "GCE_BELLY_BREATHING",
            "MOVE/BRIDGE_WITH_BALL": "GCE_BRIDGE_WITH_BALL",
            "MOVE/DIAMOND_LEG_CRUNCH": "GCE_DIAMOND_LEG_CRUNCH",
            "MOVE/DIAMOND_LEG_LIFT": "GCE_DIAMOND_LEG_LIFT",
            "MOVE/EIGHT_POINT_SHOULDER_OPENER": "YG-IN-0142",
            "MOVE/FOOTWORK": "GCE_FOOTWORK",
            "MOVE/FOOTWORK_ON_DISC": "GCE_FOOTWORK_ON_DISC",
            "MOVE/FOOT_ROLLING": "GCE_FOOT_ROLLING",
            "MOVE/FORWARD_FOLD": "GCE_FORWARD_FOLD",
            "MOVE/FROG_WITH_BAND": "GCE_FROG_WITH_BAND",
            "MOVE/HALF_ROLL_UP": "GCE_HALF_ROLL_UP",
            "MOVE/HAMSTRING_CURL": "GCE_HAMSTRING_CURL",
            "MOVE/HAMSTRING_STRETCH": "GCE_HAMSTRING_STRETCH",
            "MOVE/HIP_STRETCH": "GCE_HIP_STRETCH",
            "MOVE/HUG_A_TREE_WITH_BALL_BAND_AND_WEIGHT": "GCE_HUG_A_TREE_WITH_BALL_BAND_AND_WEIGHT",
            "MOVE/KNEE_CIRCLES": "GCE_KNEE_CIRCLES",
            "MOVE/KNEE_FOLDS_ON_DISC": "GCE_KNEE_FOLDS_ON_DISC",
            "MOVE/LATERAL_FLEXION": "GCE_LATERAL_FLEXION",
            "MOVE/LEG_STRETCH_WITH_BAND": "GCE_LEG_STRETCH_WITH_BAND",
            "MOVE/LEG_STRETCH_WITH_LEG_CIRCLES": "GCE_LEG_STRETCH_WITH_LEG_CIRCLES",
            "MOVE/LOWER_LIFT_ON_DISC": "GCE_LOWER_LIFT_ON_DISC",
            "MOVE/LUNGES_WITH_KNEE_LIFT": "GCE_LUNGES_WITH_KNEE_LIFT",
            "MOVE/LUNGE_SQUAT": "GCE_LUNGE_SQUAT",
            "MOVE/MERMAID_STRETCH": "GCE_MERMAID_STRETCH",
            "MOVE/NEUTRAL_PELVIC_POSITION": "GCE_NEUTRAL_PELVIC_POSITION",
            "MOVE/PELVIC_CLOCKS_ON_DISC": "GCE_PELVIC_CLOCKS_ON_DISC",
            "MOVE/PILATES_PLIE_SQUATS_PARALLEL_TURNED_OUT_FLAT_AND_HEELS_WITH_CHAIR": "GCE_PILATES_PLIE_SQUATS_PARALLEL_TURNED_OUT_FLAT_AND_HEELS_WITH_CHAIR",
            "MOVE/PIRIFORMIS_STRETCH": "GCE_PIRIFORMIS_STRETCH",
            "MOVE/PLANK_KNEE_CROSSES": "GCE_PLANK_KNEE_CROSSES",
            "MOVE/PLANK_KNEE_PULLS": "GCE_PLANK_KNEE_PULLS",
            "MOVE/PLANK_UP_DOWNS": "GCE_PLANK_UP_DOWNS",
            "MOVE/PRAYER_MUDRA": "YG-IN-0157",
            "MOVE/PSOAS_LUNGE_STRETCH": "GCE_PSOAS_LUNGE_STRETCH",
            "MOVE/RIBCAGE_BREATHING": "GCE_RIBCAGE_BREATHING",
            "MOVE/ROLL_DOWN": "GCE_ROLL_DOWN",
            "MOVE/ROLL_UP_WITH_WEIGHT_AND_BAND": "GCE_ROLL_UP_WITH_WEIGHT_AND_BAND",
            "MOVE/SAW": "GCE_SAW",
            "MOVE/SCAPULAR_STABILIZATION": "GCE_SCAPULAR_STABILIZATION",
            "MOVE/SCISSORS_ON_DISC": "GCE_SCISSORS_ON_DISC",
            "MOVE/SEATED_HIP_STRETCHUP": "GCE_SEATED_HIP_STRETCHUP",
            "MOVE/SEATED_TWIST": "GCE_SEATED_TWIST",
            "MOVE/SHAVING_THE_HEAD_WITH_BALL_BAND_AND_WEIGHT": "GCE_SHAVING_THE_HEAD_WITH_BALL_BAND_AND_WEIGHT",
            "MOVE/SPINAL_TWIST": "BBtOq4F",
            "MOVE/SPINAL_TWIST_STRETCH": "BBtOq4F",
            "MOVE/SPINE_STRETCH_FORWARD": "GCE_SPINE_STRETCH_FORWARD",
            "MOVE/SQUATS_STANDING": "GCE_SQUATS_STANDING",
            "MOVE/SQUATS_WITH_BALL": "GCE_SQUATS_WITH_BALL",
            "MOVE/STANDING_SIDE_STRETCH": "GCE_STANDING_SIDE_STRETCH",
            "MOVE/STANDING_SINGLE_LEG_FORWARD_BEND_WITH_IT_BAND_OPENER": "YG-IN-0055",
            "MOVE/STAND_AND_HANG": "GCE_STAND_AND_HANG",
            "MOVE/STRAIGHT_LEG_CRUNCH_WITH_LEGS_CROSSED_WITH_BALL": "GCE_STRAIGHT_LEG_CRUNCH_WITH_LEGS_CROSSED_WITH_BALL",
            "MOVE/STRAIGHT_LEG_CRUNCH_WITH_LEG_LIFT_WITH_BALL": "GCE_STRAIGHT_LEG_CRUNCH_WITH_LEG_LIFT_WITH_BALL",
            "MOVE/STRAIGHT_LEG_DIAGONAL_CRUNCH_WITH_BALL": "GCE_STRAIGHT_LEG_DIAGONAL_CRUNCH_WITH_BALL",
            "MOVE/TAILBONE_CURL": "GCE_TAILBONE_CURL",
            "MOVE/THROAT_LOCK": "YG-IN-0164",
            "MOVE/TICK_TOCK_SIDE_ROLL": "GCE_TICK_TOCK_SIDE_ROLL",
            "MOVE/TWIST": "GCE_TWIST",
            "MOVE/V_LEG_CRUNCHES": "GCE_V_LEG_CRUNCHES",
            "MOVE/V_SIT": "GCE_V_SIT",
            "PLANK/BRIDGE_ONE_LEG_BRIDGE": "PL-IN-0048",
            "PLANK/BRIDGE_WITH_GLUTE_LOWER_LIFT": "PL-IN-0049",
            "PLANK/CROSS_BODY_MOUNTAIN_CLIMBER": "Ex6033",
            "PLANK/ELEVATOR_ABS": "Ex728",
            "PLANK/MOUNTAIN_CLIMBER": "Ex684",
            "PLANK/MOUNTAIN_CLIMBER_ON_SLIDING_DISCS": "Ex833",
            "PLANK/MOUNTAIN_CLIMBER_WITH_FEET_ON_BOSU_BALL": "Ex968",
            "PLANK/PLANK": "Ex695",
            "PLANK/PLANK_WITH_ARM_RAISE": "Ex705",
            "PLANK/PLANK_WITH_ARM_VARIATIONS": "PL-IN-0040",
            "PLANK/PLANK_WITH_LEG_LIFT": "PL-IN-0041",
            "PLANK/PLANK_WITH_OBLIQUE_CRUNCH": "Ex708",
            "PLANK/REVERSE_PLANK_WITH_LEG_PULL": "PL-IN-0044",
            "PLANK/SIDE_PLANK": "PL-IN-0042",
            "PLANK/SIDE_PLANK_AND_ROW": "Ex768",
            "PLANK/SIDE_PLANK_WITH_FEET_ON_BENCH": "Ex627",
            "PLANK/WEIGHTED_PLANK": "Ex862",
            "PLANK/_45_DEGREE_PLANK": "Ex961",
            "PLYO/ALTERNATING_JUMP_LUNGE": "Ex377",
            "PLYO/BARBELL_JUMP_SQUAT": "Ex118",
            "PLYO/BODY_WEIGHT_JUMP_SQUAT": "Ex357",
            "PLYO/MEDICINE_BALL_SLAM": "Ex746",
            "PLYO/SIDE_TO_SIDE_SHUFFLE_JUMP": "Ex1110",
            "POSE/ALL_FOURS": "YG-IN-0026",
            "POSE/ANKLE_TO_KNEE": "YG-IN-0013",
            "POSE/BABY_COBRA": "YG-IN-0093",
            "POSE/BOAT": "YG-IN-0023",
            "POSE/BOUND_ANGLE": "YG-IN-0011",
            "POSE/BOUND_SEATED_SINGLE_LEG_FORWARD_BEND": "YG-IN-0030",
            "POSE/BOW": "YG-IN-0098",
            "POSE/BOWED_HALF_MOON": "YG-IN-0070",
            "POSE/BRIDGE": "YG-IN-0101",
            "POSE/CAT": "YG-IN-0027",
            "POSE/CHAIR": "YG-IN-0078",
            "POSE/CHILDS": "YG-IN-0035",
            "POSE/CORPSE": "YG-IN-0151",
            "POSE/COW": "YG-IN-0028",
            "POSE/COW_FACE": "YG-IN-0014",
            "POSE/DEVOTIONAL_WARRIOR": "YG-IN-0063",
            "POSE/DOLPHIN": "YG-IN-0118",
            "POSE/DOLPHIN_PLANK": "YG-IN-0116",
            "POSE/DOWNWARD_FACING_DOG": "YG-IN-0085",
            "POSE/DOWN_DOG_KNEE_TO_NOSE": "YG-IN-0088",
            "POSE/DOWN_DOG_SPLIT": "YG-IN-0086",
            "POSE/DOWN_DOG_SPLIT_OPEN_HIP_BENT_KNEE": "BBtOfma",
            "POSE/DOWN_DOG_SPLIT_POSE_OPEN_HIP_BENT_KNEE": "YG-IN-0087",
            "POSE/EAGLE": "YG-IN-0082",
            "POSE/EASY_SEATED": "YG-IN-0002",
            "POSE/EXTENDED_PUPPY": "YG-IN-0037",
            "POSE/EXTENDED_SIDE_ANGLE": "YG-IN-0064",
            "POSE/FISH": "YG-IN-0100",
            "POSE/FOUR_LIMBED_STAFF": "YG-IN-0110",
            "POSE/FULL_SPLIT": "YG-IN-0021",
            "POSE/GATE": "YG-IN-0052",
            "POSE/HALF_CHAIR_HALF_ANKLE_TO_KNEE": "YG-IN-0077",
            "POSE/HALF_MOON": "YG-IN-0069",
            "POSE/HEAD_TO_KNEE": "YG-IN-0033",
            "POSE/HERON": "YG-IN-0039",
            "POSE/HEROS": "YG-IN-0009",
            "POSE/HIGH_LUNGE": "YG-IN-0057",
            "POSE/KNEES_CHEST_CHIN": "YG-IN-0096",
            "POSE/LIZARD": "YG-IN-0053",
            "POSE/LOCUST": "YG-IN-0097",
            "POSE/LOW_LUNGE": "YG-IN-0049",
            "POSE/LOW_LUNGE_TWIST": "YG-IN-0050",
            "POSE/LOW_LUNGE_WITH_KNEE_DOWN": "YG-IN-0051",
            "POSE/MERMAID": "YG-IN-0017",
            "POSE/MOUNTAIN": "YG-IN-0040",
            "POSE/ONE_LEGGED_DOWNWARD_FACING_DOG_POSE_OPEN_HIP_BENT_KNEE": "YG-IN-0087",
            "POSE/ONE_LEGGED_DOWNWARD_FACING_POSE_OPEN_HIP_BENT_KNEE": "YG-IN-0087",
            "POSE/ONE_LEGGED_PIGEON": "YG-IN-0016",
            "POSE/PEACEFUL_WARRIOR": "YG-IN-0062",
            "POSE/PLOW": "YG-IN-0136",
            "POSE/RECLINED_HAND_TO_FOOT": "YG-IN-0150",
            "POSE/REVOLVED_HALF_MOON": "YG-IN-0071",
            "POSE/REVOLVED_HEAD_TO_KNEE": "YG-IN-0034",
            "POSE/REVOLVED_TRIANGLE": "YG-IN-0068",
            "POSE/RUNNERS_LUNGE": "YG-IN-0020",
            "POSE/SEATED_EASY_SIDE_BEND": "YG-IN-0003",
            "POSE/SEATED_EASY_TWIST": "YG-IN-0004",
            "POSE/SEATED_LONG_LEG_FORWARD_BEND": "YG-IN-0032",
            "POSE/SEATED_WIDE_LEG_FORWARD_BEND": "YG-IN-0031",
            "POSE/SHOULDER_STAND": "YG-IN-0140",
            "POSE/SIDE_BOAT": "YG-IN-0025",
            "POSE/SPHINX": "YG-IN-0092",
            "POSE/SQUAT_OPEN_ARM_TWIST": "YG-IN-0090",
            "POSE/SQUAT_PALM_PRESS": "YG-IN-0089",
            "POSE/STAFF": "YG-IN-0001",
            "POSE/STANDING_ARMS_UP": "YG-IN-0041",
            "POSE/STANDING_FORWARD_BEND": "YG-IN-0046",
            "POSE/STANDING_FORWARD_BEND_HALFWAY_UP": "YG-IN-0048",
            "POSE/STANDING_SIDE_OPENER": "YG-IN-0042",
            "POSE/STANDING_SINGLE_LEG_FORWARD_BEND": "YG-IN-0054",
            "POSE/STANDING_SPLIT": "YG-IN-0081",
            "POSE/STANDING_WIDE_LEG_FORWARD_BEND": "YG-IN-0043",
            "POSE/STANDING_WIDE_LEG_FORWARD_BEND_WITH_TWIST": "YG-IN-0044",
            "POSE/SUPINE_SPINAL_TWIST": "YG-IN-0149",
            "POSE/TABLE_TOP": "YG-IN-0115",
            "POSE/THREAD_THE_NEEDLE": "YG-IN-0036",
            "POSE/THUNDERBOLT": "YG-IN-0005",
            "POSE/THUNDERBOLT_POSE_BOTH_SIDES_ARM_STRETCH": "GCE_THUNDERBOLT_POSE_BOTH_SIDES_ARM_STRETCH",
            "POSE/TREE": "YG-IN-0072",
            "POSE/TRIANGLE": "YG-IN-0067",
            "POSE/UPWARD_FACING_PLANK": "YG-IN-0114",
            "POSE/UP_DOG": "YG-IN-0095",
            "POSE/WARRIOR_ONE": "YG-IN-0059",
            "POSE/WARRIOR_THREE": "YG-IN-0061",
            "POSE/WARRIOR_TWO": "YG-IN-0060",
            "POSE/WHEEL": "YG-IN-0103",
            "POSE/WIDE_SIDE_LUNGE": "YG-IN-0056",
            "PULL_UP/CHIN_UP": "Ex6030",
            "PULL_UP/LAT_PULLDOWN": "Ex313",
            "PULL_UP/PULL_UP": "Ex882",
            "PULL_UP/STANDING_CABLE_PULLOVER": "Ex305",
            "PULL_UP/WIDE_GRIP_LAT_PULLDOWN": "Ex316",
            "PUSH_UP/PILATES_PUSHUP": "PL-IN-0045",
            "PUSH_UP/PUSH_UP": "Ex419",
            "PUSH_UP/T_PUSH_UP": "Ex460",
            "ROW/ALTERNATING_DUMBBELL_ROW": "Ex6003",
            "ROW/CABLE_ROW_STANDING": "Ex260",
            "ROW/DUMBBELL_ROW": "Ex153",
            "ROW/FACE_PULL": "Ex262",
            "ROW/INVERTED_ROW": "Ex6061",
            "ROW/ONE_ARM_BENT_OVER_ROW": "Ex29",
            "ROW/RENEGADE_ROW": "Ex703",
            "ROW/REVERSE_GRIP_BARBELL_ROW": "Ex141",
            "ROW/SINGLE_ARM_NEUTRAL_GRIP_DUMBBELL_ROW_AND_ROTATION": "Ex6098",
            "RUN/JOG": "Ex9004",
            "RUN/RUN": "Ex9002",
            "SHOULDER_PRESS/ALTERNATING_DUMBBELL_SHOULDER_PRESS": "Ex1004",
            "SHOULDER_PRESS/BARBELL_FRONT_SQUAT_TO_PUSH_PRESS": "Ex492",
            "SHOULDER_PRESS/DUMBBELL_PUSH_PRESS": "Ex221",
            "SHOULDER_PRESS/DUMBBELL_SHOULDER_PRESS": "Ex211",
            "SHOULDER_PRESS/SINGLE_ARM_DUMBBELL_SHOULDER_PRESS": "Ex1006",
            "SHOULDER_PRESS/SINGLE_ARM_STEP_UP_AND_PRESS": "Ex478",
            "SHOULDER_PRESS/SMITH_MACHINE_OVERHEAD_PRESS": "Ex575",
            "SHRUG/BARBELL_UPRIGHT_ROW": "Ex144",
            "SIT_UP/GET_UP_SIT_UP": "Ex735",
            "SIT_UP/SIT_UP": "Ex6111",
            "SIT_UP/V_UP": "Ex822",
            "SQUAT/BACK_SQUAT_WITH_BODY_BAR": "Ex354",
            "SQUAT/BARBELL_BACK_SQUAT": "Ex116",
            "SQUAT/BARBELL_FRONT_SQUAT": "Ex90",
            "SQUAT/BARBELL_STEP_UP": "Ex379",
            "SQUAT/CROSSOVER_DUMBBELL_STEP_UP": "Ex1069",
            "SQUAT/DUMBBELL_FRONT_SQUAT": "Ex364",
            "SQUAT/DUMBBELL_SPLIT_SQUAT": "Ex158",
            "SQUAT/DUMBBELL_SQUAT": "Ex366",
            "SQUAT/DUMBBELL_STEP_UP": "Ex380",
            "SQUAT/GOBLET_SQUAT": "Ex160",
            "SQUAT/PILATES_PLIE_SQUATS_PARALLEL_TURNED_OUT_FLAT_AND_HEELS": "PL-IN-0046",
            "SQUAT/PRISONER_SQUAT": "Ex335",
            "SQUAT/RELEVE_STRAIGHT_LEG_AND_KNEE_BENT_WITH_ONE_LEG_VARIATION": "PL-IN-0047",
            "SQUAT/SQUAT": "Ex334",
            "SQUAT/SQUAT_AND_SIDE_KICK": "Ex1001",
            "SQUAT/SQUAT_JUMPS_IN_N_OUT": "Ex376",
            "SQUAT/WIDE_STANCE_GOBLET_SQUAT": "Ex35",
            "TOTAL_BODY/BURPEE": "Ex9056",
            "TOTAL_BODY/SQUAT_THRUSTS": "Ex511",
            "TRICEPS_EXTENSION/ALTERNATING_DUMBBELL_LYING_TRICEPS_EXTENSION": "Ex412",
            "TRICEPS_EXTENSION/CABLE_LYING_TRICEPS_EXTENSION": "Ex6025",
            "TRICEPS_EXTENSION/DUMBBELL_KICKBACK": "Ex348",
            "TRICEPS_EXTENSION/DUMBBELL_LYING_TRICEPS_EXTENSION": "Ex1075",
            "TRICEPS_EXTENSION/EZ_BAR_OVERHEAD_TRICEPS_EXTENSION": "Ex6045",
            "TRICEPS_EXTENSION/INCLINE_DIP": "Ex330",
            "TRICEPS_EXTENSION/REVERSE_GRIP_PRESSDOWN": "Ex278",
            "TRICEPS_EXTENSION/ROPE_PRESSDOWN": "Ex279",
            "TRICEPS_EXTENSION/SEATED_SINGLE_ARM_OVERHEAD_DUMBBELL_EXTENSION": "Ex1162",
            "TRICEPS_EXTENSION/SINGLE_LEG_DIP": "Ex643",
            "TRICEPS_EXTENSION/TRICEPS_EXTENSION_ON_FLOOR": "Ex60",
            "TRICEPS_EXTENSION/TRICEPS_PRESS": "PL-IN-0024",
            "TRICEPS_EXTENSION/TRICEPS_PRESSDOWN": "Ex284",
            "WARM_UP/OPPOSITE_ARM_AND_LEG_BALANCE": "Ex691"
        }
    },
    1482: function(e, t, i) {
        "use strict";
        var a = i(1357)
          , n = i(1444)
          , r = i(121)
          , o = i.n(r)
          , s = function(e) {
            return n.a.apply(this, e),
            this
        };
        (s.prototype = Object.create(n.a.prototype)).constructor = s,
        s.prototype.fetch = function(e, t) {
            o()("//js.api.here.com/v3/3.0/mapsjs-core.js", function() {
                o()("//js.api.here.com/v3/3.0/mapsjs-service.js", function() {
                    !function() {
                        var i = new H.service.Platform({
                            app_id: a.a.HereAppId,
                            app_code: a.a.HereAppCode,
                            useHTTPS: !0
                        }).getGeocodingService()
                          , n = {
                            searchText: e.address,
                            jsonattributes: 1
                        };
                        i.geocode(n, function(i) {
                            if (i.response.view && i.response.view.length > 0) {
                                var a = i.response.view[0].result[0].location.displayPosition;
                                e.success.call(t, {
                                    address: e.address,
                                    location: [a.latitude, a.longitude]
                                })
                            } else
                                e.error.call(t, i.response, "Unexpected data returned.")
                        }, function(i) {
                            e.error.call(t, i, "Unexpected data returned.")
                        })
                    }()
                })
            })
        }
        ,
        t.a = s
    },
    1483: function(e, t, i) {
        "use strict";
        var a = i(1446)
          , n = i(1804);
        t.a = function(e, t, i, r) {
            var o = !i;
            i || (i = {});
            for (var s = -1, l = t.length; ++s < l; ) {
                var c = t[s]
                  , h = r ? r(i[c], e[c], c, i, e) : void 0;
                void 0 === h && (h = e[c]),
                o ? Object(n.a)(i, c, h) : Object(a.a)(i, c, h)
            }
            return i
        }
    },
    1484: function(e, t, i) {
        "use strict";
        var a = i(22)
          , n = i.n(a);
        t.a = n.a.shape({
            addLayer: n.a.func.isRequired,
            removeLayer: n.a.func.isRequired
        })
    },
    1485: function(e, t, i) {
        var a, n;
        !function(r, o) {
            if (null === (typeof window !== "undefined" ? window : null))
                throw new Error("Google-maps package can be used only in browser");
            void 0 === (n = "function" === typeof (a = function() {
                "use strict";
                var e = null
                  , t = null
                  , i = !1
                  , a = []
                  , n = []
                  , r = null
                  , o = {
                    URL: "https://maps.googleapis.com/maps/api/js",
                    KEY: null,
                    LIBRARIES: [],
                    CLIENT: null,
                    CHANNEL: null,
                    LANGUAGE: null,
                    REGION: null
                };
                o.VERSION = "3.18",
                o.WINDOW_CALLBACK_NAME = "__google_maps_api_provider_initializator__",
                o._googleMockApiObject = {},
                o.load = function(e) {
                    null === t ? !0 === i ? e && a.push(e) : (i = !0,
                    window[o.WINDOW_CALLBACK_NAME] = function() {
                        s(e)
                    }
                    ,
                    o.createLoader()) : e && e(t)
                }
                ,
                o.createLoader = function() {
                    (e = document.createElement("script")).type = "text/javascript",
                    e.src = o.createUrl(),
                    document.body.appendChild(e)
                }
                ,
                o.isLoaded = function() {
                    return null !== t
                }
                ,
                o.createUrl = function() {
                    var e = o.URL;
                    return e += "?callback=" + o.WINDOW_CALLBACK_NAME,
                    o.KEY && (e += "&key=" + o.KEY),
                    o.LIBRARIES.length > 0 && (e += "&libraries=" + o.LIBRARIES.join(",")),
                    o.CLIENT && (e += "&client=" + o.CLIENT + "&v=" + o.VERSION),
                    o.CHANNEL && (e += "&channel=" + o.CHANNEL),
                    o.LANGUAGE && (e += "&language=" + o.LANGUAGE),
                    o.REGION && (e += "&region=" + o.REGION),
                    e
                }
                ,
                o.release = function(s) {
                    var l = function() {
                        o.KEY = null,
                        o.LIBRARIES = [],
                        o.CLIENT = null,
                        o.CHANNEL = null,
                        o.LANGUAGE = null,
                        o.REGION = null,
                        o.VERSION = "3.18",
                        t = null,
                        i = !1,
                        a = [],
                        n = [],
                        "undefined" !== typeof window.google && delete window.google,
                        "undefined" !== typeof window[o.WINDOW_CALLBACK_NAME] && delete window[o.WINDOW_CALLBACK_NAME],
                        null !== r && (o.createLoader = r,
                        r = null),
                        null !== e && (e.parentElement.removeChild(e),
                        e = null),
                        s && s()
                    };
                    i ? o.load(function() {
                        l()
                    }) : l()
                }
                ,
                o.onLoad = function(e) {
                    n.push(e)
                }
                ,
                o.makeMock = function() {
                    r = o.createLoader,
                    o.createLoader = function() {
                        window.google = o._googleMockApiObject,
                        window[o.WINDOW_CALLBACK_NAME]()
                    }
                }
                ;
                var s = function(e) {
                    var r;
                    for (i = !1,
                    null === t && (t = window.google),
                    r = 0; r < n.length; r++)
                        n[r](t);
                    for (e && e(t),
                    r = 0; r < a.length; r++)
                        a[r](t);
                    a = []
                };
                return o
            }
            ) ? a.call(t, i, t, e) : a) || (e.exports = n)
        }()
    },
    1486: function(e, t, i) {
        "use strict";
        var a = i(22)
          , n = i.n(a)
          , r = i(1394);
        t.a = n.a.arrayOf(r.a)
    },
    1487: function(e, t, i) {
        "use strict";
        var a, n = i(436), r = i(437), o = i(81), s = i(80), l = i(82), c = i(2), h = i(10), p = i.n(h), d = i(11), u = i(89), g = i(132), m = (a = {},
        Object(c.a)(a, "Clear", "clear.svg"),
        Object(c.a)(a, "Mostly Clear", "clear.svg"),
        Object(c.a)(a, "Fair", "clear.svg"),
        Object(c.a)(a, "Cloudy", "cloudy.svg"),
        Object(c.a)(a, "Mostly Cloudy", "cloudy.svg"),
        Object(c.a)(a, "Fog", "fog.svg"),
        Object(c.a)(a, "Drizzle", "fog.svg"),
        Object(c.a)(a, "Mist", "fog.svg"),
        Object(c.a)(a, "Smoke", "fog.svg"),
        Object(c.a)(a, "Haze", "fog.svg"),
        Object(c.a)(a, "Dust", "fog.svg"),
        Object(c.a)(a, "Sand", "fog.svg"),
        Object(c.a)(a, "Volcanic Ash", "fog.svg"),
        Object(c.a)(a, "Hail", "hail.svg"),
        Object(c.a)(a, "Partly Cloudy", "partlycloudy.svg"),
        Object(c.a)(a, "Precip", "rain.svg"),
        Object(c.a)(a, "Rain", "rain.svg"),
        Object(c.a)(a, "Heavy Rain", "rain.svg"),
        Object(c.a)(a, "Light Rain", "rain.svg"),
        Object(c.a)(a, "Showers", "rain.svg"),
        Object(c.a)(a, "Light Showers", "rain.svg"),
        Object(c.a)(a, "Heavy Showers", "rain.svg"),
        Object(c.a)(a, "Heavy Snow", "snow.svg"),
        Object(c.a)(a, "Light Snow", "snow.svg"),
        Object(c.a)(a, "Snow", "snow.svg"),
        Object(c.a)(a, "Thunderstorm", "tstorm.svg"),
        Object(c.a)(a, "Tornado", "tornado.svg"),
        Object(c.a)(a, "Sqall", "wind.svg"),
        Object(c.a)(a, "Ice", "wintermix.svg"),
        a), f = function(e) {
            function t(e) {
                return Object(n.a)(this, t),
                Object(o.a)(this, Object(s.a)(t).call(this, e))
            }
            return Object(l.a)(t, e),
            Object(r.a)(t, [{
                key: "imageUrl",
                value: function() {
                    var e = this.props.activity.weatherTypeDTO;
                    return e ? this.mapWeatherDescriptionToImage(e.desc) : null
                }
            }, {
                key: "mapWeatherDescriptionToImage",
                value: function(e) {
                    var t = m[e];
                    return t ? "/web-images/weather/icon_weather_".concat(t) : null
                }
            }, {
                key: "convertToCelsius",
                value: function(e) {
                    return null != e ? 5 * (e - 32) / 9 : null
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props.activity
                      , t = this.props.activity.activityTypeDTO.typeKey
                      , i = this.props.weatherSize && this.props.weatherSize
                      , a = this.imageUrl()
                      , n = d.a.personalizeWindSpeed(e.windSpeed)
                      , r = p.a.createElement(u.a, {
                        key: "weather.wind.direction." + e.windDirectionCompassPoint,
                        ns: "units",
                        content: "weather.wind.direction." + e.windDirectionCompassPoint
                    })
                      , o = "N/A" !== e.windDirectionCompassPoint && null !== e.windDirectionCompassPoint ? r : ""
                      , s = this.convertToCelsius(e.temp)
                      , l = g.a.t("units:".concat(d.a.getWindSpeedUnitKey()))
                      , c = g.a.t("units:".concat(d.a.getWindSpeedUnitKey()), {
                        0: n,
                        1: l,
                        2: o
                    })
                      , h = p.a.createElement(u.a, {
                        key: "weather_humidity_percentage",
                        ns: "activity",
                        content: "weather_humidity_percentage",
                        params: {
                            0: e.relativeHumidity
                        }
                    })
                      , m = g.a.t("units:".concat(d.a.getTemperatureUnitKey()))
                      , f = this.props.disableExpand || !1
                      , y = ["weather"];
                    return i && y.push(i),
                    f && y.push("not-expandable"),
                    p.a.createElement("div", {
                        id: "weather-controls",
                        className: y.join(" ")
                    }, p.a.createElement("span", {
                        className: "map-control-item"
                    }, e.temp && p.a.createElement("span", {
                        className: "temperature",
                        title: "".concat(d.a.personalizeTemperature(s)).concat(m)
                    }, d.a.personalizeTemperature(s), "\xb0"), e.weatherTypeDTO && a && p.a.createElement("span", {
                        className: "weather-icon",
                        title: e.weatherTypeDTO.desc
                    }, p.a.createElement("img", {
                        src: a,
                        alt: e.weatherTypeDTO.desc
                    })), !!n && p.a.createElement("span", {
                        className: "wind wind-".concat(e.windDirectionCompassPoint),
                        title: c
                    }, n), null !== e.relativeHumidity && "auto_racing" === t && p.a.createElement("span", {
                        className: "humidity-percentage"
                    }, h)))
                }
            }]),
            t
        }(p.a.Component);
        t.a = f
    },
    1492: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7);
        t.a = o.a.Model.extend({
            url: "/web-data/exercises/Exercises.json",
            flattenExerciseTypes: function(e) {
                var t = [];
                return n.a.mapObject(this.get("categories"), function(e, i) {
                    var a = !1;
                    n.a.mapObject(e.exercises, function(e, n) {
                        i === n && (a = !0),
                        t.push({
                            exerciseName: s.a.localize("exercise_type_" + n),
                            isBodyWeight: e.isBodyWeight,
                            counterpart: e.counterpart,
                            exerciseKey: n,
                            exerciseCategory: i
                        })
                    }),
                    a || t.push({
                        exerciseName: s.a.localize("category_type_" + i),
                        isBodyWeight: null,
                        counterpart: null,
                        exerciseKey: null,
                        exerciseCategory: i
                    })
                }),
                t.sort(function(t, i) {
                    var a = t.exerciseName.toLowerCase()
                      , n = i.exerciseName.toLowerCase();
                    return a.localeCompare(n, e, {
                        sensitivity: "base",
                        ignorePunctuation: !0
                    })
                }),
                t
            }
        })
    },
    1497: function(e, t, i) {
        "use strict";
        var a = i(1633)
          , n = i(450)
          , r = i(1702)
          , o = i(1353)
          , s = n.a ? n.a.isConcatSpreadable : void 0;
        var l = function(e) {
            return Object(o.a)(e) || Object(r.a)(e) || !!(s && e && e[s])
        };
        var c = function e(t, i, n, r, o) {
            var s = -1
              , c = t.length;
            for (n || (n = l),
            o || (o = []); ++s < c; ) {
                var h = t[s];
                i > 0 && n(h) ? i > 1 ? e(h, i - 1, n, r, o) : Object(a.a)(o, h) : r || (o[o.length] = h)
            }
            return o
        };
        var h = function(e) {
            return null != e && e.length ? c(e, 1) : []
        };
        var p = function(e, t, i) {
            switch (i.length) {
            case 0:
                return e.call(t);
            case 1:
                return e.call(t, i[0]);
            case 2:
                return e.call(t, i[0], i[1]);
            case 3:
                return e.call(t, i[0], i[1], i[2])
            }
            return e.apply(t, i)
        }
          , d = Math.max;
        var u = function(e, t, i) {
            return t = d(void 0 === t ? e.length - 1 : t, 0),
            function() {
                for (var a = arguments, n = -1, r = d(a.length - t, 0), o = Array(r); ++n < r; )
                    o[n] = a[t + n];
                n = -1;
                for (var s = Array(t + 1); ++n < t; )
                    s[n] = a[n];
                return s[t] = i(o),
                p(e, this, s)
            }
        };
        var g = function(e) {
            return function() {
                return e
            }
        }
          , m = i(1805)
          , f = i(1628)
          , y = m.a ? function(e, t) {
            return Object(m.a)(e, "toString", {
                configurable: !0,
                enumerable: !1,
                value: g(t),
                writable: !0
            })
        }
        : f.a
          , v = 800
          , b = 16
          , A = Date.now;
        var C = function(e) {
            var t = 0
              , i = 0;
            return function() {
                var a = A()
                  , n = b - (a - i);
                if (i = a,
                n > 0) {
                    if (++t >= v)
                        return arguments[0]
                } else
                    t = 0;
                return e.apply(void 0, arguments)
            }
        }(y);
        t.a = function(e) {
            return C(u(e, void 0, h), e + "")
        }
    },
    1498: function(e, t, i) {
        "use strict";
        var a = function(e, t) {
            return null != e && t in Object(e)
        }
          , n = i(1355)
          , r = i(1702)
          , o = i(1353)
          , s = i(1445)
          , l = i(1623)
          , c = i(1381);
        var h = function(e, t, i) {
            for (var a = -1, h = (t = Object(n.a)(t, e)).length, p = !1; ++a < h; ) {
                var d = Object(c.a)(t[a]);
                if (!(p = null != e && i(e, d)))
                    break;
                e = e[d]
            }
            return p || ++a != h ? p : !!(h = null == e ? 0 : e.length) && Object(l.a)(h) && Object(s.a)(d, h) && (Object(o.a)(e) || Object(r.a)(e))
        };
        t.a = function(e, t) {
            return null != e && h(e, t, a)
        }
    },
    1501: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(1477)
          , o = n.a.Model.extend({
            idAttribute: "workoutId",
            url: function() {
                return "undefined" !== typeof this.get("workoutId") && null !== this.get("workoutId") ? "/proxy/workout-service/workout/" + this.get("workoutId") : "/proxy/workout-service/workout"
            },
            parse: function(e, t) {
                function i(e) {
                    var t = String(e.endConditionValue).split(".");
                    t && 2 === t.length && (t[1].length > 4 && (e.endConditionValue = parseFloat(t[0] + "." + t[1].substr(0, 4))))
                }
                function a(e) {
                    for (var t = 0, n = e.length; t < n; t += 1)
                        e[t] && i(e[t]),
                        e[t].workoutSteps && e[t].workoutSteps.length > 0 && a(e[t].workoutSteps)
                }
                if (e && e.poolLength && String(e.poolLength).indexOf(".") > -1 && e.workoutSegments && e.workoutSegments.length > 0)
                    for (var n = 0, r = e.workoutSegments.length; n < r; n += 1) {
                        var o = e.workoutSegments[n].workoutSteps;
                        o && a(o)
                    }
                return e
            },
            addExerciseNavigation: function() {
                for (var e = this.get("workoutSegments"), t = 0, i = 0; i < e[0].workoutSteps.length; i++)
                    if (e[0].workoutSteps[i].workoutSteps)
                        for (var a = 0; a < e[0].workoutSteps[i].workoutSteps.length; a++)
                            if (e[0].workoutSteps[i].workoutSteps[a].workoutSteps)
                                for (var n = 0; n < e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].length; n++) {
                                    var o = e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].category
                                      , s = e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].exerciseName;
                                    r.a[o + "/" + s] && (e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].exerciseNavigationIndex = t,
                                    e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].exerciseSourceId = r.a[o + "/" + s],
                                    e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].workoutProvider = "MSN",
                                    t++)
                                }
                            else {
                                var l = e[0].workoutSteps[i].workoutSteps[a].category
                                  , c = e[0].workoutSteps[i].workoutSteps[a].exerciseName;
                                r.a[l + "/" + c] && (e[0].workoutSteps[i].workoutSteps[a].exerciseNavigationIndex = t,
                                e[0].workoutSteps[i].workoutSteps[a].exerciseSourceId = r.a[l + "/" + c],
                                e[0].workoutSteps[i].workoutSteps[a].workoutProvider = "MSN",
                                t++)
                            }
                    else {
                        var h = e[0].workoutSteps[i].category
                          , p = e[0].workoutSteps[i].exerciseName;
                        r.a[h + "/" + p] && (e[0].workoutSteps[i].exerciseNavigationIndex = t,
                        e[0].workoutSteps[i].exerciseSourceId = r.a[h + "/" + p],
                        e[0].workoutSteps[i].workoutProvider = "MSN",
                        t++)
                    }
            },
            removeExerciseNavigation: function() {
                for (var e = this.get("workoutSegments"), t = 0; t < e[0].workoutSteps.length; t++)
                    if (e[0].workoutSteps[t].workoutSteps)
                        for (var i = 0; i < e[0].workoutSteps[t].workoutSteps.length; i++)
                            if (e[0].workoutSteps[t].workoutSteps[i].workoutSteps)
                                for (var a = 0; a < e[0].workoutSteps[t].workoutSteps[i].workoutSteps[a].length; a++)
                                    delete e[0].workoutSteps[t].workoutSteps[i].workoutSteps[a].exerciseNavigationIndex,
                                    delete e[0].workoutSteps[t].workoutSteps[i].workoutSteps[a].exerciseSourceId;
                            else
                                delete e[0].workoutSteps[t].workoutSteps[i].exerciseNavigationIndex,
                                delete e[0].workoutSteps[t].workoutSteps[i].exerciseSourceId;
                    else
                        delete e[0].workoutSteps[t].exerciseNavigationIndex,
                        delete e[0].workoutSteps[t].exerciseSourceId
            }
        });
        t.a = o
    },
    1504: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = (i(11),
        {
            SAVE_SUCCSS: "SAVE_SUCCESS",
            SAVE_ERROR: "SAVE_ERROR"
        })
          , l = o.a.Model.extend({
            idAttribute: "activityId",
            url: function() {
                return "/modern/proxy/activity-service/activity/" + this.activityId + "/exerciseSets"
            },
            initialize: function(e) {
                if ("undefined" === typeof e.activityId)
                    throw "RepCountingActivity requires an activity ID";
                this.activityId = e.activityId
            },
            getTotalTime: function() {
                var e = this.get("exerciseSets")
                  , t = 0;
                if (e)
                    for (var i = 0, a = e.length; i < a; i++)
                        t += e[i].duration;
                return t
            },
            getAverageTimePerActiveExercise: function() {
                var e = this.get("exerciseSets")
                  , t = 0
                  , i = 0;
                if (e) {
                    for (var a = 0, n = e.length; a < n; a++)
                        "REST" !== e[a].setType && (t += e[a].duration,
                        i++);
                    return t > 0 && i > 0 ? t / i : null
                }
                return null
            },
            getWorkTime: function() {
                var e = this.get("exerciseSets")
                  , t = 0;
                if (e)
                    for (var i = 0, a = e.length; i < a; i++)
                        "REST" !== e[i].setType && (t += e[i].duration);
                return t
            },
            getRestTime: function() {
                var e = this.get("exerciseSets")
                  , t = 0;
                if (e)
                    for (var i = 0, a = e.length; i < a; i++)
                        "REST" === e[i].setType && (t += e[i].duration);
                return t
            },
            getActiveSetCount: function() {
                var e = this.get("exerciseSets")
                  , t = 0;
                if (e)
                    for (var i = 0, a = e.length; i < a; i++)
                        "REST" !== e[i].setType && t++;
                else
                    t += 1;
                return t
            },
            getTotalRepCount: function() {
                var e = this.get("exerciseSets")
                  , t = 0;
                if (e)
                    for (var i = 0, a = e.length; i < a; i++)
                        "REST" !== e[i].setType && (t += e[i].repetitionCount);
                return t
            },
            getTotalVolume: function() {
                var e, t = this.get("exerciseSets"), i = 0;
                if (t)
                    for (var a = 0, n = t.length; a < n; a++)
                        "REST" !== (e = t[a]).setType && e.weight > 0 && (i += e.weight * e.repetitionCount);
                return i
            },
            getConsolidatedJSON: function() {
                var e = this.get("exerciseSets")
                  , t = []
                  , i = this;
                return n.a.each(e, function(e) {
                    "REST" === e.setType ? t.length > 0 && (t[t.length - 1].rest || (t[t.length - 1].rest = 0),
                    t[t.length - 1].rest += e.duration) : (e.exerciseType = i.getExerciseType(e.exercises),
                    t.push(e))
                }),
                t
            },
            getExerciseType: function(e) {
                var t = "choose_an_exercise"
                  , i = 0;
                return e && e.length > 0 && n.a.each(e, function(e) {
                    e.probability > i && (i = e.probability,
                    e.name ? t = e.name : "UNKNOWN" !== e.category ? t = null : "UNKNOWN" === e.category && (i = 24.9999999999))
                }),
                t
            },
            getEmptySetJSON: function(e) {
                return {
                    startTimeGMT: "",
                    duration: e || "",
                    exerciseType: "choose_an_exercise",
                    repCount: "",
                    weight: "",
                    exercises: [],
                    rest: ""
                }
            },
            splitEditResults: function(e) {
                for (var t = [], i = null, a = 0; a < e.length; a++)
                    n.a.isUndefined(e[a].rest) || 0 === e[a].rest ? (i = null,
                    delete e[a].rest) : (i = this.createRestSet(e[a].rest),
                    delete e[a].rest),
                    t.push(e[a]),
                    i && t.push(i);
                this.set({
                    exerciseSets: t
                }),
                this.once("sync", this.saveSuccess, this),
                this.once("error", this.saveError, this),
                this.save()
            },
            createRestSet: function(e) {
                return {
                    setType: "REST",
                    duration: e,
                    exercises: [],
                    repetitionCount: null,
                    weight: -1,
                    startTime: null
                }
            },
            saveSuccess: function() {
                this.trigger(s.SAVE_SUCCSS),
                this.off("error")
            },
            saveError: function() {
                this.trigger(s.SAVE_ERROR),
                this.off("sync")
            }
        });
        l.UNKNOWN_PROBABILITY_OVERRIDE = 24.9999999999,
        l.Events = s,
        t.a = l
    },
    1505: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(1389)
          , l = i(321);
        function c(e, t) {
            if (function(e) {
                if (n.a.isEmpty(e.criteria))
                    throw "GearFilterCriteriaDTO must include a User Profile PK or Activity ID";
                if (!1 === n.a.has(e.criteria, "userProfilePk") && !1 === n.a.has(e.criteria, "activityId"))
                    throw "GearFilterCriteriaDTO must include a User Profile PK or Activity ID"
            }(t),
            t.criteria) {
                var i = new l.a;
                e.queryString = i.convertObjectToQueryString(t.criteria)
            }
        }
        var h = o.a.Collection.extend({
            model: s.a,
            initialize: function(e, t) {
                c(this, t)
            },
            url: function() {
                return "/proxy/gear-service/gear/filterGear" + this.queryString
            }
        });
        t.a = h
    },
    1508: function(e, t, i) {
        "use strict";
        var a = function() {
            return this
        };
        a.prototype.fetch = function() {}
        ,
        t.a = a
    },
    1509: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(83)
          , o = i(322)
          , s = ["DESCENT_SPLIT"]
          , l = n.a.Collection.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/typedsplits"
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "ActivityTypedSplits requires an activity ID";
                this.activityId = t.activityId
            },
            parse: function(e) {
                return e ? e.splits : []
            },
            getHighlightedTimeRanges: function() {
                return this.getHighlightedSplits().map(function(e) {
                    return {
                        start: r.a.parseISOUTC(e.get("startTimeGMT")).getTime(),
                        end: r.a.parseISOUTC(e.get("endTimeGMT")).getTime()
                    }
                })
            },
            getHighlightedSplits: function() {
                return this.filter(function(e) {
                    return s.includes(e.get("type"))
                })
            },
            comparator: function(e) {
                return r.a.parseISOUTC(e.get("startTimeGMT"))
            },
            getRoutes: function() {
                return this.getSplitsOfType(o.b.CLIMB_ACTIVE)
            },
            getSplitsOfType: function(e) {
                return this.where({
                    type: e
                })
            }
        });
        t.a = l
    },
    1510: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(1792)
              , c = i.n(l)
              , h = {
                CHANGE: "CHANGE"
            }
              , p = o.a.View.extend({
                events: {
                    "click li": "onPrivacyOptionSelected"
                },
                initialize: function(e) {
                    n.a.bindAll(this, "onSaveSuccess"),
                    this.template = n.a.template(c.a),
                    this.privacy = e.privacy,
                    this.onlyMeConsent = e.onlyMeConsent,
                    this.connectionsConsent = e.connectionsConsent,
                    this.groupsConsent = e.groupsConsent,
                    this.everyoneConsent = e.everyoneConsent,
                    this.customConsentClass = e.customConsentClass
                },
                render: function() {
                    var t = this.template({
                        Localizer: s.a,
                        privacy: this.privacy,
                        onlyMeConsent: this.onlyMeConsent,
                        connectionsConsent: this.connectionsConsent,
                        groupsConsent: this.groupsConsent,
                        everyoneConsent: this.everyoneConsent,
                        customConsentClass: this.customConsentClass
                    });
                    this.$el.addClass("dropdown page-dropdown privacy-select"),
                    e(this.el).html(t),
                    this.$("[data-privacy='" + this.privacy + "']").addClass("active")
                },
                onPrivacyOptionSelected: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).attr("data-privacy");
                    i && this.trigger(h.CHANGE, i)
                },
                onSaveSuccess: function(e) {
                    this.setPrivacy(e)
                },
                setPrivacy: function(e) {
                    this.privacy = e
                },
                getPrivacy: function() {
                    return this.privacy
                }
            });
            p.Events = h,
            t.a = p
        }
        ).call(this, i(9))
    },
    1511: function(e, t, i) {
        "use strict";
        var a = i(244)
          , n = i(22)
          , r = i.n(n);
        t.a = r.a.instanceOf(a.Map)
    },
    1515: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(91)
              , l = {
                LACTATE_THRESHOLD: "LACTATE_THRESHOLD",
                HR_RESERVE: "HR_RESERVE",
                HR_MAX: "HR_MAX"
            }
              , c = o.a.Model.extend({
                url: function() {
                    return "/proxy/biometric-service/heartRateZones/"
                },
                initialize: function(e) {
                    this.currentDeviceSupportedZones = ["DEFAULT"],
                    this._resetChangedSports()
                },
                changedSports: [],
                save: function(t, i) {
                    if (!this.changedSports.length)
                        return !0;
                    var a = this
                      , n = e.Deferred()
                      , r = {
                        url: this.url(),
                        contentType: "application/json; charset=UTF-8",
                        type: "PUT",
                        data: JSON.stringify(this.changedSports),
                        success: function(e, t, i) {
                            return a._resetChangedSports(),
                            n.resolve(e)
                        },
                        error: function(e, t, i) {
                            return a._resetChangedSports(),
                            n.reject(t)
                        }
                    };
                    return o.a.Model.prototype.save.call(this, t, r),
                    n.promise()
                },
                remove: function(e) {
                    var t = this.findBySport(e);
                    this._updateChangedSports(t, "DELETED");
                    var i = this.findKey(function(t) {
                        return t.sport === e
                    });
                    i && delete this.attributes[i]
                },
                replaceHRZone: function(e, t, i) {
                    var a = this.findKey(function(t) {
                        return t.sport === e.sport
                    });
                    this._updateChangedSports(e, i ? "NEW" : "CHANGED"),
                    a ? this.attributes[a] = e : t && (this.attributes[Object.keys(this.attributes).length] = e)
                },
                findKey: function(e) {
                    var t, i = this;
                    return Object.keys(this.attributes).forEach(function(a, n) {
                        i.attributes[a] && e(i.attributes[a]) && (t = a)
                    }),
                    t
                },
                findBySport: function(e) {
                    var t, i = this.findKey(function(t) {
                        return t && t.sport === e
                    });
                    return i && (t = this.attributes[i]),
                    t
                },
                add: function(e) {
                    this.replaceHRZone(e, !0, !0)
                },
                _updateChangedSports: function(e, t) {
                    var i = n.a.findIndex(this.changedSports, function(t) {
                        return t.sport === e.sport
                    });
                    -1 !== i ? "NEW" === t && "DELETED" === this.changedSports[i].changeState ? (e.changeState = "CHANGED",
                    this.changedSports[i] = e) : "DELETED" === t && "NEW" === this.changedSports[i].changeState ? this.changedSports.splice(i, 1) : ("CHANGED" === t && "NEW" === this.changedSports[i].changeState ? e.changeState = "NEW" : e.changeState = t,
                    this.changedSports[i] = e) : (e.changeState = t,
                    this.changedSports.push(e))
                },
                _resetChangedSports: function() {
                    this.changedSports = []
                },
                validate: function(e, t) {
                    var i, a, r = !0, o = this;
                    return Object.keys(this.attributes).forEach(function(e, t) {
                        o.attributes[e] && !o._isValid(o.attributes[e]) && (r = !1,
                        a = o.attributes[e].sport,
                        n.a.indexOf(o.currentDeviceSupportedZones, a) < 0 && (i = o.findBySport("DEFAULT")) && (o.attributes[e] = n.a.extend({}, i),
                        o.attributes[e].sport = a,
                        r = !0))
                    }),
                    r ? void 0 : "Not valid"
                },
                _isValid: function(e) {
                    var t = Number(e.zone1Floor)
                      , i = Number(e.zone2Floor)
                      , a = Number(e.zone3Floor)
                      , n = Number(e.zone4Floor)
                      , r = Number(e.zone5Floor)
                      , o = Number(e.maxHeartRateUsed)
                      , c = !1;
                    switch (e.trainingMethod) {
                    case l.HR_RESERVE:
                        e.lactateThresholdHeartRateUsed = null,
                        c = Number(e.restingHeartRateUsed) >= s.a.MIN_RESTING_HEART_RATE && o >= s.a.MAX_HEART_RATE_MIN && o <= s.a.MAX_HEART_RATE_MAX;
                        break;
                    case l.LACTATE_THRESHOLD:
                        e.restingHeartRateUsed = null,
                        c = Number(e.lactateThresholdHeartRateUsed) > s.a.MIN_LACTATE_THRESHOLD_HEART_RATE && o >= s.a.MAX_HEART_RATE_MIN && o <= s.a.MAX_HEART_RATE_MAX;
                        break;
                    case l.HR_MAX:
                        e.lactateThresholdHeartRateUsed = null,
                        e.restingHeartRateUsed = null,
                        c = o >= s.a.MAX_HEART_RATE_MIN && o <= s.a.MAX_HEART_RATE_MAX
                    }
                    return c = !!(c && t < i && i < a && a < n && n < r && r < o)
                },
                getData: function() {
                    var e = []
                      , t = this;
                    return Object.keys(this.attributes).forEach(function(i, a) {
                        t.attributes[i] && e.push(t.attributes[i])
                    }),
                    e
                },
                getZones: function(e) {
                    var t = []
                      , i = this.findBySport(e)
                      , a = 1;
                    return i && n.a.each(i, function(e, i) {
                        /zone/.test(i) && (t.push({
                            zoneNumber: a,
                            value: e
                        }),
                        a += 1)
                    }),
                    t
                },
                getMaxHeartRate: function(e) {
                    var t = this.findBySport(e);
                    return t ? t.maxHeartRateUsed : s.a.MAX_HEART_RATE_DEFAULT
                },
                setDeviceSupportedZones: function(e) {
                    this.currentDeviceSupportedZones = this.currentDeviceSupportedZones.concat(e)
                }
            });
            c.TrainingMethods = l,
            t.a = c
        }
        ).call(this, i(9))
    },
    1520: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(31)
          , c = i(42)
          , h = i(1866)
          , p = i.n(h)
          , d = i(1867)
          , u = i.n(d)
          , g = i(1868)
          , m = i.n(g)
          , f = i(1869)
          , y = i.n(f)
          , v = i(1870)
          , b = i.n(v)
          , A = i(1871)
          , C = i.n(A)
          , w = i(1872)
          , _ = i.n(w)
          , x = i(1873)
          , S = i.n(x)
          , T = i(1874)
          , E = i.n(T)
          , k = i(1875)
          , L = i.n(k)
          , P = i(1876)
          , z = i.n(P)
          , I = o.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(e.templateHtml),
                this.additionalData = e.additionalData
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    additionalData: this.additionalData
                }))
            }
        })
          , D = l.a.extend({
            initialize: function(e) {
                if (!e.key)
                    throw "Key required for ModalHelpView";
                this.additionalData = e.additionalData || {},
                e.view = new I({
                    templateHtml: this.getTemplate(e.key),
                    additionalData: this.additionalData
                }),
                e.showFooter = !1,
                e.modalTitle || (e.modalTitle = this.getModalTitle(e.key)),
                null === e.modalTitle && (e.modalTitle = s.a.localize("help.running.dynamics.modal.title", this.getModalTitle(e.key))),
                l.a.prototype.initialize.call(this, e)
            },
            getTemplate: function(e) {
                switch (e) {
                case "directDoubleCadence":
                    return p.a;
                case "directGroundContactTime":
                    return m.a;
                case "directGroundContactTimeBalance":
                    return y.a;
                case "directVerticalOscillation":
                    return u.a;
                case "directVerticalRatio":
                    return b.a;
                case "directActivityClass":
                    return C.a;
                case "directPerformanceCondition":
                    return _.a;
                case "vectorAirDragWattsPerCdA":
                case "vectorAirDragCdA":
                    return S.a;
                case "directGrit":
                    return this.additionalData.GritColorRanges = c.d,
                    L.a;
                case "directRespirationRate":
                    return E.a;
                case "directFlow":
                    return this.additionalData.FlowColorRanges = c.c,
                    z.a;
                default:
                    return s.a.localize(e)
                }
            },
            getModalTitle: function(e) {
                switch (e) {
                case "vectorAirDragWattsPerCdA":
                case "vectorAirDragCdA":
                    return s.a.localize("help_vector_air_drag_cda");
                case "directGrit":
                    return s.a.localize("help.title");
                case "directFlow":
                case "directRespirationRate":
                case "directDoubleCadence":
                case "directGroundContactTime":
                case "directGroundContactTimeBalance":
                case "directVerticalOscillation":
                case "directVerticalRatio":
                case "directPerformanceCondition":
                    return s.a.localize("help.title");
                default:
                    return s.a.localize(e)
                }
            }
        });
        t.a = D
    },
    1521: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = {
            Paused: "paused",
            Playing: "playing"
        }
          , r = i.n(a).a.Model.extend({
            defaults: {
                x: 0,
                mode: n.Paused,
                xAxis: "sumDuration",
                min: 0,
                max: 9999999999
            },
            initialize: function(e) {
                this.on("change:max", this.onMaxChanged, this),
                this.on("change:min", this.onMinChanged, this),
                this.startFromBeginningOnNextStart = !1
            },
            togglePlayback: function() {
                this.get("mode") == n.Playing ? this.stopPlaying() : this.startPlaying()
            },
            startPlaying: function() {
                if (this.get("mode") != n.Playing) {
                    this.startFromBeginningOnNextStart && this.set("x", this.get("min"), {
                        silent: !0
                    }),
                    this.startFromBeginningOnNextStart = !1,
                    this.set("mode", n.Playing),
                    this.initPlayer();
                    var e = this;
                    this.timer = setInterval(function() {
                        e.run()
                    }, 0)
                }
            },
            initPlayer: function() {
                this.playbackStart = (new Date).getTime(),
                this.startValue = this.get("x"),
                this.loops = 0,
                this.skipTicks = 1e3 / 30,
                this.maxFrameSkip = 10,
                this.nextGameTick = (new Date).getTime()
            },
            stopPlaying: function() {
                clearInterval(this.timer),
                this.timer = null,
                this.set("mode", n.Paused)
            },
            onMaxChanged: function() {
                this.reset()
            },
            onMinChanged: function() {
                this.reset()
            },
            reset: function() {
                this.stopPlaying(),
                this.set("x", this.get("min"), {
                    silent: !0
                }),
                this.calculateStep()
            },
            calculateStep: function() {
                var e = this.get("max") - this.get("min");
                this.step = e > 0 ? e / 15e3 : 0
            },
            update: function() {
                var e = (new Date).getTime()
                  , t = this.startValue + (e - this.playbackStart) * this.step;
                t >= this.get("max") ? (t = this.get("max"),
                this.startFromBeginningOnNextStart = !0,
                this.stopPlaying(),
                this.set("x", t)) : this.set("x", t, {
                    silent: !0
                })
            },
            draw: function() {
                this.trigger("change:x")
            },
            run: function() {
                for (this.loops = 0; (new Date).getTime() > this.nextGameTick && this.loops < this.maxFrameSkip && this.timer; )
                    this.update(),
                    this.nextGameTick += this.skipTicks,
                    this.loops++;
                this.draw()
            }
        });
        r.Modes = n,
        t.a = r
    },
    1523: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(0)
              , r = i.n(n)
              , o = i(7)
              , s = i(249)
              , l = i(1554)
              , c = i(1598)
              , h = i(153)
              , p = i(1689)
              , d = i.n(p)
              , u = {
                ON_RENDERED: "ON_RENDERED",
                ON_NEW_COMMENT: "ON_NEW_COMMENT",
                ON_CLOSE: "ON_CLOSE"
            }
              , g = r.a.View.extend({
                events: {
                    "click .show-previous-comments": "onShowMoreButtonClicked"
                },
                initialize: function(t) {
                    if (this.$commentSet = null,
                    this.initializePageCommentsView(t),
                    "undefined" === typeof t.viewerDisplayName)
                        throw "Viewer Display Name is required.";
                    this.showLikes = !0,
                    this.showHeader = !0,
                    this.viewerDisplayName = t.viewerDisplayName,
                    "undefined" !== typeof t.showHeader && (this.showHeader = t.showHeader),
                    "undefined" !== typeof t.showLikes && (this.showLikes = t.showLikes),
                    "undefined" !== typeof t.isChallengeCommentDisabled && (this.isChallengeCommentDisabled = t.isChallengeCommentDisabled),
                    this.isChallengeCommentDisabled && (this.showLikes = !1),
                    this.template = e.template(d.a),
                    this.collection || (this.collection = new s.a([],{
                        resourceType: this.conversation.resourceType,
                        resourceId: this.conversation.resourceId,
                        userGroupPk: this.conversation.userGroupPk,
                        conversation: this.conversation,
                        startRowNum: 0,
                        limit: 10
                    }),
                    this.collection.once("sync", function() {
                        this.render()
                    }, this),
                    this.collection.fetch())
                },
                initializePageCommentsView: function(e) {
                    if ("undefined" === typeof e.conversation)
                        throw "Conversation is required.";
                    this.conversation = e.conversation
                },
                render: function() {
                    this.showLockedText = !1,
                    this.collection.length > 0 && this.isChallengeCommentDisabled && (this.showLockedText = !0);
                    var e = this.template({
                        showHeader: this.showHeader,
                        isChallengeCommentDisabled: this.isChallengeCommentDisabled,
                        showLockedText: this.showLockedText,
                        Localizer: o.a
                    });
                    this.$el.html(e),
                    this.$commentSet = this.$(".comment-item");
                    var t = this;
                    this.$commentSet.on("scroll", function(e) {
                        t.onCommentsScrolled()
                    }),
                    this.isChallengeCommentDisabled ? this.$(".add.comment").removeClass("background-3") : this.renderAddCommentView(),
                    this.collection.each(function(e) {
                        this.createCommentView(e)
                    }, this),
                    this.collection.length > 0 && this.collection.hasMoreMembers() && this.$(".show-previous-comments").show()
                },
                renderAddCommentView: function() {
                    this.addCommentView = new l.a({
                        conversation: this.conversation,
                        resourceType: this.conversation.get("resourceType"),
                        resourceId: this.conversation.get("resourceId"),
                        el: this.$(".add.comment")
                    }),
                    this.addCommentView.on(l.a.Events.COMMENT_ADDED, this.onCommentAdded, this),
                    this.addCommentView.render()
                },
                onCommentAdded: function(e) {
                    this.collection.add(e),
                    this.createCommentView(e),
                    this.scrollToBottom(),
                    this.trigger(u.ON_NEW_COMMENT, this.conversation, e)
                },
                createCommentView: function(e) {
                    e.get("authorDisplayName");
                    var t = new c.a({
                        model: e,
                        conversation: this.conversation,
                        showLikes: this.showLikes
                    });
                    t.render(),
                    this.$commentSet.append(t.el)
                },
                onShowMoreButtonClicked: function(e) {
                    e.preventDefault(),
                    this.collection.once(h.a.Events.ON_MORE_MEMBERS_FETCHED, this.onFetchMoreSuccess, this),
                    this.collection.fetchNext()
                },
                onFetchMoreSuccess: function() {
                    this.render()
                },
                scrollToBottom: function() {
                    this.$commentSet.scrollTop(this.$commentSet.prop("scrollHeight"))
                },
                onCommentsScrolled: function(e) {
                    var t = a(".comment-item").scrollTop()
                      , i = a(".comment-item").innerHeight();
                    a(".comment-item")[0].scrollHeight - t == i ? a(".comment-fade-out").toggle(!1) : a(".comment-fade-out").toggle(!0)
                }
            });
            g.Events = u,
            t.a = g
        }
        ).call(this, i(8), i(9))
    },
    1530: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return h
        }),
        i.d(t, "b", function() {
            return p
        });
        var a = i(13)
          , n = i.n(a)
          , r = i(7)
          , o = i(11)
          , s = i(83)
          , l = i(1349)
          , c = i(322)
          , h = function(e, t, i, a, r, h) {
            var p = []
              , d = s.a.parseISOUTC(t.get("startTimeGMT"))
              , u = new n.a(d).unix();
            return e.forEach(function(e) {
                var d, g = e[0], m = e[1], f = i.find(function(e, t) {
                    var a = s.a.parseISOUTC(e.get("startTimeGMT"))
                      , r = new n.a(a).unix() - u
                      , o = i.at(t + 1);
                    if (o) {
                        var l = s.a.parseISOUTC(o.get("startTimeGMT"))
                          , c = new n.a(l).unix() - u;
                        return r <= g && g <= c
                    }
                    return r <= g
                });
                d = f && f.get("type") === c.b.CLIMB_ACTIVE ? Math.max(m - f.get("startElevation"), 0) : 0;
                var y = g;
                h === l.a.Distance && (y = o.a.convertDistance(y, t.getActivityTypeKey())),
                p.push({
                    x: y,
                    y: a(d, r)
                })
            }),
            p
        }
          , p = function(e, t, i, a, h, p, d, u) {
            var g = s.a.parseISOUTC(e.get("startTimeGMT"))
              , m = new n.a(g).unix()
              , f = t.find(function(t) {
                var i = s.a.parseISOUTC(t.get("startTimeGMT"))
                  , r = s.a.parseISOUTC(t.get("endTimeGMT"))
                  , c = new n.a(i).unix() - m
                  , h = new n.a(r).unix() - m;
                d === l.a.Distance && (c = o.a.convertDistance(c, e.getActivityTypeKey()),
                h = o.a.convertDistance(h, e.getActivityTypeKey()));
                var p = a ? a.x : 0;
                return c <= p && p <= h
            })
              , y = r.a.localize("label_rest")
              , v = "";
            if (f && f.get("type") === c.b.CLIMB_ACTIVE) {
                switch (f.get("status")) {
                case c.a.CLIMB_COMPLETED:
                    y = f.numFalls < 1 ? r.a.localize("climb_send") : r.a.localize("climb_complete_falls");
                    break;
                case c.a.CLIMB_ATTEMPTED:
                default:
                    y = r.a.localize("climb_attempt")
                }
                v = f.get("gradeValue")
            }
            var b = "".concat(r.a.localize("label_climb_ascent"), " - ").concat(i(h) || 0, " ").concat(p);
            return a && (b = "".concat(y, "</br>").concat(b)),
            v ? "".concat(b, "</br>").concat(r.a.localize("climb_difficulty"), " - ").concat(Object(c.c)(v.scale, v.valueKey, u.toJSON())) : b
        }
    },
    1535: function(e, t, i) {
        "use strict";
        i(8);
        var a = i(1301)
          , n = i(1414)
          , r = i(1470)
          , o = i(1482)
          , s = {
            ROAD: "mapbox.streets",
            SATELLITE: "mapbox.satellite"
        }
          , l = {
            url: "https://connectOsm16.azureedge.net/",
            options: {
                minZoom: 3,
                maxZoom: 17,
                attribution: '&copy; <a href="https://openstreetmap.org/copyright" target="_blank" rel="noopener">OpenStreetMaps</a> contributors &copy; Garmin Ltd. or its Affiliates'
            }
        }
          , c = function(e) {
            n.a.apply(this, arguments),
            e.layerType && s[e.layerType] ? l.options.id = s[e.layerType] : l.options.id = s.ROAD,
            this.directionService = new r.a({
                transitMode: e.transitMode
            }),
            this.locationService = new o.a({}),
            this.name = a.a.MapProviders.OSM
        };
        (c.prototype = Object.create(n.a.prototype)).constructor = c,
        c.prototype.getTileLayer = function(e) {
            return e && s[e] && (l.options.id = s[e]),
            l
        }
        ,
        c.prototype.getSupportedMaxZoom = function() {
            return l.options.maxZoom
        }
        ,
        c.TileLayer = l,
        t.a = c
    },
    1538: function(e, t, i) {
        "use strict";
        var a = i(22)
          , n = i.n(a);
        t.a = n.a.oneOf(["topleft", "topright", "bottomleft", "bottomright"])
    },
    1539: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, ".ReactMapComponent_smallActivityMap__3kTCD {\n    position: relative;\n    width: 100%;\n    height: 408px;\n}\n.ReactMapComponent_widgetMapView__39xAa {\n    position: relative;\n    width: 100%;\n    height: 200px;\n}\n.ReactMapComponent_weatherContainer__1YjH4 {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-flex-wrap: nowrap;\n            flex-wrap: nowrap;\n    position: absolute;\n    top: 10px;\n    right: 12px;\n    width: auto;\n    z-index: 60;\n}\n.ReactMapComponent_largeMapViewWeather__3-xGX {\n    position: fixed;\n    right: 10px;\n    top: 10px;\n    width: 40%;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-justify-content: flex-end;\n            justify-content: flex-end;\n    z-index: 9999;\n    left: unset;\n}\n.ReactMapComponent_fullScreenBtn__1-psz {\n    margin-left: 5px;\n}\n.ReactMapComponent_weather__1FoHh {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-flex-wrap: nowrap;\n            flex-wrap: nowrap;\n    cursor: pointer;\n    margin-bottom: 5px;\n    width: auto;\n    padding: 0 5px;\n    height: 33px;\n    background: rgba(250, 250, 250, 0.9);\n    border-radius: 20px;\n    box-shadow: 0 0 2px " + i(243).locals.color_103 + ";\n    overflow: hidden;\n}\n.ReactMapComponent_weatherLarge__3coPC {\n    position: absolute;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n    /* top: 10px; */\n    right: 60px;\n    cursor: pointer;\n    margin-bottom: 5px;\n    /* z-index: 9999; */\n    width: 369px;\n    padding: 0 5px;\n    height: 70px;\n    background: rgba(250, 250, 250, 0.9);\n    border-radius: 30px;\n    box-shadow: 0 0 2px " + i(243).locals.color_103 + ";\n    overflow: hidden;\n}\n.ReactMapComponent_weatherDetails__3_64q {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-justify-content: flex-end;\n            justify-content: flex-end;\n    width: 30%;\n    padding-top: 5px;\n    padding-right: 10px;\n}\n.ReactMapComponent_weatherDetails__3_64q ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    font-size: 12px;\n}\n.ReactMapComponent_weatherDetails__3_64q li {\n    margin: 0;\n    padding: 0;\n    line-height: 1.4;\n}\n.ReactMapComponent_weatherDetails__3_64q li.ReactMapComponent_weatherSource__21-4A {\n    font-size: 9px;\n    color: " + i(243).locals.color_102 + ";\n}\n.ReactMapComponent_wavesStartMarker__2drdu {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-style: solid;\n    border-color: " + i(243).locals.white + ";\n    border-width: 1px;\n    border-radius: 50%;\n    color: " + i(243).locals.blue_dark_3 + ";\n    background: " + i(243).locals.blue_dark_3 + ";\n}\n.ReactMapComponent_wavesEndMarker__2M_gz {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: " + i(243).locals.white + ";\n    color: " + i(243).locals.blue_dark_3 + ";\n    background: " + i(243).locals.blue_dark_3 + ";\n}\n.ReactMapComponent_longestWaveStartMarker__3H8if {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-style: solid;\n    border-color: " + i(243).locals.white + ";\n    border-width: 1px;\n    border-radius: 50%;\n    color: " + i(243).locals.red_primary + ";\n    background: " + i(243).locals.red_primary + ";\n}\n.ReactMapComponent_longestWaveEndMarker__2mKxz {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: " + i(243).locals.white + ";\n    color: " + i(243).locals.red_primary + ";\n    background: " + i(243).locals.red_primary + ";\n}\n.ReactMapComponent_weatherArrowSmall__3y9YS {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-justify-content: flex-start;\n            justify-content: flex-start;\n    height: 33px;\n}\n.ReactMapComponent_weatherComponent__wn4HA {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n    height: 33px;\n    padding-top: 3px;\n}\n.ReactMapComponent_weatherArrowLarge__PWfmi {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-justify-content: flex-start;\n            justify-content: flex-start;\n    margin-left: 5px;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/MapComponent/ReactMapComponent.css"],
            names: [],
            mappings: "AAEA;IACI,mBAAkB;IAClB,YAAW;IACX,cAAa;CACjB;AAEA;IACI,mBAAkB;IAClB,YAAW;IACX,cAAa;CACjB;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,0BAAiB;YAAjB,kBAAiB;IACjB,mBAAkB;IAClB,UAAS;IACT,YAAW;IACX,YAAW;IACX,YAAW;CACf;AAEA;IACI,gBAAe;IACf,YAAW;IACX,UAAS;IACT,WAAU;IACV,sBAAa;IAAb,cAAa;IACb,kCAAyB;YAAzB,0BAAyB;IACzB,cAAa;IACb,YAAW;CACf;AAEA;IACI,iBAAgB;CACpB;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,0BAAiB;YAAjB,kBAAiB;IACjB,gBAAe;IACf,mBAAkB;IAClB,YAAW;IACX,eAAc;IACd,aAAY;IACZ,qCAAoC;IACpC,oBAAmB;IACnB,gDAA6B;IAC7B,iBAAgB;CACpB;AAEA;IACI,mBAAkB;IAClB,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;IACnB,gBAAe;IACf,YAAW;IACX,gBAAe;IACf,mBAAkB;IAClB,oBAAmB;IACnB,aAAY;IACZ,eAAc;IACd,aAAY;IACZ,qCAAoC;IACpC,oBAAmB;IACnB,gDAA6B;IAC7B,iBAAgB;CACpB;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,kCAAyB;YAAzB,0BAAyB;IACzB,WAAU;IACV,iBAAgB;IAChB,oBAAmB;CACvB;AAEA;IACI,UAAS;IACT,WAAU;IACV,iBAAgB;IAChB,gBAAe;CACnB;AAEA;IACI,UAAS;IACT,WAAU;IACV,iBAAgB;CACpB;AAEA;IACI,eAAc;IACd,mCAAgB;CACpB;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,WAAU;IACV,YAAW;IACX,iBAAgB;IAChB,oBAAmB;IACnB,0CAAmB;IACnB,kBAAiB;IACjB,mBAAkB;IAClB,mCAAkB;IAClB,wCAAuB;CAC3B;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,WAAU;IACV,YAAW;IACX,iBAAgB;IAChB,kBAAiB;IACjB,oBAAmB;IACnB,0CAAmB;IACnB,mCAAkB;IAClB,wCAAuB;CAC3B;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,WAAU;IACV,YAAW;IACX,iBAAgB;IAChB,oBAAmB;IACnB,0CAAmB;IACnB,kBAAiB;IACjB,mBAAkB;IAClB,mCAAkB;IAClB,wCAAuB;CAC3B;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,WAAU;IACV,YAAW;IACX,iBAAgB;IAChB,kBAAiB;IACjB,oBAAmB;IACnB,0CAAmB;IACnB,mCAAkB;IAClB,wCAAuB;CAC3B;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;IACnB,oCAA2B;YAA3B,4BAA2B;IAC3B,aAAY;CAChB;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;IACnB,aAAY;IACZ,iBAAgB;CACpB;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;IACnB,oCAA2B;YAA3B,4BAA2B;IAC3B,iBAAgB;CACpB",
            file: "ReactMapComponent.css",
            sourcesContent: ["@value (color_103, color_102, blue_dark_3, red_primary, white) from 'ui-connect/styles/colors.module.css';\n\n.smallActivityMap {\n    position: relative;\n    width: 100%;\n    height: 408px;\n}\n\n.widgetMapView {\n    position: relative;\n    width: 100%;\n    height: 200px;\n}\n\n.weatherContainer {\n    display: flex;\n    flex-wrap: nowrap;\n    position: absolute;\n    top: 10px;\n    right: 12px;\n    width: auto;\n    z-index: 60;\n}\n\n.largeMapViewWeather {\n    position: fixed;\n    right: 10px;\n    top: 10px;\n    width: 40%;\n    display: flex;\n    justify-content: flex-end;\n    z-index: 9999;\n    left: unset;\n}\n\n.fullScreenBtn {\n    margin-left: 5px;\n}\n\n.weather {\n    display: flex;\n    flex-wrap: nowrap;\n    cursor: pointer;\n    margin-bottom: 5px;\n    width: auto;\n    padding: 0 5px;\n    height: 33px;\n    background: rgba(250, 250, 250, 0.9);\n    border-radius: 20px;\n    box-shadow: 0 0 2px color_103;\n    overflow: hidden;\n}\n\n.weatherLarge {\n    position: absolute;\n    display: flex;\n    align-items: center;\n    /* top: 10px; */\n    right: 60px;\n    cursor: pointer;\n    margin-bottom: 5px;\n    /* z-index: 9999; */\n    width: 369px;\n    padding: 0 5px;\n    height: 70px;\n    background: rgba(250, 250, 250, 0.9);\n    border-radius: 30px;\n    box-shadow: 0 0 2px color_103;\n    overflow: hidden;\n}\n\n.weatherDetails {\n    display: flex;\n    justify-content: flex-end;\n    width: 30%;\n    padding-top: 5px;\n    padding-right: 10px;\n}\n\n.weatherDetails ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    font-size: 12px;\n}\n\n.weatherDetails li {\n    margin: 0;\n    padding: 0;\n    line-height: 1.4;\n}\n\n.weatherDetails li.weatherSource {\n    font-size: 9px;\n    color: color_102;\n}\n\n.wavesStartMarker {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-style: solid;\n    border-color: white;\n    border-width: 1px;\n    border-radius: 50%;\n    color: blue_dark_3;\n    background: blue_dark_3;\n}\n\n.wavesEndMarker {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: white;\n    color: blue_dark_3;\n    background: blue_dark_3;\n}\n\n.longestWaveStartMarker {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-style: solid;\n    border-color: white;\n    border-width: 1px;\n    border-radius: 50%;\n    color: red_primary;\n    background: red_primary;\n}\n\n.longestWaveEndMarker {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: white;\n    color: red_primary;\n    background: red_primary;\n}\n\n.weatherArrowSmall {\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    height: 33px;\n}\n\n.weatherComponent {\n    display: flex;\n    align-items: center;\n    height: 33px;\n    padding-top: 3px;\n}\n\n.weatherArrowLarge {\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    margin-left: 5px;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            color_103: "" + i(243).locals.color_103,
            color_102: "" + i(243).locals.color_102,
            blue_dark_3: "" + i(243).locals.blue_dark_3,
            red_primary: "" + i(243).locals.red_primary,
            white: "" + i(243).locals.white,
            smallActivityMap: "ReactMapComponent_smallActivityMap__3kTCD",
            widgetMapView: "ReactMapComponent_widgetMapView__39xAa",
            weatherContainer: "ReactMapComponent_weatherContainer__1YjH4",
            largeMapViewWeather: "ReactMapComponent_largeMapViewWeather__3-xGX",
            fullScreenBtn: "ReactMapComponent_fullScreenBtn__1-psz",
            weather: "ReactMapComponent_weather__1FoHh",
            weatherLarge: "ReactMapComponent_weatherLarge__3coPC",
            weatherDetails: "ReactMapComponent_weatherDetails__3_64q",
            weatherSource: "ReactMapComponent_weatherSource__21-4A",
            wavesStartMarker: "ReactMapComponent_wavesStartMarker__2drdu",
            wavesEndMarker: "ReactMapComponent_wavesEndMarker__2M_gz",
            longestWaveStartMarker: "ReactMapComponent_longestWaveStartMarker__3H8if",
            longestWaveEndMarker: "ReactMapComponent_longestWaveEndMarker__2mKxz",
            weatherArrowSmall: "ReactMapComponent_weatherArrowSmall__3y9YS",
            weatherComponent: "ReactMapComponent_weatherComponent__wn4HA",
            weatherArrowLarge: "ReactMapComponent_weatherArrowLarge__PWfmi"
        }
    },
    1540: function(e, t, i) {
        "use strict";
        var a = i(244)
          , n = i(22)
          , r = i.n(n)
          , o = i(1364)
          , s = i(1327)
          , l = i(1394)
          , c = i(1339);
        function h(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var p = function(e) {
            function t() {
                return function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.apply(this, arguments))
            }
            return h(t, e),
            t.prototype.getChildContext = function() {
                return {
                    popupContainer: this.leafletElement
                }
            }
            ,
            t.prototype.createLeafletElement = function(e) {
                return new a.Marker(e.position,this.getOptions(e))
            }
            ,
            t.prototype.updateLeafletElement = function(e, t) {
                t.position !== e.position && this.leafletElement.setLatLng(t.position),
                t.icon !== e.icon && this.leafletElement.setIcon(t.icon),
                t.zIndexOffset !== e.zIndexOffset && this.leafletElement.setZIndexOffset(t.zIndexOffset),
                t.opacity !== e.opacity && this.leafletElement.setOpacity(t.opacity),
                t.draggable !== e.draggable && (!0 === t.draggable ? this.leafletElement.dragging.enable() : this.leafletElement.dragging.disable())
            }
            ,
            t
        }(o.a);
        p.propTypes = {
            children: s.a,
            draggable: r.a.bool,
            icon: r.a.instanceOf(a.Icon),
            opacity: r.a.number,
            position: l.a.isRequired,
            zIndexOffset: r.a.number
        },
        p.childContextTypes = {
            popupContainer: c.a
        },
        t.a = p
    },
    1553: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(1351)
          , s = i(1897)
          , l = i.n(s)
          , c = o.a.extend({
            template: n.a.template(l.a),
            events: {
                "click li": "onInlineSelectionChanged",
                "change select[name=activityType]": "onActivityTypeChanged"
            },
            initialize: function(e) {
                this.useSelect = e.useSelect,
                this.className = e.className || "",
                e.options && !0 === e.options.showTypeAll && e.items.unshift({
                    name: r.a.localize("any_activity_type"),
                    value: "all",
                    children: []
                }),
                o.a.prototype.initialize.call(this, e),
                this.value = e.value,
                this.$("[data-value=" + this.value + "]").addClass("active")
            },
            onActivityTypeChanged: function(e) {
                e.preventDefault(),
                this.$(".active").removeClass("active");
                var t = this.$("select[name=activityType]").val();
                this.$("[data-value=" + t + "]").addClass("active"),
                this.trigger(o.a.Events.CHANGE, t)
            },
            setActivityType: function(e) {
                this.value = e
            }
        });
        t.a = c
    },
    1554: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(168)
              , c = i(382)
              , h = i(20)
              , p = i(1687)
              , d = i.n(p)
              , u = {
                COMMENT_ADDED: "COMMENT_ADDED"
            }
              , g = o.a.View.extend({
                template: n.a.template(d.a),
                events: {
                    "click .add-comment-button": "onAddCommentClicked",
                    "focus .add-comment-textarea": "onTextareaFocus",
                    "blur .add-comment-textarea": "onTextareaBlur",
                    "click a.profile": "onProfileClicked"
                },
                initialize: function(e) {
                    this.initializeAddCommentView(e)
                },
                initializeAddCommentView: function(e) {
                    this.resourceType = e.resourceType,
                    this.resourceId = e.resourceId,
                    this.conversation = e.conversation,
                    this.maxLength = 1e3
                },
                onAddCommentClicked: function() {
                    this.conversation.isNew() ? (this.conversation.once("sync", this.addComment, this),
                    this.conversation.save()) : this.addComment()
                },
                addComment: function() {
                    var t = this.$(".add-comment-textarea")
                      , i = e.trim(t.val());
                    if (0 !== i.length) {
                        var a = this.createComment(i);
                        a.once("sync", this.onCommentSaved, this),
                        a.save(),
                        t.val(""),
                        t.removeClass("active"),
                        this.$(".add-comment-button-wrapper").hide()
                    }
                },
                createComment: function(e) {
                    var t = this.conversation.get("numberOfComments");
                    return this.conversation.set("numberOfComments", ++t),
                    "VIVOKID_ADHOC_CHALLENGE" === this.resourceType || "VIVOKID_TEAM_CHALLENGE" === this.resourceType ? new c.a({
                        conversationUuid: this.conversation.get("conversationUuid"),
                        conversationCommentUuid: null,
                        body: e,
                        numberOfLikes: 0
                    }) : new l.a({
                        conversationUuid: this.conversation.get("conversationUuid"),
                        conversationCommentUuid: null,
                        body: e,
                        numberOfLikes: 0
                    })
                },
                onCommentSaved: function(e) {
                    this.trigger(u.COMMENT_ADDED, e)
                },
                render: function() {
                    var e = (new Date).getMilliseconds();
                    this.$el.html(this.template({
                        Localizer: s.a,
                        maxLength: this.maxLength,
                        socialProfile: h.a.toJSON(),
                        elementId: e
                    }))
                },
                onTextareaFocus: function(t) {
                    e(t.currentTarget).addClass("active"),
                    this.$(".add-comment-button-wrapper").show()
                },
                onTextareaBlur: function(t) {
                    var i = e(t.currentTarget);
                    i.val().length || (i.removeClass("active"),
                    this.$(".add-comment-button-wrapper").hide())
                },
                onProfileClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation();
                    var t = "/profile/" + h.a.get("displayName");
                    o.a.history.navigate(t, {
                        trigger: !0
                    })
                }
            });
            g.Events = u,
            t.a = g
        }
        ).call(this, i(9))
    },
    1557: function(e, t, i) {
        "use strict";
        var a = function() {
            this.__data__ = [],
            this.size = 0
        }
          , n = i(1632);
        var r = function(e, t) {
            for (var i = e.length; i--; )
                if (Object(n.a)(e[i][0], t))
                    return i;
            return -1
        }
          , o = Array.prototype.splice;
        var s = function(e) {
            var t = this.__data__
              , i = r(t, e);
            return !(i < 0) && (i == t.length - 1 ? t.pop() : o.call(t, i, 1),
            --this.size,
            !0)
        };
        var l = function(e) {
            var t = this.__data__
              , i = r(t, e);
            return i < 0 ? void 0 : t[i][1]
        };
        var c = function(e) {
            return r(this.__data__, e) > -1
        };
        var h = function(e, t) {
            var i = this.__data__
              , a = r(i, e);
            return a < 0 ? (++this.size,
            i.push([e, t])) : i[a][1] = t,
            this
        };
        function p(e) {
            var t = -1
              , i = null == e ? 0 : e.length;
            for (this.clear(); ++t < i; ) {
                var a = e[t];
                this.set(a[0], a[1])
            }
        }
        p.prototype.clear = a,
        p.prototype.delete = s,
        p.prototype.get = l,
        p.prototype.has = c,
        p.prototype.set = h;
        t.a = p
    },
    1558: function(e, t, i) {
        "use strict";
        var a = i(1424)
          , n = i(484)
          , r = Object(a.a)(n.a, "DataView")
          , o = i(1631)
          , s = Object(a.a)(n.a, "Promise")
          , l = Object(a.a)(n.a, "Set")
          , c = Object(a.a)(n.a, "WeakMap")
          , h = i(348)
          , p = i(1798)
          , d = Object(p.a)(r)
          , u = Object(p.a)(o.a)
          , g = Object(p.a)(s)
          , m = Object(p.a)(l)
          , f = Object(p.a)(c)
          , y = h.a;
        (r && "[object DataView]" != y(new r(new ArrayBuffer(1))) || o.a && "[object Map]" != y(new o.a) || s && "[object Promise]" != y(s.resolve()) || l && "[object Set]" != y(new l) || c && "[object WeakMap]" != y(new c)) && (y = function(e) {
            var t = Object(h.a)(e)
              , i = "[object Object]" == t ? e.constructor : void 0
              , a = i ? Object(p.a)(i) : "";
            if (a)
                switch (a) {
                case d:
                    return "[object DataView]";
                case u:
                    return "[object Map]";
                case g:
                    return "[object Promise]";
                case m:
                    return "[object Set]";
                case f:
                    return "[object WeakMap]"
                }
            return t
        }
        );
        t.a = y
    },
    1559: function(e, t, i) {
        "use strict";
        var a = i(3)
          , n = i(436)
          , r = i(437)
          , o = i(81)
          , s = i(80)
          , l = i(82)
          , c = i(10)
          , h = i.n(c)
          , p = i(99)
          , d = i(1391)
          , u = i(1487)
          , g = i(3072)
          , m = i(1646)
          , f = i(1540)
          , y = (i(1317),
        i(244))
          , v = i(449)
          , b = i(83)
          , A = i(21)
          , C = i(1431)
          , w = i.n(C)
          , _ = {
            longestWave: A.red_primary,
            wave: A.blue_dark_3,
            selectedWave: A.yellow_dark_3,
            standardPolyline: A.red_light_3
        }
          , x = {
            surf_icon_size: [8, 8]
        }
          , S = function() {
            function e(t, i, a) {
                Object(n.a)(this, e),
                this.polyline = t,
                this.activityTypedSplits = a,
                this.featureGroup = [],
                this.map = i
            }
            return Object(r.a)(e, [{
                key: "getSurfPolyLine",
                value: function() {
                    var e = this
                      , t = this.getMaxWaveDistance()
                      , i = this.activityTypedSplits.filter(function(e) {
                        return e.distance !== t
                    })
                      , a = this.getTimeRanges(i)
                      , n = this.polyline && this.polyline.geoPolylineDTO && this.polyline.geoPolylineDTO.polyline
                      , r = [];
                    return n && a.forEach(function(t, i) {
                        var a = n.filter(function(e) {
                            return e.time >= t.start && e.time <= t.end
                        });
                        r.push(h.a.createElement(g.a, {
                            key: "".concat(t.key, "-featureGroup"),
                            ref: function(t) {
                                return e.featureGroup.push(t)
                            }
                        }, h.a.createElement(m.a, {
                            positions: a,
                            weight: 3,
                            color: _.wave,
                            key: t.key,
                            onClick: function() {
                                return e.getSelectPolyline(_.wave, "".concat(t.key))
                            }
                        }))),
                        r.push(e.getSurfCircleMarker(a[0], !0, t.key)),
                        r.push(e.getEndSurfMarker(a[a.length - 1], !0, t.key))
                    }),
                    [r]
                }
            }, {
                key: "getSurfLongestWave",
                value: function() {
                    var e = this
                      , t = this.getMaxWaveDistance()
                      , i = this.activityTypedSplits.filter(function(e) {
                        return e.distance === t
                    })
                      , a = this.getTimeRanges(i)
                      , n = this.polyline && this.polyline.geoPolylineDTO && this.polyline.geoPolylineDTO.polyline
                      , r = n && a.length > 0 && n.filter(function(e) {
                        return e.time >= a[0].start && e.time <= a[0].end
                    })
                      , o = [];
                    return n && a.length > 0 && o.push(this.getSurfCircleMarker(r[0], !1, a[0].key)),
                    n && a.length > 0 && o.push(this.getEndSurfMarker(r[r.length - 1], !1, a[0].key)),
                    r && o.push(h.a.createElement(g.a, {
                        key: "".concat(a[0].key, "-featureGroup"),
                        ref: function(t) {
                            e.longestWave = t
                        }
                    }, h.a.createElement(m.a, {
                        positions: r,
                        weight: 3,
                        color: _.longestWave,
                        key: a[0].key,
                        onClick: function() {
                            return e.getSelectPolyline(_.longestWave, "".concat(a[0].key))
                        }
                    }))),
                    [o]
                }
            }, {
                key: "getMaxWaveDistance",
                value: function() {
                    return this.activityTypedSplits.reduce(function(e, t, i, a) {
                        return t.distance > e.distance ? t : e
                    }, {
                        distance: 0
                    }).distance
                }
            }, {
                key: "getSelectPolyline",
                value: function(e, t) {
                    (this.featureGroup || this.longestWave) && (e === _.wave ? this.getWaveSelectedPolyline(t) : this.getLongestWaveSelectPolyline(t))
                }
            }, {
                key: "getLongestWaveSelectPolyline",
                value: function(e) {
                    this.map.wrappedInstance.refs.map.leafletElement.eachLayer(function(t) {
                        t.options.hasOwnProperty("children") && (t.setStyle({
                            color: A.blue_dark_3
                        }),
                        t.setStyle({
                            color: _.wave
                        })),
                        t.options.hasOwnProperty("icon") && (t.options.data === "".concat(e) || t.options.data === "".concat(e) ? (t.getElement().style.backgroundColor = _.selectedWave,
                        t.getElement().style.color = _.selectedWave) : (t.getElement().style.backgroundColor = _.wave,
                        t.getElement().style.color = _.wave))
                    }),
                    this.longestWave.leafletElement.setStyle({
                        color: _.selectedWave
                    })
                }
            }, {
                key: "getWaveSelectedPolyline",
                value: function(e) {
                    var t = this;
                    this.map.wrappedInstance.refs.map.leafletElement.eachLayer(function(i) {
                        i.options.hasOwnProperty("children") && (i.setStyle({
                            color: A.blue_dark_3
                        }),
                        i.setStyle({
                            color: _.wave
                        }),
                        i.options.children.key === "".concat(e) && (i.setStyle({
                            color: A.yellow_dark_3
                        }),
                        i.setStyle({
                            color: _.selectedWave
                        }))),
                        i.options.hasOwnProperty("icon") && (i.options.data === "".concat(e) ? (i.getElement().style.backgroundColor = _.selectedWave,
                        i.getElement().style.color = _.selectedWave) : i.options.data === t.longestWave.props.children.key ? (i.getElement().style.backgroundColor = _.longestWave,
                        i.getElement().style.color = _.longestWave) : (i.getElement().style.backgroundColor = _.wave,
                        i.getElement().style.color = _.wave))
                    }),
                    this.longestWave.leafletElement.setStyle({
                        color: _.longestWave
                    })
                }
            }, {
                key: "getSurfCircleMarker",
                value: function(e, t, i) {
                    var a = this
                      , n = "".concat(t ? w.a.wavesStartMarker : w.a.longestWaveStartMarker)
                      , r = t ? _.wave : _.longestWave
                      , o = Object(y.divIcon)({
                        className: n,
                        iconSize: x.surf_icon_size
                    });
                    return e && h.a.createElement(f.a, {
                        key: "start-marker-".concat(i),
                        data: "".concat(i),
                        icon: o,
                        position: [e.lat, e.lon],
                        bubblingMouseEvents: !0,
                        onClick: function() {
                            return a.getSelectPolyline(r, "".concat(i))
                        }
                    })
                }
            }, {
                key: "getEndSurfMarker",
                value: function(e, t, i) {
                    var a = this
                      , n = "".concat(t ? w.a.wavesEndMarker : w.a.longestWaveEndMarker)
                      , r = t ? _.wave : _.longestWave
                      , o = Object(y.divIcon)({
                        className: n,
                        iconSize: x.surf_icon_size
                    });
                    return e && h.a.createElement(f.a, {
                        key: "end-marker-".concat(i),
                        data: "".concat(i),
                        icon: o,
                        position: [e.lat, e.lon],
                        bubblingMouseEvents: !0,
                        onClick: function() {
                            return a.getSelectPolyline(r, "".concat(i))
                        }
                    })
                }
            }, {
                key: "getTimeRanges",
                value: function(e) {
                    return e.map(function(e) {
                        return {
                            key: e.messageIndex,
                            start: b.a.parseISOUTC(e.startTimeGMT).getTime(),
                            end: b.a.parseISOUTC(e.endTimeGMT).getTime()
                        }
                    })
                }
            }, {
                key: "getStandardPolyLine",
                value: function() {
                    var e = this.polyline && this.polyline.geoPolylineDTO && this.polyline.geoPolylineDTO.polyline;
                    return e && h.a.createElement(m.a, {
                        positions: e,
                        weight: 5,
                        color: _.standardPolyline,
                        key: "activityPolyline"
                    })
                }
            }, {
                key: "getStandardStartMarker",
                value: function() {
                    var e = this.polyline && this.polyline.geoPolylineDTO && this.polyline.geoPolylineDTO.startPoint
                      , t = v.a.getStartMarkerOptions();
                    return e && h.a.createElement(f.a, {
                        key: "startMarker",
                        icon: new y.icon(Object(a.a)({}, t, {
                            iconUrl: t.iconUrl || t.iconURL
                        })),
                        position: [e.lat, e.lon]
                    })
                }
            }, {
                key: "getStandardEndMarker",
                value: function() {
                    var e = this.polyline && this.polyline.geoPolylineDTO && this.polyline.geoPolylineDTO.endPoint
                      , t = v.a.getEndMarkerOptions();
                    return e && h.a.createElement(f.a, {
                        key: "endMarker",
                        icon: new y.icon(Object(a.a)({}, t, {
                            iconUrl: t.iconUrl || t.iconURL
                        })),
                        position: [e.lat, e.lon]
                    })
                }
            }]),
            e
        }()
          , T = i(89)
          , E = i(7)
          , k = i(11)
          , L = i(66)
          , P = i(42)
          , z = i(365)
          , I = i(258)
          , D = {
            fetchActivityPolyline: z.b,
            fetchActivityWeather: I.b,
            setSurfPolylineIndex: z.e
        }
          , B = function(e) {
            function t(e) {
                var i;
                return Object(n.a)(this, t),
                (i = Object(o.a)(this, Object(s.a)(t).call(this, e))).onToggleMapSizeClick = function() {
                    var e = "small" === i.state.mapSize ? "large" : "small";
                    i.setState({
                        mapSize: e
                    }),
                    i.map.wrappedInstance.map._onResize()
                }
                ,
                i.displayWeatherOnMap = function() {
                    var e = i.props
                      , t = e.activity
                      , n = e.weather
                      , r = n && Object(a.a)({}, t, n);
                    return h.a.createElement("div", {
                        className: "weather-large" === i.state.weatherSize ? "".concat(w.a.weatherLarge) : "".concat(w.a.weather),
                        onClick: function() {
                            return i.onToggleWeather()
                        }
                    }, "weather-large" === i.state.weatherSize ? h.a.createElement("div", {
                        className: "".concat(w.a.weatherArrowLarge)
                    }, h.a.createElement(T.a, {
                        ns: "Messages"
                    }, function(e) {
                        return h.a.createElement(L.ButtonIcon, {
                            hideOutline: !0,
                            size: "small",
                            icon: "icon-arrow-right",
                            ariaLabel: e("next"),
                            onClick: function() {
                                i.setState({
                                    weatherSize: "weather-large"
                                })
                            }
                        })
                    })) : h.a.createElement("div", {
                        className: "".concat(w.a.weatherArrowSmall)
                    }, h.a.createElement(T.a, {
                        ns: "Messages"
                    }, function(e) {
                        return h.a.createElement(L.ButtonIcon, {
                            hideOutline: !0,
                            size: "small",
                            icon: "icon-arrow-left",
                            ariaLabel: e("previous"),
                            onClick: function() {
                                i.setState({
                                    weatherSize: "weather-large"
                                })
                            }
                        })
                    })), h.a.createElement("div", {
                        className: "".concat(w.a.weatherComponent)
                    }, h.a.createElement(u.a, {
                        weatherSize: i.state.weatherSize,
                        activity: r
                    })), "weather-large" === i.state.weatherSize && i.weatherDetails())
                }
                ,
                i.fullScreenBtn = function() {
                    return h.a.createElement("div", {
                        className: "".concat(w.a.fullScreenBtn)
                    }, "small" === i.state.mapSize ? h.a.createElement(T.a, {
                        ns: "activity"
                    }, function(e) {
                        return h.a.createElement(L.ButtonIcon, {
                            hideOutline: !1,
                            theme: "map",
                            size: "small",
                            icon: "icon-full-screen",
                            ariaLabel: e("full_screen"),
                            onClick: i.onToggleMapSizeClick
                        })
                    }) : h.a.createElement(T.a, {
                        ns: "activity"
                    }, function(e) {
                        return h.a.createElement(L.ButtonIcon, {
                            hideOutline: !1,
                            theme: "map",
                            size: "small",
                            icon: "icon-close",
                            ariaLabel: e("full_screen"),
                            onClick: i.onToggleMapSizeClick
                        })
                    }))
                }
                ,
                i.weatherDetails = function() {
                    var e = i.props.weather
                      , t = i.convertToCelsius(e.apparentTemp);
                    return h.a.createElement("div", {
                        className: "".concat(w.a.weatherDetails)
                    }, h.a.createElement("ul", null, h.a.createElement("li", {
                        className: "relativity"
                    }, h.a.createElement(T.a, {
                        ns: "activity-api",
                        content: "weather.feels.like"
                    }), "\xa0", k.a.personalizeTemperature(t), "\xb0"), h.a.createElement("li", {
                        className: "wind-details"
                    }, E.a.localize("wind_speed_and_direction", k.a.personalizeWindSpeed(e.windSpeed), E.a.localize(k.a.getWindSpeedUnitKey()), E.a.localize("weather.wind.direction." + e.windDirectionCompassPoint))), h.a.createElement("li", {
                        className: "humidity"
                    }, h.a.createElement(T.a, {
                        ns: "activity",
                        content: "weather_percent_humidity",
                        params: {
                            0: "".concat(e.relativeHumidity)
                        }
                    })), h.a.createElement("li", {
                        className: "".concat(w.a.weatherSource)
                    }, h.a.createElement(T.a, {
                        ns: "activity",
                        content: "weather_source",
                        params: {
                            0: "".concat(e.weatherStationDTO.id)
                        }
                    }))))
                }
                ,
                i.state = {
                    weatherSize: null,
                    mapSize: "small"
                },
                i
            }
            return Object(l.a)(t, e),
            Object(r.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    var e = this.props
                      , t = e.fetchActivityPolyline
                      , i = e.activity
                      , a = e.fetchActivityWeather
                      , n = e.showWeather;
                    t(i.activityId),
                    n && a(i.activityId)
                }
            }, {
                key: "componentDidUpdate",
                value: function(e) {
                    this.props.typeSplitChartIndex !== e.typeSplitChartIndex && this.props.typeSplitChartIndex && this.getChartIndexColorPolyline()
                }
            }, {
                key: "getChartIndexColorPolyline",
                value: function() {
                    var e = this;
                    this.map.wrappedInstance.refs.map.leafletElement.eachLayer(function(t) {
                        t.options.hasOwnProperty("children") && (t.setStyle({
                            color: A.blue_dark_3
                        }),
                        t.options.children.key === "".concat(e.props.typeSplitChartIndex.maxWaveIndex) && t.setStyle({
                            color: A.red_primary
                        }),
                        t.options.children.key === "".concat(e.props.typeSplitChartIndex.index) && t.setStyle({
                            color: A.yellow_dark_3
                        })),
                        t.options.hasOwnProperty("icon") && (t.options.data === "".concat(e.props.typeSplitChartIndex.index) ? (t.getElement().style.backgroundColor = A.yellow_dark_3,
                        t.getElement().style.color = A.yellow_dark_3) : t.options.data === "".concat(e.props.typeSplitChartIndex.maxWaveIndex) ? (t.getElement().style.backgroundColor = A.red_primary,
                        t.getElement().style.color = A.red_primary) : (t.getElement().style.backgroundColor = A.blue_dark_3,
                        t.getElement().style.color = A.blue_dark_3))
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var e = this
                      , t = this.props
                      , i = (t.activity,
                    t.polyline,
                    t.activityTypeKey,
                    t.weather)
                      , a = t.showWeather
                      , n = t.showFullScreen
                      , r = t.doubleClickZoom
                      , o = t.scrollWheelZoom
                      , s = t.hideMapProviderSwitch
                      , l = t.hideZoomControls
                      , c = t.widget
                      , u = t.store
                      , g = "".concat(c ? w.a.widgetMapView : w.a.smallActivityMap)
                      , m = "small" === this.state.mapSize ? g : "row-fluid bottom-s activity-map full-screen-map"
                      , f = "small" === this.state.mapSize ? "".concat(w.a.weatherContainer) : "".concat(w.a.largeMapViewWeather);
                    return h.a.createElement(p.a, {
                        store: u
                    }, h.a.createElement("div", {
                        className: m
                    }, h.a.createElement(d.a, {
                        ref: function(t) {
                            e.map = t
                        },
                        overlay: "activity",
                        hideMapProviderSwitch: s,
                        hideZoomControls: l,
                        doubleClickZoom: r,
                        scrollWheelZoom: o,
                        mapItems: this.getMapItems(),
                        onClick: function() {
                            return e.getSelectedIndex()
                        },
                        bounds: this.getMapBounds(),
                        mapPreferenceKey: "Map.Setting.Activities"
                    }), h.a.createElement("div", {
                        className: f
                    }, i.weatherStationDTO && a && this.displayWeatherOnMap(), n && this.fullScreenBtn())))
                }
            }, {
                key: "getMapBounds",
                value: function() {
                    var e = this.props.polyline;
                    return e && e.geoPolylineDTO && e.geoPolylineDTO.polyline
                }
            }, {
                key: "getSelectedIndex",
                value: function() {
                    var e = this.props
                      , t = e.activityTypeKey;
                    e.activity.hasSplits && P.h.isSurfingActivity(t) && this.getSurfSelectedIndex()
                }
            }, {
                key: "getSurfSelectedIndex",
                value: function() {
                    var e, t = this.props, i = t.setSurfPolylineIndex, a = t.activityTypedSplits;
                    this.map.wrappedInstance.refs.map.leafletElement.eachLayer(function(t) {
                        t.options.hasOwnProperty("children") && t.options.color === A.yellow_dark_3 && (e = t.options.children.key)
                    });
                    var n = [];
                    a && (n = a.filter(function(e) {
                        return "SURF_ACTIVE" === e.type
                    }));
                    var r = n.reduce(function(e, t, i, a) {
                        return t.distance > e.distance ? t : e
                    }, {
                        distance: 0
                    }).messageIndex;
                    i({
                        index: parseInt(e),
                        maxWaveIndex: r
                    })
                }
            }, {
                key: "onToggleWeather",
                value: function() {
                    "weather-large" === this.state.weatherSize ? this.setState({
                        weatherSize: null
                    }) : this.setState({
                        weatherSize: "weather-large"
                    })
                }
            }, {
                key: "getMapItems",
                value: function() {
                    var e = this.props
                      , t = e.activityTypeKey
                      , i = e.polyline
                      , a = e.activityTypedSplits;
                    return function(e, t, i, a) {
                        var n = e
                          , r = []
                          , o = new S(t,i,a);
                        switch (n) {
                        case "surfing":
                            return a && a.length > 0 ? (r.push(o.getSurfPolyLine()),
                            r.push(o.getSurfLongestWave())) : (r.push(o.getStandardPolyLine()),
                            r.push(o.getStandardStartMarker()),
                            r.push(o.getStandardEndMarker())),
                            r;
                        default:
                            return r.push(o.getStandardPolyLine()),
                            r.push(o.getStandardStartMarker()),
                            r.push(o.getStandardEndMarker()),
                            r
                        }
                    }(t, i, this.map, a)
                }
            }, {
                key: "convertToCelsius",
                value: function(e) {
                    return null != e ? 5 * (e - 32) / 9 : null
                }
            }]),
            t
        }(h.a.Component);
        t.a = Object(p.b)(function(e, t) {
            return {
                polyline: Object(z.c)(e, t.activity.activityId),
                weather: Object(I.c)(e),
                typeSplitChartIndex: Object(z.d)(e)
            }
        }, D)(B)
    },
    1563: function(e, t, i) {
        "use strict";
        function a(e, t) {
            if (null == e)
                return {};
            var i, a, n = function(e, t) {
                if (null == e)
                    return {};
                var i, a, n = {}, r = Object.keys(e);
                for (a = 0; a < r.length; a++)
                    i = r[a],
                    t.indexOf(i) >= 0 || (n[i] = e[i]);
                return n
            }(e, t);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                for (a = 0; a < r.length; a++)
                    i = r[a],
                    t.indexOf(i) >= 0 || Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i])
            }
            return n
        }
        i.d(t, "a", function() {
            return a
        })
    },
    1564: function(e, t, i) {
        "use strict";
        var a = i(80);
        function n(e, t, i) {
            return (n = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e, t, i) {
                var n = function(e, t) {
                    for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = Object(a.a)(e)); )
                        ;
                    return e
                }(e, t);
                if (n) {
                    var r = Object.getOwnPropertyDescriptor(n, t);
                    return r.get ? r.get.call(i) : r.value
                }
            }
            )(e, t, i || e)
        }
        i.d(t, "a", function() {
            return n
        })
    },
    1570: function(e, t, a) {
        "use strict";
        var n = a(8)
          , r = a.n(n)
          , o = a(0)
          , s = a.n(o)
          , l = a(11)
          , c = a(7)
          , h = a(13)
          , p = a.n(h)
          , d = a(1366)
          , u = a(1349)
          , g = a(248)
          , m = function(e) {
            this.activitySummary = e.activitySummary,
            this.activityDetails = e.activityDetails,
            this.activitySplits = e.activitySplits,
            this.activityTypedSplits = e.activityTypedSplits,
            this.activitySplitSummaries = e.activitySplitSummaries,
            this.activityWorkouts = e.activityWorkouts,
            this.usersWeight = e.usersWeight,
            this.xAxisType = e.xAxisType,
            this.props = e.props,
            this.plotBands = this.createHighChartsPlotBandsOptions(),
            this.mean = this.getAvgValue()
        };
        r.a.extend(m.prototype, {
            yAxisMinMaxPadding: "padded",
            reset: function() {
                this.data = null
            },
            createHighChartsPlotBandsOptions: function() {
                return []
            },
            hasAvgValue: function() {
                var e = this.activitySummary.get(this.avgValueKey);
                return !r.a.isUndefined(e) && null != e
            },
            getColor: function(e) {
                return this.chartColorMapperObject.mapSeriesType(this, e)
            },
            getAvgValue: function(e) {
                var t = this.activitySummary.get(this.avgValueKey);
                if (!r.a.isUndefined(t) && null != t)
                    return this.conversionFunction(t, e || this.measurementSystem())
            },
            shouldBeVisible: function() {
                return !0
            },
            setXAxisType: function(e) {
                this.xAxisType = e
            },
            formatToolTipRow: function(e, t, i, a, n, r, o) {
                return this.formattingFunction(i) + " " + a
            },
            canShowChartSelector: function() {
                return !1
            },
            colorMapper: null,
            chartColorMapperObject: null,
            formattingFunction: r.a.identity,
            conversionFunction: r.a.identity,
            generateData: function(e, t) {
                return this.data && !t ? this.data : (e = e || this.colorMapper || function() {}
                ,
                this.data = this.getData(),
                this.mainChartFilter && (this.data = this.mainChartFilter(this.data)),
                this.data && (this.data = this.buildData(e, t)),
                this.data)
            },
            getData: function() {
                return this.activityDetails.getData(this.seriesKey, this.getXAxisKey())
            },
            hasData: function() {
                return this.activityDetails.hasData(this.seriesKey)
            },
            buildData: function(e, t) {         // TX !!! bookmark - buidling the graph data array
                for (var i, a, n = [], r = 0, o = this.data.length; r < o; r++)
                    this.data[r] && (i = this.data[r][0],
                    this.xAxisType === u.a.Distance && (i = l.a.convertDistance(i, this.activitySummary.getActivityTypeKey())),
                    a = this.data[r][1],
                    n[r] = {
                        x: i,
                        y: null === a ? null : this.conversionFunction(a, this.measurementSystem()),
                        dist: l.a.convertDistance(this.data[r][2], this.activitySummary.getActivityTypeKey()),     // TX GCOverrides - distance added (always)
                        color: e.call(this, a)
                    });
                return n
            },
            generateWorkoutData: function() {
                var e = {
                    workoutData: [],
                    allZeros: !0
                }
                  , t = [];
                if (this.workoutTargetTypes && this.activityWorkouts && this.activityWorkouts.models.length > 0) {
                    var i = this.activitySplits.get("lapDTOs");
                    r.a.each(i, function(a, n) {
                        var o = this.getWorkoutStep(a)
                          , s = !1
                          , l = !1;
                        if (o) {
                            var c = !0;
                            this.isWorkoutTargetSupported(o) && (e.allZeros = !1,
                            c = !1,
                            n > 0 && !this.isWorkoutTargetSupported(i[n - 1], !0) && (s = !0),
                            n < i.length - 1 && !this.isWorkoutTargetSupported(i[n + 1], !0) && (l = !0)),
                            t = this.buildWorkoutData(o, n, s, l, c),
                            r.a.each(t, function(t) {
                                e.workoutData.push(t)
                            })
                        }
                    }, this)
                }
                return e
            },
            buildWorkoutData: function(e, t, i, a, n) {
                var r, o, s, c, h = [], u = d.a.findClosest(this.activityDetails.get("directTimestamp"), p.a.utc(this.activitySplits.get("lapDTOs")[t].startTimeGMT).valueOf());
                if (o = (r = t === this.activitySplits.get("lapDTOs").length - 1 ? this.activityDetails.get("directTimestamp").length : d.a.findClosest(this.activityDetails.get("directTimestamp"), p.a.utc(this.activitySplits.get("lapDTOs")[t + 1].startTimeGMT).valueOf())) - u,
                null !== e.targetValueLow && null !== e.targetValueHigh) {
                    var g = (e.targetValueLow + e.targetValueHigh) / 2;
                    s = this.conversionFunction(g, this.measurementSystem())
                } else
                    s = null !== e.targetValue ? this.conversionFunction(e.targetValue, this.measurementSystem()) : this.conversionFunction(0, this.measurementSystem());
                if (n && (s = this.reversed ? null : 0),
                c = this.reversed ? s : 0,
                "sumDuration" === this.xAxisType) {
                    !0 === i && h.push([this.activityDetails.get("sumDuration")[u] - 1e-4, c]);
                    for (var m = 0; m < o; m++)
                        h.push([this.activityDetails.get("sumDuration")[u + m], s]);
                    !0 === a && h.push([this.activityDetails.get("sumDuration")[r] + 1e-4, c])
                } else {
                    var f, y;
                    !0 === i && (f = l.a.convertDistance(this.activityDetails.get("sumDistance")[u], this.activitySummary.getActivityTypeKey()),
                    h.push([f - 1e-4, c]));
                    for (var v = 0; v < o; v++) {
                        var b = l.a.convertDistance(this.activityDetails.get("sumDistance")[u + v], this.activitySummary.getActivityTypeKey());
                        h.push([b, s])
                    }
                    !0 === a && (y = l.a.convertDistance(this.activityDetails.get("sumDistance")[r], this.activitySummary.getActivityTypeKey()),
                    h.push([y + 1e-4, c]))
                }
                return h
            },
            getWorkoutStep: function(e) {
                var t = this.activityWorkouts.models
                  , i = e.wktIndex
                  , a = null
                  , n = r.a.find(t, function(e) {
                    return e.get("index") === i
                });
                if (n) {
                    var o = n.get("steps");
                    a = r.a.find(o, function(t) {
                        return t.stepIndex === e.wktStepIndex
                    })
                }
                return a
            },
            generatePaceProAvgData: function(e) {
                var t = this
                  , i = {
                    paceProData: [],
                    isPacePro: this.paceProCompatible
                }
                  , a = this.activityTypedSplits.toJSON()
                  , n = [];
                return a.forEach(function(e, i) {
                    e.type === g.a && (n.push(t.buildPaceProStartAvgData(e)),
                    n.push(t.buildPaceProEndAvgData(e)))
                }),
                n.length > 0 && (n = this.buildPaceProAllAvgData(n, e),
                "sumDuration" === this.xAxisType ? n.forEach(function(e, a) {
                    i.paceProData.push([t.activityDetails.get("sumDuration")[a], e[1]])
                }) : n.forEach(function(e, a) {
                    i.paceProData.push([l.a.convertDistance(t.activityDetails.get("sumDistance")[a], t.activitySummary.getActivityTypeKey()), e[1]])
                })),
                i
            },
            buildPaceProStartAvgData: function(e) {
                var t = []
                  , i = d.a.findClosest(this.activityDetails.get("directTimestamp"), p.a.utc(e.startTimeGMT).valueOf());
                return t.push(i, l.a.convertFractionalPace(e.targetDistance / e.targetDuration)),
                t
            },
            buildPaceProEndAvgData: function(e) {
                var t = []
                  , i = d.a.findClosest(this.activityDetails.get("directTimestamp"), p.a.utc(e.endTimeGMT).valueOf());
                return t.push(i, l.a.convertFractionalPace(e.targetDistance / e.targetDuration)),
                t
            },
            buildPaceProAllAvgData: function(e, t) {
                var a = e[e.length - 1][0]
                  , n = Array.from({
                    length: a
                }, function(e, t) {
                    return [t, t]
                });
                return e.forEach(function(t, a) {
                    var r = t[0]
                      , o = e[a + 1] ? e[a + 1][0] : null;
                    if (0 === a)
                        for (i = 0; i < t[0]; i++)
                            n[i] = [i, null];
                    if (null !== o)
                        for (i = r; i <= o; i++)
                            n[i] = [i, t[1]]
                }),
                n
            },
            getXAxisKey: function() {
                return this.xAxisType
            },
            getClosestPoint: function(e) {
                for (var t = this.data, i = t.length, a = 0; a < i && !(t[a].x >= e); a++)
                    ;
                var n = Math.min(t.length - 1, a);
                if (n > 0 && t[n].x != e) {
                    var r = Math.abs(t[n].x - e);
                    Math.abs(t[n - 1].x - e) < r && n--
                }
                return {
                    data: this.data[n],
                    index: n
                }
            },
            measurementSystem: function() {
                return l.a.measurementSystem
            },
            getLowerRange: function(e, t, i) {
                var a = this.calculateMean(t);
                if (e) {
                    var n = this.calculateStdDeviation(t) * e;
                    return Math.max(a - n, 0)
                }
                return this.calculateMin(t, i)
            },
            getUpperRange: function(e, t) {
                var i = this.calculateMean(t);
                return e ? i + this.calculateStdDeviation(t) * e : this.calculateMax()
            },
            getLowerRangeWithMinRange: function(e, t) {
                var i = this.getLowerRange(0, !1, t)
                  , a = this.getUpperRange(0) - i;
                return a < e && (i -= (e - a) / 2),
                i
            },
            getUpperRangeWithMinRange: function(e) {
                var t = this.getLowerRange(0)
                  , i = this.getUpperRange(0)
                  , a = i - t;
                return a < e && (i += (e - a) / 2),
                i
            },
            calculateMean: function(e) {
                if ("undefined" === typeof this.mean || null === this.mean) {
                    var t, i, a = this.yValueFunc(), n = 0, r = 0;
                    if (e)
                        for (i = 0; i < this.data.length; i++)
                            (t = a(this.data[i])) && (n += t,
                            r++);
                    else
                        for (i = 0; i < this.data.length; i++)
                            n += t = a(this.data[i]),
                            r++;
                    r && (this.mean = n / r)
                }
                return this.mean
            },
            calculateStdDeviation: function(e) {
                if (null === this.stdDev || "undefined" === typeof this.stdDev) {
                    var t, i, a, n = this.calculateMean(), o = this.yValueFunc(), s = [];
                    if (e)
                        for (i = 0; i < this.data.length; i++)
                            (a = o(this.data[i])) && (t = a - n,
                            s.push(t * t));
                    else
                        for (i = 0; i < this.data.length; i++)
                            t = o(this.data[i]) - n,
                            s.push(t * t);
                    if (s.length) {
                        var l = r.a.reduce(s, function(e, t) {
                            return e + t
                        }) / s.length;
                        this.stdDev = Math.sqrt(l)
                    } else
                        this.stdDev = 0;
                    return this.stdDev
                }
                return this.stdDev
            },
            calculateMax: function(e) {
                if (!this.maxValue) {
                    var t = this.yValueFunc();
                    this.maxValue = e ? r.a.max(this.data, function(i) {
                        return t(i) >= e ? -999999 : t(i)
                    }) : r.a.max(this.data, t),
                    this.maxValue && (this.maxValue = t(this.maxValue))
                }
                return this.maxValue
            },
            yValueFunc: function(e) {
                var t = e || this.data;
                return Array.isArray(t[0]) ? function(e) {
                    return e[1]
                }
                : function(e) {
                    return e.y
                }
            },
            xValueFunc: function() {
                return Array.isArray(this.data[0]) ? function(e) {
                    return e[0]
                }
                : function(e) {
                    return e.x
                }
            },
            calculateMin: function(e, t) {
                if (!this.minValue) {
                    var i = this.yValueFunc();
                    this.minValue = e || t ? t && !e ? r.a.min(this.data, function(e) {
                        if (null !== e.y)
                            return i(e)
                    }) : r.a.min(this.data, function(e) {
                        return i(e) || 99999999
                    }, this) : r.a.min(this.data, i),
                    this.minValue && (this.minValue = i(this.minValue))
                }
                return this.minValue
            },
            filter: function(e, t) {
                if (!e || e.length < 2)
                    return e;
                for (var i, a = e[0], n = e[e.length - 1], r = this.yValueFunc(e), o = [a], s = 1; s < e.length; s++)
                    t(r(i = e[s])) || o.push(i);
                return o.length < 2 ? [a, n] : (t(r(a)) && ("undefined" != typeof a.y ? a.y = o[1].y : a[1] = o[1][1]),
                n !== o[o.length - 1] && (o.push(n),
                "undefined" != typeof n.y ? n.y = o[o.length - 1].y : n[1] = o[o.length - 2][1]),
                o)
            },
            isZero: function(e) {
                return 0 === e
            },
            isNegative: function(e) {
                return e < 0
            },
            filterZeros: function(e) {
                return this.filter(e, this.isZero)
            },
            filterNulls: function(e) {
                return this.filter(e, r.a.isNull)
            },
            filterBadPCOs: function(e) {
                return this.filter(e, this.getIsBadPCOTest())
            },
            getIsBadPCOTest: function() {
                var e = this.min
                  , t = this.max;
                return function(i) {
                    return r.a.isNull(i) || i > t || i < e
                }
            },
            filterNegatives: function(e) {
                return this.filter(e, this.isNegative)
            },
            filterValues: function(e) {
                if (!this.data || this.data.length < 2)
                    return this.data;
                var t = this.calculateMean();
                if (!t)
                    return this.data;
                for (var i, a, n = this.yValueFunc(), r = this.data[0], o = this.data[this.data.length - 1], s = this.calculateStdDeviation() * e, l = t - s, c = t + s, h = [], p = 0; p < this.data.length; p++)
                    (a = n(i = this.data[p])) >= l && a <= c && h.push(i);
                return r[1] = Math.min(c, n(r)),
                o[1] = Math.min(c, n(o)),
                r[1] = Math.max(l, n(r)),
                o[1] = Math.max(l, n(o)),
                h[0] = r,
                h.push(o),
                h
            },
            filterRestsIfXAxisIsDistance: function(e) {
                if (!e || e.length < 2 || this.xAxisType != u.a.SwimDistance)
                    return e;
                for (var t, i, a = this.xValueFunc(), n = [], r = e.length - 1, o = 0; o < r; o++)
                    t = e[o],
                    i = e[o + 1],
                    a(t) != a(i) && n.push(t);
                var s = e[e.length - 1];
                return n.push(s),
                n
            },
            getExtremeMax: function() {
                var e = Math.abs(this.calculateMin())
                  , t = Math.abs(this.calculateMax());
                return t >= e ? t : e
            },
            getExtremeMin: function() {
                return -this.getExtremeMax()
            },
            isWorkoutTargetSupported: function(e, t) {
                var i = e;
                t && (i = this.getWorkoutStep(e));
                var a = !1;
                return i && (a = r.a.indexOf(this.workoutTargetTypes, i.targetType) >= 0),
                a
            },
            getName: function() {
                return this.name
            },
            getUniqueName: function() {
                return this.getName()
            },
            getLabel: function() {
                var e = this.parentLabel || this.label;
                return e instanceof Array ? c.a.localize(e[0], c.a.localize(e[1])) : c.a.localize(e)
            },
            isTransparentSeries: function() {
                return !!this.isTransparent
            },
            isSeriesWithRest: function() {
                return !!this.isRest
            }
        }),
        m.extend = s.a.Model.extend,
        t.a = m
    },
    1571: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/cyclingDynamicsForMaxAvgPowerDuration?startTimeMillis=" + this.startTime + "&durationInSeconds=" + this.duration
            },
            initialize: function(e) {
                this.activityId = e.activityId,
                this.startTime = e.startTimeMilliseconds,
                this.duration = e.duration
            },
            setData: function(e, t) {
                this.startTime = e,
                this.duration = t
            },
            getStartTime: function() {
                return this.get("maxAverageDTO").timerDurationStartMillis
            },
            getEndTime: function() {
                return this.get("maxAverageDTO").timerDurationEndMillis
            },
            getStartDistance: function() {
                return this.get("maxAverageDTO").startDistance / 100
            },
            getEndDistance: function() {
                return this.get("maxAverageDTO").endDistance / 100
            },
            getValue: function() {
                return this.get("maxAverageDTO").value
            }
        });
        t.a = n
    },
    1572: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(11)
          , r = {
            getDurationLabelValue: function(e) {
                switch (e) {
                case -1:
                    return a.a.localize("avg_power_range_none");
                case 5:
                    return a.a.localize("avg_power_range_customsec", 5);
                case 60:
                    return a.a.localize("avg_power_range_custommin", 1);
                case 300:
                    return a.a.localize("avg_power_range_custommin", 5);
                case 1200:
                    return a.a.localize("avg_power_range_custommin", 20)
                }
                return null
            },
            getCustomDurationLabelValue: function(e, t) {
                return a.a.localize("avg_power_max_avg", a.a.localize("avg_power_range_custom" + t, e))
            },
            formatLabel: function(e) {
                return a.a.localize("avg_power_max_avg", this.getDurationLabelValue(e))
            },
            formatAvgTimeValue: function(e, t, i) {
                return n.a.personalizePower(i) + " " + a.a.localize(n.a.getPowerUnitKey()) + " (" + n.a.personalizeDuration(e) + "-" + n.a.personalizeDuration(t) + ")"
            },
            formatAvgDistanceValue: function(e, t, i) {
                return n.a.personalizePower(i) + " " + a.a.localize(n.a.getPowerUnitKey()) + " (" + n.a.personalizeDistance(e) + "-" + n.a.personalizeDistance(t) + ")"
            },
            isCustomRange: function(e) {
                return -1 !== e && 5 !== e && 60 !== e && 300 !== e && 1200 !== e
            }
        };
        t.a = r
    },
    1574: function(e, t, i) {
        "use strict";
        var a = {
            determineMETS: function(e, t) {
                switch (e) {
                case "running":
                case "street_running":
                case "track_running":
                case "trail_running":
                case "virtual_run":
                case "obstacle_run":
                case "treadmill_running":
                case "indoor_running":
                    return !t || t < 5.2 ? 8 : t < 5.5 ? 9 : t < 5.7 ? 9.3 : t < 6 ? 9.7 : t < 6.3 ? 10 : t < 6.7 ? 10.5 : t < 7 ? 11 : t < 7.5 ? 11.5 : t < 8 ? 12.5 : t < 8.6 ? 13.5 : t < 9 ? 14 : t < 10 ? 15 : t < 10.9 ? 16 : 18;
                case "cycling":
                case "mountain_biking":
                    return t ? t < 10 ? 4 : t < 12 ? 6 : t < 14 ? 8 : t < 16 ? 10 : 12 : 8;
                case "cyclocross":
                case "downhill_biking":
                case "indoor_cycling":
                case "recumbent_cycling":
                case "road_biking":
                case "virtual_ride":
                case "gravel_cycling":
                case "track_cycling":
                case "onshore_grinding":
                    return t ? t < 10 ? 4 : t < 12 ? 6 : t < 14 ? 8 : t < 16 ? 10 : 12 : 8.5;
                case "driving_general":
                case "flying":
                case "rc_drone":
                    return 2;
                case "motorcycling":
                case "boating":
                case "yoga":
                    return 2.5;
                case "walking":
                case "casual_walking":
                case "sailing":
                case "steps":
                case "wind_kite_surfing":
                case "surfing":
                case "pilates":
                    return 3;
                case "snowmobiling_ws":
                case "sky_diving":
                case "hang_gliding":
                case "wingsuit_flying":
                    return 3.5;
                case "horseback_riding":
                case "motocross":
                case "atv":
                case "hunting_fishing":
                    return 4;
                case "golf":
                    return 4.5;
                case "elliptical":
                case "strength_training":
                case "speed_walking":
                case "whitewater_rafting_kayaking":
                    return 5;
                case "fitness_equipment":
                case "indoor_cardio":
                case "hiking":
                case "wakeboarding":
                    return 6;
                case "floor_climbing":
                    return 6.4;
                case "indoor_rowing":
                case "backcountry_skiing_snowboarding_ws":
                case "paddling":
                case "resort_skiing_snowboarding_ws":
                case "rowing":
                case "skate_skiing_ws":
                case "skating_ws":
                case "stand_up_paddleboarding":
                case "tennis":
                    return 7;
                case "hiit":
                case "cross_country_skiing_ws":
                case "snow_shoe_ws":
                    return 8;
                case "bmx":
                    return 8.5;
                case "stair_climbing":
                    return 9;
                case "swimming":
                case "lap_swimming":
                case "open_water_swimming":
                    return 6;
                case "rock_climbing":
                    return 11;
                case "inline_skating":
                    return 12;
                case "mountaineering":
                    return 16.5
                }
                return null
            },
            autoCalcCalories: function(e, t, i, n) {
                if (t && e && i) {
                    var r = i / 3600
                      , o = Math.round(n / r * .000621371192 * 10) / 10;
                    return Math.round(a.determineMETS(e, o) * t * r)
                }
                return null
            }
        };
        t.a = a
    },
    1577: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(0)
              , n = i.n(a)
              , r = i(7)
              , o = i(1616)
              , s = n.a.Collection.extend({
                model: o.a,
                url: "/proxy/activity-service/activity/eventTypes",
                findByTypeId: function(e) {
                    return this.find(function(t) {
                        return e == t.get("typeId")
                    })
                },
                findByTypeKey: function(e) {
                    return this.find(function(t) {
                        return e == t.get("typeKey")
                    })
                },
                toJSON: function() {
                    var t = n.a.Collection.prototype.toJSON.apply(this, arguments);
                    return e.reject(t, function(e) {
                        return "all" == e.typeKey
                    })
                },
                comparator: function(e, t) {
                    return r.a.localize(e.get("typeKey")).toLowerCase().localeCompare(r.a.localize(t.get("typeKey")).toLowerCase())
                }
            });
            t.a = s
        }
        ).call(this, i(8))
    },
    1578: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(8)
              , r = i.n(n)
              , o = i(9)
              , s = i.n(o)
              , l = i(0)
              , c = i.n(l)
              , h = i(7)
              , p = i(60)
              , d = i(1360)
              , u = i(1618)
              , g = i.n(u)
              , m = {
                ON_MAP_PROVIDER_CHANGED: "ON_MAP_PROVIDER_CHANGED",
                ON_CUSTOM_LAYER_CLICKED: "ON_CUSTOM_LAYER_CLICKED",
                ON_MAP_COORDINATE_SYSTEM_SELECTED: "ON_MAP_COORDINATE_SYSTEM_SELECTED"
            }
              , f = c.a.View.extend({
                events: {
                    'click [class^="map-provider-"]': "onMapProviderSelected",
                    'click [class^="map-type-"]': "onMapTypeSelected",
                    "click .map-layer-terrain": "onMapStyleTerrainSelected",
                    "click .map-layer-trails": "onMapStyleTrailsSelected",
                    "click .map-layer-labels": "onMapStyleLabelsSelected",
                    "click .map-layer-running-heatmap": "onMapStyleRunningHeatmapSelected",
                    "click .map-layer-cycling-heatmap": "onMapStyleCyclingHeatmapSelected",
                    "click .map-coordinate-system": "onMapCoordinateSystemSelected",
                    "click .zoomIn": "onZoomInClicked",
                    "click .zoomOut": "onZoomOutClicked",
                    "click .additional-layers": "onAdditionalLayersClicked",
                    "click .dropdown-trigger": "onDropdownTriggerClicked"
                },
                initialize: function(e) {
                    if (!e.mapView)
                        throw "MapView object required by MapControls";
                    this.mapType = "road",
                    this.layersEnabled = [],
                    this.userMapSetting = e.userMapSetting,
                    this.mapView = e.mapView,
                    this.hideHeatMaps = e.hideHeatMaps,
                    this.template = r.a.template(g.a),
                    this.additionalMapLayers = e.additionalMapLayers || [],
                    this.displayMetricTrackLogTooltip = e.displayMetricTrackLogTooltip || !1,
                    this.metricTracklogFeatureOverlayPersisted = !1,
                    this.mapView.once(d.a.Events.ON_MAP_READY, this.onMapReady, this)
                },
                setAdditionalMapLayers: function(e) {
                    this.additionalMapLayers = e || [],
                    this.lastSelectedCustomLayerClicked = null;
                    var t = this;
                    this.additionalMapLayers.forEach(function(e) {
                        e.selected && (t.lastSelectedCustomLayerClicked = e.value)
                    }),
                    this.additionalMapLayers.length > 0 && this.render()
                },
                onMapReady: function() {
                    this.userMapSetting && (this.mapType = this.userMapSetting.getMapType(),
                    this.mapView.changeMapStyle(this.mapType),
                    1 == this.userMapSetting.getTerrain() && this.mapView.hasTerrainSupport() && (this.mapType == e.Map.Utils.MAP_STYLE_ROAD && this.mapView.changeMapStyle(e.Map.Utils.MAP_STYLE_TERRAIN),
                    this.toggleLayerEnabled("terrain")),
                    1 == this.userMapSetting.getTrails() && this.mapView.hasTrailSupport() && (this.mapView.toggleBicycleLayer(!0),
                    this.toggleLayerEnabled("trails")),
                    1 == this.userMapSetting.getLabels() && (this.mapView.hasLabelSupport() && this.mapType == e.Map.Utils.MAP_STYLE_SATELLITE && this.mapView.changeMapStyle(e.Map.Utils.MAP_STYLE_HYBRID),
                    this.toggleLayerEnabled("labels")),
                    this.hideHeatMaps || (this.userMapSetting.getHeatMapsRunning() && this.mapView.hasHeatmapSupport() && (e.Map.Utils.activityType = "running",
                    this.mapView.enableHeatMaps(!0, "running"),
                    this.toggleLayerEnabled("running-heatmap")),
                    this.userMapSetting.getHeatMapsCycling() && this.mapView.hasHeatmapSupport() && (e.Map.Utils.activityType = "cycling",
                    this.mapView.enableHeatMaps(!0, "cycling"),
                    this.toggleLayerEnabled("cycling-heatmap"))));
                    this.render()
                },
                render: function() {
                    this.$el.html(this.template({
                        Localizer: h.a,
                        hideHeatMaps: this.hideHeatMaps,
                        additionalMapLayers: this.additionalMapLayers
                    }));
                    var t = this.mapProvider ? this.mapProvider : this.mapView.getMapProviderType();
                    (this.$(".map-provider-" + t).addClass("active"),
                    t === e.Map.Utils.PROVIDER_TYPE_OSM && (this.mapType = "road",
                    this.$(".map-type-satellite").hide()),
                    this.$(".map-type-" + this.mapType).addClass("active"),
                    r.a.each(this.layersEnabled, function(e) {
                        this.$(".map-layer-" + e).addClass("active multiple")
                    }, this),
                    this.mapType == e.Map.Utils.MAP_STYLE_ROAD && this.mapView.hasTerrainSupport() || this.$(".map-layer-terrain").addClass("disabled"),
                    this.mapView.hasTrailSupport() || this.$(".map-layer-trails").addClass("disabled"),
                    this.mapType == e.Map.Utils.MAP_STYLE_SATELLITE && this.mapView.hasLabelSupport() || this.$(".map-layer-labels").addClass("disabled"),
                    this.mapView.hasHeatmapSupport() || (this.$(".map-layer-running-heatmap").addClass("disabled"),
                    this.$(".map-layer-cycling-heatmap").addClass("disabled")),
                    this.mapView.disableBaidu()) ? this.$(".map-provider-BAIDU_V_1_4").remove() : (-1 != window.location.href.indexOf("garmin.cn") || window.chinaMode) && (this.$(".map-provider-google").remove(),
                    this.$(".map-provider-here").remove(),
                    this.$(".map-provider-osm").remove());
                    this.mapView.getMapProviderType() == e.Map.Utils.PROVIDER_TYPE_BAIDU && this.$(".map-coordinate-system").show(),
                    this.renderMapOverlayTooltip()
                },
                renderMapOverlayTooltip: function() {
                    var e = this;
                    if (this.displayMetricTrackLogTooltip && this.lastSelectedCustomLayerClicked) {
                        var t = this.additionalMapLayers.find(function(t) {
                            return t.value === e.lastSelectedCustomLayerClicked
                        });
                        if (this.$(".map-control-item.has-tooltip").tooltip().attr("data-original-title", "<span>".concat(h.a.localize("new_metric_track_log_feature_prompt"), "<br>").concat(h.a.localize("currently_selected_metric_track_log_overlay", t.text), "</span>")),
                        setTimeout(function() {
                            e.$(".map-control-item.has-tooltip").tooltip("show"),
                            e.$(".map-control-item.has-tooltip").parent().children(".tooltip").css("z-index", "unset").attr("z-index", 60)
                        }, 500),
                        !this.metricTracklogFeatureOverlayPersisted)
                            new p.a({
                                key: "User_Has_Seen_Metric_Based_Track_Log"
                            }).save("value", !0),
                            this.metricTracklogFeatureOverlayPersisted = !0;
                        s()(document).one("click", function() {
                            e.onDropdownTriggerClicked()
                        })
                    }
                },
                onDropdownTriggerClicked: function() {
                    this.$(".map-control-item.has-tooltip").tooltip("hide")
                },
                onZoomInClicked: function(e) {
                    e.preventDefault(),
                    this.mapView.zoomIn()
                },
                onZoomOutClicked: function(e) {
                    e.preventDefault(),
                    this.mapView.zoomOut()
                },
                onMapProviderSelected: function(t) {
                    if (t.preventDefault(),
                    !this.$(t.currentTarget).hasClass("active")) {
                        var i = t.currentTarget.className.substring(13);
                        if (this.userMapSetting)
                            new p.a({
                                key: "map_provider_type",
                                value: i
                            }).save();
                        i === e.Map.Utils.PROVIDER_TYPE_OSM ? this.$(".map-type-satellite").hide() : this.$(".map-type-satellite").show(),
                        this.mapProvider = i,
                        this.trigger(m.ON_MAP_PROVIDER_CHANGED, i)
                    }
                },
                onMapTypeSelected: function(e) {
                    e.preventDefault();
                    var t = e.currentTarget.className.substring(9);
                    -1 == t.indexOf("active") && (this.userMapSetting && (this.userMapSetting.setMapType(t),
                    this.userMapSetting.save()),
                    this.mapType = t,
                    this.mapView.changeMapStyle(t),
                    this.isLayerEnabled("labels") && this.$(".map-layer-labels").hasClass("disabled") && (this.userMapSetting.setLabels(!0),
                    this.userMapSetting.save(),
                    setTimeout(function() {
                        this.mapView.enableLabels(!0)
                    }
                    .bind(this), 0))),
                    this.render()
                },
                onMapStyleTerrainSelected: function(e) {
                    if (e.preventDefault(),
                    !s()(e.currentTarget).hasClass("disabled")) {
                        var t = !this.isLayerEnabled("terrain");
                        this.userMapSetting && (this.userMapSetting.setTerrain(t),
                        this.userMapSetting.save()),
                        this.mapView.enableTerrain(t),
                        this.toggleLayerEnabled("terrain"),
                        this.render()
                    }
                },
                onMapStyleTrailsSelected: function(e) {
                    if (e.preventDefault(),
                    !s()(e.currentTarget).hasClass("disabled")) {
                        var t = !this.isLayerEnabled("trails");
                        this.userMapSetting && (this.userMapSetting.setTrails(t),
                        this.userMapSetting.save()),
                        this.mapView.enableTrails(t),
                        this.toggleLayerEnabled("trails"),
                        this.render()
                    }
                },
                onMapStyleLabelsSelected: function(e) {
                    if (e.preventDefault(),
                    !s()(e.currentTarget).hasClass("disabled")) {
                        var t = !this.isLayerEnabled("labels");
                        this.userMapSetting && (this.userMapSetting.setLabels(t),
                        this.userMapSetting.save()),
                        this.mapView.enableLabels(t),
                        this.toggleLayerEnabled("labels"),
                        this.render()
                    }
                },
                onMapStyleRunningHeatmapSelected: function(e) {
                    if (e.preventDefault(),
                    !s()(e.currentTarget).hasClass("disabled")) {
                        var t = !this.isLayerEnabled("running-heatmap");
                        this.userMapSetting && (this.userMapSetting.setHeatMapsRunning(t),
                        t && this.userMapSetting.setHeatMapsCycling(!t),
                        this.userMapSetting.save()),
                        this.mapView.enableHeatMaps(t, "running"),
                        this.toggleLayerEnabled("running-heatmap"),
                        1 == t && this.isLayerEnabled("cycling-heatmap") && this.toggleLayerEnabled("cycling-heatmap"),
                        this.render()
                    }
                },
                onMapStyleCyclingHeatmapSelected: function(e) {
                    if (e.preventDefault(),
                    !s()(e.currentTarget).hasClass("disabled")) {
                        var t = !this.isLayerEnabled("cycling-heatmap");
                        this.userMapSetting && (this.userMapSetting.setHeatMapsCycling(t),
                        t && this.userMapSetting.setHeatMapsRunning(!t),
                        this.userMapSetting.save()),
                        this.mapView.enableHeatMaps(t, "cycling"),
                        this.toggleLayerEnabled("cycling-heatmap"),
                        1 == t && this.isLayerEnabled("running-heatmap") && this.toggleLayerEnabled("running-heatmap"),
                        this.render()
                    }
                },
                onMapCoordinateSystemSelected: function(e) {
                    e.preventDefault(),
                    this.trigger(m.ON_MAP_COORDINATE_SYSTEM_SELECTED)
                },
                onAdditionalLayersClicked: function(e) {
                    e.preventDefault();
                    var t = a(e.currentTarget)
                      , i = !t.hasClass("active")
                      , n = t.attr("data-layer-name")
                      , o = this;
                    this.lastSelectedCustomLayerClicked !== n && (this.lastSelectedCustomLayerClicked = n),
                    a(".additional-layers").each(function(e, t) {
                        a(t).attr("data-layer-name") !== o.lastSelectedCustomLayerClicked && a(t).removeClass("active")
                    }),
                    i && t.addClass("active"),
                    r.a.each(this.additionalMapLayers, function(e) {
                        e.func && e.value === n && (e.func(i),
                        e.selected = i)
                    }),
                    this.trigger(m.ON_CUSTOM_LAYER_CLICKED, {
                        which: n,
                        selected: i
                    })
                },
                toggleLayerEnabled: function(e) {
                    r.a.find(this.layersEnabled, function(t) {
                        return t == e
                    }) ? this.layersEnabled = r.a.reject(this.layersEnabled, function(t) {
                        return t == e
                    }) : this.layersEnabled.push(e)
                },
                isLayerEnabled: function(e) {
                    return null != r.a.find(this.layersEnabled, function(t) {
                        return t == e
                    })
                },
                setTextForEnableDisableScrollButton: function(e) {
                    this.$(".map-control-item.scrolling").text(e)
                },
                hideScrollToggleButton: function() {
                    this.$(".map-control-item.scrolling").addClass("hide")
                },
                showScrollToggleButton: function() {
                    this.$(".map-control-item.scrolling").removeClass("hide")
                }
            });
            f.Events = m,
            t.a = f
        }
        ).call(this, i(1320), i(9))
    },
    1580: function(e, t, i) {
        var a = i(1621);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1592: function(module, exports, __webpack_require__) {
        var __WEBPACK_AMD_DEFINE_RESULT__, root, factory;
        "undefined" !== typeof navigator && (root = window || {},
        factory = function(window) {
            "use strict";
            var svgNS = "http://www.w3.org/2000/svg", locationHref = "", initialDefaultFrame = -999999, subframeEnabled = !0, expressionsPlugin, isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent), cachedColors = {}, bm_rounder = Math.round, bm_rnd, bm_pow = Math.pow, bm_sqrt = Math.sqrt, bm_abs = Math.abs, bm_floor = Math.floor, bm_max = Math.max, bm_min = Math.min, blitter = 10, BMMath = {};
            function ProjectInterface() {
                return {}
            }
            !function() {
                var e, t = ["abs", "acos", "acosh", "asin", "asinh", "atan", "atanh", "atan2", "ceil", "cbrt", "expm1", "clz32", "cos", "cosh", "exp", "floor", "fround", "hypot", "imul", "log", "log1p", "log2", "log10", "max", "min", "pow", "random", "round", "sign", "sin", "sinh", "sqrt", "tan", "tanh", "trunc", "E", "LN10", "LN2", "LOG10E", "LOG2E", "PI", "SQRT1_2", "SQRT2"], i = t.length;
                for (e = 0; e < i; e += 1)
                    BMMath[t[e]] = Math[t[e]]
            }(),
            BMMath.random = Math.random,
            BMMath.abs = function(e) {
                if ("object" === typeof e && e.length) {
                    var t, i = createSizedArray(e.length), a = e.length;
                    for (t = 0; t < a; t += 1)
                        i[t] = Math.abs(e[t]);
                    return i
                }
                return Math.abs(e)
            }
            ;
            var defaultCurveSegments = 150
              , degToRads = Math.PI / 180
              , roundCorner = .5519;
            function roundValues(e) {
                bm_rnd = e ? Math.round : function(e) {
                    return e
                }
            }
            function styleDiv(e) {
                e.style.position = "absolute",
                e.style.top = 0,
                e.style.left = 0,
                e.style.display = "block",
                e.style.transformOrigin = e.style.webkitTransformOrigin = "0 0",
                e.style.backfaceVisibility = e.style.webkitBackfaceVisibility = "visible",
                e.style.transformStyle = e.style.webkitTransformStyle = e.style.mozTransformStyle = "preserve-3d"
            }
            function BMEnterFrameEvent(e, t, i, a) {
                this.type = e,
                this.currentTime = t,
                this.totalTime = i,
                this.direction = a < 0 ? -1 : 1
            }
            function BMCompleteEvent(e, t) {
                this.type = e,
                this.direction = t < 0 ? -1 : 1
            }
            function BMCompleteLoopEvent(e, t, i, a) {
                this.type = e,
                this.currentLoop = i,
                this.totalLoops = t,
                this.direction = a < 0 ? -1 : 1
            }
            function BMSegmentStartEvent(e, t, i) {
                this.type = e,
                this.firstFrame = t,
                this.totalFrames = i
            }
            function BMDestroyEvent(e, t) {
                this.type = e,
                this.target = t
            }
            roundValues(!1);
            var createElementID = function() {
                var e = 0;
                return function() {
                    return "__lottie_element_" + ++e
                }
            }();
            function HSVtoRGB(e, t, i) {
                var a, n, r, o, s, l, c, h;
                switch (l = i * (1 - t),
                c = i * (1 - (s = 6 * e - (o = Math.floor(6 * e))) * t),
                h = i * (1 - (1 - s) * t),
                o % 6) {
                case 0:
                    a = i,
                    n = h,
                    r = l;
                    break;
                case 1:
                    a = c,
                    n = i,
                    r = l;
                    break;
                case 2:
                    a = l,
                    n = i,
                    r = h;
                    break;
                case 3:
                    a = l,
                    n = c,
                    r = i;
                    break;
                case 4:
                    a = h,
                    n = l,
                    r = i;
                    break;
                case 5:
                    a = i,
                    n = l,
                    r = c
                }
                return [a, n, r]
            }
            function RGBtoHSV(e, t, i) {
                var a, n = Math.max(e, t, i), r = Math.min(e, t, i), o = n - r, s = 0 === n ? 0 : o / n, l = n / 255;
                switch (n) {
                case r:
                    a = 0;
                    break;
                case e:
                    a = t - i + o * (t < i ? 6 : 0),
                    a /= 6 * o;
                    break;
                case t:
                    a = i - e + 2 * o,
                    a /= 6 * o;
                    break;
                case i:
                    a = e - t + 4 * o,
                    a /= 6 * o
                }
                return [a, s, l]
            }
            function addSaturationToRGB(e, t) {
                var i = RGBtoHSV(255 * e[0], 255 * e[1], 255 * e[2]);
                return i[1] += t,
                i[1] > 1 ? i[1] = 1 : i[1] <= 0 && (i[1] = 0),
                HSVtoRGB(i[0], i[1], i[2])
            }
            function addBrightnessToRGB(e, t) {
                var i = RGBtoHSV(255 * e[0], 255 * e[1], 255 * e[2]);
                return i[2] += t,
                i[2] > 1 ? i[2] = 1 : i[2] < 0 && (i[2] = 0),
                HSVtoRGB(i[0], i[1], i[2])
            }
            function addHueToRGB(e, t) {
                var i = RGBtoHSV(255 * e[0], 255 * e[1], 255 * e[2]);
                return i[0] += t / 360,
                i[0] > 1 ? i[0] -= 1 : i[0] < 0 && (i[0] += 1),
                HSVtoRGB(i[0], i[1], i[2])
            }
            var rgbToHex = function() {
                var e, t, i = [];
                for (e = 0; e < 256; e += 1)
                    t = e.toString(16),
                    i[e] = 1 == t.length ? "0" + t : t;
                return function(e, t, a) {
                    return e < 0 && (e = 0),
                    t < 0 && (t = 0),
                    a < 0 && (a = 0),
                    "#" + i[e] + i[t] + i[a]
                }
            }();
            function BaseEvent() {}
            BaseEvent.prototype = {
                triggerEvent: function(e, t) {
                    if (this._cbs[e])
                        for (var i = this._cbs[e].length, a = 0; a < i; a++)
                            this._cbs[e][a](t)
                },
                addEventListener: function(e, t) {
                    return this._cbs[e] || (this._cbs[e] = []),
                    this._cbs[e].push(t),
                    function() {
                        this.removeEventListener(e, t)
                    }
                    .bind(this)
                },
                removeEventListener: function(e, t) {
                    if (t) {
                        if (this._cbs[e]) {
                            for (var i = 0, a = this._cbs[e].length; i < a; )
                                this._cbs[e][i] === t && (this._cbs[e].splice(i, 1),
                                i -= 1,
                                a -= 1),
                                i += 1;
                            this._cbs[e].length || (this._cbs[e] = null)
                        }
                    } else
                        this._cbs[e] = null
                }
            };
            var createTypedArray = function() {
                return "function" === typeof Uint8ClampedArray && "function" === typeof Float32Array ? function(e, t) {
                    return "float32" === e ? new Float32Array(t) : "int16" === e ? new Int16Array(t) : "uint8c" === e ? new Uint8ClampedArray(t) : void 0
                }
                : function(e, t) {
                    var i, a = 0, n = [];
                    switch (e) {
                    case "int16":
                    case "uint8c":
                        i = 1;
                        break;
                    default:
                        i = 1.1
                    }
                    for (a = 0; a < t; a += 1)
                        n.push(i);
                    return n
                }
            }();
            function createSizedArray(e) {
                return Array.apply(null, {
                    length: e
                })
            }
            function createNS(e) {
                return document.createElementNS(svgNS, e)
            }
            function createTag(e) {
                return document.createElement(e)
            }
            function DynamicPropertyContainer() {}
            DynamicPropertyContainer.prototype = {
                addDynamicProperty: function(e) {
                    -1 === this.dynamicProperties.indexOf(e) && (this.dynamicProperties.push(e),
                    this.container.addDynamicProperty(this),
                    this._isAnimated = !0)
                },
                iterateDynamicProperties: function() {
                    this._mdf = !1;
                    var e, t = this.dynamicProperties.length;
                    for (e = 0; e < t; e += 1)
                        this.dynamicProperties[e].getValue(),
                        this.dynamicProperties[e]._mdf && (this._mdf = !0)
                },
                initDynamicPropertyContainer: function(e) {
                    this.container = e,
                    this.dynamicProperties = [],
                    this._mdf = !1,
                    this._isAnimated = !1
                }
            };
            var getBlendMode = function() {
                var e = {
                    0: "source-over",
                    1: "multiply",
                    2: "screen",
                    3: "overlay",
                    4: "darken",
                    5: "lighten",
                    6: "color-dodge",
                    7: "color-burn",
                    8: "hard-light",
                    9: "soft-light",
                    10: "difference",
                    11: "exclusion",
                    12: "hue",
                    13: "saturation",
                    14: "color",
                    15: "luminosity"
                };
                return function(t) {
                    return e[t] || ""
                }
            }()
              , Matrix = function() {
                var e = Math.cos
                  , t = Math.sin
                  , i = Math.tan
                  , a = Math.round;
                function n() {
                    return this.props[0] = 1,
                    this.props[1] = 0,
                    this.props[2] = 0,
                    this.props[3] = 0,
                    this.props[4] = 0,
                    this.props[5] = 1,
                    this.props[6] = 0,
                    this.props[7] = 0,
                    this.props[8] = 0,
                    this.props[9] = 0,
                    this.props[10] = 1,
                    this.props[11] = 0,
                    this.props[12] = 0,
                    this.props[13] = 0,
                    this.props[14] = 0,
                    this.props[15] = 1,
                    this
                }
                function r(i) {
                    if (0 === i)
                        return this;
                    var a = e(i)
                      , n = t(i);
                    return this._t(a, -n, 0, 0, n, a, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
                }
                function o(i) {
                    if (0 === i)
                        return this;
                    var a = e(i)
                      , n = t(i);
                    return this._t(1, 0, 0, 0, 0, a, -n, 0, 0, n, a, 0, 0, 0, 0, 1)
                }
                function s(i) {
                    if (0 === i)
                        return this;
                    var a = e(i)
                      , n = t(i);
                    return this._t(a, 0, n, 0, 0, 1, 0, 0, -n, 0, a, 0, 0, 0, 0, 1)
                }
                function l(i) {
                    if (0 === i)
                        return this;
                    var a = e(i)
                      , n = t(i);
                    return this._t(a, -n, 0, 0, n, a, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
                }
                function c(e, t) {
                    return this._t(1, t, e, 1, 0, 0)
                }
                function h(e, t) {
                    return this.shear(i(e), i(t))
                }
                function p(a, n) {
                    var r = e(n)
                      , o = t(n);
                    return this._t(r, o, 0, 0, -o, r, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, i(a), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(r, -o, 0, 0, o, r, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
                }
                function d(e, t, i) {
                    return i || 0 === i || (i = 1),
                    1 === e && 1 === t && 1 === i ? this : this._t(e, 0, 0, 0, 0, t, 0, 0, 0, 0, i, 0, 0, 0, 0, 1)
                }
                function u(e, t, i, a, n, r, o, s, l, c, h, p, d, u, g, m) {
                    return this.props[0] = e,
                    this.props[1] = t,
                    this.props[2] = i,
                    this.props[3] = a,
                    this.props[4] = n,
                    this.props[5] = r,
                    this.props[6] = o,
                    this.props[7] = s,
                    this.props[8] = l,
                    this.props[9] = c,
                    this.props[10] = h,
                    this.props[11] = p,
                    this.props[12] = d,
                    this.props[13] = u,
                    this.props[14] = g,
                    this.props[15] = m,
                    this
                }
                function g(e, t, i) {
                    return i = i || 0,
                    0 !== e || 0 !== t || 0 !== i ? this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, e, t, i, 1) : this
                }
                function m(e, t, i, a, n, r, o, s, l, c, h, p, d, u, g, m) {
                    var f = this.props;
                    if (1 === e && 0 === t && 0 === i && 0 === a && 0 === n && 1 === r && 0 === o && 0 === s && 0 === l && 0 === c && 1 === h && 0 === p)
                        return f[12] = f[12] * e + f[15] * d,
                        f[13] = f[13] * r + f[15] * u,
                        f[14] = f[14] * h + f[15] * g,
                        f[15] = f[15] * m,
                        this._identityCalculated = !1,
                        this;
                    var y = f[0]
                      , v = f[1]
                      , b = f[2]
                      , A = f[3]
                      , C = f[4]
                      , w = f[5]
                      , _ = f[6]
                      , x = f[7]
                      , S = f[8]
                      , T = f[9]
                      , E = f[10]
                      , k = f[11]
                      , L = f[12]
                      , P = f[13]
                      , z = f[14]
                      , I = f[15];
                    return f[0] = y * e + v * n + b * l + A * d,
                    f[1] = y * t + v * r + b * c + A * u,
                    f[2] = y * i + v * o + b * h + A * g,
                    f[3] = y * a + v * s + b * p + A * m,
                    f[4] = C * e + w * n + _ * l + x * d,
                    f[5] = C * t + w * r + _ * c + x * u,
                    f[6] = C * i + w * o + _ * h + x * g,
                    f[7] = C * a + w * s + _ * p + x * m,
                    f[8] = S * e + T * n + E * l + k * d,
                    f[9] = S * t + T * r + E * c + k * u,
                    f[10] = S * i + T * o + E * h + k * g,
                    f[11] = S * a + T * s + E * p + k * m,
                    f[12] = L * e + P * n + z * l + I * d,
                    f[13] = L * t + P * r + z * c + I * u,
                    f[14] = L * i + P * o + z * h + I * g,
                    f[15] = L * a + P * s + z * p + I * m,
                    this._identityCalculated = !1,
                    this
                }
                function f() {
                    return this._identityCalculated || (this._identity = !(1 !== this.props[0] || 0 !== this.props[1] || 0 !== this.props[2] || 0 !== this.props[3] || 0 !== this.props[4] || 1 !== this.props[5] || 0 !== this.props[6] || 0 !== this.props[7] || 0 !== this.props[8] || 0 !== this.props[9] || 1 !== this.props[10] || 0 !== this.props[11] || 0 !== this.props[12] || 0 !== this.props[13] || 0 !== this.props[14] || 1 !== this.props[15]),
                    this._identityCalculated = !0),
                    this._identity
                }
                function y(e) {
                    for (var t = 0; t < 16; ) {
                        if (e.props[t] !== this.props[t])
                            return !1;
                        t += 1
                    }
                    return !0
                }
                function v(e) {
                    var t;
                    for (t = 0; t < 16; t += 1)
                        e.props[t] = this.props[t]
                }
                function b(e) {
                    var t;
                    for (t = 0; t < 16; t += 1)
                        this.props[t] = e[t]
                }
                function A(e, t, i) {
                    return {
                        x: e * this.props[0] + t * this.props[4] + i * this.props[8] + this.props[12],
                        y: e * this.props[1] + t * this.props[5] + i * this.props[9] + this.props[13],
                        z: e * this.props[2] + t * this.props[6] + i * this.props[10] + this.props[14]
                    }
                }
                function C(e, t, i) {
                    return e * this.props[0] + t * this.props[4] + i * this.props[8] + this.props[12]
                }
                function w(e, t, i) {
                    return e * this.props[1] + t * this.props[5] + i * this.props[9] + this.props[13]
                }
                function _(e, t, i) {
                    return e * this.props[2] + t * this.props[6] + i * this.props[10] + this.props[14]
                }
                function x(e) {
                    var t = this.props[0] * this.props[5] - this.props[1] * this.props[4]
                      , i = this.props[5] / t
                      , a = -this.props[1] / t
                      , n = -this.props[4] / t
                      , r = this.props[0] / t
                      , o = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / t
                      , s = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / t;
                    return [e[0] * i + e[1] * n + o, e[0] * a + e[1] * r + s, 0]
                }
                function S(e) {
                    var t, i = e.length, a = [];
                    for (t = 0; t < i; t += 1)
                        a[t] = x(e[t]);
                    return a
                }
                function T(e, t, i) {
                    var a = createTypedArray("float32", 6);
                    if (this.isIdentity())
                        a[0] = e[0],
                        a[1] = e[1],
                        a[2] = t[0],
                        a[3] = t[1],
                        a[4] = i[0],
                        a[5] = i[1];
                    else {
                        var n = this.props[0]
                          , r = this.props[1]
                          , o = this.props[4]
                          , s = this.props[5]
                          , l = this.props[12]
                          , c = this.props[13];
                        a[0] = e[0] * n + e[1] * o + l,
                        a[1] = e[0] * r + e[1] * s + c,
                        a[2] = t[0] * n + t[1] * o + l,
                        a[3] = t[0] * r + t[1] * s + c,
                        a[4] = i[0] * n + i[1] * o + l,
                        a[5] = i[0] * r + i[1] * s + c
                    }
                    return a
                }
                function E(e, t, i) {
                    return this.isIdentity() ? [e, t, i] : [e * this.props[0] + t * this.props[4] + i * this.props[8] + this.props[12], e * this.props[1] + t * this.props[5] + i * this.props[9] + this.props[13], e * this.props[2] + t * this.props[6] + i * this.props[10] + this.props[14]]
                }
                function k(e, t) {
                    if (this.isIdentity())
                        return e + "," + t;
                    var i = this.props;
                    return Math.round(100 * (e * i[0] + t * i[4] + i[12])) / 100 + "," + Math.round(100 * (e * i[1] + t * i[5] + i[13])) / 100
                }
                function L() {
                    for (var e = 0, t = this.props, i = "matrix3d("; e < 16; )
                        i += a(1e4 * t[e]) / 1e4,
                        i += 15 === e ? ")" : ",",
                        e += 1;
                    return i
                }
                function P(e) {
                    return e < 1e-6 && e > 0 || e > -1e-6 && e < 0 ? a(1e4 * e) / 1e4 : e
                }
                function z() {
                    var e = this.props;
                    return "matrix(" + P(e[0]) + "," + P(e[1]) + "," + P(e[4]) + "," + P(e[5]) + "," + P(e[12]) + "," + P(e[13]) + ")"
                }
                return function() {
                    this.reset = n,
                    this.rotate = r,
                    this.rotateX = o,
                    this.rotateY = s,
                    this.rotateZ = l,
                    this.skew = h,
                    this.skewFromAxis = p,
                    this.shear = c,
                    this.scale = d,
                    this.setTransform = u,
                    this.translate = g,
                    this.transform = m,
                    this.applyToPoint = A,
                    this.applyToX = C,
                    this.applyToY = w,
                    this.applyToZ = _,
                    this.applyToPointArray = E,
                    this.applyToTriplePoints = T,
                    this.applyToPointStringified = k,
                    this.toCSS = L,
                    this.to2dCSS = z,
                    this.clone = v,
                    this.cloneFromProps = b,
                    this.equals = y,
                    this.inversePoints = S,
                    this.inversePoint = x,
                    this._t = this.transform,
                    this.isIdentity = f,
                    this._identity = !0,
                    this._identityCalculated = !1,
                    this.props = createTypedArray("float32", 16),
                    this.reset()
                }
            }();
            !function(e, t) {
                var i, a = this, n = 256, r = 6, o = "random", s = t.pow(n, r), l = t.pow(2, 52), c = 2 * l, h = n - 1;
                function p(e) {
                    var t, i = e.length, a = this, r = 0, o = a.i = a.j = 0, s = a.S = [];
                    for (i || (e = [i++]); r < n; )
                        s[r] = r++;
                    for (r = 0; r < n; r++)
                        s[r] = s[o = h & o + e[r % i] + (t = s[r])],
                        s[o] = t;
                    a.g = function(e) {
                        for (var t, i = 0, r = a.i, o = a.j, s = a.S; e--; )
                            t = s[r = h & r + 1],
                            i = i * n + s[h & (s[r] = s[o = h & o + t]) + (s[o] = t)];
                        return a.i = r,
                        a.j = o,
                        i
                    }
                }
                function d(e, t) {
                    return t.i = e.i,
                    t.j = e.j,
                    t.S = e.S.slice(),
                    t
                }
                function u(e, t) {
                    for (var i, a = e + "", n = 0; n < a.length; )
                        t[h & n] = h & (i ^= 19 * t[h & n]) + a.charCodeAt(n++);
                    return g(t)
                }
                function g(e) {
                    return String.fromCharCode.apply(0, e)
                }
                t["seed" + o] = function(h, m, f) {
                    var y = []
                      , v = u(function e(t, i) {
                        var a, n = [], r = typeof t;
                        if (i && "object" == r)
                            for (a in t)
                                try {
                                    n.push(e(t[a], i - 1))
                                } catch (o) {}
                        return n.length ? n : "string" == r ? t : t + "\0"
                    }((m = !0 === m ? {
                        entropy: !0
                    } : m || {}).entropy ? [h, g(e)] : null === h ? function() {
                        try {
                            if (i)
                                return g(i.randomBytes(n));
                            var t = new Uint8Array(n);
                            return (a.crypto || a.msCrypto).getRandomValues(t),
                            g(t)
                        } catch (s) {
                            var r = a.navigator
                              , o = r && r.plugins;
                            return [+new Date, a, o, a.screen, g(e)]
                        }
                    }() : h, 3), y)
                      , b = new p(y)
                      , A = function() {
                        for (var e = b.g(r), t = s, i = 0; e < l; )
                            e = (e + i) * n,
                            t *= n,
                            i = b.g(1);
                        for (; e >= c; )
                            e /= 2,
                            t /= 2,
                            i >>>= 1;
                        return (e + i) / t
                    };
                    return A.int32 = function() {
                        return 0 | b.g(4)
                    }
                    ,
                    A.quick = function() {
                        return b.g(4) / 4294967296
                    }
                    ,
                    A.double = A,
                    u(g(b.S), e),
                    (m.pass || f || function(e, i, a, n) {
                        return n && (n.S && d(n, b),
                        e.state = function() {
                            return d(b, {})
                        }
                        ),
                        a ? (t[o] = e,
                        i) : e
                    }
                    )(A, v, "global"in m ? m.global : this == t, m.state)
                }
                ,
                u(t.random(), e)
            }([], BMMath);
            var BezierFactory = function() {
                var e = {
                    getBezierEasing: function(e, i, a, n, r) {
                        var o = r || ("bez_" + e + "_" + i + "_" + a + "_" + n).replace(/\./g, "p");
                        if (t[o])
                            return t[o];
                        var s = new u([e, i, a, n]);
                        return t[o] = s,
                        s
                    }
                }
                  , t = {};
                var i = 4
                  , a = 1e-7
                  , n = 10
                  , r = 11
                  , o = 1 / (r - 1)
                  , s = "function" === typeof Float32Array;
                function l(e, t) {
                    return 1 - 3 * t + 3 * e
                }
                function c(e, t) {
                    return 3 * t - 6 * e
                }
                function h(e) {
                    return 3 * e
                }
                function p(e, t, i) {
                    return ((l(t, i) * e + c(t, i)) * e + h(t)) * e
                }
                function d(e, t, i) {
                    return 3 * l(t, i) * e * e + 2 * c(t, i) * e + h(t)
                }
                function u(e) {
                    this._p = e,
                    this._mSampleValues = s ? new Float32Array(r) : new Array(r),
                    this._precomputed = !1,
                    this.get = this.get.bind(this)
                }
                return u.prototype = {
                    get: function(e) {
                        var t = this._p[0]
                          , i = this._p[1]
                          , a = this._p[2]
                          , n = this._p[3];
                        return this._precomputed || this._precompute(),
                        t === i && a === n ? e : 0 === e ? 0 : 1 === e ? 1 : p(this._getTForX(e), i, n)
                    },
                    _precompute: function() {
                        var e = this._p[0]
                          , t = this._p[1]
                          , i = this._p[2]
                          , a = this._p[3];
                        this._precomputed = !0,
                        e === t && i === a || this._calcSampleValues()
                    },
                    _calcSampleValues: function() {
                        for (var e = this._p[0], t = this._p[2], i = 0; i < r; ++i)
                            this._mSampleValues[i] = p(i * o, e, t)
                    },
                    _getTForX: function(e) {
                        for (var t = this._p[0], s = this._p[2], l = this._mSampleValues, c = 0, h = 1, u = r - 1; h !== u && l[h] <= e; ++h)
                            c += o;
                        var g = c + (e - l[--h]) / (l[h + 1] - l[h]) * o
                          , m = d(g, t, s);
                        return m >= .001 ? function(e, t, a, n) {
                            for (var r = 0; r < i; ++r) {
                                var o = d(t, a, n);
                                if (0 === o)
                                    return t;
                                t -= (p(t, a, n) - e) / o
                            }
                            return t
                        }(e, g, t, s) : 0 === m ? g : function(e, t, i, r, o) {
                            var s, l, c = 0;
                            do {
                                (s = p(l = t + (i - t) / 2, r, o) - e) > 0 ? i = l : t = l
                            } while (Math.abs(s) > a && ++c < n);return l
                        }(e, c, c + o, t, s)
                    }
                },
                e
            }();
            function extendPrototype(e, t) {
                var i, a, n = e.length;
                for (i = 0; i < n; i += 1)
                    for (var r in a = e[i].prototype)
                        a.hasOwnProperty(r) && (t.prototype[r] = a[r])
            }
            function getDescriptor(e, t) {
                return Object.getOwnPropertyDescriptor(e, t)
            }
            function createProxyFunction(e) {
                function t() {}
                return t.prototype = e,
                t
            }
            function bezFunction() {
                Math;
                function e(e, t, i, a, n, r) {
                    var o = e * a + t * n + i * r - n * a - r * e - i * t;
                    return o > -.001 && o < .001
                }
                var t = function(e, t, i, a) {
                    var n, r, o, s, l, c, h = defaultCurveSegments, p = 0, d = [], u = [], g = bezier_length_pool.newElement();
                    for (o = i.length,
                    n = 0; n < h; n += 1) {
                        for (l = n / (h - 1),
                        c = 0,
                        r = 0; r < o; r += 1)
                            s = bm_pow(1 - l, 3) * e[r] + 3 * bm_pow(1 - l, 2) * l * i[r] + 3 * (1 - l) * bm_pow(l, 2) * a[r] + bm_pow(l, 3) * t[r],
                            d[r] = s,
                            null !== u[r] && (c += bm_pow(d[r] - u[r], 2)),
                            u[r] = d[r];
                        c && (p += c = bm_sqrt(c)),
                        g.percents[n] = l,
                        g.lengths[n] = p
                    }
                    return g.addedLength = p,
                    g
                };
                function i(e) {
                    this.segmentLength = 0,
                    this.points = new Array(e)
                }
                function a(e, t) {
                    this.partialLength = e,
                    this.point = t
                }
                var n = function() {
                    var t = {};
                    return function(n, r, o, s) {
                        var l = (n[0] + "_" + n[1] + "_" + r[0] + "_" + r[1] + "_" + o[0] + "_" + o[1] + "_" + s[0] + "_" + s[1]).replace(/\./g, "p");
                        if (!t[l]) {
                            var c, h, p, d, u, g, m, f = defaultCurveSegments, y = 0, v = null;
                            2 === n.length && (n[0] != r[0] || n[1] != r[1]) && e(n[0], n[1], r[0], r[1], n[0] + o[0], n[1] + o[1]) && e(n[0], n[1], r[0], r[1], r[0] + s[0], r[1] + s[1]) && (f = 2);
                            var b = new i(f);
                            for (p = o.length,
                            c = 0; c < f; c += 1) {
                                for (m = createSizedArray(p),
                                u = c / (f - 1),
                                g = 0,
                                h = 0; h < p; h += 1)
                                    d = bm_pow(1 - u, 3) * n[h] + 3 * bm_pow(1 - u, 2) * u * (n[h] + o[h]) + 3 * (1 - u) * bm_pow(u, 2) * (r[h] + s[h]) + bm_pow(u, 3) * r[h],
                                    m[h] = d,
                                    null !== v && (g += bm_pow(m[h] - v[h], 2));
                                y += g = bm_sqrt(g),
                                b.points[c] = new a(g,m),
                                v = m
                            }
                            b.segmentLength = y,
                            t[l] = b
                        }
                        return t[l]
                    }
                }();
                function r(e, t) {
                    var i = t.percents
                      , a = t.lengths
                      , n = i.length
                      , r = bm_floor((n - 1) * e)
                      , o = e * t.addedLength
                      , s = 0;
                    if (r === n - 1 || 0 === r || o === a[r])
                        return i[r];
                    for (var l = a[r] > o ? -1 : 1, c = !0; c; )
                        if (a[r] <= o && a[r + 1] > o ? (s = (o - a[r]) / (a[r + 1] - a[r]),
                        c = !1) : r += l,
                        r < 0 || r >= n - 1) {
                            if (r === n - 1)
                                return i[r];
                            c = !1
                        }
                    return i[r] + (i[r + 1] - i[r]) * s
                }
                var o = createTypedArray("float32", 8);
                return {
                    getSegmentsLength: function(e) {
                        var i, a = segments_length_pool.newElement(), n = e.c, r = e.v, o = e.o, s = e.i, l = e._length, c = a.lengths, h = 0;
                        for (i = 0; i < l - 1; i += 1)
                            c[i] = t(r[i], r[i + 1], o[i], s[i + 1]),
                            h += c[i].addedLength;
                        return n && l && (c[i] = t(r[i], r[0], o[i], s[0]),
                        h += c[i].addedLength),
                        a.totalLength = h,
                        a
                    },
                    getNewSegment: function(e, t, i, a, n, s, l) {
                        var c, h = r(n = n < 0 ? 0 : n > 1 ? 1 : n, l), p = r(s = s > 1 ? 1 : s, l), d = e.length, u = 1 - h, g = 1 - p, m = u * u * u, f = h * u * u * 3, y = h * h * u * 3, v = h * h * h, b = u * u * g, A = h * u * g + u * h * g + u * u * p, C = h * h * g + u * h * p + h * u * p, w = h * h * p, _ = u * g * g, x = h * g * g + u * p * g + u * g * p, S = h * p * g + u * p * p + h * g * p, T = h * p * p, E = g * g * g, k = p * g * g + g * p * g + g * g * p, L = p * p * g + g * p * p + p * g * p, P = p * p * p;
                        for (c = 0; c < d; c += 1)
                            o[4 * c] = Math.round(1e3 * (m * e[c] + f * i[c] + y * a[c] + v * t[c])) / 1e3,
                            o[4 * c + 1] = Math.round(1e3 * (b * e[c] + A * i[c] + C * a[c] + w * t[c])) / 1e3,
                            o[4 * c + 2] = Math.round(1e3 * (_ * e[c] + x * i[c] + S * a[c] + T * t[c])) / 1e3,
                            o[4 * c + 3] = Math.round(1e3 * (E * e[c] + k * i[c] + L * a[c] + P * t[c])) / 1e3;
                        return o
                    },
                    getPointInSegment: function(e, t, i, a, n, o) {
                        var s = r(n, o)
                          , l = 1 - s;
                        return [Math.round(1e3 * (l * l * l * e[0] + (s * l * l + l * s * l + l * l * s) * i[0] + (s * s * l + l * s * s + s * l * s) * a[0] + s * s * s * t[0])) / 1e3, Math.round(1e3 * (l * l * l * e[1] + (s * l * l + l * s * l + l * l * s) * i[1] + (s * s * l + l * s * s + s * l * s) * a[1] + s * s * s * t[1])) / 1e3]
                    },
                    buildBezierData: n,
                    pointOnLine2D: e,
                    pointOnLine3D: function(t, i, a, n, r, o, s, l, c) {
                        if (0 === a && 0 === o && 0 === c)
                            return e(t, i, n, r, s, l);
                        var h, p = Math.sqrt(Math.pow(n - t, 2) + Math.pow(r - i, 2) + Math.pow(o - a, 2)), d = Math.sqrt(Math.pow(s - t, 2) + Math.pow(l - i, 2) + Math.pow(c - a, 2)), u = Math.sqrt(Math.pow(s - n, 2) + Math.pow(l - r, 2) + Math.pow(c - o, 2));
                        return (h = p > d ? p > u ? p - d - u : u - d - p : u > d ? u - d - p : d - p - u) > -1e-4 && h < 1e-4
                    }
                }
            }
            !function() {
                for (var e = 0, t = ["ms", "moz", "webkit", "o"], i = 0; i < t.length && !window.requestAnimationFrame; ++i)
                    window.requestAnimationFrame = window[t[i] + "RequestAnimationFrame"],
                    window.cancelAnimationFrame = window[t[i] + "CancelAnimationFrame"] || window[t[i] + "CancelRequestAnimationFrame"];
                window.requestAnimationFrame || (window.requestAnimationFrame = function(t, i) {
                    var a = (new Date).getTime()
                      , n = Math.max(0, 16 - (a - e))
                      , r = setTimeout(function() {
                        t(a + n)
                    }, n);
                    return e = a + n,
                    r
                }
                ),
                window.cancelAnimationFrame || (window.cancelAnimationFrame = function(e) {
                    clearTimeout(e)
                }
                )
            }();
            var bez = bezFunction();
            function dataFunctionManager() {
                function e(e, t) {
                    for (var i = 0, a = t.length; i < a; ) {
                        if (t[i].id === e)
                            return t[i].layers.__used ? JSON.parse(JSON.stringify(t[i].layers)) : (t[i].layers.__used = !0,
                            t[i].layers);
                        i += 1
                    }
                }
                function t(e) {
                    var a, n, r;
                    for (a = e.length - 1; a >= 0; a -= 1)
                        if ("sh" == e[a].ty) {
                            if (e[a].ks.k.i)
                                i(e[a].ks.k);
                            else
                                for (r = e[a].ks.k.length,
                                n = 0; n < r; n += 1)
                                    e[a].ks.k[n].s && i(e[a].ks.k[n].s[0]),
                                    e[a].ks.k[n].e && i(e[a].ks.k[n].e[0]);
                            !0
                        } else
                            "gr" == e[a].ty && t(e[a].it)
                }
                function i(e) {
                    var t, i = e.i.length;
                    for (t = 0; t < i; t += 1)
                        e.i[t][0] += e.v[t][0],
                        e.i[t][1] += e.v[t][1],
                        e.o[t][0] += e.v[t][0],
                        e.o[t][1] += e.v[t][1]
                }
                function a(e, t) {
                    var i = t ? t.split(".") : [100, 100, 100];
                    return e[0] > i[0] || !(i[0] > e[0]) && (e[1] > i[1] || !(i[1] > e[1]) && (e[2] > i[2] || !(i[2] > e[2]) && void 0))
                }
                var n = function() {
                    var e = [4, 4, 14];
                    function t(e) {
                        var t = e.t.d;
                        e.t.d = {
                            k: [{
                                s: t,
                                t: 0
                            }]
                        }
                    }
                    function i(e) {
                        var i, a = e.length;
                        for (i = 0; i < a; i += 1)
                            5 === e[i].ty && t(e[i])
                    }
                    return function(t) {
                        if (a(e, t.v) && (i(t.layers),
                        t.assets)) {
                            var n, r = t.assets.length;
                            for (n = 0; n < r; n += 1)
                                t.assets[n].layers && i(t.assets[n].layers)
                        }
                    }
                }()
                  , r = function() {
                    var e = [4, 7, 99];
                    return function(t) {
                        if (t.chars && !a(e, t.v)) {
                            var n, r, o, s, l, c = t.chars.length;
                            for (n = 0; n < c; n += 1)
                                if (t.chars[n].data && t.chars[n].data.shapes)
                                    for (o = (l = t.chars[n].data.shapes[0].it).length,
                                    r = 0; r < o; r += 1)
                                        (s = l[r].ks.k).__converted || (i(l[r].ks.k),
                                        s.__converted = !0)
                        }
                    }
                }()
                  , o = function() {
                    var e = [4, 1, 9];
                    function t(e) {
                        var i, a, n, r = e.length;
                        for (i = 0; i < r; i += 1)
                            if ("gr" === e[i].ty)
                                t(e[i].it);
                            else if ("fl" === e[i].ty || "st" === e[i].ty)
                                if (e[i].c.k && e[i].c.k[0].i)
                                    for (n = e[i].c.k.length,
                                    a = 0; a < n; a += 1)
                                        e[i].c.k[a].s && (e[i].c.k[a].s[0] /= 255,
                                        e[i].c.k[a].s[1] /= 255,
                                        e[i].c.k[a].s[2] /= 255,
                                        e[i].c.k[a].s[3] /= 255),
                                        e[i].c.k[a].e && (e[i].c.k[a].e[0] /= 255,
                                        e[i].c.k[a].e[1] /= 255,
                                        e[i].c.k[a].e[2] /= 255,
                                        e[i].c.k[a].e[3] /= 255);
                                else
                                    e[i].c.k[0] /= 255,
                                    e[i].c.k[1] /= 255,
                                    e[i].c.k[2] /= 255,
                                    e[i].c.k[3] /= 255
                    }
                    function i(e) {
                        var i, a = e.length;
                        for (i = 0; i < a; i += 1)
                            4 === e[i].ty && t(e[i].shapes)
                    }
                    return function(t) {
                        if (a(e, t.v) && (i(t.layers),
                        t.assets)) {
                            var n, r = t.assets.length;
                            for (n = 0; n < r; n += 1)
                                t.assets[n].layers && i(t.assets[n].layers)
                        }
                    }
                }()
                  , s = function() {
                    var e = [4, 4, 18];
                    function t(e) {
                        var i, a, n;
                        for (i = e.length - 1; i >= 0; i -= 1)
                            if ("sh" == e[i].ty) {
                                if (e[i].ks.k.i)
                                    e[i].ks.k.c = e[i].closed;
                                else
                                    for (n = e[i].ks.k.length,
                                    a = 0; a < n; a += 1)
                                        e[i].ks.k[a].s && (e[i].ks.k[a].s[0].c = e[i].closed),
                                        e[i].ks.k[a].e && (e[i].ks.k[a].e[0].c = e[i].closed);
                                !0
                            } else
                                "gr" == e[i].ty && t(e[i].it)
                    }
                    function i(e) {
                        var i, a, n, r, o, s, l = e.length;
                        for (a = 0; a < l; a += 1) {
                            if ((i = e[a]).hasMask) {
                                var c = i.masksProperties;
                                for (r = c.length,
                                n = 0; n < r; n += 1)
                                    if (c[n].pt.k.i)
                                        c[n].pt.k.c = c[n].cl;
                                    else
                                        for (s = c[n].pt.k.length,
                                        o = 0; o < s; o += 1)
                                            c[n].pt.k[o].s && (c[n].pt.k[o].s[0].c = c[n].cl),
                                            c[n].pt.k[o].e && (c[n].pt.k[o].e[0].c = c[n].cl)
                            }
                            4 === i.ty && t(i.shapes)
                        }
                    }
                    return function(t) {
                        if (a(e, t.v) && (i(t.layers),
                        t.assets)) {
                            var n, r = t.assets.length;
                            for (n = 0; n < r; n += 1)
                                t.assets[n].layers && i(t.assets[n].layers)
                        }
                    }
                }();
                var l = {};
                return l.completeData = function(a, l) {
                    a.__complete || (o(a),
                    n(a),
                    r(a),
                    s(a),
                    function a(n, r, o) {
                        var s, l, c, h, p, d, u, g = n.length;
                        for (l = 0; l < g; l += 1)
                            if ("ks"in (s = n[l]) && !s.completed) {
                                if (s.completed = !0,
                                s.tt && (n[l - 1].td = s.tt),
                                s.hasMask) {
                                    var m = s.masksProperties;
                                    for (h = m.length,
                                    c = 0; c < h; c += 1)
                                        if (m[c].pt.k.i)
                                            i(m[c].pt.k);
                                        else
                                            for (d = m[c].pt.k.length,
                                            p = 0; p < d; p += 1)
                                                m[c].pt.k[p].s && i(m[c].pt.k[p].s[0]),
                                                m[c].pt.k[p].e && i(m[c].pt.k[p].e[0])
                                }
                                0 === s.ty ? (s.layers = e(s.refId, r),
                                a(s.layers, r, o)) : 4 === s.ty ? t(s.shapes) : 5 == s.ty && (0 !== (u = s).t.a.length || "m"in u.t.p || (u.singleShape = !0))
                            }
                    }(a.layers, a.assets, l),
                    a.__complete = !0)
                }
                ,
                l
            }
            var dataManager = dataFunctionManager()
              , FontManager = function() {
                var e = 5e3
                  , t = {
                    w: 0,
                    size: 0,
                    shapes: []
                }
                  , i = [];
                function a(e, t) {
                    var i = createTag("span");
                    i.style.fontFamily = t;
                    var a = createTag("span");
                    a.innerHTML = "giItT1WQy@!-/#",
                    i.style.position = "absolute",
                    i.style.left = "-10000px",
                    i.style.top = "-10000px",
                    i.style.fontSize = "300px",
                    i.style.fontVariant = "normal",
                    i.style.fontStyle = "normal",
                    i.style.fontWeight = "normal",
                    i.style.letterSpacing = "0",
                    i.appendChild(a),
                    document.body.appendChild(i);
                    var n = a.offsetWidth;
                    return a.style.fontFamily = e + ", " + t,
                    {
                        node: a,
                        w: n,
                        parent: i
                    }
                }
                function n(e, t) {
                    var i = createNS("text");
                    return i.style.fontSize = "100px",
                    i.setAttribute("font-family", t.fFamily),
                    i.setAttribute("font-style", t.fStyle),
                    i.setAttribute("font-weight", t.fWeight),
                    i.textContent = "1",
                    t.fClass ? (i.style.fontFamily = "inherit",
                    i.setAttribute("class", t.fClass)) : i.style.fontFamily = t.fFamily,
                    e.appendChild(i),
                    createTag("canvas").getContext("2d").font = t.fWeight + " " + t.fStyle + " 100px " + t.fFamily,
                    i
                }
                i = i.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);
                var r = function() {
                    this.fonts = [],
                    this.chars = null,
                    this.typekitLoaded = 0,
                    this.isLoaded = !1,
                    this.initTime = Date.now()
                };
                return r.getCombinedCharacterCodes = function() {
                    return i
                }
                ,
                r.prototype.addChars = function(e) {
                    if (e) {
                        this.chars || (this.chars = []);
                        var t, i, a, n = e.length, r = this.chars.length;
                        for (t = 0; t < n; t += 1) {
                            for (i = 0,
                            a = !1; i < r; )
                                this.chars[i].style === e[t].style && this.chars[i].fFamily === e[t].fFamily && this.chars[i].ch === e[t].ch && (a = !0),
                                i += 1;
                            a || (this.chars.push(e[t]),
                            r += 1)
                        }
                    }
                }
                ,
                r.prototype.addFonts = function(e, t) {
                    if (e) {
                        if (this.chars)
                            return this.isLoaded = !0,
                            void (this.fonts = e.list);
                        var i, r = e.list, o = r.length, s = o;
                        for (i = 0; i < o; i += 1) {
                            var l, c, h = !0;
                            if (r[i].loaded = !1,
                            r[i].monoCase = a(r[i].fFamily, "monospace"),
                            r[i].sansCase = a(r[i].fFamily, "sans-serif"),
                            r[i].fPath) {
                                if ("p" === r[i].fOrigin || 3 === r[i].origin) {
                                    if ((l = document.querySelectorAll('style[f-forigin="p"][f-family="' + r[i].fFamily + '"], style[f-origin="3"][f-family="' + r[i].fFamily + '"]')).length > 0 && (h = !1),
                                    h) {
                                        var p = createTag("style");
                                        p.setAttribute("f-forigin", r[i].fOrigin),
                                        p.setAttribute("f-origin", r[i].origin),
                                        p.setAttribute("f-family", r[i].fFamily),
                                        p.type = "text/css",
                                        p.innerHTML = "@font-face {font-family: " + r[i].fFamily + "; font-style: normal; src: url('" + r[i].fPath + "');}",
                                        t.appendChild(p)
                                    }
                                } else if ("g" === r[i].fOrigin || 1 === r[i].origin) {
                                    for (l = document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),
                                    c = 0; c < l.length; c++)
                                        -1 !== l[c].href.indexOf(r[i].fPath) && (h = !1);
                                    if (h) {
                                        var d = createTag("link");
                                        d.setAttribute("f-forigin", r[i].fOrigin),
                                        d.setAttribute("f-origin", r[i].origin),
                                        d.type = "text/css",
                                        d.rel = "stylesheet",
                                        d.href = r[i].fPath,
                                        document.body.appendChild(d)
                                    }
                                } else if ("t" === r[i].fOrigin || 2 === r[i].origin) {
                                    for (l = document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),
                                    c = 0; c < l.length; c++)
                                        r[i].fPath === l[c].src && (h = !1);
                                    if (h) {
                                        var u = createTag("link");
                                        u.setAttribute("f-forigin", r[i].fOrigin),
                                        u.setAttribute("f-origin", r[i].origin),
                                        u.setAttribute("rel", "stylesheet"),
                                        u.setAttribute("href", r[i].fPath),
                                        t.appendChild(u)
                                    }
                                }
                            } else
                                r[i].loaded = !0,
                                s -= 1;
                            r[i].helper = n(t, r[i]),
                            r[i].cache = {},
                            this.fonts.push(r[i])
                        }
                        0 === s ? this.isLoaded = !0 : setTimeout(this.checkLoadedFonts.bind(this), 100)
                    } else
                        this.isLoaded = !0
                }
                ,
                r.prototype.getCharData = function(e, i, a) {
                    for (var n = 0, r = this.chars.length; n < r; ) {
                        if (this.chars[n].ch === e && this.chars[n].style === i && this.chars[n].fFamily === a)
                            return this.chars[n];
                        n += 1
                    }
                    return ("string" === typeof e && 13 !== e.charCodeAt(0) || !e) && console && console.warn && console.warn("Missing character from exported characters list: ", e, i, a),
                    t
                }
                ,
                r.prototype.getFontByName = function(e) {
                    for (var t = 0, i = this.fonts.length; t < i; ) {
                        if (this.fonts[t].fName === e)
                            return this.fonts[t];
                        t += 1
                    }
                    return this.fonts[0]
                }
                ,
                r.prototype.measureText = function(e, t, i) {
                    var a = this.getFontByName(t)
                      , n = e.charCodeAt(0);
                    if (!a.cache[n + 1]) {
                        var r = a.helper;
                        if (" " === e) {
                            r.textContent = "|" + e + "|";
                            var o = r.getComputedTextLength();
                            r.textContent = "||";
                            var s = r.getComputedTextLength();
                            a.cache[n + 1] = (o - s) / 100
                        } else
                            r.textContent = e,
                            a.cache[n + 1] = r.getComputedTextLength() / 100
                    }
                    return a.cache[n + 1] * i
                }
                ,
                r.prototype.checkLoadedFonts = function() {
                    var t, i, a, n = this.fonts.length, r = n;
                    for (t = 0; t < n; t += 1)
                        this.fonts[t].loaded ? r -= 1 : "n" === this.fonts[t].fOrigin || 0 === this.fonts[t].origin ? this.fonts[t].loaded = !0 : (i = this.fonts[t].monoCase.node,
                        a = this.fonts[t].monoCase.w,
                        i.offsetWidth !== a ? (r -= 1,
                        this.fonts[t].loaded = !0) : (i = this.fonts[t].sansCase.node,
                        a = this.fonts[t].sansCase.w,
                        i.offsetWidth !== a && (r -= 1,
                        this.fonts[t].loaded = !0)),
                        this.fonts[t].loaded && (this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),
                        this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));
                    0 !== r && Date.now() - this.initTime < e ? setTimeout(this.checkLoadedFonts.bind(this), 20) : setTimeout(function() {
                        this.isLoaded = !0
                    }
                    .bind(this), 0)
                }
                ,
                r.prototype.loaded = function() {
                    return this.isLoaded
                }
                ,
                r
            }()
              , PropertyFactory = function() {
                var e = initialDefaultFrame
                  , t = Math.abs;
                function i(e, t) {
                    var i, n = this.offsetTime;
                    "multidimensional" === this.propType && (i = createTypedArray("float32", this.pv.length));
                    for (var r, o, s, l, c, h, p, d, u = t.lastIndex, g = u, m = this.keyframes.length - 1, f = !0; f; ) {
                        if (r = this.keyframes[g],
                        o = this.keyframes[g + 1],
                        g === m - 1 && e >= o.t - n) {
                            r.h && (r = o),
                            u = 0;
                            break
                        }
                        if (o.t - n > e) {
                            u = g;
                            break
                        }
                        g < m - 1 ? g += 1 : (u = 0,
                        f = !1)
                    }
                    var y, v = o.t - n, b = r.t - n;
                    if (r.to) {
                        r.bezierData || (r.bezierData = bez.buildBezierData(r.s, o.s || r.e, r.to, r.ti));
                        var A = r.bezierData;
                        if (e >= v || e < b) {
                            var C = e >= v ? A.points.length - 1 : 0;
                            for (l = A.points[C].point.length,
                            s = 0; s < l; s += 1)
                                i[s] = A.points[C].point[s]
                        } else {
                            r.__fnct ? d = r.__fnct : (d = BezierFactory.getBezierEasing(r.o.x, r.o.y, r.i.x, r.i.y, r.n).get,
                            r.__fnct = d),
                            c = d((e - b) / (v - b));
                            var w, _ = A.segmentLength * c, x = t.lastFrame < e && t._lastKeyframeIndex === g ? t._lastAddedLength : 0;
                            for (p = t.lastFrame < e && t._lastKeyframeIndex === g ? t._lastPoint : 0,
                            f = !0,
                            h = A.points.length; f; ) {
                                if (x += A.points[p].partialLength,
                                0 === _ || 0 === c || p === A.points.length - 1) {
                                    for (l = A.points[p].point.length,
                                    s = 0; s < l; s += 1)
                                        i[s] = A.points[p].point[s];
                                    break
                                }
                                if (_ >= x && _ < x + A.points[p + 1].partialLength) {
                                    for (w = (_ - x) / A.points[p + 1].partialLength,
                                    l = A.points[p].point.length,
                                    s = 0; s < l; s += 1)
                                        i[s] = A.points[p].point[s] + (A.points[p + 1].point[s] - A.points[p].point[s]) * w;
                                    break
                                }
                                p < h - 1 ? p += 1 : f = !1
                            }
                            t._lastPoint = p,
                            t._lastAddedLength = x - A.points[p].partialLength,
                            t._lastKeyframeIndex = g
                        }
                    } else {
                        var S, T, E, k, L;
                        if (m = r.s.length,
                        y = o.s || r.e,
                        this.sh && 1 !== r.h)
                            if (e >= v)
                                i[0] = y[0],
                                i[1] = y[1],
                                i[2] = y[2];
                            else if (e <= b)
                                i[0] = r.s[0],
                                i[1] = r.s[1],
                                i[2] = r.s[2];
                            else {
                                !function(e, t) {
                                    var i = t[0]
                                      , a = t[1]
                                      , n = t[2]
                                      , r = t[3]
                                      , o = Math.atan2(2 * a * r - 2 * i * n, 1 - 2 * a * a - 2 * n * n)
                                      , s = Math.asin(2 * i * a + 2 * n * r)
                                      , l = Math.atan2(2 * i * r - 2 * a * n, 1 - 2 * i * i - 2 * n * n);
                                    e[0] = o / degToRads,
                                    e[1] = s / degToRads,
                                    e[2] = l / degToRads
                                }(i, function(e, t, i) {
                                    var a, n, r, o, s, l = [], c = e[0], h = e[1], p = e[2], d = e[3], u = t[0], g = t[1], m = t[2], f = t[3];
                                    (n = c * u + h * g + p * m + d * f) < 0 && (n = -n,
                                    u = -u,
                                    g = -g,
                                    m = -m,
                                    f = -f);
                                    1 - n > 1e-6 ? (a = Math.acos(n),
                                    r = Math.sin(a),
                                    o = Math.sin((1 - i) * a) / r,
                                    s = Math.sin(i * a) / r) : (o = 1 - i,
                                    s = i);
                                    return l[0] = o * c + s * u,
                                    l[1] = o * h + s * g,
                                    l[2] = o * p + s * m,
                                    l[3] = o * d + s * f,
                                    l
                                }(a(r.s), a(y), (e - b) / (v - b)))
                            }
                        else
                            for (g = 0; g < m; g += 1)
                                1 !== r.h && (e >= v ? c = 1 : e < b ? c = 0 : (r.o.x.constructor === Array ? (r.__fnct || (r.__fnct = []),
                                r.__fnct[g] ? d = r.__fnct[g] : (S = "undefined" === typeof r.o.x[g] ? r.o.x[0] : r.o.x[g],
                                T = "undefined" === typeof r.o.y[g] ? r.o.y[0] : r.o.y[g],
                                E = "undefined" === typeof r.i.x[g] ? r.i.x[0] : r.i.x[g],
                                k = "undefined" === typeof r.i.y[g] ? r.i.y[0] : r.i.y[g],
                                d = BezierFactory.getBezierEasing(S, T, E, k).get,
                                r.__fnct[g] = d)) : r.__fnct ? d = r.__fnct : (S = r.o.x,
                                T = r.o.y,
                                E = r.i.x,
                                k = r.i.y,
                                d = BezierFactory.getBezierEasing(S, T, E, k).get,
                                r.__fnct = d),
                                c = d((e - b) / (v - b)))),
                                y = o.s || r.e,
                                L = 1 === r.h ? r.s[g] : r.s[g] + (y[g] - r.s[g]) * c,
                                1 === m ? i = L : i[g] = L
                    }
                    return t.lastIndex = u,
                    i
                }
                function a(e) {
                    var t = e[0] * degToRads
                      , i = e[1] * degToRads
                      , a = e[2] * degToRads
                      , n = Math.cos(t / 2)
                      , r = Math.cos(i / 2)
                      , o = Math.cos(a / 2)
                      , s = Math.sin(t / 2)
                      , l = Math.sin(i / 2)
                      , c = Math.sin(a / 2);
                    return [s * l * o + n * r * c, s * r * o + n * l * c, n * l * o - s * r * c, n * r * o - s * l * c]
                }
                function n() {
                    var t = this.comp.renderedFrame - this.offsetTime
                      , i = this.keyframes[0].t - this.offsetTime
                      , a = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;
                    if (!(t === this._caching.lastFrame || this._caching.lastFrame !== e && (this._caching.lastFrame >= a && t >= a || this._caching.lastFrame < i && t < i))) {
                        this._caching.lastFrame >= t && (this._caching._lastKeyframeIndex = -1,
                        this._caching.lastIndex = 0);
                        var n = this.interpolateValue(t, this._caching);
                        this.pv = n
                    }
                    return this._caching.lastFrame = t,
                    this.pv
                }
                function r(e) {
                    var i;
                    if ("unidimensional" === this.propType)
                        i = e * this.mult,
                        t(this.v - i) > 1e-5 && (this.v = i,
                        this._mdf = !0);
                    else
                        for (var a = 0, n = this.v.length; a < n; )
                            i = e[a] * this.mult,
                            t(this.v[a] - i) > 1e-5 && (this.v[a] = i,
                            this._mdf = !0),
                            a += 1
                }
                function o() {
                    if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length)
                        if (this.lock)
                            this.setVValue(this.pv);
                        else {
                            this.lock = !0,
                            this._mdf = this._isFirstFrame;
                            var e, t = this.effectsSequence.length, i = this.kf ? this.pv : this.data.k;
                            for (e = 0; e < t; e += 1)
                                i = this.effectsSequence[e](i);
                            this.setVValue(i),
                            this._isFirstFrame = !1,
                            this.lock = !1,
                            this.frameId = this.elem.globalData.frameId
                        }
                }
                function s(e) {
                    this.effectsSequence.push(e),
                    this.container.addDynamicProperty(this)
                }
                function l(e, t, i, a) {
                    this.propType = "unidimensional",
                    this.mult = i || 1,
                    this.data = t,
                    this.v = i ? t.k * i : t.k,
                    this.pv = t.k,
                    this._mdf = !1,
                    this.elem = e,
                    this.container = a,
                    this.comp = e.comp,
                    this.k = !1,
                    this.kf = !1,
                    this.vel = 0,
                    this.effectsSequence = [],
                    this._isFirstFrame = !0,
                    this.getValue = o,
                    this.setVValue = r,
                    this.addEffect = s
                }
                function c(e, t, i, a) {
                    this.propType = "multidimensional",
                    this.mult = i || 1,
                    this.data = t,
                    this._mdf = !1,
                    this.elem = e,
                    this.container = a,
                    this.comp = e.comp,
                    this.k = !1,
                    this.kf = !1,
                    this.frameId = -1;
                    var n, l = t.k.length;
                    this.v = createTypedArray("float32", l),
                    this.pv = createTypedArray("float32", l);
                    createTypedArray("float32", l);
                    for (this.vel = createTypedArray("float32", l),
                    n = 0; n < l; n += 1)
                        this.v[n] = t.k[n] * this.mult,
                        this.pv[n] = t.k[n];
                    this._isFirstFrame = !0,
                    this.effectsSequence = [],
                    this.getValue = o,
                    this.setVValue = r,
                    this.addEffect = s
                }
                function h(t, a, l, c) {
                    this.propType = "unidimensional",
                    this.keyframes = a.k,
                    this.offsetTime = t.data.st,
                    this.frameId = -1,
                    this._caching = {
                        lastFrame: e,
                        lastIndex: 0,
                        value: 0,
                        _lastKeyframeIndex: -1
                    },
                    this.k = !0,
                    this.kf = !0,
                    this.data = a,
                    this.mult = l || 1,
                    this.elem = t,
                    this.container = c,
                    this.comp = t.comp,
                    this.v = e,
                    this.pv = e,
                    this._isFirstFrame = !0,
                    this.getValue = o,
                    this.setVValue = r,
                    this.interpolateValue = i,
                    this.effectsSequence = [n.bind(this)],
                    this.addEffect = s
                }
                function p(t, a, l, c) {
                    this.propType = "multidimensional";
                    var h, p, d, u, g, m = a.k.length;
                    for (h = 0; h < m - 1; h += 1)
                        a.k[h].to && a.k[h].s && a.k[h].e && (p = a.k[h].s,
                        d = a.k[h].e,
                        u = a.k[h].to,
                        g = a.k[h].ti,
                        (2 === p.length && (p[0] !== d[0] || p[1] !== d[1]) && bez.pointOnLine2D(p[0], p[1], d[0], d[1], p[0] + u[0], p[1] + u[1]) && bez.pointOnLine2D(p[0], p[1], d[0], d[1], d[0] + g[0], d[1] + g[1]) || 3 === p.length && (p[0] !== d[0] || p[1] !== d[1] || p[2] !== d[2]) && bez.pointOnLine3D(p[0], p[1], p[2], d[0], d[1], d[2], p[0] + u[0], p[1] + u[1], p[2] + u[2]) && bez.pointOnLine3D(p[0], p[1], p[2], d[0], d[1], d[2], d[0] + g[0], d[1] + g[1], d[2] + g[2])) && (a.k[h].to = null,
                        a.k[h].ti = null),
                        p[0] === d[0] && p[1] === d[1] && 0 === u[0] && 0 === u[1] && 0 === g[0] && 0 === g[1] && (2 === p.length || p[2] === d[2] && 0 === u[2] && 0 === g[2]) && (a.k[h].to = null,
                        a.k[h].ti = null));
                    this.effectsSequence = [n.bind(this)],
                    this.keyframes = a.k,
                    this.offsetTime = t.data.st,
                    this.k = !0,
                    this.kf = !0,
                    this._isFirstFrame = !0,
                    this.mult = l || 1,
                    this.elem = t,
                    this.container = c,
                    this.comp = t.comp,
                    this.getValue = o,
                    this.setVValue = r,
                    this.interpolateValue = i,
                    this.frameId = -1;
                    var f = a.k[0].s.length;
                    for (this.v = createTypedArray("float32", f),
                    this.pv = createTypedArray("float32", f),
                    h = 0; h < f; h += 1)
                        this.v[h] = e,
                        this.pv[h] = e;
                    this._caching = {
                        lastFrame: e,
                        lastIndex: 0,
                        value: createTypedArray("float32", f)
                    },
                    this.addEffect = s
                }
                return {
                    getProp: function(e, t, i, a, n) {
                        var r;
                        if (t.k.length)
                            if ("number" === typeof t.k[0])
                                r = new c(e,t,a,n);
                            else
                                switch (i) {
                                case 0:
                                    r = new h(e,t,a,n);
                                    break;
                                case 1:
                                    r = new p(e,t,a,n)
                                }
                        else
                            r = new l(e,t,a,n);
                        return r.effectsSequence.length && n.addDynamicProperty(r),
                        r
                    }
                }
            }()
              , TransformPropertyFactory = function() {
                function e(e, t, i) {
                    if (this.elem = e,
                    this.frameId = -1,
                    this.propType = "transform",
                    this.data = t,
                    this.v = new Matrix,
                    this.pre = new Matrix,
                    this.appliedTransformations = 0,
                    this.initDynamicPropertyContainer(i || e),
                    t.p && t.p.s ? (this.px = PropertyFactory.getProp(e, t.p.x, 0, 0, this),
                    this.py = PropertyFactory.getProp(e, t.p.y, 0, 0, this),
                    t.p.z && (this.pz = PropertyFactory.getProp(e, t.p.z, 0, 0, this))) : this.p = PropertyFactory.getProp(e, t.p || {
                        k: [0, 0, 0]
                    }, 1, 0, this),
                    t.rx) {
                        if (this.rx = PropertyFactory.getProp(e, t.rx, 0, degToRads, this),
                        this.ry = PropertyFactory.getProp(e, t.ry, 0, degToRads, this),
                        this.rz = PropertyFactory.getProp(e, t.rz, 0, degToRads, this),
                        t.or.k[0].ti) {
                            var a, n = t.or.k.length;
                            for (a = 0; a < n; a += 1)
                                t.or.k[a].to = t.or.k[a].ti = null
                        }
                        this.or = PropertyFactory.getProp(e, t.or, 1, degToRads, this),
                        this.or.sh = !0
                    } else
                        this.r = PropertyFactory.getProp(e, t.r || {
                            k: 0
                        }, 0, degToRads, this);
                    t.sk && (this.sk = PropertyFactory.getProp(e, t.sk, 0, degToRads, this),
                    this.sa = PropertyFactory.getProp(e, t.sa, 0, degToRads, this)),
                    this.a = PropertyFactory.getProp(e, t.a || {
                        k: [0, 0, 0]
                    }, 1, 0, this),
                    this.s = PropertyFactory.getProp(e, t.s || {
                        k: [100, 100, 100]
                    }, 1, .01, this),
                    t.o ? this.o = PropertyFactory.getProp(e, t.o, 0, .01, e) : this.o = {
                        _mdf: !1,
                        v: 1
                    },
                    this._isDirty = !0,
                    this.dynamicProperties.length || this.getValue(!0)
                }
                return e.prototype = {
                    applyToMatrix: function(e) {
                        var t = this._mdf;
                        this.iterateDynamicProperties(),
                        this._mdf = this._mdf || t,
                        this.a && e.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]),
                        this.s && e.scale(this.s.v[0], this.s.v[1], this.s.v[2]),
                        this.sk && e.skewFromAxis(-this.sk.v, this.sa.v),
                        this.r ? e.rotate(-this.r.v) : e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),
                        this.data.p.s ? this.data.p.z ? e.translate(this.px.v, this.py.v, -this.pz.v) : e.translate(this.px.v, this.py.v, 0) : e.translate(this.p.v[0], this.p.v[1], -this.p.v[2])
                    },
                    getValue: function(e) {
                        if (this.elem.globalData.frameId !== this.frameId) {
                            if (this._isDirty && (this.precalculateMatrix(),
                            this._isDirty = !1),
                            this.iterateDynamicProperties(),
                            this._mdf || e) {
                                if (this.v.cloneFromProps(this.pre.props),
                                this.appliedTransformations < 1 && this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]),
                                this.appliedTransformations < 2 && this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]),
                                this.sk && this.appliedTransformations < 3 && this.v.skewFromAxis(-this.sk.v, this.sa.v),
                                this.r && this.appliedTransformations < 4 ? this.v.rotate(-this.r.v) : !this.r && this.appliedTransformations < 4 && this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),
                                this.autoOriented) {
                                    var t, i, a = this.elem.globalData.frameRate;
                                    if (this.p && this.p.keyframes && this.p.getValueAtTime)
                                        this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t ? (t = this.p.getValueAtTime((this.p.keyframes[0].t + .01) / a, 0),
                                        i = this.p.getValueAtTime(this.p.keyframes[0].t / a, 0)) : this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t ? (t = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / a, 0),
                                        i = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - .01) / a, 0)) : (t = this.p.pv,
                                        i = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - .01) / a, this.p.offsetTime));
                                    else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {
                                        t = [],
                                        i = [];
                                        var n = this.px
                                          , r = this.py;
                                        n._caching.lastFrame + n.offsetTime <= n.keyframes[0].t ? (t[0] = n.getValueAtTime((n.keyframes[0].t + .01) / a, 0),
                                        t[1] = r.getValueAtTime((r.keyframes[0].t + .01) / a, 0),
                                        i[0] = n.getValueAtTime(n.keyframes[0].t / a, 0),
                                        i[1] = r.getValueAtTime(r.keyframes[0].t / a, 0)) : n._caching.lastFrame + n.offsetTime >= n.keyframes[n.keyframes.length - 1].t ? (t[0] = n.getValueAtTime(n.keyframes[n.keyframes.length - 1].t / a, 0),
                                        t[1] = r.getValueAtTime(r.keyframes[r.keyframes.length - 1].t / a, 0),
                                        i[0] = n.getValueAtTime((n.keyframes[n.keyframes.length - 1].t - .01) / a, 0),
                                        i[1] = r.getValueAtTime((r.keyframes[r.keyframes.length - 1].t - .01) / a, 0)) : (t = [n.pv, r.pv],
                                        i[0] = n.getValueAtTime((n._caching.lastFrame + n.offsetTime - .01) / a, n.offsetTime),
                                        i[1] = r.getValueAtTime((r._caching.lastFrame + r.offsetTime - .01) / a, r.offsetTime))
                                    }
                                    this.v.rotate(-Math.atan2(t[1] - i[1], t[0] - i[0]))
                                }
                                this.data.p && this.data.p.s ? this.data.p.z ? this.v.translate(this.px.v, this.py.v, -this.pz.v) : this.v.translate(this.px.v, this.py.v, 0) : this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2])
                            }
                            this.frameId = this.elem.globalData.frameId
                        }
                    },
                    precalculateMatrix: function() {
                        if (!this.a.k && (this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]),
                        this.appliedTransformations = 1,
                        !this.s.effectsSequence.length)) {
                            if (this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]),
                            this.appliedTransformations = 2,
                            this.sk) {
                                if (this.sk.effectsSequence.length || this.sa.effectsSequence.length)
                                    return;
                                this.pre.skewFromAxis(-this.sk.v, this.sa.v),
                                this.appliedTransformations = 3
                            }
                            if (this.r) {
                                if (this.r.effectsSequence.length)
                                    return;
                                this.pre.rotate(-this.r.v),
                                this.appliedTransformations = 4
                            } else
                                this.rz.effectsSequence.length || this.ry.effectsSequence.length || this.rx.effectsSequence.length || this.or.effectsSequence.length || (this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),
                                this.appliedTransformations = 4)
                        }
                    },
                    autoOrient: function() {}
                },
                extendPrototype([DynamicPropertyContainer], e),
                e.prototype.addDynamicProperty = function(e) {
                    this._addDynamicProperty(e),
                    this.elem.addDynamicProperty(e),
                    this._isDirty = !0
                }
                ,
                e.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty,
                {
                    getTransformProperty: function(t, i, a) {
                        return new e(t,i,a)
                    }
                }
            }();
            function ShapePath() {
                this.c = !1,
                this._length = 0,
                this._maxLength = 8,
                this.v = createSizedArray(this._maxLength),
                this.o = createSizedArray(this._maxLength),
                this.i = createSizedArray(this._maxLength)
            }
            ShapePath.prototype.setPathData = function(e, t) {
                this.c = e,
                this.setLength(t);
                for (var i = 0; i < t; )
                    this.v[i] = point_pool.newElement(),
                    this.o[i] = point_pool.newElement(),
                    this.i[i] = point_pool.newElement(),
                    i += 1
            }
            ,
            ShapePath.prototype.setLength = function(e) {
                for (; this._maxLength < e; )
                    this.doubleArrayLength();
                this._length = e
            }
            ,
            ShapePath.prototype.doubleArrayLength = function() {
                this.v = this.v.concat(createSizedArray(this._maxLength)),
                this.i = this.i.concat(createSizedArray(this._maxLength)),
                this.o = this.o.concat(createSizedArray(this._maxLength)),
                this._maxLength *= 2
            }
            ,
            ShapePath.prototype.setXYAt = function(e, t, i, a, n) {
                var r;
                switch (this._length = Math.max(this._length, a + 1),
                this._length >= this._maxLength && this.doubleArrayLength(),
                i) {
                case "v":
                    r = this.v;
                    break;
                case "i":
                    r = this.i;
                    break;
                case "o":
                    r = this.o
                }
                (!r[a] || r[a] && !n) && (r[a] = point_pool.newElement()),
                r[a][0] = e,
                r[a][1] = t
            }
            ,
            ShapePath.prototype.setTripleAt = function(e, t, i, a, n, r, o, s) {
                this.setXYAt(e, t, "v", o, s),
                this.setXYAt(i, a, "o", o, s),
                this.setXYAt(n, r, "i", o, s)
            }
            ,
            ShapePath.prototype.reverse = function() {
                var e = new ShapePath;
                e.setPathData(this.c, this._length);
                var t = this.v
                  , i = this.o
                  , a = this.i
                  , n = 0;
                this.c && (e.setTripleAt(t[0][0], t[0][1], a[0][0], a[0][1], i[0][0], i[0][1], 0, !1),
                n = 1);
                var r, o = this._length - 1, s = this._length;
                for (r = n; r < s; r += 1)
                    e.setTripleAt(t[o][0], t[o][1], a[o][0], a[o][1], i[o][0], i[o][1], r, !1),
                    o -= 1;
                return e
            }
            ;
            var ShapePropertyFactory = function() {
                var e = -999999;
                function t(e, t, i) {
                    var a, n, r, o, s, l, c, h, p, d = i.lastIndex, u = this.keyframes;
                    if (e < u[0].t - this.offsetTime)
                        a = u[0].s[0],
                        r = !0,
                        d = 0;
                    else if (e >= u[u.length - 1].t - this.offsetTime)
                        a = u[u.length - 1].s ? u[u.length - 1].s[0] : u[u.length - 2].e[0],
                        r = !0;
                    else {
                        for (var g, m, f = d, y = u.length - 1, v = !0; v && (g = u[f],
                        !((m = u[f + 1]).t - this.offsetTime > e)); )
                            f < y - 1 ? f += 1 : v = !1;
                        if (d = f,
                        !(r = 1 === g.h)) {
                            if (e >= m.t - this.offsetTime)
                                h = 1;
                            else if (e < g.t - this.offsetTime)
                                h = 0;
                            else {
                                var b;
                                g.__fnct ? b = g.__fnct : (b = BezierFactory.getBezierEasing(g.o.x, g.o.y, g.i.x, g.i.y).get,
                                g.__fnct = b),
                                h = b((e - (g.t - this.offsetTime)) / (m.t - this.offsetTime - (g.t - this.offsetTime)))
                            }
                            n = m.s ? m.s[0] : g.e[0]
                        }
                        a = g.s[0]
                    }
                    for (l = t._length,
                    c = a.i[0].length,
                    i.lastIndex = d,
                    o = 0; o < l; o += 1)
                        for (s = 0; s < c; s += 1)
                            p = r ? a.i[o][s] : a.i[o][s] + (n.i[o][s] - a.i[o][s]) * h,
                            t.i[o][s] = p,
                            p = r ? a.o[o][s] : a.o[o][s] + (n.o[o][s] - a.o[o][s]) * h,
                            t.o[o][s] = p,
                            p = r ? a.v[o][s] : a.v[o][s] + (n.v[o][s] - a.v[o][s]) * h,
                            t.v[o][s] = p
                }
                function i() {
                    var t = this.comp.renderedFrame - this.offsetTime
                      , i = this.keyframes[0].t - this.offsetTime
                      , a = this.keyframes[this.keyframes.length - 1].t - this.offsetTime
                      , n = this._caching.lastFrame;
                    return n !== e && (n < i && t < i || n > a && t > a) || (this._caching.lastIndex = n < t ? this._caching.lastIndex : 0,
                    this.interpolateShape(t, this.pv, this._caching)),
                    this._caching.lastFrame = t,
                    this.pv
                }
                function a() {
                    this.paths = this.localShapeCollection
                }
                function n(e) {
                    (function(e, t) {
                        if (e._length !== t._length || e.c !== t.c)
                            return !1;
                        var i, a = e._length;
                        for (i = 0; i < a; i += 1)
                            if (e.v[i][0] !== t.v[i][0] || e.v[i][1] !== t.v[i][1] || e.o[i][0] !== t.o[i][0] || e.o[i][1] !== t.o[i][1] || e.i[i][0] !== t.i[i][0] || e.i[i][1] !== t.i[i][1])
                                return !1;
                        return !0
                    }
                    )(this.v, e) || (this.v = shape_pool.clone(e),
                    this.localShapeCollection.releaseShapes(),
                    this.localShapeCollection.addShape(this.v),
                    this._mdf = !0,
                    this.paths = this.localShapeCollection)
                }
                function r() {
                    if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length)
                        if (this.lock)
                            this.setVValue(this.pv);
                        else {
                            this.lock = !0,
                            this._mdf = !1;
                            var e, t = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k, i = this.effectsSequence.length;
                            for (e = 0; e < i; e += 1)
                                t = this.effectsSequence[e](t);
                            this.setVValue(t),
                            this.lock = !1,
                            this.frameId = this.elem.globalData.frameId
                        }
                }
                function o(e, t, i) {
                    this.propType = "shape",
                    this.comp = e.comp,
                    this.container = e,
                    this.elem = e,
                    this.data = t,
                    this.k = !1,
                    this.kf = !1,
                    this._mdf = !1;
                    var n = 3 === i ? t.pt.k : t.ks.k;
                    this.v = shape_pool.clone(n),
                    this.pv = shape_pool.clone(this.v),
                    this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                    this.paths = this.localShapeCollection,
                    this.paths.addShape(this.v),
                    this.reset = a,
                    this.effectsSequence = []
                }
                function s(e) {
                    this.effectsSequence.push(e),
                    this.container.addDynamicProperty(this)
                }
                function l(t, n, r) {
                    this.propType = "shape",
                    this.comp = t.comp,
                    this.elem = t,
                    this.container = t,
                    this.offsetTime = t.data.st,
                    this.keyframes = 3 === r ? n.pt.k : n.ks.k,
                    this.k = !0,
                    this.kf = !0;
                    var o = this.keyframes[0].s[0].i.length;
                    this.keyframes[0].s[0].i[0].length;
                    this.v = shape_pool.newElement(),
                    this.v.setPathData(this.keyframes[0].s[0].c, o),
                    this.pv = shape_pool.clone(this.v),
                    this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                    this.paths = this.localShapeCollection,
                    this.paths.addShape(this.v),
                    this.lastFrame = e,
                    this.reset = a,
                    this._caching = {
                        lastFrame: e,
                        lastIndex: 0
                    },
                    this.effectsSequence = [i.bind(this)]
                }
                o.prototype.interpolateShape = t,
                o.prototype.getValue = r,
                o.prototype.setVValue = n,
                o.prototype.addEffect = s,
                l.prototype.getValue = r,
                l.prototype.interpolateShape = t,
                l.prototype.setVValue = n,
                l.prototype.addEffect = s;
                var c = function() {
                    var e = roundCorner;
                    function t(e, t) {
                        this.v = shape_pool.newElement(),
                        this.v.setPathData(!0, 4),
                        this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                        this.paths = this.localShapeCollection,
                        this.localShapeCollection.addShape(this.v),
                        this.d = t.d,
                        this.elem = e,
                        this.comp = e.comp,
                        this.frameId = -1,
                        this.initDynamicPropertyContainer(e),
                        this.p = PropertyFactory.getProp(e, t.p, 1, 0, this),
                        this.s = PropertyFactory.getProp(e, t.s, 1, 0, this),
                        this.dynamicProperties.length ? this.k = !0 : (this.k = !1,
                        this.convertEllToPath())
                    }
                    return t.prototype = {
                        reset: a,
                        getValue: function() {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                            this.iterateDynamicProperties(),
                            this._mdf && this.convertEllToPath())
                        },
                        convertEllToPath: function() {
                            var t = this.p.v[0]
                              , i = this.p.v[1]
                              , a = this.s.v[0] / 2
                              , n = this.s.v[1] / 2
                              , r = 3 !== this.d
                              , o = this.v;
                            o.v[0][0] = t,
                            o.v[0][1] = i - n,
                            o.v[1][0] = r ? t + a : t - a,
                            o.v[1][1] = i,
                            o.v[2][0] = t,
                            o.v[2][1] = i + n,
                            o.v[3][0] = r ? t - a : t + a,
                            o.v[3][1] = i,
                            o.i[0][0] = r ? t - a * e : t + a * e,
                            o.i[0][1] = i - n,
                            o.i[1][0] = r ? t + a : t - a,
                            o.i[1][1] = i - n * e,
                            o.i[2][0] = r ? t + a * e : t - a * e,
                            o.i[2][1] = i + n,
                            o.i[3][0] = r ? t - a : t + a,
                            o.i[3][1] = i + n * e,
                            o.o[0][0] = r ? t + a * e : t - a * e,
                            o.o[0][1] = i - n,
                            o.o[1][0] = r ? t + a : t - a,
                            o.o[1][1] = i + n * e,
                            o.o[2][0] = r ? t - a * e : t + a * e,
                            o.o[2][1] = i + n,
                            o.o[3][0] = r ? t - a : t + a,
                            o.o[3][1] = i - n * e
                        }
                    },
                    extendPrototype([DynamicPropertyContainer], t),
                    t
                }()
                  , h = function() {
                    function e(e, t) {
                        this.v = shape_pool.newElement(),
                        this.v.setPathData(!0, 0),
                        this.elem = e,
                        this.comp = e.comp,
                        this.data = t,
                        this.frameId = -1,
                        this.d = t.d,
                        this.initDynamicPropertyContainer(e),
                        1 === t.sy ? (this.ir = PropertyFactory.getProp(e, t.ir, 0, 0, this),
                        this.is = PropertyFactory.getProp(e, t.is, 0, .01, this),
                        this.convertToPath = this.convertStarToPath) : this.convertToPath = this.convertPolygonToPath,
                        this.pt = PropertyFactory.getProp(e, t.pt, 0, 0, this),
                        this.p = PropertyFactory.getProp(e, t.p, 1, 0, this),
                        this.r = PropertyFactory.getProp(e, t.r, 0, degToRads, this),
                        this.or = PropertyFactory.getProp(e, t.or, 0, 0, this),
                        this.os = PropertyFactory.getProp(e, t.os, 0, .01, this),
                        this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                        this.localShapeCollection.addShape(this.v),
                        this.paths = this.localShapeCollection,
                        this.dynamicProperties.length ? this.k = !0 : (this.k = !1,
                        this.convertToPath())
                    }
                    return e.prototype = {
                        reset: a,
                        getValue: function() {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                            this.iterateDynamicProperties(),
                            this._mdf && this.convertToPath())
                        },
                        convertStarToPath: function() {
                            var e, t, i, a, n = 2 * Math.floor(this.pt.v), r = 2 * Math.PI / n, o = !0, s = this.or.v, l = this.ir.v, c = this.os.v, h = this.is.v, p = 2 * Math.PI * s / (2 * n), d = 2 * Math.PI * l / (2 * n), u = -Math.PI / 2;
                            u += this.r.v;
                            var g = 3 === this.data.d ? -1 : 1;
                            for (this.v._length = 0,
                            e = 0; e < n; e += 1) {
                                i = o ? c : h,
                                a = o ? p : d;
                                var m = (t = o ? s : l) * Math.cos(u)
                                  , f = t * Math.sin(u)
                                  , y = 0 === m && 0 === f ? 0 : f / Math.sqrt(m * m + f * f)
                                  , v = 0 === m && 0 === f ? 0 : -m / Math.sqrt(m * m + f * f);
                                m += +this.p.v[0],
                                f += +this.p.v[1],
                                this.v.setTripleAt(m, f, m - y * a * i * g, f - v * a * i * g, m + y * a * i * g, f + v * a * i * g, e, !0),
                                o = !o,
                                u += r * g
                            }
                        },
                        convertPolygonToPath: function() {
                            var e, t = Math.floor(this.pt.v), i = 2 * Math.PI / t, a = this.or.v, n = this.os.v, r = 2 * Math.PI * a / (4 * t), o = -Math.PI / 2, s = 3 === this.data.d ? -1 : 1;
                            for (o += this.r.v,
                            this.v._length = 0,
                            e = 0; e < t; e += 1) {
                                var l = a * Math.cos(o)
                                  , c = a * Math.sin(o)
                                  , h = 0 === l && 0 === c ? 0 : c / Math.sqrt(l * l + c * c)
                                  , p = 0 === l && 0 === c ? 0 : -l / Math.sqrt(l * l + c * c);
                                l += +this.p.v[0],
                                c += +this.p.v[1],
                                this.v.setTripleAt(l, c, l - h * r * n * s, c - p * r * n * s, l + h * r * n * s, c + p * r * n * s, e, !0),
                                o += i * s
                            }
                            this.paths.length = 0,
                            this.paths[0] = this.v
                        }
                    },
                    extendPrototype([DynamicPropertyContainer], e),
                    e
                }()
                  , p = function() {
                    function e(e, t) {
                        this.v = shape_pool.newElement(),
                        this.v.c = !0,
                        this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                        this.localShapeCollection.addShape(this.v),
                        this.paths = this.localShapeCollection,
                        this.elem = e,
                        this.comp = e.comp,
                        this.frameId = -1,
                        this.d = t.d,
                        this.initDynamicPropertyContainer(e),
                        this.p = PropertyFactory.getProp(e, t.p, 1, 0, this),
                        this.s = PropertyFactory.getProp(e, t.s, 1, 0, this),
                        this.r = PropertyFactory.getProp(e, t.r, 0, 0, this),
                        this.dynamicProperties.length ? this.k = !0 : (this.k = !1,
                        this.convertRectToPath())
                    }
                    return e.prototype = {
                        convertRectToPath: function() {
                            var e = this.p.v[0]
                              , t = this.p.v[1]
                              , i = this.s.v[0] / 2
                              , a = this.s.v[1] / 2
                              , n = bm_min(i, a, this.r.v)
                              , r = n * (1 - roundCorner);
                            this.v._length = 0,
                            2 === this.d || 1 === this.d ? (this.v.setTripleAt(e + i, t - a + n, e + i, t - a + n, e + i, t - a + r, 0, !0),
                            this.v.setTripleAt(e + i, t + a - n, e + i, t + a - r, e + i, t + a - n, 1, !0),
                            0 !== n ? (this.v.setTripleAt(e + i - n, t + a, e + i - n, t + a, e + i - r, t + a, 2, !0),
                            this.v.setTripleAt(e - i + n, t + a, e - i + r, t + a, e - i + n, t + a, 3, !0),
                            this.v.setTripleAt(e - i, t + a - n, e - i, t + a - n, e - i, t + a - r, 4, !0),
                            this.v.setTripleAt(e - i, t - a + n, e - i, t - a + r, e - i, t - a + n, 5, !0),
                            this.v.setTripleAt(e - i + n, t - a, e - i + n, t - a, e - i + r, t - a, 6, !0),
                            this.v.setTripleAt(e + i - n, t - a, e + i - r, t - a, e + i - n, t - a, 7, !0)) : (this.v.setTripleAt(e - i, t + a, e - i + r, t + a, e - i, t + a, 2),
                            this.v.setTripleAt(e - i, t - a, e - i, t - a + r, e - i, t - a, 3))) : (this.v.setTripleAt(e + i, t - a + n, e + i, t - a + r, e + i, t - a + n, 0, !0),
                            0 !== n ? (this.v.setTripleAt(e + i - n, t - a, e + i - n, t - a, e + i - r, t - a, 1, !0),
                            this.v.setTripleAt(e - i + n, t - a, e - i + r, t - a, e - i + n, t - a, 2, !0),
                            this.v.setTripleAt(e - i, t - a + n, e - i, t - a + n, e - i, t - a + r, 3, !0),
                            this.v.setTripleAt(e - i, t + a - n, e - i, t + a - r, e - i, t + a - n, 4, !0),
                            this.v.setTripleAt(e - i + n, t + a, e - i + n, t + a, e - i + r, t + a, 5, !0),
                            this.v.setTripleAt(e + i - n, t + a, e + i - r, t + a, e + i - n, t + a, 6, !0),
                            this.v.setTripleAt(e + i, t + a - n, e + i, t + a - n, e + i, t + a - r, 7, !0)) : (this.v.setTripleAt(e - i, t - a, e - i + r, t - a, e - i, t - a, 1, !0),
                            this.v.setTripleAt(e - i, t + a, e - i, t + a - r, e - i, t + a, 2, !0),
                            this.v.setTripleAt(e + i, t + a, e + i - r, t + a, e + i, t + a, 3, !0)))
                        },
                        getValue: function(e) {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                            this.iterateDynamicProperties(),
                            this._mdf && this.convertRectToPath())
                        },
                        reset: a
                    },
                    extendPrototype([DynamicPropertyContainer], e),
                    e
                }();
                var d = {
                    getShapeProp: function(e, t, i) {
                        var a;
                        return 3 === i || 4 === i ? a = (3 === i ? t.pt : t.ks).k.length ? new l(e,t,i) : new o(e,t,i) : 5 === i ? a = new p(e,t) : 6 === i ? a = new c(e,t) : 7 === i && (a = new h(e,t)),
                        a.k && e.addDynamicProperty(a),
                        a
                    },
                    getConstructorFunction: function() {
                        return o
                    },
                    getKeyframedConstructorFunction: function() {
                        return l
                    }
                };
                return d
            }()
              , ShapeModifiers = function() {
                var e = {}
                  , t = {};
                return e.registerModifier = function(e, i) {
                    t[e] || (t[e] = i)
                }
                ,
                e.getModifier = function(e, i, a) {
                    return new t[e](i,a)
                }
                ,
                e
            }();
            function ShapeModifier() {}
            function TrimModifier() {}
            function RoundCornersModifier() {}
            function RepeaterModifier() {}
            function ShapeCollection() {
                this._length = 0,
                this._maxLength = 4,
                this.shapes = createSizedArray(this._maxLength)
            }
            function DashProperty(e, t, i, a) {
                this.elem = e,
                this.frameId = -1,
                this.dataProps = createSizedArray(t.length),
                this.renderer = i,
                this.k = !1,
                this.dashStr = "",
                this.dashArray = createTypedArray("float32", t.length ? t.length - 1 : 0),
                this.dashoffset = createTypedArray("float32", 1),
                this.initDynamicPropertyContainer(a);
                var n, r, o = t.length || 0;
                for (n = 0; n < o; n += 1)
                    r = PropertyFactory.getProp(e, t[n].v, 0, 0, this),
                    this.k = r.k || this.k,
                    this.dataProps[n] = {
                        n: t[n].n,
                        p: r
                    };
                this.k || this.getValue(!0),
                this._isAnimated = this.k
            }
            function GradientProperty(e, t, i) {
                this.data = t,
                this.c = createTypedArray("uint8c", 4 * t.p);
                var a = t.k.k[0].s ? t.k.k[0].s.length - 4 * t.p : t.k.k.length - 4 * t.p;
                this.o = createTypedArray("float32", a),
                this._cmdf = !1,
                this._omdf = !1,
                this._collapsable = this.checkCollapsable(),
                this._hasOpacity = a,
                this.initDynamicPropertyContainer(i),
                this.prop = PropertyFactory.getProp(e, t.k, 1, null, this),
                this.k = this.prop.k,
                this.getValue(!0)
            }
            ShapeModifier.prototype.initModifierProperties = function() {}
            ,
            ShapeModifier.prototype.addShapeToModifier = function() {}
            ,
            ShapeModifier.prototype.addShape = function(e) {
                if (!this.closed) {
                    var t = {
                        shape: e.sh,
                        data: e,
                        localShapeCollection: shapeCollection_pool.newShapeCollection()
                    };
                    this.shapes.push(t),
                    this.addShapeToModifier(t),
                    this._isAnimated && e.setAsAnimated()
                }
            }
            ,
            ShapeModifier.prototype.init = function(e, t) {
                this.shapes = [],
                this.elem = e,
                this.initDynamicPropertyContainer(e),
                this.initModifierProperties(e, t),
                this.frameId = initialDefaultFrame,
                this.closed = !1,
                this.k = !1,
                this.dynamicProperties.length ? this.k = !0 : this.getValue(!0)
            }
            ,
            ShapeModifier.prototype.processKeys = function() {
                this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                this.iterateDynamicProperties())
            }
            ,
            extendPrototype([DynamicPropertyContainer], ShapeModifier),
            extendPrototype([ShapeModifier], TrimModifier),
            TrimModifier.prototype.initModifierProperties = function(e, t) {
                this.s = PropertyFactory.getProp(e, t.s, 0, .01, this),
                this.e = PropertyFactory.getProp(e, t.e, 0, .01, this),
                this.o = PropertyFactory.getProp(e, t.o, 0, 0, this),
                this.sValue = 0,
                this.eValue = 0,
                this.getValue = this.processKeys,
                this.m = t.m,
                this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length
            }
            ,
            TrimModifier.prototype.addShapeToModifier = function(e) {
                e.pathsData = []
            }
            ,
            TrimModifier.prototype.calculateShapeEdges = function(e, t, i, a, n) {
                var r = [];
                t <= 1 ? r.push({
                    s: e,
                    e: t
                }) : e >= 1 ? r.push({
                    s: e - 1,
                    e: t - 1
                }) : (r.push({
                    s: e,
                    e: 1
                }),
                r.push({
                    s: 0,
                    e: t - 1
                }));
                var o, s, l = [], c = r.length;
                for (o = 0; o < c; o += 1) {
                    var h, p;
                    if ((s = r[o]).e * n < a || s.s * n > a + i)
                        ;
                    else
                        h = s.s * n <= a ? 0 : (s.s * n - a) / i,
                        p = s.e * n >= a + i ? 1 : (s.e * n - a) / i,
                        l.push([h, p])
                }
                return l.length || l.push([0, 0]),
                l
            }
            ,
            TrimModifier.prototype.releasePathsData = function(e) {
                var t, i = e.length;
                for (t = 0; t < i; t += 1)
                    segments_length_pool.release(e[t]);
                return e.length = 0,
                e
            }
            ,
            TrimModifier.prototype.processShapes = function(e) {
                var t, i, a;
                if (this._mdf || e) {
                    var n = this.o.v % 360 / 360;
                    if (n < 0 && (n += 1),
                    (t = (this.s.v > 1 ? 1 : this.s.v < 0 ? 0 : this.s.v) + n) > (i = (this.e.v > 1 ? 1 : this.e.v < 0 ? 0 : this.e.v) + n)) {
                        var r = t;
                        t = i,
                        i = r
                    }
                    t = 1e-4 * Math.round(1e4 * t),
                    i = 1e-4 * Math.round(1e4 * i),
                    this.sValue = t,
                    this.eValue = i
                } else
                    t = this.sValue,
                    i = this.eValue;
                var o, s, l, c, h, p, d = this.shapes.length, u = 0;
                if (i === t)
                    for (o = 0; o < d; o += 1)
                        this.shapes[o].localShapeCollection.releaseShapes(),
                        this.shapes[o].shape._mdf = !0,
                        this.shapes[o].shape.paths = this.shapes[o].localShapeCollection;
                else if (1 === i && 0 === t || 0 === i && 1 === t) {
                    if (this._mdf)
                        for (o = 0; o < d; o += 1)
                            this.shapes[o].pathsData.length = 0,
                            this.shapes[o].shape._mdf = !0
                } else {
                    var g, m, f = [];
                    for (o = 0; o < d; o += 1)
                        if ((g = this.shapes[o]).shape._mdf || this._mdf || e || 2 === this.m) {
                            if (l = (a = g.shape.paths)._length,
                            p = 0,
                            !g.shape._mdf && g.pathsData.length)
                                p = g.totalShapeLength;
                            else {
                                for (c = this.releasePathsData(g.pathsData),
                                s = 0; s < l; s += 1)
                                    h = bez.getSegmentsLength(a.shapes[s]),
                                    c.push(h),
                                    p += h.totalLength;
                                g.totalShapeLength = p,
                                g.pathsData = c
                            }
                            u += p,
                            g.shape._mdf = !0
                        } else
                            g.shape.paths = g.localShapeCollection;
                    var y, v = t, b = i, A = 0;
                    for (o = d - 1; o >= 0; o -= 1)
                        if ((g = this.shapes[o]).shape._mdf) {
                            for ((m = g.localShapeCollection).releaseShapes(),
                            2 === this.m && d > 1 ? (y = this.calculateShapeEdges(t, i, g.totalShapeLength, A, u),
                            A += g.totalShapeLength) : y = [[v, b]],
                            l = y.length,
                            s = 0; s < l; s += 1) {
                                v = y[s][0],
                                b = y[s][1],
                                f.length = 0,
                                b <= 1 ? f.push({
                                    s: g.totalShapeLength * v,
                                    e: g.totalShapeLength * b
                                }) : v >= 1 ? f.push({
                                    s: g.totalShapeLength * (v - 1),
                                    e: g.totalShapeLength * (b - 1)
                                }) : (f.push({
                                    s: g.totalShapeLength * v,
                                    e: g.totalShapeLength
                                }),
                                f.push({
                                    s: 0,
                                    e: g.totalShapeLength * (b - 1)
                                }));
                                var C = this.addShapes(g, f[0]);
                                if (f[0].s !== f[0].e) {
                                    if (f.length > 1)
                                        if (g.shape.paths.shapes[g.shape.paths._length - 1].c) {
                                            var w = C.pop();
                                            this.addPaths(C, m),
                                            C = this.addShapes(g, f[1], w)
                                        } else
                                            this.addPaths(C, m),
                                            C = this.addShapes(g, f[1]);
                                    this.addPaths(C, m)
                                }
                            }
                            g.shape.paths = m
                        }
                }
            }
            ,
            TrimModifier.prototype.addPaths = function(e, t) {
                var i, a = e.length;
                for (i = 0; i < a; i += 1)
                    t.addShape(e[i])
            }
            ,
            TrimModifier.prototype.addSegment = function(e, t, i, a, n, r, o) {
                n.setXYAt(t[0], t[1], "o", r),
                n.setXYAt(i[0], i[1], "i", r + 1),
                o && n.setXYAt(e[0], e[1], "v", r),
                n.setXYAt(a[0], a[1], "v", r + 1)
            }
            ,
            TrimModifier.prototype.addSegmentFromArray = function(e, t, i, a) {
                t.setXYAt(e[1], e[5], "o", i),
                t.setXYAt(e[2], e[6], "i", i + 1),
                a && t.setXYAt(e[0], e[4], "v", i),
                t.setXYAt(e[3], e[7], "v", i + 1)
            }
            ,
            TrimModifier.prototype.addShapes = function(e, t, i) {
                var a, n, r, o, s, l, c, h, p = e.pathsData, d = e.shape.paths.shapes, u = e.shape.paths._length, g = 0, m = [], f = !0;
                for (i ? (s = i._length,
                h = i._length) : (i = shape_pool.newElement(),
                s = 0,
                h = 0),
                m.push(i),
                a = 0; a < u; a += 1) {
                    for (l = p[a].lengths,
                    i.c = d[a].c,
                    r = d[a].c ? l.length : l.length + 1,
                    n = 1; n < r; n += 1)
                        if (g + (o = l[n - 1]).addedLength < t.s)
                            g += o.addedLength,
                            i.c = !1;
                        else {
                            if (g > t.e) {
                                i.c = !1;
                                break
                            }
                            t.s <= g && t.e >= g + o.addedLength ? (this.addSegment(d[a].v[n - 1], d[a].o[n - 1], d[a].i[n], d[a].v[n], i, s, f),
                            f = !1) : (c = bez.getNewSegment(d[a].v[n - 1], d[a].v[n], d[a].o[n - 1], d[a].i[n], (t.s - g) / o.addedLength, (t.e - g) / o.addedLength, l[n - 1]),
                            this.addSegmentFromArray(c, i, s, f),
                            f = !1,
                            i.c = !1),
                            g += o.addedLength,
                            s += 1
                        }
                    if (d[a].c && l.length) {
                        if (o = l[n - 1],
                        g <= t.e) {
                            var y = l[n - 1].addedLength;
                            t.s <= g && t.e >= g + y ? (this.addSegment(d[a].v[n - 1], d[a].o[n - 1], d[a].i[0], d[a].v[0], i, s, f),
                            f = !1) : (c = bez.getNewSegment(d[a].v[n - 1], d[a].v[0], d[a].o[n - 1], d[a].i[0], (t.s - g) / y, (t.e - g) / y, l[n - 1]),
                            this.addSegmentFromArray(c, i, s, f),
                            f = !1,
                            i.c = !1)
                        } else
                            i.c = !1;
                        g += o.addedLength,
                        s += 1
                    }
                    if (i._length && (i.setXYAt(i.v[h][0], i.v[h][1], "i", h),
                    i.setXYAt(i.v[i._length - 1][0], i.v[i._length - 1][1], "o", i._length - 1)),
                    g > t.e)
                        break;
                    a < u - 1 && (i = shape_pool.newElement(),
                    f = !0,
                    m.push(i),
                    s = 0)
                }
                return m
            }
            ,
            ShapeModifiers.registerModifier("tm", TrimModifier),
            extendPrototype([ShapeModifier], RoundCornersModifier),
            RoundCornersModifier.prototype.initModifierProperties = function(e, t) {
                this.getValue = this.processKeys,
                this.rd = PropertyFactory.getProp(e, t.r, 0, null, this),
                this._isAnimated = !!this.rd.effectsSequence.length
            }
            ,
            RoundCornersModifier.prototype.processPath = function(e, t) {
                var i = shape_pool.newElement();
                i.c = e.c;
                var a, n, r, o, s, l, c, h, p, d, u, g, m, f = e._length, y = 0;
                for (a = 0; a < f; a += 1)
                    n = e.v[a],
                    o = e.o[a],
                    r = e.i[a],
                    n[0] === o[0] && n[1] === o[1] && n[0] === r[0] && n[1] === r[1] ? 0 !== a && a !== f - 1 || e.c ? (s = 0 === a ? e.v[f - 1] : e.v[a - 1],
                    c = (l = Math.sqrt(Math.pow(n[0] - s[0], 2) + Math.pow(n[1] - s[1], 2))) ? Math.min(l / 2, t) / l : 0,
                    h = g = n[0] + (s[0] - n[0]) * c,
                    p = m = n[1] - (n[1] - s[1]) * c,
                    d = h - (h - n[0]) * roundCorner,
                    u = p - (p - n[1]) * roundCorner,
                    i.setTripleAt(h, p, d, u, g, m, y),
                    y += 1,
                    s = a === f - 1 ? e.v[0] : e.v[a + 1],
                    c = (l = Math.sqrt(Math.pow(n[0] - s[0], 2) + Math.pow(n[1] - s[1], 2))) ? Math.min(l / 2, t) / l : 0,
                    h = d = n[0] + (s[0] - n[0]) * c,
                    p = u = n[1] + (s[1] - n[1]) * c,
                    g = h - (h - n[0]) * roundCorner,
                    m = p - (p - n[1]) * roundCorner,
                    i.setTripleAt(h, p, d, u, g, m, y),
                    y += 1) : (i.setTripleAt(n[0], n[1], o[0], o[1], r[0], r[1], y),
                    y += 1) : (i.setTripleAt(e.v[a][0], e.v[a][1], e.o[a][0], e.o[a][1], e.i[a][0], e.i[a][1], y),
                    y += 1);
                return i
            }
            ,
            RoundCornersModifier.prototype.processShapes = function(e) {
                var t, i, a, n, r, o, s = this.shapes.length, l = this.rd.v;
                if (0 !== l)
                    for (i = 0; i < s; i += 1) {
                        if ((r = this.shapes[i]).shape.paths,
                        o = r.localShapeCollection,
                        r.shape._mdf || this._mdf || e)
                            for (o.releaseShapes(),
                            r.shape._mdf = !0,
                            t = r.shape.paths.shapes,
                            n = r.shape.paths._length,
                            a = 0; a < n; a += 1)
                                o.addShape(this.processPath(t[a], l));
                        r.shape.paths = r.localShapeCollection
                    }
                this.dynamicProperties.length || (this._mdf = !1)
            }
            ,
            ShapeModifiers.registerModifier("rd", RoundCornersModifier),
            extendPrototype([ShapeModifier], RepeaterModifier),
            RepeaterModifier.prototype.initModifierProperties = function(e, t) {
                this.getValue = this.processKeys,
                this.c = PropertyFactory.getProp(e, t.c, 0, null, this),
                this.o = PropertyFactory.getProp(e, t.o, 0, null, this),
                this.tr = TransformPropertyFactory.getTransformProperty(e, t.tr, this),
                this.so = PropertyFactory.getProp(e, t.tr.so, 0, .01, this),
                this.eo = PropertyFactory.getProp(e, t.tr.eo, 0, .01, this),
                this.data = t,
                this.dynamicProperties.length || this.getValue(!0),
                this._isAnimated = !!this.dynamicProperties.length,
                this.pMatrix = new Matrix,
                this.rMatrix = new Matrix,
                this.sMatrix = new Matrix,
                this.tMatrix = new Matrix,
                this.matrix = new Matrix
            }
            ,
            RepeaterModifier.prototype.applyTransforms = function(e, t, i, a, n, r) {
                var o = r ? -1 : 1
                  , s = a.s.v[0] + (1 - a.s.v[0]) * (1 - n)
                  , l = a.s.v[1] + (1 - a.s.v[1]) * (1 - n);
                e.translate(a.p.v[0] * o * n, a.p.v[1] * o * n, a.p.v[2]),
                t.translate(-a.a.v[0], -a.a.v[1], a.a.v[2]),
                t.rotate(-a.r.v * o * n),
                t.translate(a.a.v[0], a.a.v[1], a.a.v[2]),
                i.translate(-a.a.v[0], -a.a.v[1], a.a.v[2]),
                i.scale(r ? 1 / s : s, r ? 1 / l : l),
                i.translate(a.a.v[0], a.a.v[1], a.a.v[2])
            }
            ,
            RepeaterModifier.prototype.init = function(e, t, i, a) {
                this.elem = e,
                this.arr = t,
                this.pos = i,
                this.elemsData = a,
                this._currentCopies = 0,
                this._elements = [],
                this._groups = [],
                this.frameId = -1,
                this.initDynamicPropertyContainer(e),
                this.initModifierProperties(e, t[i]);
                for (; i > 0; )
                    i -= 1,
                    this._elements.unshift(t[i]),
                    1;
                this.dynamicProperties.length ? this.k = !0 : this.getValue(!0)
            }
            ,
            RepeaterModifier.prototype.resetElements = function(e) {
                var t, i = e.length;
                for (t = 0; t < i; t += 1)
                    e[t]._processed = !1,
                    "gr" === e[t].ty && this.resetElements(e[t].it)
            }
            ,
            RepeaterModifier.prototype.cloneElements = function(e) {
                e.length;
                var t = JSON.parse(JSON.stringify(e));
                return this.resetElements(t),
                t
            }
            ,
            RepeaterModifier.prototype.changeGroupRender = function(e, t) {
                var i, a = e.length;
                for (i = 0; i < a; i += 1)
                    e[i]._render = t,
                    "gr" === e[i].ty && this.changeGroupRender(e[i].it, t)
            }
            ,
            RepeaterModifier.prototype.processShapes = function(e) {
                var t, i, a, n, r;
                if (this._mdf || e) {
                    var o, s = Math.ceil(this.c.v);
                    if (this._groups.length < s) {
                        for (; this._groups.length < s; ) {
                            var l = {
                                it: this.cloneElements(this._elements),
                                ty: "gr"
                            };
                            l.it.push({
                                a: {
                                    a: 0,
                                    ix: 1,
                                    k: [0, 0]
                                },
                                nm: "Transform",
                                o: {
                                    a: 0,
                                    ix: 7,
                                    k: 100
                                },
                                p: {
                                    a: 0,
                                    ix: 2,
                                    k: [0, 0]
                                },
                                r: {
                                    a: 1,
                                    ix: 6,
                                    k: [{
                                        s: 0,
                                        e: 0,
                                        t: 0
                                    }, {
                                        s: 0,
                                        e: 0,
                                        t: 1
                                    }]
                                },
                                s: {
                                    a: 0,
                                    ix: 3,
                                    k: [100, 100]
                                },
                                sa: {
                                    a: 0,
                                    ix: 5,
                                    k: 0
                                },
                                sk: {
                                    a: 0,
                                    ix: 4,
                                    k: 0
                                },
                                ty: "tr"
                            }),
                            this.arr.splice(0, 0, l),
                            this._groups.splice(0, 0, l),
                            this._currentCopies += 1
                        }
                        this.elem.reloadShapes()
                    }
                    for (r = 0,
                    a = 0; a <= this._groups.length - 1; a += 1)
                        o = r < s,
                        this._groups[a]._render = o,
                        this.changeGroupRender(this._groups[a].it, o),
                        r += 1;
                    this._currentCopies = s;
                    var c = this.o.v
                      , h = c % 1
                      , p = c > 0 ? Math.floor(c) : Math.ceil(c)
                      , d = (this.tr.v.props,
                    this.pMatrix.props)
                      , u = this.rMatrix.props
                      , g = this.sMatrix.props;
                    this.pMatrix.reset(),
                    this.rMatrix.reset(),
                    this.sMatrix.reset(),
                    this.tMatrix.reset(),
                    this.matrix.reset();
                    var m, f, y = 0;
                    if (c > 0) {
                        for (; y < p; )
                            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !1),
                            y += 1;
                        h && (this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, h, !1),
                        y += h)
                    } else if (c < 0) {
                        for (; y > p; )
                            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !0),
                            y -= 1;
                        h && (this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -h, !0),
                        y -= h)
                    }
                    for (a = 1 === this.data.m ? 0 : this._currentCopies - 1,
                    n = 1 === this.data.m ? 1 : -1,
                    r = this._currentCopies; r; ) {
                        if (f = (i = (t = this.elemsData[a].it)[t.length - 1].transform.mProps.v.props).length,
                        t[t.length - 1].transform.mProps._mdf = !0,
                        t[t.length - 1].transform.op._mdf = !0,
                        t[t.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (a / (this._currentCopies - 1)),
                        0 !== y) {
                            for ((0 !== a && 1 === n || a !== this._currentCopies - 1 && -1 === n) && this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !1),
                            this.matrix.transform(u[0], u[1], u[2], u[3], u[4], u[5], u[6], u[7], u[8], u[9], u[10], u[11], u[12], u[13], u[14], u[15]),
                            this.matrix.transform(g[0], g[1], g[2], g[3], g[4], g[5], g[6], g[7], g[8], g[9], g[10], g[11], g[12], g[13], g[14], g[15]),
                            this.matrix.transform(d[0], d[1], d[2], d[3], d[4], d[5], d[6], d[7], d[8], d[9], d[10], d[11], d[12], d[13], d[14], d[15]),
                            m = 0; m < f; m += 1)
                                i[m] = this.matrix.props[m];
                            this.matrix.reset()
                        } else
                            for (this.matrix.reset(),
                            m = 0; m < f; m += 1)
                                i[m] = this.matrix.props[m];
                        y += 1,
                        r -= 1,
                        a += n
                    }
                } else
                    for (r = this._currentCopies,
                    a = 0,
                    n = 1; r; )
                        i = (t = this.elemsData[a].it)[t.length - 1].transform.mProps.v.props,
                        t[t.length - 1].transform.mProps._mdf = !1,
                        t[t.length - 1].transform.op._mdf = !1,
                        r -= 1,
                        a += n
            }
            ,
            RepeaterModifier.prototype.addShape = function() {}
            ,
            ShapeModifiers.registerModifier("rp", RepeaterModifier),
            ShapeCollection.prototype.addShape = function(e) {
                this._length === this._maxLength && (this.shapes = this.shapes.concat(createSizedArray(this._maxLength)),
                this._maxLength *= 2),
                this.shapes[this._length] = e,
                this._length += 1
            }
            ,
            ShapeCollection.prototype.releaseShapes = function() {
                var e;
                for (e = 0; e < this._length; e += 1)
                    shape_pool.release(this.shapes[e]);
                this._length = 0
            }
            ,
            DashProperty.prototype.getValue = function(e) {
                if ((this.elem.globalData.frameId !== this.frameId || e) && (this.frameId = this.elem.globalData.frameId,
                this.iterateDynamicProperties(),
                this._mdf = this._mdf || e,
                this._mdf)) {
                    var t = 0
                      , i = this.dataProps.length;
                    for ("svg" === this.renderer && (this.dashStr = ""),
                    t = 0; t < i; t += 1)
                        "o" != this.dataProps[t].n ? "svg" === this.renderer ? this.dashStr += " " + this.dataProps[t].p.v : this.dashArray[t] = this.dataProps[t].p.v : this.dashoffset[0] = this.dataProps[t].p.v
                }
            }
            ,
            extendPrototype([DynamicPropertyContainer], DashProperty),
            GradientProperty.prototype.comparePoints = function(e, t) {
                for (var i = 0, a = this.o.length / 2; i < a; ) {
                    if (Math.abs(e[4 * i] - e[4 * t + 2 * i]) > .01)
                        return !1;
                    i += 1
                }
                return !0
            }
            ,
            GradientProperty.prototype.checkCollapsable = function() {
                if (this.o.length / 2 !== this.c.length / 4)
                    return !1;
                if (this.data.k.k[0].s)
                    for (var e = 0, t = this.data.k.k.length; e < t; ) {
                        if (!this.comparePoints(this.data.k.k[e].s, this.data.p))
                            return !1;
                        e += 1
                    }
                else if (!this.comparePoints(this.data.k.k, this.data.p))
                    return !1;
                return !0
            }
            ,
            GradientProperty.prototype.getValue = function(e) {
                if (this.prop.getValue(),
                this._mdf = !1,
                this._cmdf = !1,
                this._omdf = !1,
                this.prop._mdf || e) {
                    var t, i, a, n = 4 * this.data.p;
                    for (t = 0; t < n; t += 1)
                        i = t % 4 === 0 ? 100 : 255,
                        a = Math.round(this.prop.v[t] * i),
                        this.c[t] !== a && (this.c[t] = a,
                        this._cmdf = !e);
                    if (this.o.length)
                        for (n = this.prop.v.length,
                        t = 4 * this.data.p; t < n; t += 1)
                            i = t % 2 === 0 ? 100 : 1,
                            a = t % 2 === 0 ? Math.round(100 * this.prop.v[t]) : this.prop.v[t],
                            this.o[t - 4 * this.data.p] !== a && (this.o[t - 4 * this.data.p] = a,
                            this._omdf = !e);
                    this._mdf = !e
                }
            }
            ,
            extendPrototype([DynamicPropertyContainer], GradientProperty);
            var buildShapeString = function(e, t, i, a) {
                if (0 === t)
                    return "";
                var n, r = e.o, o = e.i, s = e.v, l = " M" + a.applyToPointStringified(s[0][0], s[0][1]);
                for (n = 1; n < t; n += 1)
                    l += " C" + a.applyToPointStringified(r[n - 1][0], r[n - 1][1]) + " " + a.applyToPointStringified(o[n][0], o[n][1]) + " " + a.applyToPointStringified(s[n][0], s[n][1]);
                return i && t && (l += " C" + a.applyToPointStringified(r[n - 1][0], r[n - 1][1]) + " " + a.applyToPointStringified(o[0][0], o[0][1]) + " " + a.applyToPointStringified(s[0][0], s[0][1]),
                l += "z"),
                l
            }
              , ImagePreloader = function() {
                var e = function() {
                    var e = createTag("canvas");
                    e.width = 1,
                    e.height = 1;
                    var t = e.getContext("2d");
                    return t.fillStyle = "#FF0000",
                    t.fillRect(0, 0, 1, 1),
                    e
                }();
                function t() {
                    this.loadedAssets += 1,
                    this.loadedAssets === this.totalImages && this.imagesLoadedCb && this.imagesLoadedCb(null)
                }
                function i(t) {
                    var i = function(e, t, i) {
                        var a = "";
                        if (e.e)
                            a = e.p;
                        else if (t) {
                            var n = e.p;
                            -1 !== n.indexOf("images/") && (n = n.split("/")[1]),
                            a = t + n
                        } else
                            a = i,
                            a += e.u ? e.u : "",
                            a += e.p;
                        return a
                    }(t, this.assetsPath, this.path)
                      , a = createTag("img");
                    a.crossOrigin = "anonymous",
                    a.addEventListener("load", this._imageLoaded.bind(this), !1),
                    a.addEventListener("error", function() {
                        n.img = e,
                        this._imageLoaded()
                    }
                    .bind(this), !1),
                    a.src = i;
                    var n = {
                        img: a,
                        assetData: t
                    };
                    return n
                }
                function a(e, t) {
                    this.imagesLoadedCb = t;
                    var i, a = e.length;
                    for (i = 0; i < a; i += 1)
                        e[i].layers || (this.totalImages += 1,
                        this.images.push(this._createImageData(e[i])))
                }
                function n(e) {
                    this.path = e || ""
                }
                function r(e) {
                    this.assetsPath = e || ""
                }
                function o(e) {
                    for (var t = 0, i = this.images.length; t < i; ) {
                        if (this.images[t].assetData === e)
                            return this.images[t].img;
                        t += 1
                    }
                }
                function s() {
                    this.imagesLoadedCb = null,
                    this.images.length = 0
                }
                function l() {
                    return this.totalImages === this.loadedAssets
                }
                return function() {
                    this.loadAssets = a,
                    this.setAssetsPath = r,
                    this.setPath = n,
                    this.loaded = l,
                    this.destroy = s,
                    this.getImage = o,
                    this._createImageData = i,
                    this._imageLoaded = t,
                    this.assetsPath = "",
                    this.path = "",
                    this.totalImages = 0,
                    this.loadedAssets = 0,
                    this.imagesLoadedCb = null,
                    this.images = []
                }
            }()
              , featureSupport = function() {
                var e = {
                    maskType: !0
                };
                return (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\/\d./i.test(navigator.userAgent)) && (e.maskType = !1),
                e
            }()
              , filtersFactory = function() {
                var e = {};
                return e.createFilter = function(e) {
                    var t = createNS("filter");
                    return t.setAttribute("id", e),
                    t.setAttribute("filterUnits", "objectBoundingBox"),
                    t.setAttribute("x", "0%"),
                    t.setAttribute("y", "0%"),
                    t.setAttribute("width", "100%"),
                    t.setAttribute("height", "100%"),
                    t
                }
                ,
                e.createAlphaToLuminanceFilter = function() {
                    var e = createNS("feColorMatrix");
                    return e.setAttribute("type", "matrix"),
                    e.setAttribute("color-interpolation-filters", "sRGB"),
                    e.setAttribute("values", "0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),
                    e
                }
                ,
                e
            }()
              , assetLoader = function() {
                function e(e) {
                    return e.response && "object" === typeof e.response ? e.response : e.response && "string" === typeof e.response ? JSON.parse(e.response) : e.responseText ? JSON.parse(e.responseText) : void 0
                }
                return {
                    load: function(t, i, a) {
                        var n, r = new XMLHttpRequest;
                        r.open("GET", t, !0);
                        try {
                            r.responseType = "json"
                        } catch (o) {}
                        r.send(),
                        r.onreadystatechange = function() {
                            if (4 == r.readyState)
                                if (200 == r.status)
                                    n = e(r),
                                    i(n);
                                else
                                    try {
                                        n = e(r),
                                        i(n)
                                    } catch (o) {
                                        a && a(o)
                                    }
                        }
                    }
                }
            }();
            function TextAnimatorProperty(e, t, i) {
                this._isFirstFrame = !0,
                this._hasMaskedPath = !1,
                this._frameId = -1,
                this._textData = e,
                this._renderType = t,
                this._elem = i,
                this._animatorsData = createSizedArray(this._textData.a.length),
                this._pathData = {},
                this._moreOptions = {
                    alignment: {}
                },
                this.renderedLetters = [],
                this.lettersChangedFlag = !1,
                this.initDynamicPropertyContainer(i)
            }
            function TextAnimatorDataProperty(e, t, i) {
                var a = {
                    propType: !1
                }
                  , n = PropertyFactory.getProp
                  , r = t.a;
                this.a = {
                    r: r.r ? n(e, r.r, 0, degToRads, i) : a,
                    rx: r.rx ? n(e, r.rx, 0, degToRads, i) : a,
                    ry: r.ry ? n(e, r.ry, 0, degToRads, i) : a,
                    sk: r.sk ? n(e, r.sk, 0, degToRads, i) : a,
                    sa: r.sa ? n(e, r.sa, 0, degToRads, i) : a,
                    s: r.s ? n(e, r.s, 1, .01, i) : a,
                    a: r.a ? n(e, r.a, 1, 0, i) : a,
                    o: r.o ? n(e, r.o, 0, .01, i) : a,
                    p: r.p ? n(e, r.p, 1, 0, i) : a,
                    sw: r.sw ? n(e, r.sw, 0, 0, i) : a,
                    sc: r.sc ? n(e, r.sc, 1, 0, i) : a,
                    fc: r.fc ? n(e, r.fc, 1, 0, i) : a,
                    fh: r.fh ? n(e, r.fh, 0, 0, i) : a,
                    fs: r.fs ? n(e, r.fs, 0, .01, i) : a,
                    fb: r.fb ? n(e, r.fb, 0, .01, i) : a,
                    t: r.t ? n(e, r.t, 0, 0, i) : a
                },
                this.s = TextSelectorProp.getTextSelectorProp(e, t.s, i),
                this.s.t = t.s.t
            }
            function LetterProps(e, t, i, a, n, r) {
                this.o = e,
                this.sw = t,
                this.sc = i,
                this.fc = a,
                this.m = n,
                this.p = r,
                this._mdf = {
                    o: !0,
                    sw: !!t,
                    sc: !!i,
                    fc: !!a,
                    m: !0,
                    p: !0
                }
            }
            function TextProperty(e, t) {
                this._frameId = initialDefaultFrame,
                this.pv = "",
                this.v = "",
                this.kf = !1,
                this._isFirstFrame = !0,
                this._mdf = !1,
                this.data = t,
                this.elem = e,
                this.comp = this.elem.comp,
                this.keysIndex = 0,
                this.canResize = !1,
                this.minimumFontSize = 1,
                this.effectsSequence = [],
                this.currentData = {
                    ascent: 0,
                    boxWidth: this.defaultBoxWidth,
                    f: "",
                    fStyle: "",
                    fWeight: "",
                    fc: "",
                    j: "",
                    justifyOffset: "",
                    l: [],
                    lh: 0,
                    lineWidths: [],
                    ls: "",
                    of: "",
                    s: "",
                    sc: "",
                    sw: 0,
                    t: 0,
                    tr: 0,
                    sz: 0,
                    ps: null,
                    fillColorAnim: !1,
                    strokeColorAnim: !1,
                    strokeWidthAnim: !1,
                    yOffset: 0,
                    finalSize: 0,
                    finalText: [],
                    finalLineHeight: 0,
                    __complete: !1
                },
                this.copyData(this.currentData, this.data.d.k[0].s),
                this.searchProperty() || this.completeTextData(this.currentData)
            }
            TextAnimatorProperty.prototype.searchProperties = function() {
                var e, t, i = this._textData.a.length, a = PropertyFactory.getProp;
                for (e = 0; e < i; e += 1)
                    t = this._textData.a[e],
                    this._animatorsData[e] = new TextAnimatorDataProperty(this._elem,t,this);
                this._textData.p && "m"in this._textData.p ? (this._pathData = {
                    f: a(this._elem, this._textData.p.f, 0, 0, this),
                    l: a(this._elem, this._textData.p.l, 0, 0, this),
                    r: this._textData.p.r,
                    m: this._elem.maskManager.getMaskProperty(this._textData.p.m)
                },
                this._hasMaskedPath = !0) : this._hasMaskedPath = !1,
                this._moreOptions.alignment = a(this._elem, this._textData.m.a, 1, 0, this)
            }
            ,
            TextAnimatorProperty.prototype.getMeasures = function(e, t) {
                if (this.lettersChangedFlag = t,
                this._mdf || this._isFirstFrame || t || this._hasMaskedPath && this._pathData.m._mdf) {
                    this._isFirstFrame = !1;
                    var i, a, n, r, o, s, l, c, h, p, d, u, g, m, f, y, v, b, A, C = this._moreOptions.alignment.v, w = this._animatorsData, _ = this._textData, x = this.mHelper, S = this._renderType, T = this.renderedLetters.length, E = (this.data,
                    e.l);
                    if (this._hasMaskedPath) {
                        if (A = this._pathData.m,
                        !this._pathData.n || this._pathData._mdf) {
                            var k, L = A.v;
                            for (this._pathData.r && (L = L.reverse()),
                            o = {
                                tLength: 0,
                                segments: []
                            },
                            r = L._length - 1,
                            y = 0,
                            n = 0; n < r; n += 1)
                                k = bez.buildBezierData(L.v[n], L.v[n + 1], [L.o[n][0] - L.v[n][0], L.o[n][1] - L.v[n][1]], [L.i[n + 1][0] - L.v[n + 1][0], L.i[n + 1][1] - L.v[n + 1][1]]),
                                o.tLength += k.segmentLength,
                                o.segments.push(k),
                                y += k.segmentLength;
                            n = r,
                            A.v.c && (k = bez.buildBezierData(L.v[n], L.v[0], [L.o[n][0] - L.v[n][0], L.o[n][1] - L.v[n][1]], [L.i[0][0] - L.v[0][0], L.i[0][1] - L.v[0][1]]),
                            o.tLength += k.segmentLength,
                            o.segments.push(k),
                            y += k.segmentLength),
                            this._pathData.pi = o
                        }
                        if (o = this._pathData.pi,
                        s = this._pathData.f.v,
                        d = 0,
                        p = 1,
                        c = 0,
                        h = !0,
                        m = o.segments,
                        s < 0 && A.v.c)
                            for (o.tLength < Math.abs(s) && (s = -Math.abs(s) % o.tLength),
                            p = (g = m[d = m.length - 1].points).length - 1; s < 0; )
                                s += g[p].partialLength,
                                (p -= 1) < 0 && (p = (g = m[d -= 1].points).length - 1);
                        u = (g = m[d].points)[p - 1],
                        f = (l = g[p]).partialLength
                    }
                    r = E.length,
                    i = 0,
                    a = 0;
                    var P, z, I, D, B = 1.2 * e.finalSize * .714, M = !0;
                    I = w.length;
                    var O, R, N, V, j, F, G, U, H, K, W, Q, Y, $ = -1, Z = s, q = d, X = p, J = -1, ee = "", te = this.defaultPropsArray;
                    if (2 === e.j || 1 === e.j) {
                        var ie = 0
                          , ae = 0
                          , ne = 2 === e.j ? -.5 : -1
                          , re = 0
                          , oe = !0;
                        for (n = 0; n < r; n += 1)
                            if (E[n].n) {
                                for (ie && (ie += ae); re < n; )
                                    E[re].animatorJustifyOffset = ie,
                                    re += 1;
                                ie = 0,
                                oe = !0
                            } else {
                                for (z = 0; z < I; z += 1)
                                    (P = w[z].a).t.propType && (oe && 2 === e.j && (ae += P.t.v * ne),
                                    (O = w[z].s.getMult(E[n].anIndexes[z], _.a[z].s.totalChars)).length ? ie += P.t.v * O[0] * ne : ie += P.t.v * O * ne);
                                oe = !1
                            }
                        for (ie && (ie += ae); re < n; )
                            E[re].animatorJustifyOffset = ie,
                            re += 1
                    }
                    for (n = 0; n < r; n += 1) {
                        if (x.reset(),
                        j = 1,
                        E[n].n)
                            i = 0,
                            a += e.yOffset,
                            a += M ? 1 : 0,
                            s = Z,
                            M = !1,
                            0,
                            this._hasMaskedPath && (p = X,
                            u = (g = m[d = q].points)[p - 1],
                            f = (l = g[p]).partialLength,
                            c = 0),
                            Y = K = Q = ee = "",
                            te = this.defaultPropsArray;
                        else {
                            if (this._hasMaskedPath) {
                                if (J !== E[n].line) {
                                    switch (e.j) {
                                    case 1:
                                        s += y - e.lineWidths[E[n].line];
                                        break;
                                    case 2:
                                        s += (y - e.lineWidths[E[n].line]) / 2
                                    }
                                    J = E[n].line
                                }
                                $ !== E[n].ind && (E[$] && (s += E[$].extra),
                                s += E[n].an / 2,
                                $ = E[n].ind),
                                s += C[0] * E[n].an / 200;
                                var se = 0;
                                for (z = 0; z < I; z += 1)
                                    (P = w[z].a).p.propType && ((O = w[z].s.getMult(E[n].anIndexes[z], _.a[z].s.totalChars)).length ? se += P.p.v[0] * O[0] : se += P.p.v[0] * O),
                                    P.a.propType && ((O = w[z].s.getMult(E[n].anIndexes[z], _.a[z].s.totalChars)).length ? se += P.a.v[0] * O[0] : se += P.a.v[0] * O);
                                for (h = !0; h; )
                                    c + f >= s + se || !g ? (v = (s + se - c) / l.partialLength,
                                    N = u.point[0] + (l.point[0] - u.point[0]) * v,
                                    V = u.point[1] + (l.point[1] - u.point[1]) * v,
                                    x.translate(-C[0] * E[n].an / 200, -C[1] * B / 100),
                                    h = !1) : g && (c += l.partialLength,
                                    (p += 1) >= g.length && (p = 0,
                                    m[d += 1] ? g = m[d].points : A.v.c ? (p = 0,
                                    g = m[d = 0].points) : (c -= l.partialLength,
                                    g = null)),
                                    g && (u = l,
                                    f = (l = g[p]).partialLength));
                                R = E[n].an / 2 - E[n].add,
                                x.translate(-R, 0, 0)
                            } else
                                R = E[n].an / 2 - E[n].add,
                                x.translate(-R, 0, 0),
                                x.translate(-C[0] * E[n].an / 200, -C[1] * B / 100, 0);
                            for (E[n].l / 2,
                            z = 0; z < I; z += 1)
                                (P = w[z].a).t.propType && (O = w[z].s.getMult(E[n].anIndexes[z], _.a[z].s.totalChars),
                                0 === i && 0 === e.j || (this._hasMaskedPath ? O.length ? s += P.t.v * O[0] : s += P.t.v * O : O.length ? i += P.t.v * O[0] : i += P.t.v * O));
                            for (E[n].l / 2,
                            e.strokeWidthAnim && (G = e.sw || 0),
                            e.strokeColorAnim && (F = e.sc ? [e.sc[0], e.sc[1], e.sc[2]] : [0, 0, 0]),
                            e.fillColorAnim && e.fc && (U = [e.fc[0], e.fc[1], e.fc[2]]),
                            z = 0; z < I; z += 1)
                                (P = w[z].a).a.propType && ((O = w[z].s.getMult(E[n].anIndexes[z], _.a[z].s.totalChars)).length ? x.translate(-P.a.v[0] * O[0], -P.a.v[1] * O[1], P.a.v[2] * O[2]) : x.translate(-P.a.v[0] * O, -P.a.v[1] * O, P.a.v[2] * O));
                            for (z = 0; z < I; z += 1)
                                (P = w[z].a).s.propType && ((O = w[z].s.getMult(E[n].anIndexes[z], _.a[z].s.totalChars)).length ? x.scale(1 + (P.s.v[0] - 1) * O[0], 1 + (P.s.v[1] - 1) * O[1], 1) : x.scale(1 + (P.s.v[0] - 1) * O, 1 + (P.s.v[1] - 1) * O, 1));
                            for (z = 0; z < I; z += 1) {
                                if (P = w[z].a,
                                O = w[z].s.getMult(E[n].anIndexes[z], _.a[z].s.totalChars),
                                P.sk.propType && (O.length ? x.skewFromAxis(-P.sk.v * O[0], P.sa.v * O[1]) : x.skewFromAxis(-P.sk.v * O, P.sa.v * O)),
                                P.r.propType && (O.length ? x.rotateZ(-P.r.v * O[2]) : x.rotateZ(-P.r.v * O)),
                                P.ry.propType && (O.length ? x.rotateY(P.ry.v * O[1]) : x.rotateY(P.ry.v * O)),
                                P.rx.propType && (O.length ? x.rotateX(P.rx.v * O[0]) : x.rotateX(P.rx.v * O)),
                                P.o.propType && (O.length ? j += (P.o.v * O[0] - j) * O[0] : j += (P.o.v * O - j) * O),
                                e.strokeWidthAnim && P.sw.propType && (O.length ? G += P.sw.v * O[0] : G += P.sw.v * O),
                                e.strokeColorAnim && P.sc.propType)
                                    for (H = 0; H < 3; H += 1)
                                        O.length ? F[H] = F[H] + (P.sc.v[H] - F[H]) * O[0] : F[H] = F[H] + (P.sc.v[H] - F[H]) * O;
                                if (e.fillColorAnim && e.fc) {
                                    if (P.fc.propType)
                                        for (H = 0; H < 3; H += 1)
                                            O.length ? U[H] = U[H] + (P.fc.v[H] - U[H]) * O[0] : U[H] = U[H] + (P.fc.v[H] - U[H]) * O;
                                    P.fh.propType && (U = O.length ? addHueToRGB(U, P.fh.v * O[0]) : addHueToRGB(U, P.fh.v * O)),
                                    P.fs.propType && (U = O.length ? addSaturationToRGB(U, P.fs.v * O[0]) : addSaturationToRGB(U, P.fs.v * O)),
                                    P.fb.propType && (U = O.length ? addBrightnessToRGB(U, P.fb.v * O[0]) : addBrightnessToRGB(U, P.fb.v * O))
                                }
                            }
                            for (z = 0; z < I; z += 1)
                                (P = w[z].a).p.propType && (O = w[z].s.getMult(E[n].anIndexes[z], _.a[z].s.totalChars),
                                this._hasMaskedPath ? O.length ? x.translate(0, P.p.v[1] * O[0], -P.p.v[2] * O[1]) : x.translate(0, P.p.v[1] * O, -P.p.v[2] * O) : O.length ? x.translate(P.p.v[0] * O[0], P.p.v[1] * O[1], -P.p.v[2] * O[2]) : x.translate(P.p.v[0] * O, P.p.v[1] * O, -P.p.v[2] * O));
                            if (e.strokeWidthAnim && (K = G < 0 ? 0 : G),
                            e.strokeColorAnim && (W = "rgb(" + Math.round(255 * F[0]) + "," + Math.round(255 * F[1]) + "," + Math.round(255 * F[2]) + ")"),
                            e.fillColorAnim && e.fc && (Q = "rgb(" + Math.round(255 * U[0]) + "," + Math.round(255 * U[1]) + "," + Math.round(255 * U[2]) + ")"),
                            this._hasMaskedPath) {
                                if (x.translate(0, -e.ls),
                                x.translate(0, C[1] * B / 100 + a, 0),
                                _.p.p) {
                                    b = (l.point[1] - u.point[1]) / (l.point[0] - u.point[0]);
                                    var le = 180 * Math.atan(b) / Math.PI;
                                    l.point[0] < u.point[0] && (le += 180),
                                    x.rotate(-le * Math.PI / 180)
                                }
                                x.translate(N, V, 0),
                                s -= C[0] * E[n].an / 200,
                                E[n + 1] && $ !== E[n + 1].ind && (s += E[n].an / 2,
                                s += e.tr / 1e3 * e.finalSize)
                            } else {
                                switch (x.translate(i, a, 0),
                                e.ps && x.translate(e.ps[0], e.ps[1] + e.ascent, 0),
                                e.j) {
                                case 1:
                                    x.translate(E[n].animatorJustifyOffset + e.justifyOffset + (e.boxWidth - e.lineWidths[E[n].line]), 0, 0);
                                    break;
                                case 2:
                                    x.translate(E[n].animatorJustifyOffset + e.justifyOffset + (e.boxWidth - e.lineWidths[E[n].line]) / 2, 0, 0)
                                }
                                x.translate(0, -e.ls),
                                x.translate(R, 0, 0),
                                x.translate(C[0] * E[n].an / 200, C[1] * B / 100, 0),
                                i += E[n].l + e.tr / 1e3 * e.finalSize
                            }
                            "html" === S ? ee = x.toCSS() : "svg" === S ? ee = x.to2dCSS() : te = [x.props[0], x.props[1], x.props[2], x.props[3], x.props[4], x.props[5], x.props[6], x.props[7], x.props[8], x.props[9], x.props[10], x.props[11], x.props[12], x.props[13], x.props[14], x.props[15]],
                            Y = j
                        }
                        T <= n ? (D = new LetterProps(Y,K,W,Q,ee,te),
                        this.renderedLetters.push(D),
                        T += 1,
                        this.lettersChangedFlag = !0) : (D = this.renderedLetters[n],
                        this.lettersChangedFlag = D.update(Y, K, W, Q, ee, te) || this.lettersChangedFlag)
                    }
                }
            }
            ,
            TextAnimatorProperty.prototype.getValue = function() {
                this._elem.globalData.frameId !== this._frameId && (this._frameId = this._elem.globalData.frameId,
                this.iterateDynamicProperties())
            }
            ,
            TextAnimatorProperty.prototype.mHelper = new Matrix,
            TextAnimatorProperty.prototype.defaultPropsArray = [],
            extendPrototype([DynamicPropertyContainer], TextAnimatorProperty),
            LetterProps.prototype.update = function(e, t, i, a, n, r) {
                this._mdf.o = !1,
                this._mdf.sw = !1,
                this._mdf.sc = !1,
                this._mdf.fc = !1,
                this._mdf.m = !1,
                this._mdf.p = !1;
                var o = !1;
                return this.o !== e && (this.o = e,
                this._mdf.o = !0,
                o = !0),
                this.sw !== t && (this.sw = t,
                this._mdf.sw = !0,
                o = !0),
                this.sc !== i && (this.sc = i,
                this._mdf.sc = !0,
                o = !0),
                this.fc !== a && (this.fc = a,
                this._mdf.fc = !0,
                o = !0),
                this.m !== n && (this.m = n,
                this._mdf.m = !0,
                o = !0),
                !r.length || this.p[0] === r[0] && this.p[1] === r[1] && this.p[4] === r[4] && this.p[5] === r[5] && this.p[12] === r[12] && this.p[13] === r[13] || (this.p = r,
                this._mdf.p = !0,
                o = !0),
                o
            }
            ,
            TextProperty.prototype.defaultBoxWidth = [0, 0],
            TextProperty.prototype.copyData = function(e, t) {
                for (var i in t)
                    t.hasOwnProperty(i) && (e[i] = t[i]);
                return e
            }
            ,
            TextProperty.prototype.setCurrentData = function(e) {
                e.__complete || this.completeTextData(e),
                this.currentData = e,
                this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth,
                this._mdf = !0
            }
            ,
            TextProperty.prototype.searchProperty = function() {
                return this.searchKeyframes()
            }
            ,
            TextProperty.prototype.searchKeyframes = function() {
                return this.kf = this.data.d.k.length > 1,
                this.kf && this.addEffect(this.getKeyframeValue.bind(this)),
                this.kf
            }
            ,
            TextProperty.prototype.addEffect = function(e) {
                this.effectsSequence.push(e),
                this.elem.addDynamicProperty(this)
            }
            ,
            TextProperty.prototype.getValue = function(e) {
                if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length || e) {
                    this.currentData.t = this.data.d.k[this.keysIndex].s.t;
                    var t = this.currentData
                      , i = this.keysIndex;
                    if (this.lock)
                        this.setCurrentData(this.currentData);
                    else {
                        this.lock = !0,
                        this._mdf = !1;
                        var a, n = this.effectsSequence.length, r = e || this.data.d.k[this.keysIndex].s;
                        for (a = 0; a < n; a += 1)
                            r = i !== this.keysIndex ? this.effectsSequence[a](r, r.t) : this.effectsSequence[a](this.currentData, r.t);
                        t !== r && this.setCurrentData(r),
                        this.pv = this.v = this.currentData,
                        this.lock = !1,
                        this.frameId = this.elem.globalData.frameId
                    }
                }
            }
            ,
            TextProperty.prototype.getKeyframeValue = function() {
                for (var e = this.data.d.k, t = this.elem.comp.renderedFrame, i = 0, a = e.length; i <= a - 1 && (e[i].s,
                !(i === a - 1 || e[i + 1].t > t)); )
                    i += 1;
                return this.keysIndex !== i && (this.keysIndex = i),
                this.data.d.k[this.keysIndex].s
            }
            ,
            TextProperty.prototype.buildFinalText = function(e) {
                for (var t = FontManager.getCombinedCharacterCodes(), i = [], a = 0, n = e.length; a < n; )
                    -1 !== t.indexOf(e.charCodeAt(a)) ? i[i.length - 1] += e.charAt(a) : i.push(e.charAt(a)),
                    a += 1;
                return i
            }
            ,
            TextProperty.prototype.completeTextData = function(e) {
                e.__complete = !0;
                var t, i, a, n, r, o, s, l = this.elem.globalData.fontManager, c = this.data, h = [], p = 0, d = c.m.g, u = 0, g = 0, m = 0, f = [], y = 0, v = 0, b = l.getFontByName(e.f), A = 0, C = b.fStyle ? b.fStyle.split(" ") : [], w = "normal", _ = "normal";
                for (i = C.length,
                t = 0; t < i; t += 1)
                    switch (C[t].toLowerCase()) {
                    case "italic":
                        _ = "italic";
                        break;
                    case "bold":
                        w = "700";
                        break;
                    case "black":
                        w = "900";
                        break;
                    case "medium":
                        w = "500";
                        break;
                    case "regular":
                    case "normal":
                        w = "400";
                        break;
                    case "light":
                    case "thin":
                        w = "200"
                    }
                e.fWeight = b.fWeight || w,
                e.fStyle = _,
                e.finalSize = e.s,
                e.finalText = this.buildFinalText(e.t),
                i = e.finalText.length,
                e.finalLineHeight = e.lh;
                var x, S = e.tr / 1e3 * e.finalSize;
                if (e.sz)
                    for (var T, E, k = !0, L = e.sz[0], P = e.sz[1]; k; ) {
                        T = 0,
                        y = 0,
                        i = (E = this.buildFinalText(e.t)).length,
                        S = e.tr / 1e3 * e.finalSize;
                        var z = -1;
                        for (t = 0; t < i; t += 1)
                            x = E[t].charCodeAt(0),
                            a = !1,
                            " " === E[t] ? z = t : 13 !== x && 3 !== x || (y = 0,
                            a = !0,
                            T += e.finalLineHeight || 1.2 * e.finalSize),
                            l.chars ? (s = l.getCharData(E[t], b.fStyle, b.fFamily),
                            A = a ? 0 : s.w * e.finalSize / 100) : A = l.measureText(E[t], e.f, e.finalSize),
                            y + A > L && " " !== E[t] ? (-1 === z ? i += 1 : t = z,
                            T += e.finalLineHeight || 1.2 * e.finalSize,
                            E.splice(t, z === t ? 1 : 0, "\r"),
                            z = -1,
                            y = 0) : (y += A,
                            y += S);
                        T += b.ascent * e.finalSize / 100,
                        this.canResize && e.finalSize > this.minimumFontSize && P < T ? (e.finalSize -= 1,
                        e.finalLineHeight = e.finalSize * e.lh / e.s) : (e.finalText = E,
                        i = e.finalText.length,
                        k = !1)
                    }
                y = -S,
                A = 0;
                var I, D = 0;
                for (t = 0; t < i; t += 1)
                    if (a = !1,
                    x = (I = e.finalText[t]).charCodeAt(0),
                    " " === I ? n = "\xa0" : 13 === x || 3 === x ? (D = 0,
                    f.push(y),
                    v = y > v ? y : v,
                    y = -2 * S,
                    n = "",
                    a = !0,
                    m += 1) : n = e.finalText[t],
                    l.chars ? (s = l.getCharData(I, b.fStyle, l.getFontByName(e.f).fFamily),
                    A = a ? 0 : s.w * e.finalSize / 100) : A = l.measureText(n, e.f, e.finalSize),
                    " " === I ? D += A + S : (y += A + S + D,
                    D = 0),
                    h.push({
                        l: A,
                        an: A,
                        add: u,
                        n: a,
                        anIndexes: [],
                        val: n,
                        line: m,
                        animatorJustifyOffset: 0
                    }),
                    2 == d) {
                        if (u += A,
                        "" === n || "\xa0" === n || t === i - 1) {
                            for ("" !== n && "\xa0" !== n || (u -= A); g <= t; )
                                h[g].an = u,
                                h[g].ind = p,
                                h[g].extra = A,
                                g += 1;
                            p += 1,
                            u = 0
                        }
                    } else if (3 == d) {
                        if (u += A,
                        "" === n || t === i - 1) {
                            for ("" === n && (u -= A); g <= t; )
                                h[g].an = u,
                                h[g].ind = p,
                                h[g].extra = A,
                                g += 1;
                            u = 0,
                            p += 1
                        }
                    } else
                        h[p].ind = p,
                        h[p].extra = 0,
                        p += 1;
                if (e.l = h,
                v = y > v ? y : v,
                f.push(y),
                e.sz)
                    e.boxWidth = e.sz[0],
                    e.justifyOffset = 0;
                else
                    switch (e.boxWidth = v,
                    e.j) {
                    case 1:
                        e.justifyOffset = -e.boxWidth;
                        break;
                    case 2:
                        e.justifyOffset = -e.boxWidth / 2;
                        break;
                    default:
                        e.justifyOffset = 0
                    }
                e.lineWidths = f;
                var B, M, O = c.a;
                o = O.length;
                var R, N, V = [];
                for (r = 0; r < o; r += 1) {
                    for ((B = O[r]).a.sc && (e.strokeColorAnim = !0),
                    B.a.sw && (e.strokeWidthAnim = !0),
                    (B.a.fc || B.a.fh || B.a.fs || B.a.fb) && (e.fillColorAnim = !0),
                    N = 0,
                    R = B.s.b,
                    t = 0; t < i; t += 1)
                        (M = h[t]).anIndexes[r] = N,
                        (1 == R && "" !== M.val || 2 == R && "" !== M.val && "\xa0" !== M.val || 3 == R && (M.n || "\xa0" == M.val || t == i - 1) || 4 == R && (M.n || t == i - 1)) && (1 === B.s.rn && V.push(N),
                        N += 1);
                    c.a[r].s.totalChars = N;
                    var j, F = -1;
                    if (1 === B.s.rn)
                        for (t = 0; t < i; t += 1)
                            F != (M = h[t]).anIndexes[r] && (F = M.anIndexes[r],
                            j = V.splice(Math.floor(Math.random() * V.length), 1)[0]),
                            M.anIndexes[r] = j
                }
                e.yOffset = e.finalLineHeight || 1.2 * e.finalSize,
                e.ls = e.ls || 0,
                e.ascent = b.ascent * e.finalSize / 100
            }
            ,
            TextProperty.prototype.updateDocumentData = function(e, t) {
                t = void 0 === t ? this.keysIndex : t;
                var i = this.copyData({}, this.data.d.k[t].s);
                i = this.copyData(i, e),
                this.data.d.k[t].s = i,
                this.recalculate(t),
                this.elem.addDynamicProperty(this)
            }
            ,
            TextProperty.prototype.recalculate = function(e) {
                var t = this.data.d.k[e].s;
                t.__complete = !1,
                this.keysIndex = 0,
                this._isFirstFrame = !0,
                this.getValue(t)
            }
            ,
            TextProperty.prototype.canResizeFont = function(e) {
                this.canResize = e,
                this.recalculate(this.keysIndex),
                this.elem.addDynamicProperty(this)
            }
            ,
            TextProperty.prototype.setMinimumFontSize = function(e) {
                this.minimumFontSize = Math.floor(e) || 1,
                this.recalculate(this.keysIndex),
                this.elem.addDynamicProperty(this)
            }
            ;
            var TextSelectorProp = function() {
                var e = Math.max
                  , t = Math.min
                  , i = Math.floor;
                function a(e, t) {
                    this._currentTextLength = -1,
                    this.k = !1,
                    this.data = t,
                    this.elem = e,
                    this.comp = e.comp,
                    this.finalS = 0,
                    this.finalE = 0,
                    this.initDynamicPropertyContainer(e),
                    this.s = PropertyFactory.getProp(e, t.s || {
                        k: 0
                    }, 0, 0, this),
                    this.e = "e"in t ? PropertyFactory.getProp(e, t.e, 0, 0, this) : {
                        v: 100
                    },
                    this.o = PropertyFactory.getProp(e, t.o || {
                        k: 0
                    }, 0, 0, this),
                    this.xe = PropertyFactory.getProp(e, t.xe || {
                        k: 0
                    }, 0, 0, this),
                    this.ne = PropertyFactory.getProp(e, t.ne || {
                        k: 0
                    }, 0, 0, this),
                    this.a = PropertyFactory.getProp(e, t.a, 0, .01, this),
                    this.dynamicProperties.length || this.getValue()
                }
                return a.prototype = {
                    getMult: function(a) {
                        this._currentTextLength !== this.elem.textProperty.currentData.l.length && this.getValue();
                        var n = BezierFactory.getBezierEasing(this.ne.v / 100, 0, 1 - this.xe.v / 100, 1).get
                          , r = 0
                          , o = this.finalS
                          , s = this.finalE
                          , l = this.data.sh;
                        if (2 == l)
                            r = n(r = s === o ? a >= s ? 1 : 0 : e(0, t(.5 / (s - o) + (a - o) / (s - o), 1)));
                        else if (3 == l)
                            r = n(r = s === o ? a >= s ? 0 : 1 : 1 - e(0, t(.5 / (s - o) + (a - o) / (s - o), 1)));
                        else if (4 == l)
                            s === o ? r = 0 : (r = e(0, t(.5 / (s - o) + (a - o) / (s - o), 1))) < .5 ? r *= 2 : r = 1 - 2 * (r - .5),
                            r = n(r);
                        else if (5 == l) {
                            if (s === o)
                                r = 0;
                            else {
                                var c = s - o
                                  , h = -c / 2 + (a = t(e(0, a + .5 - o), s - o))
                                  , p = c / 2;
                                r = Math.sqrt(1 - h * h / (p * p))
                            }
                            r = n(r)
                        } else
                            6 == l ? (s === o ? r = 0 : (a = t(e(0, a + .5 - o), s - o),
                            r = (1 + Math.cos(Math.PI + 2 * Math.PI * a / (s - o))) / 2),
                            r = n(r)) : (a >= i(o) && (r = a - o < 0 ? 1 - (o - a) : e(0, t(s - a, 1))),
                            r = n(r));
                        return r * this.a.v
                    },
                    getValue: function(e) {
                        this.iterateDynamicProperties(),
                        this._mdf = e || this._mdf,
                        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0,
                        e && 2 === this.data.r && (this.e.v = this._currentTextLength);
                        var t = 2 === this.data.r ? 1 : 100 / this.data.totalChars
                          , i = this.o.v / t
                          , a = this.s.v / t + i
                          , n = this.e.v / t + i;
                        if (a > n) {
                            var r = a;
                            a = n,
                            n = r
                        }
                        this.finalS = a,
                        this.finalE = n
                    }
                },
                extendPrototype([DynamicPropertyContainer], a),
                {
                    getTextSelectorProp: function(e, t, i) {
                        return new a(e,t,i)
                    }
                }
            }()
              , pool_factory = function(e, t, i, a) {
                var n = 0
                  , r = e
                  , o = createSizedArray(r);
                function s() {
                    return n ? o[n -= 1] : t()
                }
                return {
                    newElement: s,
                    release: function(e) {
                        n === r && (o = pooling.double(o),
                        r *= 2),
                        i && i(e),
                        o[n] = e,
                        n += 1
                    }
                }
            }
              , pooling = function() {
                return {
                    double: function(e) {
                        return e.concat(createSizedArray(e.length))
                    }
                }
            }()
              , point_pool = function() {
                return pool_factory(8, function() {
                    return createTypedArray("float32", 2)
                })
            }()
              , shape_pool = function() {
                var e = pool_factory(4, function() {
                    return new ShapePath
                }, function(e) {
                    var t, i = e._length;
                    for (t = 0; t < i; t += 1)
                        point_pool.release(e.v[t]),
                        point_pool.release(e.i[t]),
                        point_pool.release(e.o[t]),
                        e.v[t] = null,
                        e.i[t] = null,
                        e.o[t] = null;
                    e._length = 0,
                    e.c = !1
                });
                return e.clone = function(t) {
                    var i, a = e.newElement(), n = void 0 === t._length ? t.v.length : t._length;
                    for (a.setLength(n),
                    a.c = t.c,
                    i = 0; i < n; i += 1)
                        a.setTripleAt(t.v[i][0], t.v[i][1], t.o[i][0], t.o[i][1], t.i[i][0], t.i[i][1], i);
                    return a
                }
                ,
                e
            }()
              , shapeCollection_pool = function() {
                var e = {
                    newShapeCollection: function() {
                        var e;
                        e = t ? a[t -= 1] : new ShapeCollection;
                        return e
                    },
                    release: function(e) {
                        var n, r = e._length;
                        for (n = 0; n < r; n += 1)
                            shape_pool.release(e.shapes[n]);
                        e._length = 0,
                        t === i && (a = pooling.double(a),
                        i *= 2);
                        a[t] = e,
                        t += 1
                    }
                }
                  , t = 0
                  , i = 4
                  , a = createSizedArray(i);
                return e
            }()
              , segments_length_pool = function() {
                return pool_factory(8, function() {
                    return {
                        lengths: [],
                        totalLength: 0
                    }
                }, function(e) {
                    var t, i = e.lengths.length;
                    for (t = 0; t < i; t += 1)
                        bezier_length_pool.release(e.lengths[t]);
                    e.lengths.length = 0
                })
            }()
              , bezier_length_pool = function() {
                return pool_factory(8, function() {
                    return {
                        addedLength: 0,
                        percents: createTypedArray("float32", defaultCurveSegments),
                        lengths: createTypedArray("float32", defaultCurveSegments)
                    }
                })
            }();
            function BaseRenderer() {}
            function SVGRenderer(e, t) {
                this.animationItem = e,
                this.layers = null,
                this.renderedFrame = -1,
                this.svgElement = createNS("svg");
                var i = "";
                if (t && t.title) {
                    var a = createNS("title")
                      , n = createElementID();
                    a.setAttribute("id", n),
                    a.textContent = t.title,
                    this.svgElement.appendChild(a),
                    i += n
                }
                if (t && t.description) {
                    var r = createNS("desc")
                      , o = createElementID();
                    r.setAttribute("id", o),
                    r.textContent = t.description,
                    this.svgElement.appendChild(r),
                    i += " " + o
                }
                i && this.svgElement.setAttribute("aria-labelledby", i);
                var s = createNS("defs");
                this.svgElement.appendChild(s);
                var l = createNS("g");
                this.svgElement.appendChild(l),
                this.layerElement = l,
                this.renderConfig = {
                    preserveAspectRatio: t && t.preserveAspectRatio || "xMidYMid meet",
                    imagePreserveAspectRatio: t && t.imagePreserveAspectRatio || "xMidYMid slice",
                    progressiveLoad: t && t.progressiveLoad || !1,
                    hideOnTransparent: !t || !1 !== t.hideOnTransparent,
                    viewBoxOnly: t && t.viewBoxOnly || !1,
                    viewBoxSize: t && t.viewBoxSize || !1,
                    className: t && t.className || ""
                },
                this.globalData = {
                    _mdf: !1,
                    frameNum: -1,
                    defs: s,
                    renderConfig: this.renderConfig
                },
                this.elements = [],
                this.pendingElements = [],
                this.destroyed = !1,
                this.rendererType = "svg"
            }
            function CanvasRenderer(e, t) {
                this.animationItem = e,
                this.renderConfig = {
                    clearCanvas: !t || void 0 === t.clearCanvas || t.clearCanvas,
                    context: t && t.context || null,
                    progressiveLoad: t && t.progressiveLoad || !1,
                    preserveAspectRatio: t && t.preserveAspectRatio || "xMidYMid meet",
                    imagePreserveAspectRatio: t && t.imagePreserveAspectRatio || "xMidYMid slice",
                    className: t && t.className || ""
                },
                this.renderConfig.dpr = t && t.dpr || 1,
                this.animationItem.wrapper && (this.renderConfig.dpr = t && t.dpr || window.devicePixelRatio || 1),
                this.renderedFrame = -1,
                this.globalData = {
                    frameNum: -1,
                    _mdf: !1,
                    renderConfig: this.renderConfig,
                    currentGlobalAlpha: -1
                },
                this.contextData = new CVContextData,
                this.elements = [],
                this.pendingElements = [],
                this.transformMat = new Matrix,
                this.completeLayers = !1,
                this.rendererType = "canvas"
            }
            function HybridRenderer(e, t) {
                this.animationItem = e,
                this.layers = null,
                this.renderedFrame = -1,
                this.renderConfig = {
                    className: t && t.className || "",
                    imagePreserveAspectRatio: t && t.imagePreserveAspectRatio || "xMidYMid slice",
                    hideOnTransparent: !t || !1 !== t.hideOnTransparent
                },
                this.globalData = {
                    _mdf: !1,
                    frameNum: -1,
                    renderConfig: this.renderConfig
                },
                this.pendingElements = [],
                this.elements = [],
                this.threeDElements = [],
                this.destroyed = !1,
                this.camera = null,
                this.supports3d = !0,
                this.rendererType = "html"
            }
            function MaskElement(e, t, i) {
                this.data = e,
                this.element = t,
                this.globalData = i,
                this.storedData = [],
                this.masksProperties = this.data.masksProperties || [],
                this.maskElement = null;
                var a, n = this.globalData.defs, r = this.masksProperties ? this.masksProperties.length : 0;
                this.viewData = createSizedArray(r),
                this.solidPath = "";
                var o, s, l, c, h, p, d, u = this.masksProperties, g = 0, m = [], f = createElementID(), y = "clipPath", v = "clip-path";
                for (a = 0; a < r; a++)
                    if (("a" !== u[a].mode && "n" !== u[a].mode || u[a].inv || 100 !== u[a].o.k || u[a].o.x) && (y = "mask",
                    v = "mask"),
                    "s" != u[a].mode && "i" != u[a].mode || 0 !== g ? c = null : ((c = createNS("rect")).setAttribute("fill", "#ffffff"),
                    c.setAttribute("width", this.element.comp.data.w || 0),
                    c.setAttribute("height", this.element.comp.data.h || 0),
                    m.push(c)),
                    o = createNS("path"),
                    "n" != u[a].mode) {
                        var b;
                        if (g += 1,
                        o.setAttribute("fill", "s" === u[a].mode ? "#000000" : "#ffffff"),
                        o.setAttribute("clip-rule", "nonzero"),
                        0 !== u[a].x.k ? (y = "mask",
                        v = "mask",
                        d = PropertyFactory.getProp(this.element, u[a].x, 0, null, this.element),
                        b = createElementID(),
                        (h = createNS("filter")).setAttribute("id", b),
                        (p = createNS("feMorphology")).setAttribute("operator", "erode"),
                        p.setAttribute("in", "SourceGraphic"),
                        p.setAttribute("radius", "0"),
                        h.appendChild(p),
                        n.appendChild(h),
                        o.setAttribute("stroke", "s" === u[a].mode ? "#000000" : "#ffffff")) : (p = null,
                        d = null),
                        this.storedData[a] = {
                            elem: o,
                            x: d,
                            expan: p,
                            lastPath: "",
                            lastOperator: "",
                            filterId: b,
                            lastRadius: 0
                        },
                        "i" == u[a].mode) {
                            l = m.length;
                            var A = createNS("g");
                            for (s = 0; s < l; s += 1)
                                A.appendChild(m[s]);
                            var C = createNS("mask");
                            C.setAttribute("mask-type", "alpha"),
                            C.setAttribute("id", f + "_" + g),
                            C.appendChild(o),
                            n.appendChild(C),
                            A.setAttribute("mask", "url(" + locationHref + "#" + f + "_" + g + ")"),
                            m.length = 0,
                            m.push(A)
                        } else
                            m.push(o);
                        u[a].inv && !this.solidPath && (this.solidPath = this.createLayerSolidPath()),
                        this.viewData[a] = {
                            elem: o,
                            lastPath: "",
                            op: PropertyFactory.getProp(this.element, u[a].o, 0, .01, this.element),
                            prop: ShapePropertyFactory.getShapeProp(this.element, u[a], 3),
                            invRect: c
                        },
                        this.viewData[a].prop.k || this.drawPath(u[a], this.viewData[a].prop.v, this.viewData[a])
                    } else
                        this.viewData[a] = {
                            op: PropertyFactory.getProp(this.element, u[a].o, 0, .01, this.element),
                            prop: ShapePropertyFactory.getShapeProp(this.element, u[a], 3),
                            elem: o,
                            lastPath: ""
                        },
                        n.appendChild(o);
                for (this.maskElement = createNS(y),
                r = m.length,
                a = 0; a < r; a += 1)
                    this.maskElement.appendChild(m[a]);
                g > 0 && (this.maskElement.setAttribute("id", f),
                this.element.maskedElement.setAttribute(v, "url(" + locationHref + "#" + f + ")"),
                n.appendChild(this.maskElement)),
                this.viewData.length && this.element.addRenderableComponent(this)
            }
            function HierarchyElement() {}
            function FrameElement() {}
            function TransformElement() {}
            function RenderableElement() {}
            function RenderableDOMElement() {}
            function ProcessedElement(e, t) {
                this.elem = e,
                this.pos = t
            }
            function SVGStyleData(e, t) {
                this.data = e,
                this.type = e.ty,
                this.d = "",
                this.lvl = t,
                this._mdf = !1,
                this.closed = !0 === e.hd,
                this.pElem = createNS("path"),
                this.msElem = null
            }
            function SVGShapeData(e, t, i) {
                this.caches = [],
                this.styles = [],
                this.transformers = e,
                this.lStr = "",
                this.sh = i,
                this.lvl = t,
                this._isAnimated = !!i.k;
                for (var a = 0, n = e.length; a < n; ) {
                    if (e[a].mProps.dynamicProperties.length) {
                        this._isAnimated = !0;
                        break
                    }
                    a += 1
                }
            }
            function SVGTransformData(e, t, i) {
                this.transform = {
                    mProps: e,
                    op: t,
                    container: i
                },
                this.elements = [],
                this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length
            }
            function SVGStrokeStyleData(e, t, i) {
                this.initDynamicPropertyContainer(e),
                this.getValue = this.iterateDynamicProperties,
                this.o = PropertyFactory.getProp(e, t.o, 0, .01, this),
                this.w = PropertyFactory.getProp(e, t.w, 0, null, this),
                this.d = new DashProperty(e,t.d || {},"svg",this),
                this.c = PropertyFactory.getProp(e, t.c, 1, 255, this),
                this.style = i,
                this._isAnimated = !!this._isAnimated
            }
            function SVGFillStyleData(e, t, i) {
                this.initDynamicPropertyContainer(e),
                this.getValue = this.iterateDynamicProperties,
                this.o = PropertyFactory.getProp(e, t.o, 0, .01, this),
                this.c = PropertyFactory.getProp(e, t.c, 1, 255, this),
                this.style = i
            }
            function SVGGradientFillStyleData(e, t, i) {
                this.initDynamicPropertyContainer(e),
                this.getValue = this.iterateDynamicProperties,
                this.initGradientData(e, t, i)
            }
            function SVGGradientStrokeStyleData(e, t, i) {
                this.initDynamicPropertyContainer(e),
                this.getValue = this.iterateDynamicProperties,
                this.w = PropertyFactory.getProp(e, t.w, 0, null, this),
                this.d = new DashProperty(e,t.d || {},"svg",this),
                this.initGradientData(e, t, i),
                this._isAnimated = !!this._isAnimated
            }
            function ShapeGroupData() {
                this.it = [],
                this.prevViewData = [],
                this.gr = createNS("g")
            }
            BaseRenderer.prototype.checkLayers = function(e) {
                var t, i, a = this.layers.length;
                for (this.completeLayers = !0,
                t = a - 1; t >= 0; t--)
                    this.elements[t] || (i = this.layers[t]).ip - i.st <= e - this.layers[t].st && i.op - i.st > e - this.layers[t].st && this.buildItem(t),
                    this.completeLayers = !!this.elements[t] && this.completeLayers;
                this.checkPendingElements()
            }
            ,
            BaseRenderer.prototype.createItem = function(e) {
                switch (e.ty) {
                case 2:
                    return this.createImage(e);
                case 0:
                    return this.createComp(e);
                case 1:
                    return this.createSolid(e);
                case 3:
                    return this.createNull(e);
                case 4:
                    return this.createShape(e);
                case 5:
                    return this.createText(e);
                case 13:
                    return this.createCamera(e)
                }
                return this.createNull(e)
            }
            ,
            BaseRenderer.prototype.createCamera = function() {
                throw new Error("You're using a 3d camera. Try the html renderer.")
            }
            ,
            BaseRenderer.prototype.buildAllItems = function() {
                var e, t = this.layers.length;
                for (e = 0; e < t; e += 1)
                    this.buildItem(e);
                this.checkPendingElements()
            }
            ,
            BaseRenderer.prototype.includeLayers = function(e) {
                this.completeLayers = !1;
                var t, i, a = e.length, n = this.layers.length;
                for (t = 0; t < a; t += 1)
                    for (i = 0; i < n; ) {
                        if (this.layers[i].id == e[t].id) {
                            this.layers[i] = e[t];
                            break
                        }
                        i += 1
                    }
            }
            ,
            BaseRenderer.prototype.setProjectInterface = function(e) {
                this.globalData.projectInterface = e
            }
            ,
            BaseRenderer.prototype.initItems = function() {
                this.globalData.progressiveLoad || this.buildAllItems()
            }
            ,
            BaseRenderer.prototype.buildElementParenting = function(e, t, i) {
                for (var a = this.elements, n = this.layers, r = 0, o = n.length; r < o; )
                    n[r].ind == t && (a[r] && !0 !== a[r] ? (i.push(a[r]),
                    a[r].setAsParent(),
                    void 0 !== n[r].parent ? this.buildElementParenting(e, n[r].parent, i) : e.setHierarchy(i)) : (this.buildItem(r),
                    this.addPendingElement(e))),
                    r += 1
            }
            ,
            BaseRenderer.prototype.addPendingElement = function(e) {
                this.pendingElements.push(e)
            }
            ,
            BaseRenderer.prototype.searchExtraCompositions = function(e) {
                var t, i = e.length;
                for (t = 0; t < i; t += 1)
                    if (e[t].xt) {
                        var a = this.createComp(e[t]);
                        a.initExpressions(),
                        this.globalData.projectInterface.registerComposition(a)
                    }
            }
            ,
            BaseRenderer.prototype.setupGlobalData = function(e, t) {
                this.globalData.fontManager = new FontManager,
                this.globalData.fontManager.addChars(e.chars),
                this.globalData.fontManager.addFonts(e.fonts, t),
                this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem),
                this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem),
                this.globalData.imageLoader = this.animationItem.imagePreloader,
                this.globalData.frameId = 0,
                this.globalData.frameRate = e.fr,
                this.globalData.nm = e.nm,
                this.globalData.compSize = {
                    w: e.w,
                    h: e.h
                }
            }
            ,
            extendPrototype([BaseRenderer], SVGRenderer),
            SVGRenderer.prototype.createNull = function(e) {
                return new NullElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createShape = function(e) {
                return new SVGShapeElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createText = function(e) {
                return new SVGTextElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createImage = function(e) {
                return new IImageElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createComp = function(e) {
                return new SVGCompElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createSolid = function(e) {
                return new ISolidElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.configAnimation = function(e) {
                this.svgElement.setAttribute("xmlns", "http://www.w3.org/2000/svg"),
                this.renderConfig.viewBoxSize ? this.svgElement.setAttribute("viewBox", this.renderConfig.viewBoxSize) : this.svgElement.setAttribute("viewBox", "0 0 " + e.w + " " + e.h),
                this.renderConfig.viewBoxOnly || (this.svgElement.setAttribute("width", e.w),
                this.svgElement.setAttribute("height", e.h),
                this.svgElement.style.width = "100%",
                this.svgElement.style.height = "100%",
                this.svgElement.style.transform = "translate3d(0,0,0)"),
                this.renderConfig.className && this.svgElement.setAttribute("class", this.renderConfig.className),
                this.svgElement.setAttribute("preserveAspectRatio", this.renderConfig.preserveAspectRatio),
                this.animationItem.wrapper.appendChild(this.svgElement);
                var t = this.globalData.defs;
                this.setupGlobalData(e, t),
                this.globalData.progressiveLoad = this.renderConfig.progressiveLoad,
                this.data = e;
                var i = createNS("clipPath")
                  , a = createNS("rect");
                a.setAttribute("width", e.w),
                a.setAttribute("height", e.h),
                a.setAttribute("x", 0),
                a.setAttribute("y", 0);
                var n = createElementID();
                i.setAttribute("id", n),
                i.appendChild(a),
                this.layerElement.setAttribute("clip-path", "url(" + locationHref + "#" + n + ")"),
                t.appendChild(i),
                this.layers = e.layers,
                this.elements = createSizedArray(e.layers.length)
            }
            ,
            SVGRenderer.prototype.destroy = function() {
                this.animationItem.wrapper.innerHTML = "",
                this.layerElement = null,
                this.globalData.defs = null;
                var e, t = this.layers ? this.layers.length : 0;
                for (e = 0; e < t; e++)
                    this.elements[e] && this.elements[e].destroy();
                this.elements.length = 0,
                this.destroyed = !0,
                this.animationItem = null
            }
            ,
            SVGRenderer.prototype.updateContainerSize = function() {}
            ,
            SVGRenderer.prototype.buildItem = function(e) {
                var t = this.elements;
                if (!t[e] && 99 != this.layers[e].ty) {
                    t[e] = !0;
                    var i = this.createItem(this.layers[e]);
                    t[e] = i,
                    expressionsPlugin && (0 === this.layers[e].ty && this.globalData.projectInterface.registerComposition(i),
                    i.initExpressions()),
                    this.appendElementInPos(i, e),
                    this.layers[e].tt && (this.elements[e - 1] && !0 !== this.elements[e - 1] ? i.setMatte(t[e - 1].layerId) : (this.buildItem(e - 1),
                    this.addPendingElement(i)))
                }
            }
            ,
            SVGRenderer.prototype.checkPendingElements = function() {
                for (; this.pendingElements.length; ) {
                    var e = this.pendingElements.pop();
                    if (e.checkParenting(),
                    e.data.tt)
                        for (var t = 0, i = this.elements.length; t < i; ) {
                            if (this.elements[t] === e) {
                                e.setMatte(this.elements[t - 1].layerId);
                                break
                            }
                            t += 1
                        }
                }
            }
            ,
            SVGRenderer.prototype.renderFrame = function(e) {
                if (this.renderedFrame !== e && !this.destroyed) {
                    null === e ? e = this.renderedFrame : this.renderedFrame = e,
                    this.globalData.frameNum = e,
                    this.globalData.frameId += 1,
                    this.globalData.projectInterface.currentFrame = e,
                    this.globalData._mdf = !1;
                    var t, i = this.layers.length;
                    for (this.completeLayers || this.checkLayers(e),
                    t = i - 1; t >= 0; t--)
                        (this.completeLayers || this.elements[t]) && this.elements[t].prepareFrame(e - this.layers[t].st);
                    if (this.globalData._mdf)
                        for (t = 0; t < i; t += 1)
                            (this.completeLayers || this.elements[t]) && this.elements[t].renderFrame()
                }
            }
            ,
            SVGRenderer.prototype.appendElementInPos = function(e, t) {
                var i = e.getBaseElement();
                if (i) {
                    for (var a, n = 0; n < t; )
                        this.elements[n] && !0 !== this.elements[n] && this.elements[n].getBaseElement() && (a = this.elements[n].getBaseElement()),
                        n += 1;
                    a ? this.layerElement.insertBefore(i, a) : this.layerElement.appendChild(i)
                }
            }
            ,
            SVGRenderer.prototype.hide = function() {
                this.layerElement.style.display = "none"
            }
            ,
            SVGRenderer.prototype.show = function() {
                this.layerElement.style.display = "block"
            }
            ,
            extendPrototype([BaseRenderer], CanvasRenderer),
            CanvasRenderer.prototype.createShape = function(e) {
                return new CVShapeElement(e,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createText = function(e) {
                return new CVTextElement(e,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createImage = function(e) {
                return new CVImageElement(e,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createComp = function(e) {
                return new CVCompElement(e,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createSolid = function(e) {
                return new CVSolidElement(e,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull,
            CanvasRenderer.prototype.ctxTransform = function(e) {
                if (1 !== e[0] || 0 !== e[1] || 0 !== e[4] || 1 !== e[5] || 0 !== e[12] || 0 !== e[13])
                    if (this.renderConfig.clearCanvas) {
                        this.transformMat.cloneFromProps(e);
                        var t = this.contextData.cTr.props;
                        this.transformMat.transform(t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8], t[9], t[10], t[11], t[12], t[13], t[14], t[15]),
                        this.contextData.cTr.cloneFromProps(this.transformMat.props);
                        var i = this.contextData.cTr.props;
                        this.canvasContext.setTransform(i[0], i[1], i[4], i[5], i[12], i[13])
                    } else
                        this.canvasContext.transform(e[0], e[1], e[4], e[5], e[12], e[13])
            }
            ,
            CanvasRenderer.prototype.ctxOpacity = function(e) {
                if (!this.renderConfig.clearCanvas)
                    return this.canvasContext.globalAlpha *= e < 0 ? 0 : e,
                    void (this.globalData.currentGlobalAlpha = this.contextData.cO);
                this.contextData.cO *= e < 0 ? 0 : e,
                this.globalData.currentGlobalAlpha !== this.contextData.cO && (this.canvasContext.globalAlpha = this.contextData.cO,
                this.globalData.currentGlobalAlpha = this.contextData.cO)
            }
            ,
            CanvasRenderer.prototype.reset = function() {
                this.renderConfig.clearCanvas ? this.contextData.reset() : this.canvasContext.restore()
            }
            ,
            CanvasRenderer.prototype.save = function(e) {
                if (this.renderConfig.clearCanvas) {
                    e && this.canvasContext.save();
                    var t = this.contextData.cTr.props;
                    this.contextData._length <= this.contextData.cArrPos && this.contextData.duplicate();
                    var i, a = this.contextData.saved[this.contextData.cArrPos];
                    for (i = 0; i < 16; i += 1)
                        a[i] = t[i];
                    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO,
                    this.contextData.cArrPos += 1
                } else
                    this.canvasContext.save()
            }
            ,
            CanvasRenderer.prototype.restore = function(e) {
                if (this.renderConfig.clearCanvas) {
                    e && (this.canvasContext.restore(),
                    this.globalData.blendMode = "source-over"),
                    this.contextData.cArrPos -= 1;
                    var t, i = this.contextData.saved[this.contextData.cArrPos], a = this.contextData.cTr.props;
                    for (t = 0; t < 16; t += 1)
                        a[t] = i[t];
                    this.canvasContext.setTransform(i[0], i[1], i[4], i[5], i[12], i[13]),
                    i = this.contextData.savedOp[this.contextData.cArrPos],
                    this.contextData.cO = i,
                    this.globalData.currentGlobalAlpha !== i && (this.canvasContext.globalAlpha = i,
                    this.globalData.currentGlobalAlpha = i)
                } else
                    this.canvasContext.restore()
            }
            ,
            CanvasRenderer.prototype.configAnimation = function(e) {
                this.animationItem.wrapper ? (this.animationItem.container = createTag("canvas"),
                this.animationItem.container.style.width = "100%",
                this.animationItem.container.style.height = "100%",
                this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style["-webkit-transform"] = "0px 0px 0px",
                this.animationItem.wrapper.appendChild(this.animationItem.container),
                this.canvasContext = this.animationItem.container.getContext("2d"),
                this.renderConfig.className && this.animationItem.container.setAttribute("class", this.renderConfig.className)) : this.canvasContext = this.renderConfig.context,
                this.data = e,
                this.layers = e.layers,
                this.transformCanvas = {
                    w: e.w,
                    h: e.h,
                    sx: 0,
                    sy: 0,
                    tx: 0,
                    ty: 0
                },
                this.setupGlobalData(e, document.body),
                this.globalData.canvasContext = this.canvasContext,
                this.globalData.renderer = this,
                this.globalData.isDashed = !1,
                this.globalData.progressiveLoad = this.renderConfig.progressiveLoad,
                this.globalData.transformCanvas = this.transformCanvas,
                this.elements = createSizedArray(e.layers.length),
                this.updateContainerSize()
            }
            ,
            CanvasRenderer.prototype.updateContainerSize = function() {
                var e, t, i, a;
                if (this.reset(),
                this.animationItem.wrapper && this.animationItem.container ? (e = this.animationItem.wrapper.offsetWidth,
                t = this.animationItem.wrapper.offsetHeight,
                this.animationItem.container.setAttribute("width", e * this.renderConfig.dpr),
                this.animationItem.container.setAttribute("height", t * this.renderConfig.dpr)) : (e = this.canvasContext.canvas.width * this.renderConfig.dpr,
                t = this.canvasContext.canvas.height * this.renderConfig.dpr),
                -1 !== this.renderConfig.preserveAspectRatio.indexOf("meet") || -1 !== this.renderConfig.preserveAspectRatio.indexOf("slice")) {
                    var n = this.renderConfig.preserveAspectRatio.split(" ")
                      , r = n[1] || "meet"
                      , o = n[0] || "xMidYMid"
                      , s = o.substr(0, 4)
                      , l = o.substr(4);
                    i = e / t,
                    (a = this.transformCanvas.w / this.transformCanvas.h) > i && "meet" === r || a < i && "slice" === r ? (this.transformCanvas.sx = e / (this.transformCanvas.w / this.renderConfig.dpr),
                    this.transformCanvas.sy = e / (this.transformCanvas.w / this.renderConfig.dpr)) : (this.transformCanvas.sx = t / (this.transformCanvas.h / this.renderConfig.dpr),
                    this.transformCanvas.sy = t / (this.transformCanvas.h / this.renderConfig.dpr)),
                    this.transformCanvas.tx = "xMid" === s && (a < i && "meet" === r || a > i && "slice" === r) ? (e - this.transformCanvas.w * (t / this.transformCanvas.h)) / 2 * this.renderConfig.dpr : "xMax" === s && (a < i && "meet" === r || a > i && "slice" === r) ? (e - this.transformCanvas.w * (t / this.transformCanvas.h)) * this.renderConfig.dpr : 0,
                    this.transformCanvas.ty = "YMid" === l && (a > i && "meet" === r || a < i && "slice" === r) ? (t - this.transformCanvas.h * (e / this.transformCanvas.w)) / 2 * this.renderConfig.dpr : "YMax" === l && (a > i && "meet" === r || a < i && "slice" === r) ? (t - this.transformCanvas.h * (e / this.transformCanvas.w)) * this.renderConfig.dpr : 0
                } else
                    "none" == this.renderConfig.preserveAspectRatio ? (this.transformCanvas.sx = e / (this.transformCanvas.w / this.renderConfig.dpr),
                    this.transformCanvas.sy = t / (this.transformCanvas.h / this.renderConfig.dpr),
                    this.transformCanvas.tx = 0,
                    this.transformCanvas.ty = 0) : (this.transformCanvas.sx = this.renderConfig.dpr,
                    this.transformCanvas.sy = this.renderConfig.dpr,
                    this.transformCanvas.tx = 0,
                    this.transformCanvas.ty = 0);
                this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1],
                this.ctxTransform(this.transformCanvas.props),
                this.canvasContext.beginPath(),
                this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h),
                this.canvasContext.closePath(),
                this.canvasContext.clip(),
                this.renderFrame(this.renderedFrame, !0)
            }
            ,
            CanvasRenderer.prototype.destroy = function() {
                var e;
                for (this.renderConfig.clearCanvas && (this.animationItem.wrapper.innerHTML = ""),
                e = (this.layers ? this.layers.length : 0) - 1; e >= 0; e -= 1)
                    this.elements[e] && this.elements[e].destroy();
                this.elements.length = 0,
                this.globalData.canvasContext = null,
                this.animationItem.container = null,
                this.destroyed = !0
            }
            ,
            CanvasRenderer.prototype.renderFrame = function(e, t) {
                if ((this.renderedFrame !== e || !0 !== this.renderConfig.clearCanvas || t) && !this.destroyed && -1 !== e) {
                    this.renderedFrame = e,
                    this.globalData.frameNum = e - this.animationItem._isFirstFrame,
                    this.globalData.frameId += 1,
                    this.globalData._mdf = !this.renderConfig.clearCanvas || t,
                    this.globalData.projectInterface.currentFrame = e;
                    var i, a = this.layers.length;
                    for (this.completeLayers || this.checkLayers(e),
                    i = 0; i < a; i++)
                        (this.completeLayers || this.elements[i]) && this.elements[i].prepareFrame(e - this.layers[i].st);
                    if (this.globalData._mdf) {
                        for (!0 === this.renderConfig.clearCanvas ? this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h) : this.save(),
                        i = a - 1; i >= 0; i -= 1)
                            (this.completeLayers || this.elements[i]) && this.elements[i].renderFrame();
                        !0 !== this.renderConfig.clearCanvas && this.restore()
                    }
                }
            }
            ,
            CanvasRenderer.prototype.buildItem = function(e) {
                var t = this.elements;
                if (!t[e] && 99 != this.layers[e].ty) {
                    var i = this.createItem(this.layers[e], this, this.globalData);
                    t[e] = i,
                    i.initExpressions()
                }
            }
            ,
            CanvasRenderer.prototype.checkPendingElements = function() {
                for (; this.pendingElements.length; ) {
                    this.pendingElements.pop().checkParenting()
                }
            }
            ,
            CanvasRenderer.prototype.hide = function() {
                this.animationItem.container.style.display = "none"
            }
            ,
            CanvasRenderer.prototype.show = function() {
                this.animationItem.container.style.display = "block"
            }
            ,
            extendPrototype([BaseRenderer], HybridRenderer),
            HybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem,
            HybridRenderer.prototype.checkPendingElements = function() {
                for (; this.pendingElements.length; ) {
                    this.pendingElements.pop().checkParenting()
                }
            }
            ,
            HybridRenderer.prototype.appendElementInPos = function(e, t) {
                var i = e.getBaseElement();
                if (i) {
                    var a = this.layers[t];
                    if (a.ddd && this.supports3d)
                        this.addTo3dContainer(i, t);
                    else if (this.threeDElements)
                        this.addTo3dContainer(i, t);
                    else {
                        for (var n, r, o = 0; o < t; )
                            this.elements[o] && !0 !== this.elements[o] && this.elements[o].getBaseElement && (r = this.elements[o],
                            n = (this.layers[o].ddd ? this.getThreeDContainerByPos(o) : r.getBaseElement()) || n),
                            o += 1;
                        n ? a.ddd && this.supports3d || this.layerElement.insertBefore(i, n) : a.ddd && this.supports3d || this.layerElement.appendChild(i)
                    }
                }
            }
            ,
            HybridRenderer.prototype.createShape = function(e) {
                return this.supports3d ? new HShapeElement(e,this.globalData,this) : new SVGShapeElement(e,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createText = function(e) {
                return this.supports3d ? new HTextElement(e,this.globalData,this) : new SVGTextElement(e,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createCamera = function(e) {
                return this.camera = new HCameraElement(e,this.globalData,this),
                this.camera
            }
            ,
            HybridRenderer.prototype.createImage = function(e) {
                return this.supports3d ? new HImageElement(e,this.globalData,this) : new IImageElement(e,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createComp = function(e) {
                return this.supports3d ? new HCompElement(e,this.globalData,this) : new SVGCompElement(e,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createSolid = function(e) {
                return this.supports3d ? new HSolidElement(e,this.globalData,this) : new ISolidElement(e,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull,
            HybridRenderer.prototype.getThreeDContainerByPos = function(e) {
                for (var t = 0, i = this.threeDElements.length; t < i; ) {
                    if (this.threeDElements[t].startPos <= e && this.threeDElements[t].endPos >= e)
                        return this.threeDElements[t].perspectiveElem;
                    t += 1
                }
            }
            ,
            HybridRenderer.prototype.createThreeDContainer = function(e, t) {
                var i = createTag("div");
                styleDiv(i);
                var a = createTag("div");
                styleDiv(a),
                "3d" === t && (i.style.width = this.globalData.compSize.w + "px",
                i.style.height = this.globalData.compSize.h + "px",
                i.style.transformOrigin = i.style.mozTransformOrigin = i.style.webkitTransformOrigin = "50% 50%",
                a.style.transform = a.style.webkitTransform = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),
                i.appendChild(a);
                var n = {
                    container: a,
                    perspectiveElem: i,
                    startPos: e,
                    endPos: e,
                    type: t
                };
                return this.threeDElements.push(n),
                n
            }
            ,
            HybridRenderer.prototype.build3dContainers = function() {
                var e, t, i = this.layers.length, a = "";
                for (e = 0; e < i; e += 1)
                    this.layers[e].ddd && 3 !== this.layers[e].ty ? ("3d" !== a && (a = "3d",
                    t = this.createThreeDContainer(e, "3d")),
                    t.endPos = Math.max(t.endPos, e)) : ("2d" !== a && (a = "2d",
                    t = this.createThreeDContainer(e, "2d")),
                    t.endPos = Math.max(t.endPos, e));
                for (e = (i = this.threeDElements.length) - 1; e >= 0; e--)
                    this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)
            }
            ,
            HybridRenderer.prototype.addTo3dContainer = function(e, t) {
                for (var i = 0, a = this.threeDElements.length; i < a; ) {
                    if (t <= this.threeDElements[i].endPos) {
                        for (var n, r = this.threeDElements[i].startPos; r < t; )
                            this.elements[r] && this.elements[r].getBaseElement && (n = this.elements[r].getBaseElement()),
                            r += 1;
                        n ? this.threeDElements[i].container.insertBefore(e, n) : this.threeDElements[i].container.appendChild(e);
                        break
                    }
                    i += 1
                }
            }
            ,
            HybridRenderer.prototype.configAnimation = function(e) {
                var t = createTag("div")
                  , i = this.animationItem.wrapper;
                t.style.width = e.w + "px",
                t.style.height = e.h + "px",
                this.resizerElem = t,
                styleDiv(t),
                t.style.transformStyle = t.style.webkitTransformStyle = t.style.mozTransformStyle = "flat",
                this.renderConfig.className && t.setAttribute("class", this.renderConfig.className),
                i.appendChild(t),
                t.style.overflow = "hidden";
                var a = createNS("svg");
                a.setAttribute("width", "1"),
                a.setAttribute("height", "1"),
                styleDiv(a),
                this.resizerElem.appendChild(a);
                var n = createNS("defs");
                a.appendChild(n),
                this.data = e,
                this.setupGlobalData(e, a),
                this.globalData.defs = n,
                this.layers = e.layers,
                this.layerElement = this.resizerElem,
                this.build3dContainers(),
                this.updateContainerSize()
            }
            ,
            HybridRenderer.prototype.destroy = function() {
                this.animationItem.wrapper.innerHTML = "",
                this.animationItem.container = null,
                this.globalData.defs = null;
                var e, t = this.layers ? this.layers.length : 0;
                for (e = 0; e < t; e++)
                    this.elements[e].destroy();
                this.elements.length = 0,
                this.destroyed = !0,
                this.animationItem = null
            }
            ,
            HybridRenderer.prototype.updateContainerSize = function() {
                var e, t, i, a, n = this.animationItem.wrapper.offsetWidth, r = this.animationItem.wrapper.offsetHeight, o = n / r;
                this.globalData.compSize.w / this.globalData.compSize.h > o ? (e = n / this.globalData.compSize.w,
                t = n / this.globalData.compSize.w,
                i = 0,
                a = (r - this.globalData.compSize.h * (n / this.globalData.compSize.w)) / 2) : (e = r / this.globalData.compSize.h,
                t = r / this.globalData.compSize.h,
                i = (n - this.globalData.compSize.w * (r / this.globalData.compSize.h)) / 2,
                a = 0),
                this.resizerElem.style.transform = this.resizerElem.style.webkitTransform = "matrix3d(" + e + ",0,0,0,0," + t + ",0,0,0,0,1,0," + i + "," + a + ",0,1)"
            }
            ,
            HybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame,
            HybridRenderer.prototype.hide = function() {
                this.resizerElem.style.display = "none"
            }
            ,
            HybridRenderer.prototype.show = function() {
                this.resizerElem.style.display = "block"
            }
            ,
            HybridRenderer.prototype.initItems = function() {
                if (this.buildAllItems(),
                this.camera)
                    this.camera.setup();
                else {
                    var e, t = this.globalData.compSize.w, i = this.globalData.compSize.h, a = this.threeDElements.length;
                    for (e = 0; e < a; e += 1)
                        this.threeDElements[e].perspectiveElem.style.perspective = this.threeDElements[e].perspectiveElem.style.webkitPerspective = Math.sqrt(Math.pow(t, 2) + Math.pow(i, 2)) + "px"
                }
            }
            ,
            HybridRenderer.prototype.searchExtraCompositions = function(e) {
                var t, i = e.length, a = createTag("div");
                for (t = 0; t < i; t += 1)
                    if (e[t].xt) {
                        var n = this.createComp(e[t], a, this.globalData.comp, null);
                        n.initExpressions(),
                        this.globalData.projectInterface.registerComposition(n)
                    }
            }
            ,
            MaskElement.prototype.getMaskProperty = function(e) {
                return this.viewData[e].prop
            }
            ,
            MaskElement.prototype.renderFrame = function(e) {
                var t, i = this.element.finalTransform.mat, a = this.masksProperties.length;
                for (t = 0; t < a; t++)
                    if ((this.viewData[t].prop._mdf || e) && this.drawPath(this.masksProperties[t], this.viewData[t].prop.v, this.viewData[t]),
                    (this.viewData[t].op._mdf || e) && this.viewData[t].elem.setAttribute("fill-opacity", this.viewData[t].op.v),
                    "n" !== this.masksProperties[t].mode && (this.viewData[t].invRect && (this.element.finalTransform.mProp._mdf || e) && (this.viewData[t].invRect.setAttribute("x", -i.props[12]),
                    this.viewData[t].invRect.setAttribute("y", -i.props[13])),
                    this.storedData[t].x && (this.storedData[t].x._mdf || e))) {
                        var n = this.storedData[t].expan;
                        this.storedData[t].x.v < 0 ? ("erode" !== this.storedData[t].lastOperator && (this.storedData[t].lastOperator = "erode",
                        this.storedData[t].elem.setAttribute("filter", "url(" + locationHref + "#" + this.storedData[t].filterId + ")")),
                        n.setAttribute("radius", -this.storedData[t].x.v)) : ("dilate" !== this.storedData[t].lastOperator && (this.storedData[t].lastOperator = "dilate",
                        this.storedData[t].elem.setAttribute("filter", null)),
                        this.storedData[t].elem.setAttribute("stroke-width", 2 * this.storedData[t].x.v))
                    }
            }
            ,
            MaskElement.prototype.getMaskelement = function() {
                return this.maskElement
            }
            ,
            MaskElement.prototype.createLayerSolidPath = function() {
                var e = "M0,0 ";
                return e += " h" + this.globalData.compSize.w,
                e += " v" + this.globalData.compSize.h,
                e += " h-" + this.globalData.compSize.w,
                e += " v-" + this.globalData.compSize.h + " "
            }
            ,
            MaskElement.prototype.drawPath = function(e, t, i) {
                var a, n, r = " M" + t.v[0][0] + "," + t.v[0][1];
                for (n = t._length,
                a = 1; a < n; a += 1)
                    r += " C" + t.o[a - 1][0] + "," + t.o[a - 1][1] + " " + t.i[a][0] + "," + t.i[a][1] + " " + t.v[a][0] + "," + t.v[a][1];
                if (t.c && n > 1 && (r += " C" + t.o[a - 1][0] + "," + t.o[a - 1][1] + " " + t.i[0][0] + "," + t.i[0][1] + " " + t.v[0][0] + "," + t.v[0][1]),
                i.lastPath !== r) {
                    var o = "";
                    i.elem && (t.c && (o = e.inv ? this.solidPath + r : r),
                    i.elem.setAttribute("d", o)),
                    i.lastPath = r
                }
            }
            ,
            MaskElement.prototype.destroy = function() {
                this.element = null,
                this.globalData = null,
                this.maskElement = null,
                this.data = null,
                this.masksProperties = null
            }
            ,
            HierarchyElement.prototype = {
                initHierarchy: function() {
                    this.hierarchy = [],
                    this._isParent = !1,
                    this.checkParenting()
                },
                setHierarchy: function(e) {
                    this.hierarchy = e
                },
                setAsParent: function() {
                    this._isParent = !0
                },
                checkParenting: function() {
                    void 0 !== this.data.parent && this.comp.buildElementParenting(this, this.data.parent, [])
                }
            },
            FrameElement.prototype = {
                initFrame: function() {
                    this._isFirstFrame = !1,
                    this.dynamicProperties = [],
                    this._mdf = !1
                },
                prepareProperties: function(e, t) {
                    var i, a = this.dynamicProperties.length;
                    for (i = 0; i < a; i += 1)
                        (t || this._isParent && "transform" === this.dynamicProperties[i].propType) && (this.dynamicProperties[i].getValue(),
                        this.dynamicProperties[i]._mdf && (this.globalData._mdf = !0,
                        this._mdf = !0))
                },
                addDynamicProperty: function(e) {
                    -1 === this.dynamicProperties.indexOf(e) && this.dynamicProperties.push(e)
                }
            },
            TransformElement.prototype = {
                initTransform: function() {
                    this.finalTransform = {
                        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {
                            o: 0
                        },
                        _matMdf: !1,
                        _opMdf: !1,
                        mat: new Matrix
                    },
                    this.data.ao && (this.finalTransform.mProp.autoOriented = !0),
                    this.data.ty
                },
                renderTransform: function() {
                    if (this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame,
                    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame,
                    this.hierarchy) {
                        var e, t = this.finalTransform.mat, i = 0, a = this.hierarchy.length;
                        if (!this.finalTransform._matMdf)
                            for (; i < a; ) {
                                if (this.hierarchy[i].finalTransform.mProp._mdf) {
                                    this.finalTransform._matMdf = !0;
                                    break
                                }
                                i += 1
                            }
                        if (this.finalTransform._matMdf)
                            for (e = this.finalTransform.mProp.v.props,
                            t.cloneFromProps(e),
                            i = 0; i < a; i += 1)
                                e = this.hierarchy[i].finalTransform.mProp.v.props,
                                t.transform(e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8], e[9], e[10], e[11], e[12], e[13], e[14], e[15])
                    }
                },
                globalToLocal: function(e) {
                    var t = [];
                    t.push(this.finalTransform);
                    for (var i = !0, a = this.comp; i; )
                        a.finalTransform ? (a.data.hasMask && t.splice(0, 0, a.finalTransform),
                        a = a.comp) : i = !1;
                    var n, r, o = t.length;
                    for (n = 0; n < o; n += 1)
                        r = t[n].mat.applyToPointArray(0, 0, 0),
                        e = [e[0] - r[0], e[1] - r[1], 0];
                    return e
                },
                mHelper: new Matrix
            },
            RenderableElement.prototype = {
                initRenderable: function() {
                    this.isInRange = !1,
                    this.hidden = !1,
                    this.isTransparent = !1,
                    this.renderableComponents = []
                },
                addRenderableComponent: function(e) {
                    -1 === this.renderableComponents.indexOf(e) && this.renderableComponents.push(e)
                },
                removeRenderableComponent: function(e) {
                    -1 !== this.renderableComponents.indexOf(e) && this.renderableComponents.splice(this.renderableComponents.indexOf(e), 1)
                },
                prepareRenderableFrame: function(e) {
                    this.checkLayerLimits(e)
                },
                checkTransparency: function() {
                    this.finalTransform.mProp.o.v <= 0 ? !this.isTransparent && this.globalData.renderConfig.hideOnTransparent && (this.isTransparent = !0,
                    this.hide()) : this.isTransparent && (this.isTransparent = !1,
                    this.show())
                },
                checkLayerLimits: function(e) {
                    this.data.ip - this.data.st <= e && this.data.op - this.data.st > e ? !0 !== this.isInRange && (this.globalData._mdf = !0,
                    this._mdf = !0,
                    this.isInRange = !0,
                    this.show()) : !1 !== this.isInRange && (this.globalData._mdf = !0,
                    this.isInRange = !1,
                    this.hide())
                },
                renderRenderable: function() {
                    var e, t = this.renderableComponents.length;
                    for (e = 0; e < t; e += 1)
                        this.renderableComponents[e].renderFrame(this._isFirstFrame)
                },
                sourceRectAtTime: function() {
                    return {
                        top: 0,
                        left: 0,
                        width: 100,
                        height: 100
                    }
                },
                getLayerSize: function() {
                    return 5 === this.data.ty ? {
                        w: this.data.textData.width,
                        h: this.data.textData.height
                    } : {
                        w: this.data.width,
                        h: this.data.height
                    }
                }
            },
            extendPrototype([RenderableElement, createProxyFunction({
                initElement: function(e, t, i) {
                    this.initFrame(),
                    this.initBaseData(e, t, i),
                    this.initTransform(e, t, i),
                    this.initHierarchy(),
                    this.initRenderable(),
                    this.initRendererElement(),
                    this.createContainerElements(),
                    this.createRenderableComponents(),
                    this.createContent(),
                    this.hide()
                },
                hide: function() {
                    this.hidden || this.isInRange && !this.isTransparent || ((this.baseElement || this.layerElement).style.display = "none",
                    this.hidden = !0)
                },
                show: function() {
                    this.isInRange && !this.isTransparent && (this.data.hd || ((this.baseElement || this.layerElement).style.display = "block"),
                    this.hidden = !1,
                    this._isFirstFrame = !0)
                },
                renderFrame: function() {
                    this.data.hd || this.hidden || (this.renderTransform(),
                    this.renderRenderable(),
                    this.renderElement(),
                    this.renderInnerContent(),
                    this._isFirstFrame && (this._isFirstFrame = !1))
                },
                renderInnerContent: function() {},
                prepareFrame: function(e) {
                    this._mdf = !1,
                    this.prepareRenderableFrame(e),
                    this.prepareProperties(e, this.isInRange),
                    this.checkTransparency()
                },
                destroy: function() {
                    this.innerElem = null,
                    this.destroyBaseElement()
                }
            })], RenderableDOMElement),
            SVGStyleData.prototype.reset = function() {
                this.d = "",
                this._mdf = !1
            }
            ,
            SVGShapeData.prototype.setAsAnimated = function() {
                this._isAnimated = !0
            }
            ,
            extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData),
            extendPrototype([DynamicPropertyContainer], SVGFillStyleData),
            SVGGradientFillStyleData.prototype.initGradientData = function(e, t, i) {
                this.o = PropertyFactory.getProp(e, t.o, 0, .01, this),
                this.s = PropertyFactory.getProp(e, t.s, 1, null, this),
                this.e = PropertyFactory.getProp(e, t.e, 1, null, this),
                this.h = PropertyFactory.getProp(e, t.h || {
                    k: 0
                }, 0, .01, this),
                this.a = PropertyFactory.getProp(e, t.a || {
                    k: 0
                }, 0, degToRads, this),
                this.g = new GradientProperty(e,t.g,this),
                this.style = i,
                this.stops = [],
                this.setGradientData(i.pElem, t),
                this.setGradientOpacity(t, i),
                this._isAnimated = !!this._isAnimated
            }
            ,
            SVGGradientFillStyleData.prototype.setGradientData = function(e, t) {
                var i = createElementID()
                  , a = createNS(1 === t.t ? "linearGradient" : "radialGradient");
                a.setAttribute("id", i),
                a.setAttribute("spreadMethod", "pad"),
                a.setAttribute("gradientUnits", "userSpaceOnUse");
                var n, r, o, s = [];
                for (o = 4 * t.g.p,
                r = 0; r < o; r += 4)
                    n = createNS("stop"),
                    a.appendChild(n),
                    s.push(n);
                e.setAttribute("gf" === t.ty ? "fill" : "stroke", "url(" + locationHref + "#" + i + ")"),
                this.gf = a,
                this.cst = s
            }
            ,
            SVGGradientFillStyleData.prototype.setGradientOpacity = function(e, t) {
                if (this.g._hasOpacity && !this.g._collapsable) {
                    var i, a, n, r = createNS("mask"), o = createNS("path");
                    r.appendChild(o);
                    var s = createElementID()
                      , l = createElementID();
                    r.setAttribute("id", l);
                    var c = createNS(1 === e.t ? "linearGradient" : "radialGradient");
                    c.setAttribute("id", s),
                    c.setAttribute("spreadMethod", "pad"),
                    c.setAttribute("gradientUnits", "userSpaceOnUse"),
                    n = e.g.k.k[0].s ? e.g.k.k[0].s.length : e.g.k.k.length;
                    var h = this.stops;
                    for (a = 4 * e.g.p; a < n; a += 2)
                        (i = createNS("stop")).setAttribute("stop-color", "rgb(255,255,255)"),
                        c.appendChild(i),
                        h.push(i);
                    o.setAttribute("gf" === e.ty ? "fill" : "stroke", "url(" + locationHref + "#" + s + ")"),
                    this.of = c,
                    this.ms = r,
                    this.ost = h,
                    this.maskId = l,
                    t.msElem = o
                }
            }
            ,
            extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData),
            extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);
            var SVGElementsRenderer = function() {
                var e = new Matrix
                  , t = new Matrix;
                function i(e, t, i) {
                    (i || t.transform.op._mdf) && t.transform.container.setAttribute("opacity", t.transform.op.v),
                    (i || t.transform.mProps._mdf) && t.transform.container.setAttribute("transform", t.transform.mProps.v.to2dCSS())
                }
                function a(i, a, n) {
                    var r, o, s, l, c, h, p, d, u, g, m, f = a.styles.length, y = a.lvl;
                    for (h = 0; h < f; h += 1) {
                        if (l = a.sh._mdf || n,
                        a.styles[h].lvl < y) {
                            for (d = t.reset(),
                            g = y - a.styles[h].lvl,
                            m = a.transformers.length - 1; !l && g > 0; )
                                l = a.transformers[m].mProps._mdf || l,
                                g--,
                                m--;
                            if (l)
                                for (g = y - a.styles[h].lvl,
                                m = a.transformers.length - 1; g > 0; )
                                    u = a.transformers[m].mProps.v.props,
                                    d.transform(u[0], u[1], u[2], u[3], u[4], u[5], u[6], u[7], u[8], u[9], u[10], u[11], u[12], u[13], u[14], u[15]),
                                    g--,
                                    m--
                        } else
                            d = e;
                        if (o = (p = a.sh.paths)._length,
                        l) {
                            for (s = "",
                            r = 0; r < o; r += 1)
                                (c = p.shapes[r]) && c._length && (s += buildShapeString(c, c._length, c.c, d));
                            a.caches[h] = s
                        } else
                            s = a.caches[h];
                        a.styles[h].d += !0 === i.hd ? "" : s,
                        a.styles[h]._mdf = l || a.styles[h]._mdf
                    }
                }
                function n(e, t, i) {
                    var a = t.style;
                    (t.c._mdf || i) && a.pElem.setAttribute("fill", "rgb(" + bm_floor(t.c.v[0]) + "," + bm_floor(t.c.v[1]) + "," + bm_floor(t.c.v[2]) + ")"),
                    (t.o._mdf || i) && a.pElem.setAttribute("fill-opacity", t.o.v)
                }
                function r(e, t, i) {
                    o(e, t, i),
                    s(e, t, i)
                }
                function o(e, t, i) {
                    var a, n, r, o, s, l = t.gf, c = t.g._hasOpacity, h = t.s.v, p = t.e.v;
                    if (t.o._mdf || i) {
                        var d = "gf" === e.ty ? "fill-opacity" : "stroke-opacity";
                        t.style.pElem.setAttribute(d, t.o.v)
                    }
                    if (t.s._mdf || i) {
                        var u = 1 === e.t ? "x1" : "cx"
                          , g = "x1" === u ? "y1" : "cy";
                        l.setAttribute(u, h[0]),
                        l.setAttribute(g, h[1]),
                        c && !t.g._collapsable && (t.of.setAttribute(u, h[0]),
                        t.of.setAttribute(g, h[1]))
                    }
                    if (t.g._cmdf || i) {
                        a = t.cst;
                        var m = t.g.c;
                        for (r = a.length,
                        n = 0; n < r; n += 1)
                            (o = a[n]).setAttribute("offset", m[4 * n] + "%"),
                            o.setAttribute("stop-color", "rgb(" + m[4 * n + 1] + "," + m[4 * n + 2] + "," + m[4 * n + 3] + ")")
                    }
                    if (c && (t.g._omdf || i)) {
                        var f = t.g.o;
                        for (r = (a = t.g._collapsable ? t.cst : t.ost).length,
                        n = 0; n < r; n += 1)
                            o = a[n],
                            t.g._collapsable || o.setAttribute("offset", f[2 * n] + "%"),
                            o.setAttribute("stop-opacity", f[2 * n + 1])
                    }
                    if (1 === e.t)
                        (t.e._mdf || i) && (l.setAttribute("x2", p[0]),
                        l.setAttribute("y2", p[1]),
                        c && !t.g._collapsable && (t.of.setAttribute("x2", p[0]),
                        t.of.setAttribute("y2", p[1])));
                    else if ((t.s._mdf || t.e._mdf || i) && (s = Math.sqrt(Math.pow(h[0] - p[0], 2) + Math.pow(h[1] - p[1], 2)),
                    l.setAttribute("r", s),
                    c && !t.g._collapsable && t.of.setAttribute("r", s)),
                    t.e._mdf || t.h._mdf || t.a._mdf || i) {
                        s || (s = Math.sqrt(Math.pow(h[0] - p[0], 2) + Math.pow(h[1] - p[1], 2)));
                        var y = Math.atan2(p[1] - h[1], p[0] - h[0])
                          , v = s * (t.h.v >= 1 ? .99 : t.h.v <= -1 ? -.99 : t.h.v)
                          , b = Math.cos(y + t.a.v) * v + h[0]
                          , A = Math.sin(y + t.a.v) * v + h[1];
                        l.setAttribute("fx", b),
                        l.setAttribute("fy", A),
                        c && !t.g._collapsable && (t.of.setAttribute("fx", b),
                        t.of.setAttribute("fy", A))
                    }
                }
                function s(e, t, i) {
                    var a = t.style
                      , n = t.d;
                    n && (n._mdf || i) && n.dashStr && (a.pElem.setAttribute("stroke-dasharray", n.dashStr),
                    a.pElem.setAttribute("stroke-dashoffset", n.dashoffset[0])),
                    t.c && (t.c._mdf || i) && a.pElem.setAttribute("stroke", "rgb(" + bm_floor(t.c.v[0]) + "," + bm_floor(t.c.v[1]) + "," + bm_floor(t.c.v[2]) + ")"),
                    (t.o._mdf || i) && a.pElem.setAttribute("stroke-opacity", t.o.v),
                    (t.w._mdf || i) && (a.pElem.setAttribute("stroke-width", t.w.v),
                    a.msElem && a.msElem.setAttribute("stroke-width", t.w.v))
                }
                return {
                    createRenderFunction: function(e) {
                        e.ty;
                        switch (e.ty) {
                        case "fl":
                            return n;
                        case "gf":
                            return o;
                        case "gs":
                            return r;
                        case "st":
                            return s;
                        case "sh":
                        case "el":
                        case "rc":
                        case "sr":
                            return a;
                        case "tr":
                            return i
                        }
                    }
                }
            }();
            function ShapeTransformManager() {
                this.sequences = {},
                this.sequenceList = [],
                this.transform_key_count = 0
            }
            function CVShapeData(e, t, i, a) {
                this.styledShapes = [],
                this.tr = [0, 0, 0, 0, 0, 0];
                var n = 4;
                "rc" == t.ty ? n = 5 : "el" == t.ty ? n = 6 : "sr" == t.ty && (n = 7),
                this.sh = ShapePropertyFactory.getShapeProp(e, t, n, e);
                var r, o, s = i.length;
                for (r = 0; r < s; r += 1)
                    i[r].closed || (o = {
                        transforms: a.addTransformSequence(i[r].transforms),
                        trNodes: []
                    },
                    this.styledShapes.push(o),
                    i[r].elements.push(o))
            }
            function BaseElement() {}
            function NullElement(e, t, i) {
                this.initFrame(),
                this.initBaseData(e, t, i),
                this.initFrame(),
                this.initTransform(e, t, i),
                this.initHierarchy()
            }
            function SVGBaseElement() {}
            function IShapeElement() {}
            function ITextElement() {}
            function ICompElement() {}
            function IImageElement(e, t, i) {
                this.assetData = t.getAssetData(e.refId),
                this.initElement(e, t, i),
                this.sourceRect = {
                    top: 0,
                    left: 0,
                    width: this.assetData.w,
                    height: this.assetData.h
                }
            }
            function ISolidElement(e, t, i) {
                this.initElement(e, t, i)
            }
            function SVGCompElement(e, t, i) {
                this.layers = e.layers,
                this.supports3d = !0,
                this.completeLayers = !1,
                this.pendingElements = [],
                this.elements = this.layers ? createSizedArray(this.layers.length) : [],
                this.initElement(e, t, i),
                this.tm = e.tm ? PropertyFactory.getProp(this, e.tm, 0, t.frameRate, this) : {
                    _placeholder: !0
                }
            }
            function SVGTextElement(e, t, i) {
                this.textSpans = [],
                this.renderType = "svg",
                this.initElement(e, t, i)
            }
            function SVGShapeElement(e, t, i) {
                this.shapes = [],
                this.shapesData = e.shapes,
                this.stylesList = [],
                this.shapeModifiers = [],
                this.itemsData = [],
                this.processedElements = [],
                this.animatedContents = [],
                this.initElement(e, t, i),
                this.prevViewData = []
            }
            function SVGTintFilter(e, t) {
                this.filterManager = t;
                var i = createNS("feColorMatrix");
                if (i.setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "linearRGB"),
                i.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),
                i.setAttribute("result", "f1"),
                e.appendChild(i),
                (i = createNS("feColorMatrix")).setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "sRGB"),
                i.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),
                i.setAttribute("result", "f2"),
                e.appendChild(i),
                this.matrixFilter = i,
                100 !== t.effectElements[2].p.v || t.effectElements[2].p.k) {
                    var a, n = createNS("feMerge");
                    e.appendChild(n),
                    (a = createNS("feMergeNode")).setAttribute("in", "SourceGraphic"),
                    n.appendChild(a),
                    (a = createNS("feMergeNode")).setAttribute("in", "f2"),
                    n.appendChild(a)
                }
            }
            function SVGFillFilter(e, t) {
                this.filterManager = t;
                var i = createNS("feColorMatrix");
                i.setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "sRGB"),
                i.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),
                e.appendChild(i),
                this.matrixFilter = i
            }
            function SVGGaussianBlurEffect(e, t) {
                e.setAttribute("x", "-100%"),
                e.setAttribute("y", "-100%"),
                e.setAttribute("width", "300%"),
                e.setAttribute("height", "300%"),
                this.filterManager = t;
                var i = createNS("feGaussianBlur");
                e.appendChild(i),
                this.feGaussianBlur = i
            }
            function SVGStrokeEffect(e, t) {
                this.initialized = !1,
                this.filterManager = t,
                this.elem = e,
                this.paths = []
            }
            function SVGTritoneFilter(e, t) {
                this.filterManager = t;
                var i = createNS("feColorMatrix");
                i.setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "linearRGB"),
                i.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),
                i.setAttribute("result", "f1"),
                e.appendChild(i);
                var a = createNS("feComponentTransfer");
                a.setAttribute("color-interpolation-filters", "sRGB"),
                e.appendChild(a),
                this.matrixFilter = a;
                var n = createNS("feFuncR");
                n.setAttribute("type", "table"),
                a.appendChild(n),
                this.feFuncR = n;
                var r = createNS("feFuncG");
                r.setAttribute("type", "table"),
                a.appendChild(r),
                this.feFuncG = r;
                var o = createNS("feFuncB");
                o.setAttribute("type", "table"),
                a.appendChild(o),
                this.feFuncB = o
            }
            function SVGProLevelsFilter(e, t) {
                this.filterManager = t;
                var i = this.filterManager.effectElements
                  , a = createNS("feComponentTransfer");
                (i[10].p.k || 0 !== i[10].p.v || i[11].p.k || 1 !== i[11].p.v || i[12].p.k || 1 !== i[12].p.v || i[13].p.k || 0 !== i[13].p.v || i[14].p.k || 1 !== i[14].p.v) && (this.feFuncR = this.createFeFunc("feFuncR", a)),
                (i[17].p.k || 0 !== i[17].p.v || i[18].p.k || 1 !== i[18].p.v || i[19].p.k || 1 !== i[19].p.v || i[20].p.k || 0 !== i[20].p.v || i[21].p.k || 1 !== i[21].p.v) && (this.feFuncG = this.createFeFunc("feFuncG", a)),
                (i[24].p.k || 0 !== i[24].p.v || i[25].p.k || 1 !== i[25].p.v || i[26].p.k || 1 !== i[26].p.v || i[27].p.k || 0 !== i[27].p.v || i[28].p.k || 1 !== i[28].p.v) && (this.feFuncB = this.createFeFunc("feFuncB", a)),
                (i[31].p.k || 0 !== i[31].p.v || i[32].p.k || 1 !== i[32].p.v || i[33].p.k || 1 !== i[33].p.v || i[34].p.k || 0 !== i[34].p.v || i[35].p.k || 1 !== i[35].p.v) && (this.feFuncA = this.createFeFunc("feFuncA", a)),
                (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) && (a.setAttribute("color-interpolation-filters", "sRGB"),
                e.appendChild(a),
                a = createNS("feComponentTransfer")),
                (i[3].p.k || 0 !== i[3].p.v || i[4].p.k || 1 !== i[4].p.v || i[5].p.k || 1 !== i[5].p.v || i[6].p.k || 0 !== i[6].p.v || i[7].p.k || 1 !== i[7].p.v) && (a.setAttribute("color-interpolation-filters", "sRGB"),
                e.appendChild(a),
                this.feFuncRComposed = this.createFeFunc("feFuncR", a),
                this.feFuncGComposed = this.createFeFunc("feFuncG", a),
                this.feFuncBComposed = this.createFeFunc("feFuncB", a))
            }
            function SVGDropShadowEffect(e, t) {
                e.setAttribute("x", "-100%"),
                e.setAttribute("y", "-100%"),
                e.setAttribute("width", "400%"),
                e.setAttribute("height", "400%"),
                this.filterManager = t;
                var i = createNS("feGaussianBlur");
                i.setAttribute("in", "SourceAlpha"),
                i.setAttribute("result", "drop_shadow_1"),
                i.setAttribute("stdDeviation", "0"),
                this.feGaussianBlur = i,
                e.appendChild(i);
                var a = createNS("feOffset");
                a.setAttribute("dx", "25"),
                a.setAttribute("dy", "0"),
                a.setAttribute("in", "drop_shadow_1"),
                a.setAttribute("result", "drop_shadow_2"),
                this.feOffset = a,
                e.appendChild(a);
                var n = createNS("feFlood");
                n.setAttribute("flood-color", "#00ff00"),
                n.setAttribute("flood-opacity", "1"),
                n.setAttribute("result", "drop_shadow_3"),
                this.feFlood = n,
                e.appendChild(n);
                var r = createNS("feComposite");
                r.setAttribute("in", "drop_shadow_3"),
                r.setAttribute("in2", "drop_shadow_2"),
                r.setAttribute("operator", "in"),
                r.setAttribute("result", "drop_shadow_4"),
                e.appendChild(r);
                var o, s = createNS("feMerge");
                e.appendChild(s),
                o = createNS("feMergeNode"),
                s.appendChild(o),
                (o = createNS("feMergeNode")).setAttribute("in", "SourceGraphic"),
                this.feMergeNode = o,
                this.feMerge = s,
                this.originalNodeAdded = !1,
                s.appendChild(o)
            }
            ShapeTransformManager.prototype = {
                addTransformSequence: function(e) {
                    var t, i = e.length, a = "_";
                    for (t = 0; t < i; t += 1)
                        a += e[t].transform.key + "_";
                    var n = this.sequences[a];
                    return n || (n = {
                        transforms: [].concat(e),
                        finalTransform: new Matrix,
                        _mdf: !1
                    },
                    this.sequences[a] = n,
                    this.sequenceList.push(n)),
                    n
                },
                processSequence: function(e, t) {
                    for (var i, a = 0, n = e.transforms.length, r = t; a < n && !t; ) {
                        if (e.transforms[a].transform.mProps._mdf) {
                            r = !0;
                            break
                        }
                        a += 1
                    }
                    if (r)
                        for (e.finalTransform.reset(),
                        a = n - 1; a >= 0; a -= 1)
                            i = e.transforms[a].transform.mProps.v.props,
                            e.finalTransform.transform(i[0], i[1], i[2], i[3], i[4], i[5], i[6], i[7], i[8], i[9], i[10], i[11], i[12], i[13], i[14], i[15]);
                    e._mdf = r
                },
                processSequences: function(e) {
                    var t, i = this.sequenceList.length;
                    for (t = 0; t < i; t += 1)
                        this.processSequence(this.sequenceList[t], e)
                },
                getNewKey: function() {
                    return "_" + this.transform_key_count++
                }
            },
            CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated,
            BaseElement.prototype = {
                checkMasks: function() {
                    if (!this.data.hasMask)
                        return !1;
                    for (var e = 0, t = this.data.masksProperties.length; e < t; ) {
                        if ("n" !== this.data.masksProperties[e].mode && !1 !== this.data.masksProperties[e].cl)
                            return !0;
                        e += 1
                    }
                    return !1
                },
                initExpressions: function() {
                    this.layerInterface = LayerExpressionInterface(this),
                    this.data.hasMask && this.maskManager && this.layerInterface.registerMaskInterface(this.maskManager);
                    var e = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);
                    this.layerInterface.registerEffectsInterface(e),
                    0 === this.data.ty || this.data.xt ? this.compInterface = CompExpressionInterface(this) : 4 === this.data.ty ? (this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface),
                    this.layerInterface.content = this.layerInterface.shapeInterface) : 5 === this.data.ty && (this.layerInterface.textInterface = TextExpressionInterface(this),
                    this.layerInterface.text = this.layerInterface.textInterface)
                },
                setBlendMode: function() {
                    var e = getBlendMode(this.data.bm);
                    (this.baseElement || this.layerElement).style["mix-blend-mode"] = e
                },
                initBaseData: function(e, t, i) {
                    this.globalData = t,
                    this.comp = i,
                    this.data = e,
                    this.layerId = createElementID(),
                    this.data.sr || (this.data.sr = 1),
                    this.effectsManager = new EffectsManager(this.data,this,this.dynamicProperties)
                },
                getType: function() {
                    return this.type
                },
                sourceRectAtTime: function() {}
            },
            NullElement.prototype.prepareFrame = function(e) {
                this.prepareProperties(e, !0)
            }
            ,
            NullElement.prototype.renderFrame = function() {}
            ,
            NullElement.prototype.getBaseElement = function() {
                return null
            }
            ,
            NullElement.prototype.destroy = function() {}
            ,
            NullElement.prototype.sourceRectAtTime = function() {}
            ,
            NullElement.prototype.hide = function() {}
            ,
            extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement),
            SVGBaseElement.prototype = {
                initRendererElement: function() {
                    this.layerElement = createNS("g")
                },
                createContainerElements: function() {
                    this.matteElement = createNS("g"),
                    this.transformedElement = this.layerElement,
                    this.maskedElement = this.layerElement,
                    this._sizeChanged = !1;
                    var e, t, i, a = null;
                    if (this.data.td) {
                        if (3 == this.data.td || 1 == this.data.td) {
                            var n = createNS("mask");
                            n.setAttribute("id", this.layerId),
                            n.setAttribute("mask-type", 3 == this.data.td ? "luminance" : "alpha"),
                            n.appendChild(this.layerElement),
                            a = n,
                            this.globalData.defs.appendChild(n),
                            featureSupport.maskType || 1 != this.data.td || (n.setAttribute("mask-type", "luminance"),
                            e = createElementID(),
                            t = filtersFactory.createFilter(e),
                            this.globalData.defs.appendChild(t),
                            t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),
                            (i = createNS("g")).appendChild(this.layerElement),
                            a = i,
                            n.appendChild(i),
                            i.setAttribute("filter", "url(" + locationHref + "#" + e + ")"))
                        } else if (2 == this.data.td) {
                            var r = createNS("mask");
                            r.setAttribute("id", this.layerId),
                            r.setAttribute("mask-type", "alpha");
                            var o = createNS("g");
                            r.appendChild(o),
                            e = createElementID(),
                            t = filtersFactory.createFilter(e);
                            var s = createNS("feComponentTransfer");
                            s.setAttribute("in", "SourceGraphic"),
                            t.appendChild(s);
                            var l = createNS("feFuncA");
                            l.setAttribute("type", "table"),
                            l.setAttribute("tableValues", "1.0 0.0"),
                            s.appendChild(l),
                            this.globalData.defs.appendChild(t);
                            var c = createNS("rect");
                            c.setAttribute("width", this.comp.data.w),
                            c.setAttribute("height", this.comp.data.h),
                            c.setAttribute("x", "0"),
                            c.setAttribute("y", "0"),
                            c.setAttribute("fill", "#ffffff"),
                            c.setAttribute("opacity", "0"),
                            o.setAttribute("filter", "url(" + locationHref + "#" + e + ")"),
                            o.appendChild(c),
                            o.appendChild(this.layerElement),
                            a = o,
                            featureSupport.maskType || (r.setAttribute("mask-type", "luminance"),
                            t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),
                            i = createNS("g"),
                            o.appendChild(c),
                            i.appendChild(this.layerElement),
                            a = i,
                            o.appendChild(i)),
                            this.globalData.defs.appendChild(r)
                        }
                    } else
                        this.data.tt ? (this.matteElement.appendChild(this.layerElement),
                        a = this.matteElement,
                        this.baseElement = this.matteElement) : this.baseElement = this.layerElement;
                    if (this.data.ln && this.layerElement.setAttribute("id", this.data.ln),
                    this.data.cl && this.layerElement.setAttribute("class", this.data.cl),
                    0 === this.data.ty && !this.data.hd) {
                        var h = createNS("clipPath")
                          , p = createNS("path");
                        p.setAttribute("d", "M0,0 L" + this.data.w + ",0 L" + this.data.w + "," + this.data.h + " L0," + this.data.h + "z");
                        var d = createElementID();
                        if (h.setAttribute("id", d),
                        h.appendChild(p),
                        this.globalData.defs.appendChild(h),
                        this.checkMasks()) {
                            var u = createNS("g");
                            u.setAttribute("clip-path", "url(" + locationHref + "#" + d + ")"),
                            u.appendChild(this.layerElement),
                            this.transformedElement = u,
                            a ? a.appendChild(this.transformedElement) : this.baseElement = this.transformedElement
                        } else
                            this.layerElement.setAttribute("clip-path", "url(" + locationHref + "#" + d + ")")
                    }
                    0 !== this.data.bm && this.setBlendMode()
                },
                renderElement: function() {
                    this.finalTransform._matMdf && this.transformedElement.setAttribute("transform", this.finalTransform.mat.to2dCSS()),
                    this.finalTransform._opMdf && this.transformedElement.setAttribute("opacity", this.finalTransform.mProp.o.v)
                },
                destroyBaseElement: function() {
                    this.layerElement = null,
                    this.matteElement = null,
                    this.maskManager.destroy()
                },
                getBaseElement: function() {
                    return this.data.hd ? null : this.baseElement
                },
                createRenderableComponents: function() {
                    this.maskManager = new MaskElement(this.data,this,this.globalData),
                    this.renderableEffectsManager = new SVGEffects(this)
                },
                setMatte: function(e) {
                    this.matteElement && this.matteElement.setAttribute("mask", "url(" + locationHref + "#" + e + ")")
                }
            },
            IShapeElement.prototype = {
                addShapeToModifiers: function(e) {
                    var t, i = this.shapeModifiers.length;
                    for (t = 0; t < i; t += 1)
                        this.shapeModifiers[t].addShape(e)
                },
                isShapeInAnimatedModifiers: function(e) {
                    for (var t = this.shapeModifiers.length; 0 < t; )
                        if (this.shapeModifiers[0].isAnimatedWithShape(e))
                            return !0;
                    return !1
                },
                renderModifiers: function() {
                    if (this.shapeModifiers.length) {
                        var e, t = this.shapes.length;
                        for (e = 0; e < t; e += 1)
                            this.shapes[e].sh.reset();
                        for (e = (t = this.shapeModifiers.length) - 1; e >= 0; e -= 1)
                            this.shapeModifiers[e].processShapes(this._isFirstFrame)
                    }
                },
                lcEnum: {
                    1: "butt",
                    2: "round",
                    3: "square"
                },
                ljEnum: {
                    1: "miter",
                    2: "round",
                    3: "bevel"
                },
                searchProcessedElement: function(e) {
                    for (var t = this.processedElements, i = 0, a = t.length; i < a; ) {
                        if (t[i].elem === e)
                            return t[i].pos;
                        i += 1
                    }
                    return 0
                },
                addProcessedElement: function(e, t) {
                    for (var i = this.processedElements, a = i.length; a; )
                        if (i[a -= 1].elem === e)
                            return void (i[a].pos = t);
                    i.push(new ProcessedElement(e,t))
                },
                prepareFrame: function(e) {
                    this.prepareRenderableFrame(e),
                    this.prepareProperties(e, this.isInRange)
                }
            },
            ITextElement.prototype.initElement = function(e, t, i) {
                this.lettersChangedFlag = !0,
                this.initFrame(),
                this.initBaseData(e, t, i),
                this.textProperty = new TextProperty(this,e.t,this.dynamicProperties),
                this.textAnimator = new TextAnimatorProperty(e.t,this.renderType,this),
                this.initTransform(e, t, i),
                this.initHierarchy(),
                this.initRenderable(),
                this.initRendererElement(),
                this.createContainerElements(),
                this.createRenderableComponents(),
                this.createContent(),
                this.hide(),
                this.textAnimator.searchProperties(this.dynamicProperties)
            }
            ,
            ITextElement.prototype.prepareFrame = function(e) {
                this._mdf = !1,
                this.prepareRenderableFrame(e),
                this.prepareProperties(e, this.isInRange),
                (this.textProperty._mdf || this.textProperty._isFirstFrame) && (this.buildNewText(),
                this.textProperty._isFirstFrame = !1,
                this.textProperty._mdf = !1)
            }
            ,
            ITextElement.prototype.createPathShape = function(e, t) {
                var i, a, n = t.length, r = "";
                for (i = 0; i < n; i += 1)
                    a = t[i].ks.k,
                    r += buildShapeString(a, a.i.length, !0, e);
                return r
            }
            ,
            ITextElement.prototype.updateDocumentData = function(e, t) {
                this.textProperty.updateDocumentData(e, t)
            }
            ,
            ITextElement.prototype.canResizeFont = function(e) {
                this.textProperty.canResizeFont(e)
            }
            ,
            ITextElement.prototype.setMinimumFontSize = function(e) {
                this.textProperty.setMinimumFontSize(e)
            }
            ,
            ITextElement.prototype.applyTextPropertiesToMatrix = function(e, t, i, a, n) {
                switch (e.ps && t.translate(e.ps[0], e.ps[1] + e.ascent, 0),
                t.translate(0, -e.ls, 0),
                e.j) {
                case 1:
                    t.translate(e.justifyOffset + (e.boxWidth - e.lineWidths[i]), 0, 0);
                    break;
                case 2:
                    t.translate(e.justifyOffset + (e.boxWidth - e.lineWidths[i]) / 2, 0, 0)
                }
                t.translate(a, n, 0)
            }
            ,
            ITextElement.prototype.buildColor = function(e) {
                return "rgb(" + Math.round(255 * e[0]) + "," + Math.round(255 * e[1]) + "," + Math.round(255 * e[2]) + ")"
            }
            ,
            ITextElement.prototype.emptyProp = new LetterProps,
            ITextElement.prototype.destroy = function() {}
            ,
            extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement),
            ICompElement.prototype.initElement = function(e, t, i) {
                this.initFrame(),
                this.initBaseData(e, t, i),
                this.initTransform(e, t, i),
                this.initRenderable(),
                this.initHierarchy(),
                this.initRendererElement(),
                this.createContainerElements(),
                this.createRenderableComponents(),
                !this.data.xt && t.progressiveLoad || this.buildAllItems(),
                this.hide()
            }
            ,
            ICompElement.prototype.prepareFrame = function(e) {
                if (this._mdf = !1,
                this.prepareRenderableFrame(e),
                this.prepareProperties(e, this.isInRange),
                this.isInRange || this.data.xt) {
                    if (this.tm._placeholder)
                        this.renderedFrame = e / this.data.sr;
                    else {
                        var t = this.tm.v;
                        t === this.data.op && (t = this.data.op - 1),
                        this.renderedFrame = t
                    }
                    var i, a = this.elements.length;
                    for (this.completeLayers || this.checkLayers(this.renderedFrame),
                    i = a - 1; i >= 0; i -= 1)
                        (this.completeLayers || this.elements[i]) && (this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st),
                        this.elements[i]._mdf && (this._mdf = !0))
                }
            }
            ,
            ICompElement.prototype.renderInnerContent = function() {
                var e, t = this.layers.length;
                for (e = 0; e < t; e += 1)
                    (this.completeLayers || this.elements[e]) && this.elements[e].renderFrame()
            }
            ,
            ICompElement.prototype.setElements = function(e) {
                this.elements = e
            }
            ,
            ICompElement.prototype.getElements = function() {
                return this.elements
            }
            ,
            ICompElement.prototype.destroyElements = function() {
                var e, t = this.layers.length;
                for (e = 0; e < t; e += 1)
                    this.elements[e] && this.elements[e].destroy()
            }
            ,
            ICompElement.prototype.destroy = function() {
                this.destroyElements(),
                this.destroyBaseElement()
            }
            ,
            extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement),
            IImageElement.prototype.createContent = function() {
                var e = this.globalData.getAssetsPath(this.assetData);
                this.innerElem = createNS("image"),
                this.innerElem.setAttribute("width", this.assetData.w + "px"),
                this.innerElem.setAttribute("height", this.assetData.h + "px"),
                this.innerElem.setAttribute("preserveAspectRatio", this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio),
                this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", e),
                this.layerElement.appendChild(this.innerElem)
            }
            ,
            IImageElement.prototype.sourceRectAtTime = function() {
                return this.sourceRect
            }
            ,
            extendPrototype([IImageElement], ISolidElement),
            ISolidElement.prototype.createContent = function() {
                var e = createNS("rect");
                e.setAttribute("width", this.data.sw),
                e.setAttribute("height", this.data.sh),
                e.setAttribute("fill", this.data.sc),
                this.layerElement.appendChild(e)
            }
            ,
            extendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement),
            extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextElement),
            SVGTextElement.prototype.createContent = function() {
                this.data.singleShape && !this.globalData.fontManager.chars && (this.textContainer = createNS("text"))
            }
            ,
            SVGTextElement.prototype.buildTextContents = function(e) {
                for (var t = 0, i = e.length, a = [], n = ""; t < i; )
                    e[t] === String.fromCharCode(13) || e[t] === String.fromCharCode(3) ? (a.push(n),
                    n = "") : n += e[t],
                    t += 1;
                return a.push(n),
                a
            }
            ,
            SVGTextElement.prototype.buildNewText = function() {
                var e, t, i = this.textProperty.currentData;
                this.renderedLetters = createSizedArray(i ? i.l.length : 0),
                i.fc ? this.layerElement.setAttribute("fill", this.buildColor(i.fc)) : this.layerElement.setAttribute("fill", "rgba(0,0,0,0)"),
                i.sc && (this.layerElement.setAttribute("stroke", this.buildColor(i.sc)),
                this.layerElement.setAttribute("stroke-width", i.sw)),
                this.layerElement.setAttribute("font-size", i.finalSize);
                var a = this.globalData.fontManager.getFontByName(i.f);
                if (a.fClass)
                    this.layerElement.setAttribute("class", a.fClass);
                else {
                    this.layerElement.setAttribute("font-family", a.fFamily);
                    var n = i.fWeight
                      , r = i.fStyle;
                    this.layerElement.setAttribute("font-style", r),
                    this.layerElement.setAttribute("font-weight", n)
                }
                this.layerElement.setAttribute("arial-label", i.t);
                var o, s = i.l || [], l = !!this.globalData.fontManager.chars;
                t = s.length;
                var c, h = this.mHelper, p = "", d = this.data.singleShape, u = 0, g = 0, m = !0, f = i.tr / 1e3 * i.finalSize;
                if (!d || l || i.sz) {
                    var y, v, b = this.textSpans.length;
                    for (e = 0; e < t; e += 1)
                        l && d && 0 !== e || (o = b > e ? this.textSpans[e] : createNS(l ? "path" : "text"),
                        b <= e && (o.setAttribute("stroke-linecap", "butt"),
                        o.setAttribute("stroke-linejoin", "round"),
                        o.setAttribute("stroke-miterlimit", "4"),
                        this.textSpans[e] = o,
                        this.layerElement.appendChild(o)),
                        o.style.display = "inherit"),
                        h.reset(),
                        h.scale(i.finalSize / 100, i.finalSize / 100),
                        d && (s[e].n && (u = -f,
                        g += i.yOffset,
                        g += m ? 1 : 0,
                        m = !1),
                        this.applyTextPropertiesToMatrix(i, h, s[e].line, u, g),
                        u += s[e].l || 0,
                        u += f),
                        l ? (c = (y = (v = this.globalData.fontManager.getCharData(i.finalText[e], a.fStyle, this.globalData.fontManager.getFontByName(i.f).fFamily)) && v.data || {}).shapes ? y.shapes[0].it : [],
                        d ? p += this.createPathShape(h, c) : o.setAttribute("d", this.createPathShape(h, c))) : (d && o.setAttribute("transform", "translate(" + h.props[12] + "," + h.props[13] + ")"),
                        o.textContent = s[e].val,
                        o.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"));
                    d && o && o.setAttribute("d", p)
                } else {
                    var A = this.textContainer
                      , C = "start";
                    switch (i.j) {
                    case 1:
                        C = "end";
                        break;
                    case 2:
                        C = "middle"
                    }
                    A.setAttribute("text-anchor", C),
                    A.setAttribute("letter-spacing", f);
                    var w = this.buildTextContents(i.finalText);
                    for (t = w.length,
                    g = i.ps ? i.ps[1] + i.ascent : 0,
                    e = 0; e < t; e += 1)
                        (o = this.textSpans[e] || createNS("tspan")).textContent = w[e],
                        o.setAttribute("x", 0),
                        o.setAttribute("y", g),
                        o.style.display = "inherit",
                        A.appendChild(o),
                        this.textSpans[e] = o,
                        g += i.finalLineHeight;
                    this.layerElement.appendChild(A)
                }
                for (; e < this.textSpans.length; )
                    this.textSpans[e].style.display = "none",
                    e += 1;
                this._sizeChanged = !0
            }
            ,
            SVGTextElement.prototype.sourceRectAtTime = function(e) {
                if (this.prepareFrame(this.comp.renderedFrame - this.data.st),
                this.renderInnerContent(),
                this._sizeChanged) {
                    this._sizeChanged = !1;
                    var t = this.layerElement.getBBox();
                    this.bbox = {
                        top: t.y,
                        left: t.x,
                        width: t.width,
                        height: t.height
                    }
                }
                return this.bbox
            }
            ,
            SVGTextElement.prototype.renderInnerContent = function() {
                if (!this.data.singleShape && (this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag),
                this.lettersChangedFlag || this.textAnimator.lettersChangedFlag)) {
                    var e, t;
                    this._sizeChanged = !0;
                    var i, a, n = this.textAnimator.renderedLetters, r = this.textProperty.currentData.l;
                    for (t = r.length,
                    e = 0; e < t; e += 1)
                        r[e].n || (i = n[e],
                        a = this.textSpans[e],
                        i._mdf.m && a.setAttribute("transform", i.m),
                        i._mdf.o && a.setAttribute("opacity", i.o),
                        i._mdf.sw && a.setAttribute("stroke-width", i.sw),
                        i._mdf.sc && a.setAttribute("stroke", i.sc),
                        i._mdf.fc && a.setAttribute("fill", i.fc))
                }
            }
            ,
            extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement),
            SVGShapeElement.prototype.initSecondaryElement = function() {}
            ,
            SVGShapeElement.prototype.identityMatrix = new Matrix,
            SVGShapeElement.prototype.buildExpressionInterface = function() {}
            ,
            SVGShapeElement.prototype.createContent = function() {
                this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], !0),
                this.filterUniqueShapes()
            }
            ,
            SVGShapeElement.prototype.filterUniqueShapes = function() {
                var e, t, i, a, n = this.shapes.length, r = this.stylesList.length, o = [], s = !1;
                for (i = 0; i < r; i += 1) {
                    for (a = this.stylesList[i],
                    s = !1,
                    o.length = 0,
                    e = 0; e < n; e += 1)
                        -1 !== (t = this.shapes[e]).styles.indexOf(a) && (o.push(t),
                        s = t._isAnimated || s);
                    o.length > 1 && s && this.setShapesAsAnimated(o)
                }
            }
            ,
            SVGShapeElement.prototype.setShapesAsAnimated = function(e) {
                var t, i = e.length;
                for (t = 0; t < i; t += 1)
                    e[t].setAsAnimated()
            }
            ,
            SVGShapeElement.prototype.createStyleElement = function(e, t) {
                var i, a = new SVGStyleData(e,t), n = a.pElem;
                if ("st" === e.ty)
                    i = new SVGStrokeStyleData(this,e,a);
                else if ("fl" === e.ty)
                    i = new SVGFillStyleData(this,e,a);
                else if ("gf" === e.ty || "gs" === e.ty) {
                    i = new ("gf" === e.ty ? SVGGradientFillStyleData : SVGGradientStrokeStyleData)(this,e,a),
                    this.globalData.defs.appendChild(i.gf),
                    i.maskId && (this.globalData.defs.appendChild(i.ms),
                    this.globalData.defs.appendChild(i.of),
                    n.setAttribute("mask", "url(" + locationHref + "#" + i.maskId + ")"))
                }
                return "st" !== e.ty && "gs" !== e.ty || (n.setAttribute("stroke-linecap", this.lcEnum[e.lc] || "round"),
                n.setAttribute("stroke-linejoin", this.ljEnum[e.lj] || "round"),
                n.setAttribute("fill-opacity", "0"),
                1 === e.lj && n.setAttribute("stroke-miterlimit", e.ml)),
                2 === e.r && n.setAttribute("fill-rule", "evenodd"),
                e.ln && n.setAttribute("id", e.ln),
                e.cl && n.setAttribute("class", e.cl),
                e.bm && (n.style["mix-blend-mode"] = getBlendMode(e.bm)),
                this.stylesList.push(a),
                this.addToAnimatedContents(e, i),
                i
            }
            ,
            SVGShapeElement.prototype.createGroupElement = function(e) {
                var t = new ShapeGroupData;
                return e.ln && t.gr.setAttribute("id", e.ln),
                e.cl && t.gr.setAttribute("class", e.cl),
                e.bm && (t.gr.style["mix-blend-mode"] = getBlendMode(e.bm)),
                t
            }
            ,
            SVGShapeElement.prototype.createTransformElement = function(e, t) {
                var i = TransformPropertyFactory.getTransformProperty(this, e, this)
                  , a = new SVGTransformData(i,i.o,t);
                return this.addToAnimatedContents(e, a),
                a
            }
            ,
            SVGShapeElement.prototype.createShapeElement = function(e, t, i) {
                var a = 4;
                "rc" === e.ty ? a = 5 : "el" === e.ty ? a = 6 : "sr" === e.ty && (a = 7);
                var n = new SVGShapeData(t,i,ShapePropertyFactory.getShapeProp(this, e, a, this));
                return this.shapes.push(n),
                this.addShapeToModifiers(n),
                this.addToAnimatedContents(e, n),
                n
            }
            ,
            SVGShapeElement.prototype.addToAnimatedContents = function(e, t) {
                for (var i = 0, a = this.animatedContents.length; i < a; ) {
                    if (this.animatedContents[i].element === t)
                        return;
                    i += 1
                }
                this.animatedContents.push({
                    fn: SVGElementsRenderer.createRenderFunction(e),
                    element: t,
                    data: e
                })
            }
            ,
            SVGShapeElement.prototype.setElementStyles = function(e) {
                var t, i = e.styles, a = this.stylesList.length;
                for (t = 0; t < a; t += 1)
                    this.stylesList[t].closed || i.push(this.stylesList[t])
            }
            ,
            SVGShapeElement.prototype.reloadShapes = function() {
                this._isFirstFrame = !0;
                var e, t = this.itemsData.length;
                for (e = 0; e < t; e += 1)
                    this.prevViewData[e] = this.itemsData[e];
                for (this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], !0),
                this.filterUniqueShapes(),
                t = this.dynamicProperties.length,
                e = 0; e < t; e += 1)
                    this.dynamicProperties[e].getValue();
                this.renderModifiers()
            }
            ,
            SVGShapeElement.prototype.searchShapes = function(e, t, i, a, n, r, o) {
                var s, l, c, h, p, d, u = [].concat(r), g = e.length - 1, m = [], f = [];
                for (s = g; s >= 0; s -= 1) {
                    if ((d = this.searchProcessedElement(e[s])) ? t[s] = i[d - 1] : e[s]._render = o,
                    "fl" == e[s].ty || "st" == e[s].ty || "gf" == e[s].ty || "gs" == e[s].ty)
                        d ? t[s].style.closed = !1 : t[s] = this.createStyleElement(e[s], n),
                        e[s]._render && a.appendChild(t[s].style.pElem),
                        m.push(t[s].style);
                    else if ("gr" == e[s].ty) {
                        if (d)
                            for (c = t[s].it.length,
                            l = 0; l < c; l += 1)
                                t[s].prevViewData[l] = t[s].it[l];
                        else
                            t[s] = this.createGroupElement(e[s]);
                        this.searchShapes(e[s].it, t[s].it, t[s].prevViewData, t[s].gr, n + 1, u, o),
                        e[s]._render && a.appendChild(t[s].gr)
                    } else
                        "tr" == e[s].ty ? (d || (t[s] = this.createTransformElement(e[s], a)),
                        h = t[s].transform,
                        u.push(h)) : "sh" == e[s].ty || "rc" == e[s].ty || "el" == e[s].ty || "sr" == e[s].ty ? (d || (t[s] = this.createShapeElement(e[s], u, n)),
                        this.setElementStyles(t[s])) : "tm" == e[s].ty || "rd" == e[s].ty || "ms" == e[s].ty ? (d ? (p = t[s]).closed = !1 : ((p = ShapeModifiers.getModifier(e[s].ty)).init(this, e[s]),
                        t[s] = p,
                        this.shapeModifiers.push(p)),
                        f.push(p)) : "rp" == e[s].ty && (d ? (p = t[s]).closed = !0 : (p = ShapeModifiers.getModifier(e[s].ty),
                        t[s] = p,
                        p.init(this, e, s, t),
                        this.shapeModifiers.push(p),
                        o = !1),
                        f.push(p));
                    this.addProcessedElement(e[s], s + 1)
                }
                for (g = m.length,
                s = 0; s < g; s += 1)
                    m[s].closed = !0;
                for (g = f.length,
                s = 0; s < g; s += 1)
                    f[s].closed = !0
            }
            ,
            SVGShapeElement.prototype.renderInnerContent = function() {
                this.renderModifiers();
                var e, t = this.stylesList.length;
                for (e = 0; e < t; e += 1)
                    this.stylesList[e].reset();
                for (this.renderShape(),
                e = 0; e < t; e += 1)
                    (this.stylesList[e]._mdf || this._isFirstFrame) && (this.stylesList[e].msElem && (this.stylesList[e].msElem.setAttribute("d", this.stylesList[e].d),
                    this.stylesList[e].d = "M0 0" + this.stylesList[e].d),
                    this.stylesList[e].pElem.setAttribute("d", this.stylesList[e].d || "M0 0"))
            }
            ,
            SVGShapeElement.prototype.renderShape = function() {
                var e, t, i = this.animatedContents.length;
                for (e = 0; e < i; e += 1)
                    t = this.animatedContents[e],
                    (this._isFirstFrame || t.element._isAnimated) && !0 !== t.data && t.fn(t.data, t.element, this._isFirstFrame)
            }
            ,
            SVGShapeElement.prototype.destroy = function() {
                this.destroyBaseElement(),
                this.shapesData = null,
                this.itemsData = null
            }
            ,
            SVGTintFilter.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    var t = this.filterManager.effectElements[0].p.v
                      , i = this.filterManager.effectElements[1].p.v
                      , a = this.filterManager.effectElements[2].p.v / 100;
                    this.matrixFilter.setAttribute("values", i[0] - t[0] + " 0 0 0 " + t[0] + " " + (i[1] - t[1]) + " 0 0 0 " + t[1] + " " + (i[2] - t[2]) + " 0 0 0 " + t[2] + " 0 0 0 " + a + " 0")
                }
            }
            ,
            SVGFillFilter.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    var t = this.filterManager.effectElements[2].p.v
                      , i = this.filterManager.effectElements[6].p.v;
                    this.matrixFilter.setAttribute("values", "0 0 0 0 " + t[0] + " 0 0 0 0 " + t[1] + " 0 0 0 0 " + t[2] + " 0 0 0 " + i + " 0")
                }
            }
            ,
            SVGGaussianBlurEffect.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    var t = .3 * this.filterManager.effectElements[0].p.v
                      , i = this.filterManager.effectElements[1].p.v
                      , a = 3 == i ? 0 : t
                      , n = 2 == i ? 0 : t;
                    this.feGaussianBlur.setAttribute("stdDeviation", a + " " + n);
                    var r = 1 == this.filterManager.effectElements[2].p.v ? "wrap" : "duplicate";
                    this.feGaussianBlur.setAttribute("edgeMode", r)
                }
            }
            ,
            SVGStrokeEffect.prototype.initialize = function() {
                var e, t, i, a, n = this.elem.layerElement.children || this.elem.layerElement.childNodes;
                for (1 === this.filterManager.effectElements[1].p.v ? (a = this.elem.maskManager.masksProperties.length,
                i = 0) : a = (i = this.filterManager.effectElements[0].p.v - 1) + 1,
                (t = createNS("g")).setAttribute("fill", "none"),
                t.setAttribute("stroke-linecap", "round"),
                t.setAttribute("stroke-dashoffset", 1); i < a; i += 1)
                    e = createNS("path"),
                    t.appendChild(e),
                    this.paths.push({
                        p: e,
                        m: i
                    });
                if (3 === this.filterManager.effectElements[10].p.v) {
                    var r = createNS("mask")
                      , o = createElementID();
                    r.setAttribute("id", o),
                    r.setAttribute("mask-type", "alpha"),
                    r.appendChild(t),
                    this.elem.globalData.defs.appendChild(r);
                    var s = createNS("g");
                    for (s.setAttribute("mask", "url(" + locationHref + "#" + o + ")"); n[0]; )
                        s.appendChild(n[0]);
                    this.elem.layerElement.appendChild(s),
                    this.masker = r,
                    t.setAttribute("stroke", "#fff")
                } else if (1 === this.filterManager.effectElements[10].p.v || 2 === this.filterManager.effectElements[10].p.v) {
                    if (2 === this.filterManager.effectElements[10].p.v)
                        for (n = this.elem.layerElement.children || this.elem.layerElement.childNodes; n.length; )
                            this.elem.layerElement.removeChild(n[0]);
                    this.elem.layerElement.appendChild(t),
                    this.elem.layerElement.removeAttribute("mask"),
                    t.setAttribute("stroke", "#fff")
                }
                this.initialized = !0,
                this.pathMasker = t
            }
            ,
            SVGStrokeEffect.prototype.renderFrame = function(e) {
                this.initialized || this.initialize();
                var t, i, a, n = this.paths.length;
                for (t = 0; t < n; t += 1)
                    if (-1 !== this.paths[t].m && (i = this.elem.maskManager.viewData[this.paths[t].m],
                    a = this.paths[t].p,
                    (e || this.filterManager._mdf || i.prop._mdf) && a.setAttribute("d", i.lastPath),
                    e || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || i.prop._mdf)) {
                        var r;
                        if (0 !== this.filterManager.effectElements[7].p.v || 100 !== this.filterManager.effectElements[8].p.v) {
                            var o = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) / 100
                              , s = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) / 100
                              , l = a.getTotalLength();
                            r = "0 0 0 " + l * o + " ";
                            var c, h = l * (s - o), p = 1 + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100, d = Math.floor(h / p);
                            for (c = 0; c < d; c += 1)
                                r += "1 " + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100 + " ";
                            r += "0 " + 10 * l + " 0 0"
                        } else
                            r = "1 " + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100;
                        a.setAttribute("stroke-dasharray", r)
                    }
                if ((e || this.filterManager.effectElements[4].p._mdf) && this.pathMasker.setAttribute("stroke-width", 2 * this.filterManager.effectElements[4].p.v),
                (e || this.filterManager.effectElements[6].p._mdf) && this.pathMasker.setAttribute("opacity", this.filterManager.effectElements[6].p.v),
                (1 === this.filterManager.effectElements[10].p.v || 2 === this.filterManager.effectElements[10].p.v) && (e || this.filterManager.effectElements[3].p._mdf)) {
                    var u = this.filterManager.effectElements[3].p.v;
                    this.pathMasker.setAttribute("stroke", "rgb(" + bm_floor(255 * u[0]) + "," + bm_floor(255 * u[1]) + "," + bm_floor(255 * u[2]) + ")")
                }
            }
            ,
            SVGTritoneFilter.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    var t = this.filterManager.effectElements[0].p.v
                      , i = this.filterManager.effectElements[1].p.v
                      , a = this.filterManager.effectElements[2].p.v
                      , n = a[0] + " " + i[0] + " " + t[0]
                      , r = a[1] + " " + i[1] + " " + t[1]
                      , o = a[2] + " " + i[2] + " " + t[2];
                    this.feFuncR.setAttribute("tableValues", n),
                    this.feFuncG.setAttribute("tableValues", r),
                    this.feFuncB.setAttribute("tableValues", o)
                }
            }
            ,
            SVGProLevelsFilter.prototype.createFeFunc = function(e, t) {
                var i = createNS(e);
                return i.setAttribute("type", "table"),
                t.appendChild(i),
                i
            }
            ,
            SVGProLevelsFilter.prototype.getTableValue = function(e, t, i, a, n) {
                for (var r, o, s = 0, l = Math.min(e, t), c = Math.max(e, t), h = Array.call(null, {
                    length: 256
                }), p = 0, d = n - a, u = t - e; s <= 256; )
                    o = (r = s / 256) <= l ? u < 0 ? n : a : r >= c ? u < 0 ? a : n : a + d * Math.pow((r - e) / u, 1 / i),
                    h[p++] = o,
                    s += 256 / 255;
                return h.join(" ")
            }
            ,
            SVGProLevelsFilter.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    var t, i = this.filterManager.effectElements;
                    this.feFuncRComposed && (e || i[3].p._mdf || i[4].p._mdf || i[5].p._mdf || i[6].p._mdf || i[7].p._mdf) && (t = this.getTableValue(i[3].p.v, i[4].p.v, i[5].p.v, i[6].p.v, i[7].p.v),
                    this.feFuncRComposed.setAttribute("tableValues", t),
                    this.feFuncGComposed.setAttribute("tableValues", t),
                    this.feFuncBComposed.setAttribute("tableValues", t)),
                    this.feFuncR && (e || i[10].p._mdf || i[11].p._mdf || i[12].p._mdf || i[13].p._mdf || i[14].p._mdf) && (t = this.getTableValue(i[10].p.v, i[11].p.v, i[12].p.v, i[13].p.v, i[14].p.v),
                    this.feFuncR.setAttribute("tableValues", t)),
                    this.feFuncG && (e || i[17].p._mdf || i[18].p._mdf || i[19].p._mdf || i[20].p._mdf || i[21].p._mdf) && (t = this.getTableValue(i[17].p.v, i[18].p.v, i[19].p.v, i[20].p.v, i[21].p.v),
                    this.feFuncG.setAttribute("tableValues", t)),
                    this.feFuncB && (e || i[24].p._mdf || i[25].p._mdf || i[26].p._mdf || i[27].p._mdf || i[28].p._mdf) && (t = this.getTableValue(i[24].p.v, i[25].p.v, i[26].p.v, i[27].p.v, i[28].p.v),
                    this.feFuncB.setAttribute("tableValues", t)),
                    this.feFuncA && (e || i[31].p._mdf || i[32].p._mdf || i[33].p._mdf || i[34].p._mdf || i[35].p._mdf) && (t = this.getTableValue(i[31].p.v, i[32].p.v, i[33].p.v, i[34].p.v, i[35].p.v),
                    this.feFuncA.setAttribute("tableValues", t))
                }
            }
            ,
            SVGDropShadowEffect.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    if ((e || this.filterManager.effectElements[4].p._mdf) && this.feGaussianBlur.setAttribute("stdDeviation", this.filterManager.effectElements[4].p.v / 4),
                    e || this.filterManager.effectElements[0].p._mdf) {
                        var t = this.filterManager.effectElements[0].p.v;
                        this.feFlood.setAttribute("flood-color", rgbToHex(Math.round(255 * t[0]), Math.round(255 * t[1]), Math.round(255 * t[2])))
                    }
                    if ((e || this.filterManager.effectElements[1].p._mdf) && this.feFlood.setAttribute("flood-opacity", this.filterManager.effectElements[1].p.v / 255),
                    e || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {
                        var i = this.filterManager.effectElements[3].p.v
                          , a = (this.filterManager.effectElements[2].p.v - 90) * degToRads
                          , n = i * Math.cos(a)
                          , r = i * Math.sin(a);
                        this.feOffset.setAttribute("dx", n),
                        this.feOffset.setAttribute("dy", r)
                    }
                }
            }
            ;
            var _svgMatteSymbols = [];
            function SVGMatte3Effect(e, t, i) {
                this.initialized = !1,
                this.filterManager = t,
                this.filterElem = e,
                this.elem = i,
                i.matteElement = createNS("g"),
                i.matteElement.appendChild(i.layerElement),
                i.matteElement.appendChild(i.transformedElement),
                i.baseElement = i.matteElement
            }
            function SVGEffects(e) {
                var t, i, a = e.data.ef ? e.data.ef.length : 0, n = createElementID(), r = filtersFactory.createFilter(n), o = 0;
                for (this.filters = [],
                t = 0; t < a; t += 1)
                    i = null,
                    20 === e.data.ef[t].ty ? (o += 1,
                    i = new SVGTintFilter(r,e.effectsManager.effectElements[t])) : 21 === e.data.ef[t].ty ? (o += 1,
                    i = new SVGFillFilter(r,e.effectsManager.effectElements[t])) : 22 === e.data.ef[t].ty ? i = new SVGStrokeEffect(e,e.effectsManager.effectElements[t]) : 23 === e.data.ef[t].ty ? (o += 1,
                    i = new SVGTritoneFilter(r,e.effectsManager.effectElements[t])) : 24 === e.data.ef[t].ty ? (o += 1,
                    i = new SVGProLevelsFilter(r,e.effectsManager.effectElements[t])) : 25 === e.data.ef[t].ty ? (o += 1,
                    i = new SVGDropShadowEffect(r,e.effectsManager.effectElements[t])) : 28 === e.data.ef[t].ty ? i = new SVGMatte3Effect(r,e.effectsManager.effectElements[t],e) : 29 === e.data.ef[t].ty && (o += 1,
                    i = new SVGGaussianBlurEffect(r,e.effectsManager.effectElements[t])),
                    i && this.filters.push(i);
                o && (e.globalData.defs.appendChild(r),
                e.layerElement.setAttribute("filter", "url(" + locationHref + "#" + n + ")")),
                this.filters.length && e.addRenderableComponent(this)
            }
            function CVContextData() {
                this.saved = [],
                this.cArrPos = 0,
                this.cTr = new Matrix,
                this.cO = 1;
                var e;
                for (this.savedOp = createTypedArray("float32", 15),
                e = 0; e < 15; e += 1)
                    this.saved[e] = createTypedArray("float32", 16);
                this._length = 15
            }
            function CVBaseElement() {}
            function CVImageElement(e, t, i) {
                this.failed = !1,
                this.assetData = t.getAssetData(e.refId),
                this.img = t.imageLoader.getImage(this.assetData),
                this.initElement(e, t, i)
            }
            function CVCompElement(e, t, i) {
                this.completeLayers = !1,
                this.layers = e.layers,
                this.pendingElements = [],
                this.elements = createSizedArray(this.layers.length),
                this.initElement(e, t, i),
                this.tm = e.tm ? PropertyFactory.getProp(this, e.tm, 0, t.frameRate, this) : {
                    _placeholder: !0
                }
            }
            function CVMaskElement(e, t) {
                this.data = e,
                this.element = t,
                this.masksProperties = this.data.masksProperties || [],
                this.viewData = createSizedArray(this.masksProperties.length);
                var i, a = this.masksProperties.length, n = !1;
                for (i = 0; i < a; i++)
                    "n" !== this.masksProperties[i].mode && (n = !0),
                    this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);
                this.hasMasks = n,
                n && this.element.addRenderableComponent(this)
            }
            function CVShapeElement(e, t, i) {
                this.shapes = [],
                this.shapesData = e.shapes,
                this.stylesList = [],
                this.itemsData = [],
                this.prevViewData = [],
                this.shapeModifiers = [],
                this.processedElements = [],
                this.transformsManager = new ShapeTransformManager,
                this.initElement(e, t, i)
            }
            function CVSolidElement(e, t, i) {
                this.initElement(e, t, i)
            }
            function CVTextElement(e, t, i) {
                this.textSpans = [],
                this.yOffset = 0,
                this.fillColorAnim = !1,
                this.strokeColorAnim = !1,
                this.strokeWidthAnim = !1,
                this.stroke = !1,
                this.fill = !1,
                this.justifyOffset = 0,
                this.currentRender = null,
                this.renderType = "canvas",
                this.values = {
                    fill: "rgba(0,0,0,0)",
                    stroke: "rgba(0,0,0,0)",
                    sWidth: 0,
                    fValue: ""
                },
                this.initElement(e, t, i)
            }
            function CVEffects() {}
            function HBaseElement(e, t, i) {}
            function HSolidElement(e, t, i) {
                this.initElement(e, t, i)
            }
            function HCompElement(e, t, i) {
                this.layers = e.layers,
                this.supports3d = !e.hasMask,
                this.completeLayers = !1,
                this.pendingElements = [],
                this.elements = this.layers ? createSizedArray(this.layers.length) : [],
                this.initElement(e, t, i),
                this.tm = e.tm ? PropertyFactory.getProp(this, e.tm, 0, t.frameRate, this) : {
                    _placeholder: !0
                }
            }
            function HShapeElement(e, t, i) {
                this.shapes = [],
                this.shapesData = e.shapes,
                this.stylesList = [],
                this.shapeModifiers = [],
                this.itemsData = [],
                this.processedElements = [],
                this.animatedContents = [],
                this.shapesContainer = createNS("g"),
                this.initElement(e, t, i),
                this.prevViewData = [],
                this.currentBBox = {
                    x: 999999,
                    y: -999999,
                    h: 0,
                    w: 0
                }
            }
            function HTextElement(e, t, i) {
                this.textSpans = [],
                this.textPaths = [],
                this.currentBBox = {
                    x: 999999,
                    y: -999999,
                    h: 0,
                    w: 0
                },
                this.renderType = "svg",
                this.isMasked = !1,
                this.initElement(e, t, i)
            }
            function HImageElement(e, t, i) {
                this.assetData = t.getAssetData(e.refId),
                this.initElement(e, t, i)
            }
            function HCameraElement(e, t, i) {
                this.initFrame(),
                this.initBaseData(e, t, i),
                this.initHierarchy();
                var a = PropertyFactory.getProp;
                if (this.pe = a(this, e.pe, 0, 0, this),
                e.ks.p.s ? (this.px = a(this, e.ks.p.x, 1, 0, this),
                this.py = a(this, e.ks.p.y, 1, 0, this),
                this.pz = a(this, e.ks.p.z, 1, 0, this)) : this.p = a(this, e.ks.p, 1, 0, this),
                e.ks.a && (this.a = a(this, e.ks.a, 1, 0, this)),
                e.ks.or.k.length && e.ks.or.k[0].to) {
                    var n, r = e.ks.or.k.length;
                    for (n = 0; n < r; n += 1)
                        e.ks.or.k[n].to = null,
                        e.ks.or.k[n].ti = null
                }
                this.or = a(this, e.ks.or, 1, degToRads, this),
                this.or.sh = !0,
                this.rx = a(this, e.ks.rx, 0, degToRads, this),
                this.ry = a(this, e.ks.ry, 0, degToRads, this),
                this.rz = a(this, e.ks.rz, 0, degToRads, this),
                this.mat = new Matrix,
                this._prevMat = new Matrix,
                this._isFirstFrame = !0,
                this.finalTransform = {
                    mProp: this
                }
            }
            function HEffects() {}
            SVGMatte3Effect.prototype.findSymbol = function(e) {
                for (var t = 0, i = _svgMatteSymbols.length; t < i; ) {
                    if (_svgMatteSymbols[t] === e)
                        return _svgMatteSymbols[t];
                    t += 1
                }
                return null
            }
            ,
            SVGMatte3Effect.prototype.replaceInParent = function(e, t) {
                var i = e.layerElement.parentNode;
                if (i) {
                    for (var a, n = i.children, r = 0, o = n.length; r < o && n[r] !== e.layerElement; )
                        r += 1;
                    r <= o - 2 && (a = n[r + 1]);
                    var s = createNS("use");
                    s.setAttribute("href", "#" + t),
                    a ? i.insertBefore(s, a) : i.appendChild(s)
                }
            }
            ,
            SVGMatte3Effect.prototype.setElementAsMask = function(e, t) {
                if (!this.findSymbol(t)) {
                    var i = createElementID()
                      , a = createNS("mask");
                    a.setAttribute("id", t.layerId),
                    a.setAttribute("mask-type", "alpha"),
                    _svgMatteSymbols.push(t);
                    var n = e.globalData.defs;
                    n.appendChild(a);
                    var r = createNS("symbol");
                    r.setAttribute("id", i),
                    this.replaceInParent(t, i),
                    r.appendChild(t.layerElement),
                    n.appendChild(r);
                    var o = createNS("use");
                    o.setAttribute("href", "#" + i),
                    a.appendChild(o),
                    t.data.hd = !1,
                    t.show()
                }
                e.setMatte(t.layerId)
            }
            ,
            SVGMatte3Effect.prototype.initialize = function() {
                for (var e = this.filterManager.effectElements[0].p.v, t = this.elem.comp.elements, i = 0, a = t.length; i < a; )
                    t[i] && t[i].data.ind === e && this.setElementAsMask(this.elem, t[i]),
                    i += 1;
                this.initialized = !0
            }
            ,
            SVGMatte3Effect.prototype.renderFrame = function() {
                this.initialized || this.initialize()
            }
            ,
            SVGEffects.prototype.renderFrame = function(e) {
                var t, i = this.filters.length;
                for (t = 0; t < i; t += 1)
                    this.filters[t].renderFrame(e)
            }
            ,
            CVContextData.prototype.duplicate = function() {
                var e = 2 * this._length
                  , t = this.savedOp;
                this.savedOp = createTypedArray("float32", e),
                this.savedOp.set(t);
                var i = 0;
                for (i = this._length; i < e; i += 1)
                    this.saved[i] = createTypedArray("float32", 16);
                this._length = e
            }
            ,
            CVContextData.prototype.reset = function() {
                this.cArrPos = 0,
                this.cTr.reset(),
                this.cO = 1
            }
            ,
            CVBaseElement.prototype = {
                createElements: function() {},
                initRendererElement: function() {},
                createContainerElements: function() {
                    this.canvasContext = this.globalData.canvasContext,
                    this.renderableEffectsManager = new CVEffects(this)
                },
                createContent: function() {},
                setBlendMode: function() {
                    var e = this.globalData;
                    if (e.blendMode !== this.data.bm) {
                        e.blendMode = this.data.bm;
                        var t = getBlendMode(this.data.bm);
                        e.canvasContext.globalCompositeOperation = t
                    }
                },
                createRenderableComponents: function() {
                    this.maskManager = new CVMaskElement(this.data,this)
                },
                hideElement: function() {
                    this.hidden || this.isInRange && !this.isTransparent || (this.hidden = !0)
                },
                showElement: function() {
                    this.isInRange && !this.isTransparent && (this.hidden = !1,
                    this._isFirstFrame = !0,
                    this.maskManager._isFirstFrame = !0)
                },
                renderFrame: function() {
                    this.hidden || this.data.hd || (this.renderTransform(),
                    this.renderRenderable(),
                    this.setBlendMode(),
                    this.globalData.renderer.save(),
                    this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),
                    this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),
                    this.renderInnerContent(),
                    this.globalData.renderer.restore(),
                    this.maskManager.hasMasks && this.globalData.renderer.restore(!0),
                    this._isFirstFrame && (this._isFirstFrame = !1))
                },
                destroy: function() {
                    this.canvasContext = null,
                    this.data = null,
                    this.globalData = null,
                    this.maskManager.destroy()
                },
                mHelper: new Matrix
            },
            CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement,
            CVBaseElement.prototype.show = CVBaseElement.prototype.showElement,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement),
            CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement,
            CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame,
            CVImageElement.prototype.createContent = function() {
                if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {
                    var e = createTag("canvas");
                    e.width = this.assetData.w,
                    e.height = this.assetData.h;
                    var t, i, a = e.getContext("2d"), n = this.img.width, r = this.img.height, o = n / r, s = this.assetData.w / this.assetData.h, l = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;
                    o > s && "xMidYMid slice" === l || o < s && "xMidYMid slice" !== l ? t = (i = r) * s : i = (t = n) / s,
                    a.drawImage(this.img, (n - t) / 2, (r - i) / 2, t, i, 0, 0, this.assetData.w, this.assetData.h),
                    this.img = e
                }
            }
            ,
            CVImageElement.prototype.renderInnerContent = function(e) {
                this.failed || this.canvasContext.drawImage(this.img, 0, 0)
            }
            ,
            CVImageElement.prototype.destroy = function() {
                this.img = null
            }
            ,
            extendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement),
            CVCompElement.prototype.renderInnerContent = function() {
                var e;
                for (e = this.layers.length - 1; e >= 0; e -= 1)
                    (this.completeLayers || this.elements[e]) && this.elements[e].renderFrame()
            }
            ,
            CVCompElement.prototype.destroy = function() {
                var e;
                for (e = this.layers.length - 1; e >= 0; e -= 1)
                    this.elements[e] && this.elements[e].destroy();
                this.layers = null,
                this.elements = null
            }
            ,
            CVMaskElement.prototype.renderFrame = function() {
                if (this.hasMasks) {
                    var e, t, i, a, n = this.element.finalTransform.mat, r = this.element.canvasContext, o = this.masksProperties.length;
                    for (r.beginPath(),
                    e = 0; e < o; e++)
                        if ("n" !== this.masksProperties[e].mode) {
                            this.masksProperties[e].inv && (r.moveTo(0, 0),
                            r.lineTo(this.element.globalData.compSize.w, 0),
                            r.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h),
                            r.lineTo(0, this.element.globalData.compSize.h),
                            r.lineTo(0, 0)),
                            a = this.viewData[e].v,
                            t = n.applyToPointArray(a.v[0][0], a.v[0][1], 0),
                            r.moveTo(t[0], t[1]);
                            var s, l = a._length;
                            for (s = 1; s < l; s++)
                                i = n.applyToTriplePoints(a.o[s - 1], a.i[s], a.v[s]),
                                r.bezierCurveTo(i[0], i[1], i[2], i[3], i[4], i[5]);
                            i = n.applyToTriplePoints(a.o[s - 1], a.i[0], a.v[0]),
                            r.bezierCurveTo(i[0], i[1], i[2], i[3], i[4], i[5])
                        }
                    this.element.globalData.renderer.save(!0),
                    r.clip()
                }
            }
            ,
            CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty,
            CVMaskElement.prototype.destroy = function() {
                this.element = null
            }
            ,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement),
            CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement,
            CVShapeElement.prototype.transformHelper = {
                opacity: 1,
                _opMdf: !1
            },
            CVShapeElement.prototype.dashResetter = [],
            CVShapeElement.prototype.createContent = function() {
                this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, !0, [])
            }
            ,
            CVShapeElement.prototype.createStyleElement = function(e, t) {
                var i = {
                    data: e,
                    type: e.ty,
                    preTransforms: this.transformsManager.addTransformSequence(t),
                    transforms: [],
                    elements: [],
                    closed: !0 === e.hd
                }
                  , a = {};
                if ("fl" == e.ty || "st" == e.ty ? (a.c = PropertyFactory.getProp(this, e.c, 1, 255, this),
                a.c.k || (i.co = "rgb(" + bm_floor(a.c.v[0]) + "," + bm_floor(a.c.v[1]) + "," + bm_floor(a.c.v[2]) + ")")) : "gf" !== e.ty && "gs" !== e.ty || (a.s = PropertyFactory.getProp(this, e.s, 1, null, this),
                a.e = PropertyFactory.getProp(this, e.e, 1, null, this),
                a.h = PropertyFactory.getProp(this, e.h || {
                    k: 0
                }, 0, .01, this),
                a.a = PropertyFactory.getProp(this, e.a || {
                    k: 0
                }, 0, degToRads, this),
                a.g = new GradientProperty(this,e.g,this)),
                a.o = PropertyFactory.getProp(this, e.o, 0, .01, this),
                "st" == e.ty || "gs" == e.ty) {
                    if (i.lc = this.lcEnum[e.lc] || "round",
                    i.lj = this.ljEnum[e.lj] || "round",
                    1 == e.lj && (i.ml = e.ml),
                    a.w = PropertyFactory.getProp(this, e.w, 0, null, this),
                    a.w.k || (i.wi = a.w.v),
                    e.d) {
                        var n = new DashProperty(this,e.d,"canvas",this);
                        a.d = n,
                        a.d.k || (i.da = a.d.dashArray,
                        i.do = a.d.dashoffset[0])
                    }
                } else
                    i.r = 2 === e.r ? "evenodd" : "nonzero";
                return this.stylesList.push(i),
                a.style = i,
                a
            }
            ,
            CVShapeElement.prototype.createGroupElement = function(e) {
                return {
                    it: [],
                    prevViewData: []
                }
            }
            ,
            CVShapeElement.prototype.createTransformElement = function(e) {
                return {
                    transform: {
                        opacity: 1,
                        _opMdf: !1,
                        key: this.transformsManager.getNewKey(),
                        op: PropertyFactory.getProp(this, e.o, 0, .01, this),
                        mProps: TransformPropertyFactory.getTransformProperty(this, e, this)
                    }
                }
            }
            ,
            CVShapeElement.prototype.createShapeElement = function(e) {
                var t = new CVShapeData(this,e,this.stylesList,this.transformsManager);
                return this.shapes.push(t),
                this.addShapeToModifiers(t),
                t
            }
            ,
            CVShapeElement.prototype.reloadShapes = function() {
                this._isFirstFrame = !0;
                var e, t = this.itemsData.length;
                for (e = 0; e < t; e += 1)
                    this.prevViewData[e] = this.itemsData[e];
                for (this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, !0, []),
                t = this.dynamicProperties.length,
                e = 0; e < t; e += 1)
                    this.dynamicProperties[e].getValue();
                this.renderModifiers(),
                this.transformsManager.processSequences(this._isFirstFrame)
            }
            ,
            CVShapeElement.prototype.addTransformToStyleList = function(e) {
                var t, i = this.stylesList.length;
                for (t = 0; t < i; t += 1)
                    this.stylesList[t].closed || this.stylesList[t].transforms.push(e)
            }
            ,
            CVShapeElement.prototype.removeTransformFromStyleList = function() {
                var e, t = this.stylesList.length;
                for (e = 0; e < t; e += 1)
                    this.stylesList[e].closed || this.stylesList[e].transforms.pop()
            }
            ,
            CVShapeElement.prototype.closeStyles = function(e) {
                var t, i = e.length;
                for (t = 0; t < i; t += 1)
                    e[t].closed = !0
            }
            ,
            CVShapeElement.prototype.searchShapes = function(e, t, i, a, n) {
                var r, o, s, l, c, h, p = e.length - 1, d = [], u = [], g = [].concat(n);
                for (r = p; r >= 0; r -= 1) {
                    if ((l = this.searchProcessedElement(e[r])) ? t[r] = i[l - 1] : e[r]._shouldRender = a,
                    "fl" == e[r].ty || "st" == e[r].ty || "gf" == e[r].ty || "gs" == e[r].ty)
                        l ? t[r].style.closed = !1 : t[r] = this.createStyleElement(e[r], g),
                        d.push(t[r].style);
                    else if ("gr" == e[r].ty) {
                        if (l)
                            for (s = t[r].it.length,
                            o = 0; o < s; o += 1)
                                t[r].prevViewData[o] = t[r].it[o];
                        else
                            t[r] = this.createGroupElement(e[r]);
                        this.searchShapes(e[r].it, t[r].it, t[r].prevViewData, a, g)
                    } else
                        "tr" == e[r].ty ? (l || (h = this.createTransformElement(e[r]),
                        t[r] = h),
                        g.push(t[r]),
                        this.addTransformToStyleList(t[r])) : "sh" == e[r].ty || "rc" == e[r].ty || "el" == e[r].ty || "sr" == e[r].ty ? l || (t[r] = this.createShapeElement(e[r])) : "tm" == e[r].ty || "rd" == e[r].ty ? (l ? (c = t[r]).closed = !1 : ((c = ShapeModifiers.getModifier(e[r].ty)).init(this, e[r]),
                        t[r] = c,
                        this.shapeModifiers.push(c)),
                        u.push(c)) : "rp" == e[r].ty && (l ? (c = t[r]).closed = !0 : (c = ShapeModifiers.getModifier(e[r].ty),
                        t[r] = c,
                        c.init(this, e, r, t),
                        this.shapeModifiers.push(c),
                        a = !1),
                        u.push(c));
                    this.addProcessedElement(e[r], r + 1)
                }
                for (this.removeTransformFromStyleList(),
                this.closeStyles(d),
                p = u.length,
                r = 0; r < p; r += 1)
                    u[r].closed = !0
            }
            ,
            CVShapeElement.prototype.renderInnerContent = function() {
                this.transformHelper.opacity = 1,
                this.transformHelper._opMdf = !1,
                this.renderModifiers(),
                this.transformsManager.processSequences(this._isFirstFrame),
                this.renderShape(this.transformHelper, this.shapesData, this.itemsData, !0)
            }
            ,
            CVShapeElement.prototype.renderShapeTransform = function(e, t) {
                (e._opMdf || t.op._mdf || this._isFirstFrame) && (t.opacity = e.opacity,
                t.opacity *= t.op.v,
                t._opMdf = !0)
            }
            ,
            CVShapeElement.prototype.drawLayer = function() {
                var e, t, i, a, n, r, o, s, l, c = this.stylesList.length, h = this.globalData.renderer, p = this.globalData.canvasContext;
                for (e = 0; e < c; e += 1)
                    if (("st" !== (s = (l = this.stylesList[e]).type) && "gs" !== s || 0 !== l.wi) && l.data._shouldRender && 0 !== l.coOp && 0 !== this.globalData.currentGlobalAlpha) {
                        for (h.save(),
                        r = l.elements,
                        "st" === s || "gs" === s ? (p.strokeStyle = "st" === s ? l.co : l.grd,
                        p.lineWidth = l.wi,
                        p.lineCap = l.lc,
                        p.lineJoin = l.lj,
                        p.miterLimit = l.ml || 0) : p.fillStyle = "fl" === s ? l.co : l.grd,
                        h.ctxOpacity(l.coOp),
                        "st" !== s && "gs" !== s && p.beginPath(),
                        h.ctxTransform(l.preTransforms.finalTransform.props),
                        i = r.length,
                        t = 0; t < i; t += 1) {
                            for ("st" !== s && "gs" !== s || (p.beginPath(),
                            l.da && (p.setLineDash(l.da),
                            p.lineDashOffset = l.do)),
                            n = (o = r[t].trNodes).length,
                            a = 0; a < n; a += 1)
                                "m" == o[a].t ? p.moveTo(o[a].p[0], o[a].p[1]) : "c" == o[a].t ? p.bezierCurveTo(o[a].pts[0], o[a].pts[1], o[a].pts[2], o[a].pts[3], o[a].pts[4], o[a].pts[5]) : p.closePath();
                            "st" !== s && "gs" !== s || (p.stroke(),
                            l.da && p.setLineDash(this.dashResetter))
                        }
                        "st" !== s && "gs" !== s && p.fill(l.r),
                        h.restore()
                    }
            }
            ,
            CVShapeElement.prototype.renderShape = function(e, t, i, a) {
                var n, r;
                for (r = e,
                n = t.length - 1; n >= 0; n -= 1)
                    "tr" == t[n].ty ? (r = i[n].transform,
                    this.renderShapeTransform(e, r)) : "sh" == t[n].ty || "el" == t[n].ty || "rc" == t[n].ty || "sr" == t[n].ty ? this.renderPath(t[n], i[n]) : "fl" == t[n].ty ? this.renderFill(t[n], i[n], r) : "st" == t[n].ty ? this.renderStroke(t[n], i[n], r) : "gf" == t[n].ty || "gs" == t[n].ty ? this.renderGradientFill(t[n], i[n], r) : "gr" == t[n].ty ? this.renderShape(r, t[n].it, i[n].it) : t[n].ty;
                a && this.drawLayer()
            }
            ,
            CVShapeElement.prototype.renderStyledShape = function(e, t) {
                if (this._isFirstFrame || t._mdf || e.transforms._mdf) {
                    var i, a, n, r = e.trNodes, o = t.paths, s = o._length;
                    r.length = 0;
                    var l = e.transforms.finalTransform;
                    for (n = 0; n < s; n += 1) {
                        var c = o.shapes[n];
                        if (c && c.v) {
                            for (a = c._length,
                            i = 1; i < a; i += 1)
                                1 === i && r.push({
                                    t: "m",
                                    p: l.applyToPointArray(c.v[0][0], c.v[0][1], 0)
                                }),
                                r.push({
                                    t: "c",
                                    pts: l.applyToTriplePoints(c.o[i - 1], c.i[i], c.v[i])
                                });
                            1 === a && r.push({
                                t: "m",
                                p: l.applyToPointArray(c.v[0][0], c.v[0][1], 0)
                            }),
                            c.c && a && (r.push({
                                t: "c",
                                pts: l.applyToTriplePoints(c.o[i - 1], c.i[0], c.v[0])
                            }),
                            r.push({
                                t: "z"
                            }))
                        }
                    }
                    e.trNodes = r
                }
            }
            ,
            CVShapeElement.prototype.renderPath = function(e, t) {
                if (!0 !== e.hd && e._shouldRender) {
                    var i, a = t.styledShapes.length;
                    for (i = 0; i < a; i += 1)
                        this.renderStyledShape(t.styledShapes[i], t.sh)
                }
            }
            ,
            CVShapeElement.prototype.renderFill = function(e, t, i) {
                var a = t.style;
                (t.c._mdf || this._isFirstFrame) && (a.co = "rgb(" + bm_floor(t.c.v[0]) + "," + bm_floor(t.c.v[1]) + "," + bm_floor(t.c.v[2]) + ")"),
                (t.o._mdf || i._opMdf || this._isFirstFrame) && (a.coOp = t.o.v * i.opacity)
            }
            ,
            CVShapeElement.prototype.renderGradientFill = function(e, t, i) {
                var a = t.style;
                if (!a.grd || t.g._mdf || t.s._mdf || t.e._mdf || 1 !== e.t && (t.h._mdf || t.a._mdf)) {
                    var n = this.globalData.canvasContext
                      , r = t.s.v
                      , o = t.e.v;
                    if (1 === e.t)
                        d = n.createLinearGradient(r[0], r[1], o[0], o[1]);
                    else
                        var s = Math.sqrt(Math.pow(r[0] - o[0], 2) + Math.pow(r[1] - o[1], 2))
                          , l = Math.atan2(o[1] - r[1], o[0] - r[0])
                          , c = s * (t.h.v >= 1 ? .99 : t.h.v <= -1 ? -.99 : t.h.v)
                          , h = Math.cos(l + t.a.v) * c + r[0]
                          , p = Math.sin(l + t.a.v) * c + r[1]
                          , d = n.createRadialGradient(h, p, 0, r[0], r[1], s);
                    var u, g = e.g.p, m = t.g.c, f = 1;
                    for (u = 0; u < g; u += 1)
                        t.g._hasOpacity && t.g._collapsable && (f = t.g.o[2 * u + 1]),
                        d.addColorStop(m[4 * u] / 100, "rgba(" + m[4 * u + 1] + "," + m[4 * u + 2] + "," + m[4 * u + 3] + "," + f + ")");
                    a.grd = d
                }
                a.coOp = t.o.v * i.opacity
            }
            ,
            CVShapeElement.prototype.renderStroke = function(e, t, i) {
                var a = t.style
                  , n = t.d;
                n && (n._mdf || this._isFirstFrame) && (a.da = n.dashArray,
                a.do = n.dashoffset[0]),
                (t.c._mdf || this._isFirstFrame) && (a.co = "rgb(" + bm_floor(t.c.v[0]) + "," + bm_floor(t.c.v[1]) + "," + bm_floor(t.c.v[2]) + ")"),
                (t.o._mdf || i._opMdf || this._isFirstFrame) && (a.coOp = t.o.v * i.opacity),
                (t.w._mdf || this._isFirstFrame) && (a.wi = t.w.v)
            }
            ,
            CVShapeElement.prototype.destroy = function() {
                this.shapesData = null,
                this.globalData = null,
                this.canvasContext = null,
                this.stylesList.length = 0,
                this.itemsData.length = 0
            }
            ,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement),
            CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement,
            CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame,
            CVSolidElement.prototype.renderInnerContent = function() {
                var e = this.canvasContext;
                e.fillStyle = this.data.sc,
                e.fillRect(0, 0, this.data.sw, this.data.sh)
            }
            ,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement),
            CVTextElement.prototype.tHelper = createTag("canvas").getContext("2d"),
            CVTextElement.prototype.buildNewText = function() {
                var e = this.textProperty.currentData;
                this.renderedLetters = createSizedArray(e.l ? e.l.length : 0);
                var t = !1;
                e.fc ? (t = !0,
                this.values.fill = this.buildColor(e.fc)) : this.values.fill = "rgba(0,0,0,0)",
                this.fill = t;
                var i = !1;
                e.sc && (i = !0,
                this.values.stroke = this.buildColor(e.sc),
                this.values.sWidth = e.sw);
                var a, n, r = this.globalData.fontManager.getFontByName(e.f), o = e.l, s = this.mHelper;
                this.stroke = i,
                this.values.fValue = e.finalSize + "px " + this.globalData.fontManager.getFontByName(e.f).fFamily,
                n = e.finalText.length;
                var l, c, h, p, d, u, g, m, f, y, v = this.data.singleShape, b = e.tr / 1e3 * e.finalSize, A = 0, C = 0, w = !0, _ = 0;
                for (a = 0; a < n; a += 1) {
                    for (c = (l = this.globalData.fontManager.getCharData(e.finalText[a], r.fStyle, this.globalData.fontManager.getFontByName(e.f).fFamily)) && l.data || {},
                    s.reset(),
                    v && o[a].n && (A = -b,
                    C += e.yOffset,
                    C += w ? 1 : 0,
                    w = !1),
                    g = (d = c.shapes ? c.shapes[0].it : []).length,
                    s.scale(e.finalSize / 100, e.finalSize / 100),
                    v && this.applyTextPropertiesToMatrix(e, s, o[a].line, A, C),
                    f = createSizedArray(g),
                    u = 0; u < g; u += 1) {
                        for (p = d[u].ks.k.i.length,
                        m = d[u].ks.k,
                        y = [],
                        h = 1; h < p; h += 1)
                            1 == h && y.push(s.applyToX(m.v[0][0], m.v[0][1], 0), s.applyToY(m.v[0][0], m.v[0][1], 0)),
                            y.push(s.applyToX(m.o[h - 1][0], m.o[h - 1][1], 0), s.applyToY(m.o[h - 1][0], m.o[h - 1][1], 0), s.applyToX(m.i[h][0], m.i[h][1], 0), s.applyToY(m.i[h][0], m.i[h][1], 0), s.applyToX(m.v[h][0], m.v[h][1], 0), s.applyToY(m.v[h][0], m.v[h][1], 0));
                        y.push(s.applyToX(m.o[h - 1][0], m.o[h - 1][1], 0), s.applyToY(m.o[h - 1][0], m.o[h - 1][1], 0), s.applyToX(m.i[0][0], m.i[0][1], 0), s.applyToY(m.i[0][0], m.i[0][1], 0), s.applyToX(m.v[0][0], m.v[0][1], 0), s.applyToY(m.v[0][0], m.v[0][1], 0)),
                        f[u] = y
                    }
                    v && (A += o[a].l,
                    A += b),
                    this.textSpans[_] ? this.textSpans[_].elem = f : this.textSpans[_] = {
                        elem: f
                    },
                    _ += 1
                }
            }
            ,
            CVTextElement.prototype.renderInnerContent = function() {
                var e, t, i, a, n, r, o = this.canvasContext;
                this.finalTransform.mat.props;
                o.font = this.values.fValue,
                o.lineCap = "butt",
                o.lineJoin = "miter",
                o.miterLimit = 4,
                this.data.singleShape || this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);
                var s, l = this.textAnimator.renderedLetters, c = this.textProperty.currentData.l;
                t = c.length;
                var h, p, d = null, u = null, g = null;
                for (e = 0; e < t; e += 1)
                    if (!c[e].n) {
                        if ((s = l[e]) && (this.globalData.renderer.save(),
                        this.globalData.renderer.ctxTransform(s.p),
                        this.globalData.renderer.ctxOpacity(s.o)),
                        this.fill) {
                            for (s && s.fc ? d !== s.fc && (d = s.fc,
                            o.fillStyle = s.fc) : d !== this.values.fill && (d = this.values.fill,
                            o.fillStyle = this.values.fill),
                            a = (h = this.textSpans[e].elem).length,
                            this.globalData.canvasContext.beginPath(),
                            i = 0; i < a; i += 1)
                                for (r = (p = h[i]).length,
                                this.globalData.canvasContext.moveTo(p[0], p[1]),
                                n = 2; n < r; n += 6)
                                    this.globalData.canvasContext.bezierCurveTo(p[n], p[n + 1], p[n + 2], p[n + 3], p[n + 4], p[n + 5]);
                            this.globalData.canvasContext.closePath(),
                            this.globalData.canvasContext.fill()
                        }
                        if (this.stroke) {
                            for (s && s.sw ? g !== s.sw && (g = s.sw,
                            o.lineWidth = s.sw) : g !== this.values.sWidth && (g = this.values.sWidth,
                            o.lineWidth = this.values.sWidth),
                            s && s.sc ? u !== s.sc && (u = s.sc,
                            o.strokeStyle = s.sc) : u !== this.values.stroke && (u = this.values.stroke,
                            o.strokeStyle = this.values.stroke),
                            a = (h = this.textSpans[e].elem).length,
                            this.globalData.canvasContext.beginPath(),
                            i = 0; i < a; i += 1)
                                for (r = (p = h[i]).length,
                                this.globalData.canvasContext.moveTo(p[0], p[1]),
                                n = 2; n < r; n += 6)
                                    this.globalData.canvasContext.bezierCurveTo(p[n], p[n + 1], p[n + 2], p[n + 3], p[n + 4], p[n + 5]);
                            this.globalData.canvasContext.closePath(),
                            this.globalData.canvasContext.stroke()
                        }
                        s && this.globalData.renderer.restore()
                    }
            }
            ,
            CVEffects.prototype.renderFrame = function() {}
            ,
            HBaseElement.prototype = {
                checkBlendMode: function() {},
                initRendererElement: function() {
                    this.baseElement = createTag(this.data.tg || "div"),
                    this.data.hasMask ? (this.svgElement = createNS("svg"),
                    this.layerElement = createNS("g"),
                    this.maskedElement = this.layerElement,
                    this.svgElement.appendChild(this.layerElement),
                    this.baseElement.appendChild(this.svgElement)) : this.layerElement = this.baseElement,
                    styleDiv(this.baseElement)
                },
                createContainerElements: function() {
                    this.renderableEffectsManager = new CVEffects(this),
                    this.transformedElement = this.baseElement,
                    this.maskedElement = this.layerElement,
                    this.data.ln && this.layerElement.setAttribute("id", this.data.ln),
                    this.data.cl && this.layerElement.setAttribute("class", this.data.cl),
                    0 !== this.data.bm && this.setBlendMode()
                },
                renderElement: function() {
                    this.finalTransform._matMdf && (this.transformedElement.style.transform = this.transformedElement.style.webkitTransform = this.finalTransform.mat.toCSS()),
                    this.finalTransform._opMdf && (this.transformedElement.style.opacity = this.finalTransform.mProp.o.v)
                },
                renderFrame: function() {
                    this.data.hd || this.hidden || (this.renderTransform(),
                    this.renderRenderable(),
                    this.renderElement(),
                    this.renderInnerContent(),
                    this._isFirstFrame && (this._isFirstFrame = !1))
                },
                destroy: function() {
                    this.layerElement = null,
                    this.transformedElement = null,
                    this.matteElement && (this.matteElement = null),
                    this.maskManager && (this.maskManager.destroy(),
                    this.maskManager = null)
                },
                createRenderableComponents: function() {
                    this.maskManager = new MaskElement(this.data,this,this.globalData)
                },
                addEffects: function() {},
                setMatte: function() {}
            },
            HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement,
            HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy,
            HBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting,
            extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement),
            HSolidElement.prototype.createContent = function() {
                var e;
                this.data.hasMask ? ((e = createNS("rect")).setAttribute("width", this.data.sw),
                e.setAttribute("height", this.data.sh),
                e.setAttribute("fill", this.data.sc),
                this.svgElement.setAttribute("width", this.data.sw),
                this.svgElement.setAttribute("height", this.data.sh)) : ((e = createTag("div")).style.width = this.data.sw + "px",
                e.style.height = this.data.sh + "px",
                e.style.backgroundColor = this.data.sc),
                this.layerElement.appendChild(e)
            }
            ,
            extendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement),
            HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements,
            HCompElement.prototype.createContainerElements = function() {
                this._createBaseContainerElements(),
                this.data.hasMask ? (this.svgElement.setAttribute("width", this.data.w),
                this.svgElement.setAttribute("height", this.data.h),
                this.transformedElement = this.baseElement) : this.transformedElement = this.layerElement
            }
            ,
            HCompElement.prototype.addTo3dContainer = function(e, t) {
                for (var i, a = 0; a < t; )
                    this.elements[a] && this.elements[a].getBaseElement && (i = this.elements[a].getBaseElement()),
                    a += 1;
                i ? this.layerElement.insertBefore(e, i) : this.layerElement.appendChild(e)
            }
            ,
            extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement),
            HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent,
            HShapeElement.prototype.createContent = function() {
                var e;
                if (this.baseElement.style.fontSize = 0,
                this.data.hasMask)
                    this.layerElement.appendChild(this.shapesContainer),
                    e = this.svgElement;
                else {
                    e = createNS("svg");
                    var t = this.comp.data ? this.comp.data : this.globalData.compSize;
                    e.setAttribute("width", t.w),
                    e.setAttribute("height", t.h),
                    e.appendChild(this.shapesContainer),
                    this.layerElement.appendChild(e)
                }
                this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], !0),
                this.filterUniqueShapes(),
                this.shapeCont = e
            }
            ,
            HShapeElement.prototype.getTransformedPoint = function(e, t) {
                var i, a = e.length;
                for (i = 0; i < a; i += 1)
                    t = e[i].mProps.v.applyToPointArray(t[0], t[1], 0);
                return t
            }
            ,
            HShapeElement.prototype.calculateShapeBoundingBox = function(e, t) {
                var i, a, n, r, o, s = e.sh.v, l = e.transformers, c = s._length;
                if (!(c <= 1)) {
                    for (i = 0; i < c - 1; i += 1)
                        a = this.getTransformedPoint(l, s.v[i]),
                        n = this.getTransformedPoint(l, s.o[i]),
                        r = this.getTransformedPoint(l, s.i[i + 1]),
                        o = this.getTransformedPoint(l, s.v[i + 1]),
                        this.checkBounds(a, n, r, o, t);
                    s.c && (a = this.getTransformedPoint(l, s.v[i]),
                    n = this.getTransformedPoint(l, s.o[i]),
                    r = this.getTransformedPoint(l, s.i[0]),
                    o = this.getTransformedPoint(l, s.v[0]),
                    this.checkBounds(a, n, r, o, t))
                }
            }
            ,
            HShapeElement.prototype.checkBounds = function(e, t, i, a, n) {
                this.getBoundsOfCurve(e, t, i, a);
                var r = this.shapeBoundingBox;
                n.x = bm_min(r.left, n.x),
                n.xMax = bm_max(r.right, n.xMax),
                n.y = bm_min(r.top, n.y),
                n.yMax = bm_max(r.bottom, n.yMax)
            }
            ,
            HShapeElement.prototype.shapeBoundingBox = {
                left: 0,
                right: 0,
                top: 0,
                bottom: 0
            },
            HShapeElement.prototype.tempBoundingBox = {
                x: 0,
                xMax: 0,
                y: 0,
                yMax: 0,
                width: 0,
                height: 0
            },
            HShapeElement.prototype.getBoundsOfCurve = function(e, t, i, a) {
                for (var n, r, o, s, l, c, h, p = [[e[0], a[0]], [e[1], a[1]]], d = 0; d < 2; ++d)
                    if (r = 6 * e[d] - 12 * t[d] + 6 * i[d],
                    n = -3 * e[d] + 9 * t[d] - 9 * i[d] + 3 * a[d],
                    o = 3 * t[d] - 3 * e[d],
                    r |= 0,
                    o |= 0,
                    0 !== (n |= 0))
                        (l = r * r - 4 * o * n) < 0 || (0 < (c = (-r + bm_sqrt(l)) / (2 * n)) && c < 1 && p[d].push(this.calculateF(c, e, t, i, a, d)),
                        0 < (h = (-r - bm_sqrt(l)) / (2 * n)) && h < 1 && p[d].push(this.calculateF(h, e, t, i, a, d)));
                    else {
                        if (0 === r)
                            continue;
                        0 < (s = -o / r) && s < 1 && p[d].push(this.calculateF(s, e, t, i, a, d))
                    }
                this.shapeBoundingBox.left = bm_min.apply(null, p[0]),
                this.shapeBoundingBox.top = bm_min.apply(null, p[1]),
                this.shapeBoundingBox.right = bm_max.apply(null, p[0]),
                this.shapeBoundingBox.bottom = bm_max.apply(null, p[1])
            }
            ,
            HShapeElement.prototype.calculateF = function(e, t, i, a, n, r) {
                return bm_pow(1 - e, 3) * t[r] + 3 * bm_pow(1 - e, 2) * e * i[r] + 3 * (1 - e) * bm_pow(e, 2) * a[r] + bm_pow(e, 3) * n[r]
            }
            ,
            HShapeElement.prototype.calculateBoundingBox = function(e, t) {
                var i, a = e.length;
                for (i = 0; i < a; i += 1)
                    e[i] && e[i].sh ? this.calculateShapeBoundingBox(e[i], t) : e[i] && e[i].it && this.calculateBoundingBox(e[i].it, t)
            }
            ,
            HShapeElement.prototype.currentBoxContains = function(e) {
                return this.currentBBox.x <= e.x && this.currentBBox.y <= e.y && this.currentBBox.width + this.currentBBox.x >= e.x + e.width && this.currentBBox.height + this.currentBBox.y >= e.y + e.height
            }
            ,
            HShapeElement.prototype.renderInnerContent = function() {
                if (this._renderShapeFrame(),
                !this.hidden && (this._isFirstFrame || this._mdf)) {
                    var e = this.tempBoundingBox
                      , t = 999999;
                    if (e.x = t,
                    e.xMax = -t,
                    e.y = t,
                    e.yMax = -t,
                    this.calculateBoundingBox(this.itemsData, e),
                    e.width = e.xMax < e.x ? 0 : e.xMax - e.x,
                    e.height = e.yMax < e.y ? 0 : e.yMax - e.y,
                    this.currentBoxContains(e))
                        return;
                    var i = !1;
                    this.currentBBox.w !== e.width && (this.currentBBox.w = e.width,
                    this.shapeCont.setAttribute("width", e.width),
                    i = !0),
                    this.currentBBox.h !== e.height && (this.currentBBox.h = e.height,
                    this.shapeCont.setAttribute("height", e.height),
                    i = !0),
                    (i || this.currentBBox.x !== e.x || this.currentBBox.y !== e.y) && (this.currentBBox.w = e.width,
                    this.currentBBox.h = e.height,
                    this.currentBBox.x = e.x,
                    this.currentBBox.y = e.y,
                    this.shapeCont.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " + this.currentBBox.h),
                    this.shapeCont.style.transform = this.shapeCont.style.webkitTransform = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)")
                }
            }
            ,
            extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement),
            HTextElement.prototype.createContent = function() {
                if (this.isMasked = this.checkMasks(),
                this.isMasked) {
                    this.renderType = "svg",
                    this.compW = this.comp.data.w,
                    this.compH = this.comp.data.h,
                    this.svgElement.setAttribute("width", this.compW),
                    this.svgElement.setAttribute("height", this.compH);
                    var e = createNS("g");
                    this.maskedElement.appendChild(e),
                    this.innerElem = e
                } else
                    this.renderType = "html",
                    this.innerElem = this.layerElement;
                this.checkParenting()
            }
            ,
            HTextElement.prototype.buildNewText = function() {
                var e = this.textProperty.currentData;
                this.renderedLetters = createSizedArray(e.l ? e.l.length : 0);
                var t = this.innerElem.style;
                t.color = t.fill = e.fc ? this.buildColor(e.fc) : "rgba(0,0,0,0)",
                e.sc && (t.stroke = this.buildColor(e.sc),
                t.strokeWidth = e.sw + "px");
                var i, a, n = this.globalData.fontManager.getFontByName(e.f);
                if (!this.globalData.fontManager.chars)
                    if (t.fontSize = e.finalSize + "px",
                    t.lineHeight = e.finalSize + "px",
                    n.fClass)
                        this.innerElem.className = n.fClass;
                    else {
                        t.fontFamily = n.fFamily;
                        var r = e.fWeight
                          , o = e.fStyle;
                        t.fontStyle = o,
                        t.fontWeight = r
                    }
                var s, l, c, h = e.l;
                a = h.length;
                var p, d = this.mHelper, u = "", g = 0;
                for (i = 0; i < a; i += 1) {
                    if (this.globalData.fontManager.chars ? (this.textPaths[g] ? s = this.textPaths[g] : ((s = createNS("path")).setAttribute("stroke-linecap", "butt"),
                    s.setAttribute("stroke-linejoin", "round"),
                    s.setAttribute("stroke-miterlimit", "4")),
                    this.isMasked || (this.textSpans[g] ? c = (l = this.textSpans[g]).children[0] : ((l = createTag("div")).style.lineHeight = 0,
                    (c = createNS("svg")).appendChild(s),
                    styleDiv(l)))) : this.isMasked ? s = this.textPaths[g] ? this.textPaths[g] : createNS("text") : this.textSpans[g] ? (l = this.textSpans[g],
                    s = this.textPaths[g]) : (styleDiv(l = createTag("span")),
                    styleDiv(s = createTag("span")),
                    l.appendChild(s)),
                    this.globalData.fontManager.chars) {
                        var m, f = this.globalData.fontManager.getCharData(e.finalText[i], n.fStyle, this.globalData.fontManager.getFontByName(e.f).fFamily);
                        if (m = f ? f.data : null,
                        d.reset(),
                        m && m.shapes && (p = m.shapes[0].it,
                        d.scale(e.finalSize / 100, e.finalSize / 100),
                        u = this.createPathShape(d, p),
                        s.setAttribute("d", u)),
                        this.isMasked)
                            this.innerElem.appendChild(s);
                        else {
                            if (this.innerElem.appendChild(l),
                            m && m.shapes) {
                                document.body.appendChild(c);
                                var y = c.getBBox();
                                c.setAttribute("width", y.width + 2),
                                c.setAttribute("height", y.height + 2),
                                c.setAttribute("viewBox", y.x - 1 + " " + (y.y - 1) + " " + (y.width + 2) + " " + (y.height + 2)),
                                c.style.transform = c.style.webkitTransform = "translate(" + (y.x - 1) + "px," + (y.y - 1) + "px)",
                                h[i].yOffset = y.y - 1
                            } else
                                c.setAttribute("width", 1),
                                c.setAttribute("height", 1);
                            l.appendChild(c)
                        }
                    } else
                        s.textContent = h[i].val,
                        s.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"),
                        this.isMasked ? this.innerElem.appendChild(s) : (this.innerElem.appendChild(l),
                        s.style.transform = s.style.webkitTransform = "translate3d(0," + -e.finalSize / 1.2 + "px,0)");
                    this.isMasked ? this.textSpans[g] = s : this.textSpans[g] = l,
                    this.textSpans[g].style.display = "block",
                    this.textPaths[g] = s,
                    g += 1
                }
                for (; g < this.textSpans.length; )
                    this.textSpans[g].style.display = "none",
                    g += 1
            }
            ,
            HTextElement.prototype.renderInnerContent = function() {
                if (this.data.singleShape) {
                    if (!this._isFirstFrame && !this.lettersChangedFlag)
                        return;
                    this.isMasked && this.finalTransform._matMdf && (this.svgElement.setAttribute("viewBox", -this.finalTransform.mProp.p.v[0] + " " + -this.finalTransform.mProp.p.v[1] + " " + this.compW + " " + this.compH),
                    this.svgElement.style.transform = this.svgElement.style.webkitTransform = "translate(" + -this.finalTransform.mProp.p.v[0] + "px," + -this.finalTransform.mProp.p.v[1] + "px)")
                }
                if (this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag),
                this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {
                    var e, t, i, a, n, r = 0, o = this.textAnimator.renderedLetters, s = this.textProperty.currentData.l;
                    for (t = s.length,
                    e = 0; e < t; e += 1)
                        s[e].n ? r += 1 : (a = this.textSpans[e],
                        n = this.textPaths[e],
                        i = o[r],
                        r += 1,
                        i._mdf.m && (this.isMasked ? a.setAttribute("transform", i.m) : a.style.transform = a.style.webkitTransform = i.m),
                        a.style.opacity = i.o,
                        i.sw && i._mdf.sw && n.setAttribute("stroke-width", i.sw),
                        i.sc && i._mdf.sc && n.setAttribute("stroke", i.sc),
                        i.fc && i._mdf.fc && (n.setAttribute("fill", i.fc),
                        n.style.color = i.fc));
                    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {
                        var l = this.innerElem.getBBox();
                        this.currentBBox.w !== l.width && (this.currentBBox.w = l.width,
                        this.svgElement.setAttribute("width", l.width)),
                        this.currentBBox.h !== l.height && (this.currentBBox.h = l.height,
                        this.svgElement.setAttribute("height", l.height));
                        this.currentBBox.w === l.width + 2 && this.currentBBox.h === l.height + 2 && this.currentBBox.x === l.x - 1 && this.currentBBox.y === l.y - 1 || (this.currentBBox.w = l.width + 2,
                        this.currentBBox.h = l.height + 2,
                        this.currentBBox.x = l.x - 1,
                        this.currentBBox.y = l.y - 1,
                        this.svgElement.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " + this.currentBBox.h),
                        this.svgElement.style.transform = this.svgElement.style.webkitTransform = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)")
                    }
                }
            }
            ,
            extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement),
            HImageElement.prototype.createContent = function() {
                var e = this.globalData.getAssetsPath(this.assetData)
                  , t = new Image;
                this.data.hasMask ? (this.imageElem = createNS("image"),
                this.imageElem.setAttribute("width", this.assetData.w + "px"),
                this.imageElem.setAttribute("height", this.assetData.h + "px"),
                this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", e),
                this.layerElement.appendChild(this.imageElem),
                this.baseElement.setAttribute("width", this.assetData.w),
                this.baseElement.setAttribute("height", this.assetData.h)) : this.layerElement.appendChild(t),
                t.src = e,
                this.data.ln && this.baseElement.setAttribute("id", this.data.ln)
            }
            ,
            extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement),
            HCameraElement.prototype.setup = function() {
                var e, t, i = this.comp.threeDElements.length;
                for (e = 0; e < i; e += 1)
                    "3d" === (t = this.comp.threeDElements[e]).type && (t.perspectiveElem.style.perspective = t.perspectiveElem.style.webkitPerspective = this.pe.v + "px",
                    t.container.style.transformOrigin = t.container.style.mozTransformOrigin = t.container.style.webkitTransformOrigin = "0px 0px 0px",
                    t.perspectiveElem.style.transform = t.perspectiveElem.style.webkitTransform = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")
            }
            ,
            HCameraElement.prototype.createElements = function() {}
            ,
            HCameraElement.prototype.hide = function() {}
            ,
            HCameraElement.prototype.renderFrame = function() {
                var e, t, i = this._isFirstFrame;
                if (this.hierarchy)
                    for (t = this.hierarchy.length,
                    e = 0; e < t; e += 1)
                        i = this.hierarchy[e].finalTransform.mProp._mdf || i;
                if (i || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {
                    if (this.mat.reset(),
                    this.hierarchy)
                        for (e = t = this.hierarchy.length - 1; e >= 0; e -= 1) {
                            var a = this.hierarchy[e].finalTransform.mProp;
                            this.mat.translate(-a.p.v[0], -a.p.v[1], a.p.v[2]),
                            this.mat.rotateX(-a.or.v[0]).rotateY(-a.or.v[1]).rotateZ(a.or.v[2]),
                            this.mat.rotateX(-a.rx.v).rotateY(-a.ry.v).rotateZ(a.rz.v),
                            this.mat.scale(1 / a.s.v[0], 1 / a.s.v[1], 1 / a.s.v[2]),
                            this.mat.translate(a.a.v[0], a.a.v[1], a.a.v[2])
                        }
                    if (this.p ? this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]) : this.mat.translate(-this.px.v, -this.py.v, this.pz.v),
                    this.a) {
                        var n = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]]
                          , r = Math.sqrt(Math.pow(n[0], 2) + Math.pow(n[1], 2) + Math.pow(n[2], 2))
                          , o = [n[0] / r, n[1] / r, n[2] / r]
                          , s = Math.sqrt(o[2] * o[2] + o[0] * o[0])
                          , l = Math.atan2(o[1], s)
                          , c = Math.atan2(o[0], -o[2]);
                        this.mat.rotateY(c).rotateX(-l)
                    }
                    this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),
                    this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),
                    this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0),
                    this.mat.translate(0, 0, this.pe.v);
                    var h = !this._prevMat.equals(this.mat);
                    if ((h || this.pe._mdf) && this.comp.threeDElements) {
                        var p;
                        for (t = this.comp.threeDElements.length,
                        e = 0; e < t; e += 1)
                            "3d" === (p = this.comp.threeDElements[e]).type && (h && (p.container.style.transform = p.container.style.webkitTransform = this.mat.toCSS()),
                            this.pe._mdf && (p.perspectiveElem.style.perspective = p.perspectiveElem.style.webkitPerspective = this.pe.v + "px"));
                        this.mat.clone(this._prevMat)
                    }
                }
                this._isFirstFrame = !1
            }
            ,
            HCameraElement.prototype.prepareFrame = function(e) {
                this.prepareProperties(e, !0)
            }
            ,
            HCameraElement.prototype.destroy = function() {}
            ,
            HCameraElement.prototype.getBaseElement = function() {
                return null
            }
            ,
            HEffects.prototype.renderFrame = function() {}
            ;
            var animationManager = function() {
                var e = {}
                  , t = []
                  , i = 0
                  , a = 0
                  , n = 0
                  , r = !0
                  , o = !1;
                function s(e) {
                    for (var i = 0, n = e.target; i < a; )
                        t[i].animation === n && (t.splice(i, 1),
                        i -= 1,
                        a -= 1,
                        n.isPaused || h()),
                        i += 1
                }
                function l(e, i) {
                    if (!e)
                        return null;
                    for (var n = 0; n < a; ) {
                        if (t[n].elem == e && null !== t[n].elem)
                            return t[n].animation;
                        n += 1
                    }
                    var r = new AnimationItem;
                    return p(r, e),
                    r.setData(e, i),
                    r
                }
                function c() {
                    n += 1,
                    g()
                }
                function h() {
                    n -= 1
                }
                function p(e, i) {
                    e.addEventListener("destroy", s),
                    e.addEventListener("_active", c),
                    e.addEventListener("_idle", h),
                    t.push({
                        elem: i,
                        animation: e
                    }),
                    a += 1
                }
                function d(e) {
                    var s, l = e - i;
                    for (s = 0; s < a; s += 1)
                        t[s].animation.advanceTime(l);
                    i = e,
                    n && !o ? window.requestAnimationFrame(d) : r = !0
                }
                function u(e) {
                    i = e,
                    window.requestAnimationFrame(d)
                }
                function g() {
                    !o && n && r && (window.requestAnimationFrame(u),
                    r = !1)
                }
                return e.registerAnimation = l,
                e.loadAnimation = function(e) {
                    var t = new AnimationItem;
                    return p(t, null),
                    t.setParams(e),
                    t
                }
                ,
                e.setSpeed = function(e, i) {
                    var n;
                    for (n = 0; n < a; n += 1)
                        t[n].animation.setSpeed(e, i)
                }
                ,
                e.setDirection = function(e, i) {
                    var n;
                    for (n = 0; n < a; n += 1)
                        t[n].animation.setDirection(e, i)
                }
                ,
                e.play = function(e) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        t[i].animation.play(e)
                }
                ,
                e.pause = function(e) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        t[i].animation.pause(e)
                }
                ,
                e.stop = function(e) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        t[i].animation.stop(e)
                }
                ,
                e.togglePause = function(e) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        t[i].animation.togglePause(e)
                }
                ,
                e.searchAnimations = function(e, t, i) {
                    var a, n = [].concat([].slice.call(document.getElementsByClassName("lottie")), [].slice.call(document.getElementsByClassName("bodymovin"))), r = n.length;
                    for (a = 0; a < r; a += 1)
                        i && n[a].setAttribute("data-bm-type", i),
                        l(n[a], e);
                    if (t && 0 === r) {
                        i || (i = "svg");
                        var o = document.getElementsByTagName("body")[0];
                        o.innerHTML = "";
                        var s = createTag("div");
                        s.style.width = "100%",
                        s.style.height = "100%",
                        s.setAttribute("data-bm-type", i),
                        o.appendChild(s),
                        l(s, e)
                    }
                }
                ,
                e.resize = function() {
                    var e;
                    for (e = 0; e < a; e += 1)
                        t[e].animation.resize()
                }
                ,
                e.goToAndStop = function(e, i, n) {
                    var r;
                    for (r = 0; r < a; r += 1)
                        t[r].animation.goToAndStop(e, i, n)
                }
                ,
                e.destroy = function(e) {
                    var i;
                    for (i = a - 1; i >= 0; i -= 1)
                        t[i].animation.destroy(e)
                }
                ,
                e.freeze = function() {
                    o = !0
                }
                ,
                e.unfreeze = function() {
                    o = !1,
                    g()
                }
                ,
                e.getRegisteredAnimations = function() {
                    var e, i = t.length, a = [];
                    for (e = 0; e < i; e += 1)
                        a.push(t[e].animation);
                    return a
                }
                ,
                e
            }()
              , AnimationItem = function() {
                this._cbs = [],
                this.name = "",
                this.path = "",
                this.isLoaded = !1,
                this.currentFrame = 0,
                this.currentRawFrame = 0,
                this.totalFrames = 0,
                this.frameRate = 0,
                this.frameMult = 0,
                this.playSpeed = 1,
                this.playDirection = 1,
                this.playCount = 0,
                this.animationData = {},
                this.assets = [],
                this.isPaused = !0,
                this.autoplay = !1,
                this.loop = !0,
                this.renderer = null,
                this.animationID = createElementID(),
                this.assetsPath = "",
                this.timeCompleted = 0,
                this.segmentPos = 0,
                this.subframeEnabled = subframeEnabled,
                this.segments = [],
                this._idle = !0,
                this._completedLoop = !1,
                this.projectInterface = ProjectInterface(),
                this.imagePreloader = new ImagePreloader
            };
            extendPrototype([BaseEvent], AnimationItem),
            AnimationItem.prototype.setParams = function(e) {
                e.context && (this.context = e.context),
                (e.wrapper || e.container) && (this.wrapper = e.wrapper || e.container);
                var t = e.animType ? e.animType : e.renderer ? e.renderer : "svg";
                switch (t) {
                case "canvas":
                    this.renderer = new CanvasRenderer(this,e.rendererSettings);
                    break;
                case "svg":
                    this.renderer = new SVGRenderer(this,e.rendererSettings);
                    break;
                default:
                    this.renderer = new HybridRenderer(this,e.rendererSettings)
                }
                this.renderer.setProjectInterface(this.projectInterface),
                this.animType = t,
                "" === e.loop || null === e.loop || (!1 === e.loop ? this.loop = !1 : !0 === e.loop ? this.loop = !0 : this.loop = parseInt(e.loop)),
                this.autoplay = !("autoplay"in e) || e.autoplay,
                this.name = e.name ? e.name : "",
                this.autoloadSegments = !e.hasOwnProperty("autoloadSegments") || e.autoloadSegments,
                this.assetsPath = e.assetsPath,
                e.animationData ? this.configAnimation(e.animationData) : e.path && ("json" != e.path.substr(-4) && ("/" != e.path.substr(-1, 1) && (e.path += "/"),
                e.path += "data.json"),
                -1 != e.path.lastIndexOf("\\") ? this.path = e.path.substr(0, e.path.lastIndexOf("\\") + 1) : this.path = e.path.substr(0, e.path.lastIndexOf("/") + 1),
                this.fileName = e.path.substr(e.path.lastIndexOf("/") + 1),
                this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf(".json")),
                assetLoader.load(e.path, this.configAnimation.bind(this), function() {
                    this.trigger("data_failed")
                }
                .bind(this)))
            }
            ,
            AnimationItem.prototype.setData = function(e, t) {
                var i = {
                    wrapper: e,
                    animationData: t ? "object" === typeof t ? t : JSON.parse(t) : null
                }
                  , a = e.attributes;
                i.path = a.getNamedItem("data-animation-path") ? a.getNamedItem("data-animation-path").value : a.getNamedItem("data-bm-path") ? a.getNamedItem("data-bm-path").value : a.getNamedItem("bm-path") ? a.getNamedItem("bm-path").value : "",
                i.animType = a.getNamedItem("data-anim-type") ? a.getNamedItem("data-anim-type").value : a.getNamedItem("data-bm-type") ? a.getNamedItem("data-bm-type").value : a.getNamedItem("bm-type") ? a.getNamedItem("bm-type").value : a.getNamedItem("data-bm-renderer") ? a.getNamedItem("data-bm-renderer").value : a.getNamedItem("bm-renderer") ? a.getNamedItem("bm-renderer").value : "canvas";
                var n = a.getNamedItem("data-anim-loop") ? a.getNamedItem("data-anim-loop").value : a.getNamedItem("data-bm-loop") ? a.getNamedItem("data-bm-loop").value : a.getNamedItem("bm-loop") ? a.getNamedItem("bm-loop").value : "";
                "" === n || (i.loop = "false" !== n && ("true" === n || parseInt(n)));
                var r = a.getNamedItem("data-anim-autoplay") ? a.getNamedItem("data-anim-autoplay").value : a.getNamedItem("data-bm-autoplay") ? a.getNamedItem("data-bm-autoplay").value : !a.getNamedItem("bm-autoplay") || a.getNamedItem("bm-autoplay").value;
                i.autoplay = "false" !== r,
                i.name = a.getNamedItem("data-name") ? a.getNamedItem("data-name").value : a.getNamedItem("data-bm-name") ? a.getNamedItem("data-bm-name").value : a.getNamedItem("bm-name") ? a.getNamedItem("bm-name").value : "",
                "false" === (a.getNamedItem("data-anim-prerender") ? a.getNamedItem("data-anim-prerender").value : a.getNamedItem("data-bm-prerender") ? a.getNamedItem("data-bm-prerender").value : a.getNamedItem("bm-prerender") ? a.getNamedItem("bm-prerender").value : "") && (i.prerender = !1),
                this.setParams(i)
            }
            ,
            AnimationItem.prototype.includeLayers = function(e) {
                e.op > this.animationData.op && (this.animationData.op = e.op,
                this.totalFrames = Math.floor(e.op - this.animationData.ip));
                var t, i, a = this.animationData.layers, n = a.length, r = e.layers, o = r.length;
                for (i = 0; i < o; i += 1)
                    for (t = 0; t < n; ) {
                        if (a[t].id == r[i].id) {
                            a[t] = r[i];
                            break
                        }
                        t += 1
                    }
                if ((e.chars || e.fonts) && (this.renderer.globalData.fontManager.addChars(e.chars),
                this.renderer.globalData.fontManager.addFonts(e.fonts, this.renderer.globalData.defs)),
                e.assets)
                    for (n = e.assets.length,
                    t = 0; t < n; t += 1)
                        this.animationData.assets.push(e.assets[t]);
                this.animationData.__complete = !1,
                dataManager.completeData(this.animationData, this.renderer.globalData.fontManager),
                this.renderer.includeLayers(e.layers),
                expressionsPlugin && expressionsPlugin.initExpressions(this),
                this.loadNextSegment()
            }
            ,
            AnimationItem.prototype.loadNextSegment = function() {
                var e = this.animationData.segments;
                if (!e || 0 === e.length || !this.autoloadSegments)
                    return this.trigger("data_ready"),
                    void (this.timeCompleted = this.totalFrames);
                var t = e.shift();
                this.timeCompleted = t.time * this.frameRate;
                var i = this.path + this.fileName + "_" + this.segmentPos + ".json";
                this.segmentPos += 1,
                assetLoader.load(i, this.includeLayers.bind(this), function() {
                    this.trigger("data_failed")
                }
                .bind(this))
            }
            ,
            AnimationItem.prototype.loadSegments = function() {
                this.animationData.segments || (this.timeCompleted = this.totalFrames),
                this.loadNextSegment()
            }
            ,
            AnimationItem.prototype.imagesLoaded = function() {
                this.trigger("loaded_images"),
                this.checkLoaded()
            }
            ,
            AnimationItem.prototype.preloadImages = function() {
                this.imagePreloader.setAssetsPath(this.assetsPath),
                this.imagePreloader.setPath(this.path),
                this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this))
            }
            ,
            AnimationItem.prototype.configAnimation = function(e) {
                this.renderer && (this.animationData = e,
                this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip),
                this.renderer.configAnimation(e),
                e.assets || (e.assets = []),
                this.renderer.searchExtraCompositions(e.assets),
                this.assets = this.animationData.assets,
                this.frameRate = this.animationData.fr,
                this.firstFrame = Math.round(this.animationData.ip),
                this.frameMult = this.animationData.fr / 1e3,
                this.trigger("config_ready"),
                this.preloadImages(),
                this.loadSegments(),
                this.updaFrameModifier(),
                this.waitForFontsLoaded())
            }
            ,
            AnimationItem.prototype.waitForFontsLoaded = function() {
                this.renderer && (this.renderer.globalData.fontManager.loaded() ? this.checkLoaded() : setTimeout(this.waitForFontsLoaded.bind(this), 20))
            }
            ,
            AnimationItem.prototype.checkLoaded = function() {
                this.isLoaded || !this.renderer.globalData.fontManager.loaded() || !this.imagePreloader.loaded() && "canvas" === this.renderer.rendererType || (this.isLoaded = !0,
                dataManager.completeData(this.animationData, this.renderer.globalData.fontManager),
                expressionsPlugin && expressionsPlugin.initExpressions(this),
                this.renderer.initItems(),
                setTimeout(function() {
                    this.trigger("DOMLoaded")
                }
                .bind(this), 0),
                this.gotoFrame(),
                this.autoplay && this.play())
            }
            ,
            AnimationItem.prototype.resize = function() {
                this.renderer.updateContainerSize()
            }
            ,
            AnimationItem.prototype.setSubframe = function(e) {
                this.subframeEnabled = !!e
            }
            ,
            AnimationItem.prototype.gotoFrame = function() {
                this.currentFrame = this.subframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame,
                this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted && (this.currentFrame = this.timeCompleted),
                this.trigger("enterFrame"),
                this.renderFrame()
            }
            ,
            AnimationItem.prototype.renderFrame = function() {
                !1 !== this.isLoaded && this.renderer.renderFrame(this.currentFrame + this.firstFrame)
            }
            ,
            AnimationItem.prototype.play = function(e) {
                e && this.name != e || !0 === this.isPaused && (this.isPaused = !1,
                this._idle && (this._idle = !1,
                this.trigger("_active")))
            }
            ,
            AnimationItem.prototype.pause = function(e) {
                e && this.name != e || !1 === this.isPaused && (this.isPaused = !0,
                this._idle = !0,
                this.trigger("_idle"))
            }
            ,
            AnimationItem.prototype.togglePause = function(e) {
                e && this.name != e || (!0 === this.isPaused ? this.play() : this.pause())
            }
            ,
            AnimationItem.prototype.stop = function(e) {
                e && this.name != e || (this.pause(),
                this.playCount = 0,
                this._completedLoop = !1,
                this.setCurrentRawFrameValue(0))
            }
            ,
            AnimationItem.prototype.goToAndStop = function(e, t, i) {
                i && this.name != i || (t ? this.setCurrentRawFrameValue(e) : this.setCurrentRawFrameValue(e * this.frameModifier),
                this.pause())
            }
            ,
            AnimationItem.prototype.goToAndPlay = function(e, t, i) {
                this.goToAndStop(e, t, i),
                this.play()
            }
            ,
            AnimationItem.prototype.advanceTime = function(e) {
                if (!0 !== this.isPaused && !1 !== this.isLoaded) {
                    var t = this.currentRawFrame + e * this.frameModifier
                      , i = !1;
                    t >= this.totalFrames - 1 && this.frameModifier > 0 ? this.loop && this.playCount !== this.loop ? t >= this.totalFrames ? (this.playCount += 1,
                    this.checkSegments(t % this.totalFrames) || (this.setCurrentRawFrameValue(t % this.totalFrames),
                    this._completedLoop = !0,
                    this.trigger("loopComplete"))) : this.setCurrentRawFrameValue(t) : this.checkSegments(t > this.totalFrames ? t % this.totalFrames : 0) || (i = !0,
                    t = this.totalFrames - 1) : t < 0 ? this.checkSegments(t % this.totalFrames) || (!this.loop || this.playCount-- <= 0 && !0 !== this.loop ? (i = !0,
                    t = 0) : (this.setCurrentRawFrameValue(this.totalFrames + t % this.totalFrames),
                    this._completedLoop ? this.trigger("loopComplete") : this._completedLoop = !0)) : this.setCurrentRawFrameValue(t),
                    i && (this.setCurrentRawFrameValue(t),
                    this.pause(),
                    this.trigger("complete"))
                }
            }
            ,
            AnimationItem.prototype.adjustSegment = function(e, t) {
                this.playCount = 0,
                e[1] < e[0] ? (this.frameModifier > 0 && (this.playSpeed < 0 ? this.setSpeed(-this.playSpeed) : this.setDirection(-1)),
                this.timeCompleted = this.totalFrames = e[0] - e[1],
                this.firstFrame = e[1],
                this.setCurrentRawFrameValue(this.totalFrames - .001 - t)) : e[1] > e[0] && (this.frameModifier < 0 && (this.playSpeed < 0 ? this.setSpeed(-this.playSpeed) : this.setDirection(1)),
                this.timeCompleted = this.totalFrames = e[1] - e[0],
                this.firstFrame = e[0],
                this.setCurrentRawFrameValue(.001 + t)),
                this.trigger("segmentStart")
            }
            ,
            AnimationItem.prototype.setSegment = function(e, t) {
                var i = -1;
                this.isPaused && (this.currentRawFrame + this.firstFrame < e ? i = e : this.currentRawFrame + this.firstFrame > t && (i = t - e)),
                this.firstFrame = e,
                this.timeCompleted = this.totalFrames = t - e,
                -1 !== i && this.goToAndStop(i, !0)
            }
            ,
            AnimationItem.prototype.playSegments = function(e, t) {
                if (t && (this.segments.length = 0),
                "object" === typeof e[0]) {
                    var i, a = e.length;
                    for (i = 0; i < a; i += 1)
                        this.segments.push(e[i])
                } else
                    this.segments.push(e);
                this.segments.length && t && this.adjustSegment(this.segments.shift(), 0),
                this.isPaused && this.play()
            }
            ,
            AnimationItem.prototype.resetSegments = function(e) {
                this.segments.length = 0,
                this.segments.push([this.animationData.ip, this.animationData.op]),
                e && this.checkSegments(0)
            }
            ,
            AnimationItem.prototype.checkSegments = function(e) {
                return !!this.segments.length && (this.adjustSegment(this.segments.shift(), e),
                !0)
            }
            ,
            AnimationItem.prototype.destroy = function(e) {
                e && this.name != e || !this.renderer || (this.renderer.destroy(),
                this.imagePreloader.destroy(),
                this.trigger("destroy"),
                this._cbs = null,
                this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null,
                this.renderer = null)
            }
            ,
            AnimationItem.prototype.setCurrentRawFrameValue = function(e) {
                this.currentRawFrame = e,
                this.gotoFrame()
            }
            ,
            AnimationItem.prototype.setSpeed = function(e) {
                this.playSpeed = e,
                this.updaFrameModifier()
            }
            ,
            AnimationItem.prototype.setDirection = function(e) {
                this.playDirection = e < 0 ? -1 : 1,
                this.updaFrameModifier()
            }
            ,
            AnimationItem.prototype.updaFrameModifier = function() {
                this.frameModifier = this.frameMult * this.playSpeed * this.playDirection
            }
            ,
            AnimationItem.prototype.getPath = function() {
                return this.path
            }
            ,
            AnimationItem.prototype.getAssetsPath = function(e) {
                var t = "";
                if (e.e)
                    t = e.p;
                else if (this.assetsPath) {
                    var i = e.p;
                    -1 !== i.indexOf("images/") && (i = i.split("/")[1]),
                    t = this.assetsPath + i
                } else
                    t = this.path,
                    t += e.u ? e.u : "",
                    t += e.p;
                return t
            }
            ,
            AnimationItem.prototype.getAssetData = function(e) {
                for (var t = 0, i = this.assets.length; t < i; ) {
                    if (e == this.assets[t].id)
                        return this.assets[t];
                    t += 1
                }
            }
            ,
            AnimationItem.prototype.hide = function() {
                this.renderer.hide()
            }
            ,
            AnimationItem.prototype.show = function() {
                this.renderer.show()
            }
            ,
            AnimationItem.prototype.getDuration = function(e) {
                return e ? this.totalFrames : this.totalFrames / this.frameRate
            }
            ,
            AnimationItem.prototype.trigger = function(e) {
                if (this._cbs && this._cbs[e])
                    switch (e) {
                    case "enterFrame":
                        this.triggerEvent(e, new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));
                        break;
                    case "loopComplete":
                        this.triggerEvent(e, new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));
                        break;
                    case "complete":
                        this.triggerEvent(e, new BMCompleteEvent(e,this.frameMult));
                        break;
                    case "segmentStart":
                        this.triggerEvent(e, new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));
                        break;
                    case "destroy":
                        this.triggerEvent(e, new BMDestroyEvent(e,this));
                        break;
                    default:
                        this.triggerEvent(e)
                    }
                "enterFrame" === e && this.onEnterFrame && this.onEnterFrame.call(this, new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),
                "loopComplete" === e && this.onLoopComplete && this.onLoopComplete.call(this, new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),
                "complete" === e && this.onComplete && this.onComplete.call(this, new BMCompleteEvent(e,this.frameMult)),
                "segmentStart" === e && this.onSegmentStart && this.onSegmentStart.call(this, new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),
                "destroy" === e && this.onDestroy && this.onDestroy.call(this, new BMDestroyEvent(e,this))
            }
            ;
            var Expressions = function() {
                var e = {};
                return e.initExpressions = function(e) {
                    var t = 0
                      , i = [];
                    e.renderer.compInterface = CompExpressionInterface(e.renderer),
                    e.renderer.globalData.projectInterface.registerComposition(e.renderer),
                    e.renderer.globalData.pushExpression = function() {
                        t += 1
                    }
                    ,
                    e.renderer.globalData.popExpression = function() {
                        0 === (t -= 1) && function() {
                            var e, t = i.length;
                            for (e = 0; e < t; e += 1)
                                i[e].release();
                            i.length = 0
                        }()
                    }
                    ,
                    e.renderer.globalData.registerExpressionProperty = function(e) {
                        -1 === i.indexOf(e) && i.push(e)
                    }
                }
                ,
                e
            }();
            expressionsPlugin = Expressions;
            var ExpressionManager = function() {
                var ob = {}
                  , Math = BMMath
                  , window = null
                  , document = null;
                function $bm_isInstanceOfArray(e) {
                    return e.constructor === Array || e.constructor === Float32Array
                }
                function isNumerable(e, t) {
                    return "number" === e || "boolean" === e || "string" === e || t instanceof Number
                }
                function $bm_neg(e) {
                    var t = typeof e;
                    if ("number" === t || "boolean" === t || e instanceof Number)
                        return -e;
                    if ($bm_isInstanceOfArray(e)) {
                        var i, a = e.length, n = [];
                        for (i = 0; i < a; i += 1)
                            n[i] = -e[i];
                        return n
                    }
                    return e.propType ? e.v : void 0
                }
                var easeInBez = BezierFactory.getBezierEasing(.333, 0, .833, .833, "easeIn").get
                  , easeOutBez = BezierFactory.getBezierEasing(.167, .167, .667, 1, "easeOut").get
                  , easeInOutBez = BezierFactory.getBezierEasing(.33, 0, .667, 1, "easeInOut").get;
                function sum(e, t) {
                    var i = typeof e
                      , a = typeof t;
                    if ("string" === i || "string" === a)
                        return e + t;
                    if (isNumerable(i, e) && isNumerable(a, t))
                        return e + t;
                    if ($bm_isInstanceOfArray(e) && isNumerable(a, t))
                        return (e = e.slice(0))[0] = e[0] + t,
                        e;
                    if (isNumerable(i, e) && $bm_isInstanceOfArray(t))
                        return (t = t.slice(0))[0] = e + t[0],
                        t;
                    if ($bm_isInstanceOfArray(e) && $bm_isInstanceOfArray(t)) {
                        for (var n = 0, r = e.length, o = t.length, s = []; n < r || n < o; )
                            ("number" === typeof e[n] || e[n]instanceof Number) && ("number" === typeof t[n] || t[n]instanceof Number) ? s[n] = e[n] + t[n] : s[n] = void 0 === t[n] ? e[n] : e[n] || t[n],
                            n += 1;
                        return s
                    }
                    return 0
                }
                var add = sum;
                function sub(e, t) {
                    var i = typeof e
                      , a = typeof t;
                    if (isNumerable(i, e) && isNumerable(a, t))
                        return "string" === i && (e = parseInt(e)),
                        "string" === a && (t = parseInt(t)),
                        e - t;
                    if ($bm_isInstanceOfArray(e) && isNumerable(a, t))
                        return (e = e.slice(0))[0] = e[0] - t,
                        e;
                    if (isNumerable(i, e) && $bm_isInstanceOfArray(t))
                        return (t = t.slice(0))[0] = e - t[0],
                        t;
                    if ($bm_isInstanceOfArray(e) && $bm_isInstanceOfArray(t)) {
                        for (var n = 0, r = e.length, o = t.length, s = []; n < r || n < o; )
                            ("number" === typeof e[n] || e[n]instanceof Number) && ("number" === typeof t[n] || t[n]instanceof Number) ? s[n] = e[n] - t[n] : s[n] = void 0 === t[n] ? e[n] : e[n] || t[n],
                            n += 1;
                        return s
                    }
                    return 0
                }
                function mul(e, t) {
                    var i, a, n, r = typeof e, o = typeof t;
                    if (isNumerable(r, e) && isNumerable(o, t))
                        return e * t;
                    if ($bm_isInstanceOfArray(e) && isNumerable(o, t)) {
                        for (n = e.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = e[a] * t;
                        return i
                    }
                    if (isNumerable(r, e) && $bm_isInstanceOfArray(t)) {
                        for (n = t.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = e * t[a];
                        return i
                    }
                    return 0
                }
                function div(e, t) {
                    var i, a, n, r = typeof e, o = typeof t;
                    if (isNumerable(r, e) && isNumerable(o, t))
                        return e / t;
                    if ($bm_isInstanceOfArray(e) && isNumerable(o, t)) {
                        for (n = e.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = e[a] / t;
                        return i
                    }
                    if (isNumerable(r, e) && $bm_isInstanceOfArray(t)) {
                        for (n = t.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = e / t[a];
                        return i
                    }
                    return 0
                }
                function mod(e, t) {
                    return "string" === typeof e && (e = parseInt(e)),
                    "string" === typeof t && (t = parseInt(t)),
                    e % t
                }
                var $bm_sum = sum
                  , $bm_sub = sub
                  , $bm_mul = mul
                  , $bm_div = div
                  , $bm_mod = mod;
                function clamp(e, t, i) {
                    if (t > i) {
                        var a = i;
                        i = t,
                        t = a
                    }
                    return Math.min(Math.max(e, t), i)
                }
                function radiansToDegrees(e) {
                    return e / degToRads
                }
                var radians_to_degrees = radiansToDegrees;
                function degreesToRadians(e) {
                    return e * degToRads
                }
                var degrees_to_radians = radiansToDegrees
                  , helperLengthArray = [0, 0, 0, 0, 0, 0];
                function length(e, t) {
                    if ("number" === typeof e || e instanceof Number)
                        return t = t || 0,
                        Math.abs(e - t);
                    t || (t = helperLengthArray);
                    var i, a = Math.min(e.length, t.length), n = 0;
                    for (i = 0; i < a; i += 1)
                        n += Math.pow(t[i] - e[i], 2);
                    return Math.sqrt(n)
                }
                function normalize(e) {
                    return div(e, length(e))
                }
                function rgbToHsl(e) {
                    var t, i, a = e[0], n = e[1], r = e[2], o = Math.max(a, n, r), s = Math.min(a, n, r), l = (o + s) / 2;
                    if (o == s)
                        t = i = 0;
                    else {
                        var c = o - s;
                        switch (i = l > .5 ? c / (2 - o - s) : c / (o + s),
                        o) {
                        case a:
                            t = (n - r) / c + (n < r ? 6 : 0);
                            break;
                        case n:
                            t = (r - a) / c + 2;
                            break;
                        case r:
                            t = (a - n) / c + 4
                        }
                        t /= 6
                    }
                    return [t, i, l, e[3]]
                }
                function hue2rgb(e, t, i) {
                    return i < 0 && (i += 1),
                    i > 1 && (i -= 1),
                    i < 1 / 6 ? e + 6 * (t - e) * i : i < .5 ? t : i < 2 / 3 ? e + (t - e) * (2 / 3 - i) * 6 : e
                }
                function hslToRgb(e) {
                    var t, i, a, n = e[0], r = e[1], o = e[2];
                    if (0 === r)
                        t = i = a = o;
                    else {
                        var s = o < .5 ? o * (1 + r) : o + r - o * r
                          , l = 2 * o - s;
                        t = hue2rgb(l, s, n + 1 / 3),
                        i = hue2rgb(l, s, n),
                        a = hue2rgb(l, s, n - 1 / 3)
                    }
                    return [t, i, a, e[3]]
                }
                function linear(e, t, i, a, n) {
                    if (void 0 !== a && void 0 !== n || (a = t,
                    n = i,
                    t = 0,
                    i = 1),
                    i < t) {
                        var r = i;
                        i = t,
                        t = r
                    }
                    if (e <= t)
                        return a;
                    if (e >= i)
                        return n;
                    var o = i === t ? 0 : (e - t) / (i - t);
                    if (!a.length)
                        return a + (n - a) * o;
                    var s, l = a.length, c = createTypedArray("float32", l);
                    for (s = 0; s < l; s += 1)
                        c[s] = a[s] + (n[s] - a[s]) * o;
                    return c
                }
                function random(e, t) {
                    if (void 0 === t && (void 0 === e ? (e = 0,
                    t = 1) : (t = e,
                    e = void 0)),
                    t.length) {
                        var i, a = t.length;
                        e || (e = createTypedArray("float32", a));
                        var n = createTypedArray("float32", a)
                          , r = BMMath.random();
                        for (i = 0; i < a; i += 1)
                            n[i] = e[i] + r * (t[i] - e[i]);
                        return n
                    }
                    return void 0 === e && (e = 0),
                    e + BMMath.random() * (t - e)
                }
                function createPath(e, t, i, a) {
                    var n, r = e.length, o = shape_pool.newElement();
                    o.setPathData(!!a, r);
                    var s, l, c = [0, 0];
                    for (n = 0; n < r; n += 1)
                        s = t && t[n] ? t[n] : c,
                        l = i && i[n] ? i[n] : c,
                        o.setTripleAt(e[n][0], e[n][1], l[0] + e[n][0], l[1] + e[n][1], s[0] + e[n][0], s[1] + e[n][1], n, !0);
                    return o
                }
                function initiateExpression(elem, data, property) {
                    var val = data.x, needsVelocity = /velocity(?![\w\d])/.test(val), _needsRandom = -1 !== val.indexOf("random"), elemType = elem.data.ty, transform, $bm_transform, content, effect, thisProperty = property;
                    thisProperty.valueAtTime = thisProperty.getValueAtTime,
                    Object.defineProperty(thisProperty, "value", {
                        get: function() {
                            return thisProperty.v
                        }
                    }),
                    elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate,
                    elem.comp.displayStartTime = 0;
                    var inPoint = elem.data.ip / elem.comp.globalData.frameRate, outPoint = elem.data.op / elem.comp.globalData.frameRate, width = elem.data.sw ? elem.data.sw : 0, height = elem.data.sh ? elem.data.sh : 0, name = elem.data.nm, loopIn, loop_in, loopOut, loop_out, smooth, toWorld, fromWorld, fromComp, toComp, fromCompToSurface, position, rotation, anchorPoint, scale, thisLayer, thisComp, mask, valueAtTime, velocityAtTime, __expression_functions = [], scoped_bm_rt;
                    if (data.xf) {
                        var i, len = data.xf.length;
                        for (i = 0; i < len; i += 1)
                            __expression_functions[i] = eval("(function(){ return " + data.xf[i] + "}())")
                    }
                    var expression_function = eval("[function _expression_function(){" + val + ";scoped_bm_rt=$bm_rt}]")[0]
                      , numKeys = property.kf ? data.k.length : 0
                      , active = !this.data || !0 !== this.data.hd
                      , wiggle = function(e, t) {
                        var i, a, n = this.pv.length ? this.pv.length : 1, r = createTypedArray("float32", n);
                        var o = Math.floor(5 * time);
                        for (i = 0,
                        a = 0; i < o; ) {
                            for (a = 0; a < n; a += 1)
                                r[a] += -t + 2 * t * BMMath.random();
                            i += 1
                        }
                        var s = 5 * time
                          , l = s - Math.floor(s)
                          , c = createTypedArray("float32", n);
                        if (n > 1) {
                            for (a = 0; a < n; a += 1)
                                c[a] = this.pv[a] + r[a] + (-t + 2 * t * BMMath.random()) * l;
                            return c
                        }
                        return this.pv + r[0] + (-t + 2 * t * BMMath.random()) * l
                    }
                    .bind(this);
                    function loopInDuration(e, t) {
                        return loopIn(e, t, !0)
                    }
                    function loopOutDuration(e, t) {
                        return loopOut(e, t, !0)
                    }
                    thisProperty.loopIn && (loopIn = thisProperty.loopIn.bind(thisProperty),
                    loop_in = loopIn),
                    thisProperty.loopOut && (loopOut = thisProperty.loopOut.bind(thisProperty),
                    loop_out = loopOut),
                    thisProperty.smooth && (smooth = thisProperty.smooth.bind(thisProperty)),
                    this.getValueAtTime && (valueAtTime = this.getValueAtTime.bind(this)),
                    this.getVelocityAtTime && (velocityAtTime = this.getVelocityAtTime.bind(this));
                    var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface), time, velocity, value, text, textIndex, textTotal, selectorValue;
                    function lookAt(e, t) {
                        var i = [t[0] - e[0], t[1] - e[1], t[2] - e[2]]
                          , a = Math.atan2(i[0], Math.sqrt(i[1] * i[1] + i[2] * i[2])) / degToRads;
                        return [-Math.atan2(i[1], i[2]) / degToRads, a, 0]
                    }
                    function easeOut(e, t, i, a, n) {
                        return applyEase(easeOutBez, e, t, i, a, n)
                    }
                    function easeIn(e, t, i, a, n) {
                        return applyEase(easeInBez, e, t, i, a, n)
                    }
                    function ease(e, t, i, a, n) {
                        return applyEase(easeInOutBez, e, t, i, a, n)
                    }
                    function applyEase(e, t, i, a, n, r) {
                        void 0 === n ? (n = i,
                        r = a) : t = (t - i) / (a - i);
                        var o = e(t = t > 1 ? 1 : t < 0 ? 0 : t);
                        if ($bm_isInstanceOfArray(n)) {
                            var s, l = n.length, c = createTypedArray("float32", l);
                            for (s = 0; s < l; s += 1)
                                c[s] = (r[s] - n[s]) * o + n[s];
                            return c
                        }
                        return (r - n) * o + n
                    }
                    function nearestKey(e) {
                        var t, i, a, n = data.k.length;
                        if (data.k.length && "number" !== typeof data.k[0])
                            if (i = -1,
                            (e *= elem.comp.globalData.frameRate) < data.k[0].t)
                                i = 1,
                                a = data.k[0].t;
                            else {
                                for (t = 0; t < n - 1; t += 1) {
                                    if (e === data.k[t].t) {
                                        i = t + 1,
                                        a = data.k[t].t;
                                        break
                                    }
                                    if (e > data.k[t].t && e < data.k[t + 1].t) {
                                        e - data.k[t].t > data.k[t + 1].t - e ? (i = t + 2,
                                        a = data.k[t + 1].t) : (i = t + 1,
                                        a = data.k[t].t);
                                        break
                                    }
                                }
                                -1 === i && (i = t + 1,
                                a = data.k[t].t)
                            }
                        else
                            i = 0,
                            a = 0;
                        var r = {};
                        return r.index = i,
                        r.time = a / elem.comp.globalData.frameRate,
                        r
                    }
                    function key(e) {
                        var t, i, a, n;
                        if (!data.k.length || "number" === typeof data.k[0])
                            throw new Error("The property has no keyframe at index " + e);
                        for (e -= 1,
                        t = {
                            time: data.k[e].t / elem.comp.globalData.frameRate,
                            value: []
                        },
                        a = (n = e !== data.k.length - 1 || data.k[e].h ? data.k[e].s : data.k[e].s || 0 === data.k[e].s ? data.k[e - 1].s : data.k[e].e).length,
                        i = 0; i < a; i += 1)
                            t[i] = n[i],
                            t.value[i] = n[i];
                        return t
                    }
                    function framesToTime(e, t) {
                        return t || (t = elem.comp.globalData.frameRate),
                        e / t
                    }
                    function timeToFrames(e, t) {
                        return e || 0 === e || (e = time),
                        t || (t = elem.comp.globalData.frameRate),
                        e * t
                    }
                    function seedRandom(e) {
                        BMMath.seedrandom(randSeed + e)
                    }
                    function sourceRectAtTime() {
                        return elem.sourceRectAtTime()
                    }
                    function substring(e, t) {
                        return "string" === typeof value ? void 0 === t ? value.substring(e) : value.substring(e, t) : ""
                    }
                    function substr(e, t) {
                        return "string" === typeof value ? void 0 === t ? value.substr(e) : value.substr(e, t) : ""
                    }
                    var index = elem.data.ind, hasParent = !(!elem.hierarchy || !elem.hierarchy.length), parent, randSeed = Math.floor(1e6 * Math.random()), globalData = elem.globalData;
                    function executeExpression(e) {
                        return value = e,
                        _needsRandom && seedRandom(randSeed),
                        this.frameExpressionId === elem.globalData.frameId && "textSelector" !== this.propType ? value : ("textSelector" === this.propType && (textIndex = this.textIndex,
                        textTotal = this.textTotal,
                        selectorValue = this.selectorValue),
                        thisLayer || (text = elem.layerInterface.text,
                        thisLayer = elem.layerInterface,
                        thisComp = elem.comp.compInterface,
                        toWorld = thisLayer.toWorld.bind(thisLayer),
                        fromWorld = thisLayer.fromWorld.bind(thisLayer),
                        fromComp = thisLayer.fromComp.bind(thisLayer),
                        toComp = thisLayer.toComp.bind(thisLayer),
                        mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null,
                        fromCompToSurface = fromComp),
                        transform || (transform = elem.layerInterface("ADBE Transform Group"),
                        $bm_transform = transform,
                        transform && (anchorPoint = transform.anchorPoint)),
                        4 !== elemType || content || (content = thisLayer("ADBE Root Vectors Group")),
                        effect || (effect = thisLayer(4)),
                        (hasParent = !(!elem.hierarchy || !elem.hierarchy.length)) && !parent && (parent = elem.hierarchy[0].layerInterface),
                        time = this.comp.renderedFrame / this.comp.globalData.frameRate,
                        needsVelocity && (velocity = velocityAtTime(time)),
                        expression_function(),
                        this.frameExpressionId = elem.globalData.frameId,
                        "shape" === scoped_bm_rt.propType && (scoped_bm_rt = scoped_bm_rt.v),
                        scoped_bm_rt)
                    }
                    return executeExpression
                }
                return ob.initiateExpression = initiateExpression,
                ob
            }()
              , expressionHelpers = function() {
                return {
                    searchExpressions: function(e, t, i) {
                        t.x && (i.k = !0,
                        i.x = !0,
                        i.initiateExpression = ExpressionManager.initiateExpression,
                        i.effectsSequence.push(i.initiateExpression(e, t, i).bind(i)))
                    },
                    getSpeedAtTime: function(e) {
                        var t = this.getValueAtTime(e)
                          , i = this.getValueAtTime(e + -.01)
                          , a = 0;
                        if (t.length) {
                            var n;
                            for (n = 0; n < t.length; n += 1)
                                a += Math.pow(i[n] - t[n], 2);
                            a = 100 * Math.sqrt(a)
                        } else
                            a = 0;
                        return a
                    },
                    getVelocityAtTime: function(e) {
                        if (void 0 !== this.vel)
                            return this.vel;
                        var t, i, a = this.getValueAtTime(e), n = this.getValueAtTime(e + -.001);
                        if (a.length)
                            for (t = createTypedArray("float32", a.length),
                            i = 0; i < a.length; i += 1)
                                t[i] = (n[i] - a[i]) / -.001;
                        else
                            t = (n - a) / -.001;
                        return t
                    },
                    getValueAtTime: function(e) {
                        return e *= this.elem.globalData.frameRate,
                        (e -= this.offsetTime) !== this._cachingAtTime.lastFrame && (this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < e ? this._cachingAtTime.lastIndex : 0,
                        this._cachingAtTime.value = this.interpolateValue(e, this._cachingAtTime),
                        this._cachingAtTime.lastFrame = e),
                        this._cachingAtTime.value
                    },
                    getStaticValueAtTime: function() {
                        return this.pv
                    },
                    setGroupProperty: function(e) {
                        this.propertyGroup = e
                    }
                }
            }();
            !function() {
                function e(e, t, i) {
                    if (!this.k || !this.keyframes)
                        return this.pv;
                    e = e ? e.toLowerCase() : "";
                    var a, n, r, o, s, l = this.comp.renderedFrame, c = this.keyframes, h = c[c.length - 1].t;
                    if (l <= h)
                        return this.pv;
                    if (i ? n = h - (a = t ? Math.abs(h - elem.comp.globalData.frameRate * t) : Math.max(0, h - this.elem.data.ip)) : ((!t || t > c.length - 1) && (t = c.length - 1),
                    a = h - (n = c[c.length - 1 - t].t)),
                    "pingpong" === e) {
                        if (Math.floor((l - n) / a) % 2 !== 0)
                            return this.getValueAtTime((a - (l - n) % a + n) / this.comp.globalData.frameRate, 0)
                    } else {
                        if ("offset" === e) {
                            var p = this.getValueAtTime(n / this.comp.globalData.frameRate, 0)
                              , d = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , u = this.getValueAtTime(((l - n) % a + n) / this.comp.globalData.frameRate, 0)
                              , g = Math.floor((l - n) / a);
                            if (this.pv.length) {
                                for (o = (s = new Array(p.length)).length,
                                r = 0; r < o; r += 1)
                                    s[r] = (d[r] - p[r]) * g + u[r];
                                return s
                            }
                            return (d - p) * g + u
                        }
                        if ("continue" === e) {
                            var m = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , f = this.getValueAtTime((h - .001) / this.comp.globalData.frameRate, 0);
                            if (this.pv.length) {
                                for (o = (s = new Array(m.length)).length,
                                r = 0; r < o; r += 1)
                                    s[r] = m[r] + (m[r] - f[r]) * ((l - h) / this.comp.globalData.frameRate) / 5e-4;
                                return s
                            }
                            return m + (l - h) / .001 * (m - f)
                        }
                    }
                    return this.getValueAtTime(((l - n) % a + n) / this.comp.globalData.frameRate, 0)
                }
                function t(e, t, i) {
                    if (!this.k)
                        return this.pv;
                    e = e ? e.toLowerCase() : "";
                    var a, n, r, o, s, l = this.comp.renderedFrame, c = this.keyframes, h = c[0].t;
                    if (l >= h)
                        return this.pv;
                    if (i ? n = h + (a = t ? Math.abs(elem.comp.globalData.frameRate * t) : Math.max(0, this.elem.data.op - h)) : ((!t || t > c.length - 1) && (t = c.length - 1),
                    a = (n = c[t].t) - h),
                    "pingpong" === e) {
                        if (Math.floor((h - l) / a) % 2 === 0)
                            return this.getValueAtTime(((h - l) % a + h) / this.comp.globalData.frameRate, 0)
                    } else {
                        if ("offset" === e) {
                            var p = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , d = this.getValueAtTime(n / this.comp.globalData.frameRate, 0)
                              , u = this.getValueAtTime((a - (h - l) % a + h) / this.comp.globalData.frameRate, 0)
                              , g = Math.floor((h - l) / a) + 1;
                            if (this.pv.length) {
                                for (o = (s = new Array(p.length)).length,
                                r = 0; r < o; r += 1)
                                    s[r] = u[r] - (d[r] - p[r]) * g;
                                return s
                            }
                            return u - (d - p) * g
                        }
                        if ("continue" === e) {
                            var m = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , f = this.getValueAtTime((h + .001) / this.comp.globalData.frameRate, 0);
                            if (this.pv.length) {
                                for (o = (s = new Array(m.length)).length,
                                r = 0; r < o; r += 1)
                                    s[r] = m[r] + (m[r] - f[r]) * (h - l) / .001;
                                return s
                            }
                            return m + (m - f) * (h - l) / .001
                        }
                    }
                    return this.getValueAtTime((a - (h - l) % a + h) / this.comp.globalData.frameRate, 0)
                }
                function i(e, t) {
                    if (!this.k)
                        return this.pv;
                    if (e = .5 * (e || .4),
                    (t = Math.floor(t || 5)) <= 1)
                        return this.pv;
                    var i, a, n = this.comp.renderedFrame / this.comp.globalData.frameRate, r = n - e, o = t > 1 ? (n + e - r) / (t - 1) : 1, s = 0, l = 0;
                    for (i = this.pv.length ? createTypedArray("float32", this.pv.length) : 0; s < t; ) {
                        if (a = this.getValueAtTime(r + s * o),
                        this.pv.length)
                            for (l = 0; l < this.pv.length; l += 1)
                                i[l] += a[l];
                        else
                            i += a;
                        s += 1
                    }
                    if (this.pv.length)
                        for (l = 0; l < this.pv.length; l += 1)
                            i[l] /= t;
                    else
                        i /= t;
                    return i
                }
                var a = TransformPropertyFactory.getTransformProperty;
                TransformPropertyFactory.getTransformProperty = function(e, t, i) {
                    var n = a(e, t, i);
                    return n.dynamicProperties.length ? n.getValueAtTime = function(e) {
                        console.warn("Transform at time not supported")
                    }
                    .bind(n) : n.getValueAtTime = function(e) {}
                    .bind(n),
                    n.setGroupProperty = expressionHelpers.setGroupProperty,
                    n
                }
                ;
                var n = PropertyFactory.getProp;
                PropertyFactory.getProp = function(a, r, o, s, l) {
                    var c = n(a, r, o, s, l);
                    c.kf ? c.getValueAtTime = expressionHelpers.getValueAtTime.bind(c) : c.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(c),
                    c.setGroupProperty = expressionHelpers.setGroupProperty,
                    c.loopOut = e,
                    c.loopIn = t,
                    c.smooth = i,
                    c.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(c),
                    c.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(c),
                    c.numKeys = 1 === r.a ? r.k.length : 0,
                    c.propertyIndex = r.ix;
                    var h = 0;
                    return 0 !== o && (h = createTypedArray("float32", 1 === r.a ? r.k[0].s.length : r.k.length)),
                    c._cachingAtTime = {
                        lastFrame: initialDefaultFrame,
                        lastIndex: 0,
                        value: h
                    },
                    expressionHelpers.searchExpressions(a, r, c),
                    c.k && l.addDynamicProperty(c),
                    c
                }
                ;
                var r = ShapePropertyFactory.getConstructorFunction()
                  , o = ShapePropertyFactory.getKeyframedConstructorFunction();
                function s() {}
                s.prototype = {
                    vertices: function(e, t) {
                        this.k && this.getValue();
                        var i = this.v;
                        void 0 !== t && (i = this.getValueAtTime(t, 0));
                        var a, n = i._length, r = i[e], o = i.v, s = createSizedArray(n);
                        for (a = 0; a < n; a += 1)
                            s[a] = "i" === e || "o" === e ? [r[a][0] - o[a][0], r[a][1] - o[a][1]] : [r[a][0], r[a][1]];
                        return s
                    },
                    points: function(e) {
                        return this.vertices("v", e)
                    },
                    inTangents: function(e) {
                        return this.vertices("i", e)
                    },
                    outTangents: function(e) {
                        return this.vertices("o", e)
                    },
                    isClosed: function() {
                        return this.v.c
                    },
                    pointOnPath: function(e, t) {
                        var i = this.v;
                        void 0 !== t && (i = this.getValueAtTime(t, 0)),
                        this._segmentsLength || (this._segmentsLength = bez.getSegmentsLength(i));
                        for (var a, n = this._segmentsLength, r = n.lengths, o = n.totalLength * e, s = 0, l = r.length, c = 0; s < l; ) {
                            if (c + r[s].addedLength > o) {
                                var h = s
                                  , p = i.c && s === l - 1 ? 0 : s + 1
                                  , d = (o - c) / r[s].addedLength;
                                a = bez.getPointInSegment(i.v[h], i.v[p], i.o[h], i.i[p], d, r[s]);
                                break
                            }
                            c += r[s].addedLength,
                            s += 1
                        }
                        return a || (a = i.c ? [i.v[0][0], i.v[0][1]] : [i.v[i._length - 1][0], i.v[i._length - 1][1]]),
                        a
                    },
                    vectorOnPath: function(e, t, i) {
                        e = 1 == e ? this.v.c ? 0 : .999 : e;
                        var a = this.pointOnPath(e, t)
                          , n = this.pointOnPath(e + .001, t)
                          , r = n[0] - a[0]
                          , o = n[1] - a[1]
                          , s = Math.sqrt(Math.pow(r, 2) + Math.pow(o, 2));
                        return 0 === s ? [0, 0] : "tangent" === i ? [r / s, o / s] : [-o / s, r / s]
                    },
                    tangentOnPath: function(e, t) {
                        return this.vectorOnPath(e, t, "tangent")
                    },
                    normalOnPath: function(e, t) {
                        return this.vectorOnPath(e, t, "normal")
                    },
                    setGroupProperty: expressionHelpers.setGroupProperty,
                    getValueAtTime: expressionHelpers.getStaticValueAtTime
                },
                extendPrototype([s], r),
                extendPrototype([s], o),
                o.prototype.getValueAtTime = function(e) {
                    return this._cachingAtTime || (this._cachingAtTime = {
                        shapeValue: shape_pool.clone(this.pv),
                        lastIndex: 0,
                        lastTime: initialDefaultFrame
                    }),
                    e *= this.elem.globalData.frameRate,
                    (e -= this.offsetTime) !== this._cachingAtTime.lastTime && (this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < e ? this._caching.lastIndex : 0,
                    this._cachingAtTime.lastTime = e,
                    this.interpolateShape(e, this._cachingAtTime.shapeValue, this._cachingAtTime)),
                    this._cachingAtTime.shapeValue
                }
                ,
                o.prototype.initiateExpression = ExpressionManager.initiateExpression;
                var l = ShapePropertyFactory.getShapeProp;
                ShapePropertyFactory.getShapeProp = function(e, t, i, a, n) {
                    var r = l(e, t, i, a, n);
                    return r.propertyIndex = t.ix,
                    r.lock = !1,
                    3 === i ? expressionHelpers.searchExpressions(e, t.pt, r) : 4 === i && expressionHelpers.searchExpressions(e, t.ks, r),
                    r.k && e.addDynamicProperty(r),
                    r
                }
            }(),
            function() {
                TextProperty.prototype.getExpressionValue = function(e, t) {
                    var i = this.calculateExpression(t);
                    if (e.t !== i) {
                        var a = {};
                        return this.copyData(a, e),
                        a.t = i.toString(),
                        a.__complete = !1,
                        a
                    }
                    return e
                }
                ,
                TextProperty.prototype.searchProperty = function() {
                    var e = this.searchKeyframes()
                      , t = this.searchExpressions();
                    return this.kf = e || t,
                    this.kf
                }
                ,
                TextProperty.prototype.searchExpressions = function() {
                    if (this.data.d.x)
                        return this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this),
                        this.addEffect(this.getExpressionValue.bind(this)),
                        !0
                }
            }();
            var ShapeExpressionInterface = function() {
                function e(e, p, d) {
                    var u, g = [], m = e ? e.length : 0;
                    for (u = 0; u < m; u += 1)
                        "gr" == e[u].ty ? g.push(t(e[u], p[u], d)) : "fl" == e[u].ty ? g.push(i(e[u], p[u], d)) : "st" == e[u].ty ? g.push(a(e[u], p[u], d)) : "tm" == e[u].ty ? g.push(n(e[u], p[u], d)) : "tr" == e[u].ty || ("el" == e[u].ty ? g.push(r(e[u], p[u], d)) : "sr" == e[u].ty ? g.push(o(e[u], p[u], d)) : "sh" == e[u].ty ? g.push(h(e[u], p[u], d)) : "rc" == e[u].ty ? g.push(s(e[u], p[u], d)) : "rd" == e[u].ty ? g.push(l(e[u], p[u], d)) : "rp" == e[u].ty && g.push(c(e[u], p[u], d)));
                    return g
                }
                function t(t, i, a) {
                    var n = function(e) {
                        switch (e) {
                        case "ADBE Vectors Group":
                        case "Contents":
                        case 2:
                            return n.content;
                        default:
                            return n.transform
                        }
                    };
                    n.propertyGroup = function(e) {
                        return 1 === e ? n : a(e - 1)
                    }
                    ;
                    var r = function(t, i, a) {
                        var n, r = function(e) {
                            for (var t = 0, i = n.length; t < i; ) {
                                if (n[t]._name === e || n[t].mn === e || n[t].propertyIndex === e || n[t].ix === e || n[t].ind === e)
                                    return n[t];
                                t += 1
                            }
                            if ("number" === typeof e)
                                return n[e - 1]
                        };
                        return r.propertyGroup = function(e) {
                            return 1 === e ? r : a(e - 1)
                        }
                        ,
                        n = e(t.it, i.it, r.propertyGroup),
                        r.numProperties = n.length,
                        r.propertyIndex = t.cix,
                        r._name = t.nm,
                        r
                    }(t, i, n.propertyGroup)
                      , o = function(e, t, i) {
                        function a(e) {
                            return 1 == e ? n : i(--e)
                        }
                        t.transform.mProps.o.setGroupProperty(a),
                        t.transform.mProps.p.setGroupProperty(a),
                        t.transform.mProps.a.setGroupProperty(a),
                        t.transform.mProps.s.setGroupProperty(a),
                        t.transform.mProps.r.setGroupProperty(a),
                        t.transform.mProps.sk && (t.transform.mProps.sk.setGroupProperty(a),
                        t.transform.mProps.sa.setGroupProperty(a));
                        function n(t) {
                            return e.a.ix === t || "Anchor Point" === t ? n.anchorPoint : e.o.ix === t || "Opacity" === t ? n.opacity : e.p.ix === t || "Position" === t ? n.position : e.r.ix === t || "Rotation" === t || "ADBE Vector Rotation" === t ? n.rotation : e.s.ix === t || "Scale" === t ? n.scale : e.sk && e.sk.ix === t || "Skew" === t ? n.skew : e.sa && e.sa.ix === t || "Skew Axis" === t ? n.skewAxis : void 0
                        }
                        return t.transform.op.setGroupProperty(a),
                        Object.defineProperties(n, {
                            opacity: {
                                get: ExpressionPropertyInterface(t.transform.mProps.o)
                            },
                            position: {
                                get: ExpressionPropertyInterface(t.transform.mProps.p)
                            },
                            anchorPoint: {
                                get: ExpressionPropertyInterface(t.transform.mProps.a)
                            },
                            scale: {
                                get: ExpressionPropertyInterface(t.transform.mProps.s)
                            },
                            rotation: {
                                get: ExpressionPropertyInterface(t.transform.mProps.r)
                            },
                            skew: {
                                get: ExpressionPropertyInterface(t.transform.mProps.sk)
                            },
                            skewAxis: {
                                get: ExpressionPropertyInterface(t.transform.mProps.sa)
                            },
                            _name: {
                                value: e.nm
                            }
                        }),
                        n.ty = "tr",
                        n.mn = e.mn,
                        n.propertyGroup = i,
                        n
                    }(t.it[t.it.length - 1], i.it[i.it.length - 1], n.propertyGroup);
                    return n.content = r,
                    n.transform = o,
                    Object.defineProperty(n, "_name", {
                        get: function() {
                            return t.nm
                        }
                    }),
                    n.numProperties = t.np,
                    n.propertyIndex = t.ix,
                    n.nm = t.nm,
                    n.mn = t.mn,
                    n
                }
                function i(e, t, i) {
                    function a(e) {
                        return "Color" === e || "color" === e ? a.color : "Opacity" === e || "opacity" === e ? a.opacity : void 0
                    }
                    return Object.defineProperties(a, {
                        color: {
                            get: ExpressionPropertyInterface(t.c)
                        },
                        opacity: {
                            get: ExpressionPropertyInterface(t.o)
                        },
                        _name: {
                            value: e.nm
                        },
                        mn: {
                            value: e.mn
                        }
                    }),
                    t.c.setGroupProperty(i),
                    t.o.setGroupProperty(i),
                    a
                }
                function a(e, t, i) {
                    function a(e) {
                        return 1 === e ? ob : i(e - 1)
                    }
                    function n(e) {
                        return 1 === e ? l : a(e - 1)
                    }
                    function r(i) {
                        Object.defineProperty(l, e.d[i].nm, {
                            get: ExpressionPropertyInterface(t.d.dataProps[i].p)
                        })
                    }
                    var o, s = e.d ? e.d.length : 0, l = {};
                    for (o = 0; o < s; o += 1)
                        r(o),
                        t.d.dataProps[o].p.setGroupProperty(n);
                    function c(e) {
                        return "Color" === e || "color" === e ? c.color : "Opacity" === e || "opacity" === e ? c.opacity : "Stroke Width" === e || "stroke width" === e ? c.strokeWidth : void 0
                    }
                    return Object.defineProperties(c, {
                        color: {
                            get: ExpressionPropertyInterface(t.c)
                        },
                        opacity: {
                            get: ExpressionPropertyInterface(t.o)
                        },
                        strokeWidth: {
                            get: ExpressionPropertyInterface(t.w)
                        },
                        dash: {
                            get: function() {
                                return l
                            }
                        },
                        _name: {
                            value: e.nm
                        },
                        mn: {
                            value: e.mn
                        }
                    }),
                    t.c.setGroupProperty(a),
                    t.o.setGroupProperty(a),
                    t.w.setGroupProperty(a),
                    c
                }
                function n(e, t, i) {
                    function a(e) {
                        return 1 == e ? n : i(--e)
                    }
                    function n(t) {
                        return t === e.e.ix || "End" === t || "end" === t ? n.end : t === e.s.ix ? n.start : t === e.o.ix ? n.offset : void 0
                    }
                    return n.propertyIndex = e.ix,
                    t.s.setGroupProperty(a),
                    t.e.setGroupProperty(a),
                    t.o.setGroupProperty(a),
                    n.propertyIndex = e.ix,
                    n.propertyGroup = i,
                    Object.defineProperties(n, {
                        start: {
                            get: ExpressionPropertyInterface(t.s)
                        },
                        end: {
                            get: ExpressionPropertyInterface(t.e)
                        },
                        offset: {
                            get: ExpressionPropertyInterface(t.o)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    n.mn = e.mn,
                    n
                }
                function r(e, t, i) {
                    function a(e) {
                        return 1 == e ? r : i(--e)
                    }
                    r.propertyIndex = e.ix;
                    var n = "tm" === t.sh.ty ? t.sh.prop : t.sh;
                    function r(t) {
                        return e.p.ix === t ? r.position : e.s.ix === t ? r.size : void 0
                    }
                    return n.s.setGroupProperty(a),
                    n.p.setGroupProperty(a),
                    Object.defineProperties(r, {
                        size: {
                            get: ExpressionPropertyInterface(n.s)
                        },
                        position: {
                            get: ExpressionPropertyInterface(n.p)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    r.mn = e.mn,
                    r
                }
                function o(e, t, i) {
                    function a(e) {
                        return 1 == e ? r : i(--e)
                    }
                    var n = "tm" === t.sh.ty ? t.sh.prop : t.sh;
                    function r(t) {
                        return e.p.ix === t ? r.position : e.r.ix === t ? r.rotation : e.pt.ix === t ? r.points : e.or.ix === t || "ADBE Vector Star Outer Radius" === t ? r.outerRadius : e.os.ix === t ? r.outerRoundness : !e.ir || e.ir.ix !== t && "ADBE Vector Star Inner Radius" !== t ? e.is && e.is.ix === t ? r.innerRoundness : void 0 : r.innerRadius
                    }
                    return r.propertyIndex = e.ix,
                    n.or.setGroupProperty(a),
                    n.os.setGroupProperty(a),
                    n.pt.setGroupProperty(a),
                    n.p.setGroupProperty(a),
                    n.r.setGroupProperty(a),
                    e.ir && (n.ir.setGroupProperty(a),
                    n.is.setGroupProperty(a)),
                    Object.defineProperties(r, {
                        position: {
                            get: ExpressionPropertyInterface(n.p)
                        },
                        rotation: {
                            get: ExpressionPropertyInterface(n.r)
                        },
                        points: {
                            get: ExpressionPropertyInterface(n.pt)
                        },
                        outerRadius: {
                            get: ExpressionPropertyInterface(n.or)
                        },
                        outerRoundness: {
                            get: ExpressionPropertyInterface(n.os)
                        },
                        innerRadius: {
                            get: ExpressionPropertyInterface(n.ir)
                        },
                        innerRoundness: {
                            get: ExpressionPropertyInterface(n.is)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    r.mn = e.mn,
                    r
                }
                function s(e, t, i) {
                    function a(e) {
                        return 1 == e ? r : i(--e)
                    }
                    var n = "tm" === t.sh.ty ? t.sh.prop : t.sh;
                    function r(t) {
                        return e.p.ix === t ? r.position : e.r.ix === t ? r.roundness : e.s.ix === t || "Size" === t || "ADBE Vector Rect Size" === t ? r.size : void 0
                    }
                    return r.propertyIndex = e.ix,
                    n.p.setGroupProperty(a),
                    n.s.setGroupProperty(a),
                    n.r.setGroupProperty(a),
                    Object.defineProperties(r, {
                        position: {
                            get: ExpressionPropertyInterface(n.p)
                        },
                        roundness: {
                            get: ExpressionPropertyInterface(n.r)
                        },
                        size: {
                            get: ExpressionPropertyInterface(n.s)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    r.mn = e.mn,
                    r
                }
                function l(e, t, i) {
                    var a = t;
                    function n(t) {
                        if (e.r.ix === t || "Round Corners 1" === t)
                            return n.radius
                    }
                    return n.propertyIndex = e.ix,
                    a.rd.setGroupProperty(function(e) {
                        return 1 == e ? n : i(--e)
                    }),
                    Object.defineProperties(n, {
                        radius: {
                            get: ExpressionPropertyInterface(a.rd)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    n.mn = e.mn,
                    n
                }
                function c(e, t, i) {
                    function a(e) {
                        return 1 == e ? r : i(--e)
                    }
                    var n = t;
                    function r(t) {
                        return e.c.ix === t || "Copies" === t ? r.copies : e.o.ix === t || "Offset" === t ? r.offset : void 0
                    }
                    return r.propertyIndex = e.ix,
                    n.c.setGroupProperty(a),
                    n.o.setGroupProperty(a),
                    Object.defineProperties(r, {
                        copies: {
                            get: ExpressionPropertyInterface(n.c)
                        },
                        offset: {
                            get: ExpressionPropertyInterface(n.o)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    r.mn = e.mn,
                    r
                }
                function h(e, t, i) {
                    var a = t.sh;
                    function n(e) {
                        if ("Shape" === e || "shape" === e || "Path" === e || "path" === e || "ADBE Vector Shape" === e || 2 === e)
                            return n.path
                    }
                    return a.setGroupProperty(function(e) {
                        return 1 == e ? n : i(--e)
                    }),
                    Object.defineProperties(n, {
                        path: {
                            get: function() {
                                return a.k && a.getValue(),
                                a
                            }
                        },
                        shape: {
                            get: function() {
                                return a.k && a.getValue(),
                                a
                            }
                        },
                        _name: {
                            value: e.nm
                        },
                        ix: {
                            value: e.ix
                        },
                        mn: {
                            value: e.mn
                        }
                    }),
                    n
                }
                return function(t, i, a) {
                    var n;
                    function r(e) {
                        if ("number" === typeof e)
                            return n[e - 1];
                        for (var t = 0, i = n.length; t < i; ) {
                            if (n[t]._name === e)
                                return n[t];
                            t += 1
                        }
                    }
                    return r.propertyGroup = a,
                    n = e(t, i, r),
                    r.numProperties = n.length,
                    r
                }
            }()
              , TextExpressionInterface = function(e) {
                var t;
                function i() {}
                return Object.defineProperty(i, "sourceText", {
                    get: function() {
                        e.textProperty.getValue();
                        var i = e.textProperty.currentData.t;
                        return void 0 !== i && (e.textProperty.currentData.t = void 0,
                        (t = new String(i)).value = i || new String(i)),
                        t
                    }
                }),
                i
            }
              , LayerExpressionInterface = function() {
                function e(e, t) {
                    var i = new Matrix;
                    if (i.reset(),
                    this._elem.finalTransform.mProp.applyToMatrix(i),
                    this._elem.hierarchy && this._elem.hierarchy.length) {
                        var a, n = this._elem.hierarchy.length;
                        for (a = 0; a < n; a += 1)
                            this._elem.hierarchy[a].finalTransform.mProp.applyToMatrix(i);
                        return i.applyToPointArray(e[0], e[1], e[2] || 0)
                    }
                    return i.applyToPointArray(e[0], e[1], e[2] || 0)
                }
                function t(e, t) {
                    var i = new Matrix;
                    if (i.reset(),
                    this._elem.finalTransform.mProp.applyToMatrix(i),
                    this._elem.hierarchy && this._elem.hierarchy.length) {
                        var a, n = this._elem.hierarchy.length;
                        for (a = 0; a < n; a += 1)
                            this._elem.hierarchy[a].finalTransform.mProp.applyToMatrix(i);
                        return i.inversePoint(e)
                    }
                    return i.inversePoint(e)
                }
                function i(e) {
                    var t = new Matrix;
                    if (t.reset(),
                    this._elem.finalTransform.mProp.applyToMatrix(t),
                    this._elem.hierarchy && this._elem.hierarchy.length) {
                        var i, a = this._elem.hierarchy.length;
                        for (i = 0; i < a; i += 1)
                            this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(t);
                        return t.inversePoint(e)
                    }
                    return t.inversePoint(e)
                }
                function a() {
                    return [1, 1, 1, 1]
                }
                return function(n) {
                    var r;
                    function o(e) {
                        switch (e) {
                        case "ADBE Root Vectors Group":
                        case "Contents":
                        case 2:
                            return o.shapeInterface;
                        case 1:
                        case 6:
                        case "Transform":
                        case "transform":
                        case "ADBE Transform Group":
                            return r;
                        case 4:
                        case "ADBE Effect Parade":
                        case "effects":
                        case "Effects":
                            return o.effect
                        }
                    }
                    o.toWorld = e,
                    o.fromWorld = t,
                    o.toComp = e,
                    o.fromComp = i,
                    o.sampleImage = a,
                    o.sourceRectAtTime = n.sourceRectAtTime.bind(n),
                    o._elem = n;
                    var s = getDescriptor(r = TransformExpressionInterface(n.finalTransform.mProp), "anchorPoint");
                    return Object.defineProperties(o, {
                        hasParent: {
                            get: function() {
                                return n.hierarchy.length
                            }
                        },
                        parent: {
                            get: function() {
                                return n.hierarchy[0].layerInterface
                            }
                        },
                        rotation: getDescriptor(r, "rotation"),
                        scale: getDescriptor(r, "scale"),
                        position: getDescriptor(r, "position"),
                        opacity: getDescriptor(r, "opacity"),
                        anchorPoint: s,
                        anchor_point: s,
                        transform: {
                            get: function() {
                                return r
                            }
                        },
                        active: {
                            get: function() {
                                return n.isInRange
                            }
                        }
                    }),
                    o.startTime = n.data.st,
                    o.index = n.data.ind,
                    o.source = n.data.refId,
                    o.height = 0 === n.data.ty ? n.data.h : 100,
                    o.width = 0 === n.data.ty ? n.data.w : 100,
                    o.inPoint = n.data.ip / n.comp.globalData.frameRate,
                    o.outPoint = n.data.op / n.comp.globalData.frameRate,
                    o._name = n.data.nm,
                    o.registerMaskInterface = function(e) {
                        o.mask = new MaskManagerInterface(e,n)
                    }
                    ,
                    o.registerEffectsInterface = function(e) {
                        o.effect = e
                    }
                    ,
                    o
                }
            }()
              , CompExpressionInterface = function(e) {
                function t(t) {
                    for (var i = 0, a = e.layers.length; i < a; ) {
                        if (e.layers[i].nm === t || e.layers[i].ind === t)
                            return e.elements[i].layerInterface;
                        i += 1
                    }
                    return null
                }
                return Object.defineProperty(t, "_name", {
                    value: e.data.nm
                }),
                t.layer = t,
                t.pixelAspect = 1,
                t.height = e.data.h || e.globalData.compSize.h,
                t.width = e.data.w || e.globalData.compSize.w,
                t.pixelAspect = 1,
                t.frameDuration = 1 / e.globalData.frameRate,
                t.displayStartTime = 0,
                t.numLayers = e.layers.length,
                t
            }
              , TransformExpressionInterface = function(e) {
                function t(e) {
                    switch (e) {
                    case "scale":
                    case "Scale":
                    case "ADBE Scale":
                    case 6:
                        return t.scale;
                    case "rotation":
                    case "Rotation":
                    case "ADBE Rotation":
                    case "ADBE Rotate Z":
                    case 10:
                        return t.rotation;
                    case "ADBE Rotate X":
                        return t.xRotation;
                    case "ADBE Rotate Y":
                        return t.yRotation;
                    case "position":
                    case "Position":
                    case "ADBE Position":
                    case 2:
                        return t.position;
                    case "ADBE Position_0":
                        return t.xPosition;
                    case "ADBE Position_1":
                        return t.yPosition;
                    case "ADBE Position_2":
                        return t.zPosition;
                    case "anchorPoint":
                    case "AnchorPoint":
                    case "Anchor Point":
                    case "ADBE AnchorPoint":
                    case 1:
                        return t.anchorPoint;
                    case "opacity":
                    case "Opacity":
                    case 11:
                        return t.opacity
                    }
                }
                if (Object.defineProperty(t, "rotation", {
                    get: ExpressionPropertyInterface(e.r || e.rz)
                }),
                Object.defineProperty(t, "zRotation", {
                    get: ExpressionPropertyInterface(e.rz || e.r)
                }),
                Object.defineProperty(t, "xRotation", {
                    get: ExpressionPropertyInterface(e.rx)
                }),
                Object.defineProperty(t, "yRotation", {
                    get: ExpressionPropertyInterface(e.ry)
                }),
                Object.defineProperty(t, "scale", {
                    get: ExpressionPropertyInterface(e.s)
                }),
                e.p)
                    var i = ExpressionPropertyInterface(e.p);
                return Object.defineProperty(t, "position", {
                    get: function() {
                        return e.p ? i() : [e.px.v, e.py.v, e.pz ? e.pz.v : 0]
                    }
                }),
                Object.defineProperty(t, "xPosition", {
                    get: ExpressionPropertyInterface(e.px)
                }),
                Object.defineProperty(t, "yPosition", {
                    get: ExpressionPropertyInterface(e.py)
                }),
                Object.defineProperty(t, "zPosition", {
                    get: ExpressionPropertyInterface(e.pz)
                }),
                Object.defineProperty(t, "anchorPoint", {
                    get: ExpressionPropertyInterface(e.a)
                }),
                Object.defineProperty(t, "opacity", {
                    get: ExpressionPropertyInterface(e.o)
                }),
                Object.defineProperty(t, "skew", {
                    get: ExpressionPropertyInterface(e.sk)
                }),
                Object.defineProperty(t, "skewAxis", {
                    get: ExpressionPropertyInterface(e.sa)
                }),
                Object.defineProperty(t, "orientation", {
                    get: ExpressionPropertyInterface(e.or)
                }),
                t
            }
              , ProjectInterface = function() {
                function e(e) {
                    this.compositions.push(e)
                }
                return function() {
                    function t(e) {
                        for (var t = 0, i = this.compositions.length; t < i; ) {
                            if (this.compositions[t].data && this.compositions[t].data.nm === e)
                                return this.compositions[t].prepareFrame && this.compositions[t].data.xt && this.compositions[t].prepareFrame(this.currentFrame),
                                this.compositions[t].compInterface;
                            t += 1
                        }
                    }
                    return t.compositions = [],
                    t.currentFrame = 0,
                    t.registerComposition = e,
                    t
                }
            }()
              , EffectsExpressionInterface = function() {
                function e(i, a, n, r) {
                    var o, s = [], l = i.ef.length;
                    for (o = 0; o < l; o += 1)
                        5 === i.ef[o].ty ? s.push(e(i.ef[o], a.effectElements[o], a.effectElements[o].propertyGroup, r)) : s.push(t(a.effectElements[o], i.ef[o].ty, r, c));
                    function c(e) {
                        return 1 === e ? h : n(e - 1)
                    }
                    var h = function(e) {
                        for (var t = i.ef, a = 0, n = t.length; a < n; ) {
                            if (e === t[a].nm || e === t[a].mn || e === t[a].ix)
                                return 5 === t[a].ty ? s[a] : s[a]();
                            a += 1
                        }
                        return s[0]()
                    };
                    return h.propertyGroup = c,
                    "ADBE Color Control" === i.mn && Object.defineProperty(h, "color", {
                        get: function() {
                            return s[0]()
                        }
                    }),
                    Object.defineProperty(h, "numProperties", {
                        get: function() {
                            return i.np
                        }
                    }),
                    h.active = h.enabled = 0 !== i.en,
                    h
                }
                function t(e, t, i, a) {
                    var n = ExpressionPropertyInterface(e.p);
                    return e.p.setGroupProperty && e.p.setGroupProperty(a),
                    function() {
                        return 10 === t ? i.comp.compInterface(e.p.v) : n()
                    }
                }
                return {
                    createEffectsInterface: function(t, i) {
                        if (t.effectsManager) {
                            var a, n = [], r = t.data.ef, o = t.effectsManager.effectElements.length;
                            for (a = 0; a < o; a += 1)
                                n.push(e(r[a], t.effectsManager.effectElements[a], i, t));
                            return function(e) {
                                for (var i = t.data.ef || [], a = 0, r = i.length; a < r; ) {
                                    if (e === i[a].nm || e === i[a].mn || e === i[a].ix)
                                        return n[a];
                                    a += 1
                                }
                            }
                        }
                    }
                }
            }()
              , MaskManagerInterface = function() {
                function e(e, t) {
                    this._mask = e,
                    this._data = t
                }
                Object.defineProperty(e.prototype, "maskPath", {
                    get: function() {
                        return this._mask.prop.k && this._mask.prop.getValue(),
                        this._mask.prop
                    }
                }),
                Object.defineProperty(e.prototype, "maskOpacity", {
                    get: function() {
                        return this._mask.op.k && this._mask.op.getValue(),
                        100 * this._mask.op.v
                    }
                });
                return function(t, i) {
                    var a, n = createSizedArray(t.viewData.length), r = t.viewData.length;
                    for (a = 0; a < r; a += 1)
                        n[a] = new e(t.viewData[a],t.masksProperties[a]);
                    return function(e) {
                        for (a = 0; a < r; ) {
                            if (t.masksProperties[a].nm === e)
                                return n[a];
                            a += 1
                        }
                    }
                }
            }()
              , ExpressionPropertyInterface = function() {
                var e = {
                    pv: 0,
                    v: 0,
                    mult: 1
                }
                  , t = {
                    pv: [0, 0, 0],
                    v: [0, 0, 0],
                    mult: 1
                };
                function i(e, t, i) {
                    Object.defineProperty(e, "velocity", {
                        get: function() {
                            return t.getVelocityAtTime(t.comp.currentFrame)
                        }
                    }),
                    e.numKeys = t.keyframes ? t.keyframes.length : 0,
                    e.key = function(a) {
                        if (e.numKeys) {
                            var n = "";
                            n = "s"in t.keyframes[a - 1] ? t.keyframes[a - 1].s : "e"in t.keyframes[a - 2] ? t.keyframes[a - 2].e : t.keyframes[a - 2].s;
                            var r = "unidimensional" === i ? new Number(n) : Object.assign({}, n);
                            return r.time = t.keyframes[a - 1].t / t.elem.comp.globalData.frameRate,
                            r
                        }
                        return 0
                    }
                    ,
                    e.valueAtTime = t.getValueAtTime,
                    e.speedAtTime = t.getSpeedAtTime,
                    e.velocityAtTime = t.getVelocityAtTime,
                    e.propertyGroup = t.propertyGroup
                }
                function a() {
                    return e
                }
                return function(n) {
                    return n ? "unidimensional" === n.propType ? function(t) {
                        t && "pv"in t || (t = e);
                        var a = 1 / t.mult
                          , n = t.pv * a
                          , r = new Number(n);
                        return r.value = n,
                        i(r, t, "unidimensional"),
                        function() {
                            return t.k && t.getValue(),
                            n = t.v * a,
                            r.value !== n && ((r = new Number(n)).value = n,
                            i(r, t, "unidimensional")),
                            r
                        }
                    }(n) : function(e) {
                        e && "pv"in e || (e = t);
                        var a = 1 / e.mult
                          , n = e.pv.length
                          , r = createTypedArray("float32", n)
                          , o = createTypedArray("float32", n);
                        return r.value = o,
                        i(r, e, "multidimensional"),
                        function() {
                            e.k && e.getValue();
                            for (var t = 0; t < n; t += 1)
                                r[t] = o[t] = e.v[t] * a;
                            return r
                        }
                    }(n) : a
                }
            }();
            function SliderEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 0, 0, i)
            }
            function AngleEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 0, 0, i)
            }
            function ColorEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 1, 0, i)
            }
            function PointEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 1, 0, i)
            }
            function LayerIndexEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 0, 0, i)
            }
            function MaskIndexEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 0, 0, i)
            }
            function CheckboxEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 0, 0, i)
            }
            function NoValueEffect() {
                this.p = {}
            }
            function EffectsManager() {}
            function EffectsManager(e, t) {
                var i = e.ef || [];
                this.effectElements = [];
                var a, n, r = i.length;
                for (a = 0; a < r; a++)
                    n = new GroupEffect(i[a],t),
                    this.effectElements.push(n)
            }
            function GroupEffect(e, t) {
                this.init(e, t)
            }
            !function() {
                var e = function() {
                    function e(e, t) {
                        return this.textIndex = e + 1,
                        this.textTotal = t,
                        this.v = this.getValue() * this.mult,
                        this.v
                    }
                    return function(t, i) {
                        this.pv = 1,
                        this.comp = t.comp,
                        this.elem = t,
                        this.mult = .01,
                        this.propType = "textSelector",
                        this.textTotal = i.totalChars,
                        this.selectorValue = 100,
                        this.lastValue = [1, 1, 1],
                        this.k = !0,
                        this.x = !0,
                        this.getValue = ExpressionManager.initiateExpression.bind(this)(t, i, this),
                        this.getMult = e,
                        this.getVelocityAtTime = expressionHelpers.getVelocityAtTime,
                        this.kf ? this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this) : this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this),
                        this.setGroupProperty = expressionHelpers.setGroupProperty
                    }
                }()
                  , t = TextSelectorProp.getTextSelectorProp;
                TextSelectorProp.getTextSelectorProp = function(i, a, n) {
                    return 1 === a.t ? new e(i,a,n) : t(i, a, n)
                }
            }(),
            extendPrototype([DynamicPropertyContainer], GroupEffect),
            GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties,
            GroupEffect.prototype.init = function(e, t) {
                this.data = e,
                this.effectElements = [],
                this.initDynamicPropertyContainer(t);
                var i, a, n = this.data.ef.length, r = this.data.ef;
                for (i = 0; i < n; i += 1) {
                    switch (a = null,
                    r[i].ty) {
                    case 0:
                        a = new SliderEffect(r[i],t,this);
                        break;
                    case 1:
                        a = new AngleEffect(r[i],t,this);
                        break;
                    case 2:
                        a = new ColorEffect(r[i],t,this);
                        break;
                    case 3:
                        a = new PointEffect(r[i],t,this);
                        break;
                    case 4:
                    case 7:
                        a = new CheckboxEffect(r[i],t,this);
                        break;
                    case 10:
                        a = new LayerIndexEffect(r[i],t,this);
                        break;
                    case 11:
                        a = new MaskIndexEffect(r[i],t,this);
                        break;
                    case 5:
                        a = new EffectsManager(r[i],t,this);
                        break;
                    default:
                        a = new NoValueEffect(r[i],t,this)
                    }
                    a && this.effectElements.push(a)
                }
            }
            ;
            var lottiejs = {}
              , _isFrozen = !1;
            function setLocationHref(e) {
                locationHref = e
            }
            function searchAnimations() {
                !0 === standalone ? animationManager.searchAnimations(animationData, standalone, renderer) : animationManager.searchAnimations()
            }
            function setSubframeRendering(e) {
                subframeEnabled = e
            }
            function loadAnimation(e) {
                return !0 === standalone && (e.animationData = JSON.parse(animationData)),
                animationManager.loadAnimation(e)
            }
            function setQuality(e) {
                if ("string" === typeof e)
                    switch (e) {
                    case "high":
                        defaultCurveSegments = 200;
                        break;
                    case "medium":
                        defaultCurveSegments = 50;
                        break;
                    case "low":
                        defaultCurveSegments = 10
                    }
                else
                    !isNaN(e) && e > 1 && (defaultCurveSegments = e);
                roundValues(!(defaultCurveSegments >= 50))
            }
            function inBrowser() {
                return "undefined" !== typeof navigator
            }
            function installPlugin(e, t) {
                "expressions" === e && (expressionsPlugin = t)
            }
            function getFactory(e) {
                switch (e) {
                case "propertyFactory":
                    return PropertyFactory;
                case "shapePropertyFactory":
                    return ShapePropertyFactory;
                case "matrix":
                    return Matrix
                }
            }
            function checkReady() {
                "complete" === document.readyState && (clearInterval(readyStateCheckInterval),
                searchAnimations())
            }
            function getQueryVariable(e) {
                for (var t = queryString.split("&"), i = 0; i < t.length; i++) {
                    var a = t[i].split("=");
                    if (decodeURIComponent(a[0]) == e)
                        return decodeURIComponent(a[1])
                }
            }
            lottiejs.play = animationManager.play,
            lottiejs.pause = animationManager.pause,
            lottiejs.setLocationHref = setLocationHref,
            lottiejs.togglePause = animationManager.togglePause,
            lottiejs.setSpeed = animationManager.setSpeed,
            lottiejs.setDirection = animationManager.setDirection,
            lottiejs.stop = animationManager.stop,
            lottiejs.searchAnimations = searchAnimations,
            lottiejs.registerAnimation = animationManager.registerAnimation,
            lottiejs.loadAnimation = loadAnimation,
            lottiejs.setSubframeRendering = setSubframeRendering,
            lottiejs.resize = animationManager.resize,
            lottiejs.goToAndStop = animationManager.goToAndStop,
            lottiejs.destroy = animationManager.destroy,
            lottiejs.setQuality = setQuality,
            lottiejs.inBrowser = inBrowser,
            lottiejs.installPlugin = installPlugin,
            lottiejs.freeze = animationManager.freeze,
            lottiejs.unfreeze = animationManager.unfreeze,
            lottiejs.getRegisteredAnimations = animationManager.getRegisteredAnimations,
            lottiejs.__getFactory = getFactory,
            lottiejs.version = "5.5.4";
            var standalone = "__[STANDALONE]__"
              , animationData = "__[ANIMATIONDATA]__"
              , renderer = "";
            if (standalone) {
                var scripts = document.getElementsByTagName("script")
                  , index = scripts.length - 1
                  , myScript = scripts[index] || {
                    src: ""
                }
                  , queryString = myScript.src.replace(/^[^\?]+\??/, "");
                renderer = getQueryVariable("renderer")
            }
            var readyStateCheckInterval = setInterval(checkReady, 100);
            return lottiejs
        }
        ,
        void 0 === (__WEBPACK_AMD_DEFINE_RESULT__ = function() {
            return factory(root)
        }
        .call(exports, __webpack_require__, exports, module)) || (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))
    },
    1597: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = o.a.Model.extend({
            maxPowerWatts: 2e3,
            numberOfPowerZones: 7,
            changedSports: [],
            propertiesNames: {
                functionalThresholdPower: "functionalThresholdPower"
            },
            url: function() {
                return "/modern/proxy/biometric-service/powerZones/all"
            },
            initialize: function() {
                this.currentDeviceSupportedZones = ["DEFAULT"],
                this._resetChangedSports()
            },
            save: function(e, t) {
                if (!this.changedSports.length)
                    return !0;
                var i = this
                  , a = {
                    url: this.url(),
                    contentType: "application/json; charset=UTF-8",
                    type: "PUT",
                    data: JSON.stringify(this.changedSports),
                    success: function() {
                        return i._resetChangedSports(),
                        !0
                    },
                    error: function() {
                        return i._resetChangedSports(),
                        !1
                    }
                };
                o.a.Model.prototype.save.call(this, e, a)
            },
            remove: function(e) {
                var t = this.findBySport(e);
                this._updateChangedSports(t, "DELETED");
                var i = this.findKey(function(t) {
                    return t.sport === e
                });
                i && delete this.attributes[i]
            },
            replacePowerZones: function(e, t, i) {
                var a = this.findKey(function(t) {
                    return t.sport === e.sport
                });
                this._updateChangedSports(e, i ? "NEW" : "CHANGED"),
                a ? this.attributes[a] = e : t && (this.attributes[Object.keys(this.attributes).length] = e)
            },
            sync: function(e, t, i) {
                return "read" === e ? i.url = "/modern/proxy/biometric-service/powerZones/sports/all" : "create" === e && (e = "update"),
                o.a.sync(e, t, i)
            },
            findKey: function(e) {
                var t, i = this;
                return Object.keys(this.attributes).forEach(function(a, n) {
                    i.attributes[a] && e(i.attributes[a]) && (t = a)
                }),
                t
            },
            findBySport: function(e) {
                var t, i = this.findKey(function(t) {
                    return t && t.sport === e
                });
                return i && (t = this.attributes[i]),
                t
            },
            add: function(e) {
                this.replacePowerZones(e, !0, !0)
            },
            _updateChangedSports: function(e, t) {
                var i = n.a.findIndex(this.changedSports, function(t) {
                    return t.sport === e.sport
                });
                -1 !== i ? "NEW" === t && "DELETED" === this.changedSports[i].changeState ? (e.changeState = "CHANGED",
                this.changedSports[i] = e) : "DELETED" === t && "NEW" === this.changedSports[i].changeState ? this.changedSports.splice(i, 1) : ("CHANGED" === t && "NEW" === this.changedSports[i].changeState ? e.changeState = "NEW" : e.changeState = t,
                this.changedSports[i] = e) : e && (e.changeState = t,
                this.changedSports.push(e))
            },
            _resetChangedSports: function() {
                this.changedSports = []
            },
            getData: function() {
                var e = []
                  , t = this;
                return Object.keys(this.attributes).forEach(function(i, a) {
                    t.attributes[i] && e.push(t.attributes[i])
                }),
                e
            },
            getZones: function(e) {
                var t = []
                  , i = this.findBySport(e)
                  , a = 1;
                return i && n.a.each(i, function(e, i) {
                    /zone/.test(i) && (t.push({
                        zoneNumber: a,
                        value: e
                    }),
                    a += 1)
                }),
                t
            },
            setFunctionalThresholdPower: function(e) {
                this.set(this.propertiesNames.functionalThresholdPower, e)
            },
            getFunctionalThresholdPower: function() {
                return this.get(this.propertiesNames.functionalThresholdPower)
            },
            getZoneName: function(e) {
                return "zone" + e + "Floor"
            },
            getZoneValue: function(e) {
                return this.get(this.getZoneName(e))
            },
            setZoneValue: function(e, t) {
                e < this.numberOfPowerZones + 1 && this.set(this.getZoneName(e), t)
            },
            getZonesWithCeilingDefined: function() {
                return [{
                    ceiling: this.get(this.getZoneName(2)),
                    display: "Zone 1",
                    floor: this.get(this.getZoneName(1)),
                    number: "1"
                }, {
                    ceiling: this.get(this.getZoneName(3)),
                    display: "Zone 2",
                    floor: this.get(this.getZoneName(2)),
                    number: "2"
                }, {
                    ceiling: this.get(this.getZoneName(4)),
                    display: "Zone 3",
                    floor: this.get(this.getZoneName(3)),
                    number: "3"
                }, {
                    ceiling: this.get(this.getZoneName(5)),
                    display: "Zone 4",
                    floor: this.get(this.getZoneName(4)),
                    number: "4"
                }, {
                    ceiling: this.get(this.getZoneName(6)),
                    display: "Zone 5",
                    floor: this.get(this.getZoneName(5)),
                    number: "5"
                }, {
                    ceiling: this.get(this.getZoneName(7)),
                    display: "Zone 6",
                    floor: this.get(this.getZoneName(6)),
                    number: "6"
                }, {
                    ceiling: 2e3,
                    display: "Zone 7",
                    floor: this.get(this.getZoneName(7)),
                    number: "7"
                }]
            },
            findZoneBySport: function(e) {
                var t, i = this.toJSON(), a = e ? e.toUpperCase() : "CYCLING";
                for (var n in i)
                    i[n] && i[n].sport === a && (t = i[n]);
                return t
            },
            setDeviceSupportedZones: function(e) {
                this.currentDeviceSupportedZones = this.currentDeviceSupportedZones.concat(e)
            }
        });
        t.a = s
    },
    1598: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = (i(25),
        i(192))
          , c = i(37)
          , h = i(202)
          , p = (i(168),
        i(20))
          , d = (i(35),
        i(447))
          , u = i(1688)
          , g = i.n(u)
          , m = o.a.View.extend({
            events: {
                "click .delete": "onDeleteCommentClicked"
            },
            initialize: function(e) {
                this.template = n.a.template(g.a),
                this.initializePageCommentView(e),
                this.showLikes = !!n.a.isUndefined(e.showLikes) || e.showLikes
            },
            initializePageCommentView: function(e) {
                if (this.conversation = e.conversation,
                !this.conversation)
                    throw "Conversation required in PageCommentView";
                this.conversationOwnerProfilePk = this.conversation.get("ownerProfilePk")
            },
            render: function() {
                var e = this.model.toJSON();
                e.nameDisplayValue = e.authorFullName || e.authorDisplayName,
                e.authorDisplayName === p.a.get("displayName") && (e.nameDisplayValue = p.a.get("fullName") || e.authorDisplayName),
                this.$el.addClass("media comment"),
                this.$el.html(this.template({
                    comment: e,
                    dayDisplay: l.a.howLongAgo(this.model.get("createDate")),
                    Localizer: s.a,
                    viewerProfilePk: p.a.get("profileId"),
                    conversationOwnerPk: this.conversationOwnerProfilePk,
                    url: c.default.url,
                    showLikes: this.showLikes
                })),
                this.showLikes && (this.likeView = new h.a({
                    el: this.$(".entry-like"),
                    uuid: this.model.get("conversationUuid"),
                    conversationUuid: this.model.get("conversationCommentUuid"),
                    liked: e.likedByUser,
                    numberOfLikes: e.numberOfLikes,
                    isComment: !0,
                    resourceType: this.conversation.get("resourceType")
                }),
                this.likeView.render())
            },
            onDeleteCommentClicked: function(e) {
                e.preventDefault();
                var t = this;
                new d.a({
                    modalTitle: s.a.localize("delete_comment"),
                    message: s.a.localize("delete_comment_confirmation"),
                    confirmationTextKey: "button_delete",
                    cancelTextKey: "button_cancel",
                    onSaveButtonClicked: function() {
                        return t.model.destroy(),
                        t.remove(),
                        !0
                    }
                }).render()
            }
        });
        m.Events = {
            COMMENT_DELETED: "COMMENT_DELETED"
        },
        t.a = m
    },
    1611: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return s
        }),
        i.d(t, "b", function() {
            return l
        });
        var a = i(83)
          , n = i(7)
          , r = i(1366)
          , o = i(21)
          , s = function(e, t) {
            var i = [];
            return e.forEach(function(e) {
                var n = a.a.parseISOUTC(e.startTimeGMT)
                  , s = a.a.parseISOUTC(e.endTimeGMT)
                  , l = r.a.findClosest(t.get("directTimestamp"), n)
                  , c = r.a.findClosest(t.get("directTimestamp"), s);
                i.push({
                    start: l,
                    end: c,
                    color: o.lightui_surface_4
                })
            }),
            i.map(function(e) {
                return {
                    from: e.start,
                    to: e.end,
                    color: e.color
                }
            })
        }
          , l = function(e, t, i, o, s, l, c, h) {
            var p = t.find(function(e) {
                var t = a.a.parseISOUTC(e.startTimeGMT)
                  , n = a.a.parseISOUTC(e.endTimeGMT)
                  , o = r.a.findClosest(i.get("directTimestamp"), t)
                  , l = r.a.findClosest(i.get("directTimestamp"), n)
                  , c = s ? s.x : 0;
                return c >= o && c <= l
            });
            return p ? "".concat(n.a.localize("surf_wave_label"), " ").concat(p.messageIndex + 1, "</br>").concat(o(l), " ").concat(c) : o(l) + " " + c
        }
    },
    1612: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(8)
              , r = i.n(n)
              , o = i(7)
              , s = i(1571)
              , l = i(83)
              , c = i(1294)
              , h = i(193)
              , p = i(1476)
              , d = i(1572)
              , u = i(1613)
              , g = i.n(u)
              , m = p.a.extend({
                events: {
                    "mouseleave .dropdown": "onLeaveDropdown",
                    "mouseover #power-go-btn": "onGoHovered",
                    "click .range-item": "onRangeItemClicked",
                    "click .range-item-custom": "onCustomRangeClicked",
                    "click .btn-form": "onGoBtnClicked",
                    "mouseleave .range-item-custom": "onLeaveCustom"
                },
                template: r.a.template(g.a),
                customClasses: "chart-max-avg-power",
                render: function() {
                    this.$el.addClass(this.customClasses),
                    this.$el.html(this.template({
                        Localizer: o.a,
                        avgValue: ""
                    })),
                    this.$el.show(),
                    this.duration = this.activitySummary.get("duration"),
                    this.disableRanges(this.duration),
                    this.numberValidator = new c.a({
                        typeFormat: "integer",
                        minValue: 1,
                        maxValue: 999,
                        element: this.$(".time-input-field"),
                        required: !0,
                        reporter: new h.a({
                            message: function(e, t) {
                                return o.a.localize("error.custom.max.avg.invalid")
                            },
                            position: "top",
                            element: this.$(".time-input-field"),
                            container: this.$el
                        })
                    })
                },
                disableRanges: function(t) {
                    var i, a = this;
                    this.$(".range-item").each(function() {
                        (i = e(this).attr("data-timerange")) > t && a.$('.range-item[data-timerange="' + i + '"]').hide()
                    })
                },
                reset: function() {
                    this.populateLabel(d.a.formatLabel(-1)),
                    this.$("#avg-power-range-selector-value").text(""),
                    this.trigger(p.a.Events.RangeReset)
                },
                onRangeItemClicked: function(e) {
                    e.preventDefault(),
                    this.$("li").removeClass("active");
                    var t = a(e.currentTarget)
                      , i = +t.attr("data-timeRange");
                    if (t.addClass("active"),
                    -1 !== i) {
                        var n = d.a.formatLabel(i);
                        this.populateLabel(n),
                        this.$(".custom-max-avg-power").hide(),
                        this.$(".custom-max-avg-power-toggle").show(),
                        this.fetchPower(i)
                    } else
                        this.reset()
                },
                populateLabel: function(e) {
                    this.$(".chart-header-item").html(e + '<i class="icon-pointer-down"></i>')
                },
                onCustomRangeClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation(),
                    this.$("li").removeClass("active"),
                    this.$(".custom-max-avg-power").show(),
                    this.$(".custom-max-avg-power-toggle").hide()
                },
                onGoBtnClicked: function(e) {
                    if (e.preventDefault(),
                    !this.$("#power-go-btn").is("[disabled=disabled]")) {
                        this.$(".dropdown").removeClass("open");
                        var t = this.$(".time-input-field").val();
                        if (t) {
                            var i = t = +t
                              , a = this.$(".min-sec-selection").val();
                            "min" === a && (i *= 60),
                            this.fetchPower(i),
                            this.populateLabel(d.a.getCustomDurationLabelValue(t, a))
                        }
                    }
                },
                fetchPower: function(e) {
                    var t = new s.a({
                        activityId: this.activitySummary.id,
                        duration: e,
                        startTimeMilliseconds: l.a.parseISOUTC(this.activitySummary.get("startTimeGMT")).getTime()
                    });
                    t.once("sync", this.onPowerFetched, this),
                    t.once("error", this.onPowerFetchedFailed, this),
                    t.fetch()
                },
                onPowerFetched: function(e) {
                    var t = e.getEndTime() - e.getStartTime() + 1;
                    "sumDuration" === this.xAxisType ? (this.$("#avg-power-range-selector-value").text(d.a.formatAvgTimeValue(e.getStartTime(), e.getEndTime(), e.getValue())),
                    this.trigger(p.a.Events.RangeSelected, e.getStartTime(), e.getEndTime(), t)) : (this.$("#avg-power-range-selector-value").text(d.a.formatAvgDistanceValue(e.getStartDistance(), e.getEndDistance(), e.getValue())),
                    this.trigger(p.a.Events.RangeSelected, e.getStartDistance(), e.getEndDistance(), t))
                },
                onPowerFetchedFailed: function() {
                    alert(o.a.localize("error_calculating_max_avg_power")),
                    this.reset()
                },
                setChartRangeSelector: function(e, t, i, a) {
                    if (a) {
                        var n, r = "sec";
                        d.a.isCustomRange(a) && a % 60 === 0 && (a /= 60,
                        r = "min"),
                        n = d.a.isCustomRange(a) ? d.a.getCustomDurationLabelValue(a, r) : d.a.formatLabel(a),
                        this.populateLabel(n),
                        -1 === a ? this.$("#avg-power-range-selector-value").text("") : "sumDuration" === this.xAxisType ? this.$("#avg-power-range-selector-value").text(d.a.formatAvgTimeValue(e, t, i)) : this.$("#avg-power-range-selector-value").text(d.a.formatAvgDistanceValue(e, t, i))
                    }
                },
                onLeaveDropdown: function() {
                    !this.$(".dropdown").hasClass("open") && this.numberValidator && this.numberValidator.clearReport()
                },
                onGoHovered: function() {
                    var e = +this.$(".time-input-field").val()
                      , t = this.$("select.input-small.min-sec-selection").val()
                      , i = this.$("#power-go-btn")
                      , a = 1;
                    "min" === t && (a = 60),
                    (e *= a) > this.duration ? this.numberValidator.report(e, c.a.Errors.OutOfRange) : this.numberValidator.clearReport(),
                    0 !== this.$(".tooltip-error:visible").length || 0 === e ? i.addClass("disabled").attr("disabled", "disabled") : i.removeClass("disabled").removeAttr("disabled")
                },
                onLeaveCustom: function() {
                    this.numberValidator && this.numberValidator.clearReport()
                }
            });
            t.a = m
        }
        ).call(this, i(9), i(9))
    },
    1613: function(e, t) {
        e.exports = '<div class="dropdown">\n    <button class="dropdown-toggle chart-header-item" data-toggle="dropdown">\n        <%- Localizer.localize(\'avg_power_max_avg\', Localizer.localize(\'avg_power_range_none\')) %><i class="icon-pointer-down"></i>\n    </button>\n    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">\n        <li data-timerange="-1" class="active range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_none\') %></a></li>\n        <li data-timerange="5" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_customsec\', 5) %></a></li>\n        <li data-timerange="60" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_custommin\', 1) %></a></li>\n        <li data-timerange="300" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_custommin\', 5) %></a></li>\n        <li data-timerange="1200" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_custommin\', 20) %></a></li>\n        <li class="divider"></li>\n        <li class="range-item-custom">\n            <a tabindex="-1" href="#" class="custom-max-avg-power-toggle"><%- Localizer.localize(\'avg_power_range_custom\') %></a>\n            <div class="custom-max-avg-power" style="display: none;">\n                <input type="text" class="input-mini time-input-field" maxlength="3" aria-label="<%- Localizer.localize(\'avg_power_range_custom\') %>">\n                <select class="input-small min-sec-selection" aria-label="<%- Localizer.localize(\'set_units\') %>">\n                    <option value="min"><%- Localizer.localize(\'avg_power_range_unit_min\') %></option>\n                    <option value="sec"><%- Localizer.localize(\'avg_power_range_unit_sec\') %></option>\n                </select>\n                <div id="power-go-btn" class="btn btn-form"><%- Localizer.localize(\'avg_power_calculate_btn\') %></div>\n            </div>\n        </li>\n    </ul>\n    <span id="avg-power-range-selector-value" class="chart-max-avg-power-detail"><%- avgValue %></span>\n</div>'
    },
    1616: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            initialize: function() {}
        });
        t.a = n
    },
    1618: function(e, t) {
        e.exports = '<button class="zoomIn map-control-item" aria-label="<%-\xa0Localizer.localize(\'zoom_in\')\xa0%>" xmlns="http://www.w3.org/1999/html">\n    <i class="icon-add"></i>\n</button>\n<button class="zoomOut map-control-item" aria-label="<%-\xa0Localizer.localize(\'zoom_out\')\xa0%>">\n    <i class="icon-minus"></i>\n</button>\n\n<div class="dropdown map-control-item has-tooltip" data-placement="bottom" data-rel="tooltip" data-html="true" title=""  data-original-title="" data-trigger="manual">\n    <button class="dropdown-trigger" data-toggle="dropdown" aria-label="<%-\xa0Localizer.localize(\'map.control.layers\')\xa0%>">\n        <i class="icon-layers"></i>\n    </button>\n    <ul class="dropdown-menu">\n        <li class="map-provider-google"><a href="#"><%- Localizer.localize(\'map.control.google\') %></a></li>\n        <li class="map-provider-here"><a href="#"><%- Localizer.localize(\'map.control.here\') %></a></li>\n        <li class="map-provider-osm"><a href="#"><%- Localizer.localize(\'map.control.osm\') %></a></li>\n        <li class="map-provider-BAIDU_V_1_4" style="display: none;"><a href="#"><%- Localizer.localize(\'map.control.baidu\') %></a></li>\n        <li class="divider"></li>\n        <li class="map-type-road"><a href="#"><%- Localizer.localize(\'map.control.road\') %></a></li>\n        <li class="map-type-satellite"><a href="#"><%- Localizer.localize(\'map.control.satellite\') %></a></li>\n        <li class="divider"></li>\n        <% if (additionalMapLayers.length > 0) { %>\n            <% for (var i = 0; i < additionalMapLayers.length; i++) { %>\n                <li data-layer-name="<%- additionalMapLayers[i].value %>" class="additional-layers <%- additionalMapLayers[i].selected ? \'active\' : \'\' %>"><a href="#"><%- additionalMapLayers[i].text %></a></li>\n            <% } %>\n            <li class="divider"></li>\n        <% } %>\n        <li class="map-layer-terrain">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.terrain\') %></input>\n            </label>\n        </li>\n        <li class="map-layer-trails">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.trails\') %></input>\n            </label>\n        </li>\n        <li class="map-layer-labels">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.labels\') %></input>\n            </label>\n        </li>\n        <% if (!hideHeatMaps) { %>\n        <li class="divider"></li>\n        <li class="map-layer-running-heatmap">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.heatmap.running.heatmap\') %></input>\n            </label>\n        </li>\n        <li class="map-layer-cycling-heatmap">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.heatmap.cycling.heatmap\') %></input>\n            </label>\n        </li>\n        <% } %>\n        <li class="map-coordinate-system" style="display: none">\n            <a href="#"><%- Localizer.localize(\'map.control.map_match\') %></a>\n        </li>\n    </ul>\n</div>\n'
    },
    1619: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(1294)
          , s = i(193)
          , l = (i(1335),
        i(1330))
          , c = i(1620)
          , h = i.n(c)
          , p = {
            CHANGE: "CHANGE"
        }
          , d = l.a.extend({
            template: n.a.template(h.a),
            initialize: function(e) {
                this.diveNumber = e.diveNumber,
                this.tag = e.tag || "a",
                l.a.prototype.initialize.call(this, e)
            },
            render: function() {
                this.$el.removeClass("edit"),
                this.$el.addClass(this.formatClass + " inline-edit inline-edit-text-field"),
                this.$el.html(this.template({
                    Localizer: r.a,
                    value: this.value,
                    url: this.url,
                    diveNumber: this.diveNumber,
                    tag: this.tag
                })),
                this.diveNumberValidator = new o.a({
                    element: this.$("#inlineEditDiveNumber"),
                    minValue: 1,
                    required: !0,
                    typeFormat: "integer",
                    reporter: new s.a({
                        message: r.a.localize("enter_a_number"),
                        position: "bottom",
                        element: this.$("#inlineEditDiveNumber")
                    })
                })
            },
            processInput: function() {
                var e = this.$("#inlineEditText").text().trim()
                  , t = this.$("#inlineEditDiveNumber").text().trim();
                this.diveNumberValidator.validateInputNow(),
                0 === this.$(".error-tooltip-active").length && (this.value = e,
                this.maxLength && this.value.length > this.maxLength && (this.value = this.value.substring(0, this.maxLength)),
                this.trigger(p.CHANGE, this.value, t))
            },
            onInlineEditCancelled: function(e) {
                this.diveNumberValidator.reporter.remove(),
                l.a.prototype.onInlineEditCancelled.call(this, e)
            },
            setDiveNumber: function(e) {
                this.diveNumber = e
            }
        });
        d.Events = p,
        t.a = d
    },
    1620: function(e, t) {
        e.exports = '<<%- tag %> href="<%- url %>" class="inline-edit-target" title="<%- value %>">\n    <%- Localizer.localize(\'dive_number_label\') + \' \' + diveNumber + \': \' + value %>\n</<%- tag %>>\n\n<button class="inline-edit-trigger modal-trigger" aria-label="<%- Localizer.localize(\'edit\') %>">\n    <i class="icon-pencil"></i>\n</button>\n\n<div class="inline-edit-editable">\n    <div class="edit-dive-activity-dive-label"><%- Localizer.localize(\'dive_number_label\') %></div>\n    <div id="inlineEditDiveNumber"  class="inline-edit-editable-text dive-number" style="min-width: 15px;" contenteditable="true"><%- diveNumber %></div>\n    <div id="inlineEditText" class="inline-edit-editable-text dive-name" style="min-width: 15px;" contenteditable="true"><%- value %></div>\n    <span class="inline-edit-actions">\n        <button class="inline-edit-save icon-checkmark" aria-label="<%- Localizer.localize(\'button_save\') %>"></button>\n        <button class="inline-edit-cancel icon-close" aria-label="<%- Localizer.localize(\'button_cancel\') %>"></button>\n    </span>\n</div>\n'
    },
    1621: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, "/*  ======================\n      Gear Page\n      ======================  */\n.page.gear .gear-item {\n        position: relative;\n    }\n.page.gear .gear-item .avatar {\n        width: 163px;\n        height: 163px;\n        box-shadow: 0px 0px 0px 3px #fff, 0px 0px 0px 4px #eaeaea;\n    }\n.page.gear .gear-item i.avatar {\n        font-size: 130px;\n        text-align: center;\n        background-color: " + i(243).locals.lightui_surface_1 + ";\n        color: " + i(243).locals.iconSecondary + ";\n        line-height: 163px;\n        display: inline-block;\n    }\n.page.gear .gear-item .gear-body {\n        width: 260px;\n        min-height: 200px;\n        margin: 0 20px 0 10px;\n        position: relative;\n    }\n.page.gear .gear-item .gear-name {\n        margin-bottom: 11px;\n    }\n.page.gear .gear-item .gear-name .gear-name-truncate {\n        display: inline-block;\n        max-width: calc(100% - 25px);\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        vertical-align: top;\n    }\n.page.gear .gear-item .dropdown-trigger {\n        height: 16px;\n        vertical-align: middle;\n        line-height: 16px;\n    }\n.page.gear .gear-item .gear-max {\n        margin-top: 11px;\n        margin-bottom: 0;\n    }\n.page.gear .gear-item .gear-max.warning {\n        color: #ff9e0d;\n    }\n.page.gear .gear-item.warning .gear-max {\n        color: #ed7e00;\n    }\n.page.gear .gear-item.over .gear-max {\n        color: #bf0f24;\n    }\n.page.gear .gear-item .gear-max .data-bit {\n        color: " + i(243).locals.textDark + ";\n    }\n.page.gear .gear-item .gear-max-progress {\n        width: 60%;\n        background: #ddd;\n        border-radius: 5px;\n        overflow: hidden;\n        margin-top: 5px;\n    }\n.page.gear .gear-item .gear-max-progress-value {\n        background: #11a9ed;\n        height: 8px;\n    }\n.page.gear .gear-item.warning .gear-max-progress-value {\n        background: #ed7e00;\n    }\n.page.gear .gear-item.over .gear-max-progress-value {\n        background: #bf0f24;\n    }\n.page.gear #retired-gear-tab .gear-item .gear-max-progress-value {\n        background: #aaa;\n    }\n.page.gear .photo-editor {\n        border: 1px solid #ddd;\n        border-radius: 10px;\n        width: 218px;\n        height: 218px;\n        overflow: hidden;\n    }\n.page.gear .photo-editor [class*='icon-'] {\n        font-size: 170px;\n        width: 218px;\n        color: #ddd;\n        height: 218px;\n        line-height: 175px;\n        text-align: center;\n\n        background: #6e8594;\n        margin-top: 0;\n        vertical-align: top;\n        color: #2d4352;\n    }\n.page.gear .photo-editor .icon-gear {\n        font-size: 130px;\n        line-height: 178px;\n    }\n.page.gear .typeahead.dropdown-menu {\n        min-width: 218px;\n    }\n\n/*  ======================\n      Gear Widget\n      ======================  */\n.widget-gear .widget-view-title {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-top: -11px;\n        margin-bottom: -8px;\n        line-height: 44px;\n    }\n.widget-gear .chart-gauge-gear {\n        height: 165px;\n    }\n.widget-gear .gear-chart-icon {\n        font-size: 90px;\n        width: 110px;\n        height: 110px;\n        line-height: 110px;\n    }\n.widget-gear .avatar {\n        margin: 10px 10px 0 3px;\n    }\n.widget-sheet-gear-activity-list .activity-list td:first-child a {\n        width: 80px;\n    }\n\n/*  ======================\n      Activities Widget and Activity Detail page - Gear List\n      ======================  */\n.gear-list {\n        margin: 0 0 11px;\n        padding: 0;\n        list-style: none;\n    }\n.gear-list li {\n        border-bottom: 1px solid #ddd;\n        padding: 8px 5px 8px 0;\n        cursor: pointer;\n        width: calc(100% - 5px);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n.gear-list li:hover {\n        background-color: #f5f5f5;\n    }\n.gear-list li:last-child {\n        border-bottom: none;\n    }\n.gear-list .gear-type {\n        margin-right: 10px;\n        font-size: 18px;\n        width: 18px;\n        height: 18px;\n        vertical-align: middle;\n    }\n.gear-list .gear-status {\n        font-family: 'connect-icons';\n        speak: none;\n        font-style: normal;\n        font-weight: normal;\n        -webkit-font-feature-settings: normal;\n                font-feature-settings: normal;\n        font-variant: normal;\n        text-transform: none;\n\n        /* Better Font Rendering =========== */\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n\n        /* Custom CSS to overwrite Bootstrap */\n        background-image: none;\n        display: inline-block;\n        margin: 0 10px;\n        position: relative;\n    }\n.gear-list .gear-status:after,\n    .gear-list .active:hover .gear-status:after {\n        width: 18px;\n        height: 18px;\n        line-height: 18px;\n        border-radius: 50%;\n        display: inline-block;\n        color: transparent;\n        text-align: center;\n        content: '\\E005'; /* plus icon */\n        background: #e6e6e6;\n        color: #fff;\n        font-size: 10px;\n        vertical-align: middle;\n        margin-top: -2px;\n    }\n.gear-list li:hover .gear-status:after {\n        background: #50b012; /* green */\n    }\n.gear-list .active .gear-status:after {\n        content: '\\2714'; /* checkmark icon */\n        background: #11a9ed; /* blue */\n        color: #fff;\n        font-size: 14px;\n    }\n.gear-list .active:hover .gear-status:after {\n        content: '\\E60C'; /* minus icon */\n        background: #ff0035; /* red */\n    }\n.gear-list .saving .gear-status:after,\n    .gear-list .saving:hover .gear-status:after {\n        background: transparent;\n        color: transparent;\n    }\n.gear-list .spinner {\n        display: none;\n    }\n.gear-list .saving .spinner {\n        display: inline-block;\n        position: absolute;\n        top: 5px;\n    }\n\n/*  ======================\n      Activity Detail Page\n      ======================  */\n.page.activity-detail .gear-images .avatar {\n        display: inline-block;\n        vertical-align: middle;\n    }\n.page.activity-detail .gear-names {\n        margin: 11px 0 0 0;\n        padding: 0;\n        list-style: none;\n    }\n.page.activity-detail .gear-indicator {\n        margin-right: 10px;\n    }\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/styles/gear.page.css"],
            names: [],
            mappings: "AAGI;;gCAE2B;AAC3B;QACI,mBAAkB;KACtB;AACA;QACI,aAAY;QACZ,cAAa;QACb,0DAAyD;KAC7D;AACA;QACI,iBAAgB;QAChB,mBAAkB;QAClB,8CAAmC;QACnC,mCAAoB;QACpB,mBAAkB;QAClB,sBAAqB;KACzB;AACA;QACI,aAAY;QACZ,kBAAiB;QACjB,sBAAqB;QACrB,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,sBAAqB;QACrB,6BAA4B;QAC5B,iBAAgB;QAChB,oBAAmB;QACnB,wBAAuB;QACvB,oBAAmB;KACvB;AACA;QACI,aAAY;QACZ,uBAAsB;QACtB,kBAAiB;KACrB;AACA;QACI,iBAAgB;QAChB,iBAAgB;KACpB;AACA;QACI,eAAc;KAClB;AACA;QACI,eAAc;KAClB;AACA;QACI,eAAc;KAClB;AACA;QACI,mCAAe;KACnB;AACA;QACI,WAAU;QACV,iBAAgB;QAChB,mBAAkB;QAClB,iBAAgB;QAChB,gBAAe;KACnB;AACA;QACI,oBAAmB;QACnB,YAAW;KACf;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,iBAAgB;KACpB;AACA;QACI,uBAAsB;QACtB,oBAAmB;QACnB,aAAY;QACZ,cAAa;QACb,iBAAgB;KACpB;AACA;QACI,iBAAgB;QAChB,aAAY;QACZ,YAAW;QACX,cAAa;QACb,mBAAkB;QAClB,mBAAkB;;QAElB,oBAAmB;QACnB,cAAa;QACb,oBAAmB;QACnB,eAAc;KAClB;AACA;QACI,iBAAgB;QAChB,mBAAkB;KACtB;AACA;QACI,iBAAgB;KACpB;;AAEA;;gCAE2B;AAC3B;QACI,oBAAmB;QACnB,iBAAgB;QAChB,wBAAuB;QACvB,kBAAiB;QACjB,oBAAmB;QACnB,kBAAiB;KACrB;AACA;QACI,cAAa;KACjB;AACA;QACI,gBAAe;QACf,aAAY;QACZ,cAAa;QACb,mBAAkB;KACtB;AACA;QACI,wBAAuB;KAC3B;AACA;QACI,YAAW;KACf;;AAEA;;gCAE2B;AAE3B;QACI,iBAAgB;QAChB,WAAU;QACV,iBAAgB;KACpB;AACA;QACI,8BAA6B;QAC7B,uBAAsB;QACtB,gBAAe;QACf,wBAAuB;QACvB,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;KACvB;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,oBAAmB;KACvB;AACA;QACI,mBAAkB;QAClB,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,uBAAsB;KAC1B;AACA;QACI,6BAA4B;QAC5B,YAAW;QACX,mBAAkB;QAClB,oBAAmB;QACnB,sCAAoB;gBAApB,8BAAoB;QAApB,qBAAoB;QACpB,qBAAoB;;QAEpB,uCAAsC;QACtC,oCAAmC;QACnC,mCAAkC;;QAElC,uCAAsC;QACtC,uBAAsB;QACtB,sBAAqB;QACrB,eAAc;QACd,mBAAkB;KACtB;AACA;;QAEI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,mBAAkB;QAClB,sBAAqB;QACrB,mBAAkB;QAClB,mBAAkB;QAClB,iBAAgB,CAAE,eAAc;QAChC,oBAAmB;QACnB,YAAW;QACX,gBAAe;QACf,uBAAsB;QACtB,iBAAgB;KACpB;AACA;QACI,oBAAmB,CAAE,WAAU;KACnC;AACA;QACI,iBAAgB,CAAE,oBAAmB;QACrC,oBAAmB,CAAE,UAAS;QAC9B,YAAW;QACX,gBAAe;KACnB;AACA;QACI,iBAAgB,CAAE,gBAAe;QACjC,oBAAmB,CAAE,SAAQ;KACjC;AACA;;QAEI,wBAAuB;QACvB,mBAAkB;KACtB;AACA;QACI,cAAa;KACjB;AACA;QACI,sBAAqB;QACrB,mBAAkB;QAClB,SAAQ;KACZ;;AAEA;;gCAE2B;AAE3B;QACI,sBAAqB;QACrB,uBAAsB;KAC1B;AACA;QACI,mBAAkB;QAClB,WAAU;QACV,iBAAgB;KACpB;AACA;QACI,mBAAkB;KACtB",
            file: "gear.page.css",
            sourcesContent: ["@value ( textDark, iconSecondary, lightui_surface_1 ) from 'ui-connect/styles/colors.module.css';\n\n:global {\n    /*  ======================\n      Gear Page\n      ======================  */\n    .page.gear .gear-item {\n        position: relative;\n    }\n    .page.gear .gear-item .avatar {\n        width: 163px;\n        height: 163px;\n        box-shadow: 0px 0px 0px 3px #fff, 0px 0px 0px 4px #eaeaea;\n    }\n    .page.gear .gear-item i.avatar {\n        font-size: 130px;\n        text-align: center;\n        background-color: lightui_surface_1;\n        color: iconSecondary;\n        line-height: 163px;\n        display: inline-block;\n    }\n    .page.gear .gear-item .gear-body {\n        width: 260px;\n        min-height: 200px;\n        margin: 0 20px 0 10px;\n        position: relative;\n    }\n    .page.gear .gear-item .gear-name {\n        margin-bottom: 11px;\n    }\n    .page.gear .gear-item .gear-name .gear-name-truncate {\n        display: inline-block;\n        max-width: calc(100% - 25px);\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        vertical-align: top;\n    }\n    .page.gear .gear-item .dropdown-trigger {\n        height: 16px;\n        vertical-align: middle;\n        line-height: 16px;\n    }\n    .page.gear .gear-item .gear-max {\n        margin-top: 11px;\n        margin-bottom: 0;\n    }\n    .page.gear .gear-item .gear-max.warning {\n        color: #ff9e0d;\n    }\n    .page.gear .gear-item.warning .gear-max {\n        color: #ed7e00;\n    }\n    .page.gear .gear-item.over .gear-max {\n        color: #bf0f24;\n    }\n    .page.gear .gear-item .gear-max .data-bit {\n        color: textDark;\n    }\n    .page.gear .gear-item .gear-max-progress {\n        width: 60%;\n        background: #ddd;\n        border-radius: 5px;\n        overflow: hidden;\n        margin-top: 5px;\n    }\n    .page.gear .gear-item .gear-max-progress-value {\n        background: #11a9ed;\n        height: 8px;\n    }\n    .page.gear .gear-item.warning .gear-max-progress-value {\n        background: #ed7e00;\n    }\n    .page.gear .gear-item.over .gear-max-progress-value {\n        background: #bf0f24;\n    }\n    .page.gear #retired-gear-tab .gear-item .gear-max-progress-value {\n        background: #aaa;\n    }\n    .page.gear .photo-editor {\n        border: 1px solid #ddd;\n        border-radius: 10px;\n        width: 218px;\n        height: 218px;\n        overflow: hidden;\n    }\n    .page.gear .photo-editor [class*='icon-'] {\n        font-size: 170px;\n        width: 218px;\n        color: #ddd;\n        height: 218px;\n        line-height: 175px;\n        text-align: center;\n\n        background: #6e8594;\n        margin-top: 0;\n        vertical-align: top;\n        color: #2d4352;\n    }\n    .page.gear .photo-editor .icon-gear {\n        font-size: 130px;\n        line-height: 178px;\n    }\n    .page.gear .typeahead.dropdown-menu {\n        min-width: 218px;\n    }\n\n    /*  ======================\n      Gear Widget\n      ======================  */\n    .widget-gear .widget-view-title {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-top: -11px;\n        margin-bottom: -8px;\n        line-height: 44px;\n    }\n    .widget-gear .chart-gauge-gear {\n        height: 165px;\n    }\n    .widget-gear .gear-chart-icon {\n        font-size: 90px;\n        width: 110px;\n        height: 110px;\n        line-height: 110px;\n    }\n    .widget-gear .avatar {\n        margin: 10px 10px 0 3px;\n    }\n    .widget-sheet-gear-activity-list .activity-list td:first-child a {\n        width: 80px;\n    }\n\n    /*  ======================\n      Activities Widget and Activity Detail page - Gear List\n      ======================  */\n\n    .gear-list {\n        margin: 0 0 11px;\n        padding: 0;\n        list-style: none;\n    }\n    .gear-list li {\n        border-bottom: 1px solid #ddd;\n        padding: 8px 5px 8px 0;\n        cursor: pointer;\n        width: calc(100% - 5px);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n    .gear-list li:hover {\n        background-color: #f5f5f5;\n    }\n    .gear-list li:last-child {\n        border-bottom: none;\n    }\n    .gear-list .gear-type {\n        margin-right: 10px;\n        font-size: 18px;\n        width: 18px;\n        height: 18px;\n        vertical-align: middle;\n    }\n    .gear-list .gear-status {\n        font-family: 'connect-icons';\n        speak: none;\n        font-style: normal;\n        font-weight: normal;\n        font-variant: normal;\n        text-transform: none;\n\n        /* Better Font Rendering =========== */\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n\n        /* Custom CSS to overwrite Bootstrap */\n        background-image: none;\n        display: inline-block;\n        margin: 0 10px;\n        position: relative;\n    }\n    .gear-list .gear-status:after,\n    .gear-list .active:hover .gear-status:after {\n        width: 18px;\n        height: 18px;\n        line-height: 18px;\n        border-radius: 50%;\n        display: inline-block;\n        color: transparent;\n        text-align: center;\n        content: '\\e005'; /* plus icon */\n        background: #e6e6e6;\n        color: #fff;\n        font-size: 10px;\n        vertical-align: middle;\n        margin-top: -2px;\n    }\n    .gear-list li:hover .gear-status:after {\n        background: #50b012; /* green */\n    }\n    .gear-list .active .gear-status:after {\n        content: '\\2714'; /* checkmark icon */\n        background: #11a9ed; /* blue */\n        color: #fff;\n        font-size: 14px;\n    }\n    .gear-list .active:hover .gear-status:after {\n        content: '\\e60c'; /* minus icon */\n        background: #ff0035; /* red */\n    }\n    .gear-list .saving .gear-status:after,\n    .gear-list .saving:hover .gear-status:after {\n        background: transparent;\n        color: transparent;\n    }\n    .gear-list .spinner {\n        display: none;\n    }\n    .gear-list .saving .spinner {\n        display: inline-block;\n        position: absolute;\n        top: 5px;\n    }\n\n    /*  ======================\n      Activity Detail Page\n      ======================  */\n\n    .page.activity-detail .gear-images .avatar {\n        display: inline-block;\n        vertical-align: middle;\n    }\n    .page.activity-detail .gear-names {\n        margin: 11px 0 0 0;\n        padding: 0;\n        list-style: none;\n    }\n    .page.activity-detail .gear-indicator {\n        margin-right: 10px;\n    }\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            textDark: "" + i(243).locals.textDark,
            iconSecondary: "" + i(243).locals.iconSecondary,
            lightui_surface_1: "" + i(243).locals.lightui_surface_1
        }
    },
    1622: function(e, t, i) {
        "use strict";
        var a = i(1797)
          , n = i(1623);
        t.a = function(e) {
            return null != e && Object(n.a)(e.length) && !Object(a.a)(e)
        }
    },
    1623: function(e, t, i) {
        "use strict";
        var a = 9007199254740991;
        t.a = function(e) {
            return "number" == typeof e && e > -1 && e % 1 == 0 && e <= a
        }
    },
    1624: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(484)
              , n = i(2092)
              , r = "object" == typeof exports && exports && !exports.nodeType && exports
              , o = r && "object" == typeof e && e && !e.nodeType && e
              , s = o && o.exports === r ? a.a.Buffer : void 0
              , l = (s ? s.isBuffer : void 0) || n.a;
            t.a = l
        }
        ).call(this, i(360)(e))
    },
    1625: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(508)
              , n = "object" == typeof exports && exports && !exports.nodeType && exports
              , r = n && "object" == typeof e && e && !e.nodeType && e
              , o = r && r.exports === n && a.a.process
              , s = function() {
                try {
                    var e = r && r.require && r.require("util").types;
                    return e || o && o.binding && o.binding("util")
                } catch (t) {}
            }();
            t.a = s
        }
        ).call(this, i(360)(e))
    },
    1626: function(e, t, i) {
        "use strict";
        t.a = function(e) {
            return function(t) {
                return e(t)
            }
        }
    },
    1627: function(e, t, i) {
        "use strict";
        var a = Object.prototype;
        t.a = function(e) {
            var t = e && e.constructor;
            return e === ("function" == typeof t && t.prototype || a)
        }
    },
    1628: function(e, t, i) {
        "use strict";
        t.a = function(e) {
            return e
        }
    },
    1629: function(e, t, i) {
        "use strict";
        var a = i(1353)
          , n = i(1630)
          , r = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
          , o = /^\w*$/;
        t.a = function(e, t) {
            if (Object(a.a)(e))
                return !1;
            var i = typeof e;
            return !("number" != i && "symbol" != i && "boolean" != i && null != e && !Object(n.a)(e)) || o.test(e) || !r.test(e) || null != t && e in Object(t)
        }
    },
    1630: function(e, t, i) {
        "use strict";
        var a = i(348)
          , n = i(487)
          , r = "[object Symbol]";
        t.a = function(e) {
            return "symbol" == typeof e || Object(n.a)(e) && Object(a.a)(e) == r
        }
    },
    1631: function(e, t, i) {
        "use strict";
        var a = i(1424)
          , n = i(484)
          , r = Object(a.a)(n.a, "Map");
        t.a = r
    },
    1632: function(e, t, i) {
        "use strict";
        t.a = function(e, t) {
            return e === t || e !== e && t !== t
        }
    },
    1633: function(e, t, i) {
        "use strict";
        t.a = function(e, t) {
            for (var i = -1, a = t.length, n = e.length; ++i < a; )
                e[n + i] = t[i];
            return e
        }
    },
    1634: function(e, t, i) {
        var a = i(1635);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1635: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, ".MapFilterProvider_mapFilterProvider__36sRu {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    z-index: 6;\n    width: auto;\n    margin-right: 0;\n    cursor: pointer;\n}\n.MapFilterProvider_mapFilterTrigger__1zxX-,\n.MapFilterProvider_mapFilterDetail__1luZd {\n    width: 150px;\n}\n.MapFilterProvider_open__2lx7N .MapFilterProvider_mapFilterDetail__1luZd {\n    height: 65px;\n}\n.MapFilterProvider_mapFilterProvider__36sRu a {\n    text-decoration: none;\n    color: " + i(243).locals.textDark + ";\n}\n.MapFilterProvider_mapFilterProvider__36sRu a:hover {\n    color: " + i(243).locals.blue_dark_2 + ";\n}\n.MapFilterProvider_mapFilterProvider__36sRu .MapFilterProvider_active__2IpjO a {\n    color: " + i(243).locals.blue_dark_1 + "; /* blue */\n}\n.MapFilterProvider_mapFilterDetail__1luZd li {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.MapFilterProvider_mapFilterLabel__1KNA7,\n.MapFilterProvider_mapFilterDetail__1luZd li {\n    max-width: 130px;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Map/components/MapFilterProvider.css"],
            names: [],
            mappings: "AAEA;IACI,mBAAkB;IAClB,UAAS;IACT,YAAW;IACX,WAAU;IACV,YAAW;IACX,gBAAe;IACf,gBAAe;CACnB;AAEA;;IAEI,aAAY;CAChB;AAEA;IACI,aAAY;CAChB;AAEA;IACI,sBAAqB;IACrB,mCAAe;CACnB;AAEA;IACI,mCAAkB;CACtB;AAEA;IACI,mCAAkB,CAAE,UAAS;CACjC;AAEA;IACI,iBAAgB;IAChB,wBAAuB;IACvB,oBAAmB;CACvB;AAEA;;IAEI,iBAAgB;CACpB",
            file: "MapFilterProvider.css",
            sourcesContent: ["@value (blue_dark_1, blue_dark_2, textDark) from 'ui-connect/styles/colors.module.css';\n\n.mapFilterProvider {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    z-index: 6;\n    width: auto;\n    margin-right: 0;\n    cursor: pointer;\n}\n\n.mapFilterTrigger,\n.mapFilterDetail {\n    width: 150px;\n}\n\n.open .mapFilterDetail {\n    height: 65px;\n}\n\n.mapFilterProvider a {\n    text-decoration: none;\n    color: textDark;\n}\n\n.mapFilterProvider a:hover {\n    color: blue_dark_2;\n}\n\n.mapFilterProvider .active a {\n    color: blue_dark_1; /* blue */\n}\n\n.mapFilterDetail li {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n.mapFilterLabel,\n.mapFilterDetail li {\n    max-width: 130px;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            blue_dark_1: "" + i(243).locals.blue_dark_1,
            blue_dark_2: "" + i(243).locals.blue_dark_2,
            textDark: "" + i(243).locals.textDark,
            mapFilterProvider: "MapFilterProvider_mapFilterProvider__36sRu",
            mapFilterTrigger: "MapFilterProvider_mapFilterTrigger__1zxX-",
            mapFilterDetail: "MapFilterProvider_mapFilterDetail__1luZd",
            open: "MapFilterProvider_open__2lx7N",
            active: "MapFilterProvider_active__2IpjO",
            mapFilterLabel: "MapFilterProvider_mapFilterLabel__1KNA7"
        }
    },
    1636: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, ".MapLayersProvider_mapLayers__25y0b {\n    position: absolute;\n    top: 65px;\n    right: 20px;\n    z-index: 5;\n}\n.MapLayersProvider_mapLayer__cyP4N {\n    display: block;\n    clear: left;\n    padding: 0 10px;\n    margin-bottom: 0;\n    width: 150px;\n    height: 0;\n    overflow: hidden;\n    line-height: 35px;\n\n    max-width: 95%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n\n    font-size: 12px;\n    color: " + i(243).locals.textMedium + ";\n    opacity: 0;\n    text-decoration: none;\n    transition: height, opacity 0.3s ease;\n}\n.MapLayersProvider_mapLayer__cyP4N.MapLayersProvider_active__37zOZ {\n    height: 35px;\n    margin-bottom: 10px;\n    opacity: 1;\n}\n.MapLayersProvider_mapLayer__cyP4N:hover,\n.MapLayersProvider_mapLayer__cyP4N:focus {\n    color: " + i(243).locals.textDark + ";\n    text-decoration: none;\n}\n.MapLayersProvider_mapLayer__cyP4N:hover,\n.MapLayersProvider_mapLayer__cyP4N:active {\n    box-shadow: inset 0 0 0 2px " + i(243).locals.secondary + ";\n}\n.MapLayersProvider_mapLayer__cyP4N.MapLayersProvider_selected__3sLGU {\n    color: " + i(243).locals.textLight + ";\n    background: " + i(243).locals.secondary + ";\n    box-shadow: none;\n}\n.MapLayersProvider_mapLayer__cyP4N.MapLayersProvider_selected__3sLGU:hover,\n.MapLayersProvider_mapLayer__cyP4N.MapLayersProvider_selected__3sLGU:active {\n    box-shadow: inset 0 0 0 2px " + i(243).locals.secondary + ";\n}\n.MapLayersProvider_mapLayer__cyP4N .MapLayersProvider_icon-checkmark__sikWV {\n    float: right;\n    margin-top: 10px;\n    width: 0;\n    overflow: hidden;\n    color: " + i(243).locals.textLight + ";\n    transition: width 0.2s ease;\n}\n.MapLayersProvider_mapLayer__cyP4N.MapLayersProvider_selected__3sLGU .MapLayersProvider_icon-checkmark__sikWV {\n    width: 12px;\n}\n.MapLayersProvider_mapLayer__cyP4N:active,\n.MapLayersProvider_mapLayer__cyP4N.MapLayersProvider_selected__3sLGU:active {\n    box-shadow: none;\n}\n.MapLayersProvider_layerTileStyle__1-hdB.MapLayersProvider_active__37zOZ {\n    height: 85px;\n    background: 0 0 / 170px 170px no-repeat;\n    box-shadow: inset 0 0 0 2px " + i(243).locals.color_104 + ";\n}\n.MapLayersProvider_map-provider-google__1pAZF .MapLayersProvider_layerTileStyle__1-hdB,\n.MapLayersProvider_map-provider-here__Y-XoM .MapLayersProvider_layer-tile-style__1Tn_C {\n    float: left;\n    clear: none;\n    width: 62.5px;\n    background: 0 0 / 85px 85px no-repeat;\n}\n.MapLayersProvider_map-provider-google__1pAZF .MapLayersProvider_layerTileStyle__1-hdB + .MapLayersProvider_layerTileStyle__1-hdB,\n.MapLayersProvider_map-provider-here__Y-XoM .MapLayersProvider_layerTileStyle__1-hdB + .MapLayersProvider_layerTileStyle__1-hdB {\n    margin-left: 5px;\n}\n.MapLayersProvider_layerTileStyleLabel__2hY5l {\n    position: relative;\n    left: -10px;\n    display: inline-block;\n    margin-top: 55px;\n    padding: 0 10px;\n    width: 100%;\n    height: 30px;\n    line-height: 30px;\n    color: " + i(243).locals.textMedium + ";\n    background: " + i(243).locals.color_104 + ";\n}\n.MapLayersProvider_layerTileStyleText__uFZqR {\n    display: inline-block;\n    max-width: 95%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.MapLayersProvider_layerTileStyleLabel__2hY5l .MapLayersProvider_icon-checkmark__sikWV {\n    margin-top: 7px;\n}\n.MapLayersProvider_layerTileStyle__1-hdB.MapLayersProvider_active__37zOZ:hover {\n    box-shadow: inset 0 0 0 2px " + i(243).locals.secondary + ";\n}\n.MapLayersProvider_layerTileStyle__1-hdB:hover .MapLayersProvider_layerTileStyleLabel__2hY5l {\n    color: " + i(243).locals.textLight + ";\n    background: " + i(243).locals.secondary + ';\n}\n/* TODO: move these to react\n.page.diving .map-provider-bing .layer-tile-default {\nbackground-image: url("../images/map/tile-thumbnail/bing-default-@2x.jpg");\n}\n.page.diving .map-provider-bing .layer-tile-satellite {\nbackground-image: url("../images/map/tile-thumbnail/bing-satellite-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-default {\nbackground-image: url("../images/map/tile-thumbnail/google-default-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-satellite {\nbackground-image: url("../images/map/tile-thumbnail/google-satellite-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-terrain {\nbackground-image: url("../images/map/tile-thumbnail/google-terrain-@2x.jpg");\n}\n\n.page.diving .map-provider-here .layer-tile-default {\n    background-image: url("../images/map/tile-thumbnail/here-default-@2x.jpg");\n}\n.page.diving .map-provider-here .layer-tile-satellite {\n    background-image: url("../images/map/tile-thumbnail/here-satellite-@2x.jpg");\n}\n.page.diving .map-provider-here .layer-tile-terrain {\n    background-image: url("../images/map/tile-thumbnail/here-terrain-@2x.jpg");\n} */\n', "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Map/components/MapLayersProvider.css"],
            names: [],
            mappings: "AAEA;IACI,mBAAkB;IAClB,UAAS;IACT,YAAW;IACX,WAAU;CACd;AACA;IACI,eAAc;IACd,YAAW;IACX,gBAAe;IACf,iBAAgB;IAChB,aAAY;IACZ,UAAS;IACT,iBAAgB;IAChB,kBAAiB;;IAEjB,eAAc;IACd,iBAAgB;IAChB,wBAAuB;IACvB,oBAAmB;;IAEnB,gBAAe;IACf,mCAAiB;IACjB,WAAU;IACV,sBAAqB;IACrB,sCAAqC;CACzC;AACA;IACI,aAAY;IACZ,oBAAmB;IACnB,WAAU;CACd;AACA;;IAEI,mCAAe;IACf,sBAAqB;CACzB;AACA;;IAEI,wDAAqC;CACzC;AACA;IACI,mCAAgB;IAChB,wCAAqB;IACrB,iBAAgB;CACpB;AACA;;IAEI,wDAAqC;CACzC;AACA;IACI,aAAY;IACZ,iBAAgB;IAChB,SAAQ;IACR,iBAAgB;IAChB,mCAAgB;IAChB,4BAA2B;CAC/B;AACA;IACI,YAAW;CACf;AACA;;IAEI,iBAAgB;CACpB;AACA;IACI,aAAY;IACZ,wCAAuC;IACvC,wDAAqC;CACzC;AACA;;IAEI,YAAW;IACX,YAAW;IACX,cAAa;IACb,sCAAqC;CACzC;AACA;;IAEI,iBAAgB;CACpB;AACA;IACI,mBAAkB;IAClB,YAAW;IACX,sBAAqB;IACrB,iBAAgB;IAChB,gBAAe;IACf,YAAW;IACX,aAAY;IACZ,kBAAiB;IACjB,mCAAiB;IACjB,wCAAqB;CACzB;AACA;IACI,sBAAqB;IACrB,eAAc;IACd,iBAAgB;IAChB,wBAAuB;IACvB,oBAAmB;CACvB;AACA;IACI,gBAAe;CACnB;AACA;IACI,wDAAqC;CACzC;AACA;IACI,mCAAgB;IAChB,wCAAqB;CACzB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;IAyBG",
            file: "MapLayersProvider.css",
            sourcesContent: ['@value (textLight, textMedium, textDark, secondary, color_104) from \'ui-connect/styles/colors.module.css\';\n\n.mapLayers {\n    position: absolute;\n    top: 65px;\n    right: 20px;\n    z-index: 5;\n}\n.mapLayer {\n    display: block;\n    clear: left;\n    padding: 0 10px;\n    margin-bottom: 0;\n    width: 150px;\n    height: 0;\n    overflow: hidden;\n    line-height: 35px;\n\n    max-width: 95%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n\n    font-size: 12px;\n    color: textMedium;\n    opacity: 0;\n    text-decoration: none;\n    transition: height, opacity 0.3s ease;\n}\n.mapLayer.active {\n    height: 35px;\n    margin-bottom: 10px;\n    opacity: 1;\n}\n.mapLayer:hover,\n.mapLayer:focus {\n    color: textDark;\n    text-decoration: none;\n}\n.mapLayer:hover,\n.mapLayer:active {\n    box-shadow: inset 0 0 0 2px secondary;\n}\n.mapLayer.selected {\n    color: textLight;\n    background: secondary;\n    box-shadow: none;\n}\n.mapLayer.selected:hover,\n.mapLayer.selected:active {\n    box-shadow: inset 0 0 0 2px secondary;\n}\n.mapLayer .icon-checkmark {\n    float: right;\n    margin-top: 10px;\n    width: 0;\n    overflow: hidden;\n    color: textLight;\n    transition: width 0.2s ease;\n}\n.mapLayer.selected .icon-checkmark {\n    width: 12px;\n}\n.mapLayer:active,\n.mapLayer.selected:active {\n    box-shadow: none;\n}\n.layerTileStyle.active {\n    height: 85px;\n    background: 0 0 / 170px 170px no-repeat;\n    box-shadow: inset 0 0 0 2px color_104;\n}\n.map-provider-google .layerTileStyle,\n.map-provider-here .layer-tile-style {\n    float: left;\n    clear: none;\n    width: 62.5px;\n    background: 0 0 / 85px 85px no-repeat;\n}\n.map-provider-google .layerTileStyle + .layerTileStyle,\n.map-provider-here .layerTileStyle + .layerTileStyle {\n    margin-left: 5px;\n}\n.layerTileStyleLabel {\n    position: relative;\n    left: -10px;\n    display: inline-block;\n    margin-top: 55px;\n    padding: 0 10px;\n    width: 100%;\n    height: 30px;\n    line-height: 30px;\n    color: textMedium;\n    background: color_104;\n}\n.layerTileStyleText {\n    display: inline-block;\n    max-width: 95%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.layerTileStyleLabel .icon-checkmark {\n    margin-top: 7px;\n}\n.layerTileStyle.active:hover {\n    box-shadow: inset 0 0 0 2px secondary;\n}\n.layerTileStyle:hover .layerTileStyleLabel {\n    color: textLight;\n    background: secondary;\n}\n\n/* TODO: move these to react\n.page.diving .map-provider-bing .layer-tile-default {\nbackground-image: url("../images/map/tile-thumbnail/bing-default-@2x.jpg");\n}\n.page.diving .map-provider-bing .layer-tile-satellite {\nbackground-image: url("../images/map/tile-thumbnail/bing-satellite-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-default {\nbackground-image: url("../images/map/tile-thumbnail/google-default-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-satellite {\nbackground-image: url("../images/map/tile-thumbnail/google-satellite-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-terrain {\nbackground-image: url("../images/map/tile-thumbnail/google-terrain-@2x.jpg");\n}\n\n.page.diving .map-provider-here .layer-tile-default {\n    background-image: url("../images/map/tile-thumbnail/here-default-@2x.jpg");\n}\n.page.diving .map-provider-here .layer-tile-satellite {\n    background-image: url("../images/map/tile-thumbnail/here-satellite-@2x.jpg");\n}\n.page.diving .map-provider-here .layer-tile-terrain {\n    background-image: url("../images/map/tile-thumbnail/here-terrain-@2x.jpg");\n} */\n'],
            sourceRoot: ""
        }]),
        t.locals = {
            textLight: "" + i(243).locals.textLight,
            textMedium: "" + i(243).locals.textMedium,
            textDark: "" + i(243).locals.textDark,
            secondary: "" + i(243).locals.secondary,
            color_104: "" + i(243).locals.color_104,
            mapLayers: "MapLayersProvider_mapLayers__25y0b",
            mapLayer: "MapLayersProvider_mapLayer__cyP4N",
            active: "MapLayersProvider_active__37zOZ",
            selected: "MapLayersProvider_selected__3sLGU",
            "icon-checkmark": "MapLayersProvider_icon-checkmark__sikWV",
            layerTileStyle: "MapLayersProvider_layerTileStyle__1-hdB",
            "map-provider-google": "MapLayersProvider_map-provider-google__1pAZF",
            "map-provider-here": "MapLayersProvider_map-provider-here__Y-XoM",
            "layer-tile-style": "MapLayersProvider_layer-tile-style__1Tn_C",
            layerTileStyleLabel: "MapLayersProvider_layerTileStyleLabel__2hY5l",
            layerTileStyleText: "MapLayersProvider_layerTileStyleText__uFZqR"
        }
    },
    1637: function(e, t, i) {
        var a = i(1638);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1638: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, ".MapLayerButton_selected__1WoyC {\n    color: " + i(243).locals.textLight + ";\n    background: " + i(243).locals.secondary + ";\n    box-shadow: none;\n}\n.MapLayerButton_selected__1WoyC:hover,\n.MapLayerButton_selected__1WoyC:focus {\n    color: " + i(243).locals.textLight + ";\n    background: " + i(243).locals.secondary + ";\n}\n.MapLayerButton_selected__1WoyC .MapLayerButton_iconCheckmark__kg2mm {\n    width: 12px;\n}\n.MapLayerButton_selected__1WoyC .MapLayerButton_button-text__1RDG2 {\n    color: " + i(243).locals.textLight + ";\n    background: " + i(243).locals.secondary + ";\n}\n.MapLayerButton_iconCheckmark__kg2mm {\n    float: right;\n    margin-top: 3px;\n    width: 0;\n    overflow: hidden;\n    color: " + i(243).locals.textLight + ";\n    transition: width 0.2s ease;\n}\n.MapLayerButton_iconCheckmark__kg2mm:before {\n    content: '\\2714';\n}\n.MapLayerButton_selected__1WoyC[class*='active'],\n.MapLayerButton_selected__1WoyC[class*='active']:hover,\n.MapLayerButton_selected__1WoyC[class*='active']:focus {\n    color: " + i(243).locals.textLight + " !important;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Map/components/mapLayerProviders/MapLayerButton.css"],
            names: [],
            mappings: "AAEA;IACI,mCAAgB;IAChB,wCAAqB;IACrB,iBAAgB;CACpB;AACA;;IAEI,mCAAgB;IAChB,wCAAqB;CACzB;AACA;IACI,YAAW;CACf;AACA;IACI,mCAAgB;IAChB,wCAAqB;CACzB;AACA;IACI,aAAY;IACZ,gBAAe;IACf,SAAQ;IACR,iBAAgB;IAChB,mCAAgB;IAChB,4BAA2B;CAC/B;AAEA;IACI,iBAAgB;CACpB;AACA;;;IAGI,8CAA2B;CAC/B",
            file: "MapLayerButton.css",
            sourcesContent: ["@value (textLight, secondary) from 'ui-connect/styles/colors.module.css';\n\n.selected {\n    color: textLight;\n    background: secondary;\n    box-shadow: none;\n}\n.selected:hover,\n.selected:focus {\n    color: textLight;\n    background: secondary;\n}\n.selected .iconCheckmark {\n    width: 12px;\n}\n.selected .button-text {\n    color: textLight;\n    background: secondary;\n}\n.iconCheckmark {\n    float: right;\n    margin-top: 3px;\n    width: 0;\n    overflow: hidden;\n    color: textLight;\n    transition: width 0.2s ease;\n}\n\n.iconCheckmark:before {\n    content: '\\2714';\n}\n.selected[class*='active'],\n.selected[class*='active']:hover,\n.selected[class*='active']:focus {\n    color: textLight !important;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            textLight: "" + i(243).locals.textLight,
            secondary: "" + i(243).locals.secondary,
            selected: "MapLayerButton_selected__1WoyC",
            iconCheckmark: "MapLayerButton_iconCheckmark__kg2mm",
            "button-text": "MapLayerButton_button-text__1RDG2"
        }
    },
    1639: function(e, t, i) {
        var a = i(1640);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1640: function(e, t, i) {
        (t = e.exports = i(34)(!0)).push([e.i, "\n\n.MapZoom_wrapper__sOVoy.MapZoom_course__1uaai {\n    bottom: 62px;\n    position: absolute;\n    right: 12px;\n    z-index: 6;\n}\n\n.MapZoom_zoomButton__3eU_Y.MapZoom_course__1uaai {\n    background: rgba(255, 255, 255, 0.95);\n    border-bottom: 0;\n    display: block;\n    position: relative;\n    text-align: center;\n    width: 35px;\n    height: 35px;\n    line-height: 40px;\n    border: 1px solid #aaa;\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n}\n\n.MapZoom_zoomInButton__1oczd.MapZoom_course__1uaai {\n    border-radius: 4px 4px 0 0;\n    border-bottom: 0;\n}\n\n.MapZoom_zoomOutButton__1Ev_9.MapZoom_course__1uaai {\n    border-radius: 0 0 4px 4px;\n}\n\n.MapZoom_wrapper__sOVoy.MapZoom_activity__3c8TM {\n    position: absolute;\n    z-index: 2;\n    display: -webkit-inline-flex;\n    display: inline-flex;\n    top: 10px;\n    left: 10px;\n}\n\n.MapZoom_zoomButton__3eU_Y.MapZoom_activity__3c8TM {\n}\n\n.MapZoom_zoomInButton__1oczd.MapZoom_activity__3c8TM {\n    margin-right: 5px;\n}\n\n.MapZoom_zoomOutButton__1Ev_9.MapZoom_activity__3c8TM {\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Map/components/overlays/MapZoom.css"],
            names: [],
            mappings: ";;AAAA;IACI,aAAY;IACZ,mBAAkB;IAClB,YAAW;IACX,WAAU;CACd;;AAEA;IACI,sCAAqC;IACrC,iBAAgB;IAChB,eAAc;IACd,mBAAkB;IAClB,mBAAkB;IAClB,YAAW;IACX,aAAY;IACZ,kBAAiB;IACjB,uBAAsB;IACtB,yCAAwC;IACxC,gBAAe;CACnB;;AAEA;IACI,2BAA0B;IAC1B,iBAAgB;CACpB;;AAEA;IACI,2BAA0B;CAC9B;;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,6BAAoB;IAApB,qBAAoB;IACpB,UAAS;IACT,WAAU;CACd;;AAEA;CACA;;AAEA;IACI,kBAAiB;CACrB;;AAEA;CACA",
            file: "MapZoom.css",
            sourcesContent: [".wrapper.course {\n    bottom: 62px;\n    position: absolute;\n    right: 12px;\n    z-index: 6;\n}\n\n.zoomButton.course {\n    background: rgba(255, 255, 255, 0.95);\n    border-bottom: 0;\n    display: block;\n    position: relative;\n    text-align: center;\n    width: 35px;\n    height: 35px;\n    line-height: 40px;\n    border: 1px solid #aaa;\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n}\n\n.zoomInButton.course {\n    border-radius: 4px 4px 0 0;\n    border-bottom: 0;\n}\n\n.zoomOutButton.course {\n    border-radius: 0 0 4px 4px;\n}\n\n.wrapper.activity {\n    position: absolute;\n    z-index: 2;\n    display: inline-flex;\n    top: 10px;\n    left: 10px;\n}\n\n.zoomButton.activity {\n}\n\n.zoomInButton.activity {\n    margin-right: 5px;\n}\n\n.zoomOutButton.activity {\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            wrapper: "MapZoom_wrapper__sOVoy",
            course: "MapZoom_course__1uaai",
            zoomButton: "MapZoom_zoomButton__3eU_Y",
            zoomInButton: "MapZoom_zoomInButton__1oczd",
            zoomOutButton: "MapZoom_zoomOutButton__1Ev_9",
            activity: "MapZoom_activity__3c8TM"
        }
    },
    1641: function(e, t, i) {
        var a = i(1642);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1642: function(e, t, i) {
        (t = e.exports = i(34)(!0)).push([e.i, ".MapMenu_container__j6O8j {\n    position: absolute;\n    z-index: 2;\n    top: 10px;\n    left: 87px;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Map/components/overlays/MapMenu.css"],
            names: [],
            mappings: "AAAA;IACI,mBAAkB;IAClB,WAAU;IACV,UAAS;IACT,WAAU;CACd",
            file: "MapMenu.css",
            sourcesContent: [".container {\n    position: absolute;\n    z-index: 2;\n    top: 10px;\n    left: 87px;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            container: "MapMenu_container__j6O8j"
        }
    },
    1643: function(e, t, i) {
        var a = i(1644);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1644: function(e, t, i) {
        (t = e.exports = i(34)(!0)).push([e.i, "\n\n.connect-map-view .leaflet-container {\n        height: 100%;\n        width: 100%;\n        z-index: 1;\n    }\n    .connect-map-view .leaflet-control-layers {\n        visibility: hidden !important;\n    }\n\n.MapView_connectMapView__6Hnob {\n    height: 100%;\n    width: 100%;\n    position: relative;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Map/MapView.css"],
            names: [],
            mappings: ";;AACI;QACI,aAAY;QACZ,YAAW;QACX,WAAU;KACd;IAEA;QACI,8BAA6B;KACjC;;AAGJ;IACI,aAAY;IACZ,YAAW;IACX,mBAAkB;CACtB",
            file: "MapView.css",
            sourcesContent: [":global {\n    .connect-map-view .leaflet-container {\n        height: 100%;\n        width: 100%;\n        z-index: 1;\n    }\n\n    .connect-map-view .leaflet-control-layers {\n        visibility: hidden !important;\n    }\n}\n\n.connectMapView {\n    height: 100%;\n    width: 100%;\n    position: relative;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            connectMapView: "MapView_connectMapView__6Hnob"
        }
    },
    1645: function(e, t, i) {
        "use strict";
        i(244);
        var a = i(10)
          , n = i(1538)
          , r = i(1511);
        function o(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var s = function(e) {
            function t() {
                return function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.apply(this, arguments))
            }
            return o(t, e),
            t.prototype.createLeafletElement = function(e) {
                throw new Error("createLeafletElement() must be implemented")
            }
            ,
            t.prototype.updateLeafletElement = function(e, t) {
                t.position !== e.position && this.leafletElement.setPosition(t.position)
            }
            ,
            t.prototype.componentWillMount = function() {
                this.leafletElement = this.createLeafletElement(this.props)
            }
            ,
            t.prototype.componentDidMount = function() {
                this.leafletElement.addTo(this.context.map)
            }
            ,
            t.prototype.componentDidUpdate = function(e) {
                this.updateLeafletElement(e, this.props)
            }
            ,
            t.prototype.componentWillUnmount = function() {
                this.leafletElement.remove()
            }
            ,
            t.prototype.render = function() {
                return null
            }
            ,
            t
        }(a.Component);
        s.propTypes = {
            position: n.a
        },
        s.contextTypes = {
            map: r.a
        },
        t.a = s
    },
    1646: function(e, t, i) {
        "use strict";
        var a = i(244)
          , n = i(22)
          , r = i.n(n)
          , o = i(1405)
          , s = i(1327)
          , l = i(1486);
        function c(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var h = function(e) {
            function t() {
                return function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.apply(this, arguments))
            }
            return c(t, e),
            t.prototype.createLeafletElement = function(e) {
                return new a.Polyline(e.positions,this.getOptions(e))
            }
            ,
            t.prototype.updateLeafletElement = function(e, t) {
                t.positions !== e.positions && this.leafletElement.setLatLngs(t.positions),
                this.setStyleIfChanged(e, t)
            }
            ,
            t
        }(o.a);
        h.propTypes = {
            children: s.a,
            positions: r.a.oneOfType([l.a, r.a.arrayOf(l.a)]).isRequired
        },
        t.a = h
    },
    1661: function(e, t) {
        e.exports = '<span class="react-placeholder <%- additionalClasses %>"></span>'
    },
    1662: function(e, t, i) {
        var a = i(1663);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1663: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, ".RespirationHelp_mainTitle__I52d- {\n    color: " + i(243).locals.color_100 + ";\n    font-size: 22px;\n    font-weight: 600;\n}\n.RespirationHelp_subTitle__NoDFU {\n    margin-bottom: 10px;\n    margin-top: 10px;\n}\n.RespirationHelp_smallSectionTitle__2UZTJ {\n    font-size: 14px;\n    font-weight: bold;\n    margin-bottom: 3px;\n}\n.RespirationHelp_modalHeader__2QnYy h4 {\n    color: " + i(243).locals.color_139 + ";\n    font-weight: 400;\n}\n.RespirationHelp_modalHeader__2QnYy p {\n    font-size: 18px;\n    letter-spacing: 0.15px;\n    font-weight: 100;\n}\n.RespirationHelp_modalContainer__3E4Va {\n    margin-bottom: 30px;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Respiration/RespirationHelp/RespirationHelp.css"],
            names: [],
            mappings: "AAEA;IACI,mCAAgB;IAChB,gBAAe;IACf,iBAAgB;CACpB;AAEA;IACI,oBAAmB;IACnB,iBAAgB;CACpB;AAEA;IACI,gBAAe;IACf,kBAAiB;IACjB,mBAAkB;CACtB;AAEA;IACI,mCAAgB;IAChB,iBAAgB;CACpB;AAEA;IACI,gBAAe;IACf,uBAAsB;IACtB,iBAAgB;CACpB;AAEA;IACI,oBAAmB;CACvB",
            file: "RespirationHelp.css",
            sourcesContent: ["@value (color_100,color_139) from 'ui-connect/styles/colors.module.css';\n\n.mainTitle {\n    color: color_100;\n    font-size: 22px;\n    font-weight: 600;\n}\n\n.subTitle {\n    margin-bottom: 10px;\n    margin-top: 10px;\n}\n\n.smallSectionTitle {\n    font-size: 14px;\n    font-weight: bold;\n    margin-bottom: 3px;\n}\n\n.modalHeader h4 {\n    color: color_139;\n    font-weight: 400;\n}\n\n.modalHeader p {\n    font-size: 18px;\n    letter-spacing: 0.15px;\n    font-weight: 100;\n}\n\n.modalContainer {\n    margin-bottom: 30px;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            color_100: "" + i(243).locals.color_100,
            color_139: "" + i(243).locals.color_139,
            mainTitle: "RespirationHelp_mainTitle__I52d-",
            subTitle: "RespirationHelp_subTitle__NoDFU",
            smallSectionTitle: "RespirationHelp_smallSectionTitle__2UZTJ",
            modalHeader: "RespirationHelp_modalHeader__2QnYy",
            modalContainer: "RespirationHelp_modalContainer__3E4Va"
        }
    },
    1685: function(e, t, i) {
        var a = i(2351);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1686: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(1295)
              , h = i.n(c)
              , p = i(2354)
              , d = i(1296)
              , u = i(1349)
              , g = i(2356)
              , m = i.n(g)
              , f = i(248)
              , y = {
                AxisTypeChanged: "AxisTypeChanged"
            }
              , v = o.a.View.extend({
                step: !1,
                threshold: 9999,
                template: n.a.template(m.a),
                events: {
                    "change .x-axis-value": "onAxisSelected"
                },
                initialize: function(e) {
                    if (!e.backgroundSeries)
                        throw "BackgroundSeriesType required for ExpandedChartView";
                    this.series = e.series,
                    this.speedType = e.speedType,
                    this.primarySeries = null,
                    this.secondarySeries = null,
                    this.workoutSeries = null,
                    this.showWorkoutSeries = !1,
                    this.showPaceProSeries = !1,
                    this.xAxisType = e.xAxisType || this.defaultXAxisType(),
                    this.activitySummary = e.activitySummary,
                    this.backgroundSeries = e.backgroundSeries,
                    this.turboThreshold = e.turboThreshold ? e.turboThreshold : 4e3,
                    this.zeroThreshold = e.zeroThreshold,
                    this.hideAxisTypes = e.hideAxisTypes || !1,
                    this.hasPaceProSplits = e.hasPaceProSplits
                },
                resetAxisType: function() {
                    this.xAxisType = this.defaultXAxisType(),
                    n.a.each(this.series, function(e) {
                        n.a.each(e, function(e) {
                            e.setXAxisType(this.xAxisType)
                        }, this)
                    }, this)
                },
                measurementSystem: function() {
                    return l.a.measurementSystem
                },
                defaultXAxisType: function() {
                    return u.a.Duration
                },
                getXAxisTypes: function() {
                    return this.hideAxisTypes ? [] : [{
                        name: u.a.Duration,
                        label: s.a.localize("over_time")
                    }, {
                        name: u.a.Distance,
                        label: s.a.localize("over_distance")
                    }]
                },
                onPrimaryChanged: function() {
                    this.chartHeaderView.secondarySeries && !this.chartHeaderView.primarySeries && (this.chartHeaderView.primarySeries = this.chartHeaderView.secondarySeries,
                    this.chartHeaderView.secondarySeries = null),
                    this.updateSeries(),
                    this.chartHeaderView.shouldShowWorkoutTarget(this.showWorkoutSeries),
                    this.chartHeaderView.setShowPaceProSeries(this.showPaceProSeries),
                    this.chartHeaderView.render()
                },
                onSecondaryChanged: function() {
                    this.updateSeries()
                },
                getSingleSeriesMin: function(e) {
                    var t;
                    return "undefined" != typeof e.expandedMin && (t = "function" == typeof e.expandedMin ? e.expandedMin.call(e) : e.expandedMin),
                    t
                },
                getSeriesMin: function(e) {
                    var t, i = !1;
                    return n.a.each(e, function(e) {
                        "undefined" != typeof e.expandedMin && (i || (t = 9999999,
                        i = !0),
                        t = Math.min(t, this.getSingleSeriesMin(e)))
                    }, this),
                    t
                },
                getWorkoutDataMin: function() {
                    var e = 99999999;
                    return n.a.each(this.workoutData, function(t) {
                        t[1] < e && (e = t[1])
                    }),
                    e
                },
                getPaceProDataMin: function() {
                    var e = 99999999;
                    return n.a.each(this.paceProData, function(t) {
                        t[1] < e && (e = t[1])
                    }),
                    e
                },
                getSingleSeriesMax: function(e) {
                    var t;
                    return "undefined" != typeof e.expandedMax && (t = "function" == typeof e.expandedMax ? e.expandedMax.call(e) : e.expandedMax),
                    t
                },
                getSeriesMax: function(e) {
                    var t, i = !1;
                    return n.a.each(e, function(e) {
                        "undefined" != typeof e.expandedMax && (i || (t = -9999999,
                        i = !0),
                        t = Math.max(t, this.getSingleSeriesMax(e)))
                    }, this),
                    t
                },
                getWorkoutDataMax: function() {
                    var e = -99999999;
                    return n.a.each(this.workoutData, function(t) {
                        t[1] > e && (e = t[1])
                    }),
                    e
                },
                getPaceProDataMax: function() {
                    var e = -99999999;
                    return n.a.each(this.paceProData, function(t) {
                        t[1] > e && (e = t[1])
                    }),
                    e
                },
                getSeriesAxisOptions: function(e, t) {
                    var i = this.getSeriesMin(e)
                      , a = this.getSeriesMax(e);
                    if (this.showWorkoutSeries) {
                        var r = this.getWorkoutDataMin()
                          , o = this.getWorkoutDataMax();
                        i = i <= r ? i : r,
                        a = a >= o ? a : o
                    }
                    if (this.showPaceProSeries) {
                        var s = this.getPaceProDataMin()
                          , l = this.getPaceProDataMax();
                        i = i <= s ? i : s,
                        a = a >= l ? a : l
                    }
                    var c = d.a.mapSeriesType(e[0]);
                    0 == t && this.getSeriesCount() > 1 && 1 == e.length && (c = "#6D8595");
                    var h = {
                        gridLineColor: "#dddddd",
                        title: {
                            text: null
                        },
                        labels: {
                            formatter: n.a.partial(this.yAxisLabelFormatter, this, t),
                            style: {
                                color: c,
                                fontSize: "12px"
                            },
                            step: 1
                        },
                        min: i,
                        max: a,
                        reversed: e[0].reversed,
                        plotLines: e[0].plotLines,
                        tickInterval: e[0].tickInterval,
                        opposite: t > 0
                    };
                    return t > 0 && (h.gridLineWidth = 0),
                    h
                },
                getSeriesYAxisOptions: function(e, t) {
                    return this.getSeriesAxisOptions(e, t)
                },
                getSeriesXAxisOptions: function() {
                    return {
                        labels: {
                            formatter: n.a.partial(this.xAxisLabelFormatter, this),
                            style: {
                                color: "#888888",
                                fontSize: "12px"
                            },
                            y: 20
                        },
                        tickLength: 0,
                        tickPixelInterval: 200,
                        maxPadding: 0
                    }
                },
                updateSeries: function() {
                    this.removeAllSeries(),
                    this.addAllSeries(),
                    this.highChartObj.redraw()
                },
                addBackgroundSeries: function() {
                    var e = [];
                    n.a.each(this.backgroundSeries, function(t) {
                        this.workoutSeries = this.createWorkoutChartSeries(t, 0),
                        this.hasPaceProSplits && this.paceProData && (this.paceProSeries = this.createPaceProChartSeries(t, 0, this.paceProData.length)),
                        this.chartHeaderView.primarySeries && (this.workoutSeries = null,
                        this.showWorkoutSeries = !1,
                        this.paceProSeries = null,
                        this.showPaceProSeries = !1),
                        this.workoutSeries && (e.push(this.workoutSeries),
                        this.showWorkoutSeries = !0),
                        this.paceProSeries && (e.push(this.paceProSeries),
                        this.showPaceProSeries = !0),
                        e.push(this.createChartSeries(t, 0))
                    }, this),
                    this.highChartObj.addAxis(this.getSeriesAxisOptions(this.backgroundSeries, 0), !1, !1, !1),
                    n.a.each(e, function(e) {
                        this.highChartObj.addSeries(e, !1)
                    }, this)
                },
                addPrimarySeries: function(e) {
                    var t = [];
                    n.a.each(e, function(e) {
                        t.push(this.createChartSeries(e, 1))
                    }, this),
                    this.highChartObj.addAxis(this.getSeriesAxisOptions(e, 1), !1, !1, !1),
                    n.a.each(t, function(e) {
                        this.highChartObj.addSeries(e, !1)
                    }, this),
                    this.primarySeries = e
                },
                addSecondarySeries: function(e) {
                    var t = [];
                    n.a.each(e, function(e) {
                        t.push(this.createChartSeries(e, 2))
                    }, this),
                    this.highChartObj.addAxis(this.getSeriesAxisOptions(e, 2), !1, !1, !1),
                    n.a.each(t, function(e) {
                        this.highChartObj.addSeries(e, !1)
                    }, this),
                    this.secondarySeries = e
                },
                onZoomReset: function() {
                    this.resetZoom()
                },
                onRangeSelected: function(e, t) {
                    this.setExtremes(e, t)
                },
                setExtremes: function(e, t) {
                    this.highChartObj.xAxis[0].setExtremes(e, t)
                },
                resetZoom: function() {
                    this.highChartObj.xAxis[0].setExtremes(null, null); // TX GCOverrides (semicolon only)
                    this.highChartObj.yAxis[0].setExtremes(null, null); // TX GCOverrides
                },
                xAxisLabelFormatter: function(e) {
                    return e.xAxisType == u.a.Distance ? this.value : l.a.personalizeDuration(this.value)
                },
                yAxisLabelFormatter: function(e, t) {
                    var i = null;
                    return 0 == t ? i = e.backgroundSeries : 1 == t && e.primarySeries ? i = e.primarySeries : e.secondarySeries && (i = e.secondarySeries),
                    null == i || 0 == i.length ? "" : (i = i[0]).yAxisFormattingFunction ? i.yAxisFormattingFunction(this.value, e.measurementSystem()) : i.formattingFunction(this.value, e.measurementSystem())
                },
                yUnit: function(e) {
                    return e.unit_key ? s.a.localize(n.a.result(e, "unit_key")) : ""
                },
                tooltipFormatter: function(e) {
                    var t = []
                      , i = this.point || this.points[0];
                    if (i) {
                        var a = i.x
                          , r = !1;
                        var dist = i.series.chart.userOptions.series[0].data[i.series.chart.hoverPoints[0].index].dist;  // TX GCOverrides - Zoomed Graph Tooltips                       
                        dist = l.a.formatDistance(dist, e.activitySummary.getActivityTypeKey())                          // TX GCOverrides
                           + " " + s.a.localize(l.a.getDistanceUnitKey(e.activitySummary.getActivityTypeKey()));         // TX GCOverrides
                        if (e.backgroundSeries && n.a.each(e.backgroundSeries, function(n) {
                            var o = n.getClosestPoint(a).data;
                            o && o.type && o.type === f.c ? (t.push(n.formatToolTipRow(n, null, o.y, e.yUnit(n), null, null, null, null, i.point)),
                            t.push("<br/>"),
                            r = !0) : r || o && null !== o.y && (t.push("<b>" + n.formatToolTipRow(n, null, o.y, e.yUnit(n), null, null, null) + "</b>"), // TX GCOverrides (formatting)
                            t.push("<br/>"))
                        }, this),
                        e.workoutSeries && e.showWorkoutSeries) {
                            var o = e.workoutSeries
                              , c = e.backgroundSeries[0].getClosestPoint(a)
                              , h = o.data[c.index] ? o.data[c.index][1] : null;
                            if (null !== h) {
                                var p = e.yUnit(e.backgroundSeries[0]);
                                0 === h ? (h = "--",
                                t.push(h + " " + p),
                                t.push("<br/>")) : (t.push(e.backgroundSeries[0].formatToolTipRow(o, null, h, p, null, null, null)),
                                t.push("<br/>"))
                            }
                        }
                        if (e.paceProSeries && e.showPaceProSeries) {
                            var d = e.paceProSeries
                              , g = e.backgroundSeries[0].getClosestPoint(a)
                              , m = d.data[g.index] ? d.data[g.index][1] : null;
                            if (null !== m) {
                                var y = e.yUnit(e.backgroundSeries[0]);
                                0 === m ? (m = "--",
                                t.push(m + " " + y),
                                t.push("<br/>")) : (t.push(e.backgroundSeries[0].formatToolTipRow(d, null, m, y, null, null, null)),
                                t.push("<br/>"))
                            }
                        }
                        e.primarySeries && n.a.each(e.primarySeries, function(i) {
                            var n = i.getClosestPoint(a).data;
                            n && null !== n.y && (t.push(i.formatToolTipRow(i, null, n.y, e.yUnit(i), null, null, null)),
                            t.push("<br/>"))
                        }),
                        e.secondarySeries && n.a.each(e.secondarySeries, function(i) {
                            var n = i.getClosestPoint(a).data;
                            null !== n.y && (t.push(i.formatToolTipRow(i, null, n.y, e.yUnit(i), null, null, null)),
                            t.push("<br/>"))
                        }),
                        e.xAxisType === u.a.Distance ?                  // TX !!! GCOverrides - (whole block) zoomed graph tooltip
                            t.push(dist) : 
                            e.xAxisType === u.a.Duration ? 
                                t.push(l.a.personalizeDuration(i.x) + " " + s.a.localize(l.a.getDurationUnitKey()) + "<br/>" + dist) : 
                                e.xAxisType === y.XAxisTypes.SwimLengths ? 
                                    t.push(s.a.localize("swim_length_num", Math.floor(i.x) + 1)) : 
                                    e.xAxisType === y.XAxisTypes.SwimDistance ? 
                                        t.push(l.a.personalizeDistance(i.x, e.activitySummary.getActivityTypeKey(), e.activitySummary.get("unitOfPoolLength")) + " " + s.a.localize(l.a.getDistanceUnitKey(e.activitySummary.getActivityTypeKey(), null, e.activitySummary.get("unitOfPoolLength")))) : e.push(l.a.personalizeDuration(i.x) + " " + s.a.localize(l.a.getDurationUnitKey()))
                    }
                    return t.join("")
                },
                render: function() {
                    var e = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        series: this.getAvailableSeries(),
                        xAxisTypes: this.getXAxisTypes()
                    });
                    this.$el.html(e),
                    this.$(".x-axis-value").val(this.xAxisType),
                    this.chartHeaderView = new p.a({
                        el: this.$("#chart-header-placeholder"),
                        backgroundSeries: this.backgroundSeries,
                        availableSeries: this.getAvailableSeries(),
                        activitySummary: this.activitySummary,
                        activityDetails: this.model,
                        xAxisType: this.xAxisType
                    }),
                    this.chartHeaderView.on(p.a.Events.PrimaryChanged, this.onPrimaryChanged, this),
                    this.chartHeaderView.on(p.a.Events.SecondaryChanged, this.onSecondaryChanged, this),
                    this.chartHeaderView.on(p.a.Events.ZoomReset, this.onZoomReset, this),
                    this.chartHeaderView.on(p.a.Events.RangeSelected, this.onRangeSelected, this);
                    var t = this.getSeries();
                    this.chartHeaderView.shouldShowWorkoutTarget(this.showWorkoutSeries),
                    this.chartHeaderView.setShowPaceProSeries(this.showPaceProSeries),
                    this.chartHeaderView.render();
                    var i = this.getSeriesYAxisOptions(this.backgroundSeries, 0)
                      , a = this;
                    this.highChartObj = new h.a.Chart({                         // TX GCOverrides - bookmark - zoomed graph tooltip
                        tooltip: {
                            backgroundColor: "rgba(255, 255, 255, 0.85)",
                            borderWidth: 1,                                         // TX GCOverrides 0  1
                            borderRadius: 0,
                            shadow: !0,                                             // TX GCOverrides !1  !0
                            crosshairs: {
                                color: "#222222"
                            },
                            style: {
                                color: "#222222",
                                fontSize: "16px",
                                padding: 10
                            },
                            formatter: n.a.partial(this.tooltipFormatter, this),
                            shared: !0,
                            useHTML: !0
                        },
                        chart: {
                            renderTo: this.$(".zoomed-chart").get(0),
                            backgroundColor: "transparent",
                            spacing: [10, 80, 30, 0],
                            marginLeft: 120,
                            marginRight: 155,
                            zoomType: "xy",     // TX GCOverrides
                            panning: true,      // TX GCOverrides
                            panKey: 'shift',    // TX GCOverrides
                            alignTicks: !1,
                            resetZoomButton: {
                                theme: {
                                    display: "none"
                                }
                            },
                            style: {
                                cursor: "crosshair"
                            },
                            events: {
                                selection: function(e) {
                                    e.xAxis && a.chartHeaderView.showZoomButton()
                                }
                            }
                        },
                        credits: {
                            enabled: !1
                        },
                        title: {
                            text: null
                        },
                        yAxis: [i],
                        xAxis: this.getSeriesXAxisOptions(),
                        plotOptions: {
                            area: {
                                fillOpacity: .25,
                                marker: {
                                    enabled: !1,
                                    symbol: "circle",
                                    states: {
                                        hover: {
                                            fillColor: "#222222",
                                            lineWidth: 1,
                                            lineColor: "#222222",
                                            radius: 4
                                        }
                                    }
                                }
                            },
                            series: {
                                states: {
                                    hover: {
                                        lineWidth: 2
                                    }
                                },
                                step: this.step,
                                animation: !1
                            },
                            line: {
                                marker: {
                                    enabled: !1,
                                    symbol: "circle",
                                    states: {
                                        hover: {
                                            fillColor: "#222222",
                                            lineWidth: 1,
                                            lineColor: "#222222",
                                            radius: 4
                                        }
                                    }
                                }
                            },
                            column: {                       // TX GCOverrides !!!
                                borderWidth: 0,             // TX GCOverrides
                                pointWidth: null,           // TX GCOverrides
                                maxPointWidth: undefined,   // TX GCOverrides
                                pointPadding: 0,            // TX GCOverrides
                                groupPadding: 0             // TX GCOverrides
                            },                              // TX GCOverrides
                            scatter: {
                                marker: {
                                    radius: 3,
                                    symbol: "circle",
                                    enabled: !0
                                },
                                color: "#ff0000",
                                lineWidth: void 0
                            }
                        },
                        legend: {
                            enabled: !1
                        },
                        series: t,
                        exporting: {
                            enabled: !0         // TX GCOverrides (originally !1)
                        }
                    })
                },
                formatToolTipRow: function(e, t) {
                    if (e.formatValue)
                        return e.formatValue(null, t) + "<br>";
                    var i = this.measurementSystem();
                    return (t = e.formattingFunction(t, i)) + " " + s.a.localize(l.a.getSwimPaceUnitKey(i)) + "<br>"
                },
                getSeries: function() {
                    var e = [];
                    return n.a.each(this.backgroundSeries, function(t) {
                        e.push(this.createChartSeries(t, 0)),
                        this.workoutSeries = this.createWorkoutChartSeries(t, 0),
                        this.showWorkoutSeries = !1,
                        this.workoutSeries && (e.push(this.workoutSeries),
                        this.showWorkoutSeries = !0),
                        this.hasPaceProSplits && (this.paceProSeries = this.createPaceProChartSeries(t, 0, t.data.length),
                        this.showPaceProSeries = !1,
                        this.paceProSeries && (e.push(this.paceProSeries),
                        this.showPaceProSeries = !0))
                    }, this),
                    e
                },
                createChartSeries: function(e, t) {
                    var i, a = e.defaultChartType, n = e.colorMapper, r = "scatter" == e.defaultChartType ? null : d.a.mapSeriesType(e), o = "scatter" == e.defaultChartType ? 0 : 2;
                    if (e.isTransparentSeries() && (r = "transparent"),
                    0 == t) {
                        if (this.getSeriesCount() > 1 && this.backgroundSeries.length < 2)
                            o = 0,
                            "scatter" !== e.defaultChartType ? (a = "area",
                            r = "#6D8595",
                            i = .25) : n = function(e) {
                                return "rgba(109,133,149, .5)"
                            }
                            ;
                        else if ("scatter" == e.defaultChartType && !e.colorMapper) {
                            var s = d.a.mapSeriesType(e);
                            n = function(e) {
                                return s
                            }
                        }
                    } else if (t > 0 && "scatter" == e.defaultChartType) {
                        var l = d.a.mapSeriesType(e);
                        n = function() {
                            return l
                        }
                    }
                    var c = e.generateData(n, !0);
                    return {
                        turboThreshold: this.turboThreshold,
                        type: a,
                        yAxis: t,
                        color: r,
                        data: c,
                        marker: {
                            states: {
                                hover: {
                                    radius: e.isTransparentSeries() ? 0 : 4
                                }
                            }
                        },
                        threshold: this.zeroThreshold ? 0 : e.reversed ? this.threshold : null,
                        fillOpacity: i,
                        lineWidth: o
                    }
                },
                createWorkoutChartSeries: function(e, t) {
                    var i = d.a.Colors.workoutTargetGray;
                    if (this.workoutInfo = e.generateWorkoutData(),
                    this.workoutData = this.workoutInfo.workoutData,
                    this.workoutData && this.workoutData.length > 0)
                        return {
                            turboThreshold: this.turboThreshold,
                            type: "area",
                            yAxis: t,
                            color: i,
                            data: this.workoutData,
                            threshold: this.zeroThreshold ? 0 : e.reversed ? this.threshold : null,
                            fillOpacity: .45,
                            lineWidth: 1
                        }
                },
                createPaceProChartSeries: function(e, t, i) {
                    var a = d.a.Colors.paceProTargetGray;
                    if (this.hasPaceProSplits && (this.paceProAvgPace = e.generatePaceProAvgData(i),
                    this.paceProData = this.paceProAvgPace.paceProData,
                    this.paceProData && this.paceProData.length > 0 && this.paceProAvgPace.isPacePro))
                        return {
                            turboThreshold: this.turboThreshold,
                            type: "area",
                            yAxis: t,
                            color: a,
                            data: this.paceProData,
                            threshold: this.zeroThreshold ? 0 : e.reversed ? this.threshold : null,
                            fillOpacity: .45,
                            lineWidth: 1
                        }
                },
                getAvailableSeries: function() {
                    return this.series
                },
                onAxisSelected: function(t) {
                    this.xAxisType = e(t.currentTarget).val(),
                    n.a.each(this.series, function(e) {
                        n.a.each(e, function(e) {
                            e.setXAxisType(this.xAxisType)
                        }, this)
                    }, this),
                    this.removeAllSeries(),
                    this.addAllSeries(),
                    this.highChartObj.redraw(),
                    this.resetZoom(),
                    this.trigger(y.AxisTypeChanged, this.xAxisType),
                    this.chartHeaderView.xAxisType = this.xAxisType,
                    this.chartHeaderView.render()
                },
                removeAllSeries: function() {
                    this.highChartObj.series[2] && this.highChartObj.series[2].remove(!1),
                    this.highChartObj.series[1] && this.highChartObj.series[1].remove(!1),
                    this.highChartObj.series[0] && this.highChartObj.series[0].remove(!1),
                    this.highChartObj.yAxis[2] && this.highChartObj.yAxis[2].remove(!1),
                    this.highChartObj.yAxis[1] && this.highChartObj.yAxis[1].remove(!1),
                    this.highChartObj.yAxis[0] && this.highChartObj.yAxis[0].remove(!1),
                    this.primarySeries = null,
                    this.secondarySeries = null
                },
                addAllSeries: function() {
                    this.addBackgroundSeries(),
                    this.chartHeaderView.primarySeries && this.addPrimarySeries(this.chartHeaderView.primarySeries),
                    this.chartHeaderView.secondarySeries && this.addSecondarySeries(this.chartHeaderView.secondarySeries)
                },
                getSeriesCount: function() {
                    var e = 1;
                    return this.chartHeaderView.primarySeries && e++,
                    this.chartHeaderView.secondarySeries && e++,
                    e
                },
                getScatterCount: function() {
                    var e = 0;
                    return "scatter" == this.backgroundSeries.defaultChartType && e++,
                    this.chartHeaderView.primarySeries && "scatter" == this.chartHeaderView.primarySeries.defaultChartType && e++,
                    this.chartHeaderView.secondarySeries && "scatter" == this.chartHeaderView.secondarySeries.defaultChartType && e++,
                    e
                }
            });
            v.XAxisTypes = u.a,
            v.Events = y,
            t.a = v
        }
        ).call(this, i(9))
    },
    1687: function(e, t) {
        e.exports = '<%  var imageUrl = socialProfile.profileImageUrlSmall || \'//static.garmincdn.com/apps/connect/image/profile-pic-default_60.gif\' %>\n\x3c!--avatar--\x3e\n<div class="object-img pull-left">\n    <a class="profile" href="#" aria-label="<%-\xa0Localizer.localize(\'profile_and_account\')\xa0%>">\n        <img \n            class="media-object avatar avatar-tiny" \n            data-src="holder.js/64x64" \n            role="presentation" \n            src="<%- imageUrl %>"\n        >\n    </a>\n</div>\n\n\x3c!--comment content--\x3e\n<div class="media-body">\n    <textarea \n        placeholder="<%- Localizer.localize(\'enter_your_comment\') %>"  \n        aria-label="<%- Localizer.localize(\'enter_your_comment\') %>" \n        class="add-comment-textarea"  \n        maxlength="<%- maxLength %>"\n    ></textarea>\n    <div class="add-comment-button-wrapper text-right bottom-xs ">\n        <button class="btn btn-small add-comment-button" type="submit"><%- Localizer.localize(\'save\') %></button>\n    </div>\n</div>\n\x3c!--end comment content--\x3e\n\n'
    },
    1688: function(e, t) {
        e.exports = '<%\n    var commentPicUrl = comment.authorImageUrl || \'//static.garmincdn.com/apps/connect/image/profile-pic-default_60.gif\';\n    var likeTextKey = comment.likedByUser ? \'unlike\' : \'like\';\n%>\n\n\x3c!--avatar--\x3e\n<div class="object-img pull-left">\n    <a href="<%- url(\'/profile/\' + comment.authorDisplayName) %>" aria-label="<%- comment.nameDisplayValue %>">\n        <img class="media-object avatar avatar-tiny" data-src="holder.js/64x64" role="presentation" src="<%- commentPicUrl %>">\n    </a>\n</div>\n\n\x3c!--comment content--\x3e\n<div class="media-body">\n\n    <p class="">\n        <% if (comment.authorPro) { %>\n            \x3c!-- per UX, PRO is not translated --\x3e\n            <span class="label-pro"><i class="icon-checkmark"></i>PRO</span>\n        <% } %>\n        <a class="colored" href="<%- url(\'/profile/\' + comment.authorDisplayName) %>"><%- comment.nameDisplayValue %></a>\n    </p>\n    <p class="comment-body-text"><%- comment.body %></p>\n\n    \x3c!-- Delete Comment --\x3e\n    <% if (comment.userProfilePk == viewerProfilePk || conversationOwnerPk == viewerProfilePk) { %>\n    <button class="delete delete-js" title="<%- Localizer.localize(\'button_delete\') %>">\n        <i class="icon-close"></i>\n    </button>\n    <% } %>            \n    \n    <div class="feed-item-footer">\n        \n        \x3c!--date stamp--\x3e\n        <span class="date-stamp pull-left"><%- dayDisplay %></span>\n        \n        \x3c!--Liking--\x3e\n        <span class="entry-like pull-right"></span>\n        \n    </div>\n    \n</div>\n\x3c!--end comment content--\x3e\n'
    },
    1689: function(e, t) {
        e.exports = '<div class="border-wrapper">\n\n    <% if (showHeader) { %>\n    <h5 class="bottom-xs"><%- Localizer.localize(\'comments\') %></h5>\n    <% } %>\n\n    <div class="show-previous-comments" style="display:none;">\n        <a href="#"><%- Localizer.localize(\'show_previous_comments\') %><a/>\n    </div>\n\n    \x3c!--comment set--\x3e\n    <div class="comment-item">\n    \n    </div>\n    \n    <div class="comment-fade-out" style="display:none;"></div>\n\n</div>\n\n\x3c!--add comment--\x3e\n<div class="media add comment background-3">\n    <% if (isChallengeCommentDisabled && showLockedText) {%>\n        <%- Localizer.localize(\'lock.comment\') %>\n    <% } %>\n</div>\n\n            \n\n'
    },
    1696: function(e, t, i) {
        "use strict";
        var a = i(1424)
          , n = Object(a.a)(Object, "create");
        var r = function() {
            this.__data__ = n ? n(null) : {},
            this.size = 0
        };
        var o = function(e) {
            var t = this.has(e) && delete this.__data__[e];
            return this.size -= t ? 1 : 0,
            t
        }
          , s = "__lodash_hash_undefined__"
          , l = Object.prototype.hasOwnProperty;
        var c = function(e) {
            var t = this.__data__;
            if (n) {
                var i = t[e];
                return i === s ? void 0 : i
            }
            return l.call(t, e) ? t[e] : void 0
        }
          , h = Object.prototype.hasOwnProperty;
        var p = function(e) {
            var t = this.__data__;
            return n ? void 0 !== t[e] : h.call(t, e)
        }
          , d = "__lodash_hash_undefined__";
        var u = function(e, t) {
            var i = this.__data__;
            return this.size += this.has(e) ? 0 : 1,
            i[e] = n && void 0 === t ? d : t,
            this
        };
        function g(e) {
            var t = -1
              , i = null == e ? 0 : e.length;
            for (this.clear(); ++t < i; ) {
                var a = e[t];
                this.set(a[0], a[1])
            }
        }
        g.prototype.clear = r,
        g.prototype.delete = o,
        g.prototype.get = c,
        g.prototype.has = p,
        g.prototype.set = u;
        var m = g
          , f = i(1557)
          , y = i(1631);
        var v = function() {
            this.size = 0,
            this.__data__ = {
                hash: new m,
                map: new (y.a || f.a),
                string: new m
            }
        };
        var b = function(e) {
            var t = typeof e;
            return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e
        };
        var A = function(e, t) {
            var i = e.__data__;
            return b(t) ? i["string" == typeof t ? "string" : "hash"] : i.map
        };
        var C = function(e) {
            var t = A(this, e).delete(e);
            return this.size -= t ? 1 : 0,
            t
        };
        var w = function(e) {
            return A(this, e).get(e)
        };
        var _ = function(e) {
            return A(this, e).has(e)
        };
        var x = function(e, t) {
            var i = A(this, e)
              , a = i.size;
            return i.set(e, t),
            this.size += i.size == a ? 0 : 1,
            this
        };
        function S(e) {
            var t = -1
              , i = null == e ? 0 : e.length;
            for (this.clear(); ++t < i; ) {
                var a = e[t];
                this.set(a[0], a[1])
            }
        }
        S.prototype.clear = v,
        S.prototype.delete = C,
        S.prototype.get = w,
        S.prototype.has = _,
        S.prototype.set = x;
        t.a = S
    },
    1698: function(e, t, i) {
        "use strict";
        var a = i(1557);
        var n = function() {
            this.__data__ = new a.a,
            this.size = 0
        };
        var r = function(e) {
            var t = this.__data__
              , i = t.delete(e);
            return this.size = t.size,
            i
        };
        var o = function(e) {
            return this.__data__.get(e)
        };
        var s = function(e) {
            return this.__data__.has(e)
        }
          , l = i(1631)
          , c = i(1696)
          , h = 200;
        var p = function(e, t) {
            var i = this.__data__;
            if (i instanceof a.a) {
                var n = i.__data__;
                if (!l.a || n.length < h - 1)
                    return n.push([e, t]),
                    this.size = ++i.size,
                    this;
                i = this.__data__ = new c.a(n)
            }
            return i.set(e, t),
            this.size = i.size,
            this
        };
        function d(e) {
            var t = this.__data__ = new a.a(e);
            this.size = t.size
        }
        d.prototype.clear = n,
        d.prototype.delete = r,
        d.prototype.get = o,
        d.prototype.has = s,
        d.prototype.set = p;
        t.a = d
    },
    1700: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = n.a.Model.extend({
            initialize: function() {}
        })
          , o = i(83);
        t.a = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/clips"
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "ActivitySplits requires an activity ID";
                this.activityId = t.activityId
            },
            getHighlightedTimeRanges: function() {
                var e = [];
                return this.forEach(function(t) {
                    e.push({
                        start: o.a.parseISOUTC(t.get("startTimeGMT")).getTime(),
                        end: o.a.parseISOUTC(t.get("endTimeGMT")).getTime()
                    })
                }),
                e
            }
        })
    },
    1702: function(e, t, i) {
        "use strict";
        var a = i(348)
          , n = i(487)
          , r = "[object Arguments]";
        var o = function(e) {
            return Object(n.a)(e) && Object(a.a)(e) == r
        }
          , s = Object.prototype
          , l = s.hasOwnProperty
          , c = s.propertyIsEnumerable
          , h = o(function() {
            return arguments
        }()) ? o : function(e) {
            return Object(n.a)(e) && l.call(e, "callee") && !c.call(e, "callee")
        }
        ;
        t.a = h
    },
    1703: function(e, t, i) {
        "use strict";
        var a = function(e, t) {
            for (var i = -1, a = null == e ? 0 : e.length, n = 0, r = []; ++i < a; ) {
                var o = e[i];
                t(o, i, e) && (r[n++] = o)
            }
            return r
        }
          , n = i(1803)
          , r = Object.prototype.propertyIsEnumerable
          , o = Object.getOwnPropertySymbols
          , s = o ? function(e) {
            return null == e ? [] : (e = Object(e),
            a(o(e), function(t) {
                return r.call(e, t)
            }))
        }
        : n.a;
        t.a = s
    },
    1731: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return a
        });
        var a = function(e, t) {
            var i = Array.prototype.slice.call(e.querySelectorAll("thead tr"))
              , a = Array.prototype.slice.call(e.querySelectorAll("tbody tr"))
              , n = Array.prototype.slice.call(e.querySelectorAll("tfoot tr"))
              , r = String.fromCharCode(11)
              , o = String.fromCharCode(0)
              , s = '","'
              , l = '"\r\n"'
              , c = '"';
            if (i.length && (c += u(i.map(g))),
            a.length && (i.length && (c += l),
            c += u(a.map(g))),
            n.length && (c += l,
            c += u(n.map(g))),
            c += '"',
            navigator.msSaveBlob) {
                var h = new Blob([c],{
                    type: "text/csv;charset=utf-8;"
                });
                navigator.msSaveBlob(h, t)
            } else {
                var p = "data:application/csv;charset=utf-8," + encodeURIComponent(c)
                  , d = document.createElement("a");
                d.href = p,
                d.download = t,
                d.click()
            }
            function u(e) {
                return e.join(o).split(o).join(l).split(r).join(s)
            }
            function g(e) {
                var t = e.getElementsByTagName("td");
                return t.length || (t = e.getElementsByTagName("th")),
                Array.prototype.slice.call(t).map(m).join(r)
            }
            function m(e) {
                return e.innerText.replace('"', '""').trim()
            }
        }
    },
    1742: function(e, t, i) {
        "use strict";
        var a = i(11)
          , n = i(7)
          , r = {
            running: "interval_active_type_running",
            cycling: "interval_active_type_cycling",
            swimming: "interval_active_type_swimming",
            other: "interval_type_other"
        }
          , o = {
            INTERVAL_WARMUP: "interval_type_warmup",
            INTERVAL_REST: "interval_type_rest",
            INTERVAL_COOLDOWN: "interval_type_cooldown",
            INTERVAL_RECOVERY: "interval_type_recovery",
            INTERVAL_OTHER: "interval_type_other"
        }
          , s = ["running", "indoor_running", "street_running", "cycling", "bmx", "cyclocross", "indoor_cycling", "track_cycling", "gravel_cycling", "obstacle_run", "track_running", "trail_running", "recumbent_cycling", "treadmill_running", "mountain_biking", "road_biking", "downhill_biking", "virtual_ride", "virtual_run"];
        t.a = {
            getMasterColumnConfig: function(e) {
                var t = a.a.getSpeedTypeFromActivityType(e.activityTypeKey)
                  , i = t === a.a.SpeedTypes.Speed ? a.a.getAvgSpeedLabelKey() : a.a.getAvgSwimPaceLabelKey(e.isSwimmingActivity)
                  , r = t === a.a.SpeedTypes.Speed ? a.a.getAvgMovingSpeedLabelKey() : a.a.getAvgMovingPaceLabelKey()
                  , o = t === a.a.SpeedTypes.Speed ? a.a.getMaxSpeedLabelKey() : a.a.getMaxSwimPaceLabelKey(e.isSwimmingActivity)
                  , s = a.a.getElevGainLabelKey(e.activityTypeKey)
                  , l = a.a.getElevLossLabelKey(e.activityTypeKey)
                  , c = [{
                    order: 1,
                    fieldName: "intervalIndex",
                    displayLabel: "activity.interval",
                    class: "",
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "type",
                    displayLabel: "label_interval_type",
                    class: ""
                }, {
                    order: 3,
                    fieldName: "lapIndex",
                    displayLabel: "activity.interval.lap",
                    class: ""
                }, {
                    order: 4,
                    fieldName: "duration",
                    displayLabel: "label_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 5,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 6,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: e.personalizerParams.getDistanceParams
                }, {
                    order: 99,
                    fieldName: "lapIndexes",
                    displayLabel: "lap_indexes"
                }, {
                    order: -1,
                    fieldName: "averageSpeed",
                    displayLabel: i,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.personalizerParams.getSpeedParams
                }, {
                    order: -1,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "elevationGain",
                    displayLabel: s,
                    class: "",
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "elevationLoss",
                    displayLabel: l,
                    class: "",
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "averageStrokeCadence",
                    displayLabel: "label_avg_stroke_rate",
                    class: "",
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "maxStrokeCadence",
                    displayLabel: "label_max_stroke_rate",
                    class: "",
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "averageStrokeDistance",
                    displayLabel: "label_avg_distance_per_stroke",
                    class: "",
                    personalizer: function(t) {
                        return a.a.personalizeDistanceValue(a.a.isPaddleBoardingActivity(e.activityTypeKey) ? a.a.convertDistancePerStroke(t) : t)
                    }
                }];
                return c.push({
                    order: -1,
                    fieldName: "averageRunCadence",
                    displayLabel: "label_avg_run_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "averageBikeCadence",
                    displayLabel: "label_avg_bike_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "maxBikeCadence",
                    displayLabel: "label_max_bike_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "averageSwimCadence",
                    displayLabel: "label_avg_swim_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "minSwimCadence",
                    displayLabel: "label_max_swim_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "groundContactTime",
                    displayLabel: "label_avg_ground_contact_time",
                    class: "",
                    personalizer: a.a.personalizeGroundContactTime
                }),
                c.push({
                    order: -1,
                    fieldName: "groundContactBalanceLeft",
                    displayLabel: "label_avg_gct_balance",
                    class: "",
                    personalizer: function(e) {
                        var t = e
                          , i = 100 - t;
                        return n.a.localize(a.a.getPowerBalanceUnitKey(), a.a.formatDecimalNumber(t, 1), a.a.formatDecimalNumber(i, 1))
                    }
                }),
                c.push({
                    order: -1,
                    fieldName: "strideLength",
                    displayLabel: "label_avg_stride_length",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeAvgStrideLength
                }),
                c.push({
                    order: -1,
                    fieldName: "verticalOscillation",
                    displayLabel: "label_avg_vertical_oscillation",
                    class: "",
                    personalizer: a.a.personalizeVerticalOscillation
                }),
                c.push({
                    order: -1,
                    fieldName: "verticalRatio",
                    displayLabel: "label_avg_vertical_ratio",
                    class: "",
                    personalizer: a.a.personalizeVerticalRatio
                }),
                c.push({
                    order: -1,
                    fieldName: "normalizedPower",
                    displayLabel: "label_normalized_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "leftBalance",
                    displayLabel: "label_left_balance",
                    class: "",
                    personalizer: a.a.personalizeLeftRightBalance
                }),
                c.push({
                    order: -1,
                    fieldName: "rightBalance",
                    displayLabel: "label_right_balance",
                    class: "",
                    personalizer: a.a.personalizeLeftRightBalance
                }),
                c.push({
                    order: -1,
                    fieldName: "leftTorqueEffectiveness",
                    displayLabel: "label_left_torque_eff",
                    class: "",
                    personalizer: a.a.personalizeTorqueEffectiveness
                }),
                c.push({
                    order: -1,
                    fieldName: "rightTorqueEffectiveness",
                    displayLabel: "label_right_torque_eff",
                    class: "",
                    personalizer: a.a.personalizeTorqueEffectiveness
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPedalSmoothness",
                    displayLabel: "label_left_pedal_smoothness",
                    class: "",
                    personalizer: a.a.personalizePedalSmoothness
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPedalSmoothness",
                    displayLabel: "label_right_pedal_smoothness",
                    class: "",
                    personalizer: a.a.personalizePedalSmoothness
                }),
                c.push({
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power_kg",
                    class: "",
                    personalizer: null,
                    nullCallback: e.getWeightLink
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power_kg",
                    class: "",
                    personalizer: null,
                    nullCallback: e.getWeightLink
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPowerTwentyMinutes",
                    displayLabel: "label_max_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "standingTime",
                    displayLabel: "label_cd_total_standing_time",
                    class: "",
                    personalizer: a.a.personalizeStandingTime
                }),
                c.push({
                    order: -1,
                    fieldName: "averageStandingPower",
                    displayLabel: "label_cd_avg_standing_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxStandingPower",
                    displayLabel: "label_cd_max_standing_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "seatedTime",
                    displayLabel: "label_cd_total_seated_time",
                    class: "",
                    personalizer: a.a.personalizeStandingTime
                }),
                c.push({
                    order: -1,
                    fieldName: "averageSeatedPower",
                    displayLabel: "label_cd_avg_seated_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxSeatedPower",
                    displayLabel: "label_cd_max_seated_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseStart",
                    displayLabel: "label_cd_l_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseEnd",
                    displayLabel: "label_cd_l_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseStart",
                    displayLabel: "label_cd_r_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseEnd",
                    displayLabel: "label_cd_r_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseArcLength",
                    displayLabel: "label_cd_l_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseArcLength",
                    displayLabel: "label_cd_r_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakStart",
                    displayLabel: "label_cd_l_peak_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakEnd",
                    displayLabel: "label_cd_l_peak_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakStart",
                    displayLabel: "label_cd_r_peak_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakEnd",
                    displayLabel: "label_cd_r_peak_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakArcLength",
                    displayLabel: "label_cd_l_peak_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakArcLength",
                    displayLabel: "label_cd_r_peak_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPlatformCenterOffset",
                    displayLabel: "label_cd_l_pco_average",
                    class: "",
                    personalizer: a.a.personalizePlatformCenterOffset
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPlatformCenterOffset",
                    displayLabel: "label_cd_r_pco_average",
                    class: "",
                    personalizer: a.a.personalizePlatformCenterOffset
                }),
                c.push({
                    order: -1,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }),
                c.push({
                    order: -1,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temperature",
                    class: "",
                    personalizer: a.a.personalizeTemperature
                }),
                "open_water_swimming" !== e.activityTypeKey && c.push({
                    order: -1,
                    fieldName: "maxSpeed",
                    displayLabel: o,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.personalizerParams.getSpeedParams
                }),
                c.push({
                    order: -1,
                    fieldName: "maxRunCadence",
                    displayLabel: "label_max_run_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }),
                c.push({
                    order: -1,
                    fieldName: "averageMovingSpeed",
                    displayLabel: r,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.personalizerParams.getSpeedParams
                }),
                e.canDisplayVectorAirInfo && (c.push({
                    order: -1,
                    fieldName: "avgCda",
                    displayLabel: "cda_unit",
                    class: "",
                    personalizer: a.a.formatVectorAirCdA
                }),
                c.push({
                    order: -1,
                    fieldName: "avgWattsPerCda",
                    displayLabel: "wcda_unit",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                })),
                c.push({
                    order: -1,
                    fieldName: "avgFlow",
                    displayLabel: "label_flow",
                    class: "",
                    personalizer: a.a.peronalizeMTBFlow
                }),
                c.push({
                    order: -1,
                    fieldName: "grit",
                    displayLabel: "label_grit",
                    class: "",
                    personalizer: a.a.peronalizeMTBGrit
                }),
                c
            },
            getIntervalType: function(e, t) {
                if (this.isActiveInterval(e)) {
                    var i = r[t];
                    return i ? n.a.localize(i) : n.a.localize(r.other)
                }
                return o[e] ? n.a.localize(o[e]) : "--"
            },
            isActiveInterval: function(e) {
                return -1 !== e.indexOf("ACTIVE")
            },
            isActivityTypeIntervalsSupported: function(e) {
                return !(!e || !e.get("activityTypeDTO")) && s.includes(e.get("activityTypeDTO").typeKey)
            }
        }
    },
    1746: function(e, t, i) {
        "use strict";
        var a = function(e, t, i, a) {
            var n = -1
              , r = null == e ? 0 : e.length;
            for (a && r && (i = e[++n]); ++n < r; )
                i = t(i, e[n], n, e);
            return i
        }
          , n = i(1910)
          , r = i(1698)
          , o = i(1453)
          , s = 1
          , l = 2;
        var c = function(e, t, i, a) {
            var n = i.length
              , c = n
              , h = !a;
            if (null == e)
                return !c;
            for (e = Object(e); n--; ) {
                var p = i[n];
                if (h && p[2] ? p[1] !== e[p[0]] : !(p[0]in e))
                    return !1
            }
            for (; ++n < c; ) {
                var d = (p = i[n])[0]
                  , u = e[d]
                  , g = p[1];
                if (h && p[2]) {
                    if (void 0 === u && !(d in e))
                        return !1
                } else {
                    var m = new r.a;
                    if (a)
                        var f = a(u, g, d, e, t, m);
                    if (!(void 0 === f ? Object(o.a)(g, u, s | l, a, m) : f))
                        return !1
                }
            }
            return !0
        }
          , h = i(1372);
        var p = function(e) {
            return e === e && !Object(h.a)(e)
        }
          , d = i(1454);
        var u = function(e) {
            for (var t = Object(d.a)(e), i = t.length; i--; ) {
                var a = t[i]
                  , n = e[a];
                t[i] = [a, n, p(n)]
            }
            return t
        };
        var g = function(e, t) {
            return function(i) {
                return null != i && i[e] === t && (void 0 !== t || e in Object(i))
            }
        };
        var m = function(e) {
            var t = u(e);
            return 1 == t.length && t[0][2] ? g(t[0][0], t[0][1]) : function(i) {
                return i === e || c(i, e, t)
            }
        }
          , f = i(1418);
        var y = function(e, t, i) {
            var a = null == e ? void 0 : Object(f.a)(e, t);
            return void 0 === a ? i : a
        }
          , v = i(1498)
          , b = i(1629)
          , A = i(1381)
          , C = 1
          , w = 2;
        var _ = function(e, t) {
            return Object(b.a)(e) && p(t) ? g(Object(A.a)(e), t) : function(i) {
                var a = y(i, e);
                return void 0 === a && a === t ? Object(v.a)(i, e) : Object(o.a)(t, a, C | w)
            }
        }
          , x = i(1628)
          , S = i(1353);
        var T = function(e) {
            return function(t) {
                return null == t ? void 0 : t[e]
            }
        };
        var E = function(e) {
            return function(t) {
                return Object(f.a)(t, e)
            }
        };
        var k = function(e) {
            return Object(b.a)(e) ? T(Object(A.a)(e)) : E(e)
        };
        var L = function(e) {
            return "function" == typeof e ? e : null == e ? x.a : "object" == typeof e ? Object(S.a)(e) ? _(e[0], e[1]) : m(e) : k(e)
        };
        var P = function(e, t, i, a, n) {
            return n(e, function(e, n, r) {
                i = a ? (a = !1,
                e) : t(i, e, n, r)
            }),
            i
        };
        var z = function(e, t, i) {
            var r = Object(S.a)(e) ? a : P
              , o = arguments.length < 3;
            return r(e, L(t, 4), i, o, n.a)
        }
          , I = i(1916)
          , D = i(1909)
          , B = 4;
        var M = function(e) {
            return Object(D.a)(e, B)
        }
          , O = i(10)
          , R = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var i = arguments[t];
                for (var a in i)
                    Object.prototype.hasOwnProperty.call(i, a) && (e[a] = i[a])
            }
            return e
        }
        ;
        function N(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var V = /^on(.+)$/i
          , j = function(e) {
            function t(i, a) {
                !function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t);
                var n = function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.call(this, i, a));
                return n._leafletEvents = {},
                n
            }
            return N(t, e),
            t.prototype.componentWillMount = function() {
                this._leafletEvents = this.extractLeafletEvents(this.props)
            }
            ,
            t.prototype.componentDidMount = function() {
                this.bindLeafletEvents(this._leafletEvents)
            }
            ,
            t.prototype.componentWillReceiveProps = function(e) {
                var t = this.extractLeafletEvents(e);
                this._leafletEvents = this.bindLeafletEvents(t, this._leafletEvents)
            }
            ,
            t.prototype.componentWillUnmount = function() {
                var e = this.leafletElement;
                e && Object(I.a)(this._leafletEvents, function(t, i) {
                    e.off(i, t)
                })
            }
            ,
            t.prototype.extractLeafletEvents = function(e) {
                return z(Object(d.a)(e), function(t, i) {
                    if (V.test(i)) {
                        var a = i.replace(V, function(e, t) {
                            return t.toLowerCase()
                        });
                        null != e[i] && (t[a] = e[i])
                    }
                    return t
                }, {})
            }
            ,
            t.prototype.bindLeafletEvents = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                  , i = this.leafletElement;
                if (null == i || null == i.on)
                    return {};
                var a = M(t);
                return Object(I.a)(t, function(t, n) {
                    e[n] && t === e[n] || (delete a[n],
                    i.off(n, t))
                }),
                Object(I.a)(e, function(e, n) {
                    t[n] && e === t[n] || (a[n] = e,
                    i.on(n, e))
                }),
                a
            }
            ,
            t.prototype.fireLeafletEvent = function(e, t) {
                var i = this.leafletElement;
                i && i.fire(e, t)
            }
            ,
            t.prototype.getOptions = function(e) {
                var t = null == e.pane ? this.context.pane : e.pane;
                return t ? R({}, e, {
                    pane: t
                }) : e
            }
            ,
            t
        }(O.Component);
        t.a = j
    },
    1784: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            idAttribute: "userOptionalFeaturePK",
            url: function() {
                var e = "/proxy/userprofile-service/userprofile/optional-feature/segment-leaderboard/";
                return this.hasChanged("userOptionType") && (e += this.mapUserOptionType()),
                e + this.displayName
            },
            initialize: function(e) {
                if (this.displayName = e.displayName,
                !this.displayName)
                    throw "displayName required for SegmentOptionalFeature"
            },
            isOptedIn: function() {
                return "OPT_IN" === this.get("userOptionType")
            },
            mapUserOptionType: function() {
                return "OPT_IN" === this.get("userOptionType") ? "opt-in/" : "opt-out/"
            }
        });
        t.a = n
    },
    1785: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            idAttribute: "segmentPk",
            urlRoot: "/proxy/course-service/segment/user/"
        });
        t.a = n
    },
    1786: function(e, t) {
        !function(e, t, i) {
            L.drawVersion = "1.0.4",
            L.Draw = {},
            L.drawLocal = {
                draw: {
                    toolbar: {
                        actions: {
                            title: "Cancel drawing",
                            text: "Cancel"
                        },
                        finish: {
                            title: "Finish drawing",
                            text: "Finish"
                        },
                        undo: {
                            title: "Delete last point drawn",
                            text: "Delete last point"
                        },
                        buttons: {
                            polyline: "Draw a polyline",
                            polygon: "Draw a polygon",
                            rectangle: "Draw a rectangle",
                            circle: "Draw a circle",
                            marker: "Draw a marker",
                            circlemarker: "Draw a circlemarker"
                        }
                    },
                    handlers: {
                        circle: {
                            tooltip: {
                                start: "Click and drag to draw circle."
                            },
                            radius: "Radius"
                        },
                        circlemarker: {
                            tooltip: {
                                start: "Click map to place circle marker."
                            }
                        },
                        marker: {
                            tooltip: {
                                start: "Click map to place marker."
                            }
                        },
                        polygon: {
                            tooltip: {
                                start: "Click to start drawing shape.",
                                cont: "Click to continue drawing shape.",
                                end: "Click first point to close this shape."
                            }
                        },
                        polyline: {
                            error: "<strong>Error:</strong> shape edges cannot cross!",
                            tooltip: {
                                start: "Click to start drawing line.",
                                cont: "Click to continue drawing line.",
                                end: "Click last point to finish line."
                            }
                        },
                        rectangle: {
                            tooltip: {
                                start: "Click and drag to draw rectangle."
                            }
                        },
                        simpleshape: {
                            tooltip: {
                                end: "Release mouse to finish drawing."
                            }
                        }
                    }
                },
                edit: {
                    toolbar: {
                        actions: {
                            save: {
                                title: "Save changes",
                                text: "Save"
                            },
                            cancel: {
                                title: "Cancel editing, discards all changes",
                                text: "Cancel"
                            },
                            clearAll: {
                                title: "Clear all layers",
                                text: "Clear All"
                            }
                        },
                        buttons: {
                            edit: "Edit layers",
                            editDisabled: "No layers to edit",
                            remove: "Delete layers",
                            removeDisabled: "No layers to delete"
                        }
                    },
                    handlers: {
                        edit: {
                            tooltip: {
                                text: "Drag handles or markers to edit features.",
                                subtext: "Click cancel to undo changes."
                            }
                        },
                        remove: {
                            tooltip: {
                                text: "Click on a feature to remove."
                            }
                        }
                    }
                }
            },
            L.Draw.Event = {},
            L.Draw.Event.CREATED = "draw:created",
            L.Draw.Event.EDITED = "draw:edited",
            L.Draw.Event.DELETED = "draw:deleted",
            L.Draw.Event.DRAWSTART = "draw:drawstart",
            L.Draw.Event.DRAWSTOP = "draw:drawstop",
            L.Draw.Event.DRAWVERTEX = "draw:drawvertex",
            L.Draw.Event.EDITSTART = "draw:editstart",
            L.Draw.Event.EDITMOVE = "draw:editmove",
            L.Draw.Event.EDITRESIZE = "draw:editresize",
            L.Draw.Event.EDITVERTEX = "draw:editvertex",
            L.Draw.Event.EDITSTOP = "draw:editstop",
            L.Draw.Event.DELETESTART = "draw:deletestart",
            L.Draw.Event.DELETESTOP = "draw:deletestop",
            L.Draw.Event.TOOLBAROPENED = "draw:toolbaropened",
            L.Draw.Event.TOOLBARCLOSED = "draw:toolbarclosed",
            L.Draw.Event.MARKERCONTEXT = "draw:markercontext",
            L.Draw = L.Draw || {},
            L.Draw.Feature = L.Handler.extend({
                initialize: function(e, t) {
                    this._map = e,
                    this._container = e._container,
                    this._overlayPane = e._panes.overlayPane,
                    this._popupPane = e._panes.popupPane,
                    t && t.shapeOptions && (t.shapeOptions = L.Util.extend({}, this.options.shapeOptions, t.shapeOptions)),
                    L.setOptions(this, t);
                    var i = L.version.split(".");
                    1 === parseInt(i[0], 10) && parseInt(i[1], 10) >= 2 ? L.Draw.Feature.include(L.Evented.prototype) : L.Draw.Feature.include(L.Mixin.Events)
                },
                enable: function() {
                    this._enabled || (L.Handler.prototype.enable.call(this),
                    this.fire("enabled", {
                        handler: this.type
                    }),
                    this._map.fire(L.Draw.Event.DRAWSTART, {
                        layerType: this.type
                    }))
                },
                disable: function() {
                    this._enabled && (L.Handler.prototype.disable.call(this),
                    this._map.fire(L.Draw.Event.DRAWSTOP, {
                        layerType: this.type
                    }),
                    this.fire("disabled", {
                        handler: this.type
                    }))
                },
                addHooks: function() {
                    var e = this._map;
                    e && (L.DomUtil.disableTextSelection(),
                    e.getContainer().focus(),
                    this._tooltip = new L.Draw.Tooltip(this._map),
                    L.DomEvent.on(this._container, "keyup", this._cancelDrawing, this))
                },
                removeHooks: function() {
                    this._map && (L.DomUtil.enableTextSelection(),
                    this._tooltip.dispose(),
                    this._tooltip = null,
                    L.DomEvent.off(this._container, "keyup", this._cancelDrawing, this))
                },
                setOptions: function(e) {
                    L.setOptions(this, e)
                },
                _fireCreatedEvent: function(e) {
                    this._map.fire(L.Draw.Event.CREATED, {
                        layer: e,
                        layerType: this.type
                    })
                },
                _cancelDrawing: function(e) {
                    27 === e.keyCode && (this._map.fire("draw:canceled", {
                        layerType: this.type
                    }),
                    this.disable())
                }
            }),
            L.Draw.Polyline = L.Draw.Feature.extend({
                statics: {
                    TYPE: "polyline"
                },
                Poly: L.Polyline,
                options: {
                    allowIntersection: !0,
                    repeatMode: !1,
                    drawError: {
                        color: "#b00b00",
                        timeout: 2500
                    },
                    icon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon"
                    }),
                    touchIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"
                    }),
                    guidelineDistance: 20,
                    maxGuideLineLength: 4e3,
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !1,
                        clickable: !0
                    },
                    metric: !0,
                    feet: !0,
                    nautic: !1,
                    showLength: !0,
                    zIndexOffset: 2e3,
                    factor: 1,
                    maxPoints: 0
                },
                initialize: function(e, t) {
                    L.Browser.touch && (this.options.icon = this.options.touchIcon),
                    this.options.drawError.message = L.drawLocal.draw.handlers.polyline.error,
                    t && t.drawError && (t.drawError = L.Util.extend({}, this.options.drawError, t.drawError)),
                    this.type = L.Draw.Polyline.TYPE,
                    L.Draw.Feature.prototype.initialize.call(this, e, t)
                },
                addHooks: function() {
                    L.Draw.Feature.prototype.addHooks.call(this),
                    this._map && (this._markers = [],
                    this._markerGroup = new L.LayerGroup,
                    this._map.addLayer(this._markerGroup),
                    this._poly = new L.Polyline([],this.options.shapeOptions),
                    this._tooltip.updateContent(this._getTooltipText()),
                    this._mouseMarker || (this._mouseMarker = L.marker(this._map.getCenter(), {
                        icon: L.divIcon({
                            className: "leaflet-mouse-marker",
                            iconAnchor: [20, 20],
                            iconSize: [40, 40]
                        }),
                        opacity: 0,
                        zIndexOffset: this.options.zIndexOffset
                    })),
                    this._mouseMarker.on("mouseout", this._onMouseOut, this).on("mousemove", this._onMouseMove, this).on("mousedown", this._onMouseDown, this).on("mouseup", this._onMouseUp, this).addTo(this._map),
                    this._map.on("mouseup", this._onMouseUp, this).on("mousemove", this._onMouseMove, this).on("zoomlevelschange", this._onZoomEnd, this).on("touchstart", this._onTouch, this).on("zoomend", this._onZoomEnd, this))
                },
                removeHooks: function() {
                    L.Draw.Feature.prototype.removeHooks.call(this),
                    this._clearHideErrorTimeout(),
                    this._cleanUpShape(),
                    this._map.removeLayer(this._markerGroup),
                    delete this._markerGroup,
                    delete this._markers,
                    this._map.removeLayer(this._poly),
                    delete this._poly,
                    this._mouseMarker.off("mousedown", this._onMouseDown, this).off("mouseout", this._onMouseOut, this).off("mouseup", this._onMouseUp, this).off("mousemove", this._onMouseMove, this),
                    this._map.removeLayer(this._mouseMarker),
                    delete this._mouseMarker,
                    this._clearGuides(),
                    this._map.off("mouseup", this._onMouseUp, this).off("mousemove", this._onMouseMove, this).off("zoomlevelschange", this._onZoomEnd, this).off("zoomend", this._onZoomEnd, this).off("touchstart", this._onTouch, this).off("click", this._onTouch, this)
                },
                deleteLastVertex: function() {
                    if (!(this._markers.length <= 1)) {
                        var e = this._markers.pop()
                          , t = this._poly
                          , i = t.getLatLngs()
                          , a = i.splice(-1, 1)[0];
                        this._poly.setLatLngs(i),
                        this._markerGroup.removeLayer(e),
                        t.getLatLngs().length < 2 && this._map.removeLayer(t),
                        this._vertexChanged(a, !1)
                    }
                },
                addVertex: function(e) {
                    this._markers.length >= 2 && !this.options.allowIntersection && this._poly.newLatLngIntersects(e) ? this._showErrorTooltip() : (this._errorShown && this._hideErrorTooltip(),
                    this._markers.push(this._createMarker(e)),
                    this._poly.addLatLng(e),
                    2 === this._poly.getLatLngs().length && this._map.addLayer(this._poly),
                    this._vertexChanged(e, !0))
                },
                completeShape: function() {
                    this._markers.length <= 1 || !this._shapeIsValid() || (this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable())
                },
                _finishShape: function() {
                    var e = this._poly._defaultShape ? this._poly._defaultShape() : this._poly.getLatLngs()
                      , t = this._poly.newLatLngIntersects(e[e.length - 1]);
                    !this.options.allowIntersection && t || !this._shapeIsValid() ? this._showErrorTooltip() : (this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable())
                },
                _shapeIsValid: function() {
                    return !0
                },
                _onZoomEnd: function() {
                    null !== this._markers && this._updateGuide()
                },
                _onMouseMove: function(e) {
                    var t = this._map.mouseEventToLayerPoint(e.originalEvent)
                      , i = this._map.layerPointToLatLng(t);
                    this._currentLatLng = i,
                    this._updateTooltip(i),
                    this._updateGuide(t),
                    this._mouseMarker.setLatLng(i),
                    L.DomEvent.preventDefault(e.originalEvent)
                },
                _vertexChanged: function(e, t) {
                    this._map.fire(L.Draw.Event.DRAWVERTEX, {
                        layers: this._markerGroup
                    }),
                    this._updateFinishHandler(),
                    this._updateRunningMeasure(e, t),
                    this._clearGuides(),
                    this._updateTooltip()
                },
                _onMouseDown: function(e) {
                    if (!this._clickHandled && !this._touchHandled && !this._disableMarkers) {
                        this._onMouseMove(e),
                        this._clickHandled = !0,
                        this._disableNewMarkers();
                        var t = e.originalEvent
                          , i = t.clientX
                          , a = t.clientY;
                        this._startPoint.call(this, i, a)
                    }
                },
                _startPoint: function(e, t) {
                    this._mouseDownOrigin = L.point(e, t)
                },
                _onMouseUp: function(e) {
                    var t = e.originalEvent
                      , i = t.clientX
                      , a = t.clientY;
                    this._endPoint.call(this, i, a, e),
                    this._clickHandled = null
                },
                _endPoint: function(t, i, a) {
                    if (this._mouseDownOrigin) {
                        var n = L.point(t, i).distanceTo(this._mouseDownOrigin)
                          , r = this._calculateFinishDistance(a.latlng);
                        this.options.maxPoints > 1 && this.options.maxPoints == this._markers.length + 1 ? (this.addVertex(a.latlng),
                        this._finishShape()) : r < 10 && L.Browser.touch ? this._finishShape() : Math.abs(n) < 9 * (e.devicePixelRatio || 1) && this.addVertex(a.latlng),
                        this._enableNewMarkers()
                    }
                    this._mouseDownOrigin = null
                },
                _onTouch: function(e) {
                    var t, i, a = e.originalEvent;
                    !a.touches || !a.touches[0] || this._clickHandled || this._touchHandled || this._disableMarkers || (t = a.touches[0].clientX,
                    i = a.touches[0].clientY,
                    this._disableNewMarkers(),
                    this._touchHandled = !0,
                    this._startPoint.call(this, t, i),
                    this._endPoint.call(this, t, i, e),
                    this._touchHandled = null),
                    this._clickHandled = null
                },
                _onMouseOut: function() {
                    this._tooltip && this._tooltip._onMouseOut.call(this._tooltip)
                },
                _calculateFinishDistance: function(e) {
                    var t;
                    if (this._markers.length > 0) {
                        var i;
                        if (this.type === L.Draw.Polyline.TYPE)
                            i = this._markers[this._markers.length - 1];
                        else {
                            if (this.type !== L.Draw.Polygon.TYPE)
                                return 1 / 0;
                            i = this._markers[0]
                        }
                        var a = this._map.latLngToContainerPoint(i.getLatLng())
                          , n = new L.Marker(e,{
                            icon: this.options.icon,
                            zIndexOffset: 2 * this.options.zIndexOffset
                        })
                          , r = this._map.latLngToContainerPoint(n.getLatLng());
                        t = a.distanceTo(r)
                    } else
                        t = 1 / 0;
                    return t
                },
                _updateFinishHandler: function() {
                    var e = this._markers.length;
                    e > 1 && this._markers[e - 1].on("click", this._finishShape, this),
                    e > 2 && this._markers[e - 2].off("click", this._finishShape, this)
                },
                _createMarker: function(e) {
                    var t = new L.Marker(e,{
                        icon: this.options.icon,
                        zIndexOffset: 2 * this.options.zIndexOffset
                    });
                    return this._markerGroup.addLayer(t),
                    t
                },
                _updateGuide: function(e) {
                    var t = this._markers ? this._markers.length : 0;
                    t > 0 && (e = e || this._map.latLngToLayerPoint(this._currentLatLng),
                    this._clearGuides(),
                    this._drawGuide(this._map.latLngToLayerPoint(this._markers[t - 1].getLatLng()), e))
                },
                _updateTooltip: function(e) {
                    var t = this._getTooltipText();
                    e && this._tooltip.updatePosition(e),
                    this._errorShown || this._tooltip.updateContent(t)
                },
                _drawGuide: function(e, t) {
                    var i, a, n, r = Math.floor(Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2))), o = this.options.guidelineDistance, s = this.options.maxGuideLineLength, l = r > s ? r - s : o;
                    for (this._guidesContainer || (this._guidesContainer = L.DomUtil.create("div", "leaflet-draw-guides", this._overlayPane)); l < r; l += this.options.guidelineDistance)
                        i = l / r,
                        a = {
                            x: Math.floor(e.x * (1 - i) + i * t.x),
                            y: Math.floor(e.y * (1 - i) + i * t.y)
                        },
                        (n = L.DomUtil.create("div", "leaflet-draw-guide-dash", this._guidesContainer)).style.backgroundColor = this._errorShown ? this.options.drawError.color : this.options.shapeOptions.color,
                        L.DomUtil.setPosition(n, a)
                },
                _updateGuideColor: function(e) {
                    if (this._guidesContainer)
                        for (var t = 0, i = this._guidesContainer.childNodes.length; t < i; t++)
                            this._guidesContainer.childNodes[t].style.backgroundColor = e
                },
                _clearGuides: function() {
                    if (this._guidesContainer)
                        for (; this._guidesContainer.firstChild; )
                            this._guidesContainer.removeChild(this._guidesContainer.firstChild)
                },
                _getTooltipText: function() {
                    var e, t, i = this.options.showLength;
                    return 0 === this._markers.length ? e = {
                        text: L.drawLocal.draw.handlers.polyline.tooltip.start
                    } : (t = i ? this._getMeasurementString() : "",
                    e = 1 === this._markers.length ? {
                        text: L.drawLocal.draw.handlers.polyline.tooltip.cont,
                        subtext: t
                    } : {
                        text: L.drawLocal.draw.handlers.polyline.tooltip.end,
                        subtext: t
                    }),
                    e
                },
                _updateRunningMeasure: function(e, t) {
                    var i, a, n = this._markers.length;
                    1 === this._markers.length ? this._measurementRunningTotal = 0 : (i = n - (t ? 2 : 1),
                    a = L.GeometryUtil.isVersion07x() ? e.distanceTo(this._markers[i].getLatLng()) * (this.options.factor || 1) : this._map.distance(e, this._markers[i].getLatLng()) * (this.options.factor || 1),
                    this._measurementRunningTotal += a * (t ? 1 : -1))
                },
                _getMeasurementString: function() {
                    var e, t = this._currentLatLng, i = this._markers[this._markers.length - 1].getLatLng();
                    return e = L.GeometryUtil.isVersion07x() ? i && t && t.distanceTo ? this._measurementRunningTotal + t.distanceTo(i) * (this.options.factor || 1) : this._measurementRunningTotal || 0 : i && t ? this._measurementRunningTotal + this._map.distance(t, i) * (this.options.factor || 1) : this._measurementRunningTotal || 0,
                    L.GeometryUtil.readableDistance(e, this.options.metric, this.options.feet, this.options.nautic, this.options.precision)
                },
                _showErrorTooltip: function() {
                    this._errorShown = !0,
                    this._tooltip.showAsError().updateContent({
                        text: this.options.drawError.message
                    }),
                    this._updateGuideColor(this.options.drawError.color),
                    this._poly.setStyle({
                        color: this.options.drawError.color
                    }),
                    this._clearHideErrorTimeout(),
                    this._hideErrorTimeout = setTimeout(L.Util.bind(this._hideErrorTooltip, this), this.options.drawError.timeout)
                },
                _hideErrorTooltip: function() {
                    this._errorShown = !1,
                    this._clearHideErrorTimeout(),
                    this._tooltip.removeError().updateContent(this._getTooltipText()),
                    this._updateGuideColor(this.options.shapeOptions.color),
                    this._poly.setStyle({
                        color: this.options.shapeOptions.color
                    })
                },
                _clearHideErrorTimeout: function() {
                    this._hideErrorTimeout && (clearTimeout(this._hideErrorTimeout),
                    this._hideErrorTimeout = null)
                },
                _disableNewMarkers: function() {
                    this._disableMarkers = !0
                },
                _enableNewMarkers: function() {
                    setTimeout(function() {
                        this._disableMarkers = !1
                    }
                    .bind(this), 50)
                },
                _cleanUpShape: function() {
                    this._markers.length > 1 && this._markers[this._markers.length - 1].off("click", this._finishShape, this)
                },
                _fireCreatedEvent: function() {
                    var e = new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);
                    L.Draw.Feature.prototype._fireCreatedEvent.call(this, e)
                }
            }),
            L.Draw.Polygon = L.Draw.Polyline.extend({
                statics: {
                    TYPE: "polygon"
                },
                Poly: L.Polygon,
                options: {
                    showArea: !1,
                    showLength: !1,
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !0,
                        fillColor: null,
                        fillOpacity: .2,
                        clickable: !0
                    },
                    metric: !0,
                    feet: !0,
                    nautic: !1,
                    precision: {}
                },
                initialize: function(e, t) {
                    L.Draw.Polyline.prototype.initialize.call(this, e, t),
                    this.type = L.Draw.Polygon.TYPE
                },
                _updateFinishHandler: function() {
                    var e = this._markers.length;
                    1 === e && this._markers[0].on("click", this._finishShape, this),
                    e > 2 && (this._markers[e - 1].on("dblclick", this._finishShape, this),
                    e > 3 && this._markers[e - 2].off("dblclick", this._finishShape, this))
                },
                _getTooltipText: function() {
                    var e, t;
                    return 0 === this._markers.length ? e = L.drawLocal.draw.handlers.polygon.tooltip.start : this._markers.length < 3 ? (e = L.drawLocal.draw.handlers.polygon.tooltip.cont,
                    t = this._getMeasurementString()) : (e = L.drawLocal.draw.handlers.polygon.tooltip.end,
                    t = this._getMeasurementString()),
                    {
                        text: e,
                        subtext: t
                    }
                },
                _getMeasurementString: function() {
                    var e = this._area
                      , t = "";
                    return e || this.options.showLength ? (this.options.showLength && (t = L.Draw.Polyline.prototype._getMeasurementString.call(this)),
                    e && (t += "<br>" + L.GeometryUtil.readableArea(e, this.options.metric, this.options.precision)),
                    t) : null
                },
                _shapeIsValid: function() {
                    return this._markers.length >= 3
                },
                _vertexChanged: function(e, t) {
                    var i;
                    !this.options.allowIntersection && this.options.showArea && (i = this._poly.getLatLngs(),
                    this._area = L.GeometryUtil.geodesicArea(i)),
                    L.Draw.Polyline.prototype._vertexChanged.call(this, e, t)
                },
                _cleanUpShape: function() {
                    var e = this._markers.length;
                    e > 0 && (this._markers[0].off("click", this._finishShape, this),
                    e > 2 && this._markers[e - 1].off("dblclick", this._finishShape, this))
                }
            }),
            L.SimpleShape = {},
            L.Draw.SimpleShape = L.Draw.Feature.extend({
                options: {
                    repeatMode: !1
                },
                initialize: function(e, t) {
                    this._endLabelText = L.drawLocal.draw.handlers.simpleshape.tooltip.end,
                    L.Draw.Feature.prototype.initialize.call(this, e, t)
                },
                addHooks: function() {
                    L.Draw.Feature.prototype.addHooks.call(this),
                    this._map && (this._mapDraggable = this._map.dragging.enabled(),
                    this._mapDraggable && this._map.dragging.disable(),
                    this._container.style.cursor = "crosshair",
                    this._tooltip.updateContent({
                        text: this._initialLabelText
                    }),
                    this._map.on("mousedown", this._onMouseDown, this).on("mousemove", this._onMouseMove, this).on("touchstart", this._onMouseDown, this).on("touchmove", this._onMouseMove, this),
                    t.addEventListener("touchstart", L.DomEvent.preventDefault, {
                        passive: !1
                    }))
                },
                removeHooks: function() {
                    L.Draw.Feature.prototype.removeHooks.call(this),
                    this._map && (this._mapDraggable && this._map.dragging.enable(),
                    this._container.style.cursor = "",
                    this._map.off("mousedown", this._onMouseDown, this).off("mousemove", this._onMouseMove, this).off("touchstart", this._onMouseDown, this).off("touchmove", this._onMouseMove, this),
                    L.DomEvent.off(t, "mouseup", this._onMouseUp, this),
                    L.DomEvent.off(t, "touchend", this._onMouseUp, this),
                    t.removeEventListener("touchstart", L.DomEvent.preventDefault),
                    this._shape && (this._map.removeLayer(this._shape),
                    delete this._shape)),
                    this._isDrawing = !1
                },
                _getTooltipText: function() {
                    return {
                        text: this._endLabelText
                    }
                },
                _onMouseDown: function(e) {
                    this._isDrawing = !0,
                    this._startLatLng = e.latlng,
                    L.DomEvent.on(t, "mouseup", this._onMouseUp, this).on(t, "touchend", this._onMouseUp, this).preventDefault(e.originalEvent)
                },
                _onMouseMove: function(e) {
                    var t = e.latlng;
                    this._tooltip.updatePosition(t),
                    this._isDrawing && (this._tooltip.updateContent(this._getTooltipText()),
                    this._drawShape(t))
                },
                _onMouseUp: function() {
                    this._shape && this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable()
                }
            }),
            L.Draw.Rectangle = L.Draw.SimpleShape.extend({
                statics: {
                    TYPE: "rectangle"
                },
                options: {
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !0,
                        fillColor: null,
                        fillOpacity: .2,
                        clickable: !0
                    },
                    showArea: !0,
                    metric: !0
                },
                initialize: function(e, t) {
                    this.type = L.Draw.Rectangle.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.rectangle.tooltip.start,
                    L.Draw.SimpleShape.prototype.initialize.call(this, e, t)
                },
                disable: function() {
                    this._enabled && (this._isCurrentlyTwoClickDrawing = !1,
                    L.Draw.SimpleShape.prototype.disable.call(this))
                },
                _onMouseUp: function(e) {
                    this._shape || this._isCurrentlyTwoClickDrawing ? this._isCurrentlyTwoClickDrawing && !function(e, t) {
                        for (; (e = e.parentElement) && !e.classList.contains(t); )
                            ;
                        return e
                    }(e.target, "leaflet-pane") || L.Draw.SimpleShape.prototype._onMouseUp.call(this) : this._isCurrentlyTwoClickDrawing = !0
                },
                _drawShape: function(e) {
                    this._shape ? this._shape.setBounds(new L.LatLngBounds(this._startLatLng,e)) : (this._shape = new L.Rectangle(new L.LatLngBounds(this._startLatLng,e),this.options.shapeOptions),
                    this._map.addLayer(this._shape))
                },
                _fireCreatedEvent: function() {
                    var e = new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);
                    L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, e)
                },
                _getTooltipText: function() {
                    var e, t, i, a = L.Draw.SimpleShape.prototype._getTooltipText.call(this), n = this._shape, r = this.options.showArea;
                    return n && (e = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs(),
                    t = L.GeometryUtil.geodesicArea(e),
                    i = r ? L.GeometryUtil.readableArea(t, this.options.metric) : ""),
                    {
                        text: a.text,
                        subtext: i
                    }
                }
            }),
            L.Draw.Marker = L.Draw.Feature.extend({
                statics: {
                    TYPE: "marker"
                },
                options: {
                    icon: new L.Icon.Default,
                    repeatMode: !1,
                    zIndexOffset: 2e3
                },
                initialize: function(e, t) {
                    this.type = L.Draw.Marker.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.marker.tooltip.start,
                    L.Draw.Feature.prototype.initialize.call(this, e, t)
                },
                addHooks: function() {
                    L.Draw.Feature.prototype.addHooks.call(this),
                    this._map && (this._tooltip.updateContent({
                        text: this._initialLabelText
                    }),
                    this._mouseMarker || (this._mouseMarker = L.marker(this._map.getCenter(), {
                        icon: L.divIcon({
                            className: "leaflet-mouse-marker",
                            iconAnchor: [20, 20],
                            iconSize: [40, 40]
                        }),
                        opacity: 0,
                        zIndexOffset: this.options.zIndexOffset
                    })),
                    this._mouseMarker.on("click", this._onClick, this).addTo(this._map),
                    this._map.on("mousemove", this._onMouseMove, this),
                    this._map.on("click", this._onTouch, this))
                },
                removeHooks: function() {
                    L.Draw.Feature.prototype.removeHooks.call(this),
                    this._map && (this._map.off("click", this._onClick, this).off("click", this._onTouch, this),
                    this._marker && (this._marker.off("click", this._onClick, this),
                    this._map.removeLayer(this._marker),
                    delete this._marker),
                    this._mouseMarker.off("click", this._onClick, this),
                    this._map.removeLayer(this._mouseMarker),
                    delete this._mouseMarker,
                    this._map.off("mousemove", this._onMouseMove, this))
                },
                _onMouseMove: function(e) {
                    var t = e.latlng;
                    this._tooltip.updatePosition(t),
                    this._mouseMarker.setLatLng(t),
                    this._marker ? (t = this._mouseMarker.getLatLng(),
                    this._marker.setLatLng(t)) : (this._marker = this._createMarker(t),
                    this._marker.on("click", this._onClick, this),
                    this._map.on("click", this._onClick, this).addLayer(this._marker))
                },
                _createMarker: function(e) {
                    return new L.Marker(e,{
                        icon: this.options.icon,
                        zIndexOffset: this.options.zIndexOffset
                    })
                },
                _onClick: function() {
                    this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable()
                },
                _onTouch: function(e) {
                    this._onMouseMove(e),
                    this._onClick()
                },
                _fireCreatedEvent: function() {
                    var e = new L.Marker.Touch(this._marker.getLatLng(),{
                        icon: this.options.icon
                    });
                    L.Draw.Feature.prototype._fireCreatedEvent.call(this, e)
                }
            }),
            L.Draw.CircleMarker = L.Draw.Marker.extend({
                statics: {
                    TYPE: "circlemarker"
                },
                options: {
                    stroke: !0,
                    color: "#3388ff",
                    weight: 4,
                    opacity: .5,
                    fill: !0,
                    fillColor: null,
                    fillOpacity: .2,
                    clickable: !0,
                    zIndexOffset: 2e3
                },
                initialize: function(e, t) {
                    this.type = L.Draw.CircleMarker.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.circlemarker.tooltip.start,
                    L.Draw.Feature.prototype.initialize.call(this, e, t)
                },
                _fireCreatedEvent: function() {
                    var e = new L.CircleMarker(this._marker.getLatLng(),this.options);
                    L.Draw.Feature.prototype._fireCreatedEvent.call(this, e)
                },
                _createMarker: function(e) {
                    return new L.CircleMarker(e,this.options)
                }
            }),
            L.Draw.Circle = L.Draw.SimpleShape.extend({
                statics: {
                    TYPE: "circle"
                },
                options: {
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !0,
                        fillColor: null,
                        fillOpacity: .2,
                        clickable: !0
                    },
                    showRadius: !0,
                    metric: !0,
                    feet: !0,
                    nautic: !1
                },
                initialize: function(e, t) {
                    this.type = L.Draw.Circle.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.circle.tooltip.start,
                    L.Draw.SimpleShape.prototype.initialize.call(this, e, t)
                },
                _drawShape: function(e) {
                    if (L.GeometryUtil.isVersion07x())
                        var t = this._startLatLng.distanceTo(e);
                    else
                        t = this._map.distance(this._startLatLng, e);
                    this._shape ? this._shape.setRadius(t) : (this._shape = new L.Circle(this._startLatLng,t,this.options.shapeOptions),
                    this._map.addLayer(this._shape))
                },
                _fireCreatedEvent: function() {
                    var e = new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);
                    L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, e)
                },
                _onMouseMove: function(e) {
                    var t, i = e.latlng, a = this.options.showRadius, n = this.options.metric;
                    if (this._tooltip.updatePosition(i),
                    this._isDrawing) {
                        this._drawShape(i),
                        t = this._shape.getRadius().toFixed(1);
                        var r = "";
                        a && (r = L.drawLocal.draw.handlers.circle.radius + ": " + L.GeometryUtil.readableDistance(t, n, this.options.feet, this.options.nautic)),
                        this._tooltip.updateContent({
                            text: this._endLabelText,
                            subtext: r
                        })
                    }
                }
            }),
            L.Edit = L.Edit || {},
            L.Edit.Marker = L.Handler.extend({
                initialize: function(e, t) {
                    this._marker = e,
                    L.setOptions(this, t)
                },
                addHooks: function() {
                    var e = this._marker;
                    e.dragging.enable(),
                    e.on("dragend", this._onDragEnd, e),
                    this._toggleMarkerHighlight()
                },
                removeHooks: function() {
                    var e = this._marker;
                    e.dragging.disable(),
                    e.off("dragend", this._onDragEnd, e),
                    this._toggleMarkerHighlight()
                },
                _onDragEnd: function(e) {
                    var t = e.target;
                    t.edited = !0,
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: t
                    })
                },
                _toggleMarkerHighlight: function() {
                    var e = this._marker._icon;
                    e && (e.style.display = "none",
                    L.DomUtil.hasClass(e, "leaflet-edit-marker-selected") ? (L.DomUtil.removeClass(e, "leaflet-edit-marker-selected"),
                    this._offsetMarker(e, -4)) : (L.DomUtil.addClass(e, "leaflet-edit-marker-selected"),
                    this._offsetMarker(e, 4)),
                    e.style.display = "")
                },
                _offsetMarker: function(e, t) {
                    var i = parseInt(e.style.marginTop, 10) - t
                      , a = parseInt(e.style.marginLeft, 10) - t;
                    e.style.marginTop = i + "px",
                    e.style.marginLeft = a + "px"
                }
            }),
            L.Marker.addInitHook(function() {
                L.Edit.Marker && (this.editing = new L.Edit.Marker(this),
                this.options.editable && this.editing.enable())
            }),
            L.Edit = L.Edit || {},
            L.Edit.Poly = L.Handler.extend({
                initialize: function(e) {
                    this.latlngs = [e._latlngs],
                    e._holes && (this.latlngs = this.latlngs.concat(e._holes)),
                    this._poly = e,
                    this._poly.on("revert-edited", this._updateLatLngs, this)
                },
                _defaultShape: function() {
                    return L.Polyline._flat ? L.Polyline._flat(this._poly._latlngs) ? this._poly._latlngs : this._poly._latlngs[0] : this._poly._latlngs
                },
                _eachVertexHandler: function(e) {
                    for (var t = 0; t < this._verticesHandlers.length; t++)
                        e(this._verticesHandlers[t])
                },
                addHooks: function() {
                    this._initHandlers(),
                    this._eachVertexHandler(function(e) {
                        e.addHooks()
                    })
                },
                removeHooks: function() {
                    this._eachVertexHandler(function(e) {
                        e.removeHooks()
                    })
                },
                updateMarkers: function() {
                    this._eachVertexHandler(function(e) {
                        e.updateMarkers()
                    })
                },
                _initHandlers: function() {
                    this._verticesHandlers = [];
                    for (var e = 0; e < this.latlngs.length; e++)
                        this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[e],this._poly.options.poly))
                },
                _updateLatLngs: function(e) {
                    this.latlngs = [e.layer._latlngs],
                    e.layer._holes && (this.latlngs = this.latlngs.concat(e.layer._holes))
                }
            }),
            L.Edit.PolyVerticesEdit = L.Handler.extend({
                options: {
                    icon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon"
                    }),
                    touchIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"
                    }),
                    drawError: {
                        color: "#b00b00",
                        timeout: 1e3
                    }
                },
                initialize: function(e, t, i) {
                    L.Browser.touch && (this.options.icon = this.options.touchIcon),
                    this._poly = e,
                    i && i.drawError && (i.drawError = L.Util.extend({}, this.options.drawError, i.drawError)),
                    this._latlngs = t,
                    L.setOptions(this, i)
                },
                _defaultShape: function() {
                    return L.Polyline._flat ? L.Polyline._flat(this._latlngs) ? this._latlngs : this._latlngs[0] : this._latlngs
                },
                addHooks: function() {
                    var e = this._poly
                      , t = e._path;
                    e instanceof L.Polygon || (e.options.fill = !1,
                    e.options.editing && (e.options.editing.fill = !1)),
                    t && e.options.editing && e.options.editing.className && (e.options.original.className && e.options.original.className.split(" ").forEach(function(e) {
                        L.DomUtil.removeClass(t, e)
                    }),
                    e.options.editing.className.split(" ").forEach(function(e) {
                        L.DomUtil.addClass(t, e)
                    })),
                    e.setStyle(e.options.editing),
                    this._poly._map && (this._map = this._poly._map,
                    this._markerGroup || this._initMarkers(),
                    this._poly._map.addLayer(this._markerGroup))
                },
                removeHooks: function() {
                    var e = this._poly
                      , t = e._path;
                    t && e.options.editing && e.options.editing.className && (e.options.editing.className.split(" ").forEach(function(e) {
                        L.DomUtil.removeClass(t, e)
                    }),
                    e.options.original.className && e.options.original.className.split(" ").forEach(function(e) {
                        L.DomUtil.addClass(t, e)
                    })),
                    e.setStyle(e.options.original),
                    e._map && (e._map.removeLayer(this._markerGroup),
                    delete this._markerGroup,
                    delete this._markers)
                },
                updateMarkers: function() {
                    this._markerGroup.clearLayers(),
                    this._initMarkers()
                },
                _initMarkers: function() {
                    this._markerGroup || (this._markerGroup = new L.LayerGroup),
                    this._markers = [];
                    var e, t, i, a, n, r, o = this._defaultShape();
                    for (e = 0,
                    i = o.length; e < i; e++)
                        (a = this._createMarker(o[e], e)).on("click", this._onMarkerClick, this),
                        a.on("contextmenu", this._onContextMenu, this),
                        this._markers.push(a);
                    for (e = 0,
                    t = i - 1; e < i; t = e++)
                        (0 !== e || L.Polygon && this._poly instanceof L.Polygon) && (n = this._markers[t],
                        r = this._markers[e],
                        this._createMiddleMarker(n, r),
                        this._updatePrevNext(n, r))
                },
                _createMarker: function(e, t) {
                    var i = new L.Marker.Touch(e,{
                        draggable: !0,
                        icon: this.options.icon
                    });
                    return i._origLatLng = e,
                    i._index = t,
                    i.on("dragstart", this._onMarkerDragStart, this).on("drag", this._onMarkerDrag, this).on("dragend", this._fireEdit, this).on("touchmove", this._onTouchMove, this).on("touchend", this._fireEdit, this).on("MSPointerMove", this._onTouchMove, this).on("MSPointerUp", this._fireEdit, this),
                    this._markerGroup.addLayer(i),
                    i
                },
                _onMarkerDragStart: function() {
                    this._poly.fire("editstart")
                },
                _spliceLatLngs: function() {
                    var e = this._defaultShape()
                      , t = [].splice.apply(e, arguments);
                    return this._poly._convertLatLngs(e, !0),
                    this._poly.redraw(),
                    t
                },
                _removeMarker: function(e) {
                    var t = e._index;
                    this._markerGroup.removeLayer(e),
                    this._markers.splice(t, 1),
                    this._spliceLatLngs(t, 1),
                    this._updateIndexes(t, -1),
                    e.off("dragstart", this._onMarkerDragStart, this).off("drag", this._onMarkerDrag, this).off("dragend", this._fireEdit, this).off("touchmove", this._onMarkerDrag, this).off("touchend", this._fireEdit, this).off("click", this._onMarkerClick, this).off("MSPointerMove", this._onTouchMove, this).off("MSPointerUp", this._fireEdit, this)
                },
                _fireEdit: function() {
                    this._poly.edited = !0,
                    this._poly.fire("edit"),
                    this._poly._map.fire(L.Draw.Event.EDITVERTEX, {
                        layers: this._markerGroup,
                        poly: this._poly
                    })
                },
                _onMarkerDrag: function(e) {
                    var t = e.target
                      , i = this._poly
                      , a = L.LatLngUtil.cloneLatLng(t._origLatLng);
                    if (L.extend(t._origLatLng, t._latlng),
                    i.options.poly) {
                        var n = i._map._editTooltip;
                        if (!i.options.poly.allowIntersection && i.intersects()) {
                            L.extend(t._origLatLng, a),
                            t.setLatLng(a);
                            var r = i.options.color;
                            i.setStyle({
                                color: this.options.drawError.color
                            }),
                            n && n.updateContent({
                                text: L.drawLocal.draw.handlers.polyline.error
                            }),
                            setTimeout(function() {
                                i.setStyle({
                                    color: r
                                }),
                                n && n.updateContent({
                                    text: L.drawLocal.edit.handlers.edit.tooltip.text,
                                    subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                                })
                            }, 1e3)
                        }
                    }
                    t._middleLeft && t._middleLeft.setLatLng(this._getMiddleLatLng(t._prev, t)),
                    t._middleRight && t._middleRight.setLatLng(this._getMiddleLatLng(t, t._next)),
                    this._poly._bounds._southWest = L.latLng(1 / 0, 1 / 0),
                    this._poly._bounds._northEast = L.latLng(-1 / 0, -1 / 0);
                    var o = this._poly.getLatLngs();
                    this._poly._convertLatLngs(o, !0),
                    this._poly.redraw(),
                    this._poly.fire("editdrag")
                },
                _onMarkerClick: function(e) {
                    var t = L.Polygon && this._poly instanceof L.Polygon ? 4 : 3
                      , i = e.target;
                    this._defaultShape().length < t || (this._removeMarker(i),
                    this._updatePrevNext(i._prev, i._next),
                    i._middleLeft && this._markerGroup.removeLayer(i._middleLeft),
                    i._middleRight && this._markerGroup.removeLayer(i._middleRight),
                    i._prev && i._next ? this._createMiddleMarker(i._prev, i._next) : i._prev ? i._next || (i._prev._middleRight = null) : i._next._middleLeft = null,
                    this._fireEdit())
                },
                _onContextMenu: function(e) {
                    var t = e.target;
                    this._poly,
                    this._poly._map.fire(L.Draw.Event.MARKERCONTEXT, {
                        marker: t,
                        layers: this._markerGroup,
                        poly: this._poly
                    }),
                    L.DomEvent.stopPropagation
                },
                _onTouchMove: function(e) {
                    var t = this._map.mouseEventToLayerPoint(e.originalEvent.touches[0])
                      , i = this._map.layerPointToLatLng(t)
                      , a = e.target;
                    L.extend(a._origLatLng, i),
                    a._middleLeft && a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev, a)),
                    a._middleRight && a._middleRight.setLatLng(this._getMiddleLatLng(a, a._next)),
                    this._poly.redraw(),
                    this.updateMarkers()
                },
                _updateIndexes: function(e, t) {
                    this._markerGroup.eachLayer(function(i) {
                        i._index > e && (i._index += t)
                    })
                },
                _createMiddleMarker: function(e, t) {
                    var i, a, n, r = this._getMiddleLatLng(e, t), o = this._createMarker(r);
                    o.setOpacity(.6),
                    e._middleRight = t._middleLeft = o,
                    a = function() {
                        o.off("touchmove", a, this);
                        var n = t._index;
                        o._index = n,
                        o.off("click", i, this).on("click", this._onMarkerClick, this),
                        r.lat = o.getLatLng().lat,
                        r.lng = o.getLatLng().lng,
                        this._spliceLatLngs(n, 0, r),
                        this._markers.splice(n, 0, o),
                        o.setOpacity(1),
                        this._updateIndexes(n, 1),
                        t._index++,
                        this._updatePrevNext(e, o),
                        this._updatePrevNext(o, t),
                        this._poly.fire("editstart")
                    }
                    ,
                    n = function() {
                        o.off("dragstart", a, this),
                        o.off("dragend", n, this),
                        o.off("touchmove", a, this),
                        this._createMiddleMarker(e, o),
                        this._createMiddleMarker(o, t)
                    }
                    ,
                    i = function() {
                        a.call(this),
                        n.call(this),
                        this._fireEdit()
                    }
                    ,
                    o.on("click", i, this).on("dragstart", a, this).on("dragend", n, this).on("touchmove", a, this),
                    this._markerGroup.addLayer(o)
                },
                _updatePrevNext: function(e, t) {
                    e && (e._next = t),
                    t && (t._prev = e)
                },
                _getMiddleLatLng: function(e, t) {
                    var i = this._poly._map
                      , a = i.project(e.getLatLng())
                      , n = i.project(t.getLatLng());
                    return i.unproject(a._add(n)._divideBy(2))
                }
            }),
            L.Polyline.addInitHook(function() {
                this.editing || (L.Edit.Poly && (this.editing = new L.Edit.Poly(this),
                this.options.editable && this.editing.enable()),
                this.on("add", function() {
                    this.editing && this.editing.enabled() && this.editing.addHooks()
                }),
                this.on("remove", function() {
                    this.editing && this.editing.enabled() && this.editing.removeHooks()
                }))
            }),
            L.Edit = L.Edit || {},
            L.Edit.SimpleShape = L.Handler.extend({
                options: {
                    moveIcon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-move"
                    }),
                    resizeIcon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"
                    }),
                    touchMoveIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"
                    }),
                    touchResizeIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"
                    })
                },
                initialize: function(e, t) {
                    L.Browser.touch && (this.options.moveIcon = this.options.touchMoveIcon,
                    this.options.resizeIcon = this.options.touchResizeIcon),
                    this._shape = e,
                    L.Util.setOptions(this, t)
                },
                addHooks: function() {
                    var e = this._shape;
                    this._shape._map && (this._map = this._shape._map,
                    e.setStyle(e.options.editing),
                    e._map && (this._map = e._map,
                    this._markerGroup || this._initMarkers(),
                    this._map.addLayer(this._markerGroup)))
                },
                removeHooks: function() {
                    var e = this._shape;
                    if (e.setStyle(e.options.original),
                    e._map) {
                        this._unbindMarker(this._moveMarker);
                        for (var t = 0, i = this._resizeMarkers.length; t < i; t++)
                            this._unbindMarker(this._resizeMarkers[t]);
                        this._resizeMarkers = null,
                        this._map.removeLayer(this._markerGroup),
                        delete this._markerGroup
                    }
                    this._map = null
                },
                updateMarkers: function() {
                    this._markerGroup.clearLayers(),
                    this._initMarkers()
                },
                _initMarkers: function() {
                    this._markerGroup || (this._markerGroup = new L.LayerGroup),
                    this._createMoveMarker(),
                    this._createResizeMarker()
                },
                _createMoveMarker: function() {},
                _createResizeMarker: function() {},
                _createMarker: function(e, t) {
                    var i = new L.Marker.Touch(e,{
                        draggable: !0,
                        icon: t,
                        zIndexOffset: 10
                    });
                    return this._bindMarker(i),
                    this._markerGroup.addLayer(i),
                    i
                },
                _bindMarker: function(e) {
                    e.on("dragstart", this._onMarkerDragStart, this).on("drag", this._onMarkerDrag, this).on("dragend", this._onMarkerDragEnd, this).on("touchstart", this._onTouchStart, this).on("touchmove", this._onTouchMove, this).on("MSPointerMove", this._onTouchMove, this).on("touchend", this._onTouchEnd, this).on("MSPointerUp", this._onTouchEnd, this)
                },
                _unbindMarker: function(e) {
                    e.off("dragstart", this._onMarkerDragStart, this).off("drag", this._onMarkerDrag, this).off("dragend", this._onMarkerDragEnd, this).off("touchstart", this._onTouchStart, this).off("touchmove", this._onTouchMove, this).off("MSPointerMove", this._onTouchMove, this).off("touchend", this._onTouchEnd, this).off("MSPointerUp", this._onTouchEnd, this)
                },
                _onMarkerDragStart: function(e) {
                    e.target.setOpacity(0),
                    this._shape.fire("editstart")
                },
                _fireEdit: function() {
                    this._shape.edited = !0,
                    this._shape.fire("edit")
                },
                _onMarkerDrag: function(e) {
                    var t = e.target
                      , i = t.getLatLng();
                    t === this._moveMarker ? this._move(i) : this._resize(i),
                    this._shape.redraw(),
                    this._shape.fire("editdrag")
                },
                _onMarkerDragEnd: function(e) {
                    e.target.setOpacity(1),
                    this._fireEdit()
                },
                _onTouchStart: function(e) {
                    if (L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, e),
                    "function" == typeof this._getCorners) {
                        var t = this._getCorners()
                          , i = e.target
                          , a = i._cornerIndex;
                        i.setOpacity(0),
                        this._oppositeCorner = t[(a + 2) % 4],
                        this._toggleCornerMarkers(0, a)
                    }
                    this._shape.fire("editstart")
                },
                _onTouchMove: function(e) {
                    var t = this._map.mouseEventToLayerPoint(e.originalEvent.touches[0])
                      , i = this._map.layerPointToLatLng(t);
                    return e.target === this._moveMarker ? this._move(i) : this._resize(i),
                    this._shape.redraw(),
                    !1
                },
                _onTouchEnd: function(e) {
                    e.target.setOpacity(1),
                    this.updateMarkers(),
                    this._fireEdit()
                },
                _move: function() {},
                _resize: function() {}
            }),
            L.Edit = L.Edit || {},
            L.Edit.Rectangle = L.Edit.SimpleShape.extend({
                _createMoveMarker: function() {
                    var e = this._shape.getBounds().getCenter();
                    this._moveMarker = this._createMarker(e, this.options.moveIcon)
                },
                _createResizeMarker: function() {
                    var e = this._getCorners();
                    this._resizeMarkers = [];
                    for (var t = 0, i = e.length; t < i; t++)
                        this._resizeMarkers.push(this._createMarker(e[t], this.options.resizeIcon)),
                        this._resizeMarkers[t]._cornerIndex = t
                },
                _onMarkerDragStart: function(e) {
                    L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, e);
                    var t = this._getCorners()
                      , i = e.target._cornerIndex;
                    this._oppositeCorner = t[(i + 2) % 4],
                    this._toggleCornerMarkers(0, i)
                },
                _onMarkerDragEnd: function(e) {
                    var t, i = e.target;
                    i === this._moveMarker && (t = this._shape.getBounds().getCenter(),
                    i.setLatLng(t)),
                    this._toggleCornerMarkers(1),
                    this._repositionCornerMarkers(),
                    L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this, e)
                },
                _move: function(e) {
                    for (var t, i = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs(), a = this._shape.getBounds().getCenter(), n = [], r = 0, o = i.length; r < o; r++)
                        t = [i[r].lat - a.lat, i[r].lng - a.lng],
                        n.push([e.lat + t[0], e.lng + t[1]]);
                    this._shape.setLatLngs(n),
                    this._repositionCornerMarkers(),
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: this._shape
                    })
                },
                _resize: function(e) {
                    var t;
                    this._shape.setBounds(L.latLngBounds(e, this._oppositeCorner)),
                    t = this._shape.getBounds(),
                    this._moveMarker.setLatLng(t.getCenter()),
                    this._map.fire(L.Draw.Event.EDITRESIZE, {
                        layer: this._shape
                    })
                },
                _getCorners: function() {
                    var e = this._shape.getBounds();
                    return [e.getNorthWest(), e.getNorthEast(), e.getSouthEast(), e.getSouthWest()]
                },
                _toggleCornerMarkers: function(e) {
                    for (var t = 0, i = this._resizeMarkers.length; t < i; t++)
                        this._resizeMarkers[t].setOpacity(e)
                },
                _repositionCornerMarkers: function() {
                    for (var e = this._getCorners(), t = 0, i = this._resizeMarkers.length; t < i; t++)
                        this._resizeMarkers[t].setLatLng(e[t])
                }
            }),
            L.Rectangle.addInitHook(function() {
                L.Edit.Rectangle && (this.editing = new L.Edit.Rectangle(this),
                this.options.editable && this.editing.enable())
            }),
            L.Edit = L.Edit || {},
            L.Edit.CircleMarker = L.Edit.SimpleShape.extend({
                _createMoveMarker: function() {
                    var e = this._shape.getLatLng();
                    this._moveMarker = this._createMarker(e, this.options.moveIcon)
                },
                _createResizeMarker: function() {
                    this._resizeMarkers = []
                },
                _move: function(e) {
                    if (this._resizeMarkers.length) {
                        var t = this._getResizeMarkerPoint(e);
                        this._resizeMarkers[0].setLatLng(t)
                    }
                    this._shape.setLatLng(e),
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: this._shape
                    })
                }
            }),
            L.CircleMarker.addInitHook(function() {
                L.Edit.CircleMarker && (this.editing = new L.Edit.CircleMarker(this),
                this.options.editable && this.editing.enable()),
                this.on("add", function() {
                    this.editing && this.editing.enabled() && this.editing.addHooks()
                }),
                this.on("remove", function() {
                    this.editing && this.editing.enabled() && this.editing.removeHooks()
                })
            }),
            L.Edit = L.Edit || {},
            L.Edit.Circle = L.Edit.CircleMarker.extend({
                _createResizeMarker: function() {
                    var e = this._shape.getLatLng()
                      , t = this._getResizeMarkerPoint(e);
                    this._resizeMarkers = [],
                    this._resizeMarkers.push(this._createMarker(t, this.options.resizeIcon))
                },
                _getResizeMarkerPoint: function(e) {
                    var t = this._shape._radius * Math.cos(Math.PI / 4)
                      , i = this._map.project(e);
                    return this._map.unproject([i.x + t, i.y - t])
                },
                _resize: function(e) {
                    var t = this._moveMarker.getLatLng();
                    L.GeometryUtil.isVersion07x() ? radius = t.distanceTo(e) : radius = this._map.distance(t, e),
                    this._shape.setRadius(radius),
                    this._map.editTooltip && this._map._editTooltip.updateContent({
                        text: L.drawLocal.edit.handlers.edit.tooltip.subtext + "<br />" + L.drawLocal.edit.handlers.edit.tooltip.text,
                        subtext: L.drawLocal.draw.handlers.circle.radius + ": " + L.GeometryUtil.readableDistance(radius, !0, this.options.feet, this.options.nautic)
                    }),
                    this._shape.setRadius(radius),
                    this._map.fire(L.Draw.Event.EDITRESIZE, {
                        layer: this._shape
                    })
                }
            }),
            L.Circle.addInitHook(function() {
                L.Edit.Circle && (this.editing = new L.Edit.Circle(this),
                this.options.editable && this.editing.enable())
            }),
            L.Map.mergeOptions({
                touchExtend: !0
            }),
            L.Map.TouchExtend = L.Handler.extend({
                initialize: function(e) {
                    this._map = e,
                    this._container = e._container,
                    this._pane = e._panes.overlayPane
                },
                addHooks: function() {
                    L.DomEvent.on(this._container, "touchstart", this._onTouchStart, this),
                    L.DomEvent.on(this._container, "touchend", this._onTouchEnd, this),
                    L.DomEvent.on(this._container, "touchmove", this._onTouchMove, this),
                    this._detectIE() ? (L.DomEvent.on(this._container, "MSPointerDown", this._onTouchStart, this),
                    L.DomEvent.on(this._container, "MSPointerUp", this._onTouchEnd, this),
                    L.DomEvent.on(this._container, "MSPointerMove", this._onTouchMove, this),
                    L.DomEvent.on(this._container, "MSPointerCancel", this._onTouchCancel, this)) : (L.DomEvent.on(this._container, "touchcancel", this._onTouchCancel, this),
                    L.DomEvent.on(this._container, "touchleave", this._onTouchLeave, this))
                },
                removeHooks: function() {
                    L.DomEvent.off(this._container, "touchstart", this._onTouchStart, this),
                    L.DomEvent.off(this._container, "touchend", this._onTouchEnd, this),
                    L.DomEvent.off(this._container, "touchmove", this._onTouchMove, this),
                    this._detectIE() ? (L.DomEvent.off(this._container, "MSPointerDown", this._onTouchStart, this),
                    L.DomEvent.off(this._container, "MSPointerUp", this._onTouchEnd, this),
                    L.DomEvent.off(this._container, "MSPointerMove", this._onTouchMove, this),
                    L.DomEvent.off(this._container, "MSPointerCancel", this._onTouchCancel, this)) : (L.DomEvent.off(this._container, "touchcancel", this._onTouchCancel, this),
                    L.DomEvent.off(this._container, "touchleave", this._onTouchLeave, this))
                },
                _touchEvent: function(e, t) {
                    var i = {};
                    if (void 0 !== e.touches) {
                        if (!e.touches.length)
                            return;
                        i = e.touches[0]
                    } else {
                        if ("touch" !== e.pointerType)
                            return;
                        if (i = e,
                        !this._filterClick(e))
                            return
                    }
                    var a = this._map.mouseEventToContainerPoint(i)
                      , n = this._map.mouseEventToLayerPoint(i)
                      , r = this._map.layerPointToLatLng(n);
                    this._map.fire(t, {
                        latlng: r,
                        layerPoint: n,
                        containerPoint: a,
                        pageX: i.pageX,
                        pageY: i.pageY,
                        originalEvent: e
                    })
                },
                _filterClick: function(e) {
                    var t = e.timeStamp || e.originalEvent.timeStamp
                      , i = L.DomEvent._lastClick && t - L.DomEvent._lastClick;
                    return i && i > 100 && i < 500 || e.target._simulatedClick && !e._simulated ? (L.DomEvent.stop(e),
                    !1) : (L.DomEvent._lastClick = t,
                    !0)
                },
                _onTouchStart: function(e) {
                    this._map._loaded && this._touchEvent(e, "touchstart")
                },
                _onTouchEnd: function(e) {
                    this._map._loaded && this._touchEvent(e, "touchend")
                },
                _onTouchCancel: function(e) {
                    if (this._map._loaded) {
                        var t = "touchcancel";
                        this._detectIE() && (t = "pointercancel"),
                        this._touchEvent(e, t)
                    }
                },
                _onTouchLeave: function(e) {
                    this._map._loaded && this._touchEvent(e, "touchleave")
                },
                _onTouchMove: function(e) {
                    this._map._loaded && this._touchEvent(e, "touchmove")
                },
                _detectIE: function() {
                    var t = e.navigator.userAgent
                      , i = t.indexOf("MSIE ");
                    if (i > 0)
                        return parseInt(t.substring(i + 5, t.indexOf(".", i)), 10);
                    if (t.indexOf("Trident/") > 0) {
                        var a = t.indexOf("rv:");
                        return parseInt(t.substring(a + 3, t.indexOf(".", a)), 10)
                    }
                    var n = t.indexOf("Edge/");
                    return n > 0 && parseInt(t.substring(n + 5, t.indexOf(".", n)), 10)
                }
            }),
            L.Map.addInitHook("addHandler", "touchExtend", L.Map.TouchExtend),
            L.Marker.Touch = L.Marker.extend({
                _initInteraction: function() {
                    return this.addInteractiveTarget ? L.Marker.prototype._initInteraction.apply(this) : this._initInteractionLegacy()
                },
                _initInteractionLegacy: function() {
                    if (this.options.clickable) {
                        var e = this._icon
                          , t = ["dblclick", "mousedown", "mouseover", "mouseout", "contextmenu", "touchstart", "touchend", "touchmove"];
                        this._detectIE ? t.concat(["MSPointerDown", "MSPointerUp", "MSPointerMove", "MSPointerCancel"]) : t.concat(["touchcancel"]),
                        L.DomUtil.addClass(e, "leaflet-clickable"),
                        L.DomEvent.on(e, "click", this._onMouseClick, this),
                        L.DomEvent.on(e, "keypress", this._onKeyPress, this);
                        for (var i = 0; i < t.length; i++)
                            L.DomEvent.on(e, t[i], this._fireMouseEvent, this);
                        L.Handler.MarkerDrag && (this.dragging = new L.Handler.MarkerDrag(this),
                        this.options.draggable && this.dragging.enable())
                    }
                },
                _detectIE: function() {
                    var t = e.navigator.userAgent
                      , i = t.indexOf("MSIE ");
                    if (i > 0)
                        return parseInt(t.substring(i + 5, t.indexOf(".", i)), 10);
                    if (t.indexOf("Trident/") > 0) {
                        var a = t.indexOf("rv:");
                        return parseInt(t.substring(a + 3, t.indexOf(".", a)), 10)
                    }
                    var n = t.indexOf("Edge/");
                    return n > 0 && parseInt(t.substring(n + 5, t.indexOf(".", n)), 10)
                }
            }),
            L.LatLngUtil = {
                cloneLatLngs: function(e) {
                    for (var t = [], i = 0, a = e.length; i < a; i++)
                        Array.isArray(e[i]) ? t.push(L.LatLngUtil.cloneLatLngs(e[i])) : t.push(this.cloneLatLng(e[i]));
                    return t
                },
                cloneLatLng: function(e) {
                    return L.latLng(e.lat, e.lng)
                }
            },
            function() {
                var e = {
                    km: 2,
                    ha: 2,
                    m: 0,
                    mi: 2,
                    ac: 2,
                    yd: 0,
                    ft: 0,
                    nm: 2
                };
                L.GeometryUtil = L.extend(L.GeometryUtil || {}, {
                    geodesicArea: function(e) {
                        var t, i, a = e.length, n = 0, r = Math.PI / 180;
                        if (a > 2) {
                            for (var o = 0; o < a; o++)
                                t = e[o],
                                n += ((i = e[(o + 1) % a]).lng - t.lng) * r * (2 + Math.sin(t.lat * r) + Math.sin(i.lat * r));
                            n = 6378137 * n * 6378137 / 2
                        }
                        return Math.abs(n)
                    },
                    formattedNumber: function(e, t) {
                        var i = parseFloat(e).toFixed(t)
                          , a = L.drawLocal.format && L.drawLocal.format.numeric
                          , n = a && a.delimiters
                          , r = n && n.thousands
                          , o = n && n.decimal;
                        if (r || o) {
                            var s = i.split(".");
                            i = r ? s[0].replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1" + r) : s[0],
                            o = o || ".",
                            s.length > 1 && (i = i + o + s[1])
                        }
                        return i
                    },
                    readableArea: function(t, i, a) {
                        var n, r;
                        a = L.Util.extend({}, e, a);
                        return i ? (r = ["ha", "m"],
                        type = typeof i,
                        "string" === type ? r = [i] : "boolean" !== type && (r = i),
                        n = t >= 1e6 && -1 !== r.indexOf("km") ? L.GeometryUtil.formattedNumber(1e-6 * t, a.km) + " km\xb2" : t >= 1e4 && -1 !== r.indexOf("ha") ? L.GeometryUtil.formattedNumber(1e-4 * t, a.ha) + " ha" : L.GeometryUtil.formattedNumber(t, a.m) + " m\xb2") : n = (t /= .836127) >= 3097600 ? L.GeometryUtil.formattedNumber(t / 3097600, a.mi) + " mi\xb2" : t >= 4840 ? L.GeometryUtil.formattedNumber(t / 4840, a.ac) + " acres" : L.GeometryUtil.formattedNumber(t, a.yd) + " yd\xb2",
                        n
                    },
                    readableDistance: function(t, i, a, n, r) {
                        var o;
                        r = L.Util.extend({}, e, r);
                        switch (i ? "string" == typeof i ? i : "metric" : a ? "feet" : n ? "nauticalMile" : "yards") {
                        case "metric":
                            o = t > 1e3 ? L.GeometryUtil.formattedNumber(t / 1e3, r.km) + " km" : L.GeometryUtil.formattedNumber(t, r.m) + " m";
                            break;
                        case "feet":
                            t *= 3.28083,
                            o = L.GeometryUtil.formattedNumber(t, r.ft) + " ft";
                            break;
                        case "nauticalMile":
                            t *= .53996,
                            o = L.GeometryUtil.formattedNumber(t / 1e3, r.nm) + " nm";
                            break;
                        case "yards":
                        default:
                            o = (t *= 1.09361) > 1760 ? L.GeometryUtil.formattedNumber(t / 1760, r.mi) + " miles" : L.GeometryUtil.formattedNumber(t, r.yd) + " yd"
                        }
                        return o
                    },
                    isVersion07x: function() {
                        var e = L.version.split(".");
                        return 0 === parseInt(e[0], 10) && 7 === parseInt(e[1], 10)
                    }
                })
            }(),
            L.Util.extend(L.LineUtil, {
                segmentsIntersect: function(e, t, i, a) {
                    return this._checkCounterclockwise(e, i, a) !== this._checkCounterclockwise(t, i, a) && this._checkCounterclockwise(e, t, i) !== this._checkCounterclockwise(e, t, a)
                },
                _checkCounterclockwise: function(e, t, i) {
                    return (i.y - e.y) * (t.x - e.x) > (t.y - e.y) * (i.x - e.x)
                }
            }),
            L.Polyline.include({
                intersects: function() {
                    var e, t, i, a = this._getProjectedPoints(), n = a ? a.length : 0;
                    if (this._tooFewPointsForIntersection())
                        return !1;
                    for (e = n - 1; e >= 3; e--)
                        if (t = a[e - 1],
                        i = a[e],
                        this._lineSegmentsIntersectsRange(t, i, e - 2))
                            return !0;
                    return !1
                },
                newLatLngIntersects: function(e, t) {
                    return !!this._map && this.newPointIntersects(this._map.latLngToLayerPoint(e), t)
                },
                newPointIntersects: function(e, t) {
                    var i = this._getProjectedPoints()
                      , a = i ? i.length : 0
                      , n = i ? i[a - 1] : null
                      , r = a - 2;
                    return !this._tooFewPointsForIntersection(1) && this._lineSegmentsIntersectsRange(n, e, r, t ? 1 : 0)
                },
                _tooFewPointsForIntersection: function(e) {
                    var t = this._getProjectedPoints()
                      , i = t ? t.length : 0;
                    return !t || (i += e || 0) <= 3
                },
                _lineSegmentsIntersectsRange: function(e, t, i, a) {
                    var n, r, o = this._getProjectedPoints();
                    a = a || 0;
                    for (var s = i; s > a; s--)
                        if (n = o[s - 1],
                        r = o[s],
                        L.LineUtil.segmentsIntersect(e, t, n, r))
                            return !0;
                    return !1
                },
                _getProjectedPoints: function() {
                    if (!this._defaultShape)
                        return this._originalPoints;
                    for (var e = [], t = this._defaultShape(), i = 0; i < t.length; i++)
                        e.push(this._map.latLngToLayerPoint(t[i]));
                    return e
                }
            }),
            L.Polygon.include({
                intersects: function() {
                    var e, t, i, a, n = this._getProjectedPoints();
                    return !this._tooFewPointsForIntersection() && (!!L.Polyline.prototype.intersects.call(this) || (e = n.length,
                    t = n[0],
                    i = n[e - 1],
                    a = e - 2,
                    this._lineSegmentsIntersectsRange(i, t, a, 1)))
                }
            }),
            L.Control.Draw = L.Control.extend({
                options: {
                    position: "topleft",
                    draw: {},
                    edit: !1
                },
                initialize: function(e) {
                    if (L.version < "0.7")
                        throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");
                    var t;
                    L.Control.prototype.initialize.call(this, e),
                    this._toolbars = {},
                    L.DrawToolbar && this.options.draw && (t = new L.DrawToolbar(this.options.draw),
                    this._toolbars[L.DrawToolbar.TYPE] = t,
                    this._toolbars[L.DrawToolbar.TYPE].on("enable", this._toolbarEnabled, this)),
                    L.EditToolbar && this.options.edit && (t = new L.EditToolbar(this.options.edit),
                    this._toolbars[L.EditToolbar.TYPE] = t,
                    this._toolbars[L.EditToolbar.TYPE].on("enable", this._toolbarEnabled, this)),
                    L.toolbar = this
                },
                onAdd: function(e) {
                    var t, i = L.DomUtil.create("div", "leaflet-draw"), a = !1;
                    for (var n in this._toolbars)
                        this._toolbars.hasOwnProperty(n) && (t = this._toolbars[n].addToolbar(e)) && (a || (L.DomUtil.hasClass(t, "leaflet-draw-toolbar-top") || L.DomUtil.addClass(t.childNodes[0], "leaflet-draw-toolbar-top"),
                        a = !0),
                        i.appendChild(t));
                    return i
                },
                onRemove: function() {
                    for (var e in this._toolbars)
                        this._toolbars.hasOwnProperty(e) && this._toolbars[e].removeToolbar()
                },
                setDrawingOptions: function(e) {
                    for (var t in this._toolbars)
                        this._toolbars[t]instanceof L.DrawToolbar && this._toolbars[t].setOptions(e)
                },
                _toolbarEnabled: function(e) {
                    var t = e.target;
                    for (var i in this._toolbars)
                        this._toolbars[i] !== t && this._toolbars[i].disable()
                }
            }),
            L.Map.mergeOptions({
                drawControlTooltips: !0,
                drawControl: !1
            }),
            L.Map.addInitHook(function() {
                this.options.drawControl && (this.drawControl = new L.Control.Draw,
                this.addControl(this.drawControl))
            }),
            L.Toolbar = L.Class.extend({
                initialize: function(e) {
                    L.setOptions(this, e),
                    this._modes = {},
                    this._actionButtons = [],
                    this._activeMode = null;
                    var t = L.version.split(".");
                    1 === parseInt(t[0], 10) && parseInt(t[1], 10) >= 2 ? L.Toolbar.include(L.Evented.prototype) : L.Toolbar.include(L.Mixin.Events)
                },
                enabled: function() {
                    return null !== this._activeMode
                },
                disable: function() {
                    this.enabled() && this._activeMode.handler.disable()
                },
                addToolbar: function(e) {
                    var t, i = L.DomUtil.create("div", "leaflet-draw-section"), a = 0, n = this._toolbarClass || "", r = this.getModeHandlers(e);
                    for (this._toolbarContainer = L.DomUtil.create("div", "leaflet-draw-toolbar leaflet-bar"),
                    this._map = e,
                    t = 0; t < r.length; t++)
                        r[t].enabled && this._initModeHandler(r[t].handler, this._toolbarContainer, a++, n, r[t].title);
                    if (a)
                        return this._lastButtonIndex = --a,
                        this._actionsContainer = L.DomUtil.create("ul", "leaflet-draw-actions"),
                        i.appendChild(this._toolbarContainer),
                        i.appendChild(this._actionsContainer),
                        i
                },
                removeToolbar: function() {
                    for (var e in this._modes)
                        this._modes.hasOwnProperty(e) && (this._disposeButton(this._modes[e].button, this._modes[e].handler.enable, this._modes[e].handler),
                        this._modes[e].handler.disable(),
                        this._modes[e].handler.off("enabled", this._handlerActivated, this).off("disabled", this._handlerDeactivated, this));
                    this._modes = {};
                    for (var t = 0, i = this._actionButtons.length; t < i; t++)
                        this._disposeButton(this._actionButtons[t].button, this._actionButtons[t].callback, this);
                    this._actionButtons = [],
                    this._actionsContainer = null
                },
                _initModeHandler: function(e, t, i, a, n) {
                    var r = e.type;
                    this._modes[r] = {},
                    this._modes[r].handler = e,
                    this._modes[r].button = this._createButton({
                        type: r,
                        title: n,
                        className: a + "-" + r,
                        container: t,
                        callback: this._modes[r].handler.enable,
                        context: this._modes[r].handler
                    }),
                    this._modes[r].buttonIndex = i,
                    this._modes[r].handler.on("enabled", this._handlerActivated, this).on("disabled", this._handlerDeactivated, this)
                },
                _detectIOS: function() {
                    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !e.MSStream
                },
                _createButton: function(e) {
                    var t = L.DomUtil.create("a", e.className || "", e.container)
                      , i = L.DomUtil.create("span", "sr-only", e.container);
                    t.href = "#",
                    t.appendChild(i),
                    e.title && (t.title = e.title,
                    i.innerHTML = e.title),
                    e.text && (t.innerHTML = e.text,
                    i.innerHTML = e.text);
                    var a = this._detectIOS() ? "touchstart" : "click";
                    return L.DomEvent.on(t, "click", L.DomEvent.stopPropagation).on(t, "mousedown", L.DomEvent.stopPropagation).on(t, "dblclick", L.DomEvent.stopPropagation).on(t, "touchstart", L.DomEvent.stopPropagation).on(t, "click", L.DomEvent.preventDefault).on(t, a, e.callback, e.context),
                    t
                },
                _disposeButton: function(e, t) {
                    var i = this._detectIOS() ? "touchstart" : "click";
                    L.DomEvent.off(e, "click", L.DomEvent.stopPropagation).off(e, "mousedown", L.DomEvent.stopPropagation).off(e, "dblclick", L.DomEvent.stopPropagation).off(e, "touchstart", L.DomEvent.stopPropagation).off(e, "click", L.DomEvent.preventDefault).off(e, i, t)
                },
                _handlerActivated: function(e) {
                    this.disable(),
                    this._activeMode = this._modes[e.handler],
                    L.DomUtil.addClass(this._activeMode.button, "leaflet-draw-toolbar-button-enabled"),
                    this._showActionsToolbar(),
                    this.fire("enable")
                },
                _handlerDeactivated: function() {
                    this._hideActionsToolbar(),
                    L.DomUtil.removeClass(this._activeMode.button, "leaflet-draw-toolbar-button-enabled"),
                    this._activeMode = null,
                    this.fire("disable")
                },
                _createActions: function(e) {
                    var t, i, a, n, r = this._actionsContainer, o = this.getActions(e), s = o.length;
                    for (i = 0,
                    a = this._actionButtons.length; i < a; i++)
                        this._disposeButton(this._actionButtons[i].button, this._actionButtons[i].callback);
                    for (this._actionButtons = []; r.firstChild; )
                        r.removeChild(r.firstChild);
                    for (var l = 0; l < s; l++)
                        "enabled"in o[l] && !o[l].enabled || (t = L.DomUtil.create("li", "", r),
                        n = this._createButton({
                            title: o[l].title,
                            text: o[l].text,
                            container: t,
                            callback: o[l].callback,
                            context: o[l].context
                        }),
                        this._actionButtons.push({
                            button: n,
                            callback: o[l].callback
                        }))
                },
                _showActionsToolbar: function() {
                    var e = this._activeMode.buttonIndex
                      , t = this._lastButtonIndex
                      , i = this._activeMode.button.offsetTop - 1;
                    this._createActions(this._activeMode.handler),
                    this._actionsContainer.style.top = i + "px",
                    0 === e && (L.DomUtil.addClass(this._toolbarContainer, "leaflet-draw-toolbar-notop"),
                    L.DomUtil.addClass(this._actionsContainer, "leaflet-draw-actions-top")),
                    e === t && (L.DomUtil.addClass(this._toolbarContainer, "leaflet-draw-toolbar-nobottom"),
                    L.DomUtil.addClass(this._actionsContainer, "leaflet-draw-actions-bottom")),
                    this._actionsContainer.style.display = "block",
                    this._map.fire(L.Draw.Event.TOOLBAROPENED)
                },
                _hideActionsToolbar: function() {
                    this._actionsContainer.style.display = "none",
                    L.DomUtil.removeClass(this._toolbarContainer, "leaflet-draw-toolbar-notop"),
                    L.DomUtil.removeClass(this._toolbarContainer, "leaflet-draw-toolbar-nobottom"),
                    L.DomUtil.removeClass(this._actionsContainer, "leaflet-draw-actions-top"),
                    L.DomUtil.removeClass(this._actionsContainer, "leaflet-draw-actions-bottom"),
                    this._map.fire(L.Draw.Event.TOOLBARCLOSED)
                }
            }),
            L.Draw = L.Draw || {},
            L.Draw.Tooltip = L.Class.extend({
                initialize: function(e) {
                    this._map = e,
                    this._popupPane = e._panes.popupPane,
                    this._visible = !1,
                    this._container = e.options.drawControlTooltips ? L.DomUtil.create("div", "leaflet-draw-tooltip", this._popupPane) : null,
                    this._singleLineLabel = !1,
                    this._map.on("mouseout", this._onMouseOut, this)
                },
                dispose: function() {
                    this._map.off("mouseout", this._onMouseOut, this),
                    this._container && (this._popupPane.removeChild(this._container),
                    this._container = null)
                },
                updateContent: function(e) {
                    return this._container ? (e.subtext = e.subtext || "",
                    0 !== e.subtext.length || this._singleLineLabel ? e.subtext.length > 0 && this._singleLineLabel && (L.DomUtil.removeClass(this._container, "leaflet-draw-tooltip-single"),
                    this._singleLineLabel = !1) : (L.DomUtil.addClass(this._container, "leaflet-draw-tooltip-single"),
                    this._singleLineLabel = !0),
                    this._container.innerHTML = (e.subtext.length > 0 ? '<span class="leaflet-draw-tooltip-subtext">' + e.subtext + "</span><br />" : "") + "<span>" + e.text + "</span>",
                    e.text || e.subtext ? (this._visible = !0,
                    this._container.style.visibility = "inherit") : (this._visible = !1,
                    this._container.style.visibility = "hidden"),
                    this) : this
                },
                updatePosition: function(e) {
                    var t = this._map.latLngToLayerPoint(e)
                      , i = this._container;
                    return this._container && (this._visible && (i.style.visibility = "inherit"),
                    L.DomUtil.setPosition(i, t)),
                    this
                },
                showAsError: function() {
                    return this._container && L.DomUtil.addClass(this._container, "leaflet-error-draw-tooltip"),
                    this
                },
                removeError: function() {
                    return this._container && L.DomUtil.removeClass(this._container, "leaflet-error-draw-tooltip"),
                    this
                },
                _onMouseOut: function() {
                    this._container && (this._container.style.visibility = "hidden")
                }
            }),
            L.DrawToolbar = L.Toolbar.extend({
                statics: {
                    TYPE: "draw"
                },
                options: {
                    polyline: {},
                    polygon: {},
                    rectangle: {},
                    circle: {},
                    marker: {},
                    circlemarker: {}
                },
                initialize: function(e) {
                    for (var t in this.options)
                        this.options.hasOwnProperty(t) && e[t] && (e[t] = L.extend({}, this.options[t], e[t]));
                    this._toolbarClass = "leaflet-draw-draw",
                    L.Toolbar.prototype.initialize.call(this, e)
                },
                getModeHandlers: function(e) {
                    return [{
                        enabled: this.options.polyline,
                        handler: new L.Draw.Polyline(e,this.options.polyline),
                        title: L.drawLocal.draw.toolbar.buttons.polyline
                    }, {
                        enabled: this.options.polygon,
                        handler: new L.Draw.Polygon(e,this.options.polygon),
                        title: L.drawLocal.draw.toolbar.buttons.polygon
                    }, {
                        enabled: this.options.rectangle,
                        handler: new L.Draw.Rectangle(e,this.options.rectangle),
                        title: L.drawLocal.draw.toolbar.buttons.rectangle
                    }, {
                        enabled: this.options.circle,
                        handler: new L.Draw.Circle(e,this.options.circle),
                        title: L.drawLocal.draw.toolbar.buttons.circle
                    }, {
                        enabled: this.options.marker,
                        handler: new L.Draw.Marker(e,this.options.marker),
                        title: L.drawLocal.draw.toolbar.buttons.marker
                    }, {
                        enabled: this.options.circlemarker,
                        handler: new L.Draw.CircleMarker(e,this.options.circlemarker),
                        title: L.drawLocal.draw.toolbar.buttons.circlemarker
                    }]
                },
                getActions: function(e) {
                    return [{
                        enabled: e.completeShape,
                        title: L.drawLocal.draw.toolbar.finish.title,
                        text: L.drawLocal.draw.toolbar.finish.text,
                        callback: e.completeShape,
                        context: e
                    }, {
                        enabled: e.deleteLastVertex,
                        title: L.drawLocal.draw.toolbar.undo.title,
                        text: L.drawLocal.draw.toolbar.undo.text,
                        callback: e.deleteLastVertex,
                        context: e
                    }, {
                        title: L.drawLocal.draw.toolbar.actions.title,
                        text: L.drawLocal.draw.toolbar.actions.text,
                        callback: this.disable,
                        context: this
                    }]
                },
                setOptions: function(e) {
                    for (var t in L.setOptions(this, e),
                    this._modes)
                        this._modes.hasOwnProperty(t) && e.hasOwnProperty(t) && this._modes[t].handler.setOptions(e[t])
                }
            }),
            L.EditToolbar = L.Toolbar.extend({
                statics: {
                    TYPE: "edit"
                },
                options: {
                    edit: {
                        selectedPathOptions: {
                            dashArray: "10, 10",
                            fill: !0,
                            fillColor: "#fe57a1",
                            fillOpacity: .1,
                            maintainColor: !1
                        }
                    },
                    remove: {},
                    poly: null,
                    featureGroup: null
                },
                initialize: function(e) {
                    e.edit && (void 0 === e.edit.selectedPathOptions && (e.edit.selectedPathOptions = this.options.edit.selectedPathOptions),
                    e.edit.selectedPathOptions = L.extend({}, this.options.edit.selectedPathOptions, e.edit.selectedPathOptions)),
                    e.remove && (e.remove = L.extend({}, this.options.remove, e.remove)),
                    e.poly && (e.poly = L.extend({}, this.options.poly, e.poly)),
                    this._toolbarClass = "leaflet-draw-edit",
                    L.Toolbar.prototype.initialize.call(this, e),
                    this._selectedFeatureCount = 0
                },
                getModeHandlers: function(e) {
                    var t = this.options.featureGroup;
                    return [{
                        enabled: this.options.edit,
                        handler: new L.EditToolbar.Edit(e,{
                            featureGroup: t,
                            selectedPathOptions: this.options.edit.selectedPathOptions,
                            poly: this.options.poly
                        }),
                        title: L.drawLocal.edit.toolbar.buttons.edit
                    }, {
                        enabled: this.options.remove,
                        handler: new L.EditToolbar.Delete(e,{
                            featureGroup: t
                        }),
                        title: L.drawLocal.edit.toolbar.buttons.remove
                    }]
                },
                getActions: function(e) {
                    var t = [{
                        title: L.drawLocal.edit.toolbar.actions.save.title,
                        text: L.drawLocal.edit.toolbar.actions.save.text,
                        callback: this._save,
                        context: this
                    }, {
                        title: L.drawLocal.edit.toolbar.actions.cancel.title,
                        text: L.drawLocal.edit.toolbar.actions.cancel.text,
                        callback: this.disable,
                        context: this
                    }];
                    return e.removeAllLayers && t.push({
                        title: L.drawLocal.edit.toolbar.actions.clearAll.title,
                        text: L.drawLocal.edit.toolbar.actions.clearAll.text,
                        callback: this._clearAllLayers,
                        context: this
                    }),
                    t
                },
                addToolbar: function(e) {
                    var t = L.Toolbar.prototype.addToolbar.call(this, e);
                    return this._checkDisabled(),
                    this.options.featureGroup.on("layeradd layerremove", this._checkDisabled, this),
                    t
                },
                removeToolbar: function() {
                    this.options.featureGroup.off("layeradd layerremove", this._checkDisabled, this),
                    L.Toolbar.prototype.removeToolbar.call(this)
                },
                disable: function() {
                    this.enabled() && (this._activeMode.handler.revertLayers(),
                    L.Toolbar.prototype.disable.call(this))
                },
                _save: function() {
                    this._activeMode.handler.save(),
                    this._activeMode && this._activeMode.handler.disable()
                },
                _clearAllLayers: function() {
                    this._activeMode.handler.removeAllLayers(),
                    this._activeMode && this._activeMode.handler.disable()
                },
                _checkDisabled: function() {
                    var e, t = 0 !== this.options.featureGroup.getLayers().length;
                    this.options.edit && (e = this._modes[L.EditToolbar.Edit.TYPE].button,
                    t ? L.DomUtil.removeClass(e, "leaflet-disabled") : L.DomUtil.addClass(e, "leaflet-disabled"),
                    e.setAttribute("title", t ? L.drawLocal.edit.toolbar.buttons.edit : L.drawLocal.edit.toolbar.buttons.editDisabled)),
                    this.options.remove && (e = this._modes[L.EditToolbar.Delete.TYPE].button,
                    t ? L.DomUtil.removeClass(e, "leaflet-disabled") : L.DomUtil.addClass(e, "leaflet-disabled"),
                    e.setAttribute("title", t ? L.drawLocal.edit.toolbar.buttons.remove : L.drawLocal.edit.toolbar.buttons.removeDisabled))
                }
            }),
            L.EditToolbar.Edit = L.Handler.extend({
                statics: {
                    TYPE: "edit"
                },
                initialize: function(e, t) {
                    if (L.Handler.prototype.initialize.call(this, e),
                    L.setOptions(this, t),
                    this._featureGroup = t.featureGroup,
                    !(this._featureGroup instanceof L.FeatureGroup))
                        throw new Error("options.featureGroup must be a L.FeatureGroup");
                    this._uneditedLayerProps = {},
                    this.type = L.EditToolbar.Edit.TYPE;
                    var i = L.version.split(".");
                    1 === parseInt(i[0], 10) && parseInt(i[1], 10) >= 2 ? L.EditToolbar.Edit.include(L.Evented.prototype) : L.EditToolbar.Edit.include(L.Mixin.Events)
                },
                enable: function() {
                    !this._enabled && this._hasAvailableLayers() && (this.fire("enabled", {
                        handler: this.type
                    }),
                    this._map.fire(L.Draw.Event.EDITSTART, {
                        handler: this.type
                    }),
                    L.Handler.prototype.enable.call(this),
                    this._featureGroup.on("layeradd", this._enableLayerEdit, this).on("layerremove", this._disableLayerEdit, this))
                },
                disable: function() {
                    this._enabled && (this._featureGroup.off("layeradd", this._enableLayerEdit, this).off("layerremove", this._disableLayerEdit, this),
                    L.Handler.prototype.disable.call(this),
                    this._map.fire(L.Draw.Event.EDITSTOP, {
                        handler: this.type
                    }),
                    this.fire("disabled", {
                        handler: this.type
                    }))
                },
                addHooks: function() {
                    var e = this._map;
                    e && (e.getContainer().focus(),
                    this._featureGroup.eachLayer(this._enableLayerEdit, this),
                    this._tooltip = new L.Draw.Tooltip(this._map),
                    this._tooltip.updateContent({
                        text: L.drawLocal.edit.handlers.edit.tooltip.text,
                        subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                    }),
                    e._editTooltip = this._tooltip,
                    this._updateTooltip(),
                    this._map.on("mousemove", this._onMouseMove, this).on("touchmove", this._onMouseMove, this).on("MSPointerMove", this._onMouseMove, this).on(L.Draw.Event.EDITVERTEX, this._updateTooltip, this))
                },
                removeHooks: function() {
                    this._map && (this._featureGroup.eachLayer(this._disableLayerEdit, this),
                    this._uneditedLayerProps = {},
                    this._tooltip.dispose(),
                    this._tooltip = null,
                    this._map.off("mousemove", this._onMouseMove, this).off("touchmove", this._onMouseMove, this).off("MSPointerMove", this._onMouseMove, this).off(L.Draw.Event.EDITVERTEX, this._updateTooltip, this))
                },
                revertLayers: function() {
                    this._featureGroup.eachLayer(function(e) {
                        this._revertLayer(e)
                    }, this)
                },
                save: function() {
                    var e = new L.LayerGroup;
                    this._featureGroup.eachLayer(function(t) {
                        t.edited && (e.addLayer(t),
                        t.edited = !1)
                    }),
                    this._map.fire(L.Draw.Event.EDITED, {
                        layers: e
                    })
                },
                _backupLayer: function(e) {
                    var t = L.Util.stamp(e);
                    this._uneditedLayerProps[t] || (e instanceof L.Polyline || e instanceof L.Polygon || e instanceof L.Rectangle ? this._uneditedLayerProps[t] = {
                        latlngs: L.LatLngUtil.cloneLatLngs(e.getLatLngs())
                    } : e instanceof L.Circle ? this._uneditedLayerProps[t] = {
                        latlng: L.LatLngUtil.cloneLatLng(e.getLatLng()),
                        radius: e.getRadius()
                    } : (e instanceof L.Marker || e instanceof L.CircleMarker) && (this._uneditedLayerProps[t] = {
                        latlng: L.LatLngUtil.cloneLatLng(e.getLatLng())
                    }))
                },
                _getTooltipText: function() {
                    return {
                        text: L.drawLocal.edit.handlers.edit.tooltip.text,
                        subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                    }
                },
                _updateTooltip: function() {
                    this._tooltip.updateContent(this._getTooltipText())
                },
                _revertLayer: function(e) {
                    var t = L.Util.stamp(e);
                    e.edited = !1,
                    this._uneditedLayerProps.hasOwnProperty(t) && (e instanceof L.Polyline || e instanceof L.Polygon || e instanceof L.Rectangle ? e.setLatLngs(this._uneditedLayerProps[t].latlngs) : e instanceof L.Circle ? (e.setLatLng(this._uneditedLayerProps[t].latlng),
                    e.setRadius(this._uneditedLayerProps[t].radius)) : (e instanceof L.Marker || e instanceof L.CircleMarker) && e.setLatLng(this._uneditedLayerProps[t].latlng),
                    e.fire("revert-edited", {
                        layer: e
                    }))
                },
                _enableLayerEdit: function(e) {
                    var t, i, a = e.layer || e.target || e;
                    this._backupLayer(a),
                    this.options.poly && (i = L.Util.extend({}, this.options.poly),
                    a.options.poly = i),
                    this.options.selectedPathOptions && ((t = L.Util.extend({}, this.options.selectedPathOptions)).maintainColor && (t.color = a.options.color,
                    t.fillColor = a.options.fillColor),
                    a.options.original = L.extend({}, a.options),
                    a.options.editing = t),
                    a instanceof L.Marker ? (a.editing && a.editing.enable(),
                    a.dragging.enable(),
                    a.on("dragend", this._onMarkerDragEnd).on("touchmove", this._onTouchMove, this).on("MSPointerMove", this._onTouchMove, this).on("touchend", this._onMarkerDragEnd, this).on("MSPointerUp", this._onMarkerDragEnd, this)) : a.editing.enable()
                },
                _disableLayerEdit: function(e) {
                    var t = e.layer || e.target || e;
                    t.edited = !1,
                    t.editing && t.editing.disable(),
                    delete t.options.editing,
                    delete t.options.original,
                    this._selectedPathOptions && (t instanceof L.Marker ? this._toggleMarkerHighlight(t) : (t.setStyle(t.options.previousOptions),
                    delete t.options.previousOptions)),
                    t instanceof L.Marker ? (t.dragging.disable(),
                    t.off("dragend", this._onMarkerDragEnd, this).off("touchmove", this._onTouchMove, this).off("MSPointerMove", this._onTouchMove, this).off("touchend", this._onMarkerDragEnd, this).off("MSPointerUp", this._onMarkerDragEnd, this)) : t.editing.disable()
                },
                _onMouseMove: function(e) {
                    this._tooltip.updatePosition(e.latlng)
                },
                _onMarkerDragEnd: function(e) {
                    var t = e.target;
                    t.edited = !0,
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: t
                    })
                },
                _onTouchMove: function(e) {
                    var t = e.originalEvent.changedTouches[0]
                      , i = this._map.mouseEventToLayerPoint(t)
                      , a = this._map.layerPointToLatLng(i);
                    e.target.setLatLng(a)
                },
                _hasAvailableLayers: function() {
                    return 0 !== this._featureGroup.getLayers().length
                }
            }),
            L.EditToolbar.Delete = L.Handler.extend({
                statics: {
                    TYPE: "remove"
                },
                initialize: function(e, t) {
                    if (L.Handler.prototype.initialize.call(this, e),
                    L.Util.setOptions(this, t),
                    this._deletableLayers = this.options.featureGroup,
                    !(this._deletableLayers instanceof L.FeatureGroup))
                        throw new Error("options.featureGroup must be a L.FeatureGroup");
                    this.type = L.EditToolbar.Delete.TYPE;
                    var i = L.version.split(".");
                    1 === parseInt(i[0], 10) && parseInt(i[1], 10) >= 2 ? L.EditToolbar.Delete.include(L.Evented.prototype) : L.EditToolbar.Delete.include(L.Mixin.Events)
                },
                enable: function() {
                    !this._enabled && this._hasAvailableLayers() && (this.fire("enabled", {
                        handler: this.type
                    }),
                    this._map.fire(L.Draw.Event.DELETESTART, {
                        handler: this.type
                    }),
                    L.Handler.prototype.enable.call(this),
                    this._deletableLayers.on("layeradd", this._enableLayerDelete, this).on("layerremove", this._disableLayerDelete, this))
                },
                disable: function() {
                    this._enabled && (this._deletableLayers.off("layeradd", this._enableLayerDelete, this).off("layerremove", this._disableLayerDelete, this),
                    L.Handler.prototype.disable.call(this),
                    this._map.fire(L.Draw.Event.DELETESTOP, {
                        handler: this.type
                    }),
                    this.fire("disabled", {
                        handler: this.type
                    }))
                },
                addHooks: function() {
                    var e = this._map;
                    e && (e.getContainer().focus(),
                    this._deletableLayers.eachLayer(this._enableLayerDelete, this),
                    this._deletedLayers = new L.LayerGroup,
                    this._tooltip = new L.Draw.Tooltip(this._map),
                    this._tooltip.updateContent({
                        text: L.drawLocal.edit.handlers.remove.tooltip.text
                    }),
                    this._map.on("mousemove", this._onMouseMove, this))
                },
                removeHooks: function() {
                    this._map && (this._deletableLayers.eachLayer(this._disableLayerDelete, this),
                    this._deletedLayers = null,
                    this._tooltip.dispose(),
                    this._tooltip = null,
                    this._map.off("mousemove", this._onMouseMove, this))
                },
                revertLayers: function() {
                    this._deletedLayers.eachLayer(function(e) {
                        this._deletableLayers.addLayer(e),
                        e.fire("revert-deleted", {
                            layer: e
                        })
                    }, this)
                },
                save: function() {
                    this._map.fire(L.Draw.Event.DELETED, {
                        layers: this._deletedLayers
                    })
                },
                removeAllLayers: function() {
                    this._deletableLayers.eachLayer(function(e) {
                        this._removeLayer({
                            layer: e
                        })
                    }, this),
                    this.save()
                },
                _enableLayerDelete: function(e) {
                    (e.layer || e.target || e).on("click", this._removeLayer, this)
                },
                _disableLayerDelete: function(e) {
                    var t = e.layer || e.target || e;
                    t.off("click", this._removeLayer, this),
                    this._deletedLayers.removeLayer(t)
                },
                _removeLayer: function(e) {
                    var t = e.layer || e.target || e;
                    this._deletableLayers.removeLayer(t),
                    this._deletedLayers.addLayer(t),
                    t.fire("deleted")
                },
                _onMouseMove: function(e) {
                    this._tooltip.updatePosition(e.latlng)
                },
                _hasAvailableLayers: function() {
                    return 0 !== this._deletableLayers.getLayers().length
                }
            })
        }(window, document)
    },
    1787: function(e, t, i) {
        var a, n, r;
        n = [i(244)],
        void 0 === (r = "function" === typeof (a = function(e) {
            if (e.Hotline)
                return e;
            var t = function e(t) {
                if (!(this instanceof e))
                    return new e(t);
                this._canvas = t = "string" === typeof t ? document.getElementById(t) : t,
                this._ctx = t.getContext("2d"),
                this._width = t.width,
                this._height = t.height,
                this._weight = 5,
                this._outlineWidth = 1,
                this._outlineColor = "black",
                this._min = 0,
                this._max = 1,
                this._data = [],
                this.useEntireMapLatLngs = !1,
                this.palette({
                    0: "green",
                    .5: "yellow",
                    1: "red"
                })
            };
            t.prototype = {
                width: function(e) {
                    return this._width = e,
                    this
                },
                height: function(e) {
                    return this._height = e,
                    this
                },
                weight: function(e) {
                    return this._weight = e,
                    this
                },
                outlineWidth: function(e) {
                    return this._outlineWidth = e,
                    this
                },
                outlineColor: function(e) {
                    return this._outlineColor = e,
                    this
                },
                palette: function(e) {
                    var t = document.createElement("canvas")
                      , i = t.getContext("2d")
                      , a = i.createLinearGradient(0, 0, 0, 256);
                    for (var n in t.width = 1,
                    t.height = 256,
                    e)
                        a.addColorStop(n, e[n]);
                    return i.fillStyle = a,
                    i.fillRect(0, 0, 1, 256),
                    this._palette = i.getImageData(0, 0, 1, 256).data,
                    this
                },
                min: function(e) {
                    return this._min = e,
                    this
                },
                max: function(e) {
                    return this._max = e,
                    this
                },
                data: function(e) {
                    return this._data = this.useEntireMapLatLngs ? this._data : e,
                    this
                },
                add: function(e) {
                    return this._data.push(e),
                    this
                },
                draw: function() {
                    var e = this._ctx;
                    return e.globalCompositeOperation = "source-over",
                    e.lineCap = "round",
                    this._drawOutline(e),
                    this._drawHotline(e),
                    this
                },
                getRGBForValue: function(e) {
                    var t = Math.min(Math.max((e - this._min) / (this._max - this._min), 0), .999)
                      , i = 4 * Math.floor(256 * t);
                    return [this._palette[i], this._palette[i + 1], this._palette[i + 2]]
                },
                _drawOutline: function(e) {
                    var t, i, a, n, r, o, s;
                    if (this._outlineWidth)
                        for (t = 0,
                        a = this._data.length; t < a; t++)
                            for (n = this._data[t],
                            e.lineWidth = this._weight + 2 * this._outlineWidth,
                            i = 1,
                            r = n.length; i < r; i++)
                                o = n[i - 1],
                                s = n[i],
                                e.strokeStyle = this._outlineColor,
                                e.beginPath(),
                                e.moveTo(o.x, o.y),
                                e.lineTo(s.x, s.y),
                                e.stroke()
                },
                _drawHotline: function(e) {
                    var t, i, a, n, r, o, s, l, c, h;
                    for (e.lineWidth = this._weight,
                    t = 0,
                    a = this._data.length; t < a; t++)
                        for (n = this._data[t],
                        i = 1,
                        r = n.length; i < r; i++)
                            o = n[i - 1],
                            s = n[i],
                            l = e.createLinearGradient(o.x, o.y, s.x, s.y),
                            c = this.getRGBForValue(o.z),
                            h = this.getRGBForValue(s.z),
                            l.addColorStop(0, "rgb(" + c.join(",") + ")"),
                            l.addColorStop(1, "rgb(" + h.join(",") + ")"),
                            e.strokeStyle = l,
                            e.beginPath(),
                            e.moveTo(o.x, o.y),
                            e.lineTo(s.x, s.y),
                            e.stroke()
                }
            };
            var i = e.Canvas.extend({
                _initContainer: function() {
                    e.Canvas.prototype._initContainer.call(this),
                    this._hotline = new t(this._container)
                },
                _update: function() {
                    e.Canvas.prototype._update.call(this),
                    this._hotline.width(this._container.width),
                    this._hotline.height(this._container.height)
                },
                _updatePoly: function(e) {
                    if (this._drawing) {
                        var t = e._parts;
                        t.length && (this._updateOptions(e),
                        this._hotline.data(t).draw())
                    }
                },
                _updateOptions: function(e) {
                    null != e.options.min && this._hotline.min(e.options.min),
                    null != e.options.max && this._hotline.max(e.options.max),
                    null != e.options.weight && this._hotline.weight(e.options.weight),
                    null != e.options.outlineWidth && this._hotline.outlineWidth(e.options.outlineWidth),
                    null != e.options.outlineColor && this._hotline.outlineColor(e.options.outlineColor),
                    e.options.palette && this._hotline.palette(e.options.palette)
                }
            })
              , a = function(t) {
                return e.Browser.canvas ? new i(t) : null
            }
              , n = {
                clipSegment: function(t, i, a, n, r) {
                    var o, s, l, c = n ? this._lastCode : e.LineUtil._getBitCode(t, a), h = e.LineUtil._getBitCode(i, a);
                    for (this._lastCode = h; ; ) {
                        if (!(c | h))
                            return [t, i];
                        if (c & h)
                            return !1;
                        o = c || h,
                        s = e.LineUtil._getEdgeIntersection(t, i, o, a, r),
                        l = e.LineUtil._getBitCode(s, a),
                        o === c ? (s.z = t.z,
                        t = s,
                        c = l) : (s.z = i.z,
                        i = s,
                        h = l)
                    }
                }
            };
            return e.Hotline = e.Polyline.extend({
                statics: {
                    Renderer: i,
                    renderer: a
                },
                options: {
                    renderer: a(),
                    min: 0,
                    max: 1,
                    palette: {
                        0: "green",
                        .5: "yellow",
                        1: "red"
                    },
                    weight: 5,
                    outlineColor: "black",
                    outlineWidth: 1,
                    useEntireMapLatLngs: !1
                },
                getRGBForValue: function(e) {
                    return this._renderer._hotline.getRGBForValue(e)
                },
                _projectLatlngs: function(t, i, a) {
                    var n, r, o = t[0]instanceof e.LatLng, s = t.length;
                    if (o) {
                        for (r = [],
                        n = 0; n < s; n++)
                            r[n] = this._map.latLngToLayerPoint(t[n]),
                            r[n].z = t[n].alt,
                            a.extend(r[n]);
                        i.push(r)
                    } else
                        for (n = 0; n < s; n++)
                            this._projectLatlngs(t[n], i, a);
                    this._renderer._hotline._data = i.slice(0),
                    this._renderer._hotline.useEntireMapLatLngs = this.options.useEntireMapLatLngs
                },
                _clipPoints: function() {
                    if (this.options.noClip)
                        this._parts = this._rings;
                    else {
                        this._parts = [];
                        var e, t, i, a, r, o, s, l = this._parts, c = this._renderer._bounds;
                        for (e = 0,
                        i = 0,
                        a = this._rings.length; e < a; e++)
                            for (t = 0,
                            r = (s = this._rings[e]).length; t < r - 1; t++)
                                (o = n.clipSegment(s[t], s[t + 1], c, t, !0)) && (l[i] = l[i] || [],
                                l[i].push(o[0]),
                                o[1] === s[t + 1] && t !== r - 2 || (l[i].push(o[1]),
                                i++))
                    }
                },
                _clickTolerance: function() {
                    return this.options.weight / 2 + this.options.outlineWidth + (e.Browser.touch ? 10 : 0)
                }
            }),
            e.hotline = function(t, i) {
                return new e.Hotline(t,i)
            }
            ,
            e
        }
        ) ? a.apply(t, n) : a) || (e.exports = r)
    },
    1788: function(e, t, i) {
        "use strict";
        (function(e, a, n) {
            i(0);
            var r = i(8)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = (i(1357),
            i(37))
              , h = i(438)
              , p = i(449)
              , d = i(245)
              , u = i(31)
              , g = i(1789)
              , m = i(20)
              , f = i(1791)
              , y = i.n(f)
              , v = i(121)
              , b = i.n(v)
              , A = (i(1320),
            i(2084),
            "//static.garmincdn.com/com.garmin.connect/content/images/garmin-connect-fb2.gif")
              , C = {
                Up: "up",
                Down: "down"
            }
              , w = {
                facebook: "facebook",
                weibo: "weibo",
                twitter: "twitter"
            }
              , _ = "lap_swimming"
              , x = "open_water_swimming"
              , S = "swimming"
              , T = d.a.extend({
                events: {
                    "click #shareToFacebookFromShareStaticMapImageView": "clickShareFacebookButton",
                    "click #shareToWeiboFromShareStaticMapImageView": "clickShareSinaWeiboButton",
                    "click #shareToTwitterFromShareStaticMapImageView": "clickShareTwitterButton",
                    "click #shareToEmailFromShareStaticMapImageView": "clickShareEmailButton",
                    "click #shareToMoreFromShareStaticMapImageView": "clickShareMoreButton",
                    "click #activity-detail-embed": "clickEmbedButton"
                },
                initialize: function(e) {
                    p.a.userInChina() || (this.privacy = e.privacy,
                    this.url = e.url,
                    this.locale = e.locale,
                    this.customClasses = e.customClasses,
                    this.mapProviderPreference = e.mapProviderPreference,
                    this.customClasses || (this.customClasses = ""),
                    this.slideDirection = e.slideDirection || C.Down,
                    this.template = o.a.template(y.a),
                    this.widgetPageUrl = window.parent.location.href,
                    this.preferredLocale = e.locale,
                    this.setActivity(e.currentActivity),
                    this.imageUrl = A,
                    this.mapImageWidth = 300,
                    this.mapImageHeight = 300,
                    this.socialPlatform = null,
                    this.fileFormat = null,
                    this.popupShareWindow = null,
                    this.hasMap = e.hasMap,
                    this.addThisSharingEnabled = "true" === e.addThisSharingEnabled)
                },
                setActivity: function(e) {
                    e.has("activityTypeDTO") ? (this.activityType = e.get("activityTypeDTO").typeKey,
                    this.distance = e.get("summaryDTO").distance,
                    this.duration = e.get("summaryDTO").duration,
                    this.averageSpeed = e.get("summaryDTO").averageSpeed,
                    this.elevationGain = e.get("summaryDTO").elevationGain) : (this.activityType = e.get("activityType").typeKey,
                    this.distance = e.get("distance"),
                    this.duration = e.get("duration"),
                    this.averageSpeed = e.get("averageSpeed"),
                    this.elevationGain = e.get("elevationGain")),
                    this.activity = e,
                    this.activityDetailsInfo = this.getActivityDetailsInfo(),
                    this.activityId = this.activity.id
                },
                render: function() {
                    var e = this;
                    if (!p.a.userInChina()) {
                        var t = this.template({
                            Localizer: s.a,
                            privacy: this.privacy,
                            url: this.url,
                            locale: this.locale,
                            customClasses: this.customClasses,
                            directionClass: this.slideDirection == C.Up ? "bottom-up" : "",
                            showIcon: this.slideDirection != C.Up,
                            userInChina: p.a.userInChina(),
                            addThisSharingEnabled: this.addThisSharingEnabled
                        });
                        this.$el.html(t),
                        this.$el.addClass("dropdown share addthis_toolbox"),
                        this.$el.addClass(this.customClasses),
                        this.$el.attr("addthis:url", this.url);
                        var i = this.$(".dropdown-trigger");
                        i.attr("disabled", "disabled"),
                        i.addClass("disabled"),
                        this.addThisSharingEnabled ? b()(["//s7.addthis.com/js/250/addthis_widget.js#username=grmnconnect&async=1"], function() {
                            e.setPrivacy(e.privacy),
                            addthis && (addthis.init(),
                            addthis.toolbox(".addthis_toolbox"))
                        }) : this.setPrivacy(this.privacy)
                    }
                },
                setPrivacy: function(e) {
                    this.privacy = e;
                    var t = this.$(".dropdown-trigger");
                    "public" == e ? (t.removeAttr("disabled"),
                    t.removeClass("disabled"),
                    t.attr("title", s.a.localize("share"))) : (t.attr("disabled", "disabled"),
                    t.addClass("disabled"),
                    t.attr("title", s.a.localize("share.disabled")))
                },
                setUrl: function(e) {
                    this.url = e
                },
                getActivityDetailsInfo: function() {
                    return s.a.localize("label_distance") + " " + l.a.personalizeDistance(this.distance, this.activityType) + " " + s.a.localize(l.a.getDistanceUnitKey(this.activityType, this.distance)) + " | " + s.a.localize("label_time") + " " + l.a.personalizeDuration(this.duration) + " | " + s.a.localize(l.a.getSpeedTypeLabelKey(this.activityType)) + " " + l.a.personalizeSpeed(this.averageSpeed, this.activityType, this.distance) + " " + s.a.localize(l.a.getSpeedTypeKey(this.activityType, this.distance)) + " | " + s.a.localize("label_elevation_gain") + " " + l.a.personalizeElevation(this.elevationGain) + " " + s.a.localize(l.a.getElevationUnitKey())
                },
                clickShareFacebookButton: function() {
                    this.socialPlatform = w.facebook,
                    this.OpenPopupShareWindow(),
                    this.pushSocialShareAnalyticsEvents(),
                    this.earnBadgeWhenSharing()
                },
                clickShareSinaWeiboButton: function() {
                    this.socialPlatform = w.weibo,
                    this.OpenPopupShareWindow(),
                    this.pushSocialShareAnalyticsEvents(),
                    this.earnBadgeWhenSharing()
                },
                clickShareTwitterButton: function() {
                    this.socialPlatform = w.twitter,
                    this.OpenPopupShareWindow(),
                    this.pushSocialShareAnalyticsEvents(),
                    this.earnBadgeWhenSharing()
                },
                clickShareEmailButton: function() {
                    this.earnBadgeWhenSharing()
                },
                clickShareMoreButton: function() {
                    this.earnBadgeWhenSharing()
                },
                pushSocialShareAnalyticsEvents: function() {
                    h.a.push({
                        event: "track_event",
                        category: "Activity Share",
                        action: "Share on " + this.socialPlatform
                    })
                },
                clickEmbedButton: function() {
                    var e = new g.a({
                        activityId: this.activityId,
                        noOfChildren: this.activity.has("activityTypeDTO") ? this.activity.get("childIds").length : 0,
                        activityName: this.activity.get("activityName"),
                        hasMap: this.hasMap
                    });
                    new u.a({
                        modalTitle: s.a.localize("embed"),
                        view: e.render(),
                        showFooter: !1,
                        customClasses: "activity-detail-embed"
                    }).render(),
                    this.earnBadgeWhenSharing()
                },
                earnBadgeWhenSharing: function() {
                    m.a.isUserLoggedIn() && e.ajax({
                        url: c.default.url("/proxy/badge-service/badge/earn"),
                        type: "POST",
                        contentType: "application/json",
                        data: JSON.stringify({
                            badgeId: 32,
                            badgeAssocDataId: this.activityId
                        })
                    })
                },
                OpenPopupShareWindow: function() {
                    this.popupShareWindow = window.open("", "", "width=600, height=300"),
                    this.popupShareWindow.document.write('<br /><br /><p style="text-align:center; font-size:18px;"><img src="//static.garmincdn.com/shared/global/media/images/ajax-loader.gif" alt="" /><br />Processing, please wait...</p>'),
                    this.fileFormat = "png",
                    this.getEncodedPolylineJson()
                },
                getEncodedPolylineJson: function() {
                    if (void 0 == this.cachedPolylines && (this.cachedPolylines = []),
                    void 0 == this.cachedPolylines[this.activityId] || null == this.cachedPolylines[this.activityId]) {
                        var t;
                        t = this.activityType == S || this.activityType == _ || this.activityType == x ? "/proxy/activity-service/activity/" + this.activityId + "/swimDetails" : "/proxy/activity-service/activity/" + this.activityId + "/details";
                        var i = this;
                        a.ajax({
                            url: t,
                            type: "GET",
                            dataType: "json",
                            success: function(t, a, n) {
                                i.cachedPolylines[i.activityId] = t,
                                e.isEmptyObject(t) || e.isEmptyObject(t.geoPolylineDTO) ? i.redirectPopupShareWindow() : i.getPolylineJson(t)
                            },
                            error: function(e, t, a) {
                                i.redirectPopupShareWindow()
                            }
                        })
                    } else
                        this.getPolylineJson(this.cachedPolylines[this.activityId])
                },
                getPolylineJson: function(e) {
                    if (null != e.geoPolylineDTO && e.geoPolylineDTO.polyline.length > 0) {
                        for (var t = e.geoPolylineDTO.polyline, i = [], a = 0; a < t.length; a++) {
                            var r = t[a]
                              , o = new n.Map.Point(r.lat,r.lon,0);
                            i.push(o)
                        }
                        this.points = i,
                        this.getStaticMapImageFromMapProvider()
                    } else
                        this.imageUrl = A,
                        this.redirectPopupShareWindow()
                },
                getStaticMapImageFromMapProvider: function() {
                    var e = this.mapProviderPreference ? this.mapProviderPreference.get("value") : "google";
                    this.isPolylineInChina() && p.a.userInChina() && (e = n.Map.Utils.PROVIDER_TYPE_BAIDU),
                    e == n.Map.Utils.PROVIDER_TYPE_BAIDU ? this.downloadBaiduStaticMapImage() : e == n.Map.Utils.PROVIDER_TYPE_OSM ? this.setOsmStaticMapImageUrl() && this.downloadAndUploadGoogleStaticMapImage() : (e = n.Map.Utils.PROVIDER_TYPE_GOOGLE,
                    this.downloadAndUploadGoogleStaticMapImage())
                },
                isPolylineInChina: function() {
                    for (var e = [54.27, 123, 51.07, 117.8, 46.5, 115.3, 43.6, 103.9, 46.38, 93.3, 47.93, 91.4, 49.75, 87.5, 45.34, 79.5, 39.8, 73.2, 35.6, 75.4, 30.2, 79.9, 27.3, 89, 25.4, 97.3, 22.1, 98.7, 20.8, 102.2, 22.2, 105.5, 20.8, 108, 18.9, 106.8, 14.3, 109.9, 8.3, 105.9, 3.1, 103.7, .73, 108.5, 3.3, 111, 7.7, 116.3, 18.4, 119.9, 23.46, 118.23, 25.9, 121.62, 29.97, 123.71, 37.6, 123.7, 39.8, 123.8, 42.6, 131, 46.5, 134.5, 48.55, 135.1, 48.98, 130.9, 52.43, 127.4], t = [], i = 0; i < e.length; i += 2)
                        t.push({
                            lat: e[i],
                            lng: e[i + 1]
                        });
                    var a = Math.round(this.points.length / 2)
                      , n = {
                        lat: this.points[a].lat.toString().match(/-{0,1}\d+\.\d{0,5}/),
                        lng: this.points[a].lon.toString().match(/-{0,1}\d+\.\d{0,5}/)
                    };
                    return this.isPointInPoly(n, t)
                },
                isPointInPoly: function(e, t) {
                    for (var i = !1, a = -1, n = t.length, r = n - 1; ++a < n; r = a)
                        (t[a].lat <= e.lat && e.lat < t[r].lat || t[r].lat <= e.lat && e.lat < t[a].lat) && e.lng < (t[r].lng - t[a].lng) * (e.lat - t[a].lat) / (t[r].lat - t[a].lat) + t[a].lng && (i = !i);
                    return i
                },
                downloadBaiduStaticMapImage: function() {
                    var e = n.Map.Baidu.Constants.WGS84;
                    this.activity.has("gcj02") && 1 == this.activity.get("gcj02") && (e = n.Map.Baidu.Constants.GCJ02);
                    for (var t = this.points.length, i = this.getIterationGap(2048, t), a = [], r = 0; r < t - i; r += i) {
                        var o = this.points[r].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)
                          , s = this.points[r].lon.toString().match(/-{0,1}\d+\.\d{0,5}/)
                          , l = new BMap.Point(s,o);
                        a.push(l)
                    }
                    var c = this;
                    n.Map.Baidu.Convertor.convertMultiple(a, function(e) {
                        for (var t = "&paths=", i = 180, a = -180, n = 90, r = -90, o = e.length, s = c.getIterationGap(2048, o), l = 0; l < o - s; l += s) {
                            var h = e[l].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)
                              , p = e[l].lng.toString().match(/-{0,1}\d+\.\d{0,5}/);
                            h < n && (n = h),
                            h > r && (r = h),
                            p < i && (i = p),
                            p > a && (a = p),
                            null != h && null != p && h.length > 0 && p.length > 0 && (t += p + "," + h + ";")
                        }
                        var d = "&center=" + ((parseFloat(a) + parseFloat(i)) / 2).toString().match(/-{0,1}\d+\.\d{0,5}/) + "," + ((parseFloat(r) + parseFloat(n)) / 2).toString().match(/-{0,1}\d+\.\d{0,5}/)
                          , u = "&markers=" + (e[0].lng.toString().match(/-{0,1}\d+\.\d{0,5}/) + "," + e[0].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)) + "|" + (e[o - 1].lng.toString().match(/-{0,1}\d+\.\d{0,5}/) + "," + e[o - 1].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)) + "&markerStyles=l,S,green|l,E,red";
                        c.staticMapImageUrl = "https://sapi.map.baidu.com/staticimage?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&s=1&width=" + c.mapImageWidth + "&height=" + c.mapImageHeight + d + u + t + "&pathStyles=0xff0000,2,0.8",
                        c.downloadAndUploadStaticMapImage()
                    }, e)
                },
                setOsmStaticMapImageUrl: function() {
                    return !this.isPolylineInChina()
                },
                getIterationGap: function(e, t) {
                    var i = parseInt((e - 400) / 22, 10);
                    return t < i ? 1 : parseInt(t / i, 10) + 1
                },
                downloadAndUploadStaticMapImage: function() {
                    var e = this;
                    a.ajax({
                        url: "/modern/proxy/image-service/imageservice/downloadAndUploadStaticMapImage",
                        data: {
                            urlStr: encodeURIComponent(this.staticMapImageUrl),
                            activityId: this.activityId,
                            fileFormat: this.fileFormat
                        },
                        type: "GET",
                        dataType: "JSON",
                        success: function(t, i, n) {
                            if (e.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            t.hasOwnProperty("status") && 1 == t.status) {
                                document.documentMode;
                                e.imageUrl = t.imageUrl
                            }
                            e.redirectPopupShareWindow()
                        },
                        error: function(t, i, n) {
                            e.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            e.redirectPopupShareWindow()
                        }
                    })
                },
                downloadAndUploadGoogleStaticMapImage: function() {
                    var e = this;
                    a.ajax({
                        url: "/proxy/activity-service/activity/" + this.activityId + "/share",
                        type: "GET",
                        dataType: "JSON",
                        success: function(t, i, n) {
                            var r = t;
                            e.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            r.hasOwnProperty("status") && 1 == r.status && (e.imageUrl = r.imageUrl),
                            e.redirectPopupShareWindow()
                        },
                        error: function(t, i, n) {
                            e.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            e.redirectPopupShareWindow()
                        }
                    })
                },
                redirectPopupShareWindow: function() {
                    var e = this.widgetPageUrl.split("/")
                      , t = e[0]
                      , i = e[2];
                    this.isGarminLogo = this.imageUrl == A ? "1" : "0";
                    var a = t + "//" + i + "/modern/activity/" + this.activityId + "/share/" + this.isGarminLogo + "?lang=" + this.preferredLocale
                      , n = null;
                    this.socialPlatform == w.facebook ? n = "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(a) + "&p[title]=Garmin%20Connect&display=popup" : this.socialPlatform == w.weibo ? n = "http://service.weibo.com/share/share.php?url=" + encodeURIComponent(a) + "&pic=" + encodeURIComponent(this.imageUrl) + "&title=" + encodeURIComponent(this.activity.get("activityName").trim() + ": " + this.activityDetailsInfo) : this.socialPlatform == w.twitter && (n = "http://twitter.com/share?text=" + encodeURIComponent(this.activity.get("activityName").trim()) + "&url=" + encodeURIComponent(a)),
                    this.popupShareWindow.location.replace(n)
                }
            });
            T.SlideDirection = C,
            T.SocialPlatorm = w,
            t.a = T
        }
        ).call(this, i(9), i(9), i(1320))
    },
    1789: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(37)
          , c = i(1790)
          , h = i.n(c);
        t.a = o.a.View.extend({
            template: n.a.template(h.a),
            initialize: function(e) {
                return this.activityId = e.activityId,
                this.hasMap = e.hasMap,
                this.calculateHeight(e.noOfChildren),
                this.activityName = e.activityName,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    NavUtil: l.default,
                    height: this.height,
                    activityId: this.activityId,
                    activityName: this.getActivityName()
                })),
                this
            },
            getActivityName: function() {
                var e = s.a.localize("untitled");
                return this.activityName && (e = this.activityName.replace(/"/g, "&quot;").replace(/'/g, "&#39;")),
                e
            },
            calculateHeight: function(e) {
                var t = this.hasMap || !1
                  , i = 500;
                if (0 !== e) {
                    for (var a = 0; a < e; a += 1)
                        i += 0 === a ? 26 : 18;
                    this.height = t ? i : i - 219
                } else
                    this.height = t ? i : i - 230
            }
        })
    },
    1790: function(e, t) {
        e.exports = '<input\n        type="text"\n        value="&lt;iframe src=\'<%- NavUtil.getHostUrl() + NavUtil.url(\'/activity/embed/\' + activityId) %>\' title=\'<%- activityName %>\' width=\'465\' height=\'<%- height %>\' frameborder=\'0\'&gt;&lt;/iframe&gt;"\n        class="embed-activity-input"\n        onclick="this.focus();this.select()"\n        readonly="readonly">\n\n<iframe\n        class="embed-activity-iframe"\n        width="465"\n        height="<%- height %>"\n        title="<%- activityName %>"\n        frameborder="0"\n        src="<%- NavUtil.getHostUrl() + NavUtil.url(\'/activity/embed/\' + activityId) %>">\n</iframe>'
    },
    1791: function(e, t) {
        e.exports = '<button class="dropdown-trigger" data-toggle="dropdown">\n    <i class="icon-share"/>\n</button>\n<ul class="dropdown-menu pull-right <%- directionClass %>">\n    <% if (showIcon) { %>\n    <li class="clearfix">\n        <i class="icon-share pull-right"></i>\n    </li>\n    <% } %> \n    \n    <% if (userInChina) { %>\n    <li>\n        <a id="shareToWeiboFromShareStaticMapImageView" class="addthis_button_sinaweibo" title="<%- Localizer.localize(\'share_sinaweibo\') %>">\n            <span class="at-icon-wrapper" style="background-color: rgb(230, 22, 45); line-height: 16px; height: 16px; width: 16px;">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                        class="at-icon at-icon-sinaweibo" style="width: 16px; height: 16px;">\n                    <g>\n                    <path\n                            d="M14.24 23.808c-3.64.367-6.785-1.307-7.022-3.734-.236-2.43 2.525-4.693 6.164-5.06 3.642-.367 6.786 1.307 7.02 3.734.24 2.43-2.522 4.696-6.16 5.06m7.28-8.063c-.31-.096-.523-.157-.362-.57.352-.898.39-1.672.006-2.227-.713-1.036-2.667-.98-4.907-.028 0 0-.705.312-.523-.253.343-1.125.29-2.065-.243-2.61-1.214-1.238-4.446.045-7.216 2.86C6.205 15.023 5 17.26 5 19.192c0 3.694 4.664 5.942 9.226 5.942 5.98 0 9.96-3.53 9.96-6.333.003-1.695-1.402-2.657-2.665-3.055M25.494 8.983a5.76 5.76 0 0 0-5.542-1.823.855.855 0 0 0-.646 1.015.84.84 0 0 0 1 .657c1.398-.303 2.912.138 3.938 1.295a4.254 4.254 0 0 1 .865 4.113c-.144.45.1.93.542 1.076a.84.84 0 0 0 1.06-.55v-.002a5.973 5.973 0 0 0-1.218-5.78"></path><path d="M23.276 11.018a2.8 2.8 0 0 0-2.698-.885.74.74 0 0 0-.56.876c.086.396.472.65.86.563.467-.102.977.046 1.32.432.343.388.437.915.29 1.378a.742.742 0 0 0 .466.928.724.724 0 0 0 .913-.474c.3-.947.113-2.026-.59-2.818M14.44 19.41c-.126.223-.408.328-.627.235-.218-.09-.285-.34-.16-.555.127-.215.397-.32.612-.234.22.08.298.33.176.555m-1.16 1.512c-.353.57-1.11.82-1.676.558-.56-.26-.726-.922-.374-1.48.35-.555 1.078-.802 1.642-.56.57.25.753.905.407 1.482m1.322-4.04c-1.733-.46-3.69.42-4.443 1.97-.77 1.583-.025 3.34 1.723 3.914 1.815.595 3.95-.318 4.695-2.023.734-1.67-.182-3.39-1.976-3.86">\n                            </path></g></svg>\n            </span>\n            <%- Localizer.localize(\'share_sinaweibo\') %>\n        </a>\n    </li>\n        <% if (addThisSharingEnabled) { %>\n        <li>\n            <a class="addthis_button_baidu"><%- Localizer.localize(\'share_baidu\') %></a>\n        </li>\n        <li>\n            <a class="addthis_button_qzone"><%- Localizer.localize(\'share_qzone\') %></a>\n        </li>\n        <li>\n            <a class="addthis_button_email"><%- Localizer.localize(\'share_email\') %></a>\n        </li>\n        <li>\n            <a class="addthis_button_expanded"><%- Localizer.localize(\'share_more\') %></a>\n        </li>\n        <% } %>\n    <% } else { %>\n    <li>\n        <a id="shareToFacebookFromShareStaticMapImageView" class="at300b" title="<%- Localizer.localize(\'share.facebook\') %>" href="#">\n            <span class="at-icon-wrapper"\n                  style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(59, 89, 152); display: inline-block; overflow: hidden;">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                     class="at-icon at-icon-facebook" style="width: 16px; height: 16px; fill: #fff; border: 0;">\n                    <g>\n                    <path\n                            d="M22 5.16c-.406-.054-1.806-.16-3.43-.16-3.4 0-5.733 1.825-5.733 5.17v2.882H9v3.913h3.837V27h4.604V16.965h3.823l.587-3.913h-4.41v-2.5c0-1.123.347-1.903 2.198-1.903H22V5.16z"\n                            fill-rule="evenodd"></path></g></svg>\n            </span>\n            <%- Localizer.localize(\'share.facebook\') %>\n        </a>\n    </li>\n    <li>\n        <a id="shareToTwitterFromShareStaticMapImageView" class="at300b" title="<%- Localizer.localize(\'share.twitter\') %>" href="#">\n            <span class="at-icon-wrapper"\n                  style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(29, 161, 242); display: inline-block; overflow: hidden;">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                     class="at-icon at-icon-twitter" style="width: 16px; height: 16px; fill: #fff; border: 0;">\n                    <g>\n                    <path\n                            d="M27.996 10.116c-.81.36-1.68.602-2.592.71a4.526 4.526 0 0 0 1.984-2.496 9.037 9.037 0 0 1-2.866 1.095 4.513 4.513 0 0 0-7.69 4.116 12.81 12.81 0 0 1-9.3-4.715 4.49 4.49 0 0 0-.612 2.27 4.51 4.51 0 0 0 2.008 3.755 4.495 4.495 0 0 1-2.044-.564v.057a4.515 4.515 0 0 0 3.62 4.425 4.52 4.52 0 0 1-2.04.077 4.517 4.517 0 0 0 4.217 3.134 9.055 9.055 0 0 1-5.604 1.93A9.18 9.18 0 0 1 6 23.85a12.773 12.773 0 0 0 6.918 2.027c8.3 0 12.84-6.876 12.84-12.84 0-.195-.005-.39-.014-.583a9.172 9.172 0 0 0 2.252-2.336"\n                            fill-rule="evenodd"></path></g></svg>\n            </span>\n            <%- Localizer.localize(\'share.twitter\') %>\n        </a>\n    </li>\n        <% if (addThisSharingEnabled) { %>\n        <li>\n            <a class="addthis_button_email at300b" id="shareToEmailFromShareStaticMapImageView" target="_blank" title="<%- Localizer.localize(\'share_email\') %>"\n            href="#">\n                <span class="at-icon-wrapper"\n                    style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(132, 132, 132);">\n                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                        class="at-icon at-icon-email" style="width: 16px; height: 16px;">\n                        <g>\n                        <g fill-rule="evenodd"></g>\n                        <path\n                                d="M27 22.757c0 1.24-.988 2.243-2.19 2.243H7.19C5.98 25 5 23.994 5 22.757V13.67c0-.556.39-.773.855-.496l8.78 5.238c.782.467 1.95.467 2.73 0l8.78-5.238c.472-.28.855-.063.855.495v9.087z"></path>\n                        <path\n                                d="M27 9.243C27 8.006 26.02 7 24.81 7H7.19C5.988 7 5 8.004 5 9.243v.465c0 .554.385 1.232.857 1.514l9.61 5.733c.267.16.8.16 1.067 0l9.61-5.733c.473-.283.856-.96.856-1.514v-.465z"></path></g></svg>\n                </span>\n                <%- Localizer.localize(\'share_email\') %>\n            </a>\n        </li>\n        <li>\n            <a class="addthis_button_expanded at300m" href="#" id="shareToMoreFromShareStaticMapImageView" target="_blank" title="<%- Localizer.localize(\'share_more\') %>">\n                <span class="at-icon-wrapper"\n                    style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(255, 101, 80);">\n                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                        title="Expanded" alt="Expanded"\n                        class="at-icon at-icon-addthis" style="width: 16px; height: 16px;">\n                        <g>\n                        <path d="M18 14V8h-4v6H8v4h6v6h4v-6h6v-4h-6z" fill-rule="evenodd"></path></g></svg>\n                </span>\n                <%- Localizer.localize(\'share_more\') %>\n            </a>\n        </li>\n        <% } %>\n    <% } %>\n    <li class="divider"></li>\n    <li>\n        <a id="activity-detail-embed" href="#" data-toggle="modal"><%- Localizer.localize(\'embed\') %></a>\n    </li>\n</ul>\n'
    },
    1792: function(e, t) {
        e.exports = '<%\n    var privacyClasses = {\n        \'private\': \'icon-locked\',\n        \'subscribers\': \'icon-privacy-connections\',\n        \'groups\': \'icon-privacy-connections-and-groups\',\n        \'public\': \'icon-unlocked\'\n    };\n\n    var privacyIconClass = privacyClasses[privacy];\n%> \n\n\n    <button class="dropdown-trigger page-navigation-action" \n            data-toggle="dropdown"\n            aria-label="<%- Localizer.localize(\'privacy.alert.heading\') %>">\n        <i class="<%- privacyIconClass %> privacy-indicator"></i>\n    </button>\n    \n    <ul class="<%- customConsentClass %> dropdown-menu pull-right">\n        <li class="clearfix">\n            <i class="<%- privacyIconClass %> privacy-state-current pull-right"></i>\n        </li>\n        <li data-privacy="private">\n            <a href="#">\n                <i class="icon-locked"></i> <%- Localizer.localize(\'privacy.private.title\') %> <br/>\n                <% if(onlyMeConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- onlyMeConsent %></span>\n                <% } %>\n            </a>\n        </li>\n        <li data-privacy="subscribers">\n            <a href="#">\n                <i class="icon-privacy-connections"></i> <%- Localizer.localize(\'privacy.connections.title\') %><br/>\n                <% if(connectionsConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- connectionsConsent %></span>\n                <% } %>\n            </a>\n        </li>\n        <li data-privacy="groups">\n            <a href="#">\n                 <i class="icon-privacy-connections-and-groups"></i> <%- Localizer.localize(\'privacy.connections.and.groups.title\') %><br/>\n                <% if(groupsConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- groupsConsent %></span>\n                <% } %>\n            </a>\n        </li>\n        <li data-privacy="public">\n            <a href="#">\n                <i class="icon-unlocked"></i> <%- Localizer.localize(\'privacy.public.title\') %> <br/>\n                <% if(everyoneConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- everyoneConsent %></span>\n                <% } %>\n            </a>\n        </li>\n    </ul>\n'
    },
    1793: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(11)
          , l = i(7)
          , c = i(13)
          , h = i.n(c)
          , p = i(83)
          , d = i(18)
          , u = i(1794)
          , g = i.n(u)
          , m = i(1795)
          , f = i.n(m)
          , y = {
            grayLineWidth: 4,
            point1: {
                x: 0,
                y: 67
            },
            point2: {
                x: 150,
                y: 67
            },
            point3: {
                x: 200,
                y: 200
            },
            orangeLineWidth: 2,
            orangeLineY: 134
        }
          , v = {
            grayLineWidth: 3,
            point1: {
                x: 0,
                y: 50
            },
            point2: {
                x: 105,
                y: 50
            },
            point3: {
                x: 142,
                y: 150
            },
            orangeLineWidth: 2,
            orangeLineY: 100
        }
          , b = {
            grayLineWidth: 1,
            point1: {
                x: 0,
                y: 25
            },
            point2: {
                x: 70,
                y: 25
            },
            point3: {
                x: 95,
                y: 118
            },
            orangeLineWidth: 1,
            orangeLineY: 72
        };
        t.a = o.a.View.extend({
            template: n.a.template(f.a),
            initialize: function(e) {
                this.surfaceInterval = e.surfaceInterval,
                this.timeIn = e.timeIn,
                this.maxDepth = e.maxDepth,
                this.avgDepth = e.avgDepth,
                this.bottomTime = e.bottomTime,
                this.isDecoDive = e.isDecoDive,
                this.timeOut = e.timeOut
            },
            render: function() {
                var e = this.template({});
                return this.$el.html(e),
                this.renderCanvas(),
                this.renderDiveLogStats(),
                this
            },
            renderCanvas: function() {
                var e = this.$("#canvas")[0]
                  , t = e.getContext("2d");
                e.style.width = "100%",
                e.style.height = "100%",
                e.width = e.offsetWidth,
                e.height = e.offsetHeight,
                0 !== e.width && (this.drawLeftSide(e, t),
                t.save(),
                this.drawRightSide(e, t),
                t.restore())
            },
            drawLeftSide: function(e, t) {
                var i = this.getDrawOptions(e.width);
                t.strokeStyle = "#999999",
                t.lineWidth = i.grayLineWidth,
                t.beginPath(),
                t.moveTo(i.point1.x, i.point1.y),
                t.lineTo(i.point2.x, i.point2.y),
                t.lineTo(i.point3.x, i.point3.y),
                t.lineTo(e.width / 2, i.point3.y),
                t.stroke(),
                t.strokeStyle = "#ff9f10",
                t.lineWidth = i.orangeLineWidth,
                t.beginPath(),
                t.moveTo(0, i.orangeLineY),
                t.lineTo(e.width / 2, i.orangeLineY),
                t.stroke()
            },
            drawRightSide: function(e, t) {
                t.translate(e.width, 0),
                t.scale(-1, 1),
                this.drawLeftSide(e, t)
            },
            renderDiveLogStats: function() {
                var e = this.$("#canvas")[0].width
                  , t = n.a.template(g.a)
                  , i = this.$(".dive-canvas")
                  , a = t({
                    className: "surface-interval",
                    additionalClasses: "",
                    value: this.getSurfaceIntervalValue(e, this.surfaceInterval),
                    label: this.getSurfaceIntervalLabel(e)
                });
                i.append(a);
                var r = p.a.parseISO(this.timeIn)
                  , o = t({
                    className: "time-in",
                    additionalClasses: "",
                    value: d.a.formatTime(r),
                    label: l.a.localize("time_in_label")
                });
                i.append(o);
                var c = t({
                    className: "max-depth",
                    additionalClasses: "",
                    value: s.a.personalizeDepth(this.maxDepth) + " " + l.a.localize(s.a.getDepthUnitKey()),
                    label: l.a.localize("max_depth")
                });
                i.append(c);
                var u = t({
                    className: "avg-depth",
                    additionalClasses: "center",
                    value: s.a.personalizeDepth(this.avgDepth) + " " + l.a.localize(s.a.getDepthUnitKey()),
                    label: l.a.localize("avg_depth_abbr")
                });
                i.append(u);
                var m = t({
                    className: "bottom-time",
                    additionalClasses: "center",
                    value: s.a.personalizeDuration(this.bottomTime, !1),
                    label: l.a.localize("bottom_time")
                });
                if (i.append(m),
                this.isDecoDive) {
                    var f = t({
                        className: "deco-dive",
                        additionalClasses: "right decompression-dive-icon",
                        value: "D",
                        label: l.a.localize("deco_dive_label")
                    });
                    i.append(f)
                }
                var y = new h.a(r).add(this.bottomTime, "s").toDate()
                  , v = t({
                    className: "time-out",
                    additionalClasses: "right",
                    value: d.a.formatTime(y),
                    label: l.a.localize("time_out_label")
                });
                i.append(v)
            },
            getSurfaceIntervalValue: function(e, t) {
                return this.isWidget(e) ? l.a.localize("surface_interval_abbrev") + ": " + s.a.personalizeDuration(t, !1) : s.a.personalizeDuration(t, !1)
            },
            getSurfaceIntervalLabel: function(e) {
                return this.isWidget(e) ? "" : l.a.localize("surface_interval")
            },
            getDrawOptions: function(e) {
                return this.isWidget(e) ? b : e >= 300 && e <= 550 ? v : y
            },
            isWidget: function(e) {
                return e < 300
            },
            destroy: function() {
                this.remove()
            }
        })
    },
    1794: function(e, t) {
        e.exports = '<div class="dive-log-stat <%- className %>-stat font-thin <%- additionalClasses %>">\n    <div class="<%- className %>-value dive-log-value">\n        <%- value %>\n    </div>\n    <span class="<%- className %>-label dive-log-label">\n        <%- label %>\n    </span>\n</div>'
    },
    1795: function(e, t) {
        e.exports = '<div class="dive-canvas">\n    <canvas id="canvas" class="canvas"></canvas>\n    \x3c!-- diveLogStatView.html --\x3e\n\n</div>\n'
    },
    1796: function(e, t, i) {
        "use strict";
        t.a = function(e, t) {
            for (var i = -1, a = null == e ? 0 : e.length; ++i < a && !1 !== t(e[i], i, e); )
                ;
            return e
        }
    },
    1797: function(e, t, i) {
        "use strict";
        var a = i(348)
          , n = i(1372)
          , r = "[object AsyncFunction]"
          , o = "[object Function]"
          , s = "[object GeneratorFunction]"
          , l = "[object Proxy]";
        t.a = function(e) {
            if (!Object(n.a)(e))
                return !1;
            var t = Object(a.a)(e);
            return t == o || t == s || t == r || t == l
        }
    },
    1798: function(e, t, i) {
        "use strict";
        var a = Function.prototype.toString;
        t.a = function(e) {
            if (null != e) {
                try {
                    return a.call(e)
                } catch (t) {}
                try {
                    return e + ""
                } catch (t) {}
            }
            return ""
        }
    },
    1799: function(e, t, i) {
        "use strict";
        t.a = function(e, t) {
            for (var i = -1, a = null == e ? 0 : e.length, n = Array(a); ++i < a; )
                n[i] = t(e[i], i, e);
            return n
        }
    },
    1800: function(e, t, i) {
        "use strict";
        var a = i(484).a.Uint8Array;
        t.a = a
    },
    1801: function(e, t, i) {
        "use strict";
        var a = i(1802)
          , n = i(1703)
          , r = i(1454);
        t.a = function(e) {
            return Object(a.a)(e, r.a, n.a)
        }
    },
    1802: function(e, t, i) {
        "use strict";
        var a = i(1633)
          , n = i(1353);
        t.a = function(e, t, i) {
            var r = t(e);
            return Object(n.a)(e) ? r : Object(a.a)(r, i(e))
        }
    },
    1803: function(e, t, i) {
        "use strict";
        t.a = function() {
            return []
        }
    },
    1804: function(e, t, i) {
        "use strict";
        var a = i(1805);
        t.a = function(e, t, i) {
            "__proto__" == t && a.a ? Object(a.a)(e, t, {
                configurable: !0,
                enumerable: !0,
                value: i,
                writable: !0
            }) : e[t] = i
        }
    },
    1805: function(e, t, i) {
        "use strict";
        var a = i(1424)
          , n = function() {
            try {
                var e = Object(a.a)(Object, "defineProperty");
                return e({}, "", {}),
                e
            } catch (t) {}
        }();
        t.a = n
    },
    1806: function(e, t, i) {
        "use strict";
        var a = i(1633)
          , n = i(495)
          , r = i(1703)
          , o = i(1803)
          , s = Object.getOwnPropertySymbols ? function(e) {
            for (var t = []; e; )
                Object(a.a)(t, Object(r.a)(e)),
                e = Object(n.a)(e);
            return t
        }
        : o.a;
        t.a = s
    },
    1807: function(e, t, i) {
        "use strict";
        var a = i(1802)
          , n = i(1806)
          , r = i(1912);
        t.a = function(e) {
            return Object(a.a)(e, r.a, n.a)
        }
    },
    1808: function(e, t) {
        this.L = this.L || {},
        this.L.Control = this.L.Control || {},
        this.L.Control.Geocoder = function(e) {
            "use strict";
            e = e && e.hasOwnProperty("default") ? e.default : e;
            var t = 0
              , i = /[&<>"'`]/g
              , a = /[&<>"'`]/
              , n = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#x27;",
                "`": "&#x60;"
            };
            function r(e) {
                return n[e]
            }
            function o(i, a, n, r, o) {
                var s = "_l_geocoder_" + t++;
                a[o || "callback"] = s,
                window[s] = e.Util.bind(n, r);
                var l = document.createElement("script");
                l.type = "text/javascript",
                l.src = i + e.Util.getParamString(a),
                l.id = s,
                document.getElementsByTagName("head")[0].appendChild(l)
            }
            function s(t, i, a) {
                var n = new XMLHttpRequest;
                n.onreadystatechange = function() {
                    4 === n.readyState && (200 === n.status || 304 === n.status ? a(JSON.parse(n.response)) : a(""))
                }
                ,
                n.open("GET", t + e.Util.getParamString(i), !0),
                n.setRequestHeader("Accept", "application/json"),
                n.send(null)
            }
            function l(e, t) {
                return e.replace(/\{ *([\w_]+) *\}/g, function(e, n) {
                    var o, s = t[n];
                    return void 0 === s ? s = "" : "function" === typeof s && (s = s(t)),
                    null == (o = s) ? "" : o ? (o = "" + o,
                    a.test(o) ? o.replace(i, r) : o) : o + ""
                })
            }
            var c = {
                class: e.Class.extend({
                    options: {
                        serviceUrl: "https://nominatim.openstreetmap.org/",
                        geocodingQueryParams: {},
                        reverseQueryParams: {},
                        htmlTemplate: function(e) {
                            var t = e.address
                              , i = [];
                            return (t.road || t.building) && i.push("{building} {road} {house_number}"),
                            (t.city || t.town || t.village || t.hamlet) && i.push('<span class="' + (i.length > 0 ? "leaflet-control-geocoder-address-detail" : "") + '">{postcode} {city} {town} {village} {hamlet}</span>'),
                            (t.state || t.country) && i.push('<span class="' + (i.length > 0 ? "leaflet-control-geocoder-address-context" : "") + '">{state} {country}</span>'),
                            l(i.join("<br/>"), t)
                        }
                    },
                    initialize: function(t) {
                        e.Util.setOptions(this, t)
                    },
                    geocode: function(t, i, a) {
                        s(this.options.serviceUrl + "search", e.extend({
                            q: t,
                            limit: 5,
                            format: "json",
                            addressdetails: 1
                        }, this.options.geocodingQueryParams), e.bind(function(t) {
                            for (var n = [], r = t.length - 1; r >= 0; r--) {
                                for (var o = t[r].boundingbox, s = 0; s < 4; s++)
                                    o[s] = parseFloat(o[s]);
                                n[r] = {
                                    icon: t[r].icon,
                                    name: t[r].display_name,
                                    html: this.options.htmlTemplate ? this.options.htmlTemplate(t[r]) : void 0,
                                    bbox: e.latLngBounds([o[0], o[2]], [o[1], o[3]]),
                                    center: e.latLng(t[r].lat, t[r].lon),
                                    properties: t[r]
                                }
                            }
                            i.call(a, n)
                        }, this))
                    },
                    reverse: function(t, i, a, n) {
                        s(this.options.serviceUrl + "reverse", e.extend({
                            lat: t.lat,
                            lon: t.lng,
                            zoom: Math.round(Math.log(i / 256) / Math.log(2)),
                            addressdetails: 1,
                            format: "json"
                        }, this.options.reverseQueryParams), e.bind(function(t) {
                            var i, r = [];
                            t && t.lat && t.lon && (i = e.latLng(t.lat, t.lon),
                            r.push({
                                name: t.display_name,
                                html: this.options.htmlTemplate ? this.options.htmlTemplate(t) : void 0,
                                center: i,
                                bounds: e.latLngBounds(i, i),
                                properties: t
                            })),
                            a.call(n, r)
                        }, this))
                    }
                }),
                factory: function(t) {
                    return new e.Control.Geocoder.Nominatim(t)
                }
            }
              , h = {
                class: e.Control.extend({
                    options: {
                        showResultIcons: !1,
                        collapsed: !0,
                        expand: "touch",
                        position: "topright",
                        placeholder: "Search...",
                        errorMessage: "Nothing found.",
                        suggestMinLength: 3,
                        suggestTimeout: 250,
                        defaultMarkGeocode: !0
                    },
                    includes: e.Evented.prototype || e.Mixin.Events,
                    initialize: function(t) {
                        e.Util.setOptions(this, t),
                        this.options.geocoder || (this.options.geocoder = new c.class),
                        this._requestCount = 0
                    },
                    onAdd: function(t) {
                        var i, a = "leaflet-control-geocoder", n = e.DomUtil.create("div", a + " leaflet-bar"), r = e.DomUtil.create("button", a + "-icon", n), o = this._form = e.DomUtil.create("div", a + "-form", n);
                        return this._map = t,
                        this._container = n,
                        r.innerHTML = "&nbsp;",
                        r.type = "button",
                        (i = this._input = e.DomUtil.create("input", "", o)).type = "text",
                        i.placeholder = this.options.placeholder,
                        this._errorElement = e.DomUtil.create("div", a + "-form-no-error", n),
                        this._errorElement.innerHTML = this.options.errorMessage,
                        this._alts = e.DomUtil.create("ul", a + "-alternatives leaflet-control-geocoder-alternatives-minimized", n),
                        e.DomEvent.disableClickPropagation(this._alts),
                        e.DomEvent.addListener(i, "keydown", this._keydown, this),
                        this.options.geocoder.suggest && e.DomEvent.addListener(i, "input", this._change, this),
                        e.DomEvent.addListener(i, "blur", function() {
                            this.options.collapsed && !this._preventBlurCollapse && this._collapse(),
                            this._preventBlurCollapse = !1
                        }, this),
                        this.options.collapsed ? "click" === this.options.expand ? e.DomEvent.addListener(n, "click", function(e) {
                            0 === e.button && 2 !== e.detail && this._toggle()
                        }, this) : e.Browser.touch && "touch" === this.options.expand ? e.DomEvent.addListener(n, "touchstart mousedown", function(e) {
                            this._toggle(),
                            e.preventDefault(),
                            e.stopPropagation()
                        }, this) : (e.DomEvent.addListener(n, "mouseover", this._expand, this),
                        e.DomEvent.addListener(n, "mouseout", this._collapse, this),
                        this._map.on("movestart", this._collapse, this)) : (this._expand(),
                        e.Browser.touch ? e.DomEvent.addListener(n, "touchstart", function() {
                            this._geocode()
                        }, this) : e.DomEvent.addListener(n, "click", function() {
                            this._geocode()
                        }, this)),
                        this.options.defaultMarkGeocode && this.on("markgeocode", this.markGeocode, this),
                        this.on("startgeocode", function() {
                            e.DomUtil.addClass(this._container, "leaflet-control-geocoder-throbber")
                        }, this),
                        this.on("finishgeocode", function() {
                            e.DomUtil.removeClass(this._container, "leaflet-control-geocoder-throbber")
                        }, this),
                        e.DomEvent.disableClickPropagation(n),
                        n
                    },
                    _geocodeResult: function(t, i) {
                        if (i || 1 !== t.length)
                            if (t.length > 0) {
                                this._alts.innerHTML = "",
                                this._results = t,
                                e.DomUtil.removeClass(this._alts, "leaflet-control-geocoder-alternatives-minimized");
                                for (var a = 0; a < t.length; a++)
                                    this._alts.appendChild(this._createAlt(t[a], a))
                            } else
                                e.DomUtil.addClass(this._errorElement, "leaflet-control-geocoder-error");
                        else
                            this._geocodeResultSelected(t[0])
                    },
                    markGeocode: function(t) {
                        return t = t.geocode || t,
                        this._map.fitBounds(t.bbox),
                        this._geocodeMarker && this._map.removeLayer(this._geocodeMarker),
                        this._geocodeMarker = new e.Marker(t.center).bindPopup(t.html || t.name).addTo(this._map).openPopup(),
                        this
                    },
                    _geocode: function(e) {
                        var t = ++this._requestCount
                          , i = e ? "suggest" : "geocode"
                          , a = {
                            input: this._input.value
                        };
                        this._lastGeocode = this._input.value,
                        e || this._clearResults(),
                        this.fire("start" + i, a),
                        this.options.geocoder[i](this._input.value, function(n) {
                            t === this._requestCount && (a.results = n,
                            this.fire("finish" + i, a),
                            this._geocodeResult(n, e))
                        }, this)
                    },
                    _geocodeResultSelected: function(e) {
                        this.fire("markgeocode", {
                            geocode: e
                        })
                    },
                    _toggle: function() {
                        e.DomUtil.hasClass(this._container, "leaflet-control-geocoder-expanded") ? this._collapse() : this._expand()
                    },
                    _expand: function() {
                        e.DomUtil.addClass(this._container, "leaflet-control-geocoder-expanded"),
                        this._input.select(),
                        this.fire("expand")
                    },
                    _collapse: function() {
                        e.DomUtil.removeClass(this._container, "leaflet-control-geocoder-expanded"),
                        e.DomUtil.addClass(this._alts, "leaflet-control-geocoder-alternatives-minimized"),
                        e.DomUtil.removeClass(this._errorElement, "leaflet-control-geocoder-error"),
                        this._input.blur(),
                        this.fire("collapse")
                    },
                    _clearResults: function() {
                        e.DomUtil.addClass(this._alts, "leaflet-control-geocoder-alternatives-minimized"),
                        this._selection = null,
                        e.DomUtil.removeClass(this._errorElement, "leaflet-control-geocoder-error")
                    },
                    _createAlt: function(t, i) {
                        var a = e.DomUtil.create("li", "")
                          , n = e.DomUtil.create("a", "", a)
                          , r = this.options.showResultIcons && t.icon ? e.DomUtil.create("img", "", n) : null
                          , o = t.html ? void 0 : document.createTextNode(t.name);
                        return r && (r.src = t.icon),
                        a.setAttribute("data-result-index", i),
                        t.html ? n.innerHTML = n.innerHTML + t.html : n.appendChild(o),
                        e.DomEvent.addListener(a, "mousedown touchstart", function(i) {
                            this._preventBlurCollapse = !0,
                            e.DomEvent.stop(i),
                            this._geocodeResultSelected(t),
                            e.DomEvent.on(a, "click", function() {
                                this.options.collapsed ? this._collapse() : this._clearResults()
                            }, this)
                        }, this),
                        a
                    },
                    _keydown: function(t) {
                        var i = this
                          , a = function(t) {
                            i._selection && (e.DomUtil.removeClass(i._selection, "leaflet-control-geocoder-selected"),
                            i._selection = i._selection[t > 0 ? "nextSibling" : "previousSibling"]),
                            i._selection || (i._selection = i._alts[t > 0 ? "firstChild" : "lastChild"]),
                            i._selection && e.DomUtil.addClass(i._selection, "leaflet-control-geocoder-selected")
                        };
                        switch (t.keyCode) {
                        case 27:
                            this.options.collapsed && this._collapse();
                            break;
                        case 38:
                            a(-1);
                            break;
                        case 40:
                            a(1);
                            break;
                        case 13:
                            if (this._selection) {
                                var n = parseInt(this._selection.getAttribute("data-result-index"), 10);
                                this._geocodeResultSelected(this._results[n]),
                                this._clearResults()
                            } else
                                this._geocode()
                        }
                    },
                    _change: function() {
                        var t = this._input.value;
                        t !== this._lastGeocode && (clearTimeout(this._suggestTimeout),
                        t.length >= this.options.suggestMinLength ? this._suggestTimeout = setTimeout(e.bind(function() {
                            this._geocode(!0)
                        }, this), this.options.suggestTimeout) : this._clearResults())
                    }
                }),
                factory: function(t) {
                    return new e.Control.Geocoder(t)
                }
            }
              , p = {
                class: e.Class.extend({
                    initialize: function(e) {
                        this.key = e
                    },
                    geocode: function(t, i, a) {
                        o("https://dev.virtualearth.net/REST/v1/Locations", {
                            query: t,
                            key: this.key
                        }, function(t) {
                            var n = [];
                            if (t.resourceSets.length > 0)
                                for (var r = t.resourceSets[0].resources.length - 1; r >= 0; r--) {
                                    var o = t.resourceSets[0].resources[r]
                                      , s = o.bbox;
                                    n[r] = {
                                        name: o.name,
                                        bbox: e.latLngBounds([s[0], s[1]], [s[2], s[3]]),
                                        center: e.latLng(o.point.coordinates)
                                    }
                                }
                            i.call(a, n)
                        }, this, "jsonp")
                    },
                    reverse: function(t, i, a, n) {
                        o("//dev.virtualearth.net/REST/v1/Locations/" + t.lat + "," + t.lng, {
                            key: this.key
                        }, function(t) {
                            for (var i = [], r = t.resourceSets[0].resources.length - 1; r >= 0; r--) {
                                var o = t.resourceSets[0].resources[r]
                                  , s = o.bbox;
                                i[r] = {
                                    name: o.name,
                                    bbox: e.latLngBounds([s[0], s[1]], [s[2], s[3]]),
                                    center: e.latLng(o.point.coordinates)
                                }
                            }
                            a.call(n, i)
                        }, this, "jsonp")
                    }
                }),
                factory: function(t) {
                    return new e.Control.Geocoder.Bing(t)
                }
            }
              , d = {
                class: e.Class.extend({
                    options: {
                        serviceUrl: "https://www.mapquestapi.com/geocoding/v1"
                    },
                    initialize: function(t, i) {
                        this._key = decodeURIComponent(t),
                        e.Util.setOptions(this, i)
                    },
                    _formatName: function() {
                        var e, t = [];
                        for (e = 0; e < arguments.length; e++)
                            arguments[e] && t.push(arguments[e]);
                        return t.join(", ")
                    },
                    geocode: function(t, i, a) {
                        s(this.options.serviceUrl + "/address", {
                            key: this._key,
                            location: t,
                            limit: 5,
                            outFormat: "json"
                        }, e.bind(function(t) {
                            var n, r, o = [];
                            if (t.results && t.results[0].locations)
                                for (var s = t.results[0].locations.length - 1; s >= 0; s--)
                                    n = t.results[0].locations[s],
                                    r = e.latLng(n.latLng),
                                    o[s] = {
                                        name: this._formatName(n.street, n.adminArea4, n.adminArea3, n.adminArea1),
                                        bbox: e.latLngBounds(r, r),
                                        center: r
                                    };
                            i.call(a, o)
                        }, this))
                    },
                    reverse: function(t, i, a, n) {
                        s(this.options.serviceUrl + "/reverse", {
                            key: this._key,
                            location: t.lat + "," + t.lng,
                            outputFormat: "json"
                        }, e.bind(function(t) {
                            var i, r, o = [];
                            if (t.results && t.results[0].locations)
                                for (var s = t.results[0].locations.length - 1; s >= 0; s--)
                                    i = t.results[0].locations[s],
                                    r = e.latLng(i.latLng),
                                    o[s] = {
                                        name: this._formatName(i.street, i.adminArea4, i.adminArea3, i.adminArea1),
                                        bbox: e.latLngBounds(r, r),
                                        center: r
                                    };
                            a.call(n, o)
                        }, this))
                    }
                }),
                factory: function(t, i) {
                    return new e.Control.Geocoder.MapQuest(t,i)
                }
            }
              , u = {
                class: e.Class.extend({
                    options: {
                        serviceUrl: "https://api.tiles.mapbox.com/v4/geocode/mapbox.places-v1/",
                        geocodingQueryParams: {},
                        reverseQueryParams: {}
                    },
                    initialize: function(t, i) {
                        e.setOptions(this, i),
                        this.options.geocodingQueryParams.access_token = t,
                        this.options.reverseQueryParams.access_token = t
                    },
                    geocode: function(t, i, a) {
                        var n = this.options.geocodingQueryParams;
                        "undefined" !== typeof n.proximity && n.proximity.hasOwnProperty("lat") && n.proximity.hasOwnProperty("lng") && (n.proximity = n.proximity.lng + "," + n.proximity.lat),
                        s(this.options.serviceUrl + encodeURIComponent(t) + ".json", n, function(t) {
                            var n, r, o, s = [];
                            if (t.features && t.features.length)
                                for (var l = 0; l <= t.features.length - 1; l++)
                                    n = t.features[l],
                                    r = e.latLng(n.center.reverse()),
                                    o = n.hasOwnProperty("bbox") ? e.latLngBounds(e.latLng(n.bbox.slice(0, 2).reverse()), e.latLng(n.bbox.slice(2, 4).reverse())) : e.latLngBounds(r, r),
                                    s[l] = {
                                        name: n.place_name,
                                        bbox: o,
                                        center: r
                                    };
                            i.call(a, s)
                        })
                    },
                    suggest: function(e, t, i) {
                        return this.geocode(e, t, i)
                    },
                    reverse: function(t, i, a, n) {
                        s(this.options.serviceUrl + encodeURIComponent(t.lng) + "," + encodeURIComponent(t.lat) + ".json", this.options.reverseQueryParams, function(t) {
                            var i, r, o, s = [];
                            if (t.features && t.features.length)
                                for (var l = 0; l <= t.features.length - 1; l++)
                                    i = t.features[l],
                                    r = e.latLng(i.center.reverse()),
                                    o = i.hasOwnProperty("bbox") ? e.latLngBounds(e.latLng(i.bbox.slice(0, 2).reverse()), e.latLng(i.bbox.slice(2, 4).reverse())) : e.latLngBounds(r, r),
                                    s[l] = {
                                        name: i.place_name,
                                        bbox: o,
                                        center: r
                                    };
                            a.call(n, s)
                        })
                    }
                }),
                factory: function(t, i) {
                    return new e.Control.Geocoder.Mapbox(t,i)
                }
            }
              , g = {
                class: e.Class.extend({
                    options: {
                        serviceUrl: "https://api.what3words.com/v2/"
                    },
                    initialize: function(e) {
                        this._accessToken = e
                    },
                    geocode: function(t, i, a) {
                        s(this.options.serviceUrl + "forward", {
                            key: this._accessToken,
                            addr: t.split(/\s+/).join(".")
                        }, function(t) {
                            var n, r, o = [];
                            t.hasOwnProperty("geometry") && (n = e.latLng(t.geometry.lat, t.geometry.lng),
                            r = e.latLngBounds(n, n),
                            o[0] = {
                                name: t.words,
                                bbox: r,
                                center: n
                            }),
                            i.call(a, o)
                        })
                    },
                    suggest: function(e, t, i) {
                        return this.geocode(e, t, i)
                    },
                    reverse: function(t, i, a, n) {
                        s(this.options.serviceUrl + "reverse", {
                            key: this._accessToken,
                            coords: [t.lat, t.lng].join(",")
                        }, function(t) {
                            var i, r, o = [];
                            200 == t.status.status && (i = e.latLng(t.geometry.lat, t.geometry.lng),
                            r = e.latLngBounds(i, i),
                            o[0] = {
                                name: t.words,
                                bbox: r,
                                center: i
                            }),
                            a.call(n, o)
                        })
                    }
                }),
                factory: function(t) {
                    return new e.Control.Geocoder.What3Words(t)
                }
            }
              , m = {
                class: e.Class.extend({
                    options: {
                        serviceUrl: "https://maps.googleapis.com/maps/api/geocode/json",
                        geocodingQueryParams: {},
                        reverseQueryParams: {}
                    },
                    initialize: function(t, i) {
                        this._key = t,
                        e.setOptions(this, i),
                        this.options.serviceUrl = this.options.service_url || this.options.serviceUrl
                    },
                    geocode: function(t, i, a) {
                        var n = {
                            address: t
                        };
                        this._key && this._key.length && (n.key = this._key),
                        n = e.Util.extend(n, this.options.geocodingQueryParams),
                        s(this.options.serviceUrl, n, function(t) {
                            var n, r, o, s = [];
                            if (t.results && t.results.length)
                                for (var l = 0; l <= t.results.length - 1; l++)
                                    n = t.results[l],
                                    r = e.latLng(n.geometry.location),
                                    o = e.latLngBounds(e.latLng(n.geometry.viewport.northeast), e.latLng(n.geometry.viewport.southwest)),
                                    s[l] = {
                                        name: n.formatted_address,
                                        bbox: o,
                                        center: r,
                                        properties: n.address_components
                                    };
                            i.call(a, s)
                        })
                    },
                    reverse: function(t, i, a, n) {
                        var r = {
                            latlng: encodeURIComponent(t.lat) + "," + encodeURIComponent(t.lng)
                        };
                        r = e.Util.extend(r, this.options.reverseQueryParams),
                        this._key && this._key.length && (r.key = this._key),
                        s(this.options.serviceUrl, r, function(t) {
                            var i, r, o, s = [];
                            if (t.results && t.results.length)
                                for (var l = 0; l <= t.results.length - 1; l++)
                                    i = t.results[l],
                                    r = e.latLng(i.geometry.location),
                                    o = e.latLngBounds(e.latLng(i.geometry.viewport.northeast), e.latLng(i.geometry.viewport.southwest)),
                                    s[l] = {
                                        name: i.formatted_address,
                                        bbox: o,
                                        center: r,
                                        properties: i.address_components
                                    };
                            a.call(n, s)
                        })
                    }
                }),
                factory: function(t, i) {
                    return new e.Control.Geocoder.Google(t,i)
                }
            }
              , f = {
                class: e.Class.extend({
                    options: {
                        serviceUrl: "https://photon.komoot.de/api/",
                        reverseUrl: "https://photon.komoot.de/reverse/",
                        nameProperties: ["name", "street", "suburb", "hamlet", "town", "city", "state", "country"]
                    },
                    initialize: function(t) {
                        e.setOptions(this, t)
                    },
                    geocode: function(t, i, a) {
                        var n = e.extend({
                            q: t
                        }, this.options.geocodingQueryParams);
                        s(this.options.serviceUrl, n, e.bind(function(e) {
                            i.call(a, this._decodeFeatures(e))
                        }, this))
                    },
                    suggest: function(e, t, i) {
                        return this.geocode(e, t, i)
                    },
                    reverse: function(t, i, a, n) {
                        var r = e.extend({
                            lat: t.lat,
                            lon: t.lng
                        }, this.options.reverseQueryParams);
                        s(this.options.reverseUrl, r, e.bind(function(e) {
                            a.call(n, this._decodeFeatures(e))
                        }, this))
                    },
                    _decodeFeatures: function(t) {
                        var i, a, n, r, o, s, l = [];
                        if (t && t.features)
                            for (i = 0; i < t.features.length; i++)
                                n = (a = t.features[i]).geometry.coordinates,
                                r = e.latLng(n[1], n[0]),
                                s = (o = a.properties.extent) ? e.latLngBounds([o[1], o[0]], [o[3], o[2]]) : e.latLngBounds(r, r),
                                l.push({
                                    name: this._deocodeFeatureName(a),
                                    html: this.options.htmlTemplate ? this.options.htmlTemplate(a) : void 0,
                                    center: r,
                                    bbox: s,
                                    properties: a.properties
                                });
                        return l
                    },
                    _deocodeFeatureName: function(e) {
                        var t, i;
                        for (t = 0; !i && t < this.options.nameProperties.length; t++)
                            i = e.properties[this.options.nameProperties[t]];
                        return i
                    }
                }),
                factory: function(t) {
                    return new e.Control.Geocoder.Photon(t)
                }
            }
              , y = {
                class: e.Class.extend({
                    options: {
                        serviceUrl: "https://search.mapzen.com/v1",
                        geocodingQueryParams: {},
                        reverseQueryParams: {}
                    },
                    initialize: function(t, i) {
                        e.Util.setOptions(this, i),
                        this._apiKey = t,
                        this._lastSuggest = 0
                    },
                    geocode: function(t, i, a) {
                        var n = this;
                        s(this.options.serviceUrl + "/search", e.extend({
                            api_key: this._apiKey,
                            text: t
                        }, this.options.geocodingQueryParams), function(e) {
                            i.call(a, n._parseResults(e, "bbox"))
                        })
                    },
                    suggest: function(t, i, a) {
                        var n = this;
                        s(this.options.serviceUrl + "/autocomplete", e.extend({
                            api_key: this._apiKey,
                            text: t
                        }, this.options.geocodingQueryParams), e.bind(function(e) {
                            e.geocoding.timestamp > this._lastSuggest && (this._lastSuggest = e.geocoding.timestamp,
                            i.call(a, n._parseResults(e, "bbox")))
                        }, this))
                    },
                    reverse: function(t, i, a, n) {
                        var r = this;
                        s(this.options.serviceUrl + "/reverse", e.extend({
                            api_key: this._apiKey,
                            "point.lat": t.lat,
                            "point.lon": t.lng
                        }, this.options.reverseQueryParams), function(e) {
                            a.call(n, r._parseResults(e, "bounds"))
                        })
                    },
                    _parseResults: function(t, i) {
                        var a = [];
                        return e.geoJson(t, {
                            pointToLayer: function(t, i) {
                                return e.circleMarker(i)
                            },
                            onEachFeature: function(t, n) {
                                var r, o, s = {};
                                n.getBounds ? o = (r = n.getBounds()).getCenter() : (o = n.getLatLng(),
                                r = e.latLngBounds(o, o)),
                                s.name = n.feature.properties.label,
                                s.center = o,
                                s[i] = r,
                                s.properties = n.feature.properties,
                                a.push(s)
                            }
                        }),
                        a
                    }
                }),
                factory: function(t, i) {
                    return new e.Control.Geocoder.Mapzen(t,i)
                }
            }
              , v = {
                class: e.Class.extend({
                    options: {
                        service_url: "http://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"
                    },
                    initialize: function(t, i) {
                        e.setOptions(this, i),
                        this._accessToken = t
                    },
                    geocode: function(t, i, a) {
                        var n = {
                            SingleLine: t,
                            outFields: "Addr_Type",
                            forStorage: !1,
                            maxLocations: 10,
                            f: "json"
                        };
                        this._key && this._key.length && (n.token = this._key),
                        s(this.options.service_url + "/findAddressCandidates", n, function(t) {
                            var n, r, o, s = [];
                            if (t.candidates && t.candidates.length)
                                for (var l = 0; l <= t.candidates.length - 1; l++)
                                    n = t.candidates[l],
                                    r = e.latLng(n.location.y, n.location.x),
                                    o = e.latLngBounds(e.latLng(n.extent.ymax, n.extent.xmax), e.latLng(n.extent.ymin, n.extent.xmin)),
                                    s[l] = {
                                        name: n.address,
                                        bbox: o,
                                        center: r
                                    };
                            i.call(a, s)
                        })
                    },
                    suggest: function(e, t, i) {
                        return this.geocode(e, t, i)
                    },
                    reverse: function(t, i, a, n) {
                        var r = {
                            location: encodeURIComponent(t.lng) + "," + encodeURIComponent(t.lat),
                            distance: 100,
                            f: "json"
                        };
                        s(this.options.service_url + "/reverseGeocode", r, function(t) {
                            var i, r = [];
                            t && !t.error && (i = e.latLng(t.location.y, t.location.x),
                            r.push({
                                name: t.address.Match_addr,
                                center: i,
                                bounds: e.latLngBounds(i, i)
                            })),
                            a.call(n, r)
                        })
                    }
                }),
                factory: function(t, i) {
                    return new e.Control.Geocoder.ArcGis(t,i)
                }
            }
              , b = {
                class: e.Class.extend({
                    options: {
                        geocodeUrl: "http://geocoder.api.here.com/6.2/geocode.json",
                        reverseGeocodeUrl: "http://reverse.geocoder.api.here.com/6.2/reversegeocode.json",
                        app_id: "<insert your app_id here>",
                        app_code: "<insert your app_code here>",
                        geocodingQueryParams: {},
                        reverseQueryParams: {}
                    },
                    initialize: function(t) {
                        e.setOptions(this, t)
                    },
                    geocode: function(t, i, a) {
                        var n = {
                            searchtext: t,
                            gen: 9,
                            app_id: this.options.app_id,
                            app_code: this.options.app_code,
                            jsonattributes: 1
                        };
                        n = e.Util.extend(n, this.options.geocodingQueryParams),
                        this.getJSON(this.options.geocodeUrl, n, i, a)
                    },
                    reverse: function(t, i, a, n) {
                        var r = {
                            prox: encodeURIComponent(t.lat) + "," + encodeURIComponent(t.lng),
                            mode: "retrieveAddresses",
                            app_id: this.options.app_id,
                            app_code: this.options.app_code,
                            gen: 9,
                            jsonattributes: 1
                        };
                        r = e.Util.extend(r, this.options.reverseQueryParams),
                        this.getJSON(this.options.reverseGeocodeUrl, r, a, n)
                    },
                    getJSON: function(t, i, a, n) {
                        s(t, i, function(t) {
                            var i, r, o, s = [];
                            if (t.response.view && t.response.view.length)
                                for (var l = 0; l <= t.response.view[0].result.length - 1; l++)
                                    i = t.response.view[0].result[l].location,
                                    r = e.latLng(i.displayPosition.latitude, i.displayPosition.longitude),
                                    o = e.latLngBounds(e.latLng(i.mapView.topLeft.latitude, i.mapView.topLeft.longitude), e.latLng(i.mapView.bottomRight.latitude, i.mapView.bottomRight.longitude)),
                                    s[l] = {
                                        name: i.address.label,
                                        bbox: o,
                                        center: r
                                    };
                            a.call(n, s)
                        })
                    }
                }),
                factory: function(t) {
                    return new e.Control.Geocoder.HERE(t)
                }
            }
              , A = e.Util.extend(h.class, {
                Nominatim: c.class,
                nominatim: c.factory,
                Bing: p.class,
                bing: p.factory,
                MapQuest: d.class,
                mapQuest: d.factory,
                Mapbox: u.class,
                mapbox: u.factory,
                What3Words: g.class,
                what3words: g.factory,
                Google: m.class,
                google: m.factory,
                Photon: f.class,
                photon: f.factory,
                Mapzen: y.class,
                mapzen: y.factory,
                ArcGis: v.class,
                arcgis: v.factory,
                HERE: b.class,
                here: b.factory
            });
            return e.Util.extend(e.Control, {
                Geocoder: A,
                geocoder: h.factory
            }),
            A
        }(L)
    },
    1809: function(module, exports) {
        !function() {
            var p, aa = [];
            function ba(e) {
                return function() {
                    return aa[e].apply(this, arguments)
                }
            }
            function ca(e, t) {
                return aa[e] = t
            }
            var da = da || {}
              , fa = this;
            function ga(e) {
                return void 0 !== e
            }
            function ha(e, t, i) {
                e = e.split("."),
                i = i || fa,
                e[0]in i || !i.execScript || i.execScript("var " + e[0]);
                for (var a; e.length && (a = e.shift()); )
                    !e.length && ga(t) ? i[a] = t : i = i[a] ? i[a] : i[a] = {}
            }
            function ja(e) {
                e = e.split(".");
                for (var t, i = fa; t = e.shift(); ) {
                    if (null == i[t])
                        return null;
                    i = i[t]
                }
                return i
            }
            function ka() {}
            function ma() {
                throw Error("unimplemented abstract method")
            }
            function oa(e) {
                var t = typeof e;
                if ("object" == t) {
                    if (!e)
                        return "null";
                    if (e instanceof Array)
                        return "array";
                    if (e instanceof Object)
                        return t;
                    var i = Object.prototype.toString.call(e);
                    if ("[object Window]" == i)
                        return "object";
                    if ("[object Array]" == i || "number" == typeof e.length && "undefined" != typeof e.splice && "undefined" != typeof e.propertyIsEnumerable && !e.propertyIsEnumerable("splice"))
                        return "array";
                    if ("[object Function]" == i || "undefined" != typeof e.call && "undefined" != typeof e.propertyIsEnumerable && !e.propertyIsEnumerable("call"))
                        return "function"
                } else if ("function" == t && "undefined" == typeof e.call)
                    return "object";
                return t
            }
            function pa(e) {
                return "array" == oa(e)
            }
            function qa(e) {
                var t = oa(e);
                return "array" == t || "object" == t && "number" == typeof e.length
            }
            function ra(e) {
                return "string" == typeof e
            }
            function sa(e) {
                return "function" == oa(e)
            }
            function ta(e) {
                var t = typeof e;
                return "object" == t && null != e || "function" == t
            }
            var ua = "closure_uid_" + (1e9 * Math.random() >>> 0)
              , va = 0;
            function wa(e, t, i) {
                return e.call.apply(e.bind, arguments)
            }
            function xa(e, t, i) {
                if (!e)
                    throw Error();
                if (2 < arguments.length) {
                    var a = Array.prototype.slice.call(arguments, 2);
                    return function() {
                        var i = Array.prototype.slice.call(arguments);
                        return Array.prototype.unshift.apply(i, a),
                        e.apply(t, i)
                    }
                }
                return function() {
                    return e.apply(t, arguments)
                }
            }
            function ya(e, t, i) {
                return (ya = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? wa : xa).apply(null, arguments)
            }
            function za(e, t) {
                var i = Array.prototype.slice.call(arguments, 1);
                return function() {
                    var t = i.slice();
                    return t.push.apply(t, arguments),
                    e.apply(this, t)
                }
            }
            var Aa = Date.now || function() {
                return +new Date
            }
            ;
            function r(e, t) {
                ha(e, t, void 0)
            }
            function v(e, t) {
                function i() {}
                i.prototype = t.prototype,
                e.u = t.prototype,
                e.prototype = new i,
                e.prototype.constructor = e,
                e.Si = function(e, i, a) {
                    for (var n = Array(arguments.length - 2), r = 2; r < arguments.length; r++)
                        n[r - 2] = arguments[r];
                    return t.prototype[i].apply(e, n)
                }
            }
            var Ba = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
            function Ca(e, t) {
                for (var i, a, n = 1; n < arguments.length; n++) {
                    for (i in a = arguments[n])
                        e[i] = a[i];
                    for (var r = 0; r < Ba.length; r++)
                        i = Ba[r],
                        Object.prototype.hasOwnProperty.call(a, i) && (e[i] = a[i])
                }
            }
            var w = function() {
                return this
            }();
            function Da(e) {
                if (Error.captureStackTrace)
                    Error.captureStackTrace(this, Da);
                else {
                    var t = Error().stack;
                    t && (this.stack = t)
                }
                e && (this.message = String(e))
            }
            v(Da, Error),
            Da.prototype.name = "CustomError";
            var Ea = String.prototype.trim ? function(e) {
                return e.trim()
            }
            : function(e) {
                return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "")
            }
            ;
            function Fa(e, t) {
                return e < t ? -1 : e > t ? 1 : 0
            }
            var Ga = Array.prototype
              , Ha = Ga.indexOf ? function(e, t, i) {
                return Ga.indexOf.call(e, t, i)
            }
            : function(e, t, i) {
                if (i = null == i ? 0 : 0 > i ? Math.max(0, e.length + i) : i,
                ra(e))
                    return ra(t) && 1 == t.length ? e.indexOf(t, i) : -1;
                for (; i < e.length; i++)
                    if (i in e && e[i] === t)
                        return i;
                return -1
            }
              , Ia = Ga.forEach ? function(e, t, i) {
                Ga.forEach.call(e, t, i)
            }
            : function(e, t, i) {
                for (var a = e.length, n = ra(e) ? e.split("") : e, r = 0; r < a; r++)
                    r in n && t.call(i, n[r], r, e)
            }
            ;
            function Ka() {
                return Object.create(x, void 0)
            }
            var z = ya
              , La = String;
            function Ma(a) {
                return eval("" + a)
            }
            var Na = w.Object.freeze || function(e) {
                return e
            }
            ;
            function Oa(e) {
                for (var t, i = Object.keys(e), a = i.length; a--; )
                    t = e[i[a]],
                    Pa(t) && Oa(t);
                return Na(e)
            }
            function Qa(e) {
                var t, i = {};
                for (t in e)
                    i[t] = e[t];
                return i
            }
            var A = Ma()
              , x = Ma(null);
            function Ra(e, t) {
                return La(e).split(t !== A ? t : " ")
            }
            var Sa = "prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
            function B(e, t, i, a, n) {
                if (!(t = e instanceof t) && i)
                    throw new C(i,a,Ta(n) ? n : e);
                return t
            }
            function Ua(e, t) {
                if (!0 === (B(e, t) && e.constructor === t))
                    throw new TypeError("Illegal constructor " + Va(t))
            }
            var Pa = ta;
            function Wa(e) {
                for (var t in e)
                    return !1;
                return !0
            }
            function Xa(e, t, i, a, n) {
                if (!(t = Ya(e) === t) && i)
                    throw new C(i,a,Ta(n) ? n : e);
                return t
            }
            function Za(e, t, i, a) {
                return Xa(e, "Array", t, i, a)
            }
            function Ta(e) {
                return e !== A
            }
            r("H.lang.isObject", Pa),
            r("H.lang.isEmptyObject", Wa),
            r("H.lang.isArray", Za),
            r("H.lang.isString", ra);
            var $a = parseFloat
              , D = isNaN;
            function ab(e) {
                return e === +e
            }
            function bb(e) {
                return !D(+e)
            }
            function Ya(e) {
                var t = Object[Sa[0]][Sa[6]].call(e).match(/^\[object (\w+)\]$/);
                return t ? t[1] : typeof e
            }
            function Va(e, t, i, a) {
                var n = ""
                  , r = 2 > arguments.length;
                return r && (t = {
                    H: w.H
                },
                i = "",
                a = []),
                cb(t, !0, function(t, r) {
                    try {
                        var o, s = t[r];
                        if (r = db(t, s),
                        (o = !(Pa(s) && s.window === s && s.self === s)) && (o = !(Pa(s) && 0 < s.nodeType && sa(s.cloneNode))),
                        o && Pa(s)) {
                            if (s === e)
                                return n = i + "." + r,
                                !0;
                            if (0 > a.indexOf(s) && (a.push(s),
                            n = Va(e, s, i + "." + r, a)))
                                return !0
                        }
                    } catch (l) {}
                }),
                r && (n = n ? n.substr(1).replace("." + Sa[0] + ".", "#") : "~" + (sa(e) ? eb(e) + "()" : Ya(e))),
                n
            }
            function db(e, t) {
                var i = [];
                return cb(e, !1, function(e, a) {
                    e[a] === t && i.push(a)
                }),
                i.sort(fb)[0]
            }
            function fb(e, t) {
                return t.length - e.length
            }
            r("H.lang.isNumber", ab);
            var gb = Object[Sa[0]][Sa[2]];
            function cb(e, t, i) {
                var a, n;
                if (e) {
                    for (a in e)
                        if ((!t || gb.call(e, a)) && i(e, a, !0))
                            return;
                    for (n = Sa.length; n-- && (a = Sa[n],
                    t && !gb.call(e, a) || !i(e, a, !1)); )
                        ;
                }
            }
            function eb(e) {
                return (e = /^\s*function ([^\( ]+)/.exec(e)) ? e[1] : "anonymous"
            }
            function hb(e, t, i) {
                i[t] = "#" + t
            }
            var ib = "[object Undefined]" !== {}.toString.call(void 0);
            function jb(e, t) {
                var i, a = w.console;
                !ib && a && a.warn && (i = Va(e) + " is deprecated and will be removed soon. ",
                t && (i += t),
                a.warn(i))
            }
            function C(e, t, i) {
                var a, n = arguments.length;
                t = 1 < n ? +t : t,
                n = 2 < n ? La(i) : "",
                t !== A && ((a = (a = /^.*?\(([^\)]+)/.exec(("" + e).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm, ""))) ? Ra(a[1].replace(/\s+/g, ""), ",") : []).forEach(hb),
                a = a[t] || "#" + t),
                this.message = (e ? Va(e) : "") + (a || n ? " (" : "") + (a ? "Argument " + a : "") + (n ? (a ? " " : "") + n : "") + (a || n ? ")" : ""),
                this.stack = Error().stack
            }
            r("H.lang.InvalidArgumentError", C),
            C.prototype = Error(),
            C.prototype.name = "InvalidArgumentError";
            var kb = Math
              , lb = kb.min
              , mb = kb.max
              , nb = kb.round
              , pb = kb.floor
              , qb = kb.ceil
              , rb = kb.abs
              , sb = kb.log
              , tb = kb.sqrt
              , ub = kb.pow
              , vb = kb.exp
              , wb = kb.sin
              , xb = kb.asin
              , yb = kb.cos
              , zb = kb.tan
              , Ab = kb.atan
              , Bb = kb.atan2
              , Cb = kb.LN2
              , Db = kb.PI
              , Eb = Db / 2
              , Fb = Db / 4
              , Gb = 2 * Db
              , Hb = 3 * Db
              , Ib = Db / 180
              , Kb = 180 / Db
              , Lb = 1 / 0
              , Mb = ub(-2, 53)
              , Nb = Nb || function(e) {
                return sb(e) / Cb
            }
            ;
            function Ob(e, t) {
                var i;
                return 0 > (i = e % t) === 0 > t ? i : i + t
            }
            function Pb(e, t, i) {
                return t -= i = i || 0,
                (e -= i) - pb(e / t) * t + i
            }
            function Qb(e, t, i) {
                return (e -= 0) > i ? i : e < t ? t : e
            }
            function Rb(e, t, i, a) {
                return (a -= 0) || (a = 0),
                t < i ? e >= t - a && e <= i + a : e >= i - a && e <= t + a
            }
            function Sb(e, t, i, a, n, r) {
                return tb(ub((e - n) * (a - r) - (t - r) * (i - n), 2) / (ub(i - n, 2) + ub(a - r, 2)))
            }
            r("H.math.normalize", Pb),
            r("H.math.clamp", Qb);
            var Tb = {
                NONE: 0,
                Ri: 1,
                Li: 2,
                Qi: 3
            };
            function Ub(e, t, i, a, n) {
                for (var r, o, s, l = i.length, c = l, h = i[0], p = 0, d = 0, u = 0, g = a / 2 || 0, m = n ? 1 : 3; 1 != p && c > m; )
                    r = i[--c],
                    a = i[--c],
                    s = i[c ? c - 1 : (l + (c - 1)) % l],
                    o = i[c ? c - 2 : (l + (c - 2)) % l],
                    a >= e - g && a <= e + g && r >= t - g && r <= t + g || o >= e - g && o <= e + g && s >= t - g && s <= t + g ? p = 1 : p || a !== e ? !p && Rb(e, a, o, g) && ((a < e && o > e || a > e && o < e) && (d += (h = r + (e - a) / (o - a) * (s - r)) > t,
                    u += h < t),
                    p = Rb(t, r, s, g) && Sb(e, t, a, r, o, s) <= g ? 2 : 0) : (o === e && (r < t && s > t || r > t && s < t) || (h <= e && o > e || h >= e && o < e) && (r >= t ? ++d : ++u),
                    p = Rb(t, r, s, g) && Sb(e, t, a, r, o, s) <= g ? 2 : 0),
                    h = a;
                return !p && n && 0 !== u && 0 !== d % 2 && (p = 3),
                p
            }
            var Vb = {
                undefined: "GL",
                GL: "GL",
                OL: "OL",
                SL: "SL",
                SB: "SB",
                WE: "WE",
                WG: "WG"
            };
            function Wb(e, t, i) {
                var a = Qb(+e, -90, 90);
                if (t && D(a))
                    throw new C(t,i,e);
                return a
            }
            function Xb(e, t, i) {
                var a = +e;
                if ((-180 > a || 180 < a) && (a = Ob(a + 180, 360) - 180),
                t && D(a))
                    throw new C(t,i,e);
                return a
            }
            function Yb(e, t, i) {
                var a;
                if (e !== A && D(a = +e) && t)
                    throw new C(t,i,e);
                return a
            }
            function Zb(e, t, i) {
                var a = !Vb[e];
                if (t && a)
                    throw new C(t,i,e);
                return !a
            }
            function $b(e) {
                return !(!e || D(e.lat) || D(e.lng))
            }
            function ac(e, t) {
                return 0 !== (0 > e ^ 0 > t) && 180 < rb(t - e)
            }
            function bc() {
                Ua(this, bc)
            }
            function E(e, t) {
                var i;
                if (E.u.constructor.call(this),
                B(e, F, E, 0),
                t !== A && Za(t, E, 1)) {
                    for (i = 0; i < t.length; i++)
                        B(t[i], F, E, 1, "index " + i);
                    this.lb = t
                } else
                    this.lb = [];
                this.$a = e,
                this.a = []
            }
            r("H.geo.AltitudeContext", Vb),
            r("H.geo.isDBC", ac),
            r("H.geo.AbstractGeometry", bc),
            bc.prototype.getBounds = bc.prototype.S,
            bc.prototype.equals = bc.prototype.pa,
            bc.prototype.toString = function() {
                return this.Lb([this.qd, " "]).join("")
            }
            ,
            bc.prototype.toString = bc.prototype.toString,
            v(E, bc),
            r("H.geo.Polygon", E);
            var cc = {
                NORTH: 90,
                SOUTH: -90
            }, jc, mc, nc;
            function dc(e, t) {
                var i, a, n;
                return (n = e.S()) && ((i = e.l(!0)) && (a = e.f()) && (n = n.wb(fc([e.g(0), e.g(a - 1)], !0), !0)),
                360 === n.ab() && 1 === i % 2 && (n = n.b(t, 0))),
                n
            }
            function gc(e, t, i, a) {
                this.lat = Wb(e, gc, 0),
                this.lng = Xb(t, gc, 1),
                i !== A && (this.alt = Yb(i, gc, 2)),
                a !== A && Zb(a, gc, 3) && (this.ctx = a)
            }
            function hc(e, t, i) {
                var a = !!e && !(D(e.lat = Wb(e.lat)) || D(e.lng = Xb(e.lng)) || e.alt !== A && D(e.alt = Yb(e.alt)) || e.ctx !== A && !Zb(e.ctx));
                if (!a && t)
                    throw new C(t,i,e);
                return a
            }
            function ic(e) {
                if (!e)
                    throw new C(ic,0,e);
                return new gc(e.lat,e.lng,e.alt,e.ctx)
            }
            function kc(e, t) {
                var i = [];
                e && i.push(Va(e)),
                1 < arguments.length && i.push(t),
                this.message = i.join(" "),
                this.stack = Error().stack
            }
            function lc(e) {
                if (!ra(e))
                    throw new C(this.constructor,0);
                if (this.g = w.indexedDB || w.webkitIndexedDB || w.mozIndexedDB || w.msIndexedDB,
                !this.g)
                    throw new kc(this.constructor,"This browser does not support IndexedDB");
                this.l = e,
                this.a = [],
                this.c = [],
                this.pf = z(this.pf, this)
            }
            function tc(e, t, i) {
                var a;
                e.b ? e.a ? (e.a.push(t),
                i && e.c.push(i)) : e.f ? i && i(e.f) : t(e.b.result) : (e.b = e.g.open(uc + e.l, 1),
                e.b.onupgradeneeded = e.pf,
                a = e.b.onerror = function() {
                    clearTimeout(e.i),
                    e.f = this.error,
                    e.c.forEach(function(t) {
                        t(e.f)
                    }),
                    e.a = e.c = null
                }
                ,
                e.i = setTimeout(function() {
                    a.call({
                        error: Error("DbOpenTimeoutError")
                    })
                }, 500),
                e.b.onsuccess = function() {
                    clearTimeout(e.i),
                    e.a ? (e.a.forEach(function(e) {
                        e(this.result)
                    }, this),
                    e.a = e.c = null) : (e.b = e.f = null,
                    e.a = [],
                    e.c = [])
                }
                ,
                e.a.push(t),
                i && e.c.push(i))
            }
            function qc(e, t, i) {
                tc(e, function(i) {
                    i = i.transaction(["data"], e.Gh),
                    t(i.objectStore("data"))
                }, i)
            }
            function rc(e, t, i) {
                t && (e.onsuccess = function() {
                    t(this.result)
                }
                ),
                i && (e.onerror = function() {
                    i(this.error)
                }
                )
            }
            function pc(e) {
                var t = Object.prototype.toString.call(e);
                return "[object Blob]" === t || "[object ArrayBuffer]" === t || ra(e) || Pa(e)
            }
            function oc(e) {
                return ra(e) || ab(e)
            }
            function vc() {
                return mc || (mc = new lc("STATIC_DB")),
                mc
            }
            E.Direction = cc,
            E.prototype.hc = cc.NORTH,
            E.prototype.i = function(e) {
                return this.hc !== e && (this.c = x,
                this.a.length = 0,
                this.hc = e),
                this
            }
            ,
            E.prototype.setPoleCovering = E.prototype.i,
            E.prototype.o = function() {
                return this.hc
            }
            ,
            E.prototype.getPoleCovering = E.prototype.o,
            E.prototype.l = function() {
                return this.$a
            }
            ,
            E.prototype.getExterior = E.prototype.l,
            E.prototype.g = function(e) {
                if (!B(e, F))
                    throw new C(this.g,0,e);
                this.$a = e,
                this.c = x
            }
            ,
            E.prototype.setExterior = E.prototype.g,
            E.prototype.j = function() {
                return this.lb
            }
            ,
            E.prototype.getInteriors = E.prototype.j,
            E.prototype.b = function(e, t, i) {
                var a, n, r = arguments.length;
                for (a = 2; a < r; a++)
                    B(arguments[a], F, this.b, a);
                for (n = this.lb.splice.apply(this.lb, arguments),
                a = 2; a < r; a++)
                    arguments[a] = A;
                return this.a.splice.apply(this.a, arguments),
                n
            }
            ,
            E.prototype.spliceInteriors = E.prototype.b,
            E.prototype.v = function(e) {
                return this.b(e, 1)[0]
            }
            ,
            E.prototype.removeInteriorAt = E.prototype.v,
            E.prototype.m = function(e) {
                return 0 > (e = this.lb.indexOf(e)) ? A : this.b(e, 1)[0]
            }
            ,
            E.prototype.removeInterior = E.prototype.m,
            E.prototype.f = function(e) {
                if (!B(e, F))
                    throw new C(this.f,0,e);
                this.lb.push(e)
            }
            ,
            E.prototype.pushInterior = E.prototype.f,
            E.prototype.S = function() {
                var e = this.c;
                return e || (this.c = e = dc(this.$a, this.hc)),
                e
            }
            ,
            E.prototype.getBounds = E.prototype.S,
            p = E.prototype,
            p.ig = function(e) {
                var t = this.lb.length;
                if (0 > e || e >= t)
                    throw new ec(this.ig,e,[0, t - 1]);
                return (t = this.a[e]) || (this.a[e] = t = dc(this.lb[e], this.hc)),
                t
            }
            ,
            p.$a = x,
            p.lb = [],
            p.qd = "POLYGON",
            p.Lb = function(e) {
                var t, i = this.lb, a = i.length;
                if (this.$a.f()) {
                    for (e.push("("),
                    this.$a.Lb(e),
                    t = 0; t < a; t++)
                        i[t].f() && (e.push(","),
                        i[t].Lb(e));
                    e.push(")")
                } else
                    e.push("EMPTY");
                return e
            }
            ,
            v(gc, bc),
            r("H.geo.Point", gc),
            gc.prototype.pa = function(e) {
                return this === e || !!e && this.lat === e.lat && this.lng === e.lng && Vb[this.ctx] === Vb[e.ctx] && (this.alt || 0) === (e.alt || 0)
            }
            ,
            gc.prototype.equals = gc.prototype.pa,
            gc.prototype.distance = function(e) {
                var t, i;
                return this === e || this.lat === e.lat && this.lng === e.lng ? e = 0 : (t = this.lat * Ib,
                i = e.lat * Ib,
                e = 12742001.58 * xb(lb(1, tb(ub(wb((t - i) / 2), 2) + yb(t) * yb(i) * ub(wb((this.lng * Ib - e.lng * Ib) / 2), 2))))),
                e
            }
            ,
            gc.prototype.distance = gc.prototype.distance,
            gc.prototype.Gf = function(e, t, i) {
                var a, n, r, o, s, l;
                if (i) {
                    if (t /= 6371000.79) {
                        e *= Ib,
                        a = Ib * this.lat,
                        r = wb(a),
                        o = wb(t),
                        s = yb(t),
                        n = Ib * this.lng;
                        var c = yb(a);
                        a = xb(c * yb(e) * o + r * s),
                        c = ((n + (e = Bb(wb(e) * c * o, s - r * wb(a))) + Db) % (2 * Db) - Db) * Kb
                    }
                    return t ? new gc(a * Kb,(c + 540) % 360 - 180) : this
                }
                return 0 === ((e = (e % 360 + 360) % 360) + 90) % 180 ? (a = this.lng + t / (6371000.79 * Gb * yb(this.lat * Ib)) * (270 === e ? -360 : 360),
                new gc(this.lat,(a + 540) % 360 - 180)) : ((t /= 6371000.79) && (e *= Ib,
                n = this.lat * Ib,
                r = this.lng * Ib,
                s = (o = n + t * yb(e)) - n,
                a = sb(zb(o / 2 + Fb) / zb(n / 2 + Fb)),
                a = D(s / a) ? yb(n) : s / a,
                l = t * wb(e) / a,
                rb(o) > Eb && (o = 0 < o ? Db - o : -(Db + o))),
                t ? new gc(o * Kb,((r + l + Hb + (rb(n + s) > Eb ? Db : 0)) % Gb - Db) * Kb) : this)
            }
            ,
            gc.prototype.walk = gc.prototype.Gf,
            gc.prototype.S = function() {
                return new G(this.lat,this.lng,this.lat,this.lng)
            }
            ,
            gc.prototype.getBounds = gc.prototype.S,
            gc.validate = hc,
            gc.fromIPoint = ic,
            gc.prototype.qd = "POINT",
            gc.prototype.Lb = function(e) {
                return e.push("(", this.lng, " ", this.lat, ")"),
                e
            }
            ,
            v(kc, Error),
            r("H.lang.IllegalOperationError", kc),
            kc.prototype = Error(),
            kc.prototype.name = "IllegalOperationError",
            r("H.util.IndexedDBStorage", lc),
            p = lc.prototype,
            p.gd = function(e, t, i, a) {
                if (!oc(e))
                    throw new C(this.gd,0);
                if (!pc(t))
                    throw new C(this.gd,1);
                qc(this, function(n) {
                    rc(n.put(t, e), i, a)
                }, a)
            }
            ,
            p.get = function(e, t, i) {
                var a;
                if (!oc(e))
                    throw new C(this.get,0);
                if (!sa(t))
                    throw new C(this.get,1);
                return qc(this, function(n) {
                    rc(a = n.get(e), t, i)
                }, i),
                {
                    cancel: function() {
                        a && (a.onsuccess = sc)
                    }
                }
            }
            ,
            p.remove = function(e, t, i) {
                if (!oc(e))
                    throw new C(this.remove,0);
                qc(this, function(a) {
                    rc(a.delete(e), t, i)
                }, i)
            }
            ,
            p.clear = function(e, t) {
                qc(this, function(i) {
                    rc(i.clear(), e, t)
                }, t)
            }
            ,
            p.Gh = w.IDBTransaction && w.IDBTransaction.READ_WRITE || "readwrite",
            p.pf = function() {
                var e = this.b.result;
                e.objectStoreNames.contains("data") || e.createObjectStore("data")
            }
            ,
            lc.getInstance = vc;
            var uc = "H_";
            function wc() {
                var e, t, i;
                if (!Ta(nc))
                    if ("file:" === window.location.protocol && -1 < navigator.userAgent.toLowerCase().indexOf("firefox") && 128 <= window.location.href.length)
                        nc = !1;
                    else {
                        e = w.indexedDB || w.webkitIndexedDB || w.mozIndexedDB || w.msIndexedDB,
                        i = uc + "TEST_DB";
                        try {
                            t = e && e.open(i, 1)
                        } catch (a) {}
                        nc = !!t && null === t.onupgradeneeded,
                        t && e.deleteDatabase && e.deleteDatabase(i)
                    }
                return nc
            }
            function xc() {
                0 != yc && (zc[this[ua] || (this[ua] = ++va)] = this),
                this.pb = this.pb,
                this.Ta = this.Ta
            }
            lc.isSupported = wc;
            var yc = 0
              , zc = {};
            function Ac(e) {
                e && "function" == typeof e.J && e.J()
            }
            function Bc(e, t) {
                this.type = e,
                this.currentTarget = this.target = t,
                this.a = !1,
                this.ah = !0
            }
            function Cc(e, t, i) {
                Cc.u.constructor.call(this, e, i),
                this.data = t
            }
            function Dc(e, t, i) {
                Dc.u.constructor.call(this, e, i),
                this.message = t
            }
            function Ec(e, t, i) {
                this.g = i,
                this.c = e,
                this.f = t,
                this.b = 0,
                this.a = null
            }
            function Fc(e, t) {
                e.f(t),
                e.b < e.g && (e.b++,
                t.next = e.a,
                e.a = t)
            }
            function Gc() {
                this.b = this.a = null
            }
            xc.prototype.pb = !1,
            xc.prototype.J = function() {
                if (!this.pb && (this.pb = !0,
                this.D(),
                0 != yc)) {
                    var e = this[ua] || (this[ua] = ++va);
                    delete zc[e]
                }
            }
            ,
            xc.prototype.Eb = function(e, t) {
                this.pb ? e.call(t) : (this.Ta || (this.Ta = []),
                this.Ta.push(ga(t) ? ya(e, t) : e))
            }
            ,
            xc.prototype.D = function() {
                if (this.Ta)
                    for (; this.Ta.length; )
                        this.Ta.shift()()
            }
            ,
            Bc.prototype.stopPropagation = function() {
                this.a = !0
            }
            ,
            Bc.prototype.preventDefault = function() {
                this.ah = !1
            }
            ,
            r("H.util.Event", Bc),
            Bc.prototype.stopPropagation = Bc.prototype.stopPropagation,
            Bc.prototype.stopPropagation = Bc.prototype.stopPropagation,
            Bc.prototype.j = 1,
            Bc.prototype.CAPTURING_PHASE = Bc.prototype.j,
            Bc.prototype.i = 2,
            Bc.prototype.AT_TARGET = Bc.prototype.i,
            Bc.prototype.l = 3,
            Bc.prototype.BUBBLING_PHASE = Bc.prototype.l,
            Bc.prototype.o = 0,
            Bc.prototype.eventPhase = Bc.prototype.o,
            v(Cc, Bc),
            r("H.util.DataEvent", Cc),
            v(Dc, Bc),
            r("H.util.ErrorEvent", Dc),
            Ec.prototype.get = function() {
                var e;
                return 0 < this.b ? (this.b--,
                e = this.a,
                this.a = e.next,
                e.next = null) : e = this.c(),
                e
            }
            ;
            var Ic = new Ec(function() {
                return new Hc
            }
            ,function(e) {
                e.reset()
            }
            ,100), Jc, Pc, Sc;
            function Hc() {
                this.next = this.b = this.a = null
            }
            Gc.prototype.add = function(e, t) {
                var i = Ic.get();
                i.set(e, t),
                this.b ? this.b.next = i : this.a = i,
                this.b = i
            }
            ,
            Gc.prototype.remove = function() {
                var e = null;
                return this.a && (e = this.a,
                this.a = this.a.next,
                this.a || (this.b = null),
                e.next = null),
                e
            }
            ,
            Hc.prototype.set = function(e, t) {
                this.a = e,
                this.b = t,
                this.next = null
            }
            ,
            Hc.prototype.reset = function() {
                this.next = this.b = this.a = null
            }
            ;
            e: {
                var Kc = fa.navigator;
                if (Kc) {
                    var Lc = Kc.userAgent;
                    if (Lc) {
                        Jc = Lc;
                        break e
                    }
                }
                Jc = ""
            }
            function Mc() {
                return -1 != Jc.indexOf("Edge") || -1 != Jc.indexOf("Trident") || -1 != Jc.indexOf("MSIE")
            }
            function Nc() {
                return -1 != Jc.indexOf("Edge")
            }
            function Oc(e) {
                fa.setTimeout(function() {
                    throw e
                }, 0)
            }
            function Qc() {
                var e = fa.MessageChannel;
                if ("undefined" === typeof e && "undefined" !== typeof window && window.postMessage && window.addEventListener && -1 == Jc.indexOf("Presto") && (e = function() {
                    a = document.createElement("IFRAME");
                    a.style.display = "none",
                    a.src = "",
                    document.documentElement.appendChild(a);
                    var e = a.contentWindow;
                    a = e.document;
                    a.open(),
                    a.write(""),
                    a.close();
                    var t = "callImmediate" + Math.random()
                      , i = "file:" == e.location.protocol ? "*" : e.location.protocol + "//" + e.location.host
                      , a = ya(function(e) {
                        "*" != i && e.origin != i || e.data != t || this.port1.onmessage()
                    }, this);
                    e.addEventListener("message", a, !1),
                    this.port1 = {},
                    this.port2 = {
                        postMessage: function() {
                            e.postMessage(t, i)
                        }
                    }
                }
                ),
                "undefined" !== typeof e && !Mc()) {
                    var t = new e
                      , i = {}
                      , a = i;
                    return t.port1.onmessage = function() {
                        if (ga(i.next)) {
                            var e = (i = i.next).$f;
                            i.$f = null,
                            e()
                        }
                    }
                    ,
                    function(e) {
                        a.next = {
                            $f: e
                        },
                        a = a.next,
                        t.port2.postMessage(0)
                    }
                }
                return "undefined" !== typeof document && "onreadystatechange"in document.createElement("SCRIPT") ? function(e) {
                    var t = document.createElement("SCRIPT");
                    t.onreadystatechange = function() {
                        t.onreadystatechange = null,
                        t.parentNode.removeChild(t),
                        t = null,
                        e(),
                        e = null
                    }
                    ,
                    document.documentElement.appendChild(t)
                }
                : function(e) {
                    fa.setTimeout(e, 0)
                }
            }
            function Rc(e, t) {
                Sc || Tc(),
                Uc || (Sc(),
                Uc = !0),
                Vc.add(e, t)
            }
            function Tc() {
                if (fa.Promise && fa.Promise.resolve) {
                    var e = fa.Promise.resolve();
                    Sc = function() {
                        e.then(Wc)
                    }
                } else
                    Sc = function() {
                        var e = Wc;
                        !sa(fa.setImmediate) || fa.Window && fa.Window.prototype && fa.Window.prototype.setImmediate == fa.setImmediate ? (Pc || (Pc = Qc()),
                        Pc(e)) : fa.setImmediate(e)
                    }
            }
            var Uc = !1
              , Vc = new Gc;
            function Wc() {
                for (var e = null; e = Vc.remove(); ) {
                    try {
                        e.a.call(e.b)
                    } catch (t) {
                        Oc(t)
                    }
                    Fc(Ic, e)
                }
                Uc = !1
            }
            function Xc(e, t) {
                if (this.G = Yc,
                this.i = void 0,
                this.c = this.a = this.b = null,
                this.f = this.g = !1,
                e == Zc)
                    $c(this, ad, t);
                else
                    try {
                        var i = this;
                        e.call(t, function(e) {
                            $c(i, ad, e)
                        }, function(e) {
                            $c(i, bd, e)
                        })
                    } catch (a) {
                        $c(this, bd, a)
                    }
            }
            var Yc = 0
              , ad = 2
              , bd = 3;
            function cd() {
                this.next = this.c = this.b = this.f = this.a = null,
                this.g = !1
            }
            cd.prototype.reset = function() {
                this.c = this.b = this.f = this.a = null,
                this.g = !1
            }
            ;
            var dd = new Ec(function() {
                return new cd
            }
            ,function(e) {
                e.reset()
            }
            ,100);
            function ed(e, t, i) {
                var a = dd.get();
                return a.f = e,
                a.b = t,
                a.c = i,
                a
            }
            function Zc() {}
            function fd(e) {
                return new Xc(function(t, i) {
                    i(e)
                }
                )
            }
            function gd() {
                var e, t;
                return new hd(new Xc(function(i, a) {
                    e = i,
                    t = a
                }
                ),e,t)
            }
            function kd(e, t) {
                if (e.G == Yc)
                    if (e.b) {
                        var i = e.b;
                        if (i.a) {
                            for (var a = 0, n = null, r = null, o = i.a; o && (o.g || (a++,
                            o.a == e && (n = o),
                            !(n && 1 < a))); o = o.next)
                                n || (r = o);
                            n && (i.G == Yc && 1 == a ? kd(i, t) : (r ? ((a = r).next == i.c && (i.c = a),
                            a.next = a.next.next) : ld(i),
                            md(i, n, bd, t)))
                        }
                        e.b = null
                    } else
                        $c(e, bd, t)
            }
            function nd(e, t) {
                e.a || e.G != ad && e.G != bd || od(e),
                e.c ? e.c.next = t : e.a = t,
                e.c = t
            }
            function id(e, t, i, a) {
                var n = ed(null, null, null);
                return n.a = new Xc(function(e, r) {
                    n.f = t ? function(i) {
                        try {
                            var n = t.call(a, i);
                            e(n)
                        } catch (o) {
                            r(o)
                        }
                    }
                    : e,
                    n.b = i ? function(t) {
                        try {
                            var n = i.call(a, t);
                            !ga(n) && t instanceof jd ? r(t) : e(n)
                        } catch (o) {
                            r(o)
                        }
                    }
                    : r
                }
                ),
                n.a.b = e,
                nd(e, n),
                n.a
            }
            function $c(e, t, i) {
                if (e.G == Yc) {
                    if (e == i)
                        t = bd,
                        i = new TypeError("Promise cannot resolve to itself");
                    else {
                        var a;
                        if (i)
                            try {
                                a = !!i.$goog_Thenable
                            } catch (r) {
                                a = !1
                            }
                        else
                            a = !1;
                        if (a)
                            return e.G = 1,
                            t = i,
                            i = e.l,
                            a = e.j,
                            void (t instanceof Xc ? nd(t, ed(i || ka, a || null, e)) : t.then(i, a, e));
                        if (ta(i))
                            try {
                                var n = i.then;
                                if (sa(n))
                                    return void pd(e, i, n)
                            } catch (o) {
                                t = bd,
                                i = o
                            }
                    }
                    e.i = i,
                    e.G = t,
                    e.b = null,
                    od(e),
                    t != bd || i instanceof jd || qd(e, i)
                }
            }
            function pd(e, t, i) {
                function a(t) {
                    n || (n = !0,
                    e.j(t))
                }
                e.G = 1;
                var n = !1;
                try {
                    i.call(t, function(t) {
                        n || (n = !0,
                        e.l(t))
                    }, a)
                } catch (r) {
                    a(r)
                }
            }
            function od(e) {
                e.g || (e.g = !0,
                Rc(e.o, e))
            }
            function ld(e) {
                var t = null;
                return e.a && (t = e.a,
                e.a = t.next,
                t.next = null),
                e.a || (e.c = null),
                t
            }
            function md(e, t, i, a) {
                if (i == bd && t.b && !t.g)
                    for (; e && e.f; e = e.b)
                        e.f = !1;
                if (t.a)
                    t.a.b = null,
                    rd(t, i, a);
                else
                    try {
                        t.g ? t.f.call(t.c) : rd(t, i, a)
                    } catch (n) {
                        sd.call(null, n)
                    }
                Fc(dd, t)
            }
            function rd(e, t, i) {
                t == ad ? e.f.call(e.c, i) : e.b && e.b.call(e.c, i)
            }
            function qd(e, t) {
                e.f = !0,
                Rc(function() {
                    e.f && sd.call(null, t)
                })
            }
            Xc.prototype.then = function(e, t, i) {
                return id(this, sa(e) ? e : null, sa(t) ? t : null, i)
            }
            ,
            Xc.prototype.then = Xc.prototype.then,
            Xc.prototype.$goog_Thenable = !0,
            Xc.prototype.cancel = function(e) {
                this.G == Yc && Rc(function() {
                    kd(this, new jd(e))
                }, this)
            }
            ,
            Xc.prototype.l = function(e) {
                this.G = Yc,
                $c(this, ad, e)
            }
            ,
            Xc.prototype.j = function(e) {
                this.G = Yc,
                $c(this, bd, e)
            }
            ,
            Xc.prototype.o = function() {
                for (var e = null; e = ld(this); )
                    md(this, e, this.G, this.i);
                this.g = !1
            }
            ;
            var sd = Oc;
            function jd(e) {
                Da.call(this, e)
            }
            function hd(e, t, i) {
                this.sf = e,
                this.resolve = t,
                this.reject = i
            }
            function td(e, t, i) {
                this.type = e,
                this.data = t,
                this.$d = gd(),
                this.resolve = z(this.resolve, this),
                this.reject = z(this.reject, this),
                this.c = ud,
                i !== A && (this.c = i),
                this.Fe().add(this)
            }
            v(jd, Da),
            jd.prototype.name = "cancel";
            var ud = 1
              , vd = {
                Ni: 0,
                NORMAL: ud,
                Mi: 2
            };
            function wd(e) {
                for (var t in this.kc = {},
                vd)
                    this.kc[vd[t]] = [];
                this.ae = e,
                this.ae.addEventListener("allocatable", z(this.eg, this))
            }
            td.prototype.then = function(e, t, i) {
                return this.$d.sf.then(e, t, i)
            }
            ,
            Ca(td.prototype, {
                resolve: function(e) {
                    this.state = 3,
                    this.$d.resolve(e)
                },
                reject: function(e) {
                    this.state = 5,
                    this.$d.reject(e)
                },
                state: 0,
                cancel: function() {
                    this.$d.sf.cancel(),
                    3 > this.state && (this.Sc(),
                    this.Fe().remove(this),
                    this.state = 4)
                },
                Sc: ma,
                De: ma,
                Th: function(e) {
                    this.state = this.De(e) ? 1 : 5
                }
            }),
            r("H.util.JobManager", wd);
            var xd = Object.keys(vd).map(function(e) {
                return vd[e]
            }).sort().reverse();
            function ec(e, t, i) {
                var a = [];
                1 < arguments.length && a.push(t),
                2 < arguments.length && a.push("out of [" + i[0] + "..." + i[1] + "]"),
                this.message = (e ? Va(e) : "") + (a.length ? " (" + a.join(" ") + ")" : ""),
                this.stack = Error().stack
            }
            Ca(wd.prototype, {
                add: function(e) {
                    B(e, td, this.add, 0),
                    this.kc[e.c].push(e),
                    this.eg()
                },
                contains: function(e) {
                    return -1 < this.kc[e.c].indexOf(e)
                },
                remove: function(e) {
                    var t = e.c;
                    return -1 < (e = this.kc[t].indexOf(e)) && (this.kc[t].splice(e, 1),
                    !0)
                },
                eg: function() {
                    xd.forEach(function(e) {
                        this.kc[e] = this.kc[e].filter(function(e) {
                            var t, i;
                            if ((t = this.ae.se(e)) === x)
                                return !0;
                            i = z(this.ae.ye, this.ae, t, e),
                            e.then(i, i),
                            e.Th(t)
                        }, this)
                    }, this)
                }
            }),
            r("H.lang.OutOfRangeError", ec),
            ec.prototype = Error(),
            ec.prototype.name = "OutOfRangeError";
            var yd = "closure_listenable_" + (1e6 * Math.random() | 0);
            function zd(e) {
                return !(!e || !e[yd])
            }
            var Ad = 0;
            function Bd(e, t, i, a, n) {
                this.listener = e,
                this.a = null,
                this.src = t,
                this.type = i,
                this.ya = !!a,
                this.Dd = n,
                this.key = ++Ad,
                this.Hc = this.wd = !1
            }
            function Cd(e) {
                e.Hc = !0,
                e.listener = null,
                e.a = null,
                e.src = null,
                e.Dd = null
            }
            function Dd(e) {
                this.src = e,
                this.a = {},
                this.b = 0
            }
            function Fd(e, t) {
                var i = t.type;
                if (!(i in e.a))
                    return !1;
                var a, n = e.a[i], r = Ha(n, t);
                return (a = 0 <= r) && Ga.splice.call(n, r, 1),
                a && (Cd(t),
                0 == e.a[i].length && (delete e.a[i],
                e.b--)),
                a
            }
            function Ed(e, t, i, a) {
                for (var n = 0; n < e.length; ++n) {
                    var r = e[n];
                    if (!r.Hc && r.listener == t && r.ya == !!i && r.Dd == a)
                        return n
                }
                return -1
            }
            Dd.prototype.add = function(e, t, i, a, n) {
                var r = e.toString();
                (e = this.a[r]) || (e = this.a[r] = [],
                this.b++);
                var o = Ed(e, t, a, n);
                return -1 < o ? (t = e[o],
                i || (t.wd = !1)) : ((t = new Bd(t,this.src,r,!!a,n)).wd = i,
                e.push(t)),
                t
            }
            ,
            Dd.prototype.remove = function(e, t, i, a) {
                if (!((e = e.toString())in this.a))
                    return !1;
                var n = this.a[e];
                return -1 < (t = Ed(n, t, i, a)) && (Cd(n[t]),
                Ga.splice.call(n, t, 1),
                0 == n.length && (delete this.a[e],
                this.b--),
                !0)
            }
            ,
            Dd.prototype.Ea = function(e) {
                e = e && e.toString();
                var t, i = 0;
                for (t in this.a)
                    if (!e || t == e) {
                        for (var a = this.a[t], n = 0; n < a.length; n++)
                            ++i,
                            Cd(a[n]);
                        delete this.a[t],
                        this.b--
                    }
                return i
            }
            ;
            var Gd = -1 != Jc.indexOf("Opera") || -1 != Jc.indexOf("OPR")
              , Hd = Mc()
              , Id = -1 != Jc.indexOf("Gecko") && !(-1 != Jc.toLowerCase().indexOf("webkit") && !Nc()) && !(-1 != Jc.indexOf("Trident") || -1 != Jc.indexOf("MSIE")) && !Nc()
              , Jd = -1 != Jc.toLowerCase().indexOf("webkit") && !Nc();
            function Kd() {
                var e = Jc;
                return Id ? /rv\:([^\);]+)(\)|;)/.exec(e) : Hd && Nc() ? /Edge\/([\d\.]+)/.exec(e) : Hd ? /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e) : Jd ? /WebKit\/(\S+)/.exec(e) : void 0
            }
            function Ld() {
                var e = fa.document;
                return e ? e.documentMode : void 0
            }
            var Md = function() {
                if (Gd && fa.opera)
                    return sa(e = fa.opera.version) ? e() : e;
                var e = ""
                  , t = Kd();
                return t && (e = t ? t[1] : ""),
                Hd && !Nc() && (t = Ld()) > parseFloat(e) ? String(t) : e
            }()
              , Nd = {};
            function Od(e) {
                var t;
                if (!(t = Nd[e])) {
                    t = 0;
                    for (var i = Ea(String(Md)).split("."), a = Ea(String(e)).split("."), n = Math.max(i.length, a.length), r = 0; 0 == t && r < n; r++) {
                        var o = i[r] || ""
                          , s = a[r] || ""
                          , l = /(\d*)(\D*)/g
                          , c = /(\d*)(\D*)/g;
                        do {
                            var h = l.exec(o) || ["", "", ""]
                              , p = c.exec(s) || ["", "", ""];
                            if (0 == h[0].length && 0 == p[0].length)
                                break;
                            t = Fa(0 == h[1].length ? 0 : parseInt(h[1], 10), 0 == p[1].length ? 0 : parseInt(p[1], 10)) || Fa(0 == h[2].length, 0 == p[2].length) || Fa(h[2], p[2])
                        } while (0 == t)
                    }
                    t = Nd[e] = 0 <= t
                }
                return t
            }
            var Pd = fa.document, Qd = Ld(), Rd = !Pd || !Hd || !Qd && Nc() ? void 0 : Qd || ("CSS1Compat" == Pd.compatMode ? parseInt(Md, 10) : 5), Td;
            (Td = !Hd) || (Td = Hd && (Nc() || 9 <= Rd));
            var Ud = Td
              , Vd = Hd && !Od("9");
            function Wd(e) {
                return Wd[" "](e),
                e
            }
            function Xd(e, t) {
                if (Bc.call(this, e ? e.type : ""),
                this.currentTarget = this.target = null,
                this.keyCode = 0,
                this.b = this.state = null,
                e) {
                    this.type = e.type,
                    this.target = e.target || e.srcElement,
                    this.currentTarget = t;
                    var i = e.relatedTarget;
                    if (i && Id)
                        try {
                            Wd(i.nodeName)
                        } catch (a) {}
                    this.keyCode = e.keyCode || 0,
                    this.state = e.state,
                    this.b = e,
                    e.defaultPrevented && this.preventDefault()
                }
            }
            !Jd || Od("528"),
            Id && Od("1.9b") || Hd && Od("8") || Gd && Od("9.5") || Jd && Od("528"),
            Id && !Od("8") || Hd && Od("9"),
            Wd[" "] = ka,
            v(Xd, Bc),
            Xd.prototype.stopPropagation = function() {
                Xd.u.stopPropagation.call(this),
                this.b.stopPropagation ? this.b.stopPropagation() : this.b.cancelBubble = !0
            }
            ,
            Xd.prototype.preventDefault = function() {
                Xd.u.preventDefault.call(this);
                var e = this.b;
                if (e.preventDefault)
                    e.preventDefault();
                else if (e.returnValue = !1,
                Vd)
                    try {
                        (e.ctrlKey || 112 <= e.keyCode && 123 >= e.keyCode) && (e.keyCode = -1)
                    } catch (t) {}
            }
            ;
            var Yd = "closure_lm_" + (1e6 * Math.random() | 0)
              , Zd = {}
              , $d = 0;
            function ae(e, t, i, a, n) {
                if (pa(t)) {
                    for (var r = 0; r < t.length; r++)
                        ae(e, t[r], i, a, n);
                    return null
                }
                return i = be(i),
                zd(e) ? e.Ob.add(String(t), i, !1, a, n) : ce(e, t, i, !1, a, n)
            }
            function ce(e, t, i, a, n, r) {
                if (!t)
                    throw Error("Invalid event type");
                var o = !!n
                  , s = de(e);
                return s || (e[Yd] = s = new Dd(e)),
                (i = s.add(t, i, a, n, r)).a ? i : (a = ee(),
                i.a = a,
                a.src = e,
                a.listener = i,
                e.addEventListener ? e.addEventListener(t.toString(), a, o) : e.attachEvent(fe(t.toString()), a),
                $d++,
                i)
            }
            function ee() {
                var e = ge
                  , t = Ud ? function(i) {
                    return e.call(t.src, t.listener, i)
                }
                : function(i) {
                    if (!(i = e.call(t.src, t.listener, i)))
                        return i
                }
                ;
                return t
            }
            function he(e, t, i, a, n) {
                if (pa(t)) {
                    for (var r = 0; r < t.length; r++)
                        he(e, t[r], i, a, n);
                    return null
                }
                return i = be(i),
                zd(e) ? e.Ob.add(String(t), i, !0, a, n) : ce(e, t, i, !0, a, n)
            }
            function ie(e, t, i, a, n) {
                if (pa(t)) {
                    for (var r = 0; r < t.length; r++)
                        ie(e, t[r], i, a, n);
                    return null
                }
                return i = be(i),
                zd(e) ? e.Ob.remove(String(t), i, a, n) : !!e && (!!((e = de(e)) && (t = e.a[t.toString()],
                e = -1,
                t && (e = Ed(t, i, !!a, n)),
                i = -1 < e ? t[e] : null)) && je(i))
            }
            function je(e) {
                if ("number" == typeof e || !e || e.Hc)
                    return !1;
                var t = e.src;
                if (zd(t))
                    return Fd(t.Ob, e);
                var i = e.type
                  , a = e.a;
                return t.removeEventListener ? t.removeEventListener(i, a, e.ya) : t.detachEvent && t.detachEvent(fe(i), a),
                $d--,
                (i = de(t)) ? (Fd(i, e),
                0 == i.b && (i.src = null,
                t[Yd] = null)) : Cd(e),
                !0
            }
            function fe(e) {
                return e in Zd ? Zd[e] : Zd[e] = "on" + e
            }
            function ke(e, t, i, a) {
                var n = !0;
                if ((e = de(e)) && (t = e.a[t.toString()]))
                    for (t = t.concat(),
                    e = 0; e < t.length; e++) {
                        var r = t[e];
                        r && r.ya == i && !r.Hc && (r = le(r, a),
                        n = n && !1 !== r)
                    }
                return n
            }
            function le(e, t) {
                var i = e.listener
                  , a = e.Dd || e.src;
                return e.wd && je(e),
                i.call(a, t)
            }
            function ge(e, t) {
                if (e.Hc)
                    return !0;
                if (!Ud) {
                    var i = t || ja("window.event")
                      , a = new Xd(i,this)
                      , n = !0;
                    if (!(0 > i.keyCode || void 0 != i.returnValue)) {
                        e: {
                            var r = !1;
                            if (0 == i.keyCode)
                                try {
                                    i.keyCode = -1;
                                    break e
                                } catch (l) {
                                    r = !0
                                }
                            (r || void 0 == i.returnValue) && (i.returnValue = !0)
                        }
                        for (i = [],
                        r = a.currentTarget; r; r = r.parentNode)
                            i.push(r);
                        r = e.type;
                        for (var o = i.length - 1; !a.a && 0 <= o; o--) {
                            a.currentTarget = i[o];
                            var s = ke(i[o], r, !0, a);
                            n = n && s
                        }
                        for (o = 0; !a.a && o < i.length; o++)
                            a.currentTarget = i[o],
                            s = ke(i[o], r, !1, a),
                            n = n && s
                    }
                    return n
                }
                return le(e, new Xd(t,this))
            }
            function de(e) {
                return (e = e[Yd])instanceof Dd ? e : null
            }
            var me = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);
            function be(e) {
                return sa(e) ? e : (e[me] || (e[me] = function(t) {
                    return e.handleEvent(t)
                }
                ),
                e[me])
            }
            function I() {
                xc.call(this),
                this.Ob = new Dd(this),
                this.ph = this,
                this.Me = null
            }
            function ne(e) {
                var t = (e = e || {}).callback;
                this.a = e.label,
                sa(t) && (this.callback = t),
                this.g = !!e.disabled,
                ne.u.constructor.call(this)
            }
            v(I, xc),
            I.prototype[yd] = !0,
            p = I.prototype,
            p.jb = function() {
                return this.Me
            }
            ,
            p.ia = function(e) {
                this.Me = e
            }
            ,
            p.addEventListener = function(e, t, i, a) {
                ae(this, e, t, i, a)
            }
            ,
            p.removeEventListener = function(e, t, i, a) {
                ie(this, e, t, i, a)
            }
            ,
            p.dispatchEvent = function(e) {
                var t;
                if (i = this.jb())
                    for (t = []; i; i = i.jb())
                        t.push(i);
                var i = this.ph
                  , a = e.type || e;
                if (ra(e))
                    e = new Bc(e,i);
                else if (e instanceof Bc)
                    e.target = e.target || i;
                else {
                    var n = e;
                    Ca(e = new Bc(a,i), n)
                }
                var r;
                n = !0;
                if (t)
                    for (var o = t.length - 1; !e.a && 0 <= o; o--)
                        n = (r = e.currentTarget = t[o]).dc(a, !0, e) && n;
                if (e.a || (n = (r = e.currentTarget = i).dc(a, !0, e) && n,
                e.a || (n = r.dc(a, !1, e) && n)),
                t)
                    for (o = 0; !e.a && o < t.length; o++)
                        n = (r = e.currentTarget = t[o]).dc(a, !1, e) && n;
                return n
            }
            ,
            p.D = function() {
                I.u.D.call(this),
                this.Ob && this.Ob.Ea(void 0),
                this.Me = null
            }
            ,
            p.dc = function(e, t, i) {
                if (!(e = this.Ob.a[String(e)]))
                    return !0;
                e = e.concat();
                for (var a = !0, n = 0; n < e.length; ++n) {
                    var r = e[n];
                    if (r && !r.Hc && r.ya == t) {
                        var o = r.listener
                          , s = r.Dd || r.src;
                        r.wd && Fd(this.Ob, r),
                        a = !1 !== o.call(s, i) && a
                    }
                }
                return a && 0 != i.ah
            }
            ,
            r("H.util.EventTarget", I),
            I.prototype.ia = I.prototype.ia,
            I.prototype.setParentEventTarget = I.prototype.ia,
            I.prototype.jb = I.prototype.jb,
            I.prototype.getParentEventTarget = I.prototype.jb,
            I.prototype.addEventListener = I.prototype.addEventListener,
            I.prototype.addEventListener = I.prototype.addEventListener,
            I.prototype.removeEventListener = I.prototype.removeEventListener,
            I.prototype.removeEventListener = I.prototype.removeEventListener,
            I.prototype.dispatchEvent = I.prototype.dispatchEvent,
            I.prototype.dispatchEvent = I.prototype.dispatchEvent,
            I.prototype.J = I.prototype.J,
            I.prototype.dispose = I.prototype.J,
            I.prototype.Eb = I.prototype.Eb,
            I.prototype.addOnDisposeCallback = I.prototype.Eb,
            I.prototype.th = I.prototype.dc,
            I.prototype.dc = function(e, t, i) {
                var a, n, r, o = !0;
                return a = i[i.currentTarget === i.target ? "AT_TARGET" : t ? "CAPTURING_PHASE" : (n = !0,
                "BUBBLING_PHASE")],
                (!n || "pointerenter" !== (r = i.type) && "pointerleave" !== r) && (i.eventPhase = a,
                o = I.prototype.th.apply(this, arguments),
                n && this.jb && null === this.jb() && delete i.eventPhase),
                o
            }
            ,
            v(ne, I),
            r("H.util.ContextItem", ne),
            ne.prototype.b = function() {
                return this.a
            }
            ,
            ne.prototype.getLabel = ne.prototype.b,
            ne.prototype.Sa = function(e) {
                return this.a !== e && (this.a = e,
                this.dispatchEvent("update")),
                this
            }
            ,
            ne.prototype.setLabel = ne.prototype.Sa,
            ne.prototype.c = function() {
                return this.g
            }
            ,
            ne.prototype.isDisabled = ne.prototype.c,
            ne.prototype.qa = function(e) {
                return e ^ this.g && (this.g = e,
                this.dispatchEvent("update")),
                this
            }
            ,
            ne.prototype.setDisabled = ne.prototype.qa;
            var oe = new ne;
            function pe() {
                if (w.document) {
                    var e = document.createElement("canvas");
                    return e.width = e.height = 1,
                    e.getContext("2d")
                }
                return null
            }
            ne.SEPARATOR = oe;
            var qe = /^rgba\(([^,]+),([^,]+),([^,]+),([^)]+)\)$/;
            function re(e) {
                var t = se[e]
                  , i = w.RegExp;
                return t || (w.Uint8ClampedArray || (w.Uint8ClampedArray = function(e) {
                    return e instanceof Number ? Array(e) : e.map(function(e) {
                        return Qb(nb(e), 0, 255)
                    })
                }
                ),
                "none" === e ? t = new Uint8ClampedArray([0, 0, 0, 0]) : (te.fillStyle = "black",
                te.fillStyle = e,
                qe.test(te.fillStyle) ? t = new Uint8ClampedArray([i.$1, i.$2, i.$3, 255 * i.$4]) : (te.clearRect(0, 0, 1, 1),
                te.fillRect(0, 0, 1, 1),
                t = te.getImageData(0, 0, 1, 1).data)),
                se[e] = t),
                t
            }
            function ue(e) {
                return "none" !== e && 0 < re(e)[3]
            }
            var se = Ka()
              , ve = !!w.VBArray;
            function we(e, t) {
                return e !== A ? e : t
            }
            function xe(e) {
                return /^<svg/.test(e) ? "data:image/svg+xml;charset=utf-8," + encodeURIComponent(e) : e
            }
            function ye() {
                this.xb = 0
            }
            r("H.util.eval", function(a) {
                return eval(a)
            }),
            r("H.util.provide", function(e) {
                ha(e, void 0)
            }),
            ye.prototype.next = function(e) {
                if (4294967295 === this.xb)
                    throw new ec(e,this.xb,[0, 4294967295]);
                return this.xb++
            }
            ;
            var ze = new ye
              , Ae = z(ze.next, ze);
            function Be() {
                return !0
            }
            function Ce() {
                return !1
            }
            function sc() {}
            var De = Na([]);
            function Ee(e) {
                return "CANVAS" === e.tagName ? [e] : e.getElementsByTagName("CANVAS")
            }
            function Fe(e, t, i) {
                var a;
                if (t = e.ownerDocument === t ? e.cloneNode(!0) : t.importNode(e, !0),
                i)
                    for (e = Ee(e),
                    a = (i = Ee(t)).length; a--; )
                        i[a].getContext("2d").drawImage(e[a], 0, 0);
                return t
            }
            function Ge(e) {
                e.parentNode.removeChild(e)
            }
            var te = pe()
              , He = pe();
            function Ie(e) {
                var t = e.complete
                  , i = 0 < e.naturalWidth;
                if (t && !i && ve)
                    try {
                        He.drawImage(e, 0, 0),
                        i = !0
                    } catch (a) {}
                return t && i
            }
            var Je = w.BlobBuilder || w.WebKitBlobBuilder || w.MozBlobBuilder;
            function Ke(e, t) {
                var i, a = t || "";
                return Je ? ((i = new Je).append(e),
                a = i.getBlob(a)) : a = new Blob([e],{
                    type: a
                }),
                a
            }
            function Le() {}
            r("H.map.provider.Invalidations", Le),
            Le.MARK_INITIAL = Mb,
            Le.prototype.c = function(e, t) {
                t !== Me.NONE && (this.a = e,
                t & Me.SPATIAL && (this.m = e),
                t & Me.VISUAL && (this.v = e),
                t & Me.ADD && (this.l = e),
                t & Me.REMOVE && (this.o = e),
                t & Me.Z_ORDER && (this.s = e))
            }
            ,
            Le.prototype.update = Le.prototype.c,
            Le.prototype.B = function() {
                return this.a
            }
            ,
            Le.prototype.getMark = Le.prototype.B,
            Le.prototype.a = Mb,
            Le.prototype.A = function(e) {
                return this.a > e
            }
            ,
            Le.prototype.isAny = Le.prototype.A,
            Le.prototype.v = Mb,
            Le.prototype.b = function(e) {
                return this.v > e
            }
            ,
            Le.prototype.isVisual = Le.prototype.b,
            Le.prototype.m = Mb,
            Le.prototype.g = function(e) {
                return this.m > e
            }
            ,
            Le.prototype.isSpatial = Le.prototype.g,
            Le.prototype.l = Mb,
            Le.prototype.j = function(e) {
                return this.l > e
            }
            ,
            Le.prototype.isAdd = Le.prototype.j,
            Le.prototype.o = Mb,
            Le.prototype.f = function(e) {
                return this.o > e
            }
            ,
            Le.prototype.isRemove = Le.prototype.f,
            Le.prototype.s = Mb,
            Le.prototype.i = function(e) {
                return this.s > e
            }
            ,
            Le.prototype.isZOrder = Le.prototype.i;
            var Me = {
                NONE: 0,
                VISUAL: 1,
                SPATIAL: 2,
                ADD: 4,
                REMOVE: 8,
                Z_ORDER: 16
            };
            function Ne(e, t, i) {
                Ne.u.constructor.call(this, e),
                this.oldValue = i,
                this.newValue = t
            }
            function K(e) {
                var t;
                Ua(this, K),
                K.u.constructor.call(this),
                this.zb = Oe.next(),
                e && (ab(e[t = "min"]) && (this.Ga = e[t]),
                ab(e[t = "max"]) && (this.ea = e[t]),
                (t = "visibility")in e && (this.T = !!e[t]),
                (t = "zIndex")in e && (this.I = +e[t] || 0),
                (t = "provider")in e && (this.l = e[t],
                this.ua(Me.ADD)),
                (t = "data")in e && this.g(e[t]))
            }
            Le.Flag = Me,
            v(Ne, Bc),
            r("H.util.ChangeEvent", Ne),
            v(K, I),
            r("H.map.Object", K);
            var Oe = new ye
              , Pe = {
                ANY: 0,
                OVERLAY: 1,
                SPATIAL: 2,
                MARKER: 3,
                DOM_MARKER: 4,
                GROUP: 5
            };
            function Qe(e) {
                var t, i, a, n = e.U;
                return n || (t = (i = e.I) !== A,
                (n = e.Da) ? (n = Qe(n).slice())[0] |= t : n = [0 | t],
                n.push(i || 0, (a = e.fh) !== A ? a : e.zb),
                e.U = n),
                n
            }
            function Re(e, t, i) {
                if (!i || e[0] | t[0])
                    for (var a, n = e.length, r = t.length, o = lb(n, r), s = 1, l = 1 + i; s < o; s += l)
                        if (a = e[s] - t[s])
                            return a;
                return i ? 0 : n - r
            }
            function Se(e, t) {
                return e.Xa(t)
            }
            function G(e, t, i, a) {
                Te(this, Wb(e, G, 0), Xb(t, G, 1), Wb(i, G, 2), Xb(a, G, 3))
            }
            function Te(e, t, i, a, n) {
                return e.ga = i,
                e.ha = n,
                t < a && (i = t,
                t = a,
                a = i),
                e.ka = t,
                e.ja = a,
                e.i = e.f = e.o = null,
                e
            }
            function Ve(e, t) {
                var i = t - e;
                return i + (0 > i ? 360 : 0)
            }
            function Ue(e, t) {
                var i = e + t / 2;
                return i - (180 < i ? 360 : 0)
            }
            function We(e, t, i, a, n, r, o, s, l) {
                var c, h, p;
                return i = lb(i, o),
                e = mb(e, n),
                c = Ue(t, n = Ve(t, a)),
                p = Ue(r, o = Ve(r, s)) - c,
                180 > (p += 0 > p - 1e-6 ? 360 : 0) - 1e-6 ? (c = t,
                h = s) : (p = 360 - p,
                c = r,
                h = a),
                360 <= (p = p + n / 2 + o / 2) + 5e-7 ? (c = -180,
                h = 180) : p - 5e-7 < n ? (c = t,
                h = a) : p - 5e-7 < o && (c = r,
                h = s),
                l ? Te(l, e, c, i, h) : new G(e,c,i,h)
            }
            function Xe(e, t, i) {
                return i || (hc(e, Xe, 0),
                hc(t, Xe, 1)),
                new G(e.lat,e.lng,t.lat,t.lng)
            }
            function fc(e, t) {
                if (!qa(e))
                    throw new C(fc,0,e);
                var i, a = 1, n = e.length, r = null;
                if (0 < n)
                    for (r = Xe(i = e[0], i, t); a < n; a++)
                        i = e[a],
                        r.b(i.lat, i.lng, t, r);
                return r
            }
            function Ye(e, t) {
                if (!(t || e && null != e.length))
                    throw new C(Ye,0,e);
                var i, a = 3, n = e.length;
                if (0 < n)
                    for (i = new G(e[0],e[1],e[0],e[1]); a < n; a += 3)
                        i.b(e[a], e[a + 1], t, i);
                return i
            }
            function Ze(e, t) {
                if (t && (!e || null == e.length))
                    throw new C(Ze,0,e);
                var i, a = 1, n = e.length;
                if (0 < n)
                    for (i = new G(e[0].ka,e[0].ga,e[0].ja,e[0].ha); a < n; a++)
                        i.wb(e[a], t, i);
                return i
            }
            function $e(e, t, i, a, n) {
                this.j = e || 10,
                this.a = this.b = this.l = null,
                this.c = a || 0,
                this.f = n || 0,
                this.g = t || 1,
                this.i = i || 1,
                this.a = this.l = new af(null,0,this.c - this.g,this.f - this.i,this.c + this.g,this.f + this.i),
                this.b = null
            }
            function bf(e, t) {
                for (var i, a, n, r, o, s, l, c, h, p, d = 0, u = 4; u--; ) {
                    for (p = u + 4,
                    o = [],
                    i = +!(u % 3),
                    s = t[u],
                    c = (a = e[u]).length; c--; ) {
                        if (r = (n = a[c]).Y)
                            for (h = r.length; h--; )
                                ((l = r[h][u]) > s) - i && (s = l);
                        for (h = 4; h--; )
                            (r = n[h]) && (i ? r[p] < s && o.push(r) : r[p] > s && o.push(r))
                    }
                    d += o.length,
                    t[u] = s,
                    e[u] = o
                }
                return d && (t = bf(e, t)),
                t
            }
            function df(e, t, i) {
                var a, n;
                if (a = e.b)
                    for (n = 4; n--; )
                        if (n % 3 ? t[n] >= a[n] : t[n] <= a[n]) {
                            if (!i) {
                                e.b = null;
                                break
                            }
                            a[n] = t[n]
                        }
            }
            function ef(e, t, i, a, n, r, o) {
                var s = t[8]
                  , l = t[9];
                o && (n < s || n < t[5] && i >= s) && (r < l || r < t[6] && a >= l) ? i = ef(e, t = t[s = (a >= l ? 2 : 0) | i >= s] || (t[s] = new af(t,s)), i, a, n, r, o - 1) : (i = new ff(t,i,a,n,r),
                (t.Y || (t.Y = [])).push(i),
                df(e, i, !0),
                cf(e, t));
                return i
            }
            function cf(e, t) {
                var i, a = e.a;
                if (t) {
                    if ((i = t) !== a)
                        for (a = i; i = i.a; )
                            (i.Y || 3 > !i[0] + !i[1] + !i[2] + !i[3]) && (a = i)
                } else
                    for (; !a.Y && 2 < !a[0] + !a[1] + !a[2] + !a[3] && (i = a[0] || a[1] || a[2] || a[3]); )
                        a = i;
                e.a = a
            }
            function gf(e, t, i, a, n, r, o) {
                var s, l, c = t.Y;
                l = t[7];
                var h, p = t[8], d = t[5], u = t[4], g = t[9], m = t[6];
                if (c)
                    if (s = c.length,
                    a > l || r < d || n > u || o < m)
                        for (; s--; )
                            d = (l = c[s])[3],
                            u = l[0],
                            m = l[1],
                            h = l[2],
                            d > r || m < a || u > o || h < n || i.push(l);
                    else
                        for (; s--; )
                            i.push(c[s]);
                r >= p && (n <= g && t[1] && gf(e, t[1], i, a, n, r, o),
                o >= g && t[3] && gf(e, t[3], i, a, n, r, o)),
                a <= p && (n <= g && t[0] && gf(e, t[0], i, a, n, r, o),
                o >= g && t[2] && gf(e, t[2], i, a, n, r, o))
            }
            function af(e, t, i, a, n, r) {
                e ? (this.a = e,
                this.b = t,
                1 & t ? (i = e[8],
                n = e[5]) : (i = e[7],
                n = e[8]),
                2 & t ? (a = e[9],
                r = e[6]) : (a = e[4],
                r = e[9])) : this.b = this.a = null,
                this[7] = i,
                this[5] = n,
                this[8] = (i + n) / 2,
                this[4] = a,
                this[6] = r,
                this[9] = (a + r) / 2
            }
            function ff(e, t, i, a, n) {
                this.id = ++hf,
                this.a = e,
                this[0] = i,
                this[1] = a,
                this[2] = n,
                this[3] = t
            }
            K.Type = Pe,
            K.prototype.yb = {
                Hh: "visibilitychange",
                Ih: "zindexchange"
            },
            K.prototype.ta = function() {
                return this.zb
            }
            ,
            K.prototype.getId = K.prototype.ta,
            K.prototype.Ga = -1 / 0,
            K.prototype.ea = 1 / 0,
            K.prototype.Ld = function() {
                return this.ea
            }
            ,
            K.prototype.getMax = K.prototype.Ld,
            K.prototype.Xd = function() {
                return this.Ga
            }
            ,
            K.prototype.getMin = K.prototype.Xd,
            K.prototype.T = !0,
            K.prototype.setVisibility = function(e) {
                var t = this.T;
                return (e = !!e) ^ t && (this.T = e,
                this.invalidate(Me.VISUAL),
                this.dispatchEvent(new Ne(this.yb.Hh,e,t))),
                this
            }
            ,
            K.prototype.setVisibility = K.prototype.setVisibility,
            K.prototype.getVisibility = function(e) {
                for (var t, i = this; (t = i.T) && e && (i = i.Da); )
                    ;
                return t
            }
            ,
            K.prototype.getVisibility = K.prototype.getVisibility,
            K.prototype.I = A,
            K.prototype.he = function() {
                return this.I
            }
            ,
            K.prototype.getZIndex = K.prototype.he,
            K.prototype.Ha = function(e) {
                var t = this.I;
                return e !== t && (this.K(),
                this.I = e,
                this.invalidate(Me.Z_ORDER),
                this.dispatchEvent(new Ne(this.yb.Ih,e,t))),
                this
            }
            ,
            K.prototype.setZIndex = K.prototype.Ha,
            K.prototype.U = A,
            K.prototype.K = function() {
                this.U = A
            }
            ,
            K.compareZOrder = Se,
            K.prototype.Xa = function(e) {
                return this.je - e.je || Re(Qe(this), Qe(e), !1)
            }
            ,
            K.prototype.compareZOrder = K.prototype.Xa,
            p = K.prototype,
            p.previousSibling = x,
            p.nextSibling = x,
            p.fh = A,
            p.Da = x,
            p.Zh = function() {
                return this.Da
            }
            ,
            K.prototype.getParentGroup = K.prototype.Zh,
            K.prototype.ee = function() {
                for (var e, t = this; e = t.Da; )
                    t = e;
                return t
            }
            ,
            K.prototype.getRootGroup = K.prototype.ee,
            K.prototype.contains = function(e) {
                return this === e
            }
            ,
            K.prototype.contains = K.prototype.contains,
            K.prototype.ia = function(e) {
                if (this.Da)
                    throw new kc(this.ia,"Not allowed for a child of a group");
                K.u.ia.call(this, e)
            }
            ,
            K.prototype.setParentEventTarget = K.prototype.ia,
            K.prototype.l = x,
            K.prototype.Pa = function() {
                return this.l
            }
            ,
            K.prototype.getProvider = K.prototype.Pa,
            K.prototype.F = function(e, t) {
                var i, a, n = this.l;
                if (i = n !== e) {
                    if (t && (n && !B(n, L) || e && !B(e, L)))
                        throw new kc(t,"Only LocalObjectProvider allows an object transfers");
                    a = this.type !== Pe.GROUP,
                    n && (this.invalidate(Me.REMOVE),
                    a && n.a(this)),
                    (this.l = e) && (a && e.V(this),
                    this.Fb = x,
                    this.invalidate(Me.ADD))
                }
                return i
            }
            ,
            K.prototype.j = function() {
                return this.Fb || (this.Fb = new Le)
            }
            ,
            K.prototype.getInvalidations = K.prototype.j,
            K.prototype.ua = function(e) {
                var t, i = this.Pa();
                return (t = !!i) && i.invalidateObject(this, e),
                t
            }
            ,
            K.prototype.invalidate = K.prototype.ua,
            K.prototype.D = function() {
                this.Da && this.Da.a(this),
                K.u.D.call(this)
            }
            ,
            K.prototype.getData = function() {
                return this.P
            }
            ,
            K.prototype.getData = K.prototype.getData,
            K.prototype.g = function(e) {
                return this.P = e,
                this
            }
            ,
            K.prototype.setData = K.prototype.g,
            v(G, bc),
            r("H.geo.Rect", G),
            G.prototype.qd = "POLYGON",
            G.prototype.Lb = function(e) {
                var t = this.ka
                  , i = this.ga
                  , a = this.ja
                  , n = this.ha;
                return e.push("(", i, " ", t, ",", n, " ", t, ",", n, " ", a, ",", i, " ", a, ",", i, " ", t, ")"),
                e
            }
            ,
            G.prototype.pa = function(e) {
                return this === e || !!e && this.ka === e.ka && this.ga === e.ga && this.ja === e.ja && this.ha === e.ha
            }
            ,
            G.prototype.equals = G.prototype.pa,
            G.prototype.clone = function() {
                return new G(this.ka,this.ga,this.ja,this.ha)
            }
            ,
            G.prototype.clone = G.prototype.clone,
            G.prototype.tb = function() {
                return this.i || (this.i = new gc(this.ka,this.ga)),
                this.i
            }
            ,
            G.prototype.getTopLeft = G.prototype.tb,
            G.prototype.rb = function() {
                return this.f || (this.f = new gc(this.ja,this.ha)),
                this.f
            }
            ,
            G.prototype.getBottomRight = G.prototype.rb,
            G.prototype.F = function() {
                return this.ka
            }
            ,
            G.prototype.getTop = G.prototype.F,
            G.prototype.s = function() {
                return this.ja
            }
            ,
            G.prototype.getBottom = G.prototype.s,
            G.prototype.B = function() {
                return this.ga
            }
            ,
            G.prototype.getLeft = G.prototype.B,
            G.prototype.A = function() {
                return this.ha
            }
            ,
            G.prototype.getRight = G.prototype.A,
            G.prototype.Oa = function() {
                return this.o || (this.o = new gc(this.ja + (this.ka - this.ja) / 2,Ue(this.ga, this.ab()))),
                this.o
            }
            ,
            G.prototype.getCenter = G.prototype.Oa,
            G.prototype.ab = function() {
                return Ve(this.ga, this.ha)
            }
            ,
            G.prototype.getWidth = G.prototype.ab,
            G.prototype.c = function() {
                return this.ka - this.ja
            }
            ,
            G.prototype.getHeight = G.prototype.c,
            G.prototype.g = function() {
                return this.ga > this.ha
            }
            ,
            G.prototype.isCDB = G.prototype.g,
            G.prototype.ed = function() {
                return !this.ab() && !this.c()
            }
            ,
            G.prototype.isEmpty = G.prototype.ed,
            G.prototype.S = function() {
                return new G(this.ka,this.ga,this.ja,this.ha)
            }
            ,
            G.prototype.l = function(e, t, i) {
                var a = this.Oa();
                return i || (e = Wb(e, this.l, 0),
                t = Xb(t, this.l, 1)),
                (e = (t = this.b(e, t, i)).Oa()).lat === a.lat && e.lng === a.lng && this.c() === t.c() && this.ab() === t.ab()
            }
            ,
            G.prototype.containsLatLng = G.prototype.l,
            G.prototype.Vc = function(e, t) {
                return t || hc(e, this.Vc, 0),
                this.l(e.lat, e.lng, t)
            }
            ,
            G.prototype.containsPoint = G.prototype.Vc,
            G.prototype.j = function(e, t) {
                var i, a, n = this.Oa();
                if (!t && !B(e, G))
                    throw new C(this.j,0,e);
                return (i = (a = this.wb(e, t)).Oa()).lat === n.lat && i.lng === n.lng && this.c() === a.c() && this.ab() === a.ab()
            }
            ,
            G.prototype.containsRect = G.prototype.j,
            G.prototype.b = function(e, t, i, a) {
                if (!i) {
                    if (D(e = Wb(e)))
                        throw new C(this.b,0,e);
                    if (D(t = Xb(t)))
                        throw new C(this.b,1,t)
                }
                return We(this.ka, this.ga, this.ja, this.ha, e, t, e, t, a)
            }
            ,
            G.prototype.mergeLatLng = G.prototype.b,
            G.prototype.m = function(e, t, i) {
                return t || hc(e, this.m, 0),
                this.b(e.lat, e.lng, t, i)
            }
            ,
            G.prototype.mergePoint = G.prototype.m,
            G.prototype.wb = function(e, t, i) {
                if (!t && !B(e, G))
                    throw new C(this.wb,0,e);
                return We(this.ka, this.ga, this.ja, this.ha, e.ka, e.ga, e.ja, e.ha, i)
            }
            ,
            G.prototype.mergeRect = G.prototype.wb,
            G.prototype.a = function(e, t, i, a, n, r) {
                return n || (e = Wb(e, this.a, 0),
                t = Xb(t, this.a, 1),
                i = Wb(i, this.a, 2),
                a = Xb(a, this.a, 3)),
                We(this.ka, this.ga, this.ja, this.ha, e, t, i, a, r)
            }
            ,
            G.prototype.mergeTopLeftBottomRight = G.prototype.a,
            G.prototype.xc = function(e, t) {
                if (!t && !B(e, G))
                    throw new C(this.xc,0,e);
                var i = this.ga <= this.ha
                  , a = e.ga <= e.ha
                  , n = this.ga < e.ha
                  , r = e.ga < this.ha;
                return this.ja <= e.ka && e.ja <= this.ka && (!i && (!a || n || r) || !a && (n || r) || n && r)
            }
            ,
            G.prototype.intersects = G.prototype.xc,
            G.merge = We,
            G.fromPoints = Xe,
            G.coverPoints = fc,
            G.coverLatLngAlts = Ye,
            G.coverRects = Ze,
            G.prototype.v = function(e, t) {
                hc(e, this.v, 0);
                var i, a = this.ga, n = this.ka, r = this.ha, o = this.ja, s = this.Oa().lng, l = e.lat - o - (n - o) / 2;
                a = -180 > (a = a + (0 > (i = 180 < (i = e.lng - s) || -180 > i ? -(s + e.lng) : i) ? 2 * i : 0)) ? 360 + a : a,
                r = 180 < (r = r + (0 < i ? 2 * i : 0)) ? r - 360 : r;
                return 90 <= (n = 0 < l ? n + 2 * l : n) && (n = 90),
                -90 >= (o = 0 > l ? o + 2 * l : o) && (o = -90),
                t ? Te(t, n, a, o, r) : new G(n,a,o,r)
            }
            ,
            G.prototype.resizeToCenter = G.prototype.v,
            $e.prototype.remove = function(e) {
                var t, i = e.a, a = i.Y;
                if (a && (-1 !== (t = a.indexOf(e)) && (a.splice(t, 1),
                !a.length))) {
                    delete i.Y;
                    for (var n = this.a; (a = i.a) && !(i.Y || i[0] || i[1] || i[2] || i[3]); )
                        i === n && (n = a),
                        delete i.a,
                        delete a[i.b],
                        i = a;
                    this.a = n,
                    cf(this)
                }
                return (t = 0 <= t) && df(this, e, !1),
                t
            }
            ,
            $e.prototype.bb = function(e, t, i, a) {
                var n = [];
                return gf(this, this.a, n, e, t, i, a),
                n
            }
            ;
            var hf = 0;
            function jf(e) {
                this.i = new $e(+e || 10,180,90,0,0),
                this.g = [],
                this.b = this.f = this.a = null
            }
            function kf(e, t, i, a, n, r) {
                return r ? (r = new ff(null,n,-t,i + 360,-a),
                e.g.push(r),
                e.b && e.b.a(t, i, a, n, !0, e.b)) : (r = ef(r = e.i, r.l, i, -t, n, -a, r.j),
                e.f && e.f.a(t, i, a, n, !0, e.f)),
                ++e.c,
                e.a = null,
                r
            }
            function lf(e, t, i, a, n) {
                var r, o, s, l = (e = e.g).length, c = [];
                if (l)
                    for (o = i + 360,
                    s = n + 360; l--; )
                        mf(r = e[l], t, i, a, n) ? c.push(r) : mf(r, t, o, a, s) && c.push(r);
                return c
            }
            function mf(e, t, i, a, n) {
                var r = e[0]
                  , o = e[1]
                  , s = e[2];
                return !(e[3] > n || o < i || r > a || s < t)
            }
            function nf(e, t) {
                var i, a, n, r;
                if (a = t.length) {
                    for (i = e.length,
                    n = {}; i--; )
                        n[e[i].id] = 1;
                    for (; a--; )
                        (r = t[a]).id in n || e.push(r)
                }
            }
            function of(e, t) {
                var i, a = e.i, n = t.tb(), r = t.rb(), o = -n.lat, s = (n = n.lng,
                -r.lat);
                r = r.lng;
                return t.g() ? (nf(i = a.bb(-180, o, r, s), a.bb(n, o, 180, s)),
                nf(i, lf(e, o, r, s, n + 360))) : nf(i = a.bb(n, o, r, s), lf(e, o, n, s, r)),
                i
            }
            function F(e, t) {
                F.u.constructor.call(this),
                e && pf(e, F, 0),
                this.na = e || [],
                this.j = t,
                this.b = qf(this, 0, this.na.length)
            }
            function qf(e, t, i) {
                e = e.na;
                var a = 0;
                for (t = mb(t, 0),
                i = lb(i, e.length),
                i -= 2,
                t += 1; t < i; )
                    a += tf(e[t], e[t += 3]);
                return a
            }
            function uf(e, t, i, a, n) {
                var r = e.na.length;
                t = Wb(t, n),
                i = Xb(i, n),
                e.na.push(Wb(t, n), Xb(i, n), a === A ? 0 : Yb(a, n)),
                r && (e.b += tf(e.na[r - 2], i)),
                delete e.a,
                delete e.m
            }
            jf.prototype.c = 0,
            jf.prototype.S = function() {
                var e, t, i;
                if (!this.a) {
                    var a, n, r, o, s, l;
                    if (i = [],
                    a = !this.f)
                        !(n = (e = this.i).b) && ((a = e.a).Y || a[0] || a[1] || a[2] || a[3]) && (n = bf([n = [a], n, n, n], [a[6], a[7], a[4], a[5]]),
                        e.b = n),
                        a = e = n;
                    if (a && (this.f = new G(-e[0],e[3],-e[2],e[1])),
                    (t = this.f) && i.push(t),
                    !this.b && (l = (o = this.g).length)) {
                        for (e = 90,
                        a = 360,
                        n = -90,
                        r = 0; l--; )
                            s = o[l],
                            e = lb(e, s[0]),
                            a = lb(a, s[3]),
                            n = mb(n, s[2]),
                            r = mb(r, s[1]);
                        this.b = new G(-e,a,-n,r - 360)
                    }
                    (t = this.b) && i.push(t),
                    (t = i[0]) && (i[1] && (t = t.wb(i[1], !0)),
                    this.a = t)
                }
                return this.a
            }
            ,
            jf.prototype.remove = function(e) {
                var t, i = !1;
                return e.a ? (i = this.i.remove(e),
                this.f = null) : (i = 0 <= (e = (t = this.g).indexOf(e))) && (t.splice(e, 1),
                this.b = null),
                i && (--this.c,
                this.a = null),
                i
            }
            ,
            v(F, bc),
            r("H.geo.LineString", F),
            F.prototype.o = function(e, t, i) {
                uf(this, e, t, i, this.o)
            }
            ,
            F.prototype.pushLatLngAlt = F.prototype.o,
            F.prototype.i = function(e, t, i) {
                var a;
                return i && pf(i, this.i, 2),
                void 0 === t && (t = this.na.length),
                t && (this.b -= qf(this, e - 3, e + t + 3)),
                a = i ? this.na.splice.apply(this.na, [e, t].concat(i)) : this.na.splice(e, t),
                i && (this.b += qf(this, e - 3, e + i.length + 3)),
                t && !i && (this.b += qf(this, e - 3, e - 3)),
                delete this.a,
                delete this.m,
                a
            }
            ,
            F.prototype.spliceLatLngAlts = F.prototype.i,
            F.prototype.v = function(e, t, i, a) {
                this.i(e, 0, [t, i, a])
            }
            ,
            F.prototype.insertLatLngAlt = F.prototype.v,
            F.prototype.s = function(e) {
                this.i(e, 3)
            }
            ,
            F.prototype.removeLatLngAlt = F.prototype.s,
            F.prototype.c = function(e) {
                uf(this, e.lat, e.lng, e.alt, this.c)
            }
            ,
            F.prototype.pushPoint = F.prototype.c,
            F.prototype.C = function(e, t) {
                this.v(3 * e, t.lat, t.lng, t.alt)
            }
            ,
            F.prototype.insertPoint = F.prototype.C,
            F.prototype.N = function(e) {
                this.s(3 * e)
            }
            ,
            F.prototype.removePoint = F.prototype.N,
            F.prototype.g = function(e, t) {
                var i = 3 * e
                  , a = (r = this.na)[i]
                  , n = r[i + 1]
                  , r = r[i + 2];
                return t && (t.lat = a,
                t.lng = n,
                t.alt = r,
                void 0 !== r && this.j && (t.ctx = this.j)),
                t || new gc(a,n,r,null != r ? this.j : void 0)
            }
            ,
            F.prototype.extractPoint = F.prototype.g,
            F.prototype.B = function(e, t, i) {
                var a = this.na;
                t = t || 0,
                i = we(i, a.length / 3);
                for (var n = 3 * t; t < i; )
                    e(a[n++], a[n++], a[n++], t++)
            }
            ,
            F.prototype.eachLatLngAlt = F.prototype.B;
            var tf = ac;
            function pf(e, t, i) {
                for (var a, n = e.length, r = !(n % 3); r && n; )
                    r = !(D(e[--n] = Yb((a = e[n]) === A ? 0 : a)) || D(e[--n] = Xb(e[n])) || D(e[--n] = Wb(e[n])));
                if (!r && t)
                    throw new C(t,i,e)
            }
            function vf(e) {
                var t = new F
                  , i = 0
                  , a = e.length;
                if (a % 2)
                    throw new C(vf,0,e);
                for (; i < a; )
                    uf(t, e[i++], e[i++], 0, vf);
                return t
            }
            function wf(e, t) {
                return e.ke - t.ke
            }
            function xf(e) {
                var t, i, a, n, r, o, s, l = e.m;
                if (!l)
                    for (l = e.m = new jf,
                    t = 0,
                    i = (e = e.na).length,
                    a = 0; a < i; a += 3) {
                        if (n = e[a],
                        r = e[a + 1],
                        a) {
                            var c = void 0
                              , h = void 0
                              , p = void 0
                              , d = void 0;
                            s < r ? (c = s,
                            p = r) : (c = r,
                            p = s),
                            o < n ? (h = n,
                            d = o) : (h = o,
                            d = n),
                            (o = kf(l, h, c, d, p, 180 < p - c)).ke = t++
                        }
                        o = n,
                        s = r
                    }
                return l
            }
            function yf(e, t) {
                var i, a, n, r, o, s, l, c, h = e.na, p = -2, d = [];
                for (n = (i = of(xf(e), t).sort(wf)).length,
                r = 0; r < n; r++)
                    o = 3 * (a = (a = i[r]).ke),
                    a > p + 1 && (s = [h[o], h[o + 1]],
                    d.push(s)),
                    p = a,
                    s.push(h[o + 3], h[o + 4]);
                if (e.b) {
                    for (h = [],
                    n = d.length,
                    r = 0; r < n; r++)
                        if (p = (s = d[r]).length) {
                            for (a = [],
                            i = 0; i < p; i += 2)
                                o = s[i],
                                l = s[i + 1],
                                a.push(o, l),
                                c = s[i - 1],
                                i && ac(l, c) && (h.push(a),
                                c += 0 > c ? 360 : -360,
                                (a = []).push(s[i - 2], c, o, l));
                            h.push(a)
                        }
                    d = h
                }
                return d
            }
            function zf(e) {
                var t, i, a, n;
                if (e) {
                    for (t = Af,
                    n = B(e, zf); t--; )
                        if (i = Bf[t],
                        e.hasOwnProperty(i))
                            if (a = e[i],
                            n)
                                this[i] = a;
                            else {
                                if ((a = Cf[t](a)) === Df)
                                    throw new C(zf,0,i + ": " + e[i]);
                                a !== this[i] && a !== A && (this[i] = a)
                            }
                    (t = n ? e.b : this.lineWidth && ue(this.strokeColor)) || (this.b = t),
                    (t = n ? e.c : ue(this.fillColor)) || (this.c = t),
                    (t = n ? e.a : "none" !== this.strokeColor && this.lineWidth) || (this.a = t)
                }
                Na(this)
            }
            F.isDBC = tf,
            F.prototype.l = function(e) {
                var t = this.b;
                return e && (t += ac((e = this.na)[e.length - 2], e[1])),
                t
            }
            ,
            F.prototype.getDBCs = F.prototype.l,
            F.prototype.f = function() {
                return this.na.length / 3
            }
            ,
            F.prototype.getPointCount = F.prototype.f,
            F.prototype.A = function() {
                return this.na
            }
            ,
            F.prototype.getLatLngAltArray = F.prototype.A,
            F.prototype.a = x,
            F.prototype.S = function() {
                var e;
                if (!(e = this.a)) {
                    var t, i, a, n, r, o = (e = this.na).length, s = 3, l = x, c = We;
                    if (3 <= o)
                        for (l = new G(t = i = e[0],a = n = e[1],i,n); s < o; s += 3)
                            t = e[s - 3],
                            a = e[s - 2],
                            i = e[s],
                            (a > (n = e[s + 1]) && 180 < n - a || a < n && -180 > a - n || n < a && 180 > rb(n - a)) && (r = a,
                            a = n,
                            n = r),
                            t < i && (r = t,
                            t = i,
                            i = r),
                            c(l.ka, l.ga, l.ja, l.ha, t, a, i, n, l);
                    e = this.a = l
                }
                return e
            }
            ,
            F.prototype.getBounds = F.prototype.S,
            F.prototype.F = function() {
                return this.a !== x
            }
            ,
            F.prototype.hasBounds = F.prototype.F,
            F.fromLatLngArray = vf,
            F.prototype.pa = function(e) {
                var t, i, a = this === e;
                if (!a && (a = B(e, F)))
                    for (t = this.na,
                    e = e.na,
                    a = (i = t.length) === e.length; a && i--; )
                        a = t[i] == e[i];
                return a
            }
            ,
            F.prototype.equals = F.prototype.pa,
            F.prototype.qd = "LINESTRING",
            F.prototype.Lb = function(e) {
                var t, i = this.na, a = i.length;
                if (a) {
                    for (e.push("("),
                    t = 0; t < a; t += 3)
                        t && e.push(","),
                        e.push(i[t + 1], " ", i[t]);
                    e.push(")")
                } else
                    e.push("EMPTY");
                return e
            }
            ,
            r("H.geo.Strip", F),
            r("H.map.SpatialStyle", zf),
            zf.prototype.c = !0,
            zf.prototype.b = !0,
            zf.prototype.a = !0;
            var Bf = [];
            zf.prototype[Bf[0] = "strokeColor"] = "rgba(0,85,170,.6)",
            zf.prototype[Bf[1] = "fillColor"] = "rgba(0,85,170,.4)",
            zf.prototype[Bf[2] = "lineWidth"] = 2,
            zf.prototype[Bf[3] = "lineCap"] = "round",
            zf.prototype[Bf[4] = "lineJoin"] = "miter",
            zf.prototype[Bf[5] = "miterLimit"] = 10,
            zf.prototype[Bf[6] = "lineDash"] = De,
            zf.prototype[Bf[7] = "lineDashOffset"] = 0;
            var Af = Bf.length;
            zf.prototype.pa = function(e) {
                var t, i;
                if (!(t = this === e) && e) {
                    for (t = 0; t < Af && this[i = Bf[t]] === e[i]; t++)
                        ;
                    t = t === Af
                }
                return t
            }
            ,
            zf.prototype.equals = zf.prototype.pa,
            zf.prototype.f = function(e) {
                var t;
                return e ? Ca(t = {}, this, e) : t = this,
                new zf(t)
            }
            ,
            zf.prototype.getCopy = zf.prototype.f;
            var Df = Na({})
              , Cf = [function(e) {
                return e ? La(e) : Df
            }
            , function(e) {
                return e ? La(e) : Df
            }
            , function(e) {
                return 0 <= e && 100 >= e ? +e : Df
            }
            , function(e) {
                return "butt" === (e = La(e)) || "square" === e || "round" === e ? e : Df
            }
            , function(e) {
                return "round" === e || "bevel" === e || "miter" === e ? e : Df
            }
            , function(e) {
                return 0 < e && 100 >= e ? +e : Df
            }
            , function(e) {
                return e && e.every && e.every(bb) ? e : Df
            }
            , function(e) {
                return D(+e) ? Df : +e
            }
            ];
            zf.MAX_LINE_WIDTH = 100;
            var Ef = new zf;
            function Ff(e) {
                var t, i, a;
                if (e) {
                    for (i in t = B(e, Ff),
                    e)
                        i in this && ((a = e[i]) !== this[i] && ("fillColor" === i || 0 < (a = +a)) && (this[i] = a));
                    (e = t ? e.fd : !!(ue(this.fillColor) && this.width && this.width)) || (this.fd = e)
                }
                Na(this)
            }
            function Gf(e, t) {
                var i;
                Gf.u.constructor.call(this, t),
                t && this.O(t.style),
                e && (this.B = !0),
                t && (i = t.arrows) && this.Vb(i)
            }
            function Hf(e, t) {
                var i, a = !1, n = !1;
                if (t.length) {
                    for (a = 0; a < t.length; a++)
                        if (t[a] !== If) {
                            n = !0;
                            break
                        }
                    a = e.style,
                    a = n ? a.b || a.c && e.B || (i = e.s || !1) && a.a && i.fd : a.c
                }
                return a && e.getVisibility(!0)
            }
            function Jf(e, t) {
                Jf.u.constructor.call(this, e, t)
            }
            function Kf(e, t, i, a) {
                var n, r, o = [], s = t.length;
                for (n = 0; n < s; n++)
                    (r = t[n]).length && o.push(Lf(e, r, i, a));
                return o
            }
            function Lf(e, t, i, a) {
                var n, r = [], o = t.length, s = 0;
                for (e.Va = 0,
                n = n || 0; s < o; )
                    r.push(Mf(e, t[s++], t[s++], n, a));
                return i && r.push(Mf(e, t[0], t[1], n, a)),
                r
            }
            function Mf(e, t, i, a, n) {
                var r = e.Va;
                return r && 180 < rb(r - i) && (i += 0 > r ? -360 : 360),
                e.Va = i,
                n.f(t, i + a)
            }
            function Nf(e, t, i) {
                for (var a, n, r, o = t, s = e.length + t; o--; ) {
                    for (n = (t = e[o]).length,
                    a = Array(n); n--; )
                        r = t[n],
                        a[n] = new M(r.x + i,r.y);
                    e[--s] = a
                }
            }
            zf.DEFAULT_STYLE = Ef,
            r("H.map.ArrowStyle", Ff),
            Ff.prototype.fd = !0,
            Ca(Ff.prototype, {
                fillColor: "rgba(255,255,255,.75)",
                width: 1.2,
                length: 1.6,
                frequency: 5
            }),
            Ff.prototype.pa = function(e) {
                var t = this === e;
                return !t && e && (t = e.width === this.width && e.fillColor === this.fillColor && e.length === this.length && e.frequency === this.frequency),
                t
            }
            ,
            Ff.prototype.equals = Ff.prototype.pa,
            v(Gf, K),
            r("H.map.Spatial", Gf),
            Gf.prototype.type = Pe.SPATIAL,
            Gf.prototype.je = 0,
            Gf.prototype.style = Ef,
            Gf.prototype.Na = function() {
                return this.style
            }
            ,
            Gf.prototype.getStyle = Gf.prototype.Na,
            Gf.prototype.O = function(e) {
                var t = this.style
                  , i = !0;
                return e ? this.style = B(e, zf) ? e : new zf(e) : this.style ? delete this.style : i = !1,
                i && (this.dispatchEvent(new Ne("stylechange",this.style,t)),
                this.invalidate(Me.VISUAL)),
                this
            }
            ,
            Gf.prototype.setStyle = Gf.prototype.O,
            Gf.prototype.jc = function() {
                return this.s
            }
            ,
            Gf.prototype.getArrows = Gf.prototype.jc,
            Gf.prototype.Vb = function(e) {
                var t = this.s
                  , i = !1;
                return !e && t ? (delete this.s,
                i = !0) : !e || t && t.pa(e) || (this.s = new Ff(e),
                i = !0),
                i && "none" !== this.style.strokeColor && this.ua(1),
                this
            }
            ,
            Gf.prototype.setArrows = Gf.prototype.Vb,
            Gf.prototype.B = !1,
            Gf.prototype.be = function() {
                return this.B
            }
            ,
            Gf.prototype.isClosed = Gf.prototype.be,
            Gf.prototype.getGeometriesForTile = Gf.prototype.ec,
            Gf.prototype.ba = function() {
                return x
            }
            ,
            Gf.prototype.getLabels = Gf.prototype.ba,
            v(Jf, Gf),
            r("H.map.GeoShape", Jf),
            Jf.prototype.getStrip = Jf.prototype.b,
            Jf.prototype.setStrip = Jf.prototype.f,
            Jf.prototype.getBounds = Jf.prototype.S;
            var Of = new F([0, 0, 0, 0, 0, 0, 0, 0, 0]);
            function Pf(e) {
                Ua(this, Pf),
                Pf.u.constructor.call(this),
                this.ma = Qf(this, e, this.constructor, 0)
            }
            function Qf(e, t, i, a) {
                var n, r = [];
                if (!Za(t))
                    throw new C(i,a);
                for (n = 0; n < t.length; n++) {
                    if (!e.c(t[n]))
                        throw new C(i,a);
                    r.push(e.l(t[n]))
                }
                return r
            }
            function Rf(e) {
                Rf.u.constructor.call(this, e)
            }
            function Sf(e, t, i) {
                this.Ra = e,
                t !== A && (this.a = t),
                i !== A && (this.b = i)
            }
            v(Pf, bc),
            r("H.geo.MultiGeometry", Pf),
            Pf.prototype.splice = function(e, t, i) {
                return e = [e],
                t !== A && e.push(t),
                i && (t = Qf(this, i, this.splice, 2),
                e = e.concat(t)),
                this.a = x,
                this.ma.splice.apply(this.ma, e)
            }
            ,
            Pf.prototype.splice = Pf.prototype.splice,
            Pf.prototype.f = function(e) {
                var t = this.ma.length;
                if (!(0 <= e && e < t))
                    throw new ec(this.f,e,[0, t - 1]);
                return this.a = x,
                this.ma.splice(e, 1)[0]
            }
            ,
            Pf.prototype.removeAt = Pf.prototype.f,
            Pf.prototype.remove = function(e) {
                var t;
                return 0 <= (e = this.ma.indexOf(e)) && (t = this.ma.splice(e, 1)[0],
                this.a = x),
                t || x
            }
            ,
            Pf.prototype.remove = Pf.prototype.remove,
            Pf.prototype.j = function() {
                return this.ma
            }
            ,
            Pf.prototype.getGeometries = Pf.prototype.j,
            Pf.prototype.push = function(e) {
                var t = Qf(this, [e], this.push, 0)[0];
                this.a && (this.a = this.a.wb(e.S())),
                this.ma.push(t)
            }
            ,
            Pf.prototype.push = Pf.prototype.push,
            Pf.prototype.S = function() {
                var e, t, i;
                if (!(e = this.a) && (e = x,
                this.ma.length))
                    for (e = this.ma[0].S(),
                    i = 1; i < this.ma.length; i++)
                        (t = this.ma[i].S()) && (e = e ? e.wb(t) : t);
                return this.a = e
            }
            ,
            Pf.prototype.getBounds = Pf.prototype.S,
            Pf.prototype.a = x,
            Pf.prototype.c = function(e) {
                return B(e, this.b)
            }
            ,
            Pf.prototype.l = function(e) {
                return e
            }
            ,
            Pf.prototype.pa = function(e) {
                var t, i, a = this === e;
                if (!a && (a = B(e, this.constructor)))
                    for (t = this.ma,
                    e = e.ma,
                    a = (i = t.length) === e.length; a && i--; )
                        a = t[i].pa(e[i]);
                return a
            }
            ,
            Pf.prototype.equals = Pf.prototype.pa,
            Pf.prototype.Lb = function(e) {
                var t, i, a = this.ma, n = a.length, r = !1;
                if (n) {
                    for (e.push("("),
                    t = 0; t < n; t++)
                        (i = 0 < t && r) && e.push(","),
                        a[t].Lb(e),
                        "EMPTY" === e[e.length - 1] ? e.splice(-1 - i, 1 + i) : r = !0;
                    r ? e.push(")") : e.splice(-1, 1, "EMPTY")
                } else
                    e.push("EMPTY");
                return e
            }
            ,
            Pf.prototype.toString = function() {
                return this.Lb(["MULTI", this.b.prototype.qd, " "]).join("")
            }
            ,
            v(Rf, Pf),
            r("H.geo.MultiPolygon", Rf),
            Rf.prototype.b = E,
            Sf.prototype.a = Lb,
            Sf.prototype.b = Lb;
            var If = Oa(new Sf([]))
              , Tf = Na([]);
            function Uf(e, t) {
                Uf.u.constructor.call(this, !0, t),
                B(e, F) ? this.c(new E(e)) : this.c(e)
            }
            function Vf(e, t, i, a) {
                var n, r, o, s, l = 0, c = !0;
                if (n = Xf(e, t.$a, i, a, t.S())) {
                    if (r = new Sf(n),
                    s = (o = t.lb).length)
                        for (r.a = r.Ra.length; l < s; l++)
                            (n = Xf(e, o[l], i, a, t.ig(l))) && (r.Ra = r.Ra.concat(n));
                    for (s = r.Ra.length,
                    l = 0; l < s; l++)
                        if (r.Ra[l] !== Tf) {
                            c = !1;
                            break
                        }
                    c && (r = l % 2 ? If : A)
                }
                return r
            }
            function Xf(e, t, i, a, n) {
                var r, o = i.j(), s = Yf(t, n);
                if (e = Kf(e, s, !0, r = i.B()),
                360 === n.ab() && 1 === t.l(!0) % 2) {
                    var l, c, h;
                    for (t = e,
                    e = i.j(),
                    t[0][1].x > t[0][t[0].length - 1].x && (t[0] = t[0].reverse()),
                    c = [],
                    l = t[0].length - 1,
                    s = 0; s < l; s++)
                        h = t[0][s],
                        c[s] = new M(h.x - 2 * r.w,h.y),
                        c[s + l] = new M(h.x - r.w,h.y),
                        c[s + 2 * l] = new M(h.x,h.y),
                        c[s + 3 * l] = new M(h.x + r.w,h.y),
                        c[s + 4 * l] = new M(h.x + 2 * r.w,h.y);
                    t[0] = c,
                    (r = r.f(a, 0)).y = 2 * e[a === cc.NORTH ? "top" : "bottom"],
                    a = r.clone(),
                    r.x = t[0][t[0].length - 1].x + 1,
                    a.x = t[0][0].x - 1,
                    t[0].push(r, a),
                    e = t
                }
                if (Zf(t = e, a = o.left, r = o.top, e = o.right, o = o.bottom, !0).length) {
                    if (!i.s().j(n)) {
                        for (i = t,
                        n = [new M(a,r), new M(e,r), new M(e,o), new M(a,o)],
                        o = [],
                        a = i.length; a--; ) {
                            t = i[a],
                            c = s = void 0,
                            r = $f(n),
                            t = $f(t);
                            var p = h = void 0
                              , d = void 0
                              , u = void 0
                              , g = void 0
                              , m = void 0
                              , f = d = e = void 0;
                            switch (l = e = void 0,
                            e = {},
                            l = s = 1,
                            c = ~~(1 * (c = 0))) {
                            case 1:
                                l = s = 0;
                                break;
                            case 2:
                                s = 0,
                                l = 1;
                                break;
                            case 3:
                                s = 1,
                                l = 0
                            }
                            c = l,
                            l = s;
                            var y = u = void 0;
                            d = h = s = void 0;
                            if (t && r) {
                                for (t.zd = ag(t.x, t.y, null, bg(t)),
                                r.zd = ag(r.x, r.y, null, bg(r)),
                                h = t; h.next; h = h.next)
                                    if (!h.bb)
                                        for (p = r; p.next; p = p.next)
                                            !p.bb && (d = dg(h, u = cg(h.next), p, y = cg(p.next), e)) && (d = e.Kh,
                                            f = e.Zf,
                                            eg(d = ag(g = e.Hi, m = e.Ii, null, null, null, null, 1, 0, 0, d), h, u),
                                            eg(u = ag(g, m, null, null, null, null, 1, 0, 0, f), p, y),
                                            d.df = u,
                                            u.df = d);
                                for (e = fg(t, r),
                                l && (e = 1 - e),
                                h = t; h; h = h.next)
                                    h.bb && (h.Ce = e,
                                    e = 1 - e);
                                for (e = fg(r, t),
                                c && (e = 1 - e),
                                p = r; p.next; p = p.next)
                                    p.bb && (p.Ce = e,
                                    e = 1 - e);
                                for (gg(t),
                                gg(r); (e = hg(t)) != t; ) {
                                    for (h = null; !e.ie; e = e.df) {
                                        for (l = e.Ce; h = ag(e.x, e.y, h),
                                        e.ie = 1,
                                        e = l ? e.next : e.nb; )
                                            if (e.bb) {
                                                e.ie = 1;
                                                break
                                            }
                                        if (!e)
                                            break
                                    }
                                    h.ef = s,
                                    s = h
                                }
                                r = s
                            } else
                                r = void 0;
                            if (r)
                                for (t = ig(r),
                                o.push(t); r.ef; )
                                    t = ig(r = r.ef),
                                    o.push(t)
                        }
                        t = o
                    }
                } else
                    i = jg(a, r, t[0]),
                    t[1] && (i ^= jg(a, r, t[1])),
                    t = i ? [Tf] : A;
                return t
            }
            function jg(e, t, i) {
                var a, n, r, o, s, l, c, h;
                for (n = o = i[0].x,
                r = s = i[0].y,
                a = 1,
                h = i.length; a < h; a++)
                    (l = i[a].x) > o ? o = l : l < n && (n = l),
                    (c = i[a].y) > s ? s = c : c < r && (r = c);
                return n <= e && e <= o && r <= t && t <= s && 1 === fg({
                    x: e,
                    y: t
                }, i.concat(i[0]))
            }
            function ig(e) {
                var t, i, a, n = [], r = e;
                do {
                    i = nb(100 * (r.ti ? r.ti : r.x)) / 100,
                    a = nb(100 * (r.ui ? r.ui : r.y)) / 100,
                    (!t || .01 < tb(ub(t.x - i, 2) + ub(t.y - a, 2))) && (t = new M(i,a),
                    n.push(t)),
                    r = r.next
                } while (r && r !== e);return n
            }
            function Wf(e) {
                var t = e.Ub;
                return t === A && (t = e.m ? cc.NORTH : e.Ca().hc),
                t
            }
            function Yf(e, t) {
                var i, a, n = t.ab();
                i = [[]];
                var r, o, s, l = [], c = (a = e.na).length, h = !1;
                for (r = 0; r < c; r += 3)
                    o = a[r],
                    s = a[r + 1],
                    h || 180 != rb(s) || (l.push(o),
                    l.push(s),
                    l.push(o),
                    l.push(-s),
                    h = !0),
                    l.push(o),
                    l.push(s);
                if (a = l,
                360 > n && -180 == t.ga && (t = new G(t.ka,180,t.ja,t.ha)),
                360 > n && 180 == t.ha && (t = new G(t.ka,t.ga,t.ja,-180)),
                t.g()) {
                    for (o = (n = a).length,
                    a = -1,
                    l = 0; l < o - 2; l += 2)
                        if (ac(n[l + 1], n[l + 3])) {
                            a = l + 2;
                            break
                        }
                    -1 === a && ac(n[o - 1], n[1]) && (a = o),
                    -1 !== a && (c = n[a - 2],
                    l = n[a - 1],
                    r = n[a % o],
                    h = n[(a + 1) % o],
                    180 !== rb(c) && 180 !== rb(r) && (s = rb(r - c),
                    o = rb(h - l),
                    o += 180 < o ? -360 : 0,
                    h = rb(180 - h),
                    h += 180 < h ? -360 : 0,
                    o && h && (s /= rb(o) / rb(h),
                    c = r + (r > c ? -s : s),
                    l = 0 < l ? 180 : -180,
                    n.splice(a, 0, c, l, c, -l)))),
                    a = n
                }
                return i[0] = kg([].concat(a), t.ga),
                360 > t.ab() && t.Vc(new gc(t.ka,180)) && (a = kg([].concat(a), t.ha),
                i.push(a)),
                i
            }
            function kg(e, t) {
                var i, a = [], n = Number.POSITIVE_INFINITY, r = -1, o = e.length;
                for (a = 0; a < o; a += 2)
                    i = rb(e[a + 1] - t),
                    (i += 180 < i ? 360 - i : i) < n && (n = i,
                    r = a);
                return 0 < a ? (a = e.splice(r, e.length - r)).concat(e) : e
            }
            function lg(e, t, i) {
                lg.u.constructor.call(this, Of, i),
                this.Za(e),
                this.wa(t),
                i && "precision"in i && this.sa(i.precision)
            }
            function mg(e) {
                e.i !== x && lg.u.c.call(e, ng(e))
            }
            function ng(e) {
                var t = e.o
                  , i = t.lat
                  , a = e.Ba
                  , n = 0
                  , r = new F;
                if (90 === rb(i))
                    for (i = t.Gf(0, a, !0).lat; 360 > n; n += 120)
                        r.o(i, n - 180, A);
                else
                    for (e = 360 / (e = e.a); 360 > n; n += e)
                        r.c(t.Gf(n, a, !0));
                return t = new E(r),
                0 > i && t.i(cc.SOUTH),
                t
            }
            function og(e) {
                og.u.constructor.call(this, e)
            }
            function pg(e, t) {
                pg.u.constructor.call(this, !1, t),
                this.c(e)
            }
            function qg(e, t) {
                if (!B(e, F) || 2 > e.f())
                    throw new C(t,0)
            }
            function rg(e, t, i, a) {
                var n, r = yf(t, i.s());
                r.length && (r = (e = Kf(e, r, !1, t = i.B())).length) && (n = i.j(),
                t = t.w,
                i.x || Nf(e, r, -t),
                i.x === (1 << i.z) - 1 && Nf(e, r, t),
                (i = Zf(e, n.left, n.top, n.right, n.bottom, !1)).length && a.push(new Sf(i)))
            }
            function sg(e) {
                sg.u.constructor.call(this, e)
            }
            function tg(e, t, i) {
                var a, n = 6;
                if (t) {
                    for (a = ' expected close to: "' + t; n--; )
                        -1 !== (t = e.a.next()) && (a += String.fromCharCode(t));
                    a += '"'
                }
                throw new C(ug,0,"- Malformed WKT: " + (a ? i + a : "unexpected end of stream"))
            }
            v(Uf, Jf),
            r("H.map.Polygon", Uf),
            Uf.prototype.i = x,
            Uf.prototype.Ca = function() {
                return this.i
            }
            ,
            Uf.prototype.getGeometry = Uf.prototype.Ca,
            Uf.prototype.c = function(e) {
                var t;
                return e === x || B(e, E) ? t = !1 : (B(e, Rf, this.c, 0),
                t = !0),
                this.m = t,
                t = this.i,
                this.i = e,
                t !== x && this.ua(Me.SPATIAL),
                this
            }
            ,
            Uf.prototype.setGeometry = Uf.prototype.c,
            Uf.prototype.b = function() {
                var e = B(this.i, E) ? this.i : this.i.ma[0];
                return jb(this.b, "See H.map.Polygon#getGeometry"),
                e.$a
            }
            ,
            Uf.prototype.getStrip = Uf.prototype.b,
            Uf.prototype.f = function(e) {
                var t;
                if (jb(this.f, "See H.map.Polygon#setGeometry"),
                B(e, F, this.f, 0),
                3 > e.f())
                    throw new C(this.f,0);
                return t = this.b(),
                this.c(new E(e)),
                this.dispatchEvent(new Ne("stripchange",this.b(),t)),
                this
            }
            ,
            Uf.prototype.setStrip = Uf.prototype.f,
            Uf.prototype.S = function() {
                return this.Ca().S()
            }
            ,
            Uf.prototype.getBounds = Uf.prototype.S,
            Uf.prototype.ec = function(e) {
                var t, i, a, n, r = this.Ca();
                if (this.m)
                    for (n = 0,
                    a = (r = r.ma).length; n < a; n++)
                        (i = Vf(this, r[n], e, r[n].hc)) && (t || (t = []),
                        t.push(i));
                else
                    (i = Vf(this, r, e, Wf(this))) && (t = [i]);
                return t
            }
            ,
            Uf.prototype.getGeometriesForTile = Uf.prototype.ec,
            Uf.prototype.kb = x,
            Uf.prototype.A = function(e) {
                return e = e ? cc.NORTH : cc.SOUTH,
                jb(this.A, "See H.geo.Polygon#setPoleCovering"),
                this.Ub !== e && (this.Ub = e,
                this.m || this.ua(Me.SPATIAL)),
                this
            }
            ,
            Uf.prototype.setNorthPoleCovering = Uf.prototype.A,
            Uf.prototype.Ya = function() {
                return jb(this.Ya, "See H.geo.Polygon#getPoleCovering"),
                Wf(this) === cc.NORTH
            }
            ,
            Uf.prototype.getNorthPoleCovering = Uf.prototype.Ya,
            Uf.prototype.Tb = function() {
                var e, t, i, a = this.Ca();
                if (jb(Uf.prototype.Tb),
                this.m)
                    for (i = (e = a.ma).length,
                    a = [],
                    t = 0; t < i; t++)
                        a = a.concat(Yf(e[t].$a, e[t].S()));
                else
                    a = Yf(a.$a, a.S());
                return a
            }
            ,
            Uf.prototype.clip = Uf.prototype.Tb,
            v(lg, Uf),
            r("H.map.Circle", lg),
            lg.prototype.Za = function(e) {
                (e = ic(e)).pa(this.o) || (this.o = e,
                mg(this))
            }
            ,
            lg.prototype.setCenter = lg.prototype.Za,
            lg.prototype.Oa = function() {
                return this.o
            }
            ,
            lg.prototype.getCenter = lg.prototype.Oa,
            lg.prototype.wa = function(e) {
                if (D(e = Qb(e, 0, 6371000.79 * Db / 2)))
                    throw new C(this.wa,0,e);
                this.Ba !== e && (this.Ba = e,
                mg(this))
            }
            ,
            lg.prototype.setRadius = lg.prototype.wa,
            lg.prototype.Zd = function() {
                return this.Ba
            }
            ,
            lg.prototype.getRadius = lg.prototype.Zd,
            lg.prototype.a = 60,
            lg.prototype.sa = function(e) {
                if (!ab(e))
                    throw new C(this.sa,0,e);
                this.a !== (e = Qb(nb(e), 4, 360)) && (this.a = e,
                mg(this))
            }
            ,
            lg.prototype.setPrecision = lg.prototype.sa,
            lg.prototype.Yd = function() {
                return this.a
            }
            ,
            lg.prototype.getPrecision = lg.prototype.Yd,
            lg.prototype.A = function() {
                return this
            }
            ,
            lg.prototype.setNorthPoleCovering = lg.prototype.A,
            lg.prototype.c = function() {
                return this
            }
            ,
            lg.prototype.setGeometry = lg.prototype.c,
            lg.prototype.Ca = function() {
                return this.i || lg.u.c.call(this, ng(this)),
                this.i
            }
            ,
            lg.prototype.getGeometry = lg.prototype.Ca,
            lg.prototype.f = function() {
                return this
            }
            ,
            lg.prototype.setStrip = lg.prototype.f,
            lg.prototype.b = function() {
                return this.Ca().$a
            }
            ,
            lg.prototype.getStrip = lg.prototype.b,
            v(og, Pf),
            r("H.geo.MultiLineString", og),
            og.prototype.b = F,
            v(pg, Jf),
            r("H.map.Polyline", pg),
            pg.prototype.S = function() {
                return this.a.S()
            }
            ,
            pg.prototype.getBounds = pg.prototype.S,
            pg.prototype.f = function(e) {
                var t;
                return jb(this.f, "See H.map.Polyline#setGeometry"),
                qg(e, this.f),
                t = this.b(),
                this.c(e),
                this.dispatchEvent(new Ne("stripchange",this.b(),t)),
                this
            }
            ,
            pg.prototype.setStrip = pg.prototype.f,
            pg.prototype.b = function() {
                return jb(this.b, "See H.map.Polyline#getGeometry"),
                B(this.a, F) ? this.a : this.a.ma[0]
            }
            ,
            pg.prototype.getStrip = pg.prototype.b,
            pg.prototype.a = x,
            pg.prototype.c = function(e) {
                var t, i, a, n = this.c;
                if (B(e, og)) {
                    if (!(i = (t = e.ma).length))
                        throw new C(n,0);
                    for (a = 0; a < i; a++)
                        qg(t[a], n)
                } else
                    qg(e, n);
                return this.m = !!t,
                this.a = e,
                this.ua(Me.SPATIAL),
                this
            }
            ,
            pg.prototype.setGeometry = pg.prototype.c,
            pg.prototype.Ca = function() {
                return this.a
            }
            ,
            pg.prototype.getGeometry = pg.prototype.Ca,
            pg.prototype.i = function(e) {
                var t = this.a;
                return yf(this.m ? t.ma[0] : t, e)
            }
            ,
            pg.prototype.clip = pg.prototype.i,
            pg.prototype.ec = function(e) {
                var t;
                t = this.a;
                var i, a = [];
                if (this.m)
                    for (i = (t = t.ma).length; i--; )
                        rg(this, t[i], e, a);
                else
                    rg(this, t, e, a);
                return a.length ? a : A
            }
            ,
            pg.prototype.getGeometriesForTile = pg.prototype.ec,
            v(sg, Pf),
            r("H.geo.MultiPoint", sg),
            sg.prototype.c = function(e) {
                return hc(e)
            }
            ,
            sg.prototype.l = function(e) {
                return B(e, gc) ? e : ic(e)
            }
            ,
            sg.prototype.b = gc;
            var vg = {
                Eh: " ",
                Ch: "(",
                Dh: ")",
                sh: ",",
                wh: ""
            };
            function wg(e, t) {
                var i = e.next()
                  , a = t ? ")" : "(";
                i !== a && tg(e, i, '"' + a + '"')
            }
            function xg(e) {
                return "," === yg(e) && (e.next(),
                !0)
            }
            function zg(e, t, i, a, n) {
                var r, o, s = 2 + t + i;
                for (o = 1; o <= s; o++)
                    (i = e.next()) ? (r = +i) !== r ? tg(e, i, "number") : 1 === o ? a[n + 1] = r : 2 === o ? a[n + 0] = r : 3 === o && (a[n + 2] = r) : tg(e, i);
                t || (a[n + 2] = 0)
            }
            Object.keys(vg).reduce(function(e, t) {
                return e[vg[t]] = !0,
                e
            }, Ka());
            var Ag = [];
            function Bg(e, t, i, a) {
                return a || wg(e, 0),
                zg(e, t, i, Ag, 0),
                a || wg(e, 1),
                new gc(Ag[0],Ag[1],t ? Ag[2] : A)
            }
            function Cg(e, t, i) {
                var a = [];
                wg(e, 0);
                do {
                    zg(e, t, i, a, a.length)
                } while (xg(e));return wg(e, 1),
                new F(a)
            }
            function Dg(e, t, i) {
                var a, n;
                if (wg(e, 0),
                a = Cg(e, t, i),
                xg(e)) {
                    n = [];
                    do {
                        n.push(Cg(e, t, i))
                    } while (xg(e))
                }
                return wg(e, 1),
                new E(a,n)
            }
            var Eg = []
              , Fg = [Dg]
              , Gg = [Bg]
              , Hg = {
                POINT: Gg,
                LINESTRING: [Cg],
                POLYGON: Fg,
                MULTIPOINT: [Bg, sg],
                MULTILINESTRING: [Cg, og],
                MULTIPOLYGON: [Dg, Rf],
                GEOMETRY: Eg,
                GEOMETRYCOLLECTION: Eg,
                CIRCULARSTRING: Eg,
                COMPOUNDCURVE: Eg,
                CURVEPOLYGON: Eg,
                MULTICURVE: Eg,
                MULTISURFACE: Eg,
                CURVE: Eg,
                SURFACE: Eg,
                POLYHEDRALSURFACE: Eg,
                TIN: Eg,
                TRIANGLE: Eg
            }
              , Ig = {
                Z: 1,
                M: 2,
                ZM: 3
            };
            function ug(e) {
                var t, i, a, n, r;
                if (i = (e = new Jg(e)).next(),
                (t = Hg[i.toUpperCase()]) || tg(e, i, "type name"),
                t !== Eg) {
                    if (i = yg(e),
                    (a = 1 & (i = Ig[i.toUpperCase()])) | (n = i >> 1) && e.next(),
                    "EMPTY" === (i = yg(e)))
                        e.next(),
                        (a = t[1]) ? r = new a([]) : t !== Gg && (r = new F([]),
                        t === Fg && (r = new E(r)));
                    else if ("(" === i) {
                        var o, s;
                        if (r = t[0],
                        t = t[1]) {
                            if (o = [],
                            wg(e, 0),
                            r === Bg) {
                                s = "(" !== yg(e);
                                do {
                                    o.push(r(e, a, n, s))
                                } while (xg(e))
                            } else
                                do {
                                    o.push(r(e, a, n))
                                } while (xg(e));wg(e, 1),
                            a = new t(o)
                        } else
                            a = r(e, a, n);
                        r = a
                    } else
                        tg(e, i, '"Z", "M", "ZM", "(" or "EMPTY"');
                    e.next() && tg(e, i, "end of stream")
                }
                return r || x
            }
            function Jg(e) {
                this.a = e
            }
            function yg(e) {
                var t = e.b;
                if (t === A) {
                    for (t = e.a; t.a() === Kg; )
                        t.next();
                    if (Lg[t.a()])
                        t = (t = t.next()) === Mg ? "" : String.fromCharCode(t);
                    else {
                        t.m();
                        do {
                            t.next()
                        } while (!Lg[t.a()]);t = String.fromCharCode.apply(null, t.l())
                    }
                    e.b = t
                }
                return t
            }
            Jg.prototype.next = function() {
                var e = yg(this);
                return "" !== e && delete this.b,
                e
            }
            ;
            var Kg = 32
              , Mg = -1
              , Ng = {
                Eh: Kg,
                Ch: 40,
                Dh: 41,
                sh: 44,
                wh: Mg
            }
              , Lg = Object.keys(Ng).reduce(function(e, t) {
                return e[Ng[t]] = !0,
                e
            }, Ka());
            function Og() {}
            function Pg(e) {
                this.f = String(e),
                this.g = 0,
                this.b = [],
                this.c = !1
            }
            function Qg(e) {
                var t, i = "" + Ae();
                if (e = e || {},
                this.min = e.min || 0,
                this.max = e.max || 22,
                t = e.uri) {
                    if (/_/.test(t))
                        throw new C(Qg,0,"uri " + t)
                } else
                    t = i;
                this.uri = t || i,
                this.uid = i,
                e.getCopyrights && Xa(e.getCopyrights, "Function", Qg) && (this.getCopyrights = e.getCopyrights),
                Qg.u.constructor.call(this)
            }
            function Rg(e, t) {
                e.dispatchEvent(new Bc(e.F.la,t))
            }
            function Sg(e) {
                var t;
                if (Ua(this, Sg),
                Sg.u.constructor.call(this, e),
                e && "tileSize"in e) {
                    if (t = sb(+e.tileSize) / Cb,
                    isNaN(t) || t % 1 || 0 > t || 30 < t)
                        throw new C(Sg,0,"tileSize: " + e.tileSize);
                    this.tileSize = +e.tileSize
                }
            }
            function Tg(e, t) {
                return Nb(e) - 8 - nb(Nb(t))
            }
            function Ug() {}
            function Vg(e, t, i) {
                if (t && this.c(t),
                i && !sa(i))
                    throw new C(Vg,2,i);
                this.a = 0,
                this.filter = i,
                this.Y = {},
                this.f = this.b = null,
                this.i(e)
            }
            function Wg(e, t) {
                return t && (e.b = Yg(e, t, e.b)),
                t
            }
            function Zg(e) {
                for (; e.a > e.l && e.f; )
                    Xg(e, e.f, !0)
            }
            function Yg(e, t, i) {
                return i !== t && ((t.xb || t.Xb) && Xg(e, t),
                (t.xb = i) && (t.Xb = i.Xb,
                i.Xb = t),
                t.Xb || (e.b = t),
                t.xb || (e.f = t),
                e.a += t.size),
                t
            }
            function Xg(e, t, i) {
                var a = t.Xb
                  , n = t.xb;
                (a || n || t == e.b && t == e.f) && (a ? a.xb = n : e.b = n,
                n ? n.Xb = a : e.f = a,
                e.a -= t.size,
                i && (e.j && e.j(t.id, t.data, t.size),
                delete e.Y[t.id])),
                t.xb = t.Xb = null
            }
            function $g(e, t, i, a) {
                this.key = "",
                this.x = e,
                this.y = t,
                this.z = i,
                this.data = a,
                this.valid = !0
            }
            function N(e) {
                Ua(this, N),
                N.u.constructor.call(this, e),
                this.a = {},
                this.Ha = new ah,
                this.m = z(this.m, this),
                this.g = bh
            }
            r("H.util.ICharStream", Og),
            Og.prototype.next = function() {}
            ,
            Og.prototype.m = function() {}
            ,
            Og.prototype.l = function() {}
            ,
            Og.prototype.a = function() {}
            ,
            r("H.util.CharStream", Pg),
            Pg.prototype.next = function() {
                var e = this.f.charCodeAt(this.g++);
                e = isNaN(e) ? -1 : e;
                return this.c && this.b.push(e),
                e
            }
            ,
            Pg.prototype.m = function() {
                this.c = !0,
                this.b = []
            }
            ,
            Pg.prototype.l = function() {
                var e = this.b.slice();
                return this.c = !1,
                this.b = [],
                e
            }
            ,
            Pg.prototype.a = function(e) {
                return e = this.f.charCodeAt(this.g + (e || 0)),
                isNaN(e) ? -1 : e
            }
            ,
            r("H.util.wkt.toGeometry", function(e) {
                return ug(new Pg(e))
            }),
            v(Qg, I),
            r("H.map.provider.Provider", Qg),
            Qg.prototype.F = {
                la: "update"
            },
            Qg.prototype.D = function() {
                I.prototype.D.call(this)
            }
            ,
            Qg.prototype.Ia = function() {
                return null
            }
            ,
            Qg.prototype.getCopyrights = Qg.prototype.Ia,
            Qg.prototype.s = Ce,
            Qg.prototype.providesSpatials = Qg.prototype.s,
            Qg.prototype.ba = Ce,
            Qg.prototype.providesOverlays = Qg.prototype.ba,
            Qg.prototype.l = Ce,
            Qg.prototype.providesMarkers = Qg.prototype.l,
            Qg.prototype.i = Ce,
            Qg.prototype.providesDomMarkers = Qg.prototype.i,
            v(Sg, Qg),
            r("H.map.provider.TileProvider", Sg),
            Sg.getZoomLevelOffset = Tg,
            Sg.prototype.A = function(e, t, i) {
                return this.uri.concat("_", e, "_", t, "_", i)
            }
            ,
            Sg.prototype.getTileKey = Sg.prototype.A,
            Sg.prototype.Va = 256,
            Sg.prototype.tileSize = Sg.prototype.Va,
            r("H.util.ICache", Ug),
            Ug.prototype.add = function() {}
            ,
            Ug.prototype.add = Ug.prototype.add,
            Ug.prototype.get = function() {}
            ,
            Ug.prototype.get = Ug.prototype.get,
            Ug.prototype.g = function() {}
            ,
            Ug.prototype.drop = Ug.prototype.g,
            Ug.prototype.forEach = function() {}
            ,
            Ug.prototype.forEach = Ug.prototype.forEach,
            Ug.prototype.Ea = function() {}
            ,
            Ug.prototype.removeAll = Ug.prototype.Ea,
            Ug.prototype.c = function() {}
            ,
            Ug.prototype.registerOnDrop = Ug.prototype.c,
            r("H.util.Cache", Vg),
            Vg.prototype.add = function(e, t, i) {
                var a, n;
                if (!ab(i = +i) || 0 > i)
                    throw new C(this.add,2,i);
                return e = String(e),
                a = this.Y[e],
                n = !0,
                this.filter && (n = this.filter(e, t, i)),
                a ? n ? (this.a += i - a.size,
                a.size = i,
                a.data = t,
                Wg(this, a)) : Xg(this, a, !0) : n && (this.Y[e] = Yg(this, {
                    id: e,
                    data: t,
                    size: i,
                    xb: null,
                    Xb: null
                }, this.b)),
                Zg(this),
                n
            }
            ,
            Vg.prototype.add = Vg.prototype.add,
            Vg.prototype.c = function(e) {
                if (!sa(e))
                    throw new C(this.c,0,e);
                this.j = e
            }
            ,
            Vg.prototype.registerOnDrop = Vg.prototype.c,
            Vg.prototype.get = function(e, t) {
                var i = t ? this.Y[e] : Wg(this, this.Y[e]);
                return i && i.data
            }
            ,
            Vg.prototype.get = Vg.prototype.get,
            Vg.prototype.g = function(e) {
                var t;
                (t = this.Y[e]) && Xg(this, t, !0)
            }
            ,
            Vg.prototype.drop = Vg.prototype.g,
            Vg.prototype.forEach = function(e, t, i) {
                var a, n;
                for (n in this.Y)
                    a = this.Y[n],
                    (!i || i(n, a.data, a.size)) && e.call(t, n, a.data, a.size)
            }
            ,
            Vg.prototype.forEach = Vg.prototype.forEach,
            Vg.prototype.Ea = function(e) {
                var t, i;
                for (i in this.Y)
                    t = this.Y[i],
                    (!e || e(i, t.data, t.size)) && Xg(this, this.Y[i], !0)
            }
            ,
            Vg.prototype.removeAll = Vg.prototype.Ea,
            Vg.prototype.i = function(e) {
                if (!(0 < +e))
                    throw new C(Vg.prototype.i,0,e);
                return this.l = +e,
                Zg(this),
                this
            }
            ,
            Vg.prototype.setMaxSize = Vg.prototype.i,
            Vg.prototype.m = function() {
                return this.l
            }
            ,
            Vg.prototype.getMaxSize = Vg.prototype.m,
            Vg.prototype.o = function() {
                return this.a
            }
            ,
            Vg.prototype.getCurrentSize = Vg.prototype.o,
            r("H.map.provider.Tile", $g),
            v(N, Sg),
            r("H.map.provider.RemoteTileProvider", N),
            N.prototype.v = function() {
                return 1
            }
            ,
            N.prototype.getEntryWeight = N.prototype.v;
            var bh = new Vg(65536);
            function ch(e, t, i, a, n, r) {
                var o = e.B();
                return a = ~~a,
                e.requestInternal(t, i, a, function(s, l) {
                    o.gd(e.A(t, i, a), l && {
                        raw: l.zi,
                        timestamp: w.Date.now()
                    }, n, r)
                }, r, 0)
            }
            N.prototype.Ba = function() {
                return this.g
            }
            ,
            N.prototype.getCache = N.prototype.Ba,
            N.prototype.N = ba(0),
            N.prototype.m = function(e) {
                var t = this.uri;
                return !e.indexOf(t) && "_" === e.charAt(t.length)
            }
            ,
            N.prototype.cacheFilter = N.prototype.m,
            N.prototype.sa = function(e, t) {
                t.valid = !1
            }
            ,
            N.prototype.j = function(e) {
                var t, i = this.getCache();
                for (t in e ? i.Ea(this.m) : i.forEach(this.sa, this, this.m),
                this.a)
                    this.a[t].cancel();
                this.a = {},
                Rg(this)
            }
            ,
            N.prototype.reload = N.prototype.j,
            N.prototype.Rc = function() {
                return !1
            }
            ,
            N.prototype.canStore = N.prototype.Rc,
            N.prototype.MAX_STORE_TIME = 1 / 0,
            N.prototype.B = function() {
                return this.Ha
            }
            ,
            N.prototype.getStorage = N.prototype.B,
            N.prototype.Ga = function(e, t) {
                t(e)
            }
            ,
            N.prototype.requestInternal = N.prototype.c,
            N.prototype.o = function(e, t, i, a) {
                var n, r, o, s, l = this, c = this.getCache(), h = this.a, p = this.B();
                if (D(e = +e))
                    throw new C(this.o,0,e);
                if (D(t = +t))
                    throw new C(this.o,0,t);
                if (D(i = +i))
                    throw new C(this.o,0,i);
                return i = ~~i,
                n = this.getTileKey(e, t, i),
                (r = c.get(n)) && r.valid || a || this.a[n] || (h[n] = dh,
                o = function(a) {
                    var o;
                    a && (o = w.Date.now() - a.timestamp),
                    a && o < l.MAX_STORE_TIME ? l.Ga(a.raw, function(o) {
                        delete l.a[n],
                        (r = l.createTileInternal(e, t, i, o, {})).key = n,
                        c.add(n, r, l.v(a)),
                        Rg(l, r)
                    }) : (o && p.remove(n),
                    r = void 0,
                    l.a[n] = l.requestInternal(e, t, i, function(a, o) {
                        (r = l.createTileInternal(e, t, i, a, o)).key = n,
                        c.add(n, r, l.v(a)),
                        delete l.a[n],
                        Rg(l, r)
                    }, function() {
                        delete l.a[n]
                    }),
                    r && delete l.a[n])
                }
                ,
                (s = p.get(n, o, function() {
                    s = l.Ha.get(n, o)
                })) && h[n] === dh && (h[n] = s)),
                r
            }
            ,
            N.prototype.requestTile = N.prototype.o;
            var dh = {
                cancel: function() {}
            };
            function ah() {}
            function eh(e) {
                if (!e || !sa(e.requestData))
                    throw new C(eh,0,"options.requestData");
                eh.u.constructor.call(this, e),
                this.ea = e.requestData,
                this.O = !!e.providesDomMarkers
            }
            function M(e, t) {
                this.x = +e,
                this.y = +t
            }
            function gh(e) {
                if (!e)
                    throw new C(gh,0,e);
                return B(e, M) ? e : new M(e.x,e.y)
            }
            function hh() {}
            N.prototype.createTileInternal = function(e, t, i, a) {
                return new $g(e,t,i,a)
            }
            ,
            N.prototype.K = function(e) {
                var t = this.a[e];
                t && (t.cancel(),
                delete this.a[e])
            }
            ,
            N.prototype.cancelTileByKey = N.prototype.K,
            N.prototype.T = function(e, t, i) {
                this.cancelTileByKey(this.getTileKey(e, t, i))
            }
            ,
            N.prototype.cancelTile = N.prototype.T,
            N.prototype.D = function() {
                var e;
                for (e in N.u.D.call(this),
                this.getCache().Ea(this.m),
                this.a)
                    this.a[e].cancel(),
                    delete this.a[e]
            }
            ,
            N.NullStorage = ah,
            ah.prototype.get = function(e, t) {
                return t(),
                dh
            }
            ,
            ah.prototype.get = ah.prototype.get,
            ah.prototype.gd = function(e, t, i) {
                i && i()
            }
            ,
            ah.prototype.put = ah.prototype.gd,
            ah.prototype.clear = function(e) {
                e && e()
            }
            ,
            ah.prototype.clear = ah.prototype.clear,
            ah.prototype.remove = function(e, t) {
                t && t()
            }
            ,
            ah.prototype.remove = ah.prototype.remove,
            v(eh, N),
            r("H.map.provider.MarkerTileProvider", eh),
            eh.prototype.v = function(e) {
                return e ? e.length + 1 : 1
            }
            ,
            eh.prototype.getEntryWeight = eh.prototype.v,
            eh.prototype.c = function(e, t, i, a, n) {
                var r = this;
                return this.ea(e, t, i, function(n) {
                    for (var o, s, l = [], c = n.length; c--; )
                        (s = n[c]).Di = r.getTileKey(e, t, i),
                        s.ia(r),
                        o = s.sb(),
                        (B(s, fh) || o.getState() === o.Pc.READY) && l.push(n[c]);
                    a(l)
                }, n)
            }
            ,
            eh.prototype.requestInternal = eh.prototype.c,
            eh.prototype.C = function(e, t) {
                var i;
                t !== Me.NONE && ((i = this.g.get(e.Di)) && (i.valid = !1),
                Rg(this, i))
            }
            ,
            eh.prototype.invalidateObject = eh.prototype.C,
            eh.prototype.i = function() {
                return this.O
            }
            ,
            eh.prototype.providesDomMarkers = eh.prototype.i,
            eh.prototype.l = Be,
            eh.prototype.providesMarkers = eh.prototype.l,
            r("H.math.Point", M),
            M.prototype.set = M,
            M.prototype.set = M.prototype.set,
            M.prototype.clone = function(e) {
                return e ? (e.x = this.x,
                e.y = this.y) : e = new M(this.x,this.y),
                e
            }
            ,
            M.prototype.clone = M.prototype.clone,
            M.prototype.add = function(e) {
                return this.x += e.x,
                this.y += e.y,
                this
            }
            ,
            M.prototype.add = M.prototype.add,
            M.prototype.b = function(e) {
                return this.x -= e.x,
                this.y -= e.y,
                this
            }
            ,
            M.prototype.sub = M.prototype.b,
            M.prototype.scale = function(e, t) {
                return this.x *= e,
                this.y *= void 0 === t ? e : t,
                this
            }
            ,
            M.prototype.scale = M.prototype.scale,
            M.prototype.round = function() {
                return this.x = nb(this.x),
                this.y = nb(this.y),
                this
            }
            ,
            M.prototype.round = M.prototype.round,
            M.prototype.floor = function() {
                return this.x = pb(this.x),
                this.y = pb(this.y),
                this
            }
            ,
            M.prototype.floor = M.prototype.floor,
            M.prototype.ceil = function() {
                return this.x = qb(this.x),
                this.y = qb(this.y),
                this
            }
            ,
            M.prototype.ceil = M.prototype.ceil,
            M.prototype.pa = function(e) {
                return !(!e || this.x !== e.x || this.y !== e.y)
            }
            ,
            M.prototype.equals = M.prototype.pa,
            M.prototype.a = function(e, t) {
                var i, a = t.x - e.x, n = t.y - e.y, r = e;
                return (a || n) && (r = 0 >= (i = ((this.x - e.x) * a + (this.y - e.y) * n) / (a * a + n * n)) ? e : 1 <= i ? t : new M(e.x + i * a,e.y + i * n)),
                r
            }
            ,
            M.prototype.getNearest = M.prototype.a,
            M.prototype.distance = function(e) {
                return tb(ub(this.x - e.x, 2) + ub(this.y - e.y, 2))
            }
            ,
            M.prototype.distance = M.prototype.distance,
            M.fromIPoint = gh,
            hh.prototype.zc = function() {}
            ,
            r("H.geo.IProjection.prototype.latLngToPoint", hh.prototype.zc),
            hh.prototype.Aa = function() {}
            ,
            r("H.geo.IProjection.prototype.xyToGeo", hh.prototype.Aa),
            hh.prototype.Fc = function() {}
            ,
            r("H.geo.IProjection.prototype.pointToGeo", hh.prototype.Fc),
            hh.prototype.qb = function() {}
            ,
            r("H.geo.IProjection.prototype.geoToPoint", hh.prototype.qb);
            var ih = {};
            function jh(e, t) {
                this.projection = e || ih,
                this.g = 0,
                this.c = this.exp = sb(t || 256) / Cb,
                kh(this),
                this.y = this.x = 0
            }
            r("H.geo.mercator", ih),
            ih.a = function(e) {
                return lb(1, mb(0, .5 - sb(zb(Fb + Eb * e / 180)) / Db / 2))
            }
            ,
            ih.b = function(e) {
                return e / 360 + .5
            }
            ,
            ih.zc = function(e, t, i) {
                return i ? (i.x = ih.b(t),
                i.y = ih.a(e)) : i = new M(ih.b(t),ih.a(e)),
                i
            }
            ,
            ih.latLngToPoint = ih.zc,
            ih.qb = function(e, t) {
                return ih.zc(e.lat, e.lng, t)
            }
            ,
            ih.geoToPoint = ih.qb,
            ih.f = function(e) {
                return 0 >= e ? 90 : 1 <= e ? -90 : Kb * (2 * Ab(vb(Db * (1 - 2 * e))) - Eb)
            }
            ,
            ih.c = function(e, t) {
                return t ? 0 >= e ? -180 : 1 <= e ? 180 : 360 * Ob(e, 1) - 180 : 360 * (1 === e ? 1 : Ob(e, 1)) - 180
            }
            ,
            ih.Aa = function(e, t, i, a) {
                return i ? (i.lat = ih.f(t),
                i.lng = ih.c(e, a)) : i = new gc(ih.f(t),ih.c(e, a)),
                i
            }
            ,
            ih.xyToGeo = ih.Aa,
            ih.Fc = function(e, t, i) {
                return ih.Aa(e.x, e.y, t, i)
            }
            ,
            ih.pointToGeo = ih.Fc,
            r("H.geo.PixelProjection", jh);
            var lh = rb(28) + rb(-8);
            function kh(e) {
                e.c > lh && (e.c = lh),
                e.w = ub(2, e.c),
                e.h = ub(2, e.c)
            }
            function mh(e) {
                mh.u.constructor.call(this),
                e = e || {},
                this.min = 0,
                this.max = 22,
                this.Oh = !!e.dark,
                e.min && this.B(e.min),
                e.max && this.s(e.max),
                this.pixelProjection = new jh(e.projection,e.minWorldSize)
            }
            function nh(e, t) {
                var i = t || {};
                if (!e)
                    throw new C(oh,0,e);
                this.l = z(this.l, this),
                this.f = e,
                e.addEventListener(Qg.prototype.F.la, this.l, !1, this),
                this.tileSize = e.tileSize,
                this.N = {},
                mh.call(this, {
                    min: e.min,
                    max: e.max,
                    minWorldSize: this.tileSize,
                    projection: i.bj,
                    dark: i.dark
                })
            }
            function rh(e, t, i, a, n) {
                a = pb(a);
                var r = ub(2, a)
                  , o = t.left
                  , s = t.top
                  , l = t.right;
                i = l + (i ? r + (l === t.left ? 0 : 1) : 1);
                var c, h, p = t.bottom, d = [];
                for (n && (c = o + (1 + l - o) / 2 + n.x / e.tileSize - .5,
                h = s + (1 + p - s) / 2 + n.y / e.tileSize - .5); o < i; ) {
                    for (s = t.top; s <= p; )
                        e = o % r,
                        d.push([e, s, a, n ? rb(c - o) + rb(h - s) : 0]),
                        s++;
                    o++
                }
                return d
            }
            function sh(e, t, i) {
                var a;
                return i = pb(i),
                e.pixelProjection.Ja(i),
                t = e.j(t),
                a = e.i(t, i),
                rh(e, a, t.left > t.right, i)
            }
            function th(e, t) {
                return t[3] - e[3]
            }
            function uh(e, t) {
                this.opacity = 1,
                uh.u.constructor.call(this, e, t)
            }
            jh.prototype.Ja = function(e) {
                if (D(e))
                    throw new C(this.Ja,0,e);
                var t = this.x / this.w
                  , i = this.y / this.h;
                this.g = e,
                this.c = this.exp + e,
                kh(this),
                this.x = t * this.w,
                this.y = i * this.h
            }
            ,
            jh.prototype.rescale = jh.prototype.Ja,
            jh.prototype.mg = function() {
                return this.g || 0
            }
            ,
            jh.prototype.getZoomScale = jh.prototype.mg,
            jh.prototype.geoToPixel = function(e, t) {
                var i = this.projection.zc(e.lat, e.lng, t);
                return i.x = i.x * this.w - this.x,
                i.y = i.y * this.h - this.y,
                i
            }
            ,
            jh.prototype.geoToPixel = jh.prototype.geoToPixel,
            jh.prototype.a = function(e, t, i) {
                return this.projection.Aa((e.x + this.x) / this.w, (e.y + this.y) / this.h, t, i)
            }
            ,
            jh.prototype.pixelToGeo = jh.prototype.a,
            jh.prototype.Aa = function(e, t, i, a) {
                return this.projection.Aa((e + this.x) / this.w, (t + this.y) / this.h, i, a)
            }
            ,
            jh.prototype.xyToGeo = jh.prototype.Aa,
            jh.prototype.f = function(e, t, i) {
                return (e = this.projection.zc(e, t, i)).x = e.x * this.w - this.x,
                e.y = e.y * this.h - this.y,
                e
            }
            ,
            jh.prototype.latLngToPixel = jh.prototype.f,
            jh.prototype.b = function(e) {
                return new M(e.x * this.w - this.x,e.y * this.h - this.y)
            }
            ,
            jh.prototype.pointToPixel = jh.prototype.b,
            v(mh, I),
            r("H.map.layer.Layer", mh),
            mh.prototype.a = {
                la: "update",
                Uf: "minchange",
                Tf: "maxchange"
            },
            mh.prototype.K = function(e) {
                return this.min <= e && e <= this.max
            }
            ,
            mh.prototype.isValid = mh.prototype.K,
            mh.prototype.B = function(e) {
                var t = this.min;
                if (e !== t) {
                    if (D(e))
                        throw new C(mh.prototype.B,0,"min is NaN");
                    if (!(e <= this.max))
                        throw new C(mh.prototype.B,0,"min > max");
                    this.min = e,
                    this.dispatchEvent(new Ne(this.a.Uf,e,t)),
                    this.l()
                }
                return this
            }
            ,
            mh.prototype.setMin = mh.prototype.B,
            mh.prototype.s = function(e) {
                var t = this.max;
                if (e !== t) {
                    if (D(e))
                        throw new C(mh.prototype.s,0,"max is NaN");
                    if (!(e >= this.min))
                        throw new C(mh.prototype.s,0,"max < min");
                    this.max = e,
                    this.dispatchEvent(new Ne(this.a.Tf,e,t)),
                    this.l()
                }
                return this
            }
            ,
            mh.prototype.setMax = mh.prototype.s,
            mh.prototype.l = function() {
                this.dispatchEvent(this.a.la)
            }
            ,
            mh.prototype.D = function() {
                mh.u.D.call(this)
            }
            ,
            mh.prototype.Ia = function() {
                return null
            }
            ,
            mh.prototype.getCopyrights = mh.prototype.Ia,
            v(nh, mh),
            r("H.map.layer.BaseTileLayer", nh),
            nh.prototype.Pa = function() {
                return this.f
            }
            ,
            nh.prototype.getProvider = nh.prototype.Pa,
            nh.prototype.j = function(e, t) {
                var i, a, n = this.pixelProjection;
                if (!B(e, G))
                    throw new C(this.j,0,e);
                return D(t) || (i = n.mg(),
                n.Ja(t)),
                a = ph(n.geoToPixel(e.tb()), n.geoToPixel(e.rb())),
                !D(i) && n.Ja(i),
                a
            }
            ,
            nh.prototype.geoRectToRect = nh.prototype.j,
            nh.prototype.i = function(e, t) {
                if (!B(e, qh))
                    throw new C(this.i,0,e);
                if (D(t = +t))
                    throw new C(this.i,1,t);
                var i, a, n = ub(2, pb(t)), r = this.tileSize;
                return (i = pb(e.left / r)) === n && --i,
                (a = pb(e.right / r)) === n && --a,
                new qh(i,Qb(pb(e.top / r), 0, n - 1),a,Qb(pb(e.bottom / r), 0, n - 1))
            }
            ,
            nh.prototype.getTileBounds = nh.prototype.i,
            nh.prototype.A = function(e, t, i, a) {
                return this.f.requestTile(e, t, i, a)
            }
            ,
            nh.prototype.m = function(e, t, i) {
                this.f.cancelTile(e, t, i)
            }
            ,
            nh.prototype.cancelTile = nh.prototype.m,
            nh.prototype.Ia = function(e, t) {
                return this.f.getCopyrights ? this.f.getCopyrights(e, t) : null
            }
            ,
            nh.prototype.getCopyrights = nh.prototype.Ia,
            nh.prototype.o = function(e, t, i, a, n, r) {
                if (!B(e, qh))
                    throw new C(this.o,0,e);
                if (D(i = +i))
                    throw new C(this.o,1,i);
                var o, s, l = [], c = this.f;
                r = null != r ? r : "__default__";
                var h = c.requestTile;
                if (a || (o = {}),
                e = (t = rh(this, e, t, i, n)).length)
                    for (a || t.sort(th),
                    i = e; i--; )
                        n = t[i],
                        a || (o[c.A.apply(c, n)] = !0),
                        n[3] = +a,
                        (s = h.apply(c, n)) && l.push(s);
                if (!a) {
                    var p;
                    for (p in a = o,
                    o = this.N[r] || {})
                        o.hasOwnProperty(p) && o[p] && !a[p] && this.f.cancelTileByKey(p);
                    this.N[r] = a
                }
                return {
                    total: e,
                    tiles: l
                }
            }
            ,
            nh.prototype.getProviderTiles = nh.prototype.o,
            v(uh, nh),
            r("H.map.layer.MarkerTileLayer", uh);
            var vh = {
                markers: [],
                total: 0,
                requested: 0
            };
            function wh(e, t, i, a, n) {
                var r, o;
                for (r = pb(i),
                e.pixelProjection.Ja(r),
                t = e.j(t),
                r = e.i(t, r),
                i = e.o(r, r.left > r.right, ~~i, a, n),
                e = i.tiles,
                i = i.total,
                a = e.length,
                n = [],
                o = 0; o < a; o++)
                    for (t = (r = e[o]).data.length; t--; )
                        n.push(r.data[t]);
                return {
                    markers: n,
                    total: e.length,
                    requested: i
                }
            }
            function xh(e, t) {
                xh.u.constructor.call(this, Of, t),
                this.o(e)
            }
            function yh(e) {
                var t, i, a, n, r = e.a;
                return e = [t = r.ka, i = r.ga, A, t, n = r.ha, A, a = r.ja, n, A, a, i, A],
                180 <= r.ab() && (e.splice(9, 0, a, i = r.Oa().lng, A),
                e.splice(3, 0, t, i, A)),
                new E(new F(e))
            }
            function zh(e, t, i) {
                if (!e || !t || !i)
                    throw new C(zh,null,"Must specify name, version and revision parameter");
                this.name = e,
                this.version = t,
                this.revision = i
            }
            uh.prototype.c = function(e, t, i, a) {
                return this.f.providesDomMarkers() ? vh : wh(this, e, t, i, a)
            }
            ,
            uh.prototype.requestMarkers = uh.prototype.c,
            uh.prototype.b = function(e, t, i, a) {
                return this.f.providesDomMarkers() ? wh(this, e, t, i, a) : vh
            }
            ,
            uh.prototype.requestDomMarkers = uh.prototype.b,
            v(xh, Uf),
            r("H.map.Rect", xh),
            xh.prototype.o = function(e) {
                if (!B(e, G))
                    throw new C(this.o,0,e);
                e.pa(this.kb) || (this.kb = this.a = e,
                this.i !== x && xh.u.c.call(this, yh(this)))
            }
            ,
            xh.prototype.setBounds = xh.prototype.o,
            xh.prototype.S = function() {
                return this.a
            }
            ,
            xh.prototype.getBounds = xh.prototype.S,
            xh.prototype.A = function() {
                return this
            }
            ,
            xh.prototype.setNorthPoleCovering = xh.prototype.A,
            xh.prototype.c = function() {
                return this
            }
            ,
            xh.prototype.setGeometry = xh.prototype.c,
            xh.prototype.Ca = function() {
                return this.i || xh.u.c.call(this, yh(this)),
                this.i
            }
            ,
            xh.prototype.getGeometry = xh.prototype.Ca,
            xh.prototype.f = function() {
                return this
            }
            ,
            xh.prototype.setStrip = xh.prototype.f,
            xh.prototype.b = function() {
                return this.Ca().$a
            }
            ,
            xh.prototype.getStrip = xh.prototype.b,
            r("H.util.BuildInfo", zh),
            zh.prototype.toString = function() {
                return this.name + ";" + this.version + ";" + this.revision
            }
            ;
            var Ah = {};
            function Bh(e, t, i) {
                if (!e)
                    throw new C(Bh,1,"Must specify a name parameter");
                return Ah[e] || (Ah[e] = new zh(e,t,i))
            }
            function Ch() {
                Ch.u.constructor.call(this),
                this.a = Dh(this),
                this.f = Ka(),
                this.c = z(this.c, this),
                this.a.addEventListener("message", this.c)
            }
            zh.get = Bh,
            v(Ch, I),
            Ch.prototype.D = function() {
                this.a.terminate()
            }
            ,
            Ch.prototype.i = function(e) {
                var t = e.type
                  , i = !!this.f[t]
                  , a = e.data
                  , n = Eh++
                  , r = a && a.Ei ? a.Ei : A
                  , o = !0;
                return i ? (this.b[n] = e,
                Fh(this, t, n, a && a.message, r)) : (e.reject(new C(this.i,0,"processor_not_found")),
                o = !1),
                o
            }
            ,
            Ch.prototype.c = function(e) {
                e = e.data;
                var t = this.b[e.taskId]
                  , i = e.taskId
                  , a = e.data
                  , n = this;
                if (2 === e.type)
                    new Gh(Hh,a).then(function(e) {
                        n.a.postMessage(["3", i, [e]], [e])
                    }, function() {
                        n.a.postMessage(["3", i, [null, "ERROR"]])
                    });
                else {
                    if (t) {
                        switch (e.type) {
                        case 1:
                            t.resolve(a);
                            break;
                        case 0:
                            t.reject(a)
                        }
                        delete this.b[i]
                    }
                    this.dispatchEvent(new Bc(this.g.IDLE))
                }
            }
            ,
            Ch.prototype.b = {};
            var Eh = 0, Mh;
            function Ih(e, t, i) {
                var a, n = Eh++;
                return e.b[n] = a = gd(),
                Fh(e, t, n, i),
                a.sf
            }
            function Fh(e, t, i, a, n) {
                a === A || qa(a) || (a = [a]);
                try {
                    e.a.postMessage([t, i, a], n)
                } catch (r) {
                    (e = e.b[i]).reject(r.message)
                }
            }
            function Dh(a) {
                var b = w.H.__bootstrap__, c, b = sa(b) ? ("" + b).replace(/^[^{]+{((.|[\r\n])+?)}\s*$/, "$1") : "" + b;
                if (w.Worker && w.URL)
                    try {
                        c = new w.Worker(w.URL.createObjectURL(Ke(b, "application/javascript")))
                    } catch (d) {}
                return c || (a = new Jh(a),
                function() {
                    eval("var self = arguments[0];" + b)
                }(a),
                c = new Kh(a)),
                c
            }
            function Kh(e) {
                I.call(this),
                this.a = e
            }
            function Jh(a) {
                I.call(this),
                this.a = a,
                this.addEventListener = z(this.addEventListener, this),
                this.removeEventListener = z(this.removeEventListener, this),
                this.postMessage = z(this.postMessage, this),
                this.eval = z(eval, this)
            }
            function Lh() {
                var e = Mh;
                return e || (e = Mh = this,
                I.call(e),
                this.b()),
                e
            }
            function Nh(e, t, i) {
                td.call(this, e, t, i)
            }
            function Oh(e, t) {
                var i = (a = t || {}).contextType
                  , a = a.contextAttributes;
                if (Oh.u.constructor.call(this, t),
                B(e, Function, Oh, 0, "invalid render callback"),
                i) {
                    if (-1 === Ph.indexOf(i))
                        throw new C(Oh,1,"invalid context type");
                    this.v = i
                }
                a && (this.F = a),
                this.g = e
            }
            Ch.prototype.g = {
                IDLE: "idle",
                ERROR: "error"
            },
            Ch.prototype.l = function(e, t) {
                var i = this.j || (this.j = new Bc(this.g.ERROR));
                i.data = t,
                delete this.f[e],
                this.dispatchEvent(i)
            }
            ,
            Ch.prototype.importScripts = function(e) {
                Ih(this, "0", e)
            }
            ,
            v(Kh, I),
            Kh.prototype.postMessage = function(e) {
                w.setTimeout(z(this.b, this, e), 0)
            }
            ,
            Kh.prototype.b = function(e) {
                var t = new Bc("message");
                t.data = e,
                this.a.dispatchEvent(t)
            }
            ,
            Kh.prototype.terminate = function() {
                this.a.J(),
                this.J()
            }
            ,
            v(Jh, I),
            Jh.prototype.postMessage = function(e) {
                var t = new Bc("message");
                t.data = e,
                w.setTimeout(z(this.a.c, this.a, t), 0)
            }
            ,
            v(Lh, I),
            Lh.prototype.D = function() {
                Lh.u.D.call(this),
                this.b()
            }
            ,
            Ca(Lh.prototype, {
                b: function() {
                    var e, t = this.Hf;
                    if (t)
                        for (e = t.length; e--; )
                            t[e].J();
                    this.Hf = [],
                    this.Ed = Ka(),
                    this.Zg = Ka()
                },
                se: function(e) {
                    var t, i, a;
                    if (e = e.type,
                    !(a = this.Zg[e]))
                        throw new kc(this.se,'Unknown type "' + e + '"');
                    return (i = (t = this.Hf)[0]) || (i = t[0] = new Ch,
                    this.Eb(za(Ac, i)),
                    Wa(this.Ed) || i.importScripts(w.Object.keys(this.Ed))),
                    (t = i).f[e] || (t.f[e] = a,
                    Ih(t, "1", [e, sa(a) ? a + "" : a]).then(sc, z(t.l, t, e))),
                    i
                },
                ye: function() {},
                md: function(e, t) {
                    var i = this.Zg
                      , a = i[e];
                    if (a) {
                        if (t !== a)
                            throw new kc(this.md,'Type "' + e + '" is already registered')
                    } else
                        i[e] = t
                },
                importScripts: function(e) {
                    [].concat(e).forEach(function(e) {
                        this.Ed[e] || (this.Ed[e] = !0,
                        this.Hf.forEach(function(t) {
                            t.importScripts(e)
                        }))
                    }, this)
                }
            }),
            v(Nh, td),
            Ca(Nh.prototype, {
                Fe: function() {
                    var e = new wd(new Lh);
                    return function() {
                        return e
                    }
                }(),
                Sc: sc,
                De: function(e) {
                    return e.i(this)
                }
            }),
            v(Oh, mh),
            r("H.map.layer.CanvasLayer", Oh);
            var Ph = Ra("2d webgl webgl2 experimental-webgl");
            function Qh(e, t) {
                Qh.u.constructor.call(this, t),
                B(e, Function, Qh, 0, "invalid render callback"),
                this.f = e
            }
            function Rh(e, t) {
                var i, a = e;
                if (!B(a, Element)) {
                    if (Sh.innerHTML = a,
                    !(a = Sh.firstElementChild))
                        throw new C(Rh,0,"No element data");
                    Sh.removeChild(a),
                    i = !0,
                    Sh.innerHTML = ""
                }
                this.c = 0 !== Ee(a).length,
                this.i = i ? a : Fe(a, w.document, this.c),
                t && ((i = "onAttach")in t && Xa(a = t[i], "Function", Rh, 1, i) && (this.ff = a),
                (i = "onDetach")in t && Xa(a = t[i], "Function", Rh, 1, i) && (this.f = a))
            }
            Oh.prototype.v = "2d",
            Oh.prototype.ca = function(e, t) {
                return this.f && this.f.canvas === e || (this.f = e.getContext(this.v, this.F)),
                this.g(this.f, t)
            }
            ,
            Oh.prototype.D = function() {
                Oh.u.D.call(this),
                this.f = A
            }
            ,
            v(Qh, mh),
            r("H.map.layer.DomLayer", Qh),
            Qh.prototype.ca = function(e, t) {
                return this.f(e, t)
            }
            ,
            r("H.map.DomIcon", Rh);
            var Sh = document.createElement("DIV");
            function Th(e, t) {
                this.w = +e,
                this.h = +t
            }
            function Uh(e, t) {
                var i, a, n, r, o, s, l;
                r = e;
                var c = t || [];
                if (e !== Vh.NONE) {
                    if (i = a = c.length,
                    -1 === this.c.indexOf(r))
                        throw new C(Uh,0,e);
                    if (!c)
                        throw new C(Uh,1,c);
                    for (; a--; )
                        if (D(c[a]))
                            throw new C(Uh,1,c);
                    if (r === Vh.RECT && 3 < i && (c = [c[0], c[1], c[2], c[1], c[2], c[3], c[0], c[3]],
                    r = Vh.POLYGON),
                    r === Vh.CIRCLE && 2 < i && 0 < (n = c[2])) {
                        for (r = c[0],
                        o = c[1],
                        s = 360 / (a = lb(2 * qb(n), 40)),
                        c = []; a--; )
                            l = s * a * Ib,
                            c.push(r + wb(l) * n, o + yb(l) * n);
                        r = Vh.POLYGON
                    }
                    if (r !== Vh.POLYGON || !i || c.length % 2)
                        throw new C(Uh,1,c);
                    this.b = c
                }
            }
            Rh.prototype.ff = null,
            Rh.prototype.f = null,
            Rh.prototype.c = !1,
            r("H.math.Size", Th),
            r("H.map.HitArea", Uh);
            var Vh = {
                NONE: 0,
                RECT: 1,
                CIRCLE: 2,
                POLYGON: 3
            };
            function Wh(e, t) {
                var i;
                Ua(this, Wh),
                Wh.u.constructor.call(this, t),
                this.a(e),
                t && "icon"in t && (i = t.icon),
                this.$b(i || Xh(this))
            }
            function Xh(e) {
                var t = e.i;
                return t || (t = e.constructor.prototype.i = e.c(Yh)),
                t
            }
            Uh.ShapeType = Vh,
            Uh.prototype.c = [Vh.RECT, Vh.CIRCLE, Vh.POLYGON],
            Uh.prototype.a = function(e, t, i) {
                return this.b ? Ub(e, t, this.b, i, !0) : Tb.NONE
            }
            ,
            Uh.prototype.hitTest = Uh.prototype.a,
            v(Wh, K),
            r("H.map.AbstractMarker", Wh),
            Wh.prototype.getPosition = function() {
                return B(this.b, sg) ? this.b.ma[0] : this.b
            }
            ,
            Wh.prototype.getPosition = Wh.prototype.getPosition,
            Wh.prototype.f = function(e) {
                return hc(e, this.f, 0),
                this.a(e),
                this
            }
            ,
            Wh.prototype.setPosition = Wh.prototype.f,
            Wh.prototype.Ca = function() {
                return this.b
            }
            ,
            Wh.prototype.getGeometry = Wh.prototype.Ca,
            Wh.prototype.a = function(e) {
                var t = this.b;
                return B(e, gc) || B(e, sg) ? this.b = e : (hc(e, this.a, 0),
                this.b = ic(e)),
                t && this.ua(Me.SPATIAL),
                this
            }
            ,
            Wh.prototype.setGeometry = Wh.prototype.a,
            Wh.prototype.S = function() {
                return this.b.S()
            }
            ,
            Wh.prototype.sb = function() {
                return this.icon
            }
            ,
            Wh.prototype.getIcon = Wh.prototype.sb,
            Wh.prototype.$b = function(e) {
                var t = this.icon
                  , i = !t;
                if (t !== e) {
                    if (!B(e, this.pg))
                        throw C.apply(t = new C, i ? [this.constructor, 1, "icon"] : [this.a, 0, e]),
                        t;
                    this.icon = e,
                    i || this.ua(Me.VISUAL)
                }
                return this
            }
            ,
            Wh.prototype.setIcon = Wh.prototype.$b;
            var Yh = {
                svg: '<svg xmlns="http://www.w3.org/2000/svg" width="28px" height="36px"><path d="M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z" fill="#000" fill-opacity=".2"/><path d="M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z" fill="#fff"/><path d="M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z" fill="#18d"/></svg>',
                size: new Th(28,36),
                anchor: new M(14,32),
                hitArea: new Uh(3,[0, 16, 0, 7, 8, 0, 18, 0, 26, 7, 26, 16, 18, 34, 8, 34])
            };
            function fh(e, t) {
                fh.u.constructor.call(this, e, t)
            }
            function Zh(e, t) {
                var i = t || {};
                "status"in i && (this.status = +i.status),
                "statusText"in i && (this.statusText = i.statusText),
                this.ok = 200 <= this.status && 300 > this.status,
                this.b = !1,
                e ? "string" === typeof e && (this.a = e) : this.a = ""
            }
            function $h(e, t, i) {
                function a() {
                    var e = z(c.b, c)
                      , t = +l.timeout || 0;
                    ai ? (bi(c, "timeout", e),
                    n.timeout = t) : t && (c.f = setTimeout(function() {
                        n.abort(),
                        c.b({
                            type: "timeout"
                        })
                    }, t)),
                    bi(c, "error", e),
                    bi(c, "load", e),
                    n.send(l.data)
                }
                var n, r, o, s = i && i.headers || {}, l = {}, c = this;
                if (!sa(t))
                    throw new C($h,1,"function required");
                e += "",
                Ca(s, ci.headers, s),
                Ca(l, ci, i || {}),
                l.headers = s,
                this.c = t,
                this.a = n = new XMLHttpRequest,
                t = l.method;
                try {
                    for (r in n.open(t, e, !0),
                    s)
                        s.hasOwnProperty(r) && (o = s[r]) && n.setRequestHeader(r, o);
                    n.withCredentials = !!l.withCredentials,
                    a()
                } catch (h) {
                    if (di)
                        this.b({
                            type: "cors"
                        });
                    else {
                        this.a = n = new XDomainRequest;
                        try {
                            n.open(t, e),
                            n.onprogress = function() {}
                            ,
                            a()
                        } catch (p) {
                            this.b({
                                type: "cors"
                            })
                        }
                    }
                }
            }
            v(fh, Wh),
            r("H.map.DomMarker", fh),
            fh.prototype.type = Pe.DOM_MARKER,
            fh.prototype.je = 2,
            fh.prototype.c = function(e) {
                var t = new Rh(e.svg,e);
                return e = e.anchor,
                t.i.style.margin = -e.y + "px 0 0 -" + e.x + "px",
                t
            }
            ,
            fh.prototype.pg = Rh,
            r("H.net.Response", Zh),
            Zh.prototype.type = "default",
            Zh.prototype.type = Zh.prototype.type,
            Zh.prototype.status = 200,
            Zh.prototype.status = Zh.prototype.status,
            Zh.prototype.statusText = "OK",
            Zh.prototype.statusText = Zh.prototype.statusText,
            Zh.b = function(e) {
                if (e.b)
                    return fd(new TypeError("Already read"));
                e.b = !0
            }
            ,
            Zh.error = function() {
                return Zh.a || (Zh.a = new Zh(null,{
                    status: 0,
                    statusText: ""
                }),
                Zh.a.type = "error"),
                Zh.a
            }
            ,
            Zh.error = Zh.error,
            Zh.prototype.text = function() {
                var e = Zh.b(this);
                return e || (e = this.a ? new Xc(Zc,this.a) : fd("Unsupported response body")),
                e
            }
            ,
            Zh.prototype.json = function() {
                return this.text().then(w.JSON.parse)
            }
            ,
            w.Response && w.Response.error && (Zh = w.Response),
            r("H.net.Xhr", $h);
            var ci = {
                method: "GET",
                headers: {},
                data: null
            }
              , di = "withCredentials"in new XMLHttpRequest
              , ai = "timeout"in new XMLHttpRequest;
            function bi(e, t, i) {
                di ? e.a.addEventListener(t, i) : e.a["on" + t] = i
            }
            function ei(e, t, i) {
                di ? e.a.removeEventListener(t, i) : e.a["on" + t] = null
            }
            function fi() {
                var e = fi.a;
                return e || (e = this,
                fi.a = e,
                I.call(e),
                this.a()),
                e
            }
            function Gh(e, t, i, a) {
                var n = gi;
                if (!this.b[e])
                    throw new C(Gh,0,"Mime type is not supported");
                this.g = e,
                this.a = a,
                n.href = t,
                td.call(this, n.protocol + "//" + n.hostname, t, i)
            }
            $h.prototype.g = function() {
                this.a && (this.a.abort(),
                this.a && this.b({
                    type: "abort"
                }))
            }
            ,
            $h.prototype.abort = $h.prototype.g,
            $h.prototype.b = function(e) {
                var t, i, a = e.type;
                e = this.a,
                this.f && clearTimeout(this.f),
                "load" === a ? e instanceof XMLHttpRequest && 200 !== e.status && (t = "network") : t = 4 === e.readyState && 0 === e.status && "error" == a ? "cors" : "error" != a ? a : "network",
                ei(this, "timeout", a = this.b),
                ei(this, "error", a),
                ei(this, "load", a),
                i = 0 === e.status || t && "network" !== t ? Zh.error() : new Zh(e.responseText,e),
                t = this.c,
                delete this.b,
                delete this.c,
                delete this.a,
                t(i)
            }
            ,
            v(fi, I),
            fi.prototype.D = function() {
                fi.u.D.call(this),
                this.a()
            }
            ,
            Ca(fi.prototype, {
                a: function() {
                    this.oi = 10,
                    this.pi = 6,
                    this.Jc = Ka(),
                    this.uf = Ka(),
                    this.xf = 0
                },
                se: function(e) {
                    e = e.type;
                    var t, i = this.Jc[e] || 0;
                    return this.xf < this.oi && i < this.pi ? (t = this.Fi(),
                    this.xf++,
                    this.Jc[e] = i + 1,
                    this.uf[t] = e,
                    t) : x
                },
                ye: function(e) {
                    var t = this.uf[e];
                    if (!Ta(t) || !this.Jc[t])
                        throw new kc(this.ye,"Unknown requestId");
                    this.xf--,
                    this.Jc[t]--,
                    this.Jc[t] || delete this.Jc[t],
                    delete this.uf[e],
                    this.dispatchEvent("allocatable")
                },
                di: -1,
                Fi: function() {
                    return ++this.di
                }
            }),
            v(Gh, td),
            Gh.prototype.De = function() {
                return this.f = this.b[this.g].call(this),
                !0
            }
            ,
            Gh.prototype.Sc = function() {
                this.f && (this.f.abort(),
                this.f = null)
            }
            ,
            Gh.prototype.b = {
                "application/json": function() {
                    var e = this
                      , t = this.a || {};
                    return (t.headers || (t.headers = {})).Accept = "application/json",
                    new $h(this.data,function(t) {
                        200 <= t.status && 300 > t.status ? e.resolve(t.json()) : e.reject(t)
                    }
                    ,t)
                },
                "text/plain": function() {
                    var e = this;
                    return new $h(this.data,function(t) {
                        200 <= t.status && 300 > t.status ? e.resolve(t.text()) : e.reject(t)
                    }
                    ,this.a)
                },
                image: function() {
                    var e = w.document.createElement("img")
                      , t = this.a && this.a.crossOrigin
                      , i = this;
                    return e.onload = z(this.resolve, this, e),
                    e.onerror = function() {
                        i.reject(Zh.error())
                    }
                    ,
                    e.src = this.data,
                    Ta(t) && (e.crossOrigin = t),
                    {
                        abort: function() {
                            e.onerror = e.onload = null,
                            ve && Ie(e) || e.removeAttribute("src")
                        }
                    }
                }
            },
            function() {
                var e;
                try {
                    (e = new XMLHttpRequest).open("get", "/", !0)
                } catch (t) {
                    e = {}
                }
                "response"in e && (Gh.prototype.b.arraybuffer = function() {
                    var e = new XMLHttpRequest
                      , t = this;
                    return e.open("GET", this.data),
                    e.responseType = "arraybuffer",
                    e.onerror = e.ontimeout = function() {
                        t.reject(Zh.error())
                    }
                    ,
                    e.onload = function() {
                        t.resolve(e.response)
                    }
                    ,
                    e.send(),
                    e
                }
                )
            }(),
            Gh.prototype.Fe = function() {
                var e = new wd(new fi);
                return function() {
                    return e
                }
            }();
            var Hh = "arraybuffer"
              , gi = w.document.createElement("a");
            function hi(e) {
                if (!(t = ii[e]))
                    if (e in ji)
                        t = ii[e] = e;
                    else {
                        var t = ki.length
                          , i = ""
                          , a = e.substr(0, 1).toUpperCase() + e.substr(1)
                          , n = ""
                          , r = !1;
                        li && (r = (n = li + a)in ji);
                        for (; t-- && !r; )
                            r = (n = (i = ki[t]) + a)in ji;
                        if (r && (li = i),
                        !(t = r ? n : null))
                            throw Error("Could not find any variant of CSS property [" + e + "]");
                        ii[e] = t
                    }
                return t
            }
            r("H.dom.cssPrefixer.prefix", hi);
            var ki = ["O", "Ms", "ms", "Moz", "Webkit"]
              , ii = {}
              , li = ""
              , ji = document.createElement("span").style;
            function mi(e, t, i, a, n) {
                switch (t && (this.c = t),
                Ta(i) && (this.te = !!i),
                this.te && a && (this.b = new Th(a.w,a.h)),
                n && (this.f = {
                    crossOrigin: "anonymous"
                }),
                ni[Ya(e)]) {
                case 2:
                    this.ic = e,
                    oi(this, 1);
                    break;
                case 1:
                    if (Ie(e)) {
                        this.ic = e,
                        pi(this),
                        oi(this, 1);
                        break
                    }
                    e = e.src;
                case 0:
                    if (e) {
                        e = xe(e),
                        this.a = new Gh("image",e,A,this.f),
                        this.a.then(z(this.i, this), z(this.g, this));
                        break
                    }
                default:
                    throw oi(this, -1),
                    new C(mi,0,"No image data")
                }
            }
            function oi(e, t) {
                e.G = t,
                delete e.a,
                e.c && e.c(t, e)
            }
            function pi(e) {
                if (e.te) {
                    var t = e.ic
                      , i = qi(e)
                      , a = i && i.w || +t.width
                      , n = i && i.h || +t.height;
                    B(t, w.HTMLCanvasElement) ? i = t : ((i = t.ownerDocument.createElement("CANVAS")).width = a,
                    i.height = n,
                    i.getContext("2d").drawImage(t, 0, 0, a, n)),
                    e.ic = i
                }
            }
            p = mi.prototype,
            p.G = 0,
            p.getState = function() {
                return this.G
            }
            ,
            p.te = !0,
            p.ic = x,
            p.getData = function() {
                return this.ic
            }
            ;
            var ni = {
                String: 0,
                HTMLImageElement: 1,
                HTMLCanvasElement: 2
            };
            function qi(e) {
                var t, i, a, n, r = e.b;
                return r || (0 === (r = (t = e.ic).naturalWidth || t.width) && ve && 1 === ni[Ya(t)] && (i = !0,
                (a = t.parentNode) && (n = t.nextSibling),
                document.body.appendChild(t)),
                e.b = r = new Th(t.naturalWidth || t.width,t.naturalHeight || t.height),
                i && (a ? a.insertBefore(t, n) : document.body.removeChild(t))),
                r
            }
            function ri(e, t) {
                var i, a, n, r;
                if (this.uid = si.next(),
                ri.u.constructor.call(this),
                t) {
                    if ((i = "size")in t) {
                        if (!(a = t[i]) || isNaN(a.w) || isNaN(a.h))
                            throw new C(ri,1,i);
                        this.b = new Th(a.w,a.h)
                    }
                    if ((i = "anchor")in t) {
                        if (!(a = t[i]) || isNaN(a.x) || isNaN(a.y))
                            throw new C(ri,1,i);
                        this.a = new M(a.x,a.y)
                    }
                    (i = "hitArea")in t && (B(a = t[i], Uh, ri, 1),
                    this.g = t[i]),
                    (i = "asCanvas")in t && (n = t[i]),
                    (i = "crossOrigin")in t && (r = t[i])
                }
                i = new mi(e,z(this.i, this),n,this.b,r),
                0 !== (a = this.G = i.getState()) ? this.i(a, i) : this.f = i
            }
            mi.prototype.b = x,
            mi.prototype.i = function(e) {
                this.ic = e,
                pi(this),
                oi(this, 1)
            }
            ,
            mi.prototype.g = function() {
                oi(this, -1)
            }
            ,
            mi.prototype.cancel = function() {
                this.a && this.a.cancel()
            }
            ,
            v(ri, I),
            r("H.map.Icon", ri);
            var si = new ye;
            ri.prototype.Pc = {
                ERROR: -1,
                LOADING: 0,
                READY: 1
            },
            ri.prototype.State = ri.prototype.Pc,
            ri.prototype.getState = function() {
                return this.G
            }
            ,
            ri.prototype.getState = ri.prototype.getState,
            ri.prototype.i = function(e, t) {
                if (this.c = t.getData(),
                1 === e) {
                    var i = this.b;
                    i || (i = this.b = 1 === t.G ? qi(t) : x),
                    this.a || (this.a = new M(i.w / 2 | 0,i.h))
                }
                this.f && (this.G = e,
                delete this.f,
                this.dispatchEvent("statechange"))
            }
            ,
            ri.prototype.c = x,
            ri.prototype.Pb = function() {
                return this.c
            }
            ,
            ri.prototype.getBitmap = ri.prototype.Pb,
            ri.prototype.b = x,
            ri.prototype.o = function() {
                return this.b
            }
            ,
            ri.prototype.getSize = ri.prototype.o,
            ri.prototype.a = x,
            ri.prototype.j = function() {
                return this.a
            }
            ,
            ri.prototype.getAnchor = ri.prototype.j,
            ri.prototype.g = x,
            ri.prototype.l = function() {
                return this.g
            }
            ,
            ri.prototype.getHitArea = ri.prototype.l,
            ri.prototype.D = function() {
                ri.u.D.call(this),
                this.c ? (this.c.removeAttribute("src"),
                delete this.c) : (this.f.cancel(),
                delete this.f)
            }
            ;
            var ti = he;
            r("H.util.events.listenOnce", ti),
            r("H.util.events.dispatchEvent", function(e, t) {
                return e.dispatchEvent(t)
            }),
            r("H.util.events.fireListeners", function(e, t, i, a) {
                return zd(e) ? e.dc(t, i, a) : ke(e, t, i, a)
            });
            var ui = ae;
            r("H.util.events.listen", ui);
            var vi = ie;
            r("H.util.events.unlisten", vi);
            var wi = le
              , le = function(e, t) {
                var i, a, n, r = !0;
                return i = t[t.currentTarget === t.target ? "AT_TARGET" : e.ya ? "CAPTURING_PHASE" : (a = !0,
                "BUBBLING_PHASE")],
                (!a || "pointerenter" !== (n = t.type) && "pointerleave" !== n) && (t.eventPhase = i,
                r = wi(e, t),
                a && e.src && e.src.jb && null === e.src.jb() && delete t.eventPhase),
                r
            };
            function xi(e, t) {
                xi.u.constructor.call(this, e, t)
            }
            function yi(e, t, i, a) {
                yi.u.constructor.call(this, e, t, i),
                this.modifiers = a
            }
            function zi() {
                this.Y = [],
                zi.u.constructor.call(this)
            }
            function Ai(e, t, i) {
                var a;
                if (e = e.Y.length,
                i)
                    a = e;
                else if (D(a = 0 > (a = +t) ? mb(0, e + a) : lb(e, a)))
                    throw new ec(zi,t,[0, e - 1]);
                return a
            }
            function Ci(e, t) {
                var i = e.Y.splice(t, 1)[0];
                return e.dispatchEvent(new Bi(e,e.a.Nc,t,null,i,null)),
                i
            }
            function Bi(e, t, i, a, n, r) {
                Bi.u.constructor.call(this, t, e),
                this.idx = i,
                this.added = a,
                this.removed = n,
                this.moved = r
            }
            function Di(e) {
                if (Di.u.constructor.call(this),
                this.dispatchEvent = z(this.dispatchEvent, this),
                e)
                    for (var t = 0, i = e.length; t < i; t++)
                        this.add(e[t])
            }
            function Ei(e, t) {
                sa(e) && (this.i = e),
                ab(t) && (this.a = t)
            }
            v(xi, Wh),
            r("H.map.Marker", xi),
            p = xi.prototype,
            p.type = Pe.MARKER,
            p.je = 1,
            p.ua = function(e) {
                var t;
                return e === Me.VISUAL && 1 !== this.Yg && 1 !== this.icon.getState() || (t = xi.u.ua.call(this, e)),
                t || !1
            }
            ,
            p.Yg = 0,
            p.pg = ri,
            p.Le = !1,
            p.Hg = function() {
                this.ua(Me.VISUAL)
            }
            ,
            p.$b = function(e) {
                var t = this.icon;
                return this.Le && (t.removeEventListener("statechange", this.Hg, !1, this),
                delete this.Le),
                t && (this.Yg = t.getState()),
                xi.u.$b.call(this, e),
                0 === e.getState() && (this.Le = !0,
                ti(e, "statechange", this.Hg, !1, this)),
                this
            }
            ,
            xi.prototype.setIcon = xi.prototype.$b,
            xi.prototype.c = function(e) {
                return new ri(e.svg,e)
            }
            ,
            v(yi, Ne),
            r("H.map.ChangeEvent", yi),
            yi.prototype.b = 1,
            yi.prototype.FOV = yi.prototype.b,
            yi.prototype.PITCH = 2,
            yi.prototype.PITCH = yi.prototype.PITCH,
            yi.prototype.POSITION = 4,
            yi.prototype.POSITION = yi.prototype.POSITION,
            yi.prototype.c = 8,
            yi.prototype.ROLL = yi.prototype.c,
            yi.prototype.f = 16,
            yi.prototype.SIZE = yi.prototype.f,
            yi.prototype.g = 32,
            yi.prototype.YAW = yi.prototype.g,
            yi.prototype.ZOOM = 64,
            yi.prototype.ZOOM = yi.prototype.ZOOM,
            v(zi, I),
            r("H.util.OList", zi),
            zi.prototype.add = function(e, t) {
                var i = Ai(this, t, D(t));
                this.Y.splice(i, 0, e),
                this.dispatchEvent(new Bi(this,this.a.Lc,i,e,null,null))
            }
            ,
            zi.prototype.add = zi.prototype.add,
            zi.prototype.b = function(e) {
                return this.get(e),
                Ci(this, e)
            }
            ,
            zi.prototype.removeAt = zi.prototype.b,
            zi.prototype.remove = function(e) {
                return 0 <= (e = this.indexOf(e)) && (Ci(this, e),
                !0)
            }
            ,
            zi.prototype.remove = zi.prototype.remove,
            zi.prototype.set = function(e, t) {
                var i = this.get(e);
                return e = Ai(this, e, !1),
                i = this.Y[e],
                this.Y[e] = t,
                this.dispatchEvent(new Bi(this,this.a.td,e,t,i,null)),
                i
            }
            ,
            zi.prototype.set = zi.prototype.set,
            zi.prototype.indexOf = function(e) {
                return this.Y.indexOf(e)
            }
            ,
            zi.prototype.indexOf = zi.prototype.indexOf,
            zi.prototype.get = function(e) {
                var t = Ai(this, e, !1)
                  , i = this.Y;
                if (t >= i.length)
                    throw new ec(this.get,e,[0, i.length - 1]);
                return i[t]
            }
            ,
            zi.prototype.get = zi.prototype.get,
            zi.prototype.g = function() {
                return this.Y.length
            }
            ,
            zi.prototype.getLength = zi.prototype.g,
            zi.prototype.c = function() {
                return [].concat(this.Y)
            }
            ,
            zi.prototype.asArray = zi.prototype.c,
            zi.prototype.f = function() {
                for (var e = this.Y.length; e--; )
                    Ci(this, e)
            }
            ,
            zi.prototype.flush = zi.prototype.f,
            zi.prototype.D = function() {
                this.f(),
                zi.u.D.call(this)
            }
            ,
            zi.prototype.a = {
                Lc: "add",
                Nc: "remove",
                td: "set",
                Pi: "move"
            },
            v(Bi, Bc),
            v(Di, zi),
            r("H.map.DataModel", Di),
            Di.prototype.add = function(e, t) {
                B(e, mh, this.add, 0),
                Di.u.add.call(this, e, t),
                e.addEventListener(e.a.la, this.dispatchEvent, !1)
            }
            ,
            Di.prototype.add = Di.prototype.add,
            Di.prototype.set = function(e, t) {
                var i;
                return B(t, mh, this.set, 0),
                i = Di.u.set.call(this, e, t),
                t.addEventListener(t.a.la, this.dispatchEvent, !1),
                i.removeEventListener(i.a.la, this.dispatchEvent, !1),
                i
            }
            ,
            Di.prototype.set = Di.prototype.set,
            Di.prototype.b = function(e) {
                var t;
                return (t = Di.u.b.call(this, e)) && t.removeEventListener(t.a.la, this.dispatchEvent, !1),
                t
            }
            ,
            Di.prototype.removeAt = Di.prototype.b,
            Di.prototype.remove = function(e) {
                var t;
                return (t = Di.u.remove.call(this, e)) && e.removeEventListener(e.a.la, this.dispatchEvent, !1),
                t
            }
            ,
            Di.prototype.remove = Di.prototype.remove,
            Di.prototype.f = function() {
                for (var e = this.Y.length; e--; )
                    this.b(e);
                Di.u.f.call(this)
            }
            ,
            Di.prototype.flush = Di.prototype.f,
            r("H.util.Request", Ei),
            Ei.State = {
                PENDING: 0,
                PROCESSING: 1,
                COMPLETE: 2,
                CANCELLED: 3,
                ERROR: 4
            };
            var Fi = {
                Vf: 0,
                ne: 1,
                le: 2,
                Ji: 3,
                ERROR: 4
            }, Gi = [0, 1, 2, 3, 4], Ni;
            function Hi(e, t) {
                e.b < e.a && (Ta(t) || (t = Fi.le),
                t === Fi.Vf || t === Fi.ne || e.G !== Fi.Vf && e.G !== Fi.ne || (e.b++,
                t !== Fi.le && e.g++,
                e.L(e.b < e.a ? Fi.ne : Fi.le)))
            }
            function Ii() {}
            function Ji(e, t) {
                var i = e.b
                  , a = i.ownerDocument;
                Ji.u.constructor.call(this),
                this.a = e,
                this.b = i = i.appendChild(Ki(a, "DIV", "position:absolute;bottom:4.55em;left:0.5em;z-index:1;height:0px;direction:ltr")),
                this.ve = Ki(a, "DIV", "position:absolute;top:0px;pointer-events:none;", Li),
                this.m = i.appendChild(this.ve).firstChild.firstChild.style,
                i = i.appendChild(Ki(a, "DIV", "-webkit-touch-callout: none;-webkit-user-select:none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select:none;whiteSpace:nowrap;position:relative;top:2.73em;padding-left:1px")),
                this.i = i.appendChild(Ki(a, "SPAN")),
                this.i.setAttribute("unselectable", "on"),
                this.l = i.appendChild(Ki(a, "A", "color:inherit", "Terms of use")),
                this.l.target = "_blank",
                this.s = i = i.appendChild(Ki(a, "SPAN", "color:inherit", " | ")),
                this.B = i.appendChild(function() {
                    var e = Ki(a, "A", "color:inherit", "Report image");
                    return e.target = "_blank",
                    e
                }()),
                this.o = Qa(Mi),
                this.g(t),
                this.f = z(this.f, this),
                this.c = z(this.c, this),
                this.a.addEventListener(this.a.v.Sf, this.f),
                this.a.fa.addEventListener("add", this.c),
                this.a.fa.addEventListener("remove", this.c),
                this.a.fa.addEventListener("set", this.c),
                this.c()
            }
            Ei.prototype.G = 0,
            Ei.prototype.getState = function() {
                return this.G
            }
            ,
            Ei.prototype.getState = Ei.prototype.getState,
            Ei.prototype.L = function(e) {
                if (0 > Gi.indexOf(e))
                    throw new C(this.L,0,e);
                (this.G !== e || 1 === e && 1 < this.a) && (this.G = e,
                this.i && this.i(this))
            }
            ,
            Ei.prototype.a = 1,
            Ei.prototype.m = function() {
                return this.a
            }
            ,
            Ei.prototype.getTotal = Ei.prototype.m,
            Ei.prototype.b = 0,
            Ei.prototype.o = function() {
                return this.b
            }
            ,
            Ei.prototype.getProcessed = Ei.prototype.o,
            Ei.prototype.g = 0,
            Ei.prototype.j = function() {
                return this.g
            }
            ,
            Ei.prototype.getFailed = Ei.prototype.j,
            Ei.prototype.cancel = function() {
                3 !== this.G && (this.Sc(),
                this.L(3))
            }
            ,
            Ei.prototype.cancel = Ei.prototype.cancel,
            r("H.util.ICapturable", Ii),
            Ii.prototype.ya = function() {}
            ,
            Ii.prototype.capture = Ii.prototype.ya,
            r("H.util.Disposable", xc),
            xc.prototype.Eb = xc.prototype.Eb,
            xc.prototype.addOnDisposeCallback = xc.prototype.Eb,
            r("H.util.dispose", Ac),
            v(Ji, xc),
            r("H.map.Imprint", Ji);
            var Mi = {
                font: "11px Arial,sans-serif",
                href: "https://legal.here.com/{LN}/terms/serviceterms/{CN}",
                invert: !1,
                reportHref: "https://wego.here.com/",
                locale: "en-US"
            };
            function Ki(e, t, i, a) {
                return e = e.createElement(t),
                i && (e.style.cssText = i),
                a && (e.innerHTML = a),
                e
            }
            Ji.prototype.g = function(e) {
                var t, i;
                for (t in e || (this.o = Qa(Mi)),
                i = this.o)
                    e && t in e && (i[t] = e[t]);
                e = i.invert,
                this.m.fill = e ? "#FFF" : "rgba(0,0,0, 0.7)",
                this.b.style.color = e ? "#FFF" : "#333",
                this.sg = e,
                e = i.locale,
                Oi[e] || (e = "en-US",
                i.locale = e),
                this.l.innerHTML = Oi[e],
                e = e.split("-"),
                this.l.href = i.href.replace("{LN}", e[0]).replace("{CN}", e[1].toLowerCase()),
                this.b.style.font = i.font
            }
            ,
            Ji.prototype.setOptions = Ji.prototype.g,
            Ji.prototype.v = function() {
                return this.b
            }
            ,
            Ji.prototype.getElement = Ji.prototype.v,
            Ji.prototype.f = function() {
                var e, t = Mi.reportHref, i = this.a, a = this.B, n = this.s;
                i.g().type !== Pi ? n.style.display = "none" : (e = (i = i.c.Ab()).position,
                n.style.display = "inline",
                a.href = t + [e.lat, e.lng, 22, i.yaw, 90 + i.pitch].join() + ",panorama.day,report"),
                this.i.innerHTML = this.j + " " + this.Ia() + " | "
            }
            ,
            Ji.prototype.c = function() {
                this.f(),
                setTimeout(this.f, 5e3)
            }
            ;
            var Li = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="3.64em" height="2.72em" viewBox="7 10 33 18" style="position: relative; left: 2px;"><g><path id="triangle_22_" d="M14.1,28l-3.6,3.6L7,28L14.1,28z"/><path id="here_21_" d="M19.4,19.9c-0.7-0.9-0.7-1.4-0.2-1.8c0.6-0.6,1.1-0.3,1.8,0.3L19.4,19.9z M27,10.3c0.6-0.6,1.1-0.3,1.8,0.3l-1.5,1.5C26.5,11.2,26.6,10.7,27,10.3z M31.6,11.8c-0.7,1-1.9,2.7-3.2,1.4l3.2-3.2c-0.3-0.3-0.5-0.6-0.7-0.7c-1.7-1.7-3.7-1.7-5.2-0.2c-1,1-1.3,2.2-1,3.3l-1-1.1c-0.3,0.2-1.5,1.2-0.6,2.9l-1.1-1l-1.5,1.5l2.1,2.1C21,15.5,19.3,15.6,18,17c-1.5,1.5-1.4,3.2-0.3,4.7l-0.2-0.2c-1.5-1.5-3-0.9-3.8-0.2c-0.6,0.6-1,1.4-0.8,2l-3.1-3.1L8,21.8l6.2,6.2h3.3l-2.2-2.2c-1.2-1.2-1.2-1.8-0.6-2.4c0.5-0.5,1.2-0.2,2.3,0.9l2.2,2.2l1.7-1.7l-2.1-2.1c1.5,1.1,3.3,1.2,4.9-0.4c0,0,0,0,0,0l0,0c1-0.9,1.3-1.8,1.3-1.8l-1.3-0.8c-0.7,1-1.9,2.7-3.1,1.5l3.2-3.2l2,2l1.7-1.7l-2.5-2.5c-1.2-1.2-0.5-2.3,0-2.7c0.2,0.5,0.6,0.9,1,1.4c1.6,1.6,3.7,1.9,5.5,0.1c0,0,0,0,0,0l0,0c1-0.9,1.3-1.8,1.3-1.8L31.6,11.8z"/></g></svg>'
              , Qi = "1987&ndash;" + mb(2015, (new Date).getFullYear()) + " HERE";
            function Ri(e, t, i, a) {
                Si(z(function(e) {
                    e ? this.sg ? i("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAADNklEQVRYR82XW6hVVRSGv7+rmJfSMKSnSkMEfY7EogcJC7tilGRopBAiSaI+SBARQSCIIqgFISih2YW0oAgLCsKXojA0RB+81VugZEFZv/yHuWTt7d7Hfc4+6+h4OWefNfcc3xlj/v+YS1zjoab5bE8DZgGngB8keSg5GwO0PQ54F3i2BnQIWCLpx14hGwG0fT3wOfBwB5DzwOOSDvQC2RTgM8Ae4D/gaeA3YDdwN5AWvyxp+6gD2r4OmAq8AbwInAMmA/OAT4CbgBWStvYClzUjWkHbrwHLgF8LVHJ8DDxah7P9JHCil7M40oA/A7OBC8ANtSqlrQOVs30/8CWQat8r6cxg1RwRQNvPA88Bk4D7gJzBV4A5teSp5MlS4VuA/ZIeu1Kr+wa0/QTwIRDlRhT5eTswBvi2CKOd42AULilndNAYCcA7gK+BmbVMiyXtsh3Qt4FFBTgW8w6wXtLfV4LrSyS2FwAvAWOBX+JtwF0laUDmS/oun23fDNwJnJb0Ty9g1ZphVdB2qrK2LdFfBbb685/AIxXkUKDqa4cMaDs2kjalRe8Fola57J3qRQSJviGHA3gMuAdYI2lDUfDOArQLWAd8VTuTOW9vjUoFy6TIGYpS9wKfAjuK5wVuSfn91iKcvZJeHy5ci0hsZwzNk5Qh3xIFbLyks7aPAtPLgv+L4VZwDwLvA6uKz6XdfcVAi22PBz4q4+lVSRurXW2vKYKIZfwEHCmmXC35HngAyITYD0ys2t8XWflyBfhmvKm24QCk7aVFCPVc7WMszzKucknI+NoHPCUppt13VICZm2nNwjoksByY0SXL72Vi3FieZ97mgrpyqF432H9xScW2O0H+W6oSE/4D2FYuA9kzlUzVTwO3Ad9IOtx3ydo2aLGZLpABm5KW2Z4AfAbMLfsEcpGkKLqRuMwHu0CukrSpCCrvGlF6hBEVL5MUw24kOhp1B8gc+FTqgxpkFLuzSbjk6jpJOkC2tDPeKCkVbDRkO67fDTTC2VK7vgfyBUlfNEpV2zyAK4HNXRLmZfshScdHC6g9T+WDGU2XpkdZdNXhWs6g7dXAhmsJ7jKR2M77bG4kV7Wt9TZfBLgYEC7PSpcIAAAAAElFTkSuQmCC") : i("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIMSURBVFiFzdZPiE1RGADwXzPTTPIMQoodVpbKgpoUG5qExUi8DSVJQv4slJJsbNjYWFhNETWLUUosRDRLUVLCYhIiojFojHkW997uvefNGIuZc99Xp/fOO6/Or++c75xDi0d7hDlWYQNqeB9hvv+OGq6jUWjPsKZKVBbtuKOMy9p3bKqOlsROCWYc27AWr9PfJnCgKlgbluNqivmGDmzBrxR3sCocnMEw7sqXdEAzboeK9uLTFPVbed8VcesxglFJtqNEHbcxlIL68ChADuCSpEgauBULt11SDI3C5yJJdrLCCNsQumMBl+J5AKinY4slBfNTfsRcxJwYsK0YxD3J0r1RPut6Cv/twgp0xoDBBc3LNhr0RwJktNifAn7gsnLmsuxVinyVTn4i7dcLoH4sU96Tp2Pi2uSVehN75Gdev+QO7pIXztmZnLwTvf+AzU+/v5Rn50+A24gP2IW5M4mbJ7+ejgVjJ/EpHXuCa8p77nGK68FX5eWfsTgfTJoh92qu1vAaa+CtPJuDZuEh3CHZUyHyxSSYrL3DWKE/gStm8aybDDkmKYperJM/BrJMnsJuHMLq2YJNh/wsX7JuPAyQfTFg0yGPFMZreCCv4n2xgTQjxyXP+CxquK8iXBYhMlzOtliQBVg4RVuCG/iSto/YHAuWxWFTHyXDWBkbNFkc1cK4LI5rYVwW57QY7i/pZeJv8QQJRQAAAABJRU5ErkJggg==") : ((e = this.ve.cloneNode(!0)).firstChild.setAttribute("style", "font:" + t),
                    i(xe(e.innerHTML)))
                }, e), a)
            }
            function Si(e, t) {
                var i = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(Li)
                  , a = Ni;
                Ta(a) ? e(a) : new Gh("image",i).then(function(t) {
                    te.drawImage(t, 0, 0);
                    try {
                        te.getImageData(0, 0, 1, 1),
                        a = !1
                    } catch (i) {
                        a = 18 === i.code
                    } finally {
                        Ni = a,
                        e(a)
                    }
                }, t)
            }
            Ji.prototype.Ia = function() {
                var e, t, i, a, n = (e = this.a).getZoom(), r = e.ba(), o = (e = e.fa).Y.length, s = {}, l = 0, c = [Qi];
                if (r)
                    for (; l < o; l++)
                        if (i = e.get(l).getCopyrights(r, n))
                            for (t = 0; t < i.length; t++)
                                s[a = i[t].label] || (c.push(a),
                                s[a] = 1);
                return c.join(", ")
            }
            ,
            Ji.prototype.getCopyrights = Ji.prototype.Ia,
            Ji.prototype.Na = function() {
                return this.b.style
            }
            ,
            Ji.prototype.getStyle = Ji.prototype.Na,
            Ji.prototype.j = String.fromCharCode(169),
            Ji.prototype.D = function() {
                this.a.removeEventListener(this.a.v.Sf, this.f),
                this.a.fa.removeEventListener("add", this.c),
                this.a.fa.removeEventListener("remove", this.c),
                this.a.fa.removeEventListener("set", this.c),
                this.b.parentNode && Ge(this.b)
            }
            ,
            Ji.prototype.ya = function(e, t, i, a) {
                var n, r = e.getContext("2d"), o = window.getComputedStyle(this.i), s = $a(o.getPropertyValue("font-size"));
                n = this.ve.childNodes[0];
                var l = this.b.ownerDocument
                  , c = this.a.b
                  , h = +e.height
                  , p = nb(this.b.offsetLeft * t)
                  , d = nb(h - (c.offsetHeight - this.b.offsetTop) * t)
                  , u = (c = n.getBoundingClientRect ? n.getBoundingClientRect() : {}).width * t
                  , g = c.height * t
                  , m = sc;
                sa(a) && (m = function() {
                    a("capture_error")
                }
                ),
                n = this.j + " " + function(e) {
                    return (e = Ki(l, "div", null, e)).textContent || e.innerText || ""
                }(this.Ia()),
                r.font = s * t + "px " + o.getPropertyValue("font-family"),
                r.fillStyle = o.getPropertyValue("color"),
                r.textBaseline = "top",
                r.fillText(n, p, d + nb(c.height * t)),
                Ri(this, r.font, function(t) {
                    new Gh("image",t).then(function(t) {
                        r.drawImage(t, p, d, u, g),
                        i(e)
                    }, m)
                }, m)
            }
            ,
            Ji.prototype.capture = Ji.prototype.ya,
            Ji.prototype.sg = !1;
            var Oi = {
                "de-DE": "Nutzungsbedingungen",
                "en-US": "Terms of use",
                "en-GB": "Terms of use",
                "es-ES": "Condiciones de uso",
                "fi-FI": "Palveluehdot",
                "fr-FR": "Conditions d'utilisation",
                "it-IT": "Condizioni di utilizzo",
                "nl-NL": "Dienstvoorwaarden",
                "pl-PL": "Warunki \u015bwiadczenia us\u0142ugi",
                "pt-BR": "Termos de servi\xe7o",
                "pt-PT": "Termos do servi\xe7o",
                "ru-RU": "\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f",
                "tr-TR": "Servis Ko\u015fullar\u0131",
                "zh-CN": "\u4f7f\u7528\u6761\u6b3e"
            };
            function Ti(e, t) {
                if (D(this.x = +e))
                    throw new C(Ti,0,e);
                if (D(this.y = +t))
                    throw new C(Ti,1,t)
            }
            function Ui(e) {
                return tb(e.a(e))
            }
            function Vi(e) {
                e = e || {},
                this.j = e.minSpeed || 3,
                this.l = e.vectorTolerance || 3,
                this.i = e.maxSpeed || 300,
                this.m = e.timeTolerance || 50,
                this.b = [],
                this.f = this.g = !1,
                this.c = this.a = null
            }
            function Wi(e, t) {
                var i, a;
                return t ? (e.bifocal && t.bifocal ? (i = Xi(e),
                a = Xi(t)) : t.bifocal ? (i = Yi(e),
                a = Yi(t).distance(i) > Yi(t, !0).distance(i) ? Yi(t, !0) : Yi(t)) : e.bifocal && !t.bifocal ? (a = Yi(t),
                i = Yi(e).distance(a) > Yi(e, !0).distance(a) ? Yi(e, !0) : Yi(e)) : (i = e,
                a = t),
                i = new Ti(i.x - a.x,i = i.y - a.y)) : i = new Ti(0,0),
                i
            }
            function Zi(e) {
                var t;
                return !e || D(e.bx) || D(e.by) ? 0 : (t = e.bx - e.x,
                e = e.by - e.y,
                tb(t * t + e * e))
            }
            function Xi(e) {
                var t, i;
                return !e || D(e.bx) || D(e.by) || (t = e.x - e.bx,
                i = e.y - e.by,
                t = new M(e.x - t / 2,e.y - i / 2)),
                t
            }
            function Yi(e, t) {
                return t ? new M(e.bx,e.by) : new M(e.x,e.y)
            }
            function $i(e) {
                var t = e.b.length
                  , i = 0
                  , a = new Ti(0,0);
                if (e.f)
                    for (; --t && i < e.l; )
                        a = a.add(Wi(e.b[t], e.b[t - 1])),
                        i++;
                else
                    a = Wi(e.a, e.c);
                return 0 !== (t = Ui(e = a)) ? new Ti(e.x / t,e.y / t) : e
            }
            function aj(e) {
                var t;
                t = t || Date.now();
                var i = e.b.length
                  , a = e.b[i - 1]
                  , n = 0
                  , r = 0;
                if (e.f) {
                    for (; --i && n < e.l; )
                        r += Ui(Wi(e.b[i], e.b[i - 1])),
                        n++;
                    i = r / n
                } else
                    a = e.a,
                    i = Ui(Wi(e.a, e.c));
                return i = i >= e.j && t - a.ts <= e.m ? i > e.i ? e.i : i : 0
            }
            function bj(e, t, i, a) {
                bj.u.constructor.call(this),
                this.ac = e,
                this.za = a,
                this.a = e.appendChild(this.createElement(e.ownerDocument)),
                cj(this, t, i)
            }
            function cj(e, t, i) {
                e.size ? (e.size.w = t,
                e.size.h = i) : e.size = new Th(t,i),
                e.eh(e.a, e.a.style, t, i, e.za)
            }
            function dj(e, t) {
                e.Se !== t && (e.dh(t),
                e.Se = t)
            }
            function ej(e) {
                this.a = e
            }
            function fj(e, t) {
                fj.u.constructor.call(this, e),
                this.Nb = !(!t || !t.Nb),
                this.l = !(!t || !t.noWrap),
                this.g = {}
            }
            Ti.prototype.add = function(e) {
                return new Ti(this.x + e.x,this.y + e.y)
            }
            ,
            Ti.prototype.a = function(e) {
                if (!B(e, Ti))
                    throw new C(this.a,0,e);
                return (e = this.b(e)).x + e.y
            }
            ,
            Ti.prototype.b = function(e) {
                if (!B(e, Ti))
                    throw new C(this.b,0,e);
                return new Ti(this.x * e.x,this.y * e.y)
            }
            ,
            Ti.prototype.Ja = function(e) {
                return new Ti(this.x * e,this.y * e)
            }
            ,
            p = Vi.prototype,
            p.start = function(e, t) {
                if (D(e))
                    throw new C(this.start,0,e);
                this.g && this.clear(),
                this.o = e,
                this.g = !0,
                this.f = !!t
            }
            ,
            p.gh = function(e, t, i, a, n) {
                var r = D(e) ? 0 : D(t) ? 1 : null != i && D(i) ? 2 : null != a && D(a) ? 3 : null != n && D(n) ? 4 : A;
                if (0 <= r)
                    throw new C(this.gh,r,arguments[r]);
                this.g && (n = n || (new Date).getTime(),
                this.c = this.a,
                this.a = {
                    x: e,
                    y: t,
                    bx: null != i ? i : NaN,
                    by: null != a ? a : NaN,
                    ts: n,
                    bifocal: null != i && null != a
                },
                this.f && this.b.push(this.a))
            }
            ,
            p.clear = function() {
                this.b = [],
                this.f = this.g = !1,
                this.a = this.c = null
            }
            ,
            p.Fd = function(e) {
                if (D(e))
                    throw new C(this.Fd,0,e);
                return !!(this.o & e)
            }
            ,
            p.mb = function() {
                return this.g
            }
            ,
            p.Ge = ba(1),
            p.hg = function(e) {
                var t, i;
                if (t = this.a,
                D(e))
                    throw new C(this.hg,0,e);
                return t && this.c && (0 !== (t = Zi(this.c)) && (i = Zi(this.a),
                e = sb(ub(2, e) * (i / t)) / Cb)),
                e
            }
            ,
            v(bj, xc),
            p = bj.prototype,
            p.tg = !0,
            p.setVisibility = function(e) {
                e !== this.tg && (this.a.style.display = e ? "block" : "none",
                this.tg = e)
            }
            ,
            p.Se = 1,
            p.Bd = function() {
                return this.Se
            }
            ,
            p.D = function() {
                this.clear(),
                this.ac.removeChild(this.a),
                cj(this, 0, 0),
                this.a = this.ac = null,
                bj.u.D.call(this)
            }
            ,
            p.Te = 0,
            p.Ib = function() {
                ++this.Te
            }
            ,
            v(ej, xc),
            ej.prototype.od = function(e) {
                var t = this.b;
                e !== t && (this.b = e,
                e.Ib(),
                t && (--t.Te || t.J()))
            }
            ,
            ej.prototype.D = function() {
                var e = this.b;
                --e.Te || e.J()
            }
            ,
            v(fj, ej),
            fj.prototype.od = function(e) {
                fj.u.od.call(this, e),
                this.i = e.ac.ownerDocument
            }
            ;
            var gj = function(e, t) {
                var i = t.Ca();
                return B(i, Pf) ? i.ma : (e[0] = i,
                e)
            }
            .bind(null, []);
            function hj(e, t) {
                return Re(Qe(e[1]), Qe(t[1]), !0) || e[5] - t[5] || Re(Qe(e[1]), Qe(t[1]), !1)
            }
            function jj(e, t) {
                jj.u.constructor.apply(this, arguments),
                this.f = 0,
                this.c = [],
                this.Ee = z(this.Ee, this)
            }
            fj.prototype.ca = function(e, t, i, a, n, r) {
                var o, s, l, c, h, p, d, u, g, m = this.a;
                if (this.m = o = this.g,
                this.g = s = {},
                a >= m.min && a <= m.max && (e = (c = (l = this.fg(e, a, n, r)).markers).length)) {
                    for (a = [],
                    dj(n = this.b, m.opacity),
                    m = 0; m < e; m++)
                        for (r = c[m],
                        p = (h = gj(r)).length; p--; )
                            (d = i.geoToPixel(h[p])) && (this.l || (u = i.w,
                            d.x -= nb(d.x / u) * u),
                            d.add(t),
                            (u = o[g = r.ta() + "_" + p]) ? delete o[g] : u = {
                                marker: r
                            },
                            s[g] = u,
                            a.push([u, r, r.sb(), n, d.x, d.y]));
                    for (a.sort(hj),
                    e = a.length,
                    m = 0; m < e; m++)
                        this.wg.apply(this, a[m])
                }
                return !l || l.requested && l.requested === l.total || !l.requested && c.length === l.total ? ij.DONE : ij.PENDING
            }
            ,
            v(jj, fj),
            p = jj.prototype,
            p.fg = function() {
                return this.a.b.apply(this.a, arguments)
            }
            ,
            p.ca = function() {
                var e;
                this.Ee(),
                this.o = 0,
                e = jj.u.ca.apply(this, arguments);
                var t, i = this.b, a = this.m;
                for (t in a)
                    kj(this, i, a[t]);
                return 0 === this.c.length && e ? ij.DONE : ij.PENDING
            }
            ,
            p.od = function(e) {
                jj.u.od.call(this, e),
                this.j = e.za
            }
            ,
            p.Ee = function() {
                for (var e, t, i, a = this.c.length; a--; )
                    e = (i = this.c[a]).sd,
                    (t = i.sd.sb()).ff(i, t, e);
                this.c.length = 0
            }
            ,
            p.wg = function(e, t, i, a, n, r) {
                var o, s = t.j();
                this.Nb || (n = nb(n),
                r = nb(r)),
                e.detail && (s.b(e.bi) ? kj(this, a, e) : o = e.detail),
                o || (e.detail = o = Fe(i.i, this.i, i.c),
                this.f++,
                sa(i.ff) && this.c.push(o)),
                e.bi = s.a,
                o.style.zIndex = this.o++,
                o.sd = t,
                a.bc(o, n, r, 0, 0)
            }
            ;
            var lj, mj = "pointer-events", nj, oj;
            ve && (ve && jc !== x && (jc = (oj = /(MSIE\s+|rv\:)([^\);]+)(\)|;)/.exec(navigator.userAgent)) ? +oj[2] : x),
            nj = jc,
            9 === nj ? mj = "display" : 10 === nj && (mj = "visibility"));
            function kj(e, t, i) {
                t.clear(t = i.detail),
                delete t.sd,
                e.f--,
                (i = (e = i.marker).sb()).f && i.f(t, i, e)
            }
            function pj(e, t) {
                if (!e)
                    throw new C(pj,0,e);
                pj.u.constructor.call(this, e),
                this.f = {},
                this.g = t && t.Nb,
                this.l = t && t.noWrap,
                this.i = qj++
            }
            lj = mj,
            jj.prototype.Ma = function(e, t, i) {
                var a, n, r, o, s, l, c, h, p, d = this.j, u = De;
                if (this.f) {
                    for (e /= d,
                    t /= d,
                    a = (d = this.i).documentElement,
                    e += (r = (n = this.b.a).getBoundingClientRect()).left,
                    t += r.top; (s = l = d.elementFromPoint(e, t)) && s !== n && s !== a && l !== c; ) {
                        for (; (h = s.parentNode) && (!sa(h.contains) || !h.contains(n)); )
                            s = h;
                        if (h === n && (s !== l || "svg" !== s.nodeName) && 0 > u.indexOf(p = s.sd) && (u === De && (u = []),
                        u.push(p),
                        i))
                            break;
                        o || (o = []),
                        c = s.style,
                        o.push({
                            bg: c.getPropertyValue(lj),
                            $h: c.getPropertyPriority(lj),
                            style: c
                        }),
                        c.setProperty(lj, "visibility" === lj ? "hidden" : "none", "important"),
                        c = l
                    }
                    if (o)
                        for (t = o.length; t--; )
                            (e = o[t]).style.removeProperty(lj),
                            ra(e.bg) && e.style.setProperty(lj, e.bg, e.$h)
                }
                return u
            }
            ,
            jj.prototype.dd = function() {
                return 2
            }
            ,
            jj.prototype.D = function() {
                this.c.length = 0;
                var e, t = this.b, i = this.g;
                for (e in i)
                    kj(this, t, i[e]);
                this.b.J(),
                jj.u.D.call(this)
            }
            ,
            v(pj, ej);
            var qj = 0;
            pj.prototype.ca = function(e, t, i, a, n, r) {
                var o = nb(a)
                  , s = this.a
                  , l = o + (i.exp - s.pixelProjection.exp)
                  , c = s.max;
                a = s.tileSize;
                var h, p = s.opacity, d = this.b, u = d.Bd();
                h = d.size.w;
                var g = i.w
                  , m = i.x
                  , f = i.y
                  , y = {};
                if (o < s.min || o > c)
                    return ij.DONE;
                for (e = (n = s.requestTiles(e, l, n, r, this.i)).total,
                r = (n = n.tiles).length,
                this.j = i,
                this.m = t,
                this.c = l,
                u !== p && dj(d, p),
                i = a = a * g / (ub(2, l) * a),
                this.g || (a % 1 && (m /= g = i / (a = pb(a)),
                f /= g,
                g = ub(2, l) * a),
                m = pb(m),
                f = pb(f)),
                this.o = i,
                l = -a,
                o = h + a,
                s = 0; s < r; s++) {
                    if ((c = (h = n[s]).data) && (i = t.x - (m - h.x * a),
                    p = t.y - (f - h.y * a),
                    d.bc(c, i, p, a, a),
                    !this.l)) {
                        for (u = i; (u -= g) > l; )
                            d.bc(c, u, p, a, a);
                        for (u = i; (u += g) < o; )
                            d.bc(c, u, p, a, a)
                    }
                    y[this.c + "_" + h.x + "_" + h.y] = h
                }
                return this.f = y,
                r === e ? ij.DONE : ij.PENDING
            }
            ,
            pj.prototype.Ma = function(e, t, i) {
                if (Ta(this.c)) {
                    var a, n, r = this.o, o = r / this.a.tileSize, s = this.j, l = this.m;
                    e = s.x + (e - l.x),
                    t = s.y + (t - l.y),
                    a = pb(s.w / r);
                    var c = s = pb(e / r);
                    l = pb(t / r);
                    rb(c) >= a && (c %= a),
                    0 > c && (c = a + c),
                    (a = this.f[this.c + "_" + c + "_" + l]) && a.Ma && (n = a.Ma((e - r * s) / o, (t - r * l) / o, i))
                }
                return n || De
            }
            ,
            pj.prototype.dd = function() {
                return 0
            }
            ;
            var rj, sj = function() {
                function e() {}
                for (var t, i, a, n = Ra("o ms moz webkit "), r = 5; r-- && !t; )
                    t = n[r],
                    t = (i = w[t + (t ? "R" : "r") + "equestAnimationFrame"]) && !D(i.call(window, e)) && (a = w[t + (t ? "C" : "c") + "ancelAnimationFrame"]);
                return rj = t ? function(e) {
                    return i.call(w, e)
                }
                : function(e) {
                    return w.setTimeout(e, 25)
                }
                ,
                t ? function(e) {
                    return a.call(w, e)
                }
                : function(e) {
                    return w.clearTimeout(e)
                }
            }(), tj = w.performance && w.performance.now ? function() {
                return w.performance.now()
            }
            : function() {
                return w.Date.now()
            }
            ;
            function qh(e, t, i, a) {
                this.left = +e,
                this.top = +t,
                this.right = +i,
                this.bottom = +a
            }
            function ph(e, t) {
                return new qh(e.x,e.y,t.x,t.y)
            }
            r("H.math.Rect", qh),
            qh.prototype.set = qh,
            qh.prototype.set = qh.prototype.set,
            qh.prototype.tb = function() {
                return this.i || (this.i = new M(this.left,this.top))
            }
            ,
            qh.prototype.getTopLeft = qh.prototype.tb,
            qh.prototype.rb = function() {
                return this.f || (this.f = new M(this.right,this.bottom))
            }
            ,
            qh.prototype.getBottomRight = qh.prototype.rb,
            qh.prototype.a = function(e, t) {
                return this.left <= e && this.right >= e && this.top <= t && this.bottom >= t
            }
            ,
            qh.prototype.containsXY = qh.prototype.a,
            qh.fromPoints = ph,
            qh.prototype.clone = function() {
                return new qh(this.left,this.top,this.right,this.bottom)
            }
            ,
            qh.prototype.clone = qh.prototype.clone;
            var ij = {
                PENDING: 0,
                ACTIVE: 1,
                DONE: 2
            };
            function uj(e, t) {
                var i, a, n = t || {};
                if (!B(e, Element))
                    throw new C(uj,0,e);
                i = e.ownerDocument.createElement("div"),
                this.b = e,
                uj.u.constructor.call(this),
                this.padding = new qh(0,0,0,0),
                this.center = new M(0,0),
                this.margin = 0,
                this.element = i,
                i.style.zIndex = 0,
                i.style.height = i.style.width = "100%",
                i.style.position = "relative" === e.style.position ? "absolute" : "relative",
                this.resize(),
                e.appendChild(i),
                (a = n.padding) !== A && this.f(a.top, a.right, a.bottom, a.left),
                this.c((a = n.margin) !== A ? a : 0),
                (a = n.fixedCenter) !== A && (this.g = !!a)
            }
            function vj(e) {
                var t = e.padding;
                e.center.set((e.width + t.left - t.right) / 2 << 0, (e.height + t.top - t.bottom) / 2 << 0)
            }
            function wj(e, t, i, a) {
                var n = new qh(0,0,0,0);
                if (wj.u.constructor.call(this),
                this.za = a.pixelRatio,
                this.wa = {
                    1: n.clone(),
                    2: n.clone(),
                    4: n.clone()
                },
                this.g = e,
                !e)
                    throw new C(wj,0,e);
                if (xj(this),
                e.addEventListener(e.a.la, this.Dc, !1, this),
                this.N = z(this.N, this),
                this.C = z(this.C, this),
                this.B = z(this.B, this),
                e.startInteraction = this.N,
                e.interaction = this.C,
                e.endInteraction = this.B,
                this.I = t,
                !t)
                    throw new C(wj,1,t);
                if (this.O = z(this.O, this),
                this.j = z(this.j, this),
                this.s = z(this.s, this),
                t.startControl = this.O,
                t.control = this.j,
                t.endControl = this.s,
                t.addEventListener(t.c.la, this.zb, !1, this),
                this.Ga = i,
                !i)
                    throw new C(wj,2,i)
            }
            function xj(e) {
                var t = (s = e.g).width
                  , i = s.height
                  , a = (o = s.padding).top
                  , n = o.left
                  , r = o.bottom
                  , o = o.right
                  , s = s.margin
                  , l = -(t + n - o) / 2 << 0
                  , c = -(i + a - r) / 2 << 0
                  , h = (t = t + l,
                i = i + c,
                e.wa);
                e = e.za,
                h[1].set((l - s) * e, (c - s) * e, (t + s) * e, (i + s) * e),
                h[2].set(l * e, c * e, t * e, i * e),
                h[4].set((l + n) * e, (c + a) * e, (t - o) * e, (i - r) * e)
            }
            function zj(e, t) {
                e.style.transition = "opacity 1.5s",
                e.addEventListener("transitionend", function() {
                    t()
                }, !1),
                e.style.opacity = 0
            }
            r("H.map.render.RenderState", ij),
            v(uj, I),
            r("H.map.ViewPort", uj),
            uj.prototype.a = {
                la: "update",
                Oc: "sync"
            },
            uj.prototype.g = !0,
            uj.prototype.c = function(e) {
                if (this.margin !== +e) {
                    if (D(this.margin = +e))
                        throw new C(this.c,0,e);
                    vj(this),
                    this.dispatchEvent(this.a.la)
                }
            }
            ,
            uj.prototype.setMargin = uj.prototype.c,
            uj.prototype.f = function(e, t, i, a) {
                var n = this.padding;
                if (n.top !== e || n.right !== t || n.bottom !== i || n.left !== a) {
                    if (D(e + t + i + a))
                        throw new C(this.f);
                    n.top = e,
                    n.right = t,
                    n.bottom = i,
                    n.left = a,
                    vj(this),
                    this.dispatchEvent(this.a.la)
                }
            }
            ,
            uj.prototype.setPadding = uj.prototype.f,
            uj.prototype.resize = function() {
                var e = this.b.offsetWidth
                  , t = this.b.offsetHeight;
                this.width === e && this.height === t || (this.m = new Th(this.width,this.height),
                this.width = e,
                this.height = t,
                vj(this),
                this.dispatchEvent(this.a.la))
            }
            ,
            uj.prototype.resize = uj.prototype.resize,
            uj.prototype.D = function() {
                w.clearTimeout(this.i),
                this.i = null,
                this.b.removeChild(this.element),
                this.element = this.b = null,
                uj.u.D.call(this)
            }
            ,
            uj.prototype.startInteraction = uj.prototype.o,
            uj.prototype.interaction = uj.prototype.j,
            uj.prototype.endInteraction = uj.prototype.l,
            v(wj, I),
            r("H.map.render.RenderEngine", wj),
            wj.prototype.getBBox = wj.prototype.v,
            wj.prototype.Dc = function() {
                xj(this)
            }
            ,
            wj.prototype.D = function() {
                var e = this.I
                  , t = this.g;
                e.removeEventListener(e.c.la, this.zb, !1, this),
                e.startControl === this.O && (e.startControl = yj.prototype.B),
                e.control === this.j && (e.control = yj.prototype.v),
                e.endControl === this.s && (e.endControl = yj.prototype.s),
                t.removeEventListener(t.a.la, this.Dc, !1, this),
                t.startInteraction === this.N && (t.startInteraction = uj.prototype.o),
                t.interaction === this.C && (t.interaction = uj.prototype.j),
                t.endInteraction === this.B && (t.endInteraction = uj.prototype.l)
            }
            ,
            wj.prototype.getCamForBounds = wj.prototype.P,
            wj.prototype.ya = function() {
                return null
            }
            ,
            wj.prototype.setPointer = wj.prototype.sa;
            var Aj = {
                ZOOM: 1,
                HEADING: 2,
                TILT: 4,
                INCLINE: 8,
                COORD: 16
            };
            wj.InteractionModifiers = Aj,
            wj.prototype.ee = {
                Xf: "render"
            };
            var Bj = {
                P2D: 0,
                PANORAMA: 1
            };
            function Cj(e, t, i, a, n, r) {
                var o = n || "2d";
                Cj.u.constructor.apply(this, arguments),
                this.b = this.a.getContext(o, r),
                this.c = "2d" === o,
                this.f = o,
                this.g = r
            }
            function Dj() {
                I.call(this),
                this.reset()
            }
            function Ej(e) {
                Ej.u.constructor.call(this, Dj.prototype.g.Mf),
                this.offset = e
            }
            function Fj(e) {
                return {
                    x: 91.401472 * e.b,
                    y: 91.401472 * e.c,
                    z: e.f
                }
            }
            function Gj(e) {
                return e = Fj(e),
                tb(e.x * e.x + e.y * e.y + e.z * e.z)
            }
            function Hj(e) {
                var t = Fj(e);
                return e = Gj(e) || 1,
                {
                    x: t.x / e,
                    y: t.y / e,
                    z: t.z / e
                }
            }
            function Ij(e, t) {
                var i = t || {};
                B(e, Jj, Ij, 0),
                Ij.u.constructor.call(this, e),
                this.Nb = !!i.Nb,
                this.g = t && t.noWrap,
                this.i = i.yi || 0,
                this.c = [],
                this.f = {}
            }
            wj.EngineType = Bj,
            v(Cj, bj),
            p = Cj.prototype,
            p.createElement = function(e) {
                var t = (e = e.createElement("CANVAS")).style;
                return t.position = "absolute",
                t.top = t.left = 0,
                e
            }
            ,
            p.eh = function(e, t, i, a, n) {
                e.width = mb(i, 1),
                e.height = mb(a, 1),
                t.width = nb(i / n) + "px",
                t.height = nb(a / n) + "px"
            }
            ,
            p.dh = function(e) {
                this.b.globalAlpha = e
            }
            ,
            p.bc = function(e, t, i, a, n) {
                this.c && this.b.drawImage(e, t, i, a, n)
            }
            ,
            p.clear = function(e) {
                var t, i;
                this.c && (e ? this.b.clearRect(t = e.left, i = e.top, e.right - t, e.bottom - i) : this.a.width = this.size.w)
            }
            ,
            p.D = function() {
                this.a.width = this.a.height = 0,
                this.b = x,
                Cj.u.D.call(this)
            }
            ,
            v(Dj, I),
            Dj.prototype.start = function(e, t) {
                this.a && this.reset(),
                D(e) || D(t) || (this.atX = e,
                this.atY = t),
                this.a = !0
            }
            ,
            Dj.prototype.g = {
                Mf: "animationupdate"
            },
            v(Ej, Bc),
            Dj.prototype.mb = function() {
                return this.a
            }
            ,
            Dj.prototype.set = function(e, t, i) {
                !this.a || this.b === e && this.c === t && this.f === i || (this.b = e,
                this.c = t,
                this.f = i,
                this.dispatchEvent(new Ej(Fj(this))))
            }
            ,
            Dj.prototype.reset = function() {
                this.a = !1,
                this.atY = this.atX = null,
                this.f = this.c = this.b = 0
            }
            ,
            Dj.prototype.D = function() {
                this.reset(),
                Dj.u.D.call(this)
            }
            ,
            v(Ij, ej),
            Ij.prototype.ca = function(e, t, i, a, n) {
                var r, o, s, l, c, h, p, d, u, g, m, f, y, v, b = this.a, A = 0;
                if (a -= this.i,
                this.c.length = 0,
                r = this.f,
                this.f = o = {},
                a >= b.min && a <= b.max && (e = (l = (s = b.C(e, a, n)).overlays).length))
                    for (l.sort(Se),
                    a = this.b,
                    n = this.Nb,
                    v = b.opacity,
                    b = 0; b < e; b++)
                        h = (c = l[b]).S(),
                        p = i.geoToPixel(h.tb()),
                        d = i.geoToPixel(h.rb()),
                        h = i.w,
                        p.x >= d.x && (p.x -= h),
                        this.g || (A = -((p.x + d.x) / h >> 1) * h),
                        p.x += A,
                        p.add(t),
                        d.x += A,
                        d.add(t),
                        n || (p.round(),
                        d.round()),
                        (h = r[u = c.ta()]) ? delete r[u] : h = {
                            vi: c
                        },
                        o[u] = h,
                        g = p.x,
                        p = p.y,
                        f = (m = d.x) - g,
                        y = (d = d.y) - p,
                        dj(a, c.Bd() * v),
                        a.bc(c.Pb(), g, p, f, y),
                        h.Ae ? h.Ae.set(g, p, m, d) : h.Ae = new qh(g,p,m,d),
                        this.c.push(h);
                return !s || s.requested && s.requested === s.total || !s.requested && l.length === s.total ? ij.DONE : ij.PENDING
            }
            ,
            Ij.prototype.Ma = function(e, t, i) {
                for (var a, n, r = this.c, o = r.length; o--; )
                    if ((a = r[o]).Ae.a(e, t))
                        if (a = a.vi,
                        n)
                            n.push(a);
                        else if (n = [a],
                        i)
                            break;
                return n || De
            }
            ,
            Ij.prototype.dd = function() {
                return 0
            }
            ,
            Ij.prototype.D = function() {
                this.c = null,
                Ij.u.D.call(this)
            }
            ;
            var Kj = {
                zoom: {
                    min: -8,
                    max: 28
                },
                camera: {
                    alt: {
                        min: 0,
                        max: 0
                    },
                    pitch: {
                        min: 0,
                        max: 0
                    },
                    roll: {
                        min: 0,
                        max: 0
                    },
                    yaw: {
                        min: 0,
                        max: 0
                    },
                    fov: {
                        min: 70,
                        max: 70
                    }
                },
                interaction: {
                    ZOOM: 1,
                    Ki: 16
                },
                capture: !0
            };
            function Lj(e, t) {
                this.c = [],
                Lj.u.constructor.apply(this, arguments)
            }
            function Mj(e) {
                var t = 2;
                Mj.u.constructor.call(this, e),
                B(this.a, Oh) && (t = "2d" === e.v ? 0 : 1),
                this.c = t
            }
            function Nj(e) {
                return -e * (e - 2)
            }
            function Oj(e, t, i, a) {
                if (!sa(this.i = e))
                    throw new C(Oj,0,e);
                if (D(this.g = +t))
                    throw new C(Oj,1,t);
                if (!sa(this.f = i) && null != i)
                    throw new C(Oj,2,i);
                if (!sa(this.c = a) && null != a)
                    throw new C(Oj,3,a);
                this.id = Pj.next(),
                this.a = !1
            }
            r("H.map.render.p2d.capabilities", Kj),
            v(Lj, fj),
            p = Lj.prototype,
            p.fg = function() {
                return this.a.c.apply(this.a, arguments)
            }
            ,
            p.ca = function() {
                return this.c = [],
                Lj.u.ca.apply(this, arguments)
            }
            ,
            p.wg = function(e, t, i, a, n, r) {
                t = (o = i.b).w;
                var o = o.h
                  , s = i.a;
                this.Nb ? (n -= s.x,
                r -= s.y) : (n = nb(n - s.x),
                r = nb(r - s.y)),
                a.bc(i.Pb(), n, r, t, o),
                e.detail ? e.detail.set(n, r, n + t, r + o) : e.detail = new qh(n,r,n + t,r + o),
                this.c.push(e)
            }
            ,
            p.Ma = function(e, t, i) {
                for (var a, n, r, o = this.c, s = o.length, l = De; s-- && !((n = (a = o[s]).detail).a(e, t) && (a = a.marker,
                (!(r = a.sb().g) || r.a(e - n.left, t - n.top, 0)) && 0 > l.indexOf(a) && (l === De && (l = []),
                l.push(a),
                i))); )
                    ;
                return l
            }
            ,
            p.dd = function() {
                return 0
            }
            ,
            p.D = function() {
                this.c = null,
                Lj.u.D.call(this)
            }
            ,
            v(Mj, ej),
            Mj.prototype.ca = function(e, t, i, a, n, r) {
                var o = this.a
                  , s = this.b
                  , l = !(B(s, Cj) && "2d" === s.f);
                return a >= o.min && a <= o.max ? (l && s.setVisibility(!0),
                o.ca(s.a, {
                    bounds: e,
                    zoom: a,
                    screenCenter: t,
                    priorityCenter: r,
                    projection: i,
                    cacheOnly: n,
                    size: s.size,
                    pixelRatio: s.za
                })) : (l && s.setVisibility(!1),
                ij.DONE)
            }
            ,
            Mj.prototype.dd = function() {
                return this.c
            }
            ,
            r("H.util.animation.ease.LINEAR", function(e) {
                return e
            }),
            r("H.util.animation.ease.EASE_IN_QUAD", function(e) {
                return e * e
            }),
            r("H.util.animation.ease.EASE_OUT_QUAD", Nj),
            r("H.util.animation.ease.EASE_IN_OUT_QUINT", function(e) {
                return 1 > (e *= 2) ? ub(e, 5) / 2 : ub(e -= 2, 5) / 2 + 1
            }),
            r("H.util.animation.ease.EASE_OUT_CIRC", function(e) {
                return tb(2 * e - e * e)
            }),
            r("H.util.animation.Animation", Oj);
            var Pj = new ye;
            function Qj(e, t) {
                if (D(this.b = +e))
                    throw new C(Qj,0,e);
                this.a = 0,
                t && this.f(t)
            }
            function Rj(e, t, i, a) {
                Rj.u.constructor.apply(this, arguments)
            }
            function Sj(e, t) {
                this.a = e,
                this.b = t
            }
            function Tj(e, t, i) {
                var a, n, r, o, s, l = [], c = {
                    ac: e.a,
                    width: t.w,
                    height: t.h,
                    za: e.b
                };
                for (e = 0; e < i.length; e++) {
                    switch (a = (t = i[e]).dd(),
                    Ca(o = {}, c),
                    n = t.b,
                    a) {
                    case 0:
                        if (B(t.a, Oh) && (o.xe = t.a.F),
                        a = r && "2d" === r.f) {
                            a = o.xe;
                            var h = r.g;
                            a = h === a || (h && !a ? !h.alpha && !h.willReadFrequently : a && !h ? !a.alpha && !a.willReadFrequently : !a.alpha === !a.alpha && !h.willReadFrequently === !a.willReadFrequently)
                        }
                        a ? s = !1 : n && !s ? (r = n,
                        s = !1) : (r = new Cj(o.ac,o.width,o.height,o.za,"2d",o.xe),
                        s = !0);
                        break;
                    case 2:
                        r = n || new Rj(o.ac,o.width,o.height,o.za),
                        s = !n;
                        break;
                    default:
                        r = n || new Cj(o.ac,o.width,o.height,o.za,t.a.v,o.xe),
                        s = !n
                    }
                    l[l.length - 1] !== r && (r.a.style.zIndex = l.length,
                    l.push(r)),
                    t.od(r)
                }
                return l
            }
            function yj() {
                yj.u.constructor.call(this),
                this.a = {},
                this.g = {
                    position: new gc(0,0),
                    pitch: 0,
                    yaw: 0,
                    roll: 0,
                    fov: 70
                },
                this.b = 0
            }
            Oj.prototype.start = function() {
                var e, t, i = this, a = rj;
                t = function() {
                    var n = tj()
                      , r = n - i.Kb
                      , o = 1 < (o = r / i.g) ? 1 : o;
                    i.c && (o = i.c(o)),
                    i.i(o, r, n - e, n),
                    e = n,
                    1 <= o ? i.stop() : i.b = a(t)
                }
                ,
                i.Kb = tj(),
                e = i.Kb,
                i.a = !0,
                i.b = a(t)
            }
            ,
            Oj.prototype.start = Oj.prototype.start,
            Oj.prototype.stop = function(e) {
                sj(this.b),
                this.a = !1,
                e || this.f && this.f(this)
            }
            ,
            Oj.prototype.stop = Oj.prototype.stop,
            Oj.prototype.mb = function() {
                return this.a
            }
            ,
            Oj.prototype.isRunning = Oj.prototype.mb,
            r("H.util.kinetics.KineticMove", Qj),
            Qj.prototype.f = function(e) {
                return this.a = e,
                this
            }
            ,
            Qj.prototype.setInitialSpeed = Qj.prototype.f,
            Qj.prototype.i = function() {
                return Math.abs(this.a / this.b)
            }
            ,
            Qj.prototype.getDuration = Qj.prototype.i,
            Qj.prototype.c = function(e) {
                return this.a + this.b * e
            }
            ,
            Qj.prototype.getCurrentSpeed = Qj.prototype.c,
            Qj.prototype.g = function(e) {
                return this.a * e + this.b * e * e / 2
            }
            ,
            Qj.prototype.getCurrentPath = Qj.prototype.g,
            v(Rj, bj),
            p = Rj.prototype,
            p.createElement = function(e) {
                return (e = e.createElement("DIV")).style.position = "absolute",
                e
            }
            ,
            p.eh = function(e, t, i, a) {
                t.width = i + "px",
                t.height = a + "px"
            }
            ,
            p.dh = function(e) {
                this.a.style.opacity = e
            }
            ,
            p.bc = function(e, t, i) {
                var a = this.za
                  , n = e.style;
                n[hi("transform")] = "matrix(1,0,0,1," + t / a + "," + i / a + ")",
                e.parentNode !== this.a && (n.position = "absolute",
                this.a.appendChild(e))
            }
            ,
            p.clear = function(e) {
                e ? this.a.removeChild(e) : this.a.innerHTML = ""
            }
            ,
            v(yj, I),
            r("H.map.ViewModel", yj),
            yj.prototype.c = {
                la: "update",
                Oc: "sync"
            },
            yj.prototype.i = Ra("position pitch yaw roll fov zoom");
            var Uj = Ra("fov pitch position roll yaw zoom").reduce(function(e, t) {
                return e[t] = yi.prototype[t.toUpperCase()],
                e
            }, {});
            function Vj(e, t, i, a) {
                var n, r, o, s = a.length;
                for (e.f = 0,
                e.o = {},
                e.j = {}; s--; )
                    o = i[n = a[s]],
                    r = t[n],
                    null != o ? (e.o[n] = r,
                    e.j[n] = o,
                    t[n] = o,
                    ($b(o) && $b(r) && (o.lat !== r.lat || o.lng !== r.lng) || !$b(o) && o !== r) && (e.f |= Uj[n])) : delete t[n];
                return t
            }
            function Xj(e, t) {
                var i = t.zoom;
                Vj(e, e.g, t, e.i),
                i !== e.b && (e.f |= Uj.zoom),
                e.o.zoom = e.b,
                e.j.zoom = i,
                e.b = null != i ? i : e.b,
                e.g.zoom = e.b,
                e.a = {},
                e.dispatchEvent(new yi(e.c.Oc,e.j,e.o,e.f))
            }
            function Wj(e) {
                Wj.u.constructor.call(this, yj.prototype.c.la),
                this.requested = e
            }
            function O(e, t, i, a) {
                var n;
                O.u.constructor.call(this, e, t, i, a),
                this.K = new M(0,0),
                (n = a.renderBaseBackground) && (this.Bh = n.lower,
                this.Ah = n.higher),
                this.zh = !!a.enableSubpixelRendering,
                this.yb = !!a.noWrap,
                this.Vb = Yj,
                this.he = this.b = 0,
                this.jc = this.Yd = !1,
                this.l = new M(.5,.5),
                this.i = sb(this.za) / Cb,
                this.f = new Vi,
                this.c = a = new Dj,
                this.Tb = z(this.Tb, this),
                a.addEventListener(a.g.Mf, this.Tb),
                this.a = new jh,
                a = e.element,
                this.Ba = e = a.ownerDocument.createElement("div"),
                e.style.position = "absolute",
                e.style.width = e.style.height = "100%",
                e.style.zIndex = 0,
                a.insertBefore(e, a.firstChild),
                this.Nf = new Sj(this.Ba,this.za),
                this.m = [],
                Zj(this),
                i.addEventListener("update", this.Gg, !1, this),
                i.addEventListener(i.a.Lc, this.hf, !1, this),
                i.addEventListener(i.a.Nc, this.jf, !1, this),
                i.addEventListener(i.a.td, this.Ig, !1, this),
                this.Ub = z(O.prototype.Ub, this),
                this.G = ak,
                this.kh(),
                this.b = bk(this, this.I.getZoom() + this.i),
                ck(this),
                dk(this, t.Ab().position, this.b),
                ek(this),
                this.Dc()
            }
            yj.prototype.Ab = function() {
                return Vj(this, {}, this.g, this.i)
            }
            ,
            yj.prototype.getCameraData = yj.prototype.Ab,
            yj.prototype.Jb = function(e) {
                var t, i = e.animate;
                if (!e)
                    throw new C(this.Jb,0,e);
                if ((t = e.position) && !$b(t))
                    throw new C(this.Jb,0,"position");
                return this.a.zoom = D(e.zoom) ? D(this.a.zoom) ? this.b : this.a.zoom : e.zoom,
                t = this.a.zoom,
                e = Vj(this, {}, e, this.i),
                this.a = {
                    animate: i,
                    zoom: t,
                    camera: e
                },
                this.dispatchEvent(new Wj(this.a)),
                this
            }
            ,
            yj.prototype.setCameraData = yj.prototype.Jb,
            yj.prototype.l = function(e, t) {
                if (D(e = +e))
                    throw new C(this.l,0,e);
                this.a = {
                    animate: t,
                    zoom: e,
                    camera: this.a.camera || this.g
                },
                this.dispatchEvent(new Wj(this.a))
            }
            ,
            yj.prototype.setZoom = yj.prototype.l,
            yj.prototype.getZoom = function() {
                return this.b
            }
            ,
            yj.prototype.getZoom = yj.prototype.getZoom,
            yj.prototype.m = function() {
                var e = this.a.camera;
                return e.zoom = ab(this.a.zoom) ? this.a.zoom : e.zoom,
                e
            }
            ,
            yj.prototype.getRequestedCameraData = yj.prototype.m,
            yj.prototype.startControl = yj.prototype.B,
            yj.prototype.control = yj.prototype.v,
            yj.prototype.endControl = yj.prototype.s,
            v(Wj, Bc),
            v(O, wj),
            r("H.map.render.p2d.RenderEngine", O),
            O.prototype.type = Bj.P2D,
            O.prototype.type = O.prototype.type;
            var ak = 2;
            function fk(e, t, i) {
                return rb(t = i - t) < e.a.w / 2 ? t : t - e.a.w * i / rb(i)
            }
            function Zj(e) {
                var t, i = e.Ga.c(), a = 0, n = i.length;
                for ([e.U = {}, e.F = {}, e.ea = {}, e.ba = {}].forEach(function(e) {
                    e.Yc = [],
                    e.Fa = []
                }),
                e.T = i; a < n; a++)
                    qk(e, a, t = i[a], 1),
                    0 === a && rk(e, t, !0);
                ck(e)
            }
            function rk(e, t, i) {
                (i = i ? t.addEventListener : t.removeEventListener).call(t, t.a.Uf, e.Kg, !1, e),
                i.call(t, t.a.Tf, e.Kg, !1, e)
            }
            function qk(e, t, i, a) {
                var n, r, o, s, l;
                i && (l = {
                    Nb: e.zh,
                    yi: e.i,
                    noWrap: e.yb
                },
                i.ca ? B(i, Oh) ? r = new Mj(i) : B(i, Qh) && (s = new Mj(i)) : (i.requestOverlays && (n = new Ij(i,l)),
                i.requestTiles && (r = new pj(i,l)),
                i.requestMarkers && (o = new Lj(i,l)),
                i.requestDomMarkers && (s = new jj(i,l)))),
                a = a || 0,
                e.U.Fa.splice(t, a, n),
                e.F.Fa.splice(t, a, r),
                e.ea.Fa.splice(t, a, o),
                e.ba.Fa.splice(t, a, s),
                e.T = e.Ga.c(),
                e.m = Tj(e.Nf, tk(e), uk(e))
            }
            function uk(e) {
                return [].concat(e.F.Fa).concat(e.U.Fa).concat(e.ea.Fa).concat(e.ba.Fa).filter(Ta)
            }
            function ck(e) {
                var t;
                if (0 < e.T.length)
                    t = e.T[0].max,
                    e.be = e.T[0].min,
                    e.Zd = t;
                else {
                    var i = (t = e.ih.zoom).max;
                    e.be = t.min,
                    e.Zd = i
                }
                (t = vk(e, e.b)) !== e.b && (e.b = t,
                e.a.Ja(t),
                ek(e))
            }
            function hk(e, t) {
                var i, a, n = t.requested;
                return a = (i = n.camera) && i.position,
                i = vk(e, vk(e, n.zoom) + e.i),
                a = wk({
                    position: new gc(a.lat,a.lng)
                }),
                e.b = n.animate ? e.b : i,
                a.zoom = i,
                a
            }
            function dk(e, t, i) {
                var a = e.a;
                a.Ja(i),
                e.l = a.projection.qb(t),
                a.x = a.w * e.l.x,
                a.y = a.h * e.l.y
            }
            function vk(e, t) {
                var i = e.ih.zoom;
                return Qb(t, mb(i.min, e.be), lb(i.max, e.Zd))
            }
            function wk(e) {
                return e.yaw = e.pitch = e.roll = 0,
                e.fov = 70,
                e
            }
            function xk(e, t, i, a, n) {
                for (var r, o = t.length; o-- && !((r = t[o]) && r.Ma && (e = e.concat(r.Ma(i, a, n)),
                e.length && n)); )
                    ;
                return e
            }
            function tk(e) {
                return {
                    w: (e = e.wa[2]).right - e.left,
                    h: e.bottom - e.top
                }
            }
            function yk(e) {
                tj() - e.Xd < e.Vb && !e.Yb ? e.uh = rj(e.Ub) : (e.Yb && (sk(e),
                zk(e)),
                e.G = ak)
            }
            function sk(e) {
                e.U.Yc.length = 0,
                e.F.Yc.length = 0,
                e.ea.Yc.length = 0,
                e.ba.Yc.length = 0
            }
            function zk(e, t) {
                e.dispatchEvent({
                    type: e.ee.Xf,
                    target: t || e
                })
            }
            function ok(e) {
                e.Xd = tj(),
                e.G === ak && (e.Yb = !1,
                e.G = 1,
                yk(e))
            }
            function Bk(e) {
                return wk({
                    position: e.a.projection.Fc(e.l)
                })
            }
            function ek(e, t) {
                var i = Bk(e);
                t && (i.position = t),
                e.Fb = i,
                e.Fb.zoom = e.b - e.i
            }
            function Ck(e, t, i) {
                jk(e, t * e.za, i * e.za),
                e.K.set(0, 0),
                ek(e),
                ok(e)
            }
            function jk(e, t, i) {
                var a = e.a
                  , n = e.l;
                a.x = e.yb ? mb(0, lb(a.w, a.x + t)) : Ob(a.x + t, a.w),
                a.y = mb(0, lb(a.w, a.y + i)),
                n.x = a.x / a.w,
                n.y = a.y / a.h
            }
            function kk(e, t, i, a) {
                var n = e.za
                  , r = e.g.center;
                i === +i && a === +a ? (i = (i - r.x) * n,
                a = (a - r.y) * n,
                e.K.set(i, a),
                jk(e, i, a),
                e.a.Ja(t),
                jk(e, -i, -a)) : (e.K.set(0, 0),
                e.a.Ja(t)),
                e.b = t,
                ek(e),
                ok(e)
            }
            function gk(e) {
                pk(e, !0),
                e.c.mb() && e.s(!0),
                e.f.mb() && e.B(!0),
                pk(e, !0)
            }
            function Dk(e, t) {
                if (t) {
                    var i = {};
                    i.Xg = t.power,
                    i.Be = t.ease,
                    i.duration = t.duration,
                    e.o = i
                }
            }
            function bk(e, t) {
                return vk(e, vk(e, t - e.i) + e.i)
            }
            function Fk(e, t) {
                var i, a, n, r, o = e.l, s = e.a.projection.qb(t.camera.position), l = (c = e.a.b(s)).y, c = c.x, h = t.zoom, p = (o = (d = e.a.b(o)).y,
                d.x), d = e.b, u = Gj(e.c), g = e.c.atX, m = e.c.atY, f = 0;
                c = fk(e, p, c),
                o = tb((c = c - p) * c + (l = l - o) * l + (d = h - d) * d);
                0 !== u && 0 !== o && (i = c / o,
                a = l / o,
                n = d / o,
                r = u * u / (2 * o),
                ik(e, function(t, o) {
                    var l, c, p;
                    1 !== t ? ((p = n * (c = (l = u * o - r * o * o / 2) - f)) && (p = bk(e, e.b + p),
                    kk(e, bk(e, p), g, m)),
                    Ck(e, nb(i * c), nb(a * c)),
                    f = l) : (e.l = s,
                    kk(e, bk(e, h), g, m),
                    ek(e),
                    ok(e))
                }, 2 * o / u))
            }
            function Ek(e, t, i) {
                i = i || 0,
                t.z && kk(e, bk(e, e.b + t.z * i), e.c.atX, e.c.atY),
                Ck(e, t.x * i, t.y * i)
            }
            function ik(e, t, i, a, n) {
                e.A && e.A.mb() && e.A.stop(!0),
                e.A = new Oj(t,i,a,n),
                e.A.start()
            }
            function pk(e, t) {
                e.A && e.A.mb() && e.A.stop(t)
            }
            O.prototype.ih = Kj,
            O.prototype.getState = function() {
                return this.G
            }
            ,
            O.prototype.getState = O.prototype.getState,
            O.prototype.zb = function(e) {
                var t, i, a, n, r, o = this, s = (l = e.requested).animate, l = l.camera.position, c = o.a.geoToPixel(l), h = c.x, p = c.y, d = this.b, u = this.l, g = 0;
                gk(this),
                this.K.set(0, 0),
                e = hk(this, e),
                t = e.zoom,
                r = e.position,
                s ? (i = t - d,
                a = {
                    x: u.x,
                    y: u.y
                },
                s = this.a.b(a).x,
                ((n = this.a.projection.qb(l)).x !== this.l.x || n.y !== this.l.y || t !== this.b) && (h = fk(this, s, h),
                ik(this, function(e) {
                    var r, s = e - g;
                    t !== d && (c = o.a.b(n),
                    r = o.a.b(a),
                    h = fk(o, r.x, c.x),
                    p = c.y - r.y),
                    g = e,
                    jk(o, h * s, p * s),
                    kk(o, d += i * s),
                    ek(o),
                    ok(o)
                }, this.Ua, function() {
                    dk(o, r, t),
                    kk(o, t),
                    ek(o, r),
                    ok(o)
                }, this.Xa))) : (pk(this),
                dk(this, r, t),
                kk(this, t),
                ek(this, r)),
                ok(this)
            }
            ,
            O.prototype.Ua = 300,
            O.prototype.lh = function(e) {
                var t = ab(e);
                if (!t || t && 0 > e)
                    throw new C(this.lh,1,"positive number required");
                this.Ua = e
            }
            ,
            O.prototype.setAnimationDuration = O.prototype.lh,
            O.prototype.xh = function() {
                return this.Ua
            }
            ,
            O.prototype.getAnimationDuration = O.prototype.xh,
            O.prototype.Xa = Nj,
            O.prototype.mh = function(e) {
                if (!sa(e))
                    throw new C(this.mh,1,"function required");
                this.Xa = e
            }
            ,
            O.prototype.setAnimationEase = O.prototype.mh,
            O.prototype.yh = function() {
                return this.Xa
            }
            ,
            O.prototype.getAnimationEase = O.prototype.yh,
            O.prototype.kh = function() {
                this.Xa = Nj,
                this.Ua = 300
            }
            ,
            O.prototype.resetAnimationDefaults = O.prototype.kh,
            p = O.prototype,
            p.Gg = function() {
                ok(this)
            }
            ,
            p.hf = function(e) {
                var t = e.added;
                qk(this, e = e.idx, t),
                0 === e && (ck(this),
                rk(this, t, !0)),
                sk(this),
                ok(this)
            }
            ,
            p.jf = function(e, t) {
                var i, a = e.removed, n = e.idx;
                this.Xd = tj(),
                (i = this.U.Fa.splice(n, 1)[0]) && i.J(),
                (i = this.F.Fa.splice(n, 1)[0]) && i.J(),
                (i = this.ea.Fa.splice(n, 1)[0]) && i.J(),
                (i = this.ba.Fa.splice(n, 1)[0]) && i.J(),
                this.T = this.Ga.c(),
                0 === n && (rk(this, a, !1),
                ck(this)),
                this.m = Tj(this.Nf, tk(this), uk(this)),
                sk(this),
                t || ok(this)
            }
            ,
            p.Ig = function(e) {
                this.jf(e, !0),
                this.hf(e)
            }
            ,
            p.Kg = function() {
                ck(this),
                ok(this)
            }
            ,
            p.Ka = function(e, t) {
                var i = this.g.center
                  , a = this.za;
                return this.a.Aa((e - i.x) * a, (t - i.y) * a, null, this.yb)
            }
            ,
            O.prototype.screenToGeo = O.prototype.Ka,
            O.prototype.sa = sc,
            O.prototype.setPointer = O.prototype.sa,
            O.prototype.Za = function(e, t) {
                var i = this.Ka(e, t)
                  , a = this.I.Ab();
                return a.position = i,
                a
            }
            ,
            O.prototype.screenToCameraData = O.prototype.Za,
            O.prototype.Ya = function(e) {
                var t = this.za
                  , i = (a = this.g.center).x * t
                  , a = a.y * t;
                e = this.a.geoToPixel(e);
                var n = this.a.w;
                return new M(this.yb ? nb((e.x + i) / t) : nb((e.x - nb(e.x / n) * n + i) / t),nb((e.y + a) / t))
            }
            ,
            O.prototype.geoToScreen = O.prototype.Ya,
            O.prototype.v = function(e, t) {
                var i = this.wa[e || 4]
                  , a = this.a
                  , n = i.left - t
                  , r = a.Aa(n, i.top - t)
                  , o = i.right + t;
                i = a.Aa(o, i.bottom + t);
                return o - n >= a.w && (r.lng = -(i.lng = 180)),
                Xe(r, i)
            }
            ,
            O.prototype.getBBox = O.prototype.v,
            O.prototype.Ma = function(e, t, i) {
                var a = []
                  , n = this.za;
                return e *= n,
                t *= n,
                a = xk(a, this.ba.Fa, e, t, i),
                i && a.length ? a : (a = xk(a, this.ea.Fa, e, t, i),
                i && a.length ? a : (a = xk(a, this.F.Fa, e, t, i),
                i && a.length ? a : xk(a, this.U.Fa, e, t, i)))
            }
            ,
            O.prototype.getObjectsAt = O.prototype.Ma,
            O.prototype.kb = x,
            O.prototype.Dc = function() {
                var e, t, i, a, n, r = this.m.length, o = this.wa;
                for (this.g.g || (i = o[2].clone()),
                O.u.Dc.call(this),
                e = tk(this),
                this.K.set(0, 0),
                a = e.w,
                n = e.h; r--; )
                    (t = (e = this.m[r]).size).w === a && t.h === n || cj(e, a, n);
                this.kb = new Th(a,n),
                i && (r = o[2],
                jk(this, i.left - r.left, i.top - r.top),
                ek(this)),
                ok(this)
            }
            ,
            O.prototype.Ha = function() {
                return Kj
            }
            ,
            O.prototype.getCapabilities = O.prototype.Ha,
            O.prototype.Ub = function() {
                var e, t, i, a = this.F.Fa, n = this.g.center.clone().scale(this.za).round(), r = this.v(1, 0), o = this.v(1, 256), s = this.b, l = s - this.i, c = Ak, h = this.a;
                e = this.Bh;
                var p = this.Ah
                  , d = a[0];
                a = this.K;
                for (t = this.m.length; t--; )
                    B(i = this.m[t], Cj) && i.clear();
                if (d) {
                    if (e)
                        for (; e; )
                            t = s - e,
                            d.ca(r, n, h, t, !0, a),
                            --e;
                    if (p && this.jc)
                        for (i = 1; i <= p && (t = s + i,
                        h.Ja(t),
                        e = this.v(2, 0),
                        h.Ja(s),
                        !d.ca(e, n, h, t, !0, a)); i++)
                            ;
                }
                this.Vb = Yj,
                r = this.jh(r, n, s, !1, a, c.Yf, this.F, this.U),
                n = this.jh(o, n, l, !1, a, c.Qf, this.ea, this.ba),
                this.Yb = r && n,
                this.Fb && (Xj(this.I, this.Fb),
                this.Fb = null),
                this.kb && ((n = this.g).dispatchEvent(new yi(n.a.Oc,n.m,this.kb,yi.prototype.SIZE)),
                this.kb = x),
                s < this.he ? this.jc = !0 : this.Yd && (this.jc = !1),
                this.he = s,
                this.Yd = r,
                yk(this)
            }
            ,
            O.prototype.jh = function(e, t, i, a, n, r, o) {
                var s, l, c, h, p, d = Array.prototype.slice.call(arguments, 6), u = d.length, g = d[0].Fa.length, m = u * g, f = Ak, y = !!m;
                for (c = 0; c < m; c++)
                    r === f.Yf ? (p = c % u,
                    h = Math.floor(c / u)) : r === f.Qf && (p = Math.floor(c / g),
                    h = c % g),
                    s = d[p].Fa[h],
                    l = d[p].Yc,
                    s && ((s = s.ca(e, t, this.a, i, a, n)) === ij.ACTIVE && (this.Vb = 1 / 0),
                    s !== ij.DONE || l[h] || (zk(this, this.T[h]),
                    l[h] = !0),
                    l[h] || (y = !1));
                return y
            }
            ,
            O.prototype.D = function() {
                var e = this.Ga
                  , t = this.Ga.c()[0]
                  , i = this.g;
                sj(this.uh),
                pk(this, !0),
                e.removeEventListener("update", this.Gg, !1, this),
                e.removeEventListener(e.a.Lc, this.hf, !1, this),
                e.removeEventListener(e.a.Nc, this.jf, !1, this),
                e.removeEventListener(e.a.td, this.Ig, !1, this),
                t && rk(this, t, !1),
                uk(this).forEach(function(e) {
                    e.J()
                }),
                i.element && i.element.removeChild(this.Ba),
                this.Ba = null,
                this.G = 3,
                O.u.D.call(this)
            }
            ,
            O.prototype.rd = function(e, t, i) {
                kk(this, e = vk(this, vk(this, e) + this.i), t, i)
            }
            ,
            O.prototype.zoomAt = O.prototype.rd,
            O.prototype.P = function(e, t) {
                var i, a, n, r, o, s = this.Ha().zoom.max, l = e.Oa();
                return e.ed() || ((i = new jh(this.a.projection)).Ja(s),
                a = i.geoToPixel(e.tb()).round(),
                n = i.geoToPixel(e.rb()).round(),
                s = i.w,
                e.g() && (a.x -= s),
                t ? (r = i.geoToPixel(l),
                o = 2 * mb(r.x - a.x, n.x - r.x),
                r = 2 * mb(r.y - a.y, n.y - r.y)) : (o = n.x - a.x,
                r = n.y - a.y,
                l = i.a(a.add(n).scale(.5))),
                i = (a = this.wa[4]).right - a.left,
                a = a.bottom - a.top,
                s = -8 + lb(sb(i / o * s) / Cb, sb(a / r * s) / Cb) - this.i),
                {
                    zoom: vk(this, s),
                    position: l
                }
            }
            ,
            O.prototype.getCamForBounds = O.prototype.P,
            O.prototype.N = function(e, t) {
                gk(this),
                Dk(this, t),
                this.f.start(e, !!t)
            }
            ,
            O.prototype.startInteraction = O.prototype.N,
            O.prototype.C = function(e, t, i, a, n) {
                var r = !1;
                this.f.mb() && (this.f.gh(e, t, i, a, n),
                this.f.Fd(Aj.COORD) && (0 < Ui(n = Wi((n = this.f).a, n.c)) && (Ck(this, -n.x, -n.y),
                r = !0)),
                this.f.Fd(Aj.ZOOM) && e === +e && t === +t && i === +i && a === +a && (t = Xi(this.f.a),
                (e = this.f.hg(this.b)) !== this.b && (kk(this, e = bk(this, e), t.x, t.y),
                r = !0)),
                r && ok(this))
            }
            ,
            O.prototype.interaction = O.prototype.C,
            O.prototype.B = function(e) {
                var t, i, a, n, r = this;
                this.f.mb() && !e && (this.o && (e = aj(this.f),
                a = $i(this.f),
                n = this.o.duration,
                t = (this.o.Xg || 1) * e,
                i = new Qj(-t / n,t),
                !D(a.x) && !D(a.y) && 0 < t && r.f.Fd(Aj.COORD) && ik(this, function(e) {
                    t = i.c(e * n),
                    D(t) || Ck(r, nb(-a.x * t), nb(-a.y * t))
                }, n, void 0, this.o.Be)),
                this.o = null,
                this.f.clear())
            }
            ,
            O.prototype.endInteraction = O.prototype.B,
            O.prototype.O = function(e, t, i) {
                gk(this),
                this.c.start(t, i),
                Dk(this, e)
            }
            ,
            O.prototype.startControl = O.prototype.O,
            O.prototype.j = function(e, t, i, a, n, r, o) {
                if (D(i = +o || +i))
                    throw new C(this.j,2,i);
                if (D(e))
                    throw new C(this.j,0,e);
                if (D(t))
                    throw new C(this.j,2,t);
                this.c.mb() && this.c.set(e, t, i)
            }
            ,
            O.prototype.control = O.prototype.j,
            O.prototype.s = function(e, t) {
                var i, a, n, r, o, s, l, c = this;
                this.c.mb() && (pk(this, !0),
                1 <= (i = (a = tj()) - this.Ld) && Ek(this, Fj(this.c), i),
                !this.o || e || t ? "function" === typeof t && (t(i = {
                    camera: Bk(this),
                    zoom: this.b - this.i
                }),
                i.zoom += this.i,
                Fk(this, i)) : (i = Gj(this.c),
                o = Hj(this.c),
                s = this.o.duration,
                n = (this.o.Xg || 1) * i,
                r = new Qj(-n / s,n),
                !D(o.x) && !D(o.y) && 0 < n && ik(this, function(e, t, i, h) {
                    a && (i = h - a,
                    a = 0),
                    n = r.c(e * s) * i,
                    D(n) || ((l = o.z * n) && kk(c, bk(c, c.b + l), c.c.atX, c.c.atY),
                    Ck(c, nb(o.x * n), nb(o.y * n)))
                }, s, void 0, this.o.Be)),
                this.c.reset())
            }
            ,
            O.prototype.endControl = O.prototype.s,
            O.prototype.Tb = function(e) {
                var t = this
                  , i = e.offset;
                this.K.set(0, 0),
                i.x || i.y || i.z ? (this.Ld = tj(),
                ik(this, function(e, a, n, r) {
                    t.Ld = r,
                    Ek(t, i, n)
                }, Number.POSITIVE_INFINITY)) : pk(this, !0)
            }
            ,
            O.prototype.enter = sc,
            O.prototype.enter = O.prototype.enter,
            O.prototype.Va = function(e) {
                var t = this.I.Ab();
                this.zb({
                    requested: {
                        camera: t,
                        zoom: t.zoom,
                        animate: !0
                    }
                }),
                zj(this.Ba, e)
            }
            ,
            O.prototype.exit = O.prototype.Va,
            O.prototype.ya = function(e, t, i, a) {
                var n = this.Ba.ownerDocument.createElement("canvas")
                  , r = n.getContext("2d")
                  , o = this.za;
                for (n.width = (i - e) * o,
                n.height = (a - t) * o,
                i = 0; i < this.m.length; i++)
                    B(a = this.m[i], Cj) && r.drawImage(a.a, -e * o, -t * o);
                return n
            }
            ;
            var Ak = {
                Qf: 0,
                Yf: 1
            }
              , Yj = 1e3;
            function P(e) {
                var t = {};
                this.O = t.previousSibling = t.nextSibling = t,
                this.kb = new ye,
                P.u.constructor.call(this, e),
                e && "objects"in e && this.m(e.objects)
            }
            function Gk(e, t, i) {
                e.F(i.l)
            }
            function Hk(e) {
                e.K()
            }
            function Ik(e, t, i) {
                e.ua(i.A)
            }
            function Jk(e) {
                this.push(e)
            }
            function Kk(e) {
                var t;
                for (t in Ua(this, Kk),
                Kk.u.constructor.call(this, e),
                this.C = e = [],
                Pe)
                    e[Pe[t]] = new Le
            }
            function L(e) {
                e = e || {},
                L.u.constructor.call(this, e),
                this.f = e = new P({
                    provider: this,
                    min: e.min,
                    max: e.max
                }),
                e.ia(this),
                this.A = new jf,
                this.v = new jf,
                this.j = new jf,
                this.B = new jf
            }
            function Mk(e, t, i, a, n) {
                var r, o, s;
                if (t.c) {
                    for (e = t !== e.j,
                    n = !n,
                    o = 0,
                    i = (t = of(t, i)).length,
                    r = 0; r < i; r++) {
                        s = t[r].Lf;
                        for (var l = nb(a), c = s, h = void 0; (h = c.Ga <= l && c.ea >= l) && (c = c.Da); )
                            ;
                        h && (n || s.getVisibility(!0)) && (e || 1 === s.sb().getState()) && (t[o++] = s)
                    }
                    t.length = o
                } else
                    t = De;
                return t
            }
            function Nk(e, t, i, a, n, r) {
                var o;
                for (o = []; a <= n; a++)
                    o = o.concat(sh(e, i, a));
                for (e = o.length,
                Ei.call(this, r, e),
                this.l = i = [],
                this.f = z(this.f, this),
                this.c = z(this.c, this),
                this.L(1); e--; )
                    r = o[e],
                    i.push(ch(t, r[0], r[1], r[2], this.f, this.c))
            }
            function Ok(e, t) {
                var i = this;
                if (!sa(t))
                    throw new C(Pk,1,t);
                if (!sa(e.next || sa(e.cycle)))
                    throw new C(Ok,2,'Argument "mode" must implement H.util.AsyncQueue.Mode');
                this.b = [],
                this.c = [],
                this.g = e,
                this.i = t,
                this.l = function() {
                    Qk(i)
                }
                ,
                this.a = null,
                this.f = function() {
                    i.a || (i.a = w.setTimeout(i.l, 1))
                }
            }
            function Qk(e) {
                var t, i = e.c, a = 0, n = e.g;
                for (n.Kb = tj(),
                e.a = null; a < i.length; )
                    (t = i[a]).rg ? i.splice(a, 1) : a++;
                for (; t = n.next(e.b, e.c); )
                    t.cancelled ? t.done(null, "cancelled") : (i.push(t),
                    e.i(t, t.data))
            }
            function Sk() {
                Rk(this, null, null, null)
            }
            function Rk(e, t, i, a) {
                return e.data = t,
                e.cancelled = !1,
                e.rg = !1,
                e.b = i,
                e.c = a,
                e.a = null,
                e
            }
            function Tk(e, t) {
                Tk.u.constructor.call(this, new Uk(e), t)
            }
            function Uk(e) {
                if (isNaN(e) || 0 > e)
                    throw new C(Tk,1,'Argument "maxTime" must be a positive number');
                this.a = e,
                this.Kb = tj()
            }
            function Zf(e, t, i, a, n, r) {
                var o, s, l, c, h, p, d, u, g, m = e.length;
                if (m)
                    for (o = []; m--; )
                        for (p = (u = e[m]).length,
                        d = 0,
                        l = 1; l < p; l++)
                            (g = Vk(u[l - 1], u[l], i, t, a, n)) && (c = g[0],
                            h = g[1],
                            d && d.pa(c) ? s.push(h) : o.push(s = g),
                            d = h,
                            r && (l = p,
                            m = 0));
                else
                    o = e;
                return o
            }
            function Vk(e, t, i, a, n, r) {
                var o = e.x;
                e = -e.y;
                var s, l, c, h = t.x;
                if (t = -t.y,
                i = -i,
                r = -r,
                o > h) {
                    if (h > n || o < a)
                        return;
                    l = o,
                    c = e,
                    o = h,
                    e = t,
                    h = l,
                    t = c,
                    l = 1
                } else if (o > n || h < a)
                    return;
                if (e > t) {
                    if (t > i || e < r)
                        return;
                    s = 1,
                    e = -e,
                    t = -t,
                    c = r,
                    r = -i,
                    i = -c
                } else if (e > i || t < r)
                    return;
                if (o < a) {
                    if ((e += (a - o) * (t - e) / (h - o)) > i)
                        return;
                    o = a
                }
                if (e < r) {
                    if ((o += (r - e) * (h - o) / (t - e)) > n)
                        return;
                    e = r
                }
                return h > n && (t = e + (n - o) * (t - e) / (h - o),
                h = n),
                t > i && (h = o + (i - e) * (h - o) / (t - e),
                t = i),
                s && (e = -e,
                t = -t),
                l ? [new M(h,-t), new M(o,-e)] : [new M(o,-e), new M(h,-t)]
            }
            function ag(e, t, i, a, n, r, o, s, l, c) {
                return e = {
                    x: e,
                    y: t,
                    next: i || null,
                    nb: a || null,
                    ef: n || null,
                    df: r || null,
                    bb: o || 0,
                    Ce: s || 0,
                    ie: l || 0,
                    alpha: c || 0
                },
                a && (e.nb.next = e),
                i && (e.next.nb = e),
                e
            }
            function cg(e) {
                for (; e && e.bb; )
                    e = e.next;
                return e
            }
            function bg(e) {
                if (e)
                    for (; e.next; )
                        e = e.next;
                return e
            }
            function hg(e) {
                var t = e;
                if (t)
                    do {
                        t = t.next
                    } while (t != e && (!t.bb || t.bb && t.ie));return t
            }
            function gg(e) {
                var t = bg(e);
                t.nb.next = e,
                e.nb = t.nb
            }
            function dg(e, t, i, a, n, r) {
                var o, s, l, c = t.x - e.x, h = t.y - e.y;
                o = a.x - i.x;
                var p = a.y - i.y;
                return (s = c * p - h * o) ? (o = ((i.x - e.x) * p - (i.y - e.y) * o) / s,
                s = (h * (i.x - e.x) - c * (i.y - e.y)) / s,
                0 > o || 1 < o || 0 > s || 1 < s ? 0 : (0 === o ? l = e : 1 === o ? l = t : 0 === s ? l = i : 1 === s && (l = a),
                l && !r ? (l.x += 2480549651603763e-20,
                l.y += 7321997314118067e-20,
                l.zd && (l.zd.x = l.x,
                l.zd.y = l.y),
                dg(e, t, i, a, n)) : (n.Hi = e.x + o * c,
                n.Ii = e.y + o * h,
                n.Kh = o,
                n.Zf = s,
                1))) : 0
            }
            function fg(e, t, i) {
                var a, n, r, o, s, l, c, h = 0, p = {};
                for (a = ag(-137438953472, i = i || e.y),
                Array.isArray(t) ? (n = t[o = 0],
                s = function() {
                    return t[++o]
                }
                ) : (l = n = t,
                s = function() {
                    return l = l.next
                }
                ); c = s(); ) {
                    if (r = dg(a, e, n, c, p, !0),
                    0 === (n = p.Zf) || 1 === n)
                        return fg(e, t, i + 6e-5);
                    r && h++,
                    n = c
                }
                return h % 2
            }
            function eg(e, t, i) {
                for (t = t.next; t !== i && t.alpha <= e.alpha; )
                    t = t.next;
                e.next = t,
                e.nb = t.nb,
                e.next.nb = e,
                e.nb.next = e
            }
            function $f(e) {
                for (var t, i = null, a = 0, n = e.length; a < n; a++)
                    ((t = ag(e[a].x, e[a].y, i)).next = i) && (i.nb = t),
                    i = t;
                return i
            }
            function Wk(e, t, i, a) {
                return (e -= i) * e + (t -= a) * t
            }
            function Xk(e, t, i, a, n) {
                var r, o, s, l = 0, c = a, h = e[a].x, p = e[a].y, d = e[n].x, u = e[n].y, g = a + 1, m = Wk(h, p, d, u);
                if (m)
                    for (; g < n; )
                        (r = 0 > (s = (((r = (o = e[g++]).x) - h) * (d - h) + ((o = o.y) - p) * (u - p)) / m) ? Wk(r, o, h, p) : 1 < s ? Wk(r, o, d, u) : Wk(r, o, h + s * (d - h), p + s * (u - p))) > l && (l = r,
                        c = g - 1);
                else
                    for (; g < n; )
                        (r = Wk(r = (o = e[g++]).x, o = o.y, h, p)) > l && (l = r,
                        c = g - 1);
                return l >= t || 0 < i && c - a ? (--i,
                1 < c - a ? (a = Xk(e, t, i, a, c)).splice(a.length - 1, 1) : a = [e[a]],
                a = 1 < n - c ? a.concat(Xk(e, t, i, c, n)) : a.concat(e.slice(c, n + 1))) : a = [e[a], e[n]],
                a
            }
            function Yk(e, t, i, a, n, r, o, s) {
                Yk.u.constructor.call(this, t, i, a, null),
                this.key = e,
                this.C = s,
                this.b = n,
                1 !== r && (this.Wb = r),
                this.g = {},
                this.zL = o,
                this.F = qb(zf.MAX_LINE_WIDTH / 2 * this.Wb + 1)
            }
            function Zk(e) {
                return e.C.getInvalidations(Pe.SPATIAL)
            }
            function $k(e) {
                var t, i, a, n, r, o, s = Zk(e), l = s.a, c = e.f, h = c === l;
                if (!(h || s.j(c) || s.g(c))) {
                    if (h = e.a,
                    t = e.g,
                    s.f(c))
                        for (i = h.length; i--; )
                            (a = h[i]).j().f(c) && (h.splice(i, 1),
                            n = n || al(e, a.ta()));
                    if (s.i(c)) {
                        for (i = h.length; i--; )
                            if ((a = h[i]).j().i(c) && (r = 1,
                            (a = t[a.ta()]) && a.a)) {
                                n = 1;
                                break
                            }
                        r && h.sort(bl)
                    }
                    if (!n && s.b(c))
                        for (i = h.length; i--; )
                            if (h[i].j().b(c)) {
                                o = 1;
                                break
                            }
                    e.N !== c || o || (e.N = l,
                    e.c !== c || n || (e.c = l)),
                    e.f = l,
                    h = !0
                }
                return h
            }
            function cl(e, t) {
                this.b = e,
                this.a = t
            }
            function al(e, t) {
                var i = e.g
                  , a = i[t];
                if (a)
                    return delete i[t],
                    a.a
            }
            function bl(e, t) {
                return Re(Qe(e), Qe(t), !1)
            }
            v(P, K),
            r("H.map.Group", P),
            P.prototype.type = Pe.GROUP,
            P.prototype.F = function(e, t) {
                var i;
                return this.B = !0,
                i = P.u.F.call(this, e, t),
                this.B = !1,
                i && this.forEach(Gk, !0),
                i
            }
            ,
            P.prototype.setProvider = P.prototype.F,
            P.prototype.contains = function(e) {
                var t = this === e;
                if (!t && this.b && B(e, K))
                    for (; !t && e; )
                        e === this ? t = !0 : e = e.Da;
                return t
            }
            ,
            P.prototype.contains = P.prototype.contains,
            P.prototype.K = function() {
                this.U = A,
                this.forEach(Hk, !0)
            }
            ,
            P.prototype.resetZInfo = P.prototype.K,
            P.prototype.B = !1,
            P.prototype.ua = function(e) {
                var t = P.u.ua.call(this, e);
                return t && !this.B && (this.A = e,
                this.forEach(Ik, !0),
                delete this.A),
                t
            }
            ,
            P.prototype.invalidate = P.prototype.ua,
            P.prototype.forEach = function(e, t, i) {
                var a, n, r, o;
                if (this.b)
                    for (n = (a = this.O).nextSibling,
                    r = 0; n !== a; )
                        o = n.nextSibling,
                        e.call(i, n, r++, this),
                        t && B(n, P) && n.forEach(e, t, i),
                        n = o
            }
            ,
            P.prototype.forEach = P.prototype.forEach,
            P.prototype.s = function(e) {
                var t = [];
                return this.forEach(Jk, e, t),
                t
            }
            ,
            P.prototype.getObjects = P.prototype.s,
            P.prototype.S = function() {
                var e = null;
                return this.b && this.forEach(function(t) {
                    (t = t.S()) && (e = e ? e.wb(t) : t)
                }),
                e
            }
            ,
            P.prototype.getBounds = P.prototype.S,
            P.prototype.b = 0,
            P.prototype.Ba = function() {
                return this.b
            }
            ,
            P.prototype.getChildCount = P.prototype.Ba,
            P.prototype.V = function(e) {
                var t, i = this.O, a = i.previousSibling;
                if (B(e, K, this.V, 0),
                e.contains(this))
                    throw new kc(this.V,"The new object contains the parent group");
                if ((t = e.Da) !== this) {
                    if (t) {
                        t = e.previousSibling;
                        var n = e.nextSibling;
                        t.nextSibling = n,
                        n.previousSibling = t
                    }
                    e.Da = this,
                    K.u.ia.call(e, this),
                    a.nextSibling = e,
                    e.previousSibling = a,
                    e.nextSibling = i,
                    i.previousSibling = e,
                    this.b++
                }
                return i = e.F(this.l, this.V),
                e.fh = this.kb.next(),
                e.K(),
                i || e.ua(Me.Z_ORDER),
                e
            }
            ,
            P.prototype.addObject = P.prototype.V,
            P.prototype.m = function(e) {
                var t, i;
                for (Za(e, this.m, 0),
                t = e.length,
                i = 0; i < t; i++)
                    this.V(e[i])
            }
            ,
            P.prototype.addObjects = P.prototype.m,
            P.prototype.a = function(e) {
                if (!e || e.Da !== this)
                    throw new kc(this.a,"object not found");
                var t = e.previousSibling
                  , i = e.nextSibling;
                return t.nextSibling = i,
                i.previousSibling = t,
                e.Da = null,
                K.u.ia.call(e, null),
                delete e.previousSibling,
                delete e.nextSibling,
                B(e.l, L) && e.F(null, this.a),
                this.b--,
                e
            }
            ,
            P.prototype.removeObject = P.prototype.a,
            P.prototype.v = function(e) {
                var t, i;
                for (Za(e, this.v, 0),
                t = e.length,
                i = 0; i < t; i++)
                    this.a(e[i])
            }
            ,
            P.prototype.removeObjects = P.prototype.v,
            P.prototype.Ea = function() {
                var e = this.s();
                this.v(e)
            }
            ,
            P.prototype.removeAll = P.prototype.Ea,
            v(Kk, Qg),
            r("H.map.provider.ObjectProvider", Kk),
            Kk.prototype.N = function(e) {
                return this.C[e || Pe.ANY]
            }
            ,
            Kk.prototype.getInvalidations = Kk.prototype.N,
            Kk.prototype.o = function(e, t) {
                var i, a;
                t !== Me.NONE && (i = (a = this.C[Pe.ANY]).a + 1,
                a.c(i, t),
                (a = this.C[e.type]).c(i, t),
                e.j().c(i, t),
                Rg(this, e))
            }
            ,
            Kk.prototype.invalidateObject = Kk.prototype.o,
            Kk.prototype.requestOverlays = Kk.prototype.K,
            Kk.prototype.requestSpatials = Kk.prototype.m,
            Kk.prototype.requestSpatialsByTile = Kk.prototype.g,
            Kk.prototype.P = !1,
            Kk.prototype.requestMarkers = Kk.prototype.c,
            Kk.prototype.requestDomMarkers = Kk.prototype.b,
            v(L, Kk),
            r("H.map.provider.LocalObjectProvider", L),
            L.prototype.I = function() {
                return this.f
            }
            ,
            L.prototype.getRootGroup = L.prototype.I,
            L.prototype.o = function(e, t) {
                t & Me.SPATIAL && this.V(e),
                L.u.o.call(this, e, t)
            }
            ,
            L.prototype.invalidateObject = L.prototype.o,
            L.prototype.V = function(e) {
                var t;
                if (B(e, K, this.V, 0),
                e.l !== this)
                    throw new kc(this.V,"foreign object");
                this.a(e),
                t = B(e, xi) ? this.j : B(e, fh) ? this.B : B(e, Lk) ? this.A : this.v;
                var i = e.S()
                  , a = i.tb()
                  , n = i.rb();
                (t = (i = i.g()) ? kf(t, a.lat, n.lng, n.lat, a.lng, i) : kf(t, a.lat, a.lng, n.lat, n.lng, i)).Lf = e,
                e.Ua = t
            }
            ,
            L.prototype.a = function(e) {
                var t;
                if (e)
                    if (e.l !== this) {
                        if (B(e, K))
                            throw new kc(this.a,"foreign object")
                    } else
                        (t = e.Ua) && ((B(e, xi) ? this.j : B(e, fh) ? this.B : B(e, Lk) ? this.A : this.v).remove(t),
                        delete t.Lf,
                        delete e.Ua)
            }
            ,
            L.prototype.removeObject = L.prototype.a,
            L.prototype.ba = function() {
                return 0 < this.A.c
            }
            ,
            L.prototype.providesOverlays = L.prototype.ba,
            L.prototype.K = function(e, t, i) {
                return Mk(this, this.A, e, t, i).filter(function(e) {
                    return e.Pb()
                })
            }
            ,
            L.prototype.requestOverlays = L.prototype.K,
            L.prototype.s = function() {
                return 0 < this.v.c
            }
            ,
            L.prototype.providesSpatials = L.prototype.s,
            L.prototype.m = function(e, t, i) {
                return Mk(this, this.v, e, t, i)
            }
            ,
            L.prototype.requestSpatials = L.prototype.m,
            L.prototype.g = function(e, t) {
                return Mk(this, this.v, e.s(), e.zL, t)
            }
            ,
            L.prototype.requestSpatialsByTile = L.prototype.g,
            L.prototype.l = function() {
                return 0 < this.j.c
            }
            ,
            L.prototype.providesMarkers = L.prototype.l,
            L.prototype.c = function(e, t, i) {
                return Mk(this, this.j, e, t, i)
            }
            ,
            L.prototype.requestMarkers = L.prototype.c,
            L.prototype.i = function() {
                return 0 < this.B.c
            }
            ,
            L.prototype.providesDomMarkers = L.prototype.i,
            L.prototype.b = function(e, t, i) {
                return Mk(this, this.B, e, t, i)
            }
            ,
            L.prototype.requestDomMarkers = L.prototype.b,
            L.prototype.D = function() {
                this.f.Ea(),
                L.u.D.call(this)
            }
            ,
            v(Nk, Ei),
            Nk.prototype.f = function() {
                Hi(this, 2)
            }
            ,
            Nk.prototype.c = function() {
                Hi(this, 4)
            }
            ,
            Nk.prototype.Sc = function() {
                for (var e = this.l, t = e.length; t--; )
                    e[t].cancel();
                this.l = x
            }
            ,
            r("H.util.AsyncQueue", Ok),
            Ok.prototype.push = function(e, t) {
                if (!sa(t))
                    throw new C(this.push,1,t);
                var i = Rk(new Sk, e, this.f, t);
                return this.b.push(i),
                this.f(),
                i
            }
            ,
            Ok.prototype.push = Ok.prototype.push,
            Ok.Task = Sk,
            Sk.prototype.done = function(e, t) {
                this.rg = !0,
                this.b(),
                this.c(this, e, t)
            }
            ,
            Sk.prototype.done = Sk.prototype.done,
            Sk.prototype.cancel = function() {
                this.a && this.a(),
                this.cancelled = !0
            }
            ,
            Sk.prototype.cancel = Sk.prototype.cancel,
            Sk.prototype.f = function(e) {
                return this.a = e,
                this
            }
            ,
            Sk.prototype.setCancelFn = Sk.prototype.f,
            v(Tk, Ok),
            r("H.util.SequentialQueue", Tk),
            Uk.prototype.next = function(e) {
                return e.length && tj() - this.Kb < this.a ? e.shift() : null
            }
            ,
            v(Yk, $g),
            r("H.map.provider.SpatialTile", Yk),
            Yk.prototype.f = Mb,
            Yk.prototype.N = Mb,
            Yk.prototype.c = Mb,
            Yk.prototype.yc = function() {
                var e = Zk(this)
                  , t = e.a
                  , i = this.c
                  , a = i === t;
                return a || (this.C.P && !e.b(i) ? a = !0 : $k(this) && (a = this.c === t)),
                a
            }
            ,
            Yk.prototype.isCanvasValid = Yk.prototype.yc,
            Object.defineProperty(Yk.prototype, "valid", {
                get: function() {
                    return this.yc()
                },
                set: sc,
                configurable: !0
            }),
            Yk.prototype.a = De,
            Yk.prototype.I = function() {
                return this.a
            }
            ,
            Yk.prototype.getObjects = Yk.prototype.I;
            var dl = {};
            function fl(e, t, i, a, n, r, o, s, l) {
                var c, h, p, d = e.Ra, u = -o;
                if (o = r + o,
                s = s || 0,
                l === A && (l = d.length),
                n && e === If)
                    t.fillRect(0, 0, r, r);
                else if (l > s) {
                    for (t.beginPath(),
                    r = s; r < l; r++) {
                        if (p = (h = d[r]).length,
                        h === Tf)
                            t.moveTo(u, u),
                            t.lineTo(u, o),
                            t.lineTo(o, o),
                            t.lineTo(o, u);
                        else
                            for (c = h[0],
                            t.moveTo(c.x, c.y),
                            s = 1; s < p; s++)
                                c = h[s],
                                t.lineTo(c.x, c.y);
                        i && t.closePath()
                    }
                    i && n && t.fill(e.a !== Lb ? "evenodd" : "nonzero"),
                    a && t.stroke()
                }
            }
            function el(e, t, i) {
                var a;
                e.strokeStyle = t.strokeColor,
                e.lineWidth = t.lineWidth * i,
                e.lineCap = t.lineCap,
                e.lineJoin = t.lineJoin,
                e.miterLimit = t.miterLimit,
                e.setLineDash && (a = t.lineDash) !== De && (e.setLineDash(a),
                e.lineDashOffset = t.lineDashOffset)
            }
            function gl(e, t) {
                e.fillStyle = t.fillColor
            }
            function hl(e, t, i, a, n, r) {
                var o = n * a.width / 2
                  , s = (n = n * a.length / 2) / 2;
                a = 2 * n * a.frequency;
                var l = tb(ub(n, 2) + ub(o, 2));
                e = new qh(l,l,e = e.b - l,e),
                i = i.Ra;
                var c, h, p, d, u, g, m, f, y, v, b, A = Db / 2;
                for (r = r || 0,
                l = i.length; l-- > r; ) {
                    if (g = 0,
                    d = h = (c = i[l]).length) {
                        for (d = (p = c).length,
                        u = 0; --d; )
                            u += p[d].distance(p[d - 1]);
                        d = (p = u) >= a
                    }
                    if (d)
                        for (u = (d = p / ((d = lb(pb(p / a), 1e3)) + 1)) / 2; --h; ) {
                            for (m = (f = c[h]).distance(y = c[h - 1]); u <= g + m; )
                                b = f.x + (y.x - f.x) * (v = (u - g) / m),
                                v = f.y + (y.y - f.y) * v,
                                e.a(b, v) && (t.save(),
                                t.translate(b, v),
                                t.rotate(-Ab((y.y - f.y) / (f.x - y.x)) + (f.x < y.x ? A : -A)),
                                t.beginPath(),
                                t.moveTo(-o, -n),
                                t.lineTo(0, n),
                                t.lineTo(o, -n),
                                t.lineTo(0, -s),
                                t.closePath(),
                                t.fill(),
                                t.restore()),
                                u += d;
                            g += m
                        }
                }
            }
            Yk.prototype.j = function() {
                var e, t = this.b + "_" + this.Wb, i = dl[t];
                return i || (i = -this.F,
                e = this.b - i,
                i = dl[t] = new qh(i,i,e,e)),
                i
            }
            ,
            Yk.prototype.getPxClipRect = Yk.prototype.j,
            Yk.prototype.s = function() {
                var e, t, i = this.K;
                return i || (t = this.B(),
                i = 0,
                e = this.b,
                this.z && (e -= i += this.j().top),
                i = this.K = Xe(t.a(new M(i,i)), t.a(new M(e,e)))),
                i
            }
            ,
            Yk.prototype.getGeoClipRect = Yk.prototype.s,
            Yk.prototype.B = function() {
                var e, t = this.P;
                return t || (e = this.b,
                (t = this.P = new jh(A,e)).Ja(this.z),
                t.x = this.x * e,
                t.y = this.y * e),
                t
            }
            ,
            Yk.prototype.getPxProj = Yk.prototype.B,
            Yk.prototype.Wb = 1,
            Yk.prototype.pb = function() {
                return this.Wb
            }
            ,
            Yk.prototype.getPixelRatio = Yk.prototype.pb,
            Yk.prototype.o = function() {
                var e = this.data;
                return this.data = null,
                this.c = Mb,
                e
            }
            ,
            Yk.prototype.releaseCanvas = Yk.prototype.o,
            Yk.prototype.m = function() {
                this.g = {},
                delete this.a,
                this.f = Mb
            }
            ,
            Yk.prototype.releaseData = Yk.prototype.m,
            Yk.prototype.ca = function(e) {
                var t, i, a, n, r, o, s, l, c, h = e.getContext("2d"), p = s = 0;
                if (t = Zk(this),
                i = this.f,
                a = this.a,
                !$k(this)) {
                    for (s = a.length; s--; )
                        ((n = (o = a[s]).j()).f(i) || n.g(i)) && al(this, o.ta());
                    this.a = this.C.requestSpatialsByTile(this, !1, !1).sort(bl),
                    this.f = t.a
                }
                if (this.c < this.f) {
                    if (i = (t = this.a).length)
                        for (e.width = e.height = this.b,
                        h.clearRect(0, 0, this.b, this.b),
                        a = this.g,
                        n = 0; n < i; n++)
                            if (l = (s = a[r = (o = t[n]).ta()]) ? s.b : o.getGeometriesForTile(this)) {
                                if (s)
                                    o.j().b(this.c) && (s.a = Hf(o, l)),
                                    s = s.a;
                                else {
                                    s = Hf(o, l),
                                    c = l;
                                    for (var d = o.B ? 2 : 0, u = c.length, g = void 0, m = g = void 0, f = void 0; u--; )
                                        if ((g = c[u]) !== If)
                                            for (g = (m = g.Ra).length; g--; )
                                                4 < (f = m[g]).length && (m[g] = Xk(f, .36, d || 0, 0, f.length - 1));
                                    this.g[r] = new cl(l,s)
                                }
                                if (s) {
                                    for (h.save(),
                                    c = o.B ? this.T : this.O,
                                    r = 0; r < l.length; r++)
                                        c.call(this, o, l[r], o.Na(), h);
                                    if (l = o.getLabels(this))
                                        for (o = h,
                                        r = l.length,
                                        c = c = u = d = d = void 0; r--; )
                                            for (c = (d = l[r]).size,
                                            o.font = c + "px " + d.font,
                                            o.fillStyle = d.color,
                                            o.textAlign = "center",
                                            o.translate(d.x, d.y),
                                            o.rotate(d.angle),
                                            c = d.lineHeight || 1.375 * c,
                                            u = (d = d.lines).length; u--; )
                                                o.fillText(d[u], 0, u * c);
                                    h.restore()
                                }
                                p |= s
                            }
                    this.data = p ? e : null,
                    this.N = this.c = this.f
                } else
                    this.data && (p = 1);
                return 0 < p
            }
            ,
            Yk.prototype.render = Yk.prototype.ca,
            Yk.prototype.O = function(e, t, i, a) {
                var n;
                i.b && (el(a, i, this.Wb),
                fl(t, a, !1, !0, !1, this.b, this.F)),
                i.a && (n = e.s) && n.fd && (gl(a, n),
                hl(this, a, t, n, i.lineWidth))
            }
            ,
            Yk.prototype.T = function(e, t, i, a) {
                var n, r, o = i.c, s = i.b, l = this.b, c = this.F;
                t === If ? o && (gl(a, i),
                a.fillRect(0, 0, l, l)) : (s && el(a, i, this.Wb),
                i.a && (n = e.s) && (r = i.lineWidth,
                n.fd || (n = null)),
                (e = t.b) === Lb ? ((s || o) && (gl(a, i),
                fl(t, a, !0, s, o, l, this.F)),
                n && (gl(a, n),
                hl(this, a, t, n, r, 0))) : (o && (gl(a, i),
                fl(t, a, !0, !1, o, l, c, 0, e)),
                s && fl(t, a, !1, s, !1, l, c, e),
                n && (gl(a, n),
                hl(this, a, t, n, r, e))))
            }
            ;
            var il = [];
            function jl(e, t) {
                var i, a;
                jl.u.constructor.call(this, t),
                this.m = e,
                this.B = i = t.pixelRatio,
                this.tileSize = a = 1 << nb(Nb((t.tileSize || 256) * i)),
                this.C = Tg(a, i),
                this.Qe = z(this.Qe, this),
                this.gf = z(this.gf, this),
                this.Re = z(this.Re, this),
                this.Pe = z(this.Pe, this),
                this.g = z(this.g, this),
                this.m.addEventListener(Qg.prototype.F.la, this.g, !1, this),
                this.b = [],
                this.c = new Vg(t.tileCacheSize || 256,this.Qe),
                this.f = new Vg(t.dataCacheSize || 512,this.gf),
                this.v = new Tk(20,this.Re),
                this.a = {},
                this.j = tj()
            }
            function Pk(e) {
                var t = "getURL";
                if (!e || !sa(e[t]))
                    throw new C(Pk,0,"options." + t);
                if (Pk.u.constructor.call(this, e),
                this.P = this[t] = e[t],
                this[t = "tileSize"] = e[t] || 256,
                this.I = {
                    crossOrigin: e.crossOrigin
                },
                this.b = w.URL || w.webkitURL,
                Ta(this.I.crossOrigin))
                    e = !!this.I.crossOrigin;
                else {
                    e = this.P(0, 0, 0);
                    t = window.location;
                    var i = document.createElement("a");
                    i.href = e,
                    e = i.hostname === t.hostname && i.port === t.port && i.protocol === t.protocol
                }
                (this.O = e && !!Gh.prototype.b[Hh] && !!this.b) && this.g.c(z(this.ea, this))
            }
            function oh(e, t) {
                var i = t || {}
                  , a = i.opacity;
                this.opacity = Ta(a) ? a : 1,
                nh.call(this, e, i)
            }
            function Jj(e, t) {
                var i = t || {};
                i.tileSize = i.tileSize || 256,
                i.pixelRatio = i.pixelRatio || 1,
                i.max = 28,
                this.f = new jl(e,i),
                this.i = new oh(this.f,{
                    opacity: 1
                }),
                i.minWorldSize = this.f.tileSize,
                Jj.u.constructor.call(this, i),
                this.opacity = this.i.opacity,
                this.tileSize = this.i.tileSize,
                this.j = e,
                this.o = z(this.o, this),
                this.f.addEventListener(this.f.F.la, this.o),
                e.addEventListener("update", this.o)
            }
            Yk.prototype.Ma = function(e, t, i) {
                for (var a, n, r, o, s, l, c, h = this.a, p = h.length, d = De, u = this.Wb; p--; )
                    if ((n = h[p]).getVisibility(!0) && (r = this.g[n.ta()]) && (o = r.b)) {
                        for (l = "none" !== (a = n.Na()).fillColor && n.B,
                        c = "none" === a.strokeColor ? 0 : a.lineWidth * u,
                        a = o.length; a--; ) {
                            var g;
                            if (s = o[a],
                            !(g = l && s === If) && (g = l || c)) {
                                g = e;
                                var m = t
                                  , f = l
                                  , y = c
                                  , v = s.a
                                  , b = s.b
                                  , A = b !== Lb
                                  , C = void 0
                                  , w = void 0
                                  , _ = (s = s.Ra).length
                                  , x = void 0
                                  , S = void 0
                                  , T = void 0
                                  , E = void 0
                                  , k = void 0
                                  , L = (w = x = void 0,
                                0)
                                  , P = 0
                                  , z = (w = void 0,
                                !1);
                                for (E = 0; E < _; E++)
                                    if (C = !(w = E >= b) && E >= v,
                                    (x = s[E]) === Tf && f)
                                        C ? L++ : P++;
                                    else {
                                        for (T = x.length,
                                        il.length = 2 * T,
                                        k = 0; k < T; k++)
                                            S = x[k],
                                            il[2 * k] = S.x,
                                            il[2 * k + 1] = S.y;
                                        if (x = f && !w,
                                        w = A && !w ? 0 : y,
                                        x || w) {
                                            if (2 === (w = Ub(g, m, il, w, x)) || 1 === w) {
                                                z = !0;
                                                break
                                            }
                                            if (3 === w)
                                                if (C)
                                                    L++;
                                                else if (P++,
                                                v === Lb)
                                                    break
                                        }
                                    }
                                g = z || 0 < P && !(L % 2)
                            }
                            if (g) {
                                d === De && (d = []),
                                d.push(n);
                                break
                            }
                        }
                        if (i && d.length)
                            break
                    }
                return d
            }
            ,
            v(jl, Sg),
            r("H.map.provider.SpatialTileProvider", jl),
            jl.prototype.g = function(e) {
                e.target.type === Pe.SPATIAL && Rg(this, e.target)
            }
            ,
            jl.prototype.o = function(e, t, i, a) {
                var n, r = this.getTileKey(e, t, i);
                if (n = this.c.get(r, a)) {
                    if (a || n.yc())
                        return n;
                    a || this.c.g(r)
                }
                if ((n = this.f.get(r, a)) && (a || $k(n)))
                    return e = this.b.pop() || document.createElement("canvas"),
                    n.ca(e) || this.b.push(e),
                    this.c.add(r, n, 1),
                    n;
                a || ((n = this.a[r]) ? n.count++ : ((n = this.v.push([r, e, t, i], this.Pe)).count = 1,
                this.a[r] = n))
            }
            ,
            jl.prototype.requestTile = jl.prototype.o,
            jl.prototype.T = function(e, t, i) {
                this.K(this.getTileKey(e, t, i))
            }
            ,
            jl.prototype.cancelTile = jl.prototype.T,
            jl.prototype.K = function(e) {
                var t;
                (t = this.a[e]) && (t.count--,
                t.count || (t.cancel(),
                delete this.a[e]))
            }
            ,
            jl.prototype.cancelTileByKey = jl.prototype.K,
            p = jl.prototype,
            p.Re = function(e, t) {
                var i = t[0]
                  , a = t[1]
                  , n = t[2]
                  , r = t[3];
                a = (i = this.c.get(i) || new Yk(i,a,n,r,this.tileSize,this.B,r + this.C,this.m)).data || this.b.pop() || document.createElement("canvas");
                i.ca(a) || this.b.push(a),
                t.push(i),
                e.done(i)
            }
            ,
            p.Pe = function(e, t) {
                var i = e.data[0];
                t && this.c.add(i, t, 1),
                delete this.a[i],
                Rg(this)
            }
            ,
            p.Qe = function(e, t) {
                t.data && this.b.push(t.o()),
                this.f.add(e, t, 1)
            }
            ,
            p.gf = function(e, t) {
                t.m()
            }
            ,
            p.D = function() {
                for (var e in this.a)
                    this.a[e].cancel();
                this.c.Ea(),
                this.f.Ea(),
                this.b.length = 0,
                jl.u.D.call(this)
            }
            ,
            v(Pk, N),
            r("H.map.provider.ImageTileProvider", Pk),
            Pk.prototype.v = function() {
                return this.tileSize
            }
            ,
            Pk.prototype.getEntryWeight = Pk.prototype.v,
            Pk.prototype.c = function(e, t, i, a, n, r) {
                var o, s, l = this, c = this.P(e, t, i);
                return e = null,
                c ? (s = w.setTimeout(function() {
                    l.O ? (o = new Gh(Hh,c,r)).then(function(e) {
                        var t = new Image;
                        t.onload = z(a, null, t, {
                            zi: e
                        }),
                        t.onerror = z(n, null, "bad url");
                        try {
                            t.src = l.b.createObjectURL(l.f(e))
                        } catch (i) {}
                    }, n) : o = new Gh("image",c,r,l.I).then(a, n)
                }, 150),
                e = {
                    cancel: function() {
                        o ? o.cancel() : w.clearTimeout(s)
                    }
                }) : a(null),
                e
            }
            ,
            Pk.prototype.requestInternal = Pk.prototype.c,
            Pk.prototype.Ga = function(e, t) {
                var i = new Image;
                i.onload = function() {
                    t(this)
                }
                ,
                i.src = this.b.createObjectURL(this.f(e))
            }
            ,
            Pk.prototype.f = function(e) {
                var t = w.BlobBuilder || w.WebKitBlobBuilder || w.MozBlobBuilder
                  , i = Pk.prototype;
                return i.f = t ? function(e) {
                    var i = new t;
                    return i.append(e),
                    i.getBlob("application/octet-stream")
                }
                : function(e) {
                    return new Blob([e],{
                        type: "application/octet-stream"
                    })
                }
                ,
                i.f(e)
            }
            ,
            Pk.prototype.ea = function(e, t) {
                var i = t.data;
                i && i instanceof HTMLImageElement && this.b.revokeObjectURL(i.src)
            }
            ,
            v(oh, nh),
            r("H.map.layer.TileLayer", oh),
            oh.prototype.g = function(e, t, i, a, n) {
                if (!B(e, G))
                    throw new C(this.g,0,e);
                if (D(t = +t))
                    throw new C(this.g,1,t);
                var r;
                return t = pb(t),
                this.pixelProjection.Ja(t),
                e = this.j(e),
                r = this.i(e, t),
                this.o(r, e.left > e.right, t, i, a, n)
            }
            ,
            oh.prototype.requestTiles = oh.prototype.g,
            v(Jj, mh),
            r("H.map.layer.ObjectLayer", Jj),
            Jj.prototype.o = function(e) {
                e.currentTarget !== this.f && e.target.type === Pe.SPATIAL || this.l()
            }
            ,
            Jj.prototype.Pa = function() {
                return this.j
            }
            ,
            Jj.prototype.getProvider = Jj.prototype.Pa;
            var kl = {
                markers: De,
                total: 0
            };
            Jj.prototype.c = function(e, t, i) {
                var a, n = this.j;
                return n.providesMarkers() && (a = n.requestMarkers(e, t, !0, i)).length ? {
                    markers: a,
                    total: a.length
                } : kl
            }
            ,
            Jj.prototype.requestMarkers = Jj.prototype.c,
            Jj.prototype.b = function(e, t, i) {
                var a, n = this.j;
                return n.providesDomMarkers() && (a = n.requestDomMarkers(e, t, !0, i)).length ? {
                    markers: a,
                    total: a.length
                } : kl
            }
            ,
            Jj.prototype.requestDomMarkers = Jj.prototype.b;
            var ll = {
                tiles: De,
                total: 0
            };
            Jj.prototype.g = function(e, t, i, a) {
                var n;
                return this.j.providesSpatials() ? (n = this.i.g(e, t, i, a),
                i || (i = this.f,
                33 < (n = tj()) - i.j && (Qk(i.v),
                i.j = n),
                n = this.i.g(e, t, !0, a))) : n = ll,
                n
            }
            ,
            Jj.prototype.requestTiles = Jj.prototype.g,
            Jj.prototype.A = function(e, t, i, a) {
                return this.i.A(e, t, i, a)
            }
            ,
            Jj.prototype.requestTile = Jj.prototype.A,
            Jj.prototype.m = function(e, t, i) {
                this.i.m(e, t, i)
            }
            ,
            Jj.prototype.cancelTile = Jj.prototype.m;
            var ml = {
                overlays: De,
                total: 0
            };
            function Q(e, t, i) {
                if (Q.u.constructor.call(this),
                this.O = z(Q.prototype.O, this),
                this.l = nl(i, Q),
                this.c = i = new yj,
                this.F = !1,
                i.addEventListener(i.c.Oc, this.Za, !1, this),
                !B(e, Element))
                    throw new C(Q,0,e);
                var a = (i = this.b = e.ownerDocument.createElement("div")).style;
                if (a.position = "relative",
                a.height = i.style.width = "100%",
                a.overflow = "hidden",
                a.webkitTapHighlightColor = "transparent",
                "transparent" !== a.webkitTapHighlightColor && (a.webkitTapHighlightColor = "rgba(0,0,0,0)"),
                e.appendChild(i),
                this.va = new uj(this.b,this.l),
                this.va.addEventListener(this.va.a.Oc, this.Za, !1, this),
                (e = this.fa = new Di(this.l.layers)).addEventListener(e.a.td, this.Ba, !1, this),
                e.addEventListener(e.a.Lc, this.Ba, !1, this),
                e.addEventListener(e.a.Nc, this.Ba, !1, this),
                this.B = new L({
                    max: 28
                }),
                this.ea = new Jj(this.B,this.l),
                this.re(this.ea),
                this.i = null,
                this.fa.add(t, 0),
                this.f = this.P(this.l.engineType || ol.P2D, this.l),
                t = this.l.center || new gc(0,0),
                e = +this.l.zoom || 0,
                i = this.l.bounds,
                this.C = z(this.C, this),
                this.T = z(this.T, this),
                B(i, G) ? this.sa(i) : (this.Ga(t),
                this.Ha(e)),
                (t = this.l.imprint) !== A && "object" !== typeof t)
                    throw new C(Q,1,"imprint");
                this.j = null === t ? t : new Ji(this,t),
                t = this.l.autoColor,
                this.I = t === A || !!t,
                pl(this)
            }
            function nl(e, t) {
                var i;
                if (e) {
                    if ((i = e.pixelRatio) === A)
                        e.pixelRatio = 1;
                    else if (!(0 < i))
                        throw new C(t,0,"pixelRatio: " + i)
                } else
                    e = {
                        pixelRatio: 1
                    };
                return e.renderBaseBackground || (e.renderBaseBackground = {
                    lower: 3,
                    higher: 2
                }),
                e
            }
            function pl(e) {
                e.j && e.I && e.j.g({
                    invert: e.i.Oh
                })
            }
            function ql(e, t, i) {
                e.dispatchEvent(i ? new yi(e.v.Rf,i.newValue,i.oldValue,i.modifiers) : e.v.Rf + t)
            }
            function rl(e) {
                Ei.call(this, e)
            }
            Jj.prototype.C = function(e, t, i) {
                var a = this.j
                  , n = ml;
                return a.providesOverlays && a.providesOverlays() && (t = (e = a.requestOverlays(e, t, !0, i)).length) && (n = {
                    overlays: e,
                    total: t
                }),
                n
            }
            ,
            Jj.prototype.requestOverlays = Jj.prototype.C,
            Jj.prototype.D = function() {
                this.f.J(),
                this.i.J(),
                this.j.dispose(),
                Jj.u.D.call(this)
            }
            ,
            v(Q, I),
            r("H.Map", Q),
            Q.prototype.D = function() {
                this.I = !1,
                this.j && this.j.J(),
                this.ea.J(),
                this.B.J(),
                this.fa.J(),
                this.c.J(),
                this.va.J(),
                this.f.J(),
                Ge(this.b),
                this.b = null,
                I.prototype.D.call(this)
            }
            ,
            Q.prototype.Vb = function() {
                return this.b
            }
            ,
            Q.prototype.getElement = Q.prototype.Vb,
            Q.prototype.A = function() {
                return this.l.pixelRatio
            }
            ,
            Q.prototype.getPixelRatio = Q.prototype.A,
            Q.prototype.Ba = function(e) {
                var t = e.added
                  , i = e.removed;
                t && sa(t.Pa) && t.Pa().ia(this),
                i && sa(i.Pa) && i.Pa().ia(null),
                0 === e.idx && (this.dispatchEvent(new Ne(this.v.oh,this.i = e.type !== this.fa.a.Nc ? t : 0 < this.fa.Y.length ? this.fa.get(0) : x,e.type !== this.fa.a.Lc ? i : 1 < this.fa.Y.length ? this.fa.get(1) : x)),
                pl(this))
            }
            ,
            Q.prototype.Za = function(e) {
                e.modifiers && (this.F || (ql(this, "start"),
                this.F = !0),
                ql(this, "", e)),
                this.F && (this.Ya && w.clearTimeout(this.Ya),
                this.Ya = w.setTimeout(this.T, 333))
            }
            ,
            Q.prototype.T = function() {
                ql(this, "end"),
                this.F = !1
            }
            ,
            Q.prototype.Ga = function(e, t) {
                return this.c.Jb({
                    animate: !!t,
                    position: e
                }),
                this
            }
            ,
            Q.prototype.setCenter = Q.prototype.Ga,
            Q.prototype.Oa = function() {
                var e = this.c.Ab();
                return e ? ic(e.position) : x
            }
            ,
            Q.prototype.getCenter = Q.prototype.Oa,
            Q.prototype.Ha = function(e, t) {
                return this.c.l(e, !!t),
                this
            }
            ,
            Q.prototype.setZoom = Q.prototype.Ha,
            Q.prototype.getZoom = function() {
                return this.c.getZoom()
            }
            ,
            Q.prototype.getZoom = Q.prototype.getZoom,
            Q.prototype.rd = function(e, t, i) {
                this.f.rd(e, t, i)
            }
            ,
            Q.prototype.zoomAt = Q.prototype.rd,
            Q.prototype.sa = function(e, t) {
                if (!B(e, G))
                    throw new C(this.sa,0,e);
                var i = this.f.P(e, !1);
                return i.zoom = pb(i.zoom),
                i.animate = t,
                this.c.Jb(i),
                this
            }
            ,
            Q.prototype.setViewBounds = Q.prototype.sa,
            Q.prototype.ba = function() {
                return this.f.v(4, 0)
            }
            ,
            Q.prototype.getViewBounds = Q.prototype.ba,
            Q.prototype.U = function(e) {
                if (!B(e, G))
                    throw new C(this.U,0,e);
                return this.f.P(e, !0)
            }
            ,
            Q.prototype.getCameraDataForBounds = Q.prototype.U,
            Q.prototype.Ub = function() {
                return this.va
            }
            ,
            Q.prototype.getViewPort = Q.prototype.Ub,
            Q.prototype.Tb = function() {
                return this.c
            }
            ,
            Q.prototype.getViewModel = Q.prototype.Tb,
            Q.prototype.kb = function() {
                return this.fa
            }
            ,
            Q.prototype.getLayers = Q.prototype.kb,
            Q.prototype.Fb = function() {
                return this.j
            }
            ,
            Q.prototype.getImprint = Q.prototype.Fb,
            Q.prototype.ya = function(e, t, i, a, n, r) {
                function o(t) {
                    y || (y = !0,
                    e(t))
                }
                var s, l, c, h = this.g(), p = h.Ha(), d = this.j, u = this.l.pixelRatio;
                t = t || [];
                var g, m, f = this.va, y = !1;
                if (!sa(e))
                    throw new C(this.ya,0,e);
                i = i || 0,
                a = a || 0,
                n = n || f.width,
                r = r || f.height,
                g = mb(0, lb(i, n)),
                m = mb(0, lb(a, r)),
                i = lb(f.width, mb(i, n)),
                a = lb(f.height, mb(a, r)),
                p.capture ? (s = h.ya(g, m, i, a),
                l = s.getContext("2d"),
                s.style.width = s.width / u + "px",
                s.style.height = s.height / u + "px",
                c = new Tk(10,function(e, t) {
                    y ? e.cancel() : (l.save(),
                    t.capture(s, u, function(t) {
                        l.restore(),
                        e.done(t)
                    }, function(t) {
                        e.done(null, t),
                        o(null)
                    }))
                }
                ),
                (t = t.concat(d).filter(function(e) {
                    return sa(e && e.capture)
                })).length ? (h = t.pop(),
                t.forEach(function(e) {
                    c.push(e, sc)
                }),
                c.push(h, z(o, this, s)),
                Qk(c)) : o(s)) : e(null)
            }
            ,
            Q.prototype.capture = Q.prototype.ya,
            Q.prototype.g = function() {
                return this.m || this.f
            }
            ,
            Q.prototype.getEngine = Q.prototype.g,
            Q.prototype.N = function(e) {
                return this.f.type === e || this.wa || (this.wa = !0,
                this.m = this.P(e),
                this.m.addEventListener("render", this.C)),
                this
            }
            ,
            Q.prototype.setEngineType = Q.prototype.N,
            Q.prototype.C = function(e) {
                e.target === this.m && (this.m.removeEventListener("render", this.C),
                this.m.enter(),
                this.f.Va(this.O))
            }
            ,
            Q.prototype.O = function() {
                var e = this.f.type;
                this.f.J(),
                this.f = this.m,
                this.m = A,
                this.wa = !1,
                this.dispatchEvent(new Ne(this.v.vh,this.f.type,e))
            }
            ,
            Q.prototype.P = function(e, t) {
                var i = t ? nl(t, this.P) : this.l;
                if (e === ol.PANORAMA)
                    return this.j && this.I && this.j.g({
                        invert: !0
                    }),
                    new w.H.map.render.panorama.RenderEngine(this.va,this.c,this.fa,i);
                if (e === ol.P2D)
                    return pl(this),
                    new O(this.va,this.c,this.fa,i);
                throw new C(this.N,0,e)
            }
            ,
            Q.prototype.K = function(e, t, i, a, n) {
                var r;
                if (t = Ta(t) ? B(t, G, this.K, 1, t) && t : this.ba(),
                !((i = Ta(i) ? +i : this.getZoom()) <= (a = Ta(a) ? +a : this.getZoom())))
                    throw new C(this.K,A,"!(min <= max)");
                if (!B(n = n || this.i, nh))
                    throw new C(this.K,4);
                if (!(r = n.Pa()) || !B(r, N) || !r.Rc())
                    throw new kc(this.constructor,"Storing is not supported");
                return new Nk(n,r,t,i,a,e)
            }
            ,
            Q.prototype.storeContent = Q.prototype.K,
            v(rl, Ei),
            rl.prototype.f = function() {
                Hi(this, 2)
            }
            ,
            rl.prototype.c = function() {
                Hi(this, 4)
            }
            ,
            Q.prototype.yb = function(e) {
                return e = new rl(e),
                vc().clear(z(e.f, e), z(e.c, e)),
                e
            }
            ,
            Q.prototype.clearContent = Q.prototype.yb,
            Q.prototype.re = function(e, t) {
                return -1 === this.fa.indexOf(e) && this.fa.add(e, D(t) ? this.fa.Y.length - 1 : t),
                this
            }
            ,
            Q.prototype.addLayer = Q.prototype.re,
            Q.prototype.tf = function(e) {
                var t = this.fa.indexOf(e);
                return e !== this.i && e !== this.ea && -1 !== t && this.fa.b(t),
                this
            }
            ,
            Q.prototype.removeLayer = Q.prototype.tf,
            Q.prototype.Zb = function(e) {
                return this.i !== e && (this.fa.set(0, e),
                this.i = e),
                this
            }
            ,
            Q.prototype.setBaseLayer = Q.prototype.Zb,
            Q.prototype.zb = function() {
                return this.i
            }
            ,
            Q.prototype.getBaseLayer = Q.prototype.zb,
            Q.prototype.o = function(e) {
                if (!hc(e))
                    throw new C(this.o,0,e);
                return (e = this.f.Ya(e)) ? gh(e) : x
            }
            ,
            Q.prototype.geoToScreen = Q.prototype.o,
            Q.prototype.Ka = function(e, t) {
                var i;
                if (i = +D(e) || 2 * D(t))
                    throw new C(this.Ka,i - 1,arguments[i - 1]);
                return (i = this.f.Ka(e, t)) ? ic(i) : x
            }
            ,
            Q.prototype.screenToGeo = Q.prototype.Ka,
            Q.prototype.Va = function(e, t) {
                return this.f.Za(e, t)
            }
            ,
            Q.prototype.screenToCameraData = Q.prototype.Va,
            Q.prototype.V = function(e) {
                if (!B(e, K))
                    throw new C(this.V,0,e);
                return this.B.f.V(e),
                e
            }
            ,
            Q.prototype.addObject = Q.prototype.V,
            Q.prototype.a = function(e) {
                if (!B(e, K))
                    throw new C(this.a,0,e);
                return this.B.f.a(e),
                e
            }
            ,
            Q.prototype.removeObject = Q.prototype.a,
            Q.prototype.jc = function() {
                return this.B.f.s(!0)
            }
            ,
            Q.prototype.getObjects = Q.prototype.jc,
            Q.prototype.Ua = function(e) {
                var t, i;
                if (!qa(e))
                    throw new C(this.Ua,0,e);
                for (t = e.length,
                i = 0; i < t; i++)
                    this.V(e[i]);
                return this
            }
            ,
            Q.prototype.addObjects = Q.prototype.Ua,
            Q.prototype.Xa = function(e) {
                if (!B(e, P) && !qa(e))
                    throw new C(this.Xa,0,e);
                return e.forEach(this.a, this),
                this
            }
            ,
            Q.prototype.removeObjects = Q.prototype.Xa,
            Q.prototype.s = function(e, t) {
                var i;
                if (i = +D(e) || 2 * D(t))
                    throw new C(this.s,i - 1,arguments[i - 1]);
                return this.f.Ma(e, t, !0)[0] || x
            }
            ,
            Q.prototype.getObjectAt = Q.prototype.s,
            Q.prototype.Ma = function(e, t) {
                var i;
                if (i = +D(e) || 2 * D(t))
                    throw new C(this.s,i - 1,arguments[i - 1]);
                return this.f.Ma(e, t, !1)
            }
            ,
            Q.prototype.getObjectsAt = Q.prototype.Ma;
            var Pi = 1
              , ol = {
                P2D: 0,
                PANORAMA: Pi
            };
            function Lk(e, t, i) {
                this.c = z(this.c, this),
                K.call(this, i),
                this.i(e),
                this.m(t, i && i.crossOrigin),
                this.f(i && "opacity"in i ? i.opacity : 1)
            }
            function sl() {
                return Bh("mapsjs-core", "0.17.0", "e7c502b")
            }
            Q.EngineType = ol,
            Q.prototype.v = {
                Oi: "mapviewchangestart",
                Rf: "mapviewchange",
                Sf: "mapviewchangeend",
                oh: "baselayerchange",
                vh: "enginechange"
            },
            v(Lk, K),
            r("H.map.Overlay", Lk),
            Lk.prototype.type = Pe.OVERLAY,
            Lk.prototype.S = function() {
                return this.a
            }
            ,
            Lk.prototype.getBounds = Lk.prototype.S,
            Lk.prototype.i = function(e) {
                var t = this.a
                  , i = !t;
                return B(e, G, Lk, 0, e),
                !i && t.pa(e) || (this.a = e,
                i || this.ua(Me.SPATIAL)),
                this
            }
            ,
            Lk.prototype.setBounds = Lk.prototype.i,
            Lk.prototype.Pb = function() {
                return this.b.getData()
            }
            ,
            Lk.prototype.getBitmap = Lk.prototype.Pb,
            Lk.prototype.m = function(e, t) {
                var i = this.b;
                return i && 1 !== i.getState() && i.cancel(),
                this.b = new mi(e,this.c,!0,A,t),
                this
            }
            ,
            Lk.prototype.setBitmap = Lk.prototype.m,
            Lk.prototype.c = function(e, t) {
                this.b = t,
                1 === e && this.ua(Me.VISUAL)
            }
            ,
            Lk.prototype.Bd = function() {
                return this.o
            }
            ,
            Lk.prototype.getOpacity = Lk.prototype.Bd,
            Lk.prototype.f = function(e) {
                var t = this.o
                  , i = 2 > t;
                if (!(0 <= (e -= 0) && 1 >= e))
                    throw new C(this.f,0);
                return e !== t && (this.o = e,
                i && this.ua(Me.VISUAL)),
                this
            }
            ,
            Lk.prototype.setOpacity = Lk.prototype.f,
            r("H.buildInfo", sl),
            r("H.getScriptPath", function() {
                var e;
                if (Ta(e = w.H.scriptPath) || (e = tl),
                !e)
                    throw Error("Cant't detect script path: H.scriptPath is missing");
                return e
            });
            var tl, ul = w.document.currentScript, vl;
            ul || (ul = w.document.querySelector('script[src*="H-"]'),
            ul || (vl = w.document.getElementsByTagName("script"),
            ul = vl[vl.length - 1])),
            tl = ul ? ul.src.replace(/\/[^\/]*$/, "/") : "",
            this.mapsjs = H
        }(),
        H.__bootstrap__ = 'var m,q=this;function aa(a,b,c){a=a.split(".");c=c||q;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]?c=c[d]:c=c[d]={}:c[d]=b}function ea(){}function fa(){throw Error("unimplemented abstract method");}\nfunction ga(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";\nelse if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){return"string"==typeof a}function r(a){return"function"==ga(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ka="closure_uid_"+(1E9*Math.random()>>>0),la=0;function ma(a,b,c){return a.call.apply(a.bind,arguments)}\nfunction qa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function sa(a,b,c){sa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:qa;return sa.apply(null,arguments)}\nfunction ta(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function u(a,b){aa(a,b,void 0)}function ua(a,b){function c(){}c.prototype=b.prototype;a.W=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.eb=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function v(){}u("H.util.ICache",v);v.prototype.add=function(){};v.prototype.add=v.prototype.add;v.prototype.get=function(){};v.prototype.get=v.prototype.get;v.prototype.j=function(){};v.prototype.drop=v.prototype.j;v.prototype.forEach=function(){};v.prototype.forEach=v.prototype.forEach;v.prototype.i=function(){};v.prototype.removeAll=v.prototype.i;v.prototype.g=function(){};v.prototype.registerOnDrop=v.prototype.g;var va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<va.length;f++)c=va[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var y=function(){return this}();function xa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,xa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ua(xa,Error);xa.prototype.name="CustomError";var Aa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,"")};function Ba(a,b){return a<b?-1:a>b?1:0};var Ca=Array.prototype,Da=Ca.indexOf?function(a,b,c){return Ca.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ha(a))return ha(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var Ea=sa,Fa=String;function Ga(a){return eval(""+a)}var Ha=y.Object.freeze||function(a){return a};function Ia(a){var b={},c;for(c in a)b[c]=a[c];return b}var z=Ga(),Ja=Ga(null);function Ka(a){return Fa(a).split(","!==z?",":" ")}var Ma="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Na(a,b,c,d){if(!(b=a instanceof b)&&c)throw new B(c,d,void 0!==z?void 0:a);return b}u("H.lang.isObject",ia);\nfunction Oa(a){for(var b in a)return!1;return!0}u("H.lang.isEmptyObject",Oa);function Pa(a,b,c,d){var e;if(!(e="Array"===Qa(a))&&b)throw new B(b,c,d!==z?d:a);return e}u("H.lang.isArray",function(a,b,c,d){return Pa(a,b,c,d)});u("H.lang.isString",ha);var Ra=isNaN;function Sa(a){return a===+a}u("H.lang.isNumber",Sa);function Qa(a){var b=Object[Ma[0]][Ma[6]].call(a).match(/^\\[object (\\w+)\\]$/);return b?b[1]:typeof a}\nfunction Ta(a,b,c,d){var e="",f=2>arguments.length;f&&(b={H:y.H},c="",d=[]);Ua(b,!0,function(b,f){try{var k=b[f];f=Va(b,k);var l;if(l=!(ia(k)&&k.window===k&&k.self===k))l=!(ia(k)&&0<k.nodeType&&r(k.cloneNode));if(l&&ia(k)){if(k===a)return e=c+"."+f,!0;if(0>d.indexOf(k)&&(d.push(k),e=Ta(a,k,c+"."+f,d)))return!0}}catch(n){}});f&&(e=e?e.substr(1).replace("."+Ma[0]+".","#"):"~"+(r(a)?Wa(a)+"()":Qa(a)));return e}\nfunction Va(a,b){var c=[];Ua(a,!1,function(a,e){a[e]===b&&c.push(e)});return c.sort(Xa)[0]}function Xa(a,b){return b.length-a.length}var Ya=Object[Ma[0]][Ma[2]];function Ua(a,b,c){var d,e;if(a){for(d in a)if((!b||Ya.call(a,d))&&c(a,d,!0))return;for(e=Ma.length;e--&&(d=Ma[e],b&&!Ya.call(a,d)||!c(a,d,!1)););}}function Wa(a){return(a=/^\\s*function ([^\\( ]+)/.exec(a))?a[1]:"anonymous"}function Za(a,b,c){c[b]="#"+b}({}).toString.call(void 0);function C(a,b,c){b&&this.g(b);if(c&&!r(c))throw new B(C,2,c);this.b=0;this.filter=c;this.a={};this.f=this.c=null;this.l(a)}u("H.util.Cache",C);C.prototype.add=function(a,b,c){var d,e;c=+c;if(!Sa(c)||0>c)throw new B(this.add,2,c);a=String(a);d=this.a[a];e=!0;this.filter&&(e=this.filter(a,b,c));d?e?(this.b+=c-d.size,d.size=c,d.data=b,$a(this,d)):bb(this,d,!0):e&&(this.a[a]=cb(this,{id:a,data:b,size:c,F:null,J:null},this.c));db(this);return e};C.prototype.add=C.prototype.add;\nC.prototype.g=function(a){if(!r(a))throw new B(this.g,0,a);this.v=a};C.prototype.registerOnDrop=C.prototype.g;C.prototype.get=function(a,b){var c=b?this.a[a]:$a(this,this.a[a]);return c&&c.data};C.prototype.get=C.prototype.get;C.prototype.j=function(a){var b;(b=this.a[a])&&bb(this,b,!0)};C.prototype.drop=C.prototype.j;C.prototype.forEach=function(a,b,c){var d,e;for(e in this.a)d=this.a[e],(c?c(e,d.data,d.size):1)&&a.call(b,e,d.data,d.size)};C.prototype.forEach=C.prototype.forEach;\nC.prototype.i=function(a){var b,c;for(c in this.a)b=this.a[c],(a?a(c,b.data,b.size):1)&&bb(this,this.a[c],!0)};C.prototype.removeAll=C.prototype.i;C.prototype.l=function(a){if(!(0<+a))throw new B(C.prototype.l,0,a);this.o=+a;db(this);return this};C.prototype.setMaxSize=C.prototype.l;C.prototype.C=function(){return this.o};C.prototype.getMaxSize=C.prototype.C;C.prototype.B=function(){return this.b};C.prototype.getCurrentSize=C.prototype.B;function $a(a,b){b&&(a.c=cb(a,b,a.c));return b}\nfunction db(a){for(;a.b>a.o&&a.f;)bb(a,a.f,!0)}function cb(a,b,c){if(c!==b){(b.F||b.J)&&bb(a,b);if(b.F=c)b.J=c.J,c.J=b;b.J||(a.c=b);b.F||(a.f=b);a.b+=b.size}return b}function bb(a,b,c){var d=b.J,e=b.F;if(d||e||b==a.c&&b==a.f)d?d.F=e:a.c=e,e?e.J=d:a.f=d,a.b-=b.size,c&&(a.v&&a.v(b.id,b.data,b.size),delete a.a[b.id]);b.F=b.J=null};function E(){}u("H.service.extension.dataView.ITable",E);E.prototype.getMeta=E.prototype.Aa;E.prototype.getRowCount=E.prototype.i;E.prototype.getRow=E.prototype.c;E.prototype.getColumnNames=E.prototype.f;E.prototype.getColumn=E.prototype.g;E.prototype.getCell=E.prototype.b;E.prototype.concat=E.prototype.a;function eb(){}u("H.service.extension.dataView.IRow",eb);eb.prototype.getColumnNames=eb.prototype.f;eb.prototype.getCell=eb.prototype.c;eb.prototype.getTable=eb.prototype.b;function fb(a,b){this.a=a;this.g=b}u("H.service.extension.dataView.ObjRow",fb);fb.prototype.f=function(){return this.a.f()};fb.prototype.getColumnNames=fb.prototype.f;fb.prototype.c=function(a){return this.a.b(this.g,a)};fb.prototype.getCell=fb.prototype.c;fb.prototype.b=function(){return this.a};fb.prototype.getTable=fb.prototype.b;function gb(){}u("H.service.extension.dataView.IColumn",gb);gb.prototype.getCell=gb.prototype.a;function hb(a,b){this.c=a;this.b=b}u("H.service.extension.dataView.ObjColumn",hb);hb.prototype.a=function(a){return this.c.b(a,this.b)};hb.prototype.getCell=hb.prototype.a;function B(a,b,c){var d=arguments.length,e;b=1<d?+b:b;d=2<d?Fa(c):"";b!==z&&(e=(e=/^.*?\\(([^\\)]+)/.exec((""+a).replace(/(\\/\\*([\\s\\S]*?)\\*\\/)|(\\/\\/(.*)$)/gm,"")))?Ka(e[1].replace(/\\s+/g,"")):[],e.forEach(Za),e=e[b]||"#"+b);this.message=(a?Ta(a):"")+(e||d?" (":"")+(e?"Argument "+e:"")+(d?(e?" ":"")+d:"")+(e||d?")":"");this.stack=Error().stack}u("H.lang.InvalidArgumentError",B);B.prototype=Error();B.prototype.name="InvalidArgumentError";function F(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):z);this.K=a;if(b)for(this.R=b,this.qa=a=Object.create(Ja,void 0),d=b.length;d--;)a[b[d]]=!0;c!==z&&(this.ta=c)}u("H.service.extension.dataView.ObjTable",F);m=F.prototype;m.ta=z;m.K=z;m.R=z;m.qa=z;m.Aa=function(){return this.ta};F.prototype.getMeta=F.prototype.Aa;F.prototype.i=function(){return this.K?this.K.length:0};F.prototype.getRowCount=F.prototype.i;F.prototype.c=function(a){var b=this.K;return b&&b[a]?new fb(this,a):z};\nF.prototype.getRow=F.prototype.c;F.prototype.f=function(){return this.R||ib};F.prototype.getColumnNames=F.prototype.f;F.prototype.g=function(a){return this.qa[a]?new hb(this,a):z};F.prototype.getColumn=F.prototype.g;F.prototype.b=function(a,b){var c=this.K;return(c=c&&this.qa[b]&&c[a])&&c[b]};F.prototype.getCell=F.prototype.b;\nF.prototype.a=function(){var a=arguments.length,b,c=this.R,d=""+this.R,e=(this.K||[]).slice(),f;for(b=0;b<a;b++){f=arguments[b];if(!(f instanceof F))throw new B(this.a,b);if(f.K){if(c&&""+f.R!==d)throw new B(this.a,b,"Incompatible columns!");e=e.concat(f.K)}}return new F(e,this.R,this.ta)};F.prototype.concat=F.prototype.a;function J(a,b){this.x=+a;this.y=+b}u("H.math.Point",J);J.prototype.set=J;J.prototype.set=J.prototype.set;J.prototype.clone=function(a){a?(a.x=this.x,a.y=this.y):a=new J(this.x,this.y);return a};J.prototype.clone=J.prototype.clone;J.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};J.prototype.add=J.prototype.add;J.prototype.f=function(a){this.x-=a.x;this.y-=a.y;return this};J.prototype.sub=J.prototype.f;J.prototype.c=function(a,b){this.x*=a;this.y*=void 0===b?a:b;return this};\nJ.prototype.scale=J.prototype.c;J.prototype.round=function(){this.x=jb(this.x);this.y=jb(this.y);return this};J.prototype.round=J.prototype.round;J.prototype.floor=function(){this.x=kb(this.x);this.y=kb(this.y);return this};J.prototype.floor=J.prototype.floor;J.prototype.ceil=function(){this.x=lb(this.x);this.y=lb(this.y);return this};J.prototype.ceil=J.prototype.ceil;J.prototype.Ca=function(a){return!(!a||this.x!==a.x||this.y!==a.y)};J.prototype.equals=J.prototype.Ca;\nJ.prototype.a=function(a,b){var c=b.x-a.x,d=b.y-a.y,e,f=a;if(c||d)e=((this.x-a.x)*c+(this.y-a.y)*d)/(c*c+d*d),0>=e?f=a:1<=e?f=b:f=new J(a.x+e*c,a.y+e*d);return f};J.prototype.getNearest=J.prototype.a;J.prototype.b=function(a){return mb(nb(this.x-a.x,2)+nb(this.y-a.y,2))};J.prototype.distance=J.prototype.b;function ob(a){if(!a)throw new B(ob,0,a);return Na(a,J)?a:new J(a.x,a.y)}J.fromIPoint=ob;function pb(a,b,c,d,e,f){var g,h,k=a.length,l,n,p,w,G,D,I;if(k)for(g=[];k--;)for(D=a[k],w=D.length,G=0,l=1;l<w;l++){if(I=qb(D[l-1],D[l],c,b,d,e))n=I[0],p=I[1],G&&G.Ca(n)?h.push(p):g.push(h=I),G=p,f&&(l=w,k=0)}else g=a;return g}\nfunction qb(a,b,c,d,e,f){var g=a.x;a=-a.y;var h=b.x;b=-b.y;var k,l,n;c=-c;f=-f;if(g>h){if(h>e||g<d)return;l=g;n=a;g=h;a=b;h=l;b=n;l=1}else if(g>e||h<d)return;if(a>b){if(b>c||a<f)return;k=1;a=-a;b=-b;n=f;f=-c;c=-n}else if(a>c||b<f)return;if(g<d){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(a<f){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e);b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c);k&&(a=-a,b=-b);return l?[new J(h,-b),new J(g,-a)]:[new J(g,-a),new J(h,-b)]}\nfunction rb(a,b,c,d,e,f,g,h,k,l){a={x:a,y:b,next:c||null,D:d||null,Da:e||null,ua:f||null,I:g||0,ra:h||0,na:k||0,alpha:l||0};d&&(a.D.next=a);c&&(a.next.D=a);return a}function sb(a){for(;a&&a.I;)a=a.next;return a}function tb(a){if(a)for(;a.next;)a=a.next;return a}function ub(a){var b=a;if(b){do b=b.next;while(b!=a&&(!b.I||b.I&&b.na))}return b}function vb(a){var b=tb(a);b.D.next=a;a.D=b.D}\nfunction wb(a,b,c,d,e,f){var g,h,k,l=b.x-a.x,n=b.y-a.y;g=d.x-c.x;var p=d.y-c.y;h=l*p-n*g;if(!h)return 0;g=((c.x-a.x)*p-(c.y-a.y)*g)/h;h=(n*(c.x-a.x)-l*(c.y-a.y))/h;if(0>g||1<g||0>h||1<h)return 0;0===g?k=a:1===g?k=b:0===h?k=c:1===h&&(k=d);if(k&&!f)return k.x+=2.480549651603763E-5,k.y+=7.321997314118067E-5,k.ia&&(k.ia.x=k.x,k.ia.y=k.y),wb(a,b,c,d,e);e.Za=a.x+g*l;e.$a=a.y+g*n;e.Ja=g;e.xa=h;return 1}\nfunction xb(a,b,c){var d,e=0,f={},g,h,k,l,n,p;c=c||a.y;d=rb(-137438953472,c);Array.isArray(b)?(k=0,g=b[k],l=function(){return b[++k]}):(n=g=b,l=function(){return n=n.next});for(;p=l();){h=wb(d,a,g,p,f,!0);g=f.xa;if(0===g||1===g)return xb(a,b,c+6E-5);h&&e++;g=p}return e%2}function yb(a,b,c){for(b=b.next;b!==c&&b.alpha<=a.alpha;)b=b.next;a.next=b;a.D=b.D;a.next.D=a;a.D.next=a}function zb(a){for(var b,c=null,d=0,e=a.length;d<e;d++){b=rb(a[d].x,a[d].y,c);if(b.next=c)c.D=b;c=b}return c};function Ab(a,b){var c=[];a&&c.push(Ta(a));1<arguments.length&&c.push(b);this.message=c.join(" ");this.stack=Error().stack}ua(Ab,Error);u("H.lang.IllegalOperationError",Ab);Ab.prototype=Error();Ab.prototype.name="IllegalOperationError";function Bb(a){if(!ha(a))throw new B(this.constructor,0);this.i=y.indexedDB||y.webkitIndexedDB||y.mozIndexedDB||y.msIndexedDB;if(!this.i)throw new Ab(this.constructor,"This browser does not support IndexedDB");this.o=a;this.a=[];this.c=[];this.g=Ea(this.g,this)}var Cb,Db;u("H.util.IndexedDBStorage",Bb);\nBb.prototype.get=function(a,b,c){var d;if(!Eb(a))throw new B(this.get,0);if(!r(b))throw new B(this.get,1);Fb(this,function(e){d=e.get(a);Gb(d,b,c)},c);return{cancel:function(){d&&(d.onsuccess=Hb)}}};Bb.prototype.remove=function(a,b,c){if(!Eb(a))throw new B(this.remove,0);Fb(this,function(d){Gb(d["delete"](a),b,c)},c)};Bb.prototype.l=y.IDBTransaction&&y.IDBTransaction.READ_WRITE||"readwrite";Bb.prototype.g=function(){var a=this.b.result;a.objectStoreNames.contains("data")||a.createObjectStore("data")};\nfunction Ib(a,b,c){var d;a.b?a.a?(a.a.push(b),c&&a.c.push(c)):a.f?c&&c(a.f):b(a.b.result):(a.b=a.i.open(Jb+a.o,1),a.b.onupgradeneeded=a.g,d=a.b.onerror=function(){clearTimeout(a.j);a.f=this.error;a.c.forEach(function(b){b(a.f)});a.a=a.c=null},a.j=setTimeout(function(){d.call({error:Error("DbOpenTimeoutError")})},500),a.b.onsuccess=function(){clearTimeout(a.j);a.a?(a.a.forEach(function(a){a(this.result)},this),a.a=a.c=null):(a.b=a.f=null,a.a=[],a.c=[])},a.a.push(b),c&&a.c.push(c))}\nfunction Fb(a,b,c){Ib(a,function(c){c=c.transaction(["data"],a.l);b(c.objectStore("data"))},c)}function Gb(a,b,c){b&&(a.onsuccess=function(){b(this.result)});c&&(a.onerror=function(){c(this.error)})}function Eb(a){return ha(a)||Sa(a)}Bb.getInstance=function(){Cb||(Cb=new Bb("STATIC_DB"));return Cb};var Jb="H_";\nBb.isSupported=function(){var a,b,c;if(Db===z)if("file:"===window.location.protocol&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&128<=window.location.href.length)Db=!1;else{a=y.indexedDB||y.webkitIndexedDB||y.mozIndexedDB||y.msIndexedDB;c=Jb+"TEST_DB";try{b=a&&a.open(c,1)}catch(d){}Db=!!b&&null===b.onupgradeneeded;b&&a.deleteDatabase&&a.deleteDatabase(c)}return Db};function L(){0!=Kb&&(Lb[this[ka]||(this[ka]=++la)]=this);this.g=this.g;this.c=this.c}var Kb=0,Lb={};L.prototype.g=!1;L.prototype.S=function(){if(!this.g&&(this.g=!0,this.ja(),0!=Kb)){var a=this[ka]||(this[ka]=++la);delete Lb[a]}};L.prototype.f=function(a,b){this.g?a.call(b):(this.c||(this.c=[]),this.c.push(void 0!==b?sa(a,b):a))};L.prototype.ja=function(){if(this.c)for(;this.c.length;)this.c.shift()()};function N(a,b){this.type=a;this.currentTarget=this.target=b;this.a=!1;this.Ea=!0}N.prototype.c=function(){this.a=!0};N.prototype.f=function(){this.Ea=!1};u("H.util.Event",N);N.prototype.c=N.prototype.c;N.prototype.stopPropagation=N.prototype.c;N.prototype.j=1;N.prototype.CAPTURING_PHASE=N.prototype.j;N.prototype.g=2;N.prototype.AT_TARGET=N.prototype.g;N.prototype.i=3;N.prototype.BUBBLING_PHASE=N.prototype.i;N.prototype.l=0;N.prototype.eventPhase=N.prototype.l;function Mb(a,b,c){Mb.W.constructor.call(this,a,c);this.data=b}ua(Mb,N);u("H.util.DataEvent",Mb);function Nb(a,b,c){Nb.W.constructor.call(this,a,c);this.message=b}ua(Nb,N);u("H.util.ErrorEvent",Nb);var P=Math,Ob=P.min,Pb=P.max,jb=P.round,kb=P.floor,lb=P.ceil,Qb=P.abs,Rb=P.log,mb=P.sqrt,nb=P.pow,Sb=P.exp,Tb=P.sin,Ub=P.asin,Vb=P.cos,Wb=P.tan,Xb=P.atan,Yb=P.atan2,Zb=P.LN2,Q=P.PI,$b=Q/2,ac=Q/4,bc=2*Q,cc=3*Q,dc=Q/180,ec=180/Q,fc=1/0;nb(-2,53);function gc(a,b){var c;return 0>(c=a%b)===0>b?c:c+b}u("H.math.normalize",function(a,b,c){b-=c=c||0;a-=c;return a-kb(a/b)*b+c});function kc(a,b,c){return(a-=0)>c?c:a<b?b:a}u("H.math.clamp",kc);\nfunction lc(a,b,c){var d=0;(d-=0)||(d=0);return b<c?a>=b-d&&a<=c+d:a>=c-d&&a<=b+d}function mc(a,b,c,d,e,f){return mb(nb((a-e)*(d-f)-(b-f)*(c-e),2)/(nb(c-e,2)+nb(d-f,2)))}\nfunction nc(a,b,c){for(var d=c.length,e=d,f,g,h,k,l=c[0],n=0,p=0,w=0;1!=n&&1<e;){g=c[--e];f=c[--e];k=c[e?e-1:(d+(e-1))%d];h=c[e?e-2:(d+(e-2))%d];if(f>=a-0&&f<=a+0&&g>=b-0&&g<=b+0||h>=a-0&&h<=a+0&&k>=b-0&&k<=b+0)n=1;else if(!n&&f===a)h===a&&(g<b&&k>b||g>b&&k<b)||(l<=a&&h>a||l>=a&&h<a)&&(g>=b?++p:++w),n=lc(b,g,k)&&0>=mc(a,b,f,g,h,k)?2:0;else if(!n&&lc(a,f,h)){if(f<a&&h>a||f>a&&h<a)l=g+(a-f)/(h-f)*(k-g),p+=l>b,w+=l<b;n=lc(b,g,k)&&0>=mc(a,b,f,g,h,k)?2:0}l=f}!n&&0!==w&&0!==p%2&&(n=3);return n};function oc(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null}oc.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};function pc(a,b){a.g(b);a.b<a.f&&(a.b++,b.next=a.a,a.a=b)};function qc(){this.b=this.a=null}var sc=new oc(function(){return new rc},function(a){a.reset()},100);qc.prototype.add=function(a,b){var c=sc.get();c.set(a,b);this.b?this.b.next=c:this.a=c;this.b=c};qc.prototype.remove=function(){var a=null;this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null);return a};function rc(){this.next=this.b=this.a=null}rc.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};rc.prototype.reset=function(){this.next=this.b=this.a=null};var R;a:{var tc=q.navigator;if(tc){var uc=tc.userAgent;if(uc){R=uc;break a}}R=""};function vc(){return-1!=R.indexOf("Edge")||-1!=R.indexOf("Trident")||-1!=R.indexOf("MSIE")};function wc(){return-1!=R.indexOf("Edge")};function xc(a){q.setTimeout(function(){throw a;},0)}var yc;\nfunction zc(){var a=q.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==R.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=sa(function(a){if(("*"==d||a.origin==\nd)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!vc()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.ya;c.ya=null;a()}};return function(a){d.next={ya:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");\nb.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};function Ac(a,b){Bc||Cc();Dc||(Bc(),Dc=!0);Ec.add(a,b)}var Bc;function Cc(){if(q.Promise&&q.Promise.resolve){var a=q.Promise.resolve();Bc=function(){a.then(Fc)}}else Bc=function(){var a=Fc;!r(q.setImmediate)||q.Window&&q.Window.prototype&&q.Window.prototype.setImmediate==q.setImmediate?(yc||(yc=zc()),yc(a)):q.setImmediate(a)}}var Dc=!1,Ec=new qc;function Fc(){for(var a=null;a=Ec.remove();){try{a.a.call(a.b)}catch(b){xc(b)}pc(sc,a)}Dc=!1};function Gc(a,b){this.a=Hc;this.j=void 0;this.f=this.b=this.c=null;this.g=this.i=!1;if(a==Ic)Jc(this,Kc,b);else try{var c=this;a.call(b,function(a){Jc(c,Kc,a)},function(a){Jc(c,Lc,a)})}catch(d){Jc(this,Lc,d)}}var Hc=0,Kc=2,Lc=3;function Mc(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}Mc.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};var Nc=new oc(function(){return new Mc},function(a){a.reset()},100);function Oc(a,b,c){var d=Nc.get();d.f=a;d.b=b;d.c=c;return d}\nfunction Ic(){}function Pc(a){return new Gc(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},h=0,k;k=a[h];h++)Qc(k,ta(f,h),g);else b(e)})}function Rc(){var a,b,c=new Gc(function(c,e){a=c;b=e});return new Sc(c,a,b)}Gc.prototype.then=function(a,b,c){return Tc(this,r(a)?a:null,r(b)?b:null,c)};Gc.prototype.then=Gc.prototype.then;Gc.prototype.$goog_Thenable=!0;function Qc(a,b,c,d){a instanceof Gc?Uc(a,Oc(b||ea,c||null,d)):a.then(b,c,d)}\nGc.prototype.cancel=function(a){this.a==Hc&&Ac(function(){var b=new Vc(a);Wc(this,b)},this)};function Wc(a,b){if(a.a==Hc)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.a==Hc&&1==d?Wc(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):Xc(c),Yc(c,e,Lc,b)))}a.c=null}else Jc(a,Lc,b)}function Uc(a,b){a.b||a.a!=Kc&&a.a!=Lc||Zc(a);a.f?a.f.next=b:a.b=b;a.f=b}\nfunction Tc(a,b,c,d){var e=Oc(null,null,null);e.a=new Gc(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){g(l)}}:a;e.b=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof Vc?g(b):a(e)}catch(l){g(l)}}:g});e.a.c=a;Uc(a,e);return e.a}Gc.prototype.l=function(a){this.a=Hc;Jc(this,Kc,a)};Gc.prototype.o=function(a){this.a=Hc;Jc(this,Lc,a)};\nfunction Jc(a,b,c){if(a.a==Hc){if(a==c)b=Lc,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.a=1;Qc(c,a.l,a.o,a);return}if(ia(c))try{var f=c.then;if(r(f)){$c(a,c,f);return}}catch(g){b=Lc,c=g}}a.j=c;a.a=b;a.c=null;Zc(a);b!=Lc||c instanceof Vc||ad(a,c)}}function $c(a,b,c){function d(b){f||(f=!0,a.o(b))}function e(b){f||(f=!0,a.l(b))}a.a=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Zc(a){a.i||(a.i=!0,Ac(a.v,a))}\nfunction Xc(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b}Gc.prototype.v=function(){for(var a=null;a=Xc(this);)Yc(this,a,this.a,this.j);this.i=!1};function Yc(a,b,c,d){if(c==Lc&&b.b&&!b.g)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,bd(b,c,d);else try{b.g?b.f.call(b.c):bd(b,c,d)}catch(e){cd.call(null,e)}pc(Nc,b)}function bd(a,b,c){b==Kc?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function ad(a,b){a.g=!0;Ac(function(){a.g&&cd.call(null,b)})}var cd=xc;\nfunction Vc(a){xa.call(this,a)}ua(Vc,xa);Vc.prototype.name="cancel";function Sc(a,b,c){this.la=a;this.resolve=b;this.reject=c};function dd(a,b,c){this.type=a;this.data=b;this.G=Rc();this.resolve=Ea(this.resolve,this);this.reject=Ea(this.reject,this);this.a=ed;c!==z&&(this.a=c);this.Pa().add(this)}var ed=1,fd={bb:0,NORMAL:ed,ab:2};dd.prototype.then=function(a,b,c){return this.G.la.then(a,b,c)};\nwa(dd.prototype,{resolve:function(a){this.state=3;this.G.resolve(a)},reject:function(a){this.state=5;this.G.reject(a)},state:0,cancel:function(){this.G.la.cancel();3>this.state&&(this.Ka(),this.Pa().remove(this),this.state=4)},Ka:fa,Na:fa,Ma:function(a){this.state=this.Na(a)?1:5}});function gd(a){this.O={};for(var b in fd)this.O[fd[b]]=[];this.ma=a;this.ma.addEventListener("allocatable",Ea(this.za,this))}u("H.util.JobManager",gd);var hd=Object.keys(fd).map(function(a){return fd[a]}).sort().reverse();\nwa(gd.prototype,{add:function(a){Na(a,dd,this.add,0);this.O[a.a].push(a);this.za()},contains:function(a){return-1<this.O[a.a].indexOf(a)},remove:function(a){var b=a.a;a=this.O[b].indexOf(a);return-1<a?(this.O[b].splice(a,1),!0):!1},za:function(){hd.forEach(function(a){this.O[a]=this.O[a].filter(function(a){var c,d;if((c=this.ma.cb(a))!==Ja)d=Ea(this.ma.fb,this.ma,c,a),a.then(d,d),a.Ma(c);else return!0},this)},this)}});function id(a,b,c){var d=[];1<arguments.length&&d.push(b);2<arguments.length&&d.push("out of ["+c[0]+"..."+c[1]+"]");this.message=(a?Ta(a):"")+(d.length?" ("+d.join(" ")+")":"");this.stack=Error().stack}u("H.lang.OutOfRangeError",id);id.prototype=Error();id.prototype.name="OutOfRangeError";var jd="closure_listenable_"+(1E6*Math.random()|0),kd=0;function ld(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.ga=!!d;this.ka=e;++kd;this.V=this.fa=!1}function md(a){a.V=!0;a.listener=null;a.a=null;a.src=null;a.ka=null};function nd(a){this.src=a;this.a={};this.b=0}nd.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=od(a,b,d,e);-1<g?(b=a[g],c||(b.fa=!1)):(b=new ld(b,this.src,f,!!d,e),b.fa=c,a.push(b));return b};nd.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=od(e,b,c,d);return-1<b?(md(e[b]),Ca.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--),!0):!1};\nfunction pd(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=Da(d,b),f;(f=0<=e)&&Ca.splice.call(d,e,1);f&&(md(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}function od(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.V&&f.listener==b&&f.ga==!!c&&f.ka==d)return e}return-1};var qd=-1!=R.indexOf("Opera")||-1!=R.indexOf("OPR"),rd=vc(),sd=-1!=R.indexOf("Gecko")&&!(-1!=R.toLowerCase().indexOf("webkit")&&!wc())&&!(-1!=R.indexOf("Trident")||-1!=R.indexOf("MSIE"))&&!wc(),td=-1!=R.toLowerCase().indexOf("webkit")&&!wc();function ud(){var a=R;if(sd)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(rd&&wc())return/Edge\\/([\\d\\.]+)/.exec(a);if(rd)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(td)return/WebKit\\/(\\S+)/.exec(a)}\nfunction vd(){var a=q.document;return a?a.documentMode:void 0}var wd=function(){if(qd&&q.opera){var a=q.opera.version;return r(a)?a():a}var a="",b=ud();b&&(a=b?b[1]:"");return rd&&!wc()&&(b=vd(),b>parseFloat(a))?String(b):a}(),xd={};\nfunction yd(a){var b;if(!(b=xd[a])){b=0;for(var c=Aa(String(wd)).split("."),d=Aa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=/(\\d*)(\\D*)/g,l=/(\\d*)(\\D*)/g;do{var n=k.exec(g)||["","",""],p=l.exec(h)||["","",""];if(0==n[0].length&&0==p[0].length)break;b=Ba(0==n[1].length?0:parseInt(n[1],10),0==p[1].length?0:parseInt(p[1],10))||Ba(0==n[2].length,0==p[2].length)||Ba(n[2],p[2])}while(0==b)}b=xd[a]=0<=b}return b}\nvar zd=q.document,Ad=vd(),Bd=!zd||!rd||!Ad&&wc()?void 0:Ad||("CSS1Compat"==zd.compatMode?parseInt(wd,10):5);var Cd;(Cd=!rd)||(Cd=rd&&(wc()||9<=Bd));var Dd=Cd,Ed=rd&&!yd("9");!td||yd("528");sd&&yd("1.9b")||rd&&yd("8")||qd&&yd("9.5")||td&&yd("528");sd&&!yd("8")||rd&&yd("9");function Fd(a){Fd[" "](a);return a}Fd[" "]=ea;function Gd(a,b){N.call(this,a?a.type:"");this.b=this.state=this.currentTarget=this.target=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var c=a.relatedTarget;if(c&&sd)try{Fd(c.nodeName)}catch(d){}this.state=a.state;this.b=a;a.defaultPrevented&&this.f()}}ua(Gd,N);Gd.prototype.c=function(){Gd.W.c.call(this);this.b.stopPropagation?this.b.stopPropagation():this.b.cancelBubble=!0};\nGd.prototype.f=function(){Gd.W.f.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ed)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Hd="closure_lm_"+(1E6*Math.random()|0),Id={},Jd=0;function Kd(a,b,c,d,e){if("array"==ga(b))for(var f=0;f<b.length;f++)Kd(a,b[f],c,d,e);else if(c=Ld(c),a&&a[jd])a.M.add(String(b),c,!1,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,g=Md(a);g||(a[Hd]=g=new nd(a));c=g.add(b,c,!1,d,e);c.a||(d=Nd(),c.a=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(Od(b.toString()),d),Jd++)}}\nfunction Nd(){var a=Pd,b=Dd?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Qd(a,b,c,d,e){if("array"==ga(b))for(var f=0;f<b.length;f++)Qd(a,b[f],c,d,e);else(c=Ld(c),a&&a[jd])?a.M.remove(String(b),c,d,e):a&&(a=Md(a))&&(b=a.a[b.toString()],a=-1,b&&(a=od(b,c,!!d,e)),(c=-1<a?b[a]:null)&&Rd(c))}\nfunction Rd(a){if("number"!=typeof a&&a&&!a.V){var b=a.src;if(b&&b[jd])pd(b.M,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.ga):b.detachEvent&&b.detachEvent(Od(c),d);Jd--;(c=Md(b))?(pd(c,a),0==c.b&&(c.src=null,b[Hd]=null)):md(a)}}}function Od(a){return a in Id?Id[a]:Id[a]="on"+a}function Sd(a,b,c,d){var e=!0;if(a=Md(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ga==c&&!f.V&&(f=Td(f,d),e=e&&!1!==f)}return e}\nfunction Td(a,b){var c=a.listener,d=a.ka||a.src;a.fa&&Rd(a);return c.call(d,b)}\nfunction Pd(a,b){if(a.V)return!0;if(!Dd){var c;if(!(c=b))a:{c=["window","event"];for(var d=q,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Gd(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.a&&0<=h;h--){c.currentTarget=e[h];var k=Sd(e[h],f,!0,c),d=d&&k}for(h=0;!c.a&&h<e.length;h++)c.currentTarget=\ne[h],k=Sd(e[h],f,!1,c),d=d&&k}return d}return Td(a,new Gd(b,this))}function Md(a){a=a[Hd];return a instanceof nd?a:null}var Ud="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ld(a){if(r(a))return a;a[Ud]||(a[Ud]=function(b){return a.handleEvent(b)});return a[Ud]};function S(){L.call(this);this.M=new nd(this);this.j=this;this.i=null}ua(S,L);S.prototype[jd]=!0;m=S.prototype;m.N=function(){return this.i};m.sa=function(a){this.i=a};m.addEventListener=function(a,b,c,d){Kd(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Qd(this,a,b,c,d)};\nm.X=function(a){var b,c=this.N();if(c)for(b=[];c;c=c.N())b.push(c);var c=this.j,d=a.type||a;if(ha(a))a=new N(a,c);else if(a instanceof N)a.target=a.target||c;else{var e=a;a=new N(d,c);wa(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.a&&0<=g;g--)f=a.currentTarget=b[g],e=f.T(d,!0,a)&&e;a.a||(f=a.currentTarget=c,e=f.T(d,!0,a)&&e,a.a||(e=f.T(d,!1,a)&&e));if(b)for(g=0;!a.a&&g<b.length;g++)f=a.currentTarget=b[g],e=f.T(d,!1,a)&&e;return e};\nm.ja=function(){S.W.ja.call(this);if(this.M){var a=this.M,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,md(d[e]);delete a.a[c];a.b--}}this.i=null};m.T=function(a,b,c){a=this.M.a[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.V&&f.ga==b){var g=f.listener,h=f.ka||f.src;f.fa&&pd(this.M,f);d=!1!==g.call(h,c)&&d}}return d&&0!=c.Ea};u("H.util.EventTarget",S);S.prototype.sa=S.prototype.sa;S.prototype.setParentEventTarget=S.prototype.sa;S.prototype.N=S.prototype.N;S.prototype.getParentEventTarget=S.prototype.N;S.prototype.addEventListener=S.prototype.addEventListener;S.prototype.addEventListener=S.prototype.addEventListener;S.prototype.removeEventListener=S.prototype.removeEventListener;S.prototype.removeEventListener=S.prototype.removeEventListener;S.prototype.X=S.prototype.X;S.prototype.dispatchEvent=S.prototype.X;\nS.prototype.S=S.prototype.S;S.prototype.dispose=S.prototype.S;S.prototype.f=S.prototype.f;S.prototype.addOnDisposeCallback=S.prototype.f;S.prototype.l=S.prototype.T;S.prototype.T=function(a,b,c){var d,e,f,g=!0;d=c[c.currentTarget===c.target?"AT_TARGET":b?"CAPTURING_PHASE":(e=!0,"BUBBLING_PHASE")];if(!e||"pointerenter"!==(f=c.type)&&"pointerleave"!==f)c.eventPhase=d,g=S.prototype.l.apply(this,arguments),e&&this.N&&null===this.N()&&delete c.eventPhase;return g};function T(a){a=a||{};var b=a.callback;this.b=a.label;r(b)&&(this.callback=b);this.a=!!a.disabled;T.W.constructor.call(this)}ua(T,S);u("H.util.ContextItem",T);T.prototype.o=function(){return this.b};T.prototype.getLabel=T.prototype.o;T.prototype.C=function(a){this.b!==a&&(this.b=a,this.X("update"));return this};T.prototype.setLabel=T.prototype.C;T.prototype.v=function(){return this.a};T.prototype.isDisabled=T.prototype.v;T.prototype.B=function(a){a^this.a&&(this.a=a,this.X("update"));return this};\nT.prototype.setDisabled=T.prototype.B;var Vd=new T;T.SEPARATOR=Vd;function Wd(){if(y.document){var a=document.createElement("canvas");a.width=a.height=1;a.getContext("2d")}}u("H.util.eval",function(a){return eval(a)});u("H.util.provide",function(a){aa(a,void 0)});function Xd(){this.F=0}Xd.prototype.next=function(a){if(4294967295===this.F)throw new id(a,this.F,[0,4294967295]);return this.F++};var Yd=new Xd;Ea(Yd.next,Yd);function Hb(){}var ib=Ha([]);Wd();Wd();var ae={undefined:"GL",GL:"GL",OL:"OL",SL:"SL",SB:"SB",WE:"WE",WG:"WG"};u("H.geo.AltitudeContext",ae);function be(a,b,c){var d=kc(+a,-90,90);if(b&&Ra(d))throw new B(b,c,a);return d}function de(a,b,c){var d=+a;if(-180>d||180<d)d=gc(d+180,360)-180;if(b&&Ra(d))throw new B(b,c,a);return d}function ee(a,b,c){var d;if(a!==z&&Ra(d=+a)&&b)throw new B(b,c,a);return d}function fe(a,b,c){var d=!ae[a];if(b&&d)throw new B(b,c,a);return!d}u("H.geo.isDBC",function(a,b){return 0!==(0>a^0>b)&&180<Qb(b-a)});function ge(){var a=ge;if(!0===(Na(this,a)&&this.constructor===a))throw new TypeError("Illegal constructor "+Ta(a));}u("H.geo.AbstractGeometry",ge);ge.prototype.getBounds=ge.prototype.B;ge.prototype.equals=ge.prototype.j;ge.prototype.toString=function(){return this.da([this.ea," "]).join("")};ge.prototype.toString=ge.prototype.toString;function U(a,b,c,d){this.lat=be(a,U,0);this.lng=de(b,U,1);c!==z&&(this.alt=ee(c,U,2));d!==z&&fe(d,U,3)&&(this.ctx=d)}ua(U,ge);u("H.geo.Point",U);U.prototype.j=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&ae[this.ctx]===ae[a.ctx]&&(this.alt||0)===(a.alt||0)};U.prototype.equals=U.prototype.j;\nU.prototype.a=function(a){var b,c;this===a||this.lat===a.lat&&this.lng===a.lng?a=0:(b=this.lat*dc,c=a.lat*dc,a=1.274200158E7*Ub(Ob(1,mb(nb(Tb((b-c)/2),2)+Vb(b)*Vb(c)*nb(Tb((this.lng*dc-a.lng*dc)/2),2)))));return a};U.prototype.distance=U.prototype.a;\nU.prototype.b=function(a,b,c){var d,e,f,g,h,k;if(c){if(b/=6371000.79){a*=dc;d=dc*this.lat;f=Tb(d);g=Tb(b);h=Vb(b);e=dc*this.lng;var l=Vb(d);d=Ub(l*Vb(a)*g+f*h);a=Yb(Tb(a)*l*g,h-f*Tb(d));l=((e+a+Q)%(2*Q)-Q)*ec}return b?new U(d*ec,(l+540)%360-180):this}a=(a%360+360)%360;if(0===(a+90)%180)return d=this.lng+b/(6371000.79*bc*Vb(this.lat*dc))*(270===a?-360:360),new U(this.lat,(d+540)%360-180);if(b/=6371000.79)a*=dc,e=this.lat*dc,f=this.lng*dc,g=e+b*Vb(a),h=g-e,d=Rb(Wb(g/2+ac)/Wb(e/2+ac)),d=Ra(h/d)?Vb(e):\nh/d,k=b*Tb(a)/d,Qb(g)>$b&&(g=0<g?Q-g:-(Q+g));return b?new U(g*ec,((f+k+cc+(Qb(e+h)>$b?Q:0))%bc-Q)*ec):this};U.prototype.walk=U.prototype.b;U.prototype.B=function(){return new V(this.lat,this.lng,this.lat,this.lng)};U.prototype.getBounds=U.prototype.B;function he(a,b,c){var d=!!a&&!(Ra(a.lat=be(a.lat))||Ra(a.lng=de(a.lng))||a.alt!==z&&Ra(a.alt=ee(a.alt))||a.ctx!==z&&!fe(a.ctx));if(!d&&b)throw new B(b,c,a);return d}U.validate=he;\nfunction ie(a){if(!a)throw new B(ie,0,a);return new U(a.lat,a.lng,a.alt,a.ctx)}U.fromIPoint=ie;U.prototype.ea="POINT";U.prototype.da=function(a){a.push("(",this.lng," ",this.lat,")");return a};function je(){}je.prototype.U=function(){};u("H.geo.IProjection.prototype.latLngToPoint",je.prototype.U);je.prototype.L=function(){};u("H.geo.IProjection.prototype.xyToGeo",je.prototype.L);je.prototype.b=function(){};u("H.geo.IProjection.prototype.pointToGeo",je.prototype.b);je.prototype.a=function(){};u("H.geo.IProjection.prototype.geoToPoint",je.prototype.a);var W={};u("H.geo.mercator",W);W.c=function(a){return Ob(1,Pb(0,.5-Rb(Wb(ac+$b*a/180))/Q/2))};W.f=function(a){return a/360+.5};W.U=function(a,b,c){c?(c.x=W.f(b),c.y=W.c(a)):c=new J(W.f(b),W.c(a));return c};W.latLngToPoint=W.U;W.a=function(a,b){return W.U(a.lat,a.lng,b)};W.geoToPoint=W.a;W.i=function(a){return 0>=a?90:1<=a?-90:ec*(2*Xb(Sb(Q*(1-2*a)))-$b)};W.g=function(a,b){return b?0>=a?-180:1<=a?180:360*gc(a,1)-180:360*(1===a?1:gc(a,1))-180};\nW.L=function(a,b,c,d){c?(c.lat=W.i(b),c.lng=W.g(a,d)):c=new U(W.i(b),W.g(a,d));return c};W.xyToGeo=W.L;W.b=function(a,b,c){return W.L(a.x,a.y,b,c)};W.pointToGeo=W.b;function X(a,b){this.projection=a||W;this.i=0;this.b=this.exp=Rb(b||256)/Zb;ke(this);this.y=this.x=0}u("H.geo.PixelProjection",X);var le=Qb(28)+Qb(-8);X.prototype.a=function(a){if(Ra(a))throw new B(this.a,0,a);var b=this.x/this.w,c=this.y/this.h;this.i=a;this.b=this.exp+a;ke(this);this.x=b*this.w;this.y=c*this.h};X.prototype.rescale=X.prototype.a;function ke(a){a.b>le&&(a.b=le);a.w=nb(2,a.b);a.h=nb(2,a.b)}X.prototype.g=function(){return this.i||0};X.prototype.getZoomScale=X.prototype.g;\nX.prototype.j=function(a,b){var c=this.projection.U(a.lat,a.lng,b);c.x=c.x*this.w-this.x;c.y=c.y*this.h-this.y;return c};X.prototype.geoToPixel=X.prototype.j;X.prototype.f=function(a,b,c){return this.projection.L((a.x+this.x)/this.w,(a.y+this.y)/this.h,b,c)};X.prototype.pixelToGeo=X.prototype.f;X.prototype.L=function(a,b,c,d){return this.projection.L((a+this.x)/this.w,(b+this.y)/this.h,c,d)};X.prototype.xyToGeo=X.prototype.L;\nX.prototype.c=function(a,b,c){a=this.projection.U(a,b,c);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};X.prototype.latLngToPixel=X.prototype.c;X.prototype.l=function(a){return new J(a.x*this.w-this.x,a.y*this.h-this.y)};X.prototype.pointToPixel=X.prototype.l;u("H.util.Disposable",L);L.prototype.f=L.prototype.f;L.prototype.addOnDisposeCallback=L.prototype.f;u("H.util.dispose",function(a){a&&"function"==typeof a.S&&a.S()});function me(a,b,c,d){this.key="";this.x=a;this.y=b;this.a=c;this.Y=d;this.G=Rc()}me.prototype.then=function(a,b,c){return this.G.la.then(a,b,c)};me.prototype.resolve=function(a){this.G.resolve(a)};me.prototype.reject=function(a){this.G.reject(a)};me.prototype.cancel=function(){this.G.la.cancel()};function Z(a,b,c,d,e,f){if(a&&b)this.P(a),this.l(b),this.o(c),this.C(e),this.B(f),this.v(d);else throw Error(\'Parameters "scheme" and "host" must be specified\');}u("H.service.Url",Z);\nfunction ne(a,b){var c=a,d=y.document,e,f,g,h,k=d&&d.createElement("a"),l="";d?(b&&(f=(e=d.getElementsByTagName("base")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement("base")),h.href=b),k.href=c,l=k.href,b&&(e?e.href=f:g.removeChild(h))):/[\\w]+:\\/\\//.test(c)&&(l=c);g=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(l);c=g[1];k=g[4];d=g[5];h=g[6];e=g[7];f=g[8];!g[2]&&k&&/@/.test(k)&&(k=k.split("@")[1]);g=k;h=h&&0<h.length?h.substr(1):"";var k=\n{},n;if(e)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;n=l.exec(e);)k[decodeURIComponent(n[2])]=n[4]?decodeURIComponent(n[4]):void 0;return new Z(c,g,h,k,isNaN(+d)?void 0:+d,f&&0<f.length?f.substr(1):"")}Z.parse=ne;var oe=0;Z.prototype.clone=function(){oe++;var a={},b;for(b in this.a)a[b]=this.a[b];return new Z(this.j,this.g,this.b,a,this.i,this.c)};Z.prototype.clone=Z.prototype.clone;\nZ.prototype.P=function(a){if(!a||"string"!==typeof a)throw Error(\'The "scheme" parameter must be a non-empty string.\');this.j=a;return this};Z.prototype.setScheme=Z.prototype.P;Z.prototype.oa=function(){return this.j};Z.prototype.getScheme=Z.prototype.oa;Z.prototype.l=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw Error(\'The "host" parameter is not a valid host name.\');this.g=a;return this};Z.prototype.setHost=Z.prototype.l;\nZ.prototype.ba=function(){return this.g};Z.prototype.getHost=Z.prototype.ba;Z.prototype.o=function(a){this.b=a||void 0;return this};Z.prototype.setPath=Z.prototype.o;Z.prototype.ca=function(){return this.b};Z.prototype.getPath=Z.prototype.ca;Z.prototype.v=function(a){if(a)if("object"==typeof a)this.a=a;else throw Error(\'Parameter "params" must be an object.\');else this.a={};return this};Z.prototype.setQuery=Z.prototype.v;Z.prototype.pa=function(){return!pe(this)};Z.prototype.hasQuery=Z.prototype.pa;\nZ.prototype.ea=function(){return this.a};Z.prototype.getQuery=Z.prototype.ea;Z.prototype.C=function(a){if(a&&isNaN(parseInt(a,10)))throw Error(\'Parameter "port" must be a number or undefined\');this.i=+a||void 0;return this};Z.prototype.setPort=Z.prototype.C;Z.prototype.da=function(){return this.i};Z.prototype.getPort=Z.prototype.da;Z.prototype.B=function(a){this.c=a||void 0;return this};Z.prototype.setAnchor=Z.prototype.B;Z.prototype.aa=function(){return this.c};Z.prototype.getAnchor=Z.prototype.aa;\nZ.prototype.f=function(a){if("object"!==typeof a)throw Error(\'Parameter "other" must be an object.\');var b=this.a,c;for(c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&(b[c]=a[c]);return this};Z.prototype.mergeQuery=Z.prototype.f;Z.prototype.Z=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subDomain" must be a non-empty string\');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.l(a+"."+this.g)};Z.prototype.addSubDomain=Z.prototype.Z;\nZ.prototype.$=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subPath" must be a non-empty string\');return this.o((this.b?this.b+"/":"")+a)};Z.prototype.addSubPath=Z.prototype.$;Z.prototype.toString=function(){return[this.j+"://",this.g,this.i?":"+this.i:"",this.b||!pe(this)||this.c?"/":"",this.b?encodeURI(this.b):"",qe(this),this.c?"#"+encodeURIComponent(this.c):""].join("")};Z.prototype.toString=Z.prototype.toString;\nfunction qe(a){var b=[],c,d=a.a,e;for(c in d)d.hasOwnProperty(c)&&"function"!==typeof d[c]&&(e=a.a[c],b.push(encodeURIComponent(c)+(void 0===e?"":"="+encodeURIComponent(e))));return 0<b.length?"?"+b.join("&"):""}function pe(a){var b,c=0;for(b in a.a)if(a.a.hasOwnProperty(b)&&"function"!==typeof a.a[b]&&(c++,0<c))break;return!c};var re={};function se(a){try{importScripts.apply(self,arguments)}catch(b){this.postError("invalid_script")}}function te(a){re[a]=null;this.postMessage(a)}function ue(a,b,c){var d;if(r(b))d=b;else try{d=self.eval("("+b+")"),r(d)||(d=null)}catch(e){}d?(re[a]=d,c||this.postMessage(a)):this.postError("invalid_processor")}function ve(a){this.b=a&&a[0];this.a=a&&a[1];this.c=a&&a[2]||[]}ve.prototype.postError=function(a){this.postMessage(a,z,0)};\nve.prototype.postMessage=function(a,b,c){self.postMessage({processor:this.b,taskId:this.a,type:c===z?1:c,data:a},b||z)};function we(a,b,c){var d;if(!ha(a))throw new B(we,0,"InvalidArgument");if(!r(b))throw new B(we,1,"InvalidArgument");d=xe++;ye[d]={b:c||ze,a:b};(new ve(["3",d,[]])).postMessage(a,[],2)}var ye={},xe=0;\nfunction Ae(a,b){var c,d,e=a;if(ye[this.a])if(d=ye[this.a],c=d.a,delete ye[this.a],b)c(null,b);else{if(d.b===Be){d=new Uint8Array(a);for(var e=d.byteLength,f="",g=0,h,k,l,n;g<e;)h=d[g++],192>h||(k=d[g++],224>h?h=(h&31)<<6|k&63:(l=d[g++],240>h?h=(h&15)<<12|(k&63)<<6|l&63:(n=d[g++],h=(h&7)<<18|(k&63)<<12|(l&63)<<6|n&63))),65536>h?f+=String.fromCharCode(h):(h-=65536,f+=String.fromCharCode((h>>10)+55296,(h&1023)+56320));e=f}c(e)}}var ze=0,Be=1;function V(a,b,c,d){Ce(this,be(a,V,0),de(b,V,1),be(c,V,2),de(d,V,3))}ua(V,ge);u("H.geo.Rect",V);V.prototype.ea="POLYGON";V.prototype.da=function(a){var b=this.A,c=this.m,d=this.u,e=this.s;a.push("(",c," ",b,",",e," ",b,",",e," ",d,",",c," ",d,",",c," ",b,")");return a};V.prototype.j=function(a){return this===a||!!a&&this.A===a.A&&this.m===a.m&&this.u===a.u&&this.s===a.s};V.prototype.equals=V.prototype.j;V.prototype.clone=function(){return new V(this.A,this.m,this.u,this.s)};\nV.prototype.clone=V.prototype.clone;function Ce(a,b,c,d,e){a.m=c;a.s=e;b<d&&(c=b,b=d,d=c);a.A=b;a.u=d;a.C=a.o=a.v=null;return a}V.prototype.$=function(){this.C||(this.C=new U(this.A,this.m));return this.C};V.prototype.getTopLeft=V.prototype.$;V.prototype.Z=function(){this.o||(this.o=new U(this.u,this.s));return this.o};V.prototype.getBottomRight=V.prototype.Z;V.prototype.Ga=function(){return this.A};V.prototype.getTop=V.prototype.Ga;V.prototype.oa=function(){return this.u};V.prototype.getBottom=V.prototype.oa;\nV.prototype.pa=function(){return this.m};V.prototype.getLeft=V.prototype.pa;V.prototype.Fa=function(){return this.s};V.prototype.getRight=V.prototype.Fa;V.prototype.f=function(){this.v||(this.v=new U(this.u+(this.A-this.u)/2,De(this.m,this.a())));return this.v};V.prototype.getCenter=V.prototype.f;V.prototype.a=function(){return Ee(this.m,this.s)};V.prototype.getWidth=V.prototype.a;V.prototype.c=function(){return this.A-this.u};V.prototype.getHeight=V.prototype.c;\nV.prototype.Ha=function(){return this.m>this.s};V.prototype.isCDB=V.prototype.Ha;V.prototype.Ia=function(){return!this.a()&&!this.c()};V.prototype.isEmpty=V.prototype.Ia;V.prototype.B=function(){return new V(this.A,this.m,this.u,this.s)};V.prototype.i=function(a,b,c){var d=this.f();c||(a=be(a,this.i,0),b=de(b,this.i,1));b=this.b(a,b,c);a=b.f();return a.lat===d.lat&&a.lng===d.lng&&this.c()===b.c()&&this.a()===b.a()};V.prototype.containsLatLng=V.prototype.i;\nV.prototype.ha=function(a,b){b||he(a,this.ha,0);return this.i(a.lat,a.lng,b)};V.prototype.containsPoint=V.prototype.ha;V.prototype.P=function(a,b){var c=this.f(),d,e;if(!b&&!Na(a,V))throw new B(this.P,0,a);e=this.l(a,b);d=e.f();return d.lat===c.lat&&d.lng===c.lng&&this.c()===e.c()&&this.a()===e.a()};V.prototype.containsRect=V.prototype.P;\nV.prototype.b=function(a,b,c,d){if(!c){if(Ra(a=be(a)))throw new B(this.b,0,a);if(Ra(b=de(b)))throw new B(this.b,1,b);}return Fe(this.A,this.m,this.u,this.s,a,b,a,b,d)};V.prototype.mergeLatLng=V.prototype.b;V.prototype.ba=function(a,b,c){b||he(a,this.ba,0);return this.b(a.lat,a.lng,b,c)};V.prototype.mergePoint=V.prototype.ba;V.prototype.l=function(a,b,c){if(!b&&!Na(a,V))throw new B(this.l,0,a);return Fe(this.A,this.m,this.u,this.s,a.A,a.m,a.u,a.s,c)};V.prototype.mergeRect=V.prototype.l;\nV.prototype.g=function(a,b,c,d,e,f){e||(a=be(a,this.g,0),b=de(b,this.g,1),c=be(c,this.g,2),d=de(d,this.g,3));return Fe(this.A,this.m,this.u,this.s,a,b,c,d,f)};V.prototype.mergeTopLeftBottomRight=V.prototype.g;V.prototype.aa=function(a,b){if(!b&&!Na(a,V))throw new B(this.aa,0,a);var c=this.m<=this.s,d=a.m<=a.s,e=this.m<a.s,f=a.m<this.s;return this.u<=a.A&&a.u<=this.A&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)};V.prototype.intersects=V.prototype.aa;function Ee(a,b){var c=b-a;return c+(0>c?360:0)}\nfunction De(a,b){var c=a+b/2;return c-(180<c?360:0)}function Fe(a,b,c,d,e,f,g,h,k){var l,n,p;c=Ob(c,g);a=Pb(a,e);e=Ee(b,d);l=De(b,e);g=Ee(f,h);p=De(f,g)-l;p+=0>p-1E-6?360:0;180>p-1E-6?(l=b,n=h):(p=360-p,l=f,n=d);p=p+e/2+g/2;360<=p+5E-7?(l=-180,n=180):p-5E-7<e?(l=b,n=d):p-5E-7<g&&(l=f,n=h);return k?Ce(k,a,l,c,n):new V(a,l,c,n)}V.merge=Fe;function Ge(a,b,c){c||(he(a,Ge,0),he(b,Ge,1));return new V(a.lat,a.lng,b.lat,b.lng)}V.fromPoints=Ge;\nfunction He(a,b){var c=ga(a);if("array"!=c&&("object"!=c||"number"!=typeof a.length))throw new B(He,0,a);var c=1,d=a.length,e,f=null;if(0<d)for(e=a[0],f=Ge(e,e,b);c<d;c++)e=a[c],f.b(e.lat,e.lng,b,f);return f}V.coverPoints=He;function Ie(a,b){if(!(b||a&&null!=a.length))throw new B(Ie,0,a);var c=3,d=a.length,e;if(0<d)for(e=new V(a[0],a[1],a[0],a[1]);c<d;c+=3)e.b(a[c],a[c+1],b,e);return e}V.coverLatLngAlts=Ie;\nfunction Je(a,b){if(b&&(!a||null==a.length))throw new B(Je,0,a);var c=1,d=a.length,e;if(0<d)for(e=new V(a[0].A,a[0].m,a[0].u,a[0].s);c<d;c++)e.l(a[c],b,e);return e}V.coverRects=Je;V.prototype.ca=function(a,b){he(a,this.ca,0);var c=this.m,d=this.A,e=this.s,f=this.u,g=this.f().lng,h=a.lat-f-(d-f)/2,k=a.lng-g,k=180<k||-180>k?-(g+a.lng):k,c=c+(0>k?2*k:0),c=-180>c?360+c:c,e=e+(0<k?2*k:0),e=180<e?e-360:e,d=0<h?d+2*h:d;90<=d&&(d=90);f=0>h?f+2*h:f;-90>=f&&(f=-90);return b?Ce(b,d,c,f,e):new V(d,c,f,e)};\nV.prototype.resizeToCenter=V.prototype.ca;function Ke(a,b,c,d){var e=!!c,f,g,h=0,k=0,l=0,n=0,p=0,w,G,D,I=-1;f=y.Float32Array;var M,x=[];if(b){b=Ka(b);a=Ka(a);e&&(g=Ka(c));c=b.length;d=d?1E-7:1E-5;for(M=new f(3*c);h<c;)f=b[h],G=+f,w=+a[h],e&&(D=+g[h]),Le.test(f)?0<=I&&(0<h-I&&x.push(I,h+1),I=-1):0>I&&(I=h),h++,n=M[k++]=n+w*d,l=M[k++]=l+G*d,e&&(p=M[k]=p+D),k++;0<=I&&1<c-I&&x.push(I,c)}else M=new f(0);return{path:M,outlineIndices:x}}var Le=/^-?0\\d/;\nfunction Me(a,b){for(var c=0,d=a.length/3,e=new y.Array(d),f=0;c<d;)e[c++]=b.c(a[f],a[++f]),f+=2;return e};function Ne(a,b){var c=180/(1<<b),d=a.lat+90,e=(a.lng+180)%360,f=0;180==d&&f--;f+=Math.floor(d/c);c=0+Math.floor(e/c);return[f,c]}var Oe=1/Math.pow(10,10);function Pe(a,b){var c=[],d=a.$(),e=a.Z(),f,g;180==e.lng&&(e.lng-=Oe);d=Ne(d,b);e=Ne(e,b);for(g=d[0];g>=e[0];g--)for(f=d[1];f<=e[1];f++)c.push(g,f);return c};function Qe(a,b){this.b={};this.v=ne(a.serverUrl);this.l=b;this.C=a.layerConfigs||[];this.o=a.projected;this.a=a.tileSize||256;this.B=!1!==a.batchTiles;this.P=a.onlyOutline;this.j=new X(Ja,this.a);this.i=new X(Ja,this.a);this.i.a(22-Math.log(this.a)/Math.LN2+8)}ua(Qe,L);m=Qe.prototype;m.Wa=function(a,b,c){var d,e;d={x:a*this.a,y:b*this.a};e={x:a*this.a+(this.a-1),y:b*this.a+(this.a-1)};this.j.a(c);d=this.j.f(d);e=this.j.f(e);d=new V(d.lat,d.lng,e.lat,e.lng);return Re(this,d,this.C,{x:a,y:b,z:c})};\nm.Va=function(a,b,c,d,e){return Re(this,new V(a,b,c,d),e)};\nfunction Re(a,b,c,d){var e=d||{};c=Se(c);var f=Te(c),g,h=[],k=[],l,n,p={},w,G,D;for(G=0;G<c.length;G++)for(l=c[G].layerId,n=c[G].level,p[l]=c[G].columns,g=Pe(b,n),D=0;D<g.length-1;D+=2)d=[l,g[D+1],g[D],n].join("_"),w=a.b[d]||a.l.get(d),w||(w=new me(g[D+1],g[D],n,l),w.key=d,a.b[d]=w,k.push(w)),h.push(w);k.length&&(a.B?Ue(a,k):Ve(a,k));return Pc(h.map(function(a){return a.then(Ea(this.Oa,this,a.Y,f)).then(Ea(this.Ua,this,a,e)).then(Ea(this.Ya,this,p[a.Y]))},a))}\nm.Oa=function(a,b,c){var d=c.Rows,e=d.length,f,g,h,k;if(e&&(f=b[a])){b=new F(c.Rows);g=[];for(h=0;h<e;h++)k=d[h],f(b.c(h),a)&&g.push(k);a={Rows:g};if(c=c.Meta)a.Meta=c}else a=c;return a};function Ve(a,b){function c(b,c,d){d?(delete a.b[b.key],b.reject(d)):We(a,b,c)}var d,e,f;for(d=0;d<b.length;d++)f=b[d],e=a.v.clone().f({tilex:f.x}).f({tiley:f.y}).f({level:f.a}).f({layer:f.Y}),new we(e.toString(),Ea(c,null,f),Be)}function Ue(a,b){var c=b.length,d,e;for(d=0;d<c;d+=15)e=b.slice(d,d+15),Xe(a,e)}\nfunction Xe(a,b){var c=a.v.clone(),d=[],e=[],f=[],g=c.a;b.length&&(b.forEach(function(a){d.push(a.x,a.y);e.push(a.a);f.push(a.Y)}),g.tilexy=d.join(","),g.layers=f.join(","),g.levels=e.join(","),c.v(g),new we(c.toString(),function(c,d){d?b.forEach(function(b){delete a.b[b.key];b.reject("error")}):We(a,b,c)},Be))}\nfunction We(a,b,c){var d,e,f,g;if(Pa(b,void 0,void 0,void 0))for(e=c.indexOf("[")+1,g=0;g<b.length;g++)f=c.indexOf("]},{",e+3)+2,f<e&&(f=c.lastIndexOf("]}")),d=c.substr(e,f-e),e=f+1,Ye(a,b[g],d);else Ye(a,b,c)}function Ye(a,b,c){var d=0;try{d=c.length,delete a.b[b.key],a.l.add(b.key,b,2*d),b.resolve(JSON.parse(c))}catch(e){b.reject(e.message)}}function Te(a){var b={},c,d,e;for(e=0;e<a.length;e++)c=a[e],c.rowFilter&&(d=c.layerId,d=d!==z?d:c.layer,b[d]=Ea(c.rowFilter,c.rowFilterContext));return b}\nm.Ua=function(a,b,c){var d,e,f,g=!1,h,k,l=[],n=[],p=[];a=/^ADAS/.test(a.Y);for(var w=this.P,G=a?"HPY":"LAT",D=a?"HPX":"LON",I=a?"HPZ":"ZLEVEL",M,x,na,ya=0,Zd=c.Rows,ja,oa,gf=Zd.length,$d=this.i;ya<gf;ya++){x=Zd[ya];if(x[G]&&x[D]&&(f=Ke(x[G],x[D],x[I],a),x.geometry=f,delete x[G],delete x[D],delete x[I],x.INNER_LON)){x.INNER_LAT=x.INNER_LAT.split(";");x.INNER_LON=x.INNER_LON.split(";");M=[];na=x.INNER_LON.length;for(f=0;f<na;f++)M.push(Ke(x.INNER_LAT[f],x.INNER_LON[f],"",a));x.interiors=M;delete x.INNER_LAT;\ndelete x.INNER_LON}if(this.o){ja=x.$$projected$$;if(!ja){f=x.geometry;na=(M=x.interiors)?M.length:0;h=Me(f.path,$d);oa=[h];x.$$projected$$=ja={Ta:oa};oa.length+=na;g|=Ze(oa,h,f.outlineIndices);if(na)for(ja.Qa=1,f=0;f<na;f++)x=M[f],h=Me(x.path,$d),oa[1+f]=h,g|=Ze(oa,h,x.outlineIndices);g&&(ja.va=1+na)}if(ja){h=[];oa=ja.Ta;M=na=x=oa.length;for(f=w?ja.va:0;f<x;f++){k=oa[f];var ba=f>=ja.va,ca=void 0,da=void 0,A=void 0,t=void 0,K=e=d=e=void 0,K=void 0,La=[],t=K=A=void 0,K=[],A=void 0,t=0,pa=this.i.g()-\nb.z,ca=(b.x<<pa)*this.a,da=(b.y<<pa)*this.a,K=50<<pa;e=this.a<<pa;if(1===k.length)K=[ca,da,ca+e,da,ca+e,da+e,ca,da+e],nc(k[0].x,k[0].y,K)&&(K=new Int32Array(2),K[0]=k[0].x-ca>>pa,K[1]=k[0].y-da>>pa,La.push(K));else if(A=da-K,t=ca+e+K,e=da+e+K,d=ca-K,K=[new J(d,A),new J(t,A),new J(t,e),new J(d,e),new J(d,A)],ba)for(K=pb([k],d,A,t,e,!1),A=K.length,t=0;t<A;t+=1)La.push($e(K[t],2*K[t].length,ca,da,pa,!0));else if(af(K,k))La.push($e(K,2*K.length,ca,da,pa,!0));else{var A=k,ba=zb(K),A=zb(A),O=void 0,Y=void 0,\nra=void 0,za=void 0,hc=void 0,ic=void 0,ce=ra=t=void 0;d=t=void 0;t={};e=d=1;var ab=0,ab=~~(1*ab);switch(ab){case 1:e=d=0;break;case 2:d=0;e=1;break;case 3:d=1,e=0}var ab=e,jc=za=void 0,ra=O=e=void 0;if(A&&ba){A.ia=rb(A.x,A.y,null,tb(A));ba.ia=rb(ba.x,ba.y,null,tb(ba));for(O=A;O.next;O=O.next)if(!O.I)for(Y=ba;Y.next;Y=Y.next)!Y.I&&(za=sb(O.next),jc=sb(Y.next),ra=wb(O,za,Y,jc,t))&&(ra=t.Ja,ce=t.xa,hc=t.Za,ic=t.$a,ra=rb(hc,ic,null,null,null,null,1,0,0,ra),yb(ra,O,za),za=rb(hc,ic,null,null,null,null,\n1,0,0,ce),yb(za,Y,jc),ra.ua=za,za.ua=ra);t=xb(A,ba);d&&(t=1-t);for(O=A;O;O=O.next)O.I&&(O.ra=t,t=1-t);t=xb(ba,A);ab&&(t=1-t);for(Y=ba;Y.next;Y=Y.next)Y.I&&(Y.ra=t,t=1-t);vb(A);for(vb(ba);(t=ub(A))!=A;){for(O=null;!t.na;t=t.ua){for(d=t.ra;;){O=rb(t.x,t.y,O);t.na=1;t=d?t.next:t.D;if(!t)break;if(t.I){t.na=1;break}}if(!t)break}O.Da=e;e=O}A=e}else A=void 0;t=2*k.length;if(!A&&af(k,K))La.push($e(k,t,ca,da,pa,!0));else for(;A;)La.push($e(A,t,ca,da,pa)),A=A.Da}k=La;if(f===ja.Qa){if(!h.length)break;M=h.length}f===\nja.va&&(na=h.length);k.length&&h.push.apply(h,k)}h.length&&(l[ya]=h,w?n[ya]=p[ya]=fc:(n[ya]=M,p[ya]=na))}}}return{Xa:c,La:l,Ra:n,Sa:p}};function Ze(a,b,c){for(var d=c.length,e=0,f,g,h=b.length;e<d;)f=c[e++],g=c[e++],a.push(g-f===h?b:b.slice(f,g));return 0<c.length}function af(a,b){for(var c=!1,d=[],e=0,f=b.length;e<f;e++)d.push(b[e].x,b[e].y);nc(a[0].x,a[0].y,d)&&(pb([b],a[0].x,a[0].y,a[2].x,a[2].y,!0).length||(c=!0));return c}\nfunction $e(a,b,c,d,e,f){var g=0,h=0,k=a,l=!!f,n=new Int32Array(b);for(l&&(a=k[0]);a;)n[g]=a.x-c>>e,g+=1,n[g]=a.y-d>>e,g+=1,g===b&&(f=new Int32Array(2*b),f.set(n),n=f),h+=1,a=l?k[h]:a.next;f=new Int32Array(g);f.set(Array.prototype.slice.apply(n,[0,g]));return f}\nm.Ya=function(a,b){for(var c=b.Xa,d=b.La,e=b.Ra,f=b.Sa,g=[],h,k={Rows:g},l,n=a?a.length:0,p=0,w,G=c.Rows,D=G.length,I;p<D;p+=1)if(d[p]||!this.o){h={};w=G[p];if(n)for(l=0;l<n;l+=1)w.hasOwnProperty(a[l])&&(h[a[l]]=w[a[l]]);else for(I in w)"$$projected$$"!==I&&(h[I]=w[I]);d[p]&&(h.$HProjGeometry={paths:d[p],interiorsIndex:e[p],outlinesIndex:f[p]});w.geometry&&(h.geometry=w.geometry);g.push(h)}c.Meta&&(k.Meta=c.Meta);return k};\nm.ja=function(){for(var a in this.b)this.b.hasOwnProperty(a)&&(this.b[a].reject("disposed"),delete this.b[a])};function Se(a){var b=[],c,d;for(d=0;d<a.length;d++){c=Ia(a[d]);if(c.rowFilter&&(c.rowFilter=eval("("+c.rowFilter+")"),!r(c.rowFilter)))throw Error("Invalid row filter for layer "+c.layerId);b.push(c)}return b};u("H.service.extension.worker.processor",function(a,b,c){function d(a){e.postMessage(a)}var e=this,f=bf[a],g;g=function(a){e.postError(a.toString())};if(0===b)f||(bf[a]=new Qe(c,cf)),this.postMessage();else if(f)switch(b){case 1:try{f.Wa.apply(f,c).then(d,g)}catch(h){this.postError(h.message)}break;case 2:try{f.Va.apply(f,c).then(d,g)}catch(k){this.postError(k.message)}break;case 3:f.S();delete bf[a];Oa(bf)&&cf.i();break;default:e.postError("Unsupported command")}else e.postError("TileProvider is not initialized")});\nvar cf=new C(26214400),bf=Object.create(Ja,void 0);function df(a,b,c){var d=a[b];a=a[b+1];this.Ba=[];this.wa=0;this.a=[a-c,d-c,a+c,d+c]}df.prototype.ha=function(a,b){var c=a[b],d=a[b+1],e=this.a;return e[1]<=c&&c<=e[3]&&e[0]<=d&&d<=e[2]};var ef=new J(0,0);function ff(a,b,c,d,e){d[e]=b;d[e+1]=a}var hf=new X;function jf(a,b,c,d,e){hf.c(a,b,ef);d[e]=ef.x;d[e+1]=ef.y}\nu("H.clustering.dynamicgrid.worker",function(a,b,c,d,e){var f=e?ff:jf,g=0;e=!!self.ArrayBuffer;var h=a.byteLength?new Float64Array(a):a,k=h.length/3,l,n;a=[];var p,w=[],G=[],D=e?new Float64Array(2*k):[],k=0,I,M=0;for(hf.a(d);g<h.length;){I=h[g++];n=h[g++];l=h[g++];f(l,n,d,D,M);for(l=a.length;l--;)if(n=a[l],n.ha(D,M)){p=n;break}p||(p=new df(D,M,b),a.push(p));l=M/2;p.wa+=I||1;p.Ba.push(l);p=null;M+=2}for(l=a.length;l--;)n=a[l],b=n.wa>=c,f=n.Ba,d=f.length,b?(w.push(d),w=w.concat(f)):(k+=d,G=G.concat(f));\nc=[k].concat(G).concat(w);c=e?(new Uint32Array(c)).buffer:c;this.postMessage(c,[c])});self.addEventListener("message",function(a){a=new ve(a.data);var b=re[a.b];if(b)try{b.apply(a,a.c)}catch(c){a.postError(c.message)}else a.postError("processor_not_found")});(function(){var a,b;a=new ve;b=function(b,d){ue.apply(a,[b,d,!0])};b("0",se);b("1",ue);b("2",te);b("3",Ae)})();\n'
    },
    1810: function(e, t) {
        H.util.eval('N.prototype.N=ca(0,function(a){var b=this.g,c,d=this;a!==x?(B(a,Vg,N.prototype.N,0),c=a):c=bh;c!==b&&b.Ea(function(a,b,g){return d.m(a)?(c.add(a,b,g),!0):!1});this.g=c});function S(a,b,c,d,e,f){if(a&&b)this.ce(a),this.nd(b),this.mc(c),this.j(e),this.l(f),this.zf(d);else throw Error(\'Parameters "scheme" and "host" must be specified\');}r("H.service.Url",S);\nfunction km(a,b){var c=a,d=w.document,e,f,g,h,k=d&&d.createElement("a"),l="";d?(b&&(f=(e=d.getElementsByTagName("base")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement("base")),h.href=b),k.href=c,l=k.href,b&&(e?e.href=f:g.removeChild(h))):/[\\w]+:\\/\\//.test(c)&&(l=c);g=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(l);c=g[1];k=g[4];d=g[5];h=g[6];e=g[7];f=g[8];!g[2]&&k&&/@/.test(k)&&(k=k.split("@")[1]);g=k;h=h&&0<h.length?h.substr(1):"";var k=\n{},m;if(e)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;m=l.exec(e);)k[decodeURIComponent(m[2])]=m[4]?decodeURIComponent(m[4]):void 0;return new S(c,g,h,k,isNaN(+d)?void 0:+d,f&&0<f.length?f.substr(1):"")}S.parse=km;var lm=0;S.prototype.clone=function(){lm++;var a={},b;for(b in this.b)a[b]=this.b[b];return new S(this.g,this.vc,this.c,a,this.f,this.a)};S.prototype.clone=S.prototype.clone;\nS.prototype.ce=function(a){if(!a||"string"!==typeof a)throw Error(\'The "scheme" parameter must be a non-empty string.\');this.g=a;return this};S.prototype.setScheme=S.prototype.ce;S.prototype.B=function(){return this.g};S.prototype.getScheme=S.prototype.B;S.prototype.nd=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw Error(\'The "host" parameter is not a valid host name.\');this.vc=a;return this};S.prototype.setHost=S.prototype.nd;\nS.prototype.o=function(){return this.vc};S.prototype.getHost=S.prototype.o;S.prototype.mc=function(a){this.c=a||void 0;return this};S.prototype.setPath=S.prototype.mc;S.prototype.m=function(){return this.c};S.prototype.getPath=S.prototype.m;S.prototype.zf=function(a){if(a)if("object"==typeof a)this.b=a;else throw Error(\'Parameter "params" must be an object.\');else this.b={};return this};S.prototype.setQuery=S.prototype.zf;S.prototype.i=function(){return!mm(this)};S.prototype.hasQuery=S.prototype.i;\nS.prototype.s=function(){return this.b};S.prototype.getQuery=S.prototype.s;S.prototype.j=function(a){if(a&&isNaN(parseInt(a,10)))throw Error(\'Parameter "port" must be a number or undefined\');this.f=+a||void 0;return this};S.prototype.setPort=S.prototype.j;S.prototype.v=function(){return this.f};S.prototype.getPort=S.prototype.v;S.prototype.l=function(a){this.a=a||void 0;return this};S.prototype.setAnchor=S.prototype.l;S.prototype.A=function(){return this.a};S.prototype.getAnchor=S.prototype.A;\nS.prototype.$=function(a){if("object"!==typeof a)throw Error(\'Parameter "other" must be an object.\');var b=this.b,c;for(c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&(b[c]=a[c]);return this};S.prototype.mergeQuery=S.prototype.$;S.prototype.xa=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subDomain" must be a non-empty string\');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.nd(a+"."+this.vc)};S.prototype.addSubDomain=S.prototype.xa;\nS.prototype.R=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subPath" must be a non-empty string\');return this.mc((this.c?this.c+"/":"")+a)};S.prototype.addSubPath=S.prototype.R;S.prototype.toString=function(){return[this.g+"://",this.vc,this.f?":"+this.f:"",this.c||!mm(this)||this.a?"/":"",this.c?encodeURI(this.c):"",nm(this),this.a?"#"+encodeURIComponent(this.a):""].join("")};S.prototype.toString=S.prototype.toString;\nfunction nm(a){var b=[],c,d=a.b,e;for(c in d)d.hasOwnProperty(c)&&"function"!==typeof d[c]&&(e=a.b[c],b.push(encodeURIComponent(c)+(void 0===e?"":"="+encodeURIComponent(e))));return 0<b.length?"?"+b.join("&"):""}function mm(a){var b,c=0;for(b in a.b)if(a.b.hasOwnProperty(b)&&"function"!==typeof a.b[b]&&(c++,0<c))break;return!c};function om(a){function b(b){d.contains(e)&&d.removeChild(e);l&&clearTimeout(l);delete om.a[f];b&&a.Zc&&a.Zc.call(k,b)}if(!a.url||!a.oc)throw Error(\'Parameter "options" must specify at least a URL and a callback.\');if("function"!==typeof a.oc)throw Error("Parmaters options.callback must be a function");var c=a.Ui||document,d=c.getElementsByTagName("head")[0],e=c.createElement("script"),c=a.url instanceof S?a.url:km(a.url,a.Ti),f=om.c++,g=a.xd||"callback",h=a.oc,k={},l=null;k.id=f;k.cancel=function(){b("cancelled")};\n0!==a.timeout&&(l=w.setTimeout(function(){b("timeout")},a.timeout||3E4));om.a[f]=function(a){b();h.call(k,a)};e.type="text/javascript";e.src=c.toString()+(c.i()?"&":"?")+g+"="+(a.rf?"H.service.jsonp.handleResponse("+f+")":encodeURI("H.service.jsonp.handleResponse("+f+")"));d.appendChild(e);return k}r("H.service.jsonp",om);om.b=function(a){return(a=om.a[a])?a:function(){}};om.handleResponse=om.b;om.c=0;om.a={};function pm(a){a=a||{};this.F=a.subDomain;this.c=a.path;this.N=a.callbackKey;this.f=a.baseUrl}r("H.service.AbstractRestService",pm);pm.prototype.W=function(a,b,c,d,e){this.a=(e||this.f).clone();this.F&&this.a.xa(this.F);this.c&&this.a.mc(this.c);c&&this.a.ce("https");return this};pm.prototype.configure=pm.prototype.W;pm.prototype.aa=function(){return this.a};\nfunction qm(a,b,c,d){if(!sa(c))throw Error("onResult callback needed");if(!sa(d))throw Error("onError callback needed");return om({url:b,oc:function(a){c(a)},Zc:function(a){d(Error("["+a+"] "+b+" request failed"))},xd:a.N})};function U(a){a=rm(sm,a);this.v(a.baseUrl);this.c(a.useCIT);this.g(a.useHTTPS);tm(this,a.app_id,a.app_code);this.a={}}r("H.service.Platform",U);function tm(a,b,c){a.l=b;a.i=c;a.f.$({app_id:b,app_code:c})}U.prototype.W=function(a){if(a.configure)return a.configure(this.l,this.i,this.B,this.s,this.f);throw Error("Object is not configurable");};U.prototype.configure=U.prototype.W;U.prototype.g=function(a){this.B=a;this.f.ce(a?"https":"http")};U.prototype.setUseHTTPS=U.prototype.g;\nU.prototype.c=function(a){this.s=a;this.f.nd((a?"cit.":"")+this.A)};U.prototype.setUseCIT=U.prototype.c;U.prototype.v=function(a){this.A=a.vc;this.f=a=a.clone();a.$({xnlp:"CL_JSMv3."+sl().version});this.c(this.s);this.g(this.B);tm(this,this.l,this.i)};U.prototype.setBaseUrl=U.prototype.v;U.prototype.C=function(){return this.f};U.prototype.getBaseUrl=U.prototype.C;var sm={app_id:null,app_code:null,useHTTPS:!1,useCIT:!1,baseUrl:new S("http","api.here.com")};\nr("H.service.setOptions",function(a,b){sm[a]=b});r("H.service.getOptions",function(a){return sm[a]});function rm(a,b){var c=b||{},d;for(d in a)!a.hasOwnProperty(d)||d in c||(c[d]=a[d]),b&&b.hasOwnProperty(d)&&(c[d]=b[d]);return c};function um(a){a=rm(sm.trafficIncidents,a);a.callbackKey="jsoncallback";um.u.constructor.call(this,a)}v(um,pm);r("H.service.TrafficIncidentsService",um);um.prototype.W=function(a,b,c,d,e){um.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone());return this};um.prototype.configure=um.prototype.W;um.prototype.g=function(a,b,c){a=this.aa().clone().R("incidents.json").$(a);return qm(this,a,b,c)};um.prototype.requestIncidents=um.prototype.g;\num.prototype.b=function(a,b,c,d,e,f){a=this.aa().clone().R(["incidents/json",c,a,b].join("/")).$(f||{});return qm(this,a,d,e)};um.prototype.requestIncidentsByTile=um.prototype.b;sm.trafficIncidents={subDomain:"traffic",path:"traffic/6.1"};U.prototype.o=function(){return this.W(new um)};U.prototype.getTrafficIncidentsService=U.prototype.o;function vm(){this.Ff={}}function wm(a){var b,c=a.boxes,d,e;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.b=[];if(c&&(b=c.length))for(d=c[0],e=new G(d[0],d[1],d[2],d[3]),this.b.push(e),this.a=new G(d[0],d[1],d[2],d[3]),a=1;a<b;a++)d=c[a],e=new G(d[0],d[1],d[2],d[3]),this.b.push(e),this.a.wb(e,!1,this.a)}wm.prototype.xc=function(a,b){var c;if(a>=this.min&&a<=this.max)if((c=this.b.length)&&this.a){if(this.a.xc(b))for(;c--;)if(this.b[c].xc(b))return!0}else return!0;return!1};function xm(a){var b=0,c,d,e=a.length;if(0===e)return b;for(c=0;c<e;c++)d=a.charCodeAt(c),b=(b<<5)-b+d,b|=0;return b}var ym=Function("return this")();function zm(a,b){function c(){k=Aa();te.font=g;h=Math.round(te.measureText("BESbswyMi").width);-1===e.indexOf(h)?b():3E5<k-d?b("timeout"):(l=50*++f,ym.setTimeout(c,Math.min(l,d+3E5-k)))}var d=Aa(),e=Am(),f=0,g="35px "+a+","+Bm.join(","),h,k,l;-1!==Bm.indexOf(a)?b():ym.setTimeout(c,50)}\nfunction Cm(a,b){function c(a){a?b(a):0===--d&&b()}var d=a.length;a.forEach(function(a){zm(a,c)})}var Bm=Ra("monospace serif");function Am(){var a=[];Bm.forEach(function(b){te.font="35px "+b;a.push(Math.round(te.measureText("BESbswyMi").width))});return a}function Dm(a,b){var c=b||document,d=c.createElement("style"),e;d.appendChild(c.createTextNode(""));c.head.appendChild(d);e=d.sheet;a.forEach(function(a,b){e.insertRule(a,b)});return d}function Em(){}\nEm.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||ym.document.createElement("canvas")};Em.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var Fm=new Em;function Gm(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.aa().clone().R(b+"/"+a.Cb()+"/"+c).$(f),l=a.i;this.service_=a;this.tileBaseUrl_=k;Pk.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(a,b,c){var f=h.tileBaseUrl_.clone();l&&f.xa(l[(c+b+a)%l.length]);f.R(c+"/"+a+"/"+b+"/"+d+"/"+e);return f.toString()},crossOrigin:g.crossOrigin,uri:k.toString().replace(/_/g,"")+d});this.tileType_=b;this.scheme_=c;this.params_=f;this.copyrightKey_=c.split(".")[0];this.C=z(this.C,this);\nthis.getCopyrights=this.Ia;this.U=wc();a.addEventListener("versionupdate",this.C)}v(Gm,Pk);Gm.prototype.MAX_STORE_TIME=2592E6;Gm.prototype.D=function(){Pk.prototype.D.call(this);this.service_.removeEventListener("versionupdate",this.C)};Gm.prototype.Ia=function(a,b){var c=this.service_.Ia().Ff[this.copyrightKey_],d,e=c?c.length:0,f=[];for(d=0;d<e;d++)c[d].xc(b,a)&&f.push(c[d]);return f};\nGm.prototype.C=function(){var a=this.service_;this.tileBaseUrl_=a.aa().clone().R(this.tileType_+"/"+a.Cb()+"/"+this.scheme_).$(this.params_);this.j(!1)};Gm.prototype.Rc=function(){return this.U};r("H.service.MapTileProvider.prototype.canStore",Gm.prototype.Rc);Gm.prototype.B=function(){return this.Rc()?vc():N.prototype.B.call(this)};r("H.service.MapTileProvider.prototype.getStorage",Gm.prototype.B);function Hm(a){a=rm(sm.maptile,a);I.call(this);this.f=a.baseUrl;this.c=a.path;this.m=a.subDomain;this.i=a.shards;this.ra=(this.s=!!a.ignoreTypes)?null:a.type;this.g=a.version;this.j=new vm;this.o={};this.Ad=0}v(Hm,I);r("H.service.MapTileService",Hm);function Im(a,b){for(var c={},d=a[b+"s"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+"s"]=c}\nHm.prototype.W=function(a,b,c,d,e){this.a=(this.f||e).clone();this.m&&this.a.xa(this.m);this.ra&&this.a.xa(this.ra);this.c&&this.a.mc(this.c);"newest"===this.g&&Jm(this);return this};Hm.prototype.configure=Hm.prototype.W;Hm.prototype.aa=function(){return this.a};Hm.prototype.A=function(){return this.ra};Hm.prototype.getType=Hm.prototype.A;Hm.prototype.Cb=function(){return this.g};Hm.prototype.getVersion=Hm.prototype.Cb;\nHm.prototype.Ia=function(){this.Ad||(this.g&&"newest"!==this.g||"traffic"===this.ra)&&Km(this);return this.j};Hm.prototype.getCopyrights=Hm.prototype.Ia;\nfunction Jm(a){var b=a.aa().clone().R("info").$({output:"json"});a.i&&b.xa(a.i[0]);om({url:b,xd:"callback_func",oc:function(b){b=JSON.parse(b.replace(/,\\s?\\]/g,"]")).response;var d;Im(b,"map");Im(b,"scheme");Im(b,"tiletype");Im(b,"format");Im(b,"resolution");Im(b,"language");if("newest"===a.g&&"traffic"!==a.ra)for(d in b.maps)b.maps[d].hash&&b.maps[d].newest&&(a.g=b.maps[d].hash,a.dispatchEvent("versionupdate"));a.l=b;a.dispatchEvent("infoupdate")},Zc:function(a){throw Error("["+a+"]: Could not fetch meta-info from map tile service @ "+\nb.toString());},rf:!0})}function Km(a){var b=a.aa().clone().R("copyright").R(a.Cb()).$({output:"json"});a.i&&b.xa(a.i[0]);a.Ad=1;om({url:b,xd:"callback_func",oc:function(b){this.Ad=2;b=JSON.parse(b);var d=a.j,e;for(e in b)if(b.hasOwnProperty(e))for(var f=b[e],g=d.Ff[e]||(d.Ff[e]=[]),h=void 0,k=f.length,h=0;h<k;h++)g.push(new wm(f[h]));a.dispatchEvent("copyrightupdate")},Zc:function(a){this.Ad=-1;throw Error("["+a+"]: Could not fetch copyrights from map tile service @"+b.toString());},rf:!0})}\nHm.prototype.B=function(){return this.l};Hm.prototype.getInfo=Hm.prototype.B;Hm.prototype.v=function(a,b,c,d,e,f){var g;g=xm(this.aa().clone().R(a+"/"+this.Cb()+"/"+b+"/"+c+"/"+d).$(e?e:{}).toString());var h=this.o[g];h||(h=new Gm(this,a,b,c,d,e,f),this.o[g]=h);return h};Hm.prototype.createTileProvider=Hm.prototype.v;Hm.prototype.b=function(a,b,c,d,e,f,g,h){a=this.v(a,b,c,d,e,h);return new oh(a,{opacity:f,dark:!!g})};Hm.prototype.createTileLayer=Hm.prototype.b;\nsm.maptile={type:"base",version:"newest",subDomain:"maps",path:"maptile/2.1",shards:["1","2","3","4"]};U.prototype.b=function(a){var b;b=rm(sm.maptile,a);var c;c=""+(b.ignoreTypes?"":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(""):"";b=xm(c);c=this.a[b];c||(c=this.W(new Hm(a)),this.a[b]=c);return c};U.prototype.getMapTileService=U.prototype.b;function Lm(a){this.f=a;this.hb=this.a("general","default")||Mm;this.c=new Vg(200)}Lm.prototype.b=function(a,b){var c,d,e,f,g;for(g=1;g<arguments.length;g++)for(c in d=arguments[g],d)if(d.hasOwnProperty(c))for(e in a[c]||(a[c]={}),f=d[c],f)f.hasOwnProperty(e)&&void 0!==f[e]&&(a[c][e]=f[e]);return a};Lm.prototype.Na=function(a,b){var c=this.a("spaceToGroup",b);return Nm(this,a,c?c+"":void 0)};\nfunction Nm(a,b,c){var d,e,f;f=(b?b+"_":"")+(c?c:"default");d=a.hb;(e=a.c.get(f))?d=e:(b&&c?(d=Nm(a,b,void 0),e=Nm(a,void 0,c),b=a.a("venues",b,"groups",c),d=a.b({},a.hb,d,e,b)):b&&!c?d=a.b({},a.hb,a.a("venues",b,"default")):!b&&c&&(d=a.b({},a.hb,a.a("general","groups",c))),a.c.add(f,d,1));return d}Lm.prototype.a=function(a){for(var b=this.f,c=arguments,d=c.length,e=0;e!==d;)if(b=b[c[e++]],!b)return;return b};\nvar Mm={space:{fillColor:"rgba(198, 175, 255, .7)",strokeColor:"rgb(162, 141, 216)",lineWidth:.5},spaceLabel:{fillColor:"rgb(78,66,111)"},floor:{fillColor:"rgba(249, 244, 253, .7)",strokeColor:"rgba(255, 255, 255, .7)",lineWidth:1}};function Om(a,b,c,d,e,f,g,h){this.Ta=[];this.A={};Yk.call(this,a,b,c,d,e,f,g,h)}v(Om,Yk);function Pm(){}Pm.prototype.Ib=function(){};r("H.service.remote.IObject.prototype.retain",Pm.prototype.Ib);Pm.prototype.v=function(){};r("H.service.remote.IObject.prototype.release",Pm.prototype.v);function Qm(a,b){var c={};this.I=a;Ca(c,b||c);Kk.call(this,c);this.lc={};Rm(this)}v(Qm,Kk);r("H.service.remote.ObjectProvider",Qm);Qm.prototype.J=function(){Kk.prototype.J.call(this)};function Rm(a){a=a.N(Pe.SPATIAL);a.c(a.a+1,Me.ADD)}var Sm=[];Qm.prototype.c=function(){return Sm};Qm.prototype.requestMarkers=Qm.prototype.c;Qm.prototype.b=function(){return Sm};Qm.prototype.requestDomMarkers=Qm.prototype.b;Qm.prototype.l=Be;Qm.prototype.providesMarkers=Qm.prototype.l;Qm.prototype.i=Be;\nQm.prototype.providesDomMarkers=Qm.prototype.i;Qm.prototype.s=function(){return!0};Qm.prototype.providesSpatials=Qm.prototype.s;Qm.prototype.m=function(){return Sm};Qm.prototype.requestSpatials=Qm.prototype.m;function Tm(a){return a.getVisibility(!0)}Qm.prototype.g=function(a,b){var c=Um(this,a,Vm);b&&(c=c.filter(Tm));return c};Qm.prototype.requestSpatialsByTile=Qm.prototype.g;function Um(a,b,c){var d=b.i&&b.i[c],e;!d&&(e=b.v)&&(delete b.v,(b.i=a=a.I.parse(a,b,e))&&(d=a[c]));return d||Sm}\nQm.prototype.V=function(a){var b=a.ta();if(this.lc[b])throw new kc(this.V,"Remote object "+b+" already added");return this.lc[b]=a};Qm.prototype.a=function(a){delete this.lc[a.ta()]};var Vm="spatials";function Wm(a,b,c){Qm.call(this,b,c);this.f=a;this.responseQueue_=[];Xm(this.f)||(this.Vd=z(this.Vd,this),this.f.addEventListener("statechange",this.Vd));this.v=a.m;this.j=0;this.B={onSpaceCreated:c&&c.onSpaceCreated,floorLevel:0,styler:null};this.requestSpatialsByTile=z(this.g,this)}v(Wm,Qm);Wm.prototype.T=function(a,b,c,d){this.vf?this.Ug.apply(this,arguments):d||this.responseQueue_.push({Ci:a,response:c,Vh:b});d&&(a.A[b]=!0)};function Ym(a){return a.getVisibility(!0)}\nWm.prototype.g=function(a,b,c){var d;this.$g||Zm(this);d=a.a;b&&(d=d.filter(Ym));if(!c){b=this.j;var e,f,g,h;if(!a.A[b]&&Xm(this.f)){e=this.f.aa();c=a.x;f=a.y;h=g=a.z;for(var k=1,l;h--;)l=1<<h,k*=4,k+=(c&l&&1)|(f&l&&2);h=k.toString(4).substr(1);e=e.clone().R("0/tiles-ia").R("L"+b).R(h+".json");this.v&&e.xa(this.v[(c+f+g)%this.v.length]);c=new Gh("text/plain",e.toString());c.then(z(this.T,this,a,b),sc);a.A[b]=!0}a.A[this.j]=!0}a.l&&(d=d.concat(a.l),delete a.l);return d};\nr("H.service.venues.ObjectProvider.prototype.requestSpatialsByTile",Wm.prototype.g);p=Wm.prototype;p.Kc=function(a){var b,c,d;for(b in this.lc)for(c in d=this.lc[b].C,d)d[c].Kc(a);Rm(this);Rg(this);this.j=a};p.Ug=function(a,b,c,d){if(!d&&(this.B.floorLevel=b,b=(b=this.I.parse(this,a,c,this.B))&&b.spatials))for(a.l=a.l?a.l.concat(b):b,a=b.length;a--;)b[a].ua(Me.ADD)};p.Vd=function(){Xm(this.f)&&($m(this),this.f.removeEventListener("statechange",this.Vd))};\nfunction $m(a){Xm(a.f)&&a.vf&&a.dispatchEvent("reload")}function Zm(a){a.$g=!0;an(a,function(b,c){c?a.dispatchEvent("error"):(a.B.styler=b,bn(a,z(a.si,a)))})}p.si=function(a){a?this.dispatchEvent("error"):(this.responseQueue_.forEach(function(a){this.Ug(a.Ci,a.Vh,a.response)},this),this.responseQueue_=null,this.vf=!0,$m(this))};p.$g=!1;p.vf=!1;function an(a,b){(new Gh("application/json",a.f.l.clone().R("styles/styles.json").toString())).then(function(a){b(new Lm(a))},function(a){b(null,a)})}\nvar cn=0;\nfunction bn(a,b){var c=a.f.l.clone().R("fonts"),d=document,e=[],f,g=[];2===cn?b():(dn.forEach(function(a){g.push("FiraGO-Regular".replace("{name}",a))}),1!==cn&&(dn.forEach(function(a,b){f=c.clone().R(g[b]);e.push(\'@font-face {font-family: "FiraGO-Regular";src: url("{url}.woff2") format("woff2"),url("{url}.woff") format("woff"),url("{url}.ttf") format("truetype");font-weight: normal;font-style: normal;}\'.replace(/\\{name\\}/g,a).replace(/\\{url\\}/g,f.toString()))}),a.A=Dm(e,d),cn=1),Cm(g,function(c){cn=c?\n0:2;c&&a.A&&Ge(a.A);b(c)}))}var dn=[""];function en(a,b,c,d){P.call(this,fn(a));this.i=c;this.f=d;this.o={};this.Za=b;this.c=0}v(en,P);r("H.service.venues.Building",en);en.prototype.ta=function(){return this.Za};en.prototype.getId=en.prototype.ta;en.prototype.wa=function(){return this.Da};en.prototype.getVenue=en.prototype.wa;en.prototype.sa=function(){return this.i};en.prototype.getMinLevel=en.prototype.sa;en.prototype.Ya=function(){return this.f};en.prototype.getMaxLevel=en.prototype.Ya;en.prototype.Va=function(){return this.c};\nen.prototype.getCurrentLevel=en.prototype.Va;en.prototype.Kc=function(a){var b,c,d;if(!isNaN(a)&&(b=this.i,c=this.f,a!==this.c))for(this.c=a;b<=c;b++)(d=this.o[b])&&d.setVisibility(b===a);return this.c};en.prototype.ad=function(a){return this.o[a]};en.prototype.getFloor=en.prototype.ad;en.prototype.ba=function(a,b){this.i=Math.min(this.i,a);this.f=Math.max(this.f,b)};en.prototype.adjustMinMaxLevels=en.prototype.ba;function gn(a,b){P.call(this,fn(a));this.C={};this.f=b;a.V(this)}v(gn,P);r("H.service.venues.Venue",gn);gn.prototype.N=function(a){return this.C[a]};gn.prototype.getBuilding=gn.prototype.N;gn.prototype.c=function(){return this.C};gn.prototype.getBuildings=gn.prototype.c;gn.prototype.ta=function(){return this.f};gn.prototype.getId=gn.prototype.ta;function hn(a,b,c,d){d=d||jn;this.Ic={};d.provider=a;this.invalidate=sc;hn.u.constructor.call(this,b,d);delete this.invalidate;c&&(this.f=c);this.ua(Me.ADD)}v(hn,Gf);r("H.service.remote.Spatial",hn);var jn={};hn.prototype.ta=function(){return this.f||Gf.prototype.ta.call(this)};hn.prototype.getId=hn.prototype.ta;hn.prototype.Ib=Function();hn.prototype.retain=hn.prototype.Ib;hn.prototype.v=Function();hn.prototype.release=hn.prototype.v;function kn(a,b){this.a=a;b&&(this.b=b)}var ln=new kn([]);\nhn.prototype.ec=function(a){return(this.Ic[a.key]||ln).a};hn.prototype.getGeometriesForTile=hn.prototype.ec;hn.prototype.ba=function(a){return(this.Ic[a.key]||ln).b};hn.prototype.getLabels=hn.prototype.ba;function mn(a,b,c,d){a.Ic[b.key]=new kn(c,d)};function nn(a,b,c){this.ra=c&&c.type||"";hn.call(this,a,!0,b);this.g(c)}v(nn,hn);r("H.service.venues.Space",nn);nn.prototype.i=function(){return this.ra};nn.prototype.getType=nn.prototype.i;nn.prototype.c=function(){return"floor/polygon"===this.ra};nn.prototype.isFloorSpace=nn.prototype.c;nn.prototype.b=function(a){a&&(this.ai=new zf(a))};nn.prototype.initLabelStyle=nn.prototype.b;nn.prototype.ad=function(){var a=this.Da;return this.isFloorSpace()?a:a&&a.Da};nn.prototype.getFloor=nn.prototype.ad;\nnn.prototype.a=0;nn.prototype.Ib=function(){++this.a};nn.prototype.retain=nn.prototype.Ib;nn.prototype.v=function(){var a=--this.a,b;a||(b=this.ad(),this.isFloorSpace()?b.ib&&(b.a(b.ib),b.ib=null,on(b)):b&&(delete b.i[this.ta()],b.c.a(this),on(b)));return 1>a};nn.prototype.release=nn.prototype.v;function pn(){}pn.prototype.parse=function(){};r("H.service.remote.IParser.prototype.parse",pn.prototype.parse);function qn(a,b,c){P.call(this,fn(a));this.f=c;this.ib=new nn(a,b.id,b);this.V(this.ib);this.c=new P(fn(a));this.V(this.c);this.i={}}v(qn,P);r("H.service.venues.Floor",qn);qn.prototype.sa=function(){return this.f};qn.prototype.getLevel=qn.prototype.sa;qn.prototype.o=function(){return this.ib};qn.prototype.getFloorSpace=qn.prototype.o;qn.prototype.ba=function(){return this.c};qn.prototype.getSpaces=qn.prototype.ba;qn.prototype.N=function(){return this.Da};qn.prototype.getBuilding=qn.prototype.N;\nqn.prototype.getData=function(){return this.ib&&this.ib.getData()};qn.prototype.getData=qn.prototype.getData;qn.prototype.g=function(a){this.ib.g(a);return this};qn.prototype.setData=qn.prototype.g;qn.prototype.jg=function(a){return this.i[a]};qn.prototype.getSpace=qn.prototype.jg;function on(a){if(!a.c.b&&!a.ib){var b=a.N(),c=a.f;c===b.c&&(b.c=0);delete b.o[c];b.a(a);b.b||(a=b.Da,delete a.C[b.ta()],a.a(b),a.b||a.Pa().a(a))}};function rn(){}var sn;rn.prototype.a=Math.PI/180;function tn(a,b){return a&&a.category&&a.category[b||"id"]}function un(a){var b,c;return a.sort(function(a,e){b=a.object.type;c=e.object.type;return b>c?-1:b<c?1:0})}\nrn.prototype.parse=function(a,b,c,d){var e=d.floorLevel,f=d.onSpaceCreated;d=d.styler;var g=[],h,k,l,m,n,q,t,u,y,J={};sn=!1;c=c.replace(/\'\'( )?/g,\'$1\\\\"\');try{c=ym.JSON.parse(c)}catch(T){sn=!0}if(c.length)for(c=un(c),h=c.length;h--;){k=c[h];l=k.area;n=l.length;t=u=q=void 0;(u=0<n)||(sn=!0,u=void 0);if(u)for(q=Array(n/2);n;)t=l[--n],u=l[--n],q[n/2]=new M(u,t);l=q?{Ra:[q]}:A;k=k.object;u=y=x;if(1!==k.type)switch(n=k.type.replace("/polygon",""),n){case "floor":n=q=k.buildingId;(u=a.lc[n])||(u=new gn(a,\nn),u.ia(a));t=k.buildingMinLevel;y=k.buildingMaxLevel;(n=u.N(q))?n.adjustMinMaxLevels(t,y):(n=new en(a,q,t,y),q=u,u=n,q.C[u.ta()]=u,q.V(u),n.Kc(a.j));0>b.Ta.indexOf(n)&&b.Ta.push(n);(q=n.ad(e))?(n=q.ib,u=n.ec(b),u.length&&(l?l.Ra=u[0].Ra.concat(l.Ra):l=u[0])):(u=q=new qn(a,k,e),t=u.f,u.setVisibility(t===n.c),n.o[t]=u,n.V(u),n=q.ib,f&&f(n),t=tn(q.getData(),"profileKey"),y=d.Na(t,void 0),n.O(y.floor));J[k.id]=q;0>g.indexOf(n)&&g.push(n);l&&mn(n,b,[l]);break;case "hollow":u="hollow-area";case "space":if(m=\nk.id,q=J[/_d$/.test(k.outerAreaId)?k.outerAreaId:k.outerAreaId+"_d"])n=q.jg(m),t=tn(q.getData(),"profileKey"),u=u||tn(n?n.getData():k),n||(y=n=new nn(a,m,k),q.i[y.ta()]=y,q.c.V(y),y=d.Na(t,u),n.O(y.space),f&&f(n)),n.Ib(),(k=k.label)&&k.firstLinePos?(y=y||d.Na(t,u),q=n.ai,q=[{lines:Ra(k.text,"\\n"),angle:k.rotation*this.a,font:"FiraGO-Regular",size:k.font.size,lineHeight:k.font.lineHeight,color:q&&q.fillColor||y.spaceLabel.fillColor,x:k.firstLinePos[0],y:k.firstLinePos[1]}],"nokiapuretextac_rg-webfont"===\nk.font.face&&(q[0].size=Math.floor(k.font.size/1.26))):q=null,g.push(n),l&&mn(n,b,[l],q)}}else sn=!0;return sn?void 0:{spatials:g}};r("H.service.venues.Parser.prototype.parse",rn.prototype.parse);function vn(a,b){var c=b||{};if(!(a&&a instanceof wn))throw Error("InvalidArgument: service required");this.Ye=z(this.Ye,this);this.b=new Wm(a,new rn,{min:16,max:20,onSpaceCreated:c.onSpaceCreated});this.b.ia(this);this.Xe=z(this.Xe,this);this.b.addEventListener("update",this.Xe);this.lf=z(this.lf,this);this.b.addEventListener("reload",this.lf);this.kf=z(this.kf,this);this.b.addEventListener("error",this.kf);this.Ze=c.pixelRatio||c.pixelratio||1;this.tileSize=256;this.f=Tg(this.tileSize,this.Ze);\nN.call(this,{min:16,max:20});this.N(new Vg(c.tileCacheSize||256,z(this.Ye,this)))}v(vn,N);r("H.service.venues.TileProvider",vn);p=vn.prototype;p.Ze=1;p.Xe=function(){this.dispatchEvent("update")};p.kf=function(){this.dispatchEvent("error")};p.lf=function(){this.j(!0)};p.Ye=function(a,b){var c,d,e;c=b.a;for(e=c.length;e--;)d=c[e],delete d.Ic[b.key],d.v();b.data&&Fm.push(b.o(),this.tileSize);b.m()};p.Kc=function(a){this.b.Kc(a)};vn.prototype.setCurrentLevel=vn.prototype.Kc;vn.prototype.C=function(){return this.b.j};\nvn.prototype.getCurrentLevel=vn.prototype.C;vn.prototype.c=function(a,b,c,d){var e;this.g.get(this.getTileKey(a,b,c))?d(null,null):e=ym.setTimeout(function(){d(null,null)},500);return{cancel:function(){ym.clearTimeout(e)}}};vn.prototype.requestInternal=vn.prototype.c;vn.prototype.P=function(a,b,c){var d=Fm.pop(this.tileSize),e=this.g.get(this.getTileKey(a,b,c));e||(e=new Om(this.A(a,b,c),a,b,c,this.tileSize,this.Ze,c+this.f,this.b));e.ca(d)||Fm.push(d,this.tileSize);return e};\nvn.prototype.createTileInternal=vn.prototype.P;function wn(a){var b=sm.venues;a=rm(b,a||{});I.call(this);this.f=b.baseUrl;this.c=a.path;this.g=a.subDomain;this.m=b.shards}v(wn,I);r("H.service.venues.Service",wn);var xn={ERROR:-1,INIT:0,READY:1};wn.State=xn;\nwn.prototype.W=function(a,b,c,d,e){this.a=(this.f||e).clone();this.l=this.a.clone().xa("js").R("statics/venues").zf();this.g&&this.a.xa(this.g);this.ra&&this.a.xa(this.ra);this.c&&this.a.mc(this.c);a=sm.venueSignature;b=this.a.clone();b.xa(a.subDomain);b.R(a.path);b.R(a.version);this.v=b;this.o=this.a.clone();this.G===xn.INIT&&this.b();return this};wn.prototype.configure=wn.prototype.W;function Xm(a){return a.G===xn.READY}wn.prototype.aa=function(){return Xm(this)?this.a:void 0};\nwn.prototype.b=function(){var a=this;(new Gh("application/json",this.v.toString())).then(function(b){var c=b.SignatureTokens,d=(b=new Date(b.Expires))?b.getTime()-Aa()-36E5:0;a.a.$(c);b&&4E9>d&&ym.setTimeout(z(a.b,a),Math.max(d,0));yn(a,xn.READY)},function(){yn(a,xn.ERROR,"Error fetching signature")})};\nwn.prototype.j=function(a,b,c){var d=sm.venuesDiscovery;a=this.o.clone().xa(d.subDomain).R(d.path).R(d.version).$(rm(a,d.params));(new Gh("application/json",a.toString())).then(b,function(a){a.json().then(function(a){c(a.status.message)},function(){c(a.statusText)})})};wn.prototype.discover=wn.prototype.j;wn.prototype.i=function(a){return new oh(new vn(this,a))};wn.prototype.createTileLayer=wn.prototype.i;wn.prototype.G=xn.INIT;wn.prototype.getState=function(){return this.G};\nwn.prototype.getState=wn.prototype.getState;function yn(a,b,c){var d=new Bc("statechange",a);c&&(d.errorCode=c);a.G=b;a.dispatchEvent(d)}U.prototype.m=function(a){return this.W(new wn(a))};U.prototype.getVenueService=U.prototype.m;var zn={subDomain:"venue.maps",path:"",shards:Ra("1 2 3 4").map(function(a){return"static-"+a})};sm.venues=zn;sm.venueSignature={version:"v1",subDomain:"signature",path:"venues/signature"};sm.venuesDiscovery={version:"v1",subDomain:"discovery",path:"venues/discovery"};var An={};function fn(a){An.provider=a;return An};function Bn(){this.a={}}Bn.prototype.sb=function(a,b){var c=a+b,d,e,f;if(!(d=this.a[c])){f={size:{w:26,h:32},anchor:{x:13,y:30}};if("CLOSURE"!==a)switch(d=Cn,a){case "CONGESTION":d=d.replace("{{icon}}",Dn);break;case "ROADWORKS":d=d.replace("{{icon}}",En);break;case "ACCIDENT":d=d.replace("{{icon}}",Fn);break;default:d=d.replace("{{icon}}",Gn)}else d=Hn,f.anchor.y=16;e=In[b]||In.BLOCKING;d=d.replace("{{color}}",e);this.a[c]=d=new ri(d,f)}return d};\nvar In={BLOCKING:"#323232",VERYHIGH:"#d5232f",HIGH:"#ffa100"},Dn=\'<path d="m 18,15 0,0 c 0,-0.1 0,-0.2 0,-0.4 l 0,-0.2 c 0,-0.1 0,-0.2 0,-0.4 0,0 0,0 0,0 0.6,0 1.1,-0.4 1.1,-1 0,-0.5 -0.5,-1 -1,-1 -0.7,0 -1.1,0.5 -1.1,1 -0.1,0 -0.3,-0.1 -0.4,-0.1 l -0.6,0 -0.3,-0.5 C 15.2,11.6 14.3,11 13.3,11 L 18,11 17.2,9.6 C 17,9.3 16.7,9 16.3,9 L 12.8,9 C 12.4,9 12,9.3 11.8,9.6 L 11.1,11 9.8,11 C 9.7,11 9.6,11 9.5,11 9.2,11 9,10.9 9,10.6 L 9,10.4 C 9,10.2 9.2,9.9 9.5,9.9 l 1.2,0 0.6,-1.04 c 0.3,-0.5 0.9,-0.9 1.5,-0.9 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1.04 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 18.3,16 18,15.8 18,15.6 L 18,15 z M 8,18.1 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.6,0 -1.1,0.5 -1.1,1 0,0.6 0.5,1.1 1.1,1.1 m 7,0 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.5,0 -1,0.5 -1,1 0,0.6 0.5,1.1 1,1.1 M 14.2,13.6 C 14,13.3 13.7,13 13.3,13 L 9.8,13 C 9.4,13 9,13.3 8.8,13.6 L 8.1,15 15,15 14.2,13.6 z m -8.2,1 0,-0.2 c 0,-0.2 0.2,-0.5 0.5,-0.5 l 1.1,0 0.7,-1 C 8.6,12.4 9.2,12 9.8,12 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 15.3,20 15,19.8 15,19.6 L 15,19 8,19 8,19.6 C 8,19.8 7.8,20 7.5,20 l -1,0 C 6.2,20 6,19.8 6,19.6 l 0,-3.4 c 0,-0.4 0.2,-0.8 0.6,-1.1 l -0.1,0 C 6.2,15.1 6,14.9 6,14.6" fill="#ffffff" />\',\nEn=\'<path d="m 9.24,13.2 -3.7,6.8 1.3,0 2.8,-5.1 1.36,1.5 0,3.6 1.1,0 0,-4 -1.4,-1.6 -1.46,-1.2 z M 14.2,9.5 c 0.7,0 1.3,-0.5 1.3,-1.21 0,-0.7 -0.6,-1.2 -1.3,-1.2 -0.7,0 -1.2,0.5 -1.2,1.2 0,0.71 0.5,1.21 1.2,1.21 m -4.46,0.5 1.06,0 -0.96,2.1 -1,-0.8 0.9,-1.3 z m 2.56,4 -1,-0.7 1,-1.9 0,2.6 z m 6.9,1.7 c -0.4,-0.5 -1.5,-1.1 -2.3,0 -0.2,0.3 -0.6,0.7 -0.9,1.2 l -2.7,-2.1 0,-5 -0.8,-0.7 -3.26,0 -1.5,2.3 7.86,6 C 14.7,18.6 13.8,20 13.8,20 l 6,0 1.5,-1.6 c 0,0 -1.7,-2.2 -2.1,-2.7" fill="#ffffff" />\',Fn=\n\'<path d="m 10.2,15.9 c 0.4,-0.5 1,-0.5 1.4,0 0.5,0.4 0.5,1 0,1.4 -0.4,0.4 -1,0.4 -1.4,0 -0.45,-0.4 -0.45,-1 0,-1.4 m 4.9,-5 c 0.4,-0.4 1.1,-0.4 1.5,0 0.4,0.4 0.4,1.1 0,1.5 -0.4,0.4 -1.1,0.4 -1.5,0 -0.4,-0.4 -0.4,-1.1 0,-1.5 m 2.6,3.8 c 0.1,0.3 0,0.7 -0.3,1 l -1.9,1 c 0,0 0,0.8 0,1.1 0,0.3 0,0.2 -0.1,0.3 -0.1,0.1 -0.3,0.2 -0.5,0.2 l -2.6,-0.3 4.9,-4.9 0.5,1.6 z m -6.5,5 0.1,0.2 c 0.2,0.1 0.5,0.1 0.7,0 l 0.8,-0.9 1.8,0.1 c 1.1,0 1.4,0 1.7,-0.6 l 0.1,-1.3 1.8,-0.8 c 0.4,-0.4 0.6,-1.1 0.4,-1.7 l -0.3,-1.1 0.8,-0.8 c 0.2,-0.2 0.2,-0.5 0,-0.7 L 19,12 c -0.2,-0.2 -0.5,-0.2 -0.7,0 l -0.1,0.1 c 0.1,-0.5 -0.1,-0.9 -0.4,-1.3 L 15.5,8.44 C 15.3,8.26 15,8.26 14.8,8.44 l -0.7,0.74 c -0.2,0.19 -0.2,0.49 0,0.68 l 0.3,0.34 -4.92,5 -0.36,-0.4 C 8.93,14.6 8.63,14.6 8.45,14.8 L 7.7,15.6 c -0.18,0.1 -0.18,0.4 0,0.6 l 2.4,2.4 c 0.3,0.3 0.7,0.4 1.2,0.4 l -0.1,0.1 c -0.2,0.2 -0.2,0.5 0,0.7 m 5.6,-0.8 3.9,0 1.6,-2 -5.5,2 z m -8.08,0 -3.28,-1.8 0.9,1.8 2.38,0 z" fill="#ffffff" />\',\nGn=\'<path d="m 12.9,15.1 c 0.6,0 1.1,-0.5 1.1,-1 l 0.4,-5.9 c 0,-0.6 -0.6,-1.04 -1.5,-1.04 -0.8,0 -1.4,0.44 -1.4,1.04 l 0.3,5.9 c 0,0.5 0.6,1 1.1,1 m 0,1.3 c -0.7,0 -1.3,0.6 -1.3,1.3 0,0.8 0.6,1.4 1.3,1.4 0.8,0 1.4,-0.6 1.4,-1.4 0,-0.7 -0.6,-1.3 -1.4,-1.3" fill="#ffffff" />\',Cn=\'<svg width="26" height="32" xmlns="http://www.w3.org/2000/svg"><path d="m 16.8,29.4 c 0,-1.1 -1.8,-2 -4,-2 -2.2,0 -4.01,0.9 -4.01,2 0,1.1 1.81,2 4.01,2 2.2,0 4,-0.9 4,-2" style="fill:#878787"/><path d="m 24.1,17.8 c 1.6,-1.6 1.6,-3.8 0,-5.7 L 15.8,1.9 C 15,0.998 14,0.498 12.9,0.498 11.8,0.498 10.7,1.1 10,1.9 L 1.7,12.1 c -1.6,1.9 -1.6,4.1 0,5.7 L 12.9,29 24.1,17.8 z" stroke="#fff" stroke-width="1" fill="{{color}}" />{{icon}}</svg>\',\nHn=\'<svg width="26" height="32" xmlns="http://www.w3.org/2000/svg"><circle cx="13" cy="15" r="11" fill="{{color}}" stroke="#ffffff" stroke-width="1"/><rect x="6" y="13" width="14" height="5" fill="#ffffff" /></svg>\';function Jn(a,b,c){c=c?c:{};c.criticality||(c.criticality="major,critical");if(!(a instanceof um))throw Error("IllegalArgument: service");eh.call(this,{max:20,min:8,requestData:z(this.wa,this)});this.I=new Bn;this.P=a;this.b=c;this.j=z(this.j,this);this.U=setInterval(this.j,b||18E4)}v(Jn,eh);r("H.service.TrafficIncidentsProvider",Jn);Jn.prototype.f={minor:"HIGH","low impact":"HIGH",major:"VERYHIGH",critical:"BLOCKING"};\nJn.prototype.wa=function(a,b,c,d,e){var f=this,g=this.f,h=this.I;return this.P.b(a,b,c,function(a){var b=[];a=a.TRAFFIC_ITEMS;var c,e,q,t;if(a)for(a=a.TRAFFIC_ITEM,t=a.length;t--;){c=a[t];e=c.TRAFFIC_ITEM_TYPE_DESC;switch(e){case "ACCIDENT":case "CONGESTION":q=e;break;case "CONSTRUCTION":q="ROADWORKS";break;default:q="OTHER"}q=h.sb(q,g[c.CRITICALITY.DESCRIPTION]);e=c.LOCATION.GEOLOC.ORIGIN;e=new xi({lat:e.LATITUDE,lng:e.LONGITUDE},{provider:f,icon:q});e.g(c);b.push(e)}d(b)},e,this.b)};\nJn.prototype.J=function(){eh.prototype.J.call(this);clearInterval(this.U)};function Kn(a){var b;if(a)for(this.a={},b=a.length;b--;)this.a[a[b]]=!0;this.hh={}}var Ln;Kn.prototype.a={};Kn.prototype.parse=function(a,b,c){var d,e,f,g,h,k;Ln=!1;try{c=ym.JSON.parse(c)}catch(l){Ln=!0}if(c&&(d=c.metadata))for(e in k={spatials:[]},d){if(c=!this.a[e]&&(f=Mn[e]))(g=d[e])||(Ln=!0,g=void 0),c=g;if(c)for(c=g.length;c--;){var m;(m=g[c])||(Ln=!0,m=void 0);(h=m)&&f(b,a,this,e,h,k)}}else Ln=!0;return Ln?void 0:k};r("H.service.metaInfo.Parser.prototype.parse",Kn.prototype.parse);\nvar Mn={"street labels":function(a,b,c,d,e,f){var g;(g=e.vertices)||(Ln=!0,g=void 0);if(g){var h=g.length,k,l,m;(l=0<h)||(Ln=!0,l=void 0);if(l)for(k=Array(h/2);h;)m=g[--h],l=g[--h],k[h/2]=new M(l,m);k=k?{Ra:[k]}:A;h=+e["font size"]/a.Wb;g=c.hh[h];g||(Nn.lineWidth=h,g=c.hh[h]=c.hb.f(Nn));On(a,b,k,!1,g,e,d,f)}delete e.vertices},"city center labels":function(a,b,c,d,e,f){On(a,b,Pn(e,new Sf([])),!0,c.hb,e,d,f)},labels:function(a,b,c,d,e,f){var g;(g=e["bounding boxes"])||(Ln=!0,g=void 0);if(g){for(var h=\ng.length,k=new Sf([]),l;h--;){var m;(m=g[h])||(Ln=!0,m=void 0);(l=m)&&Pn(l,k)}On(a,b,k,!0,c.hb,e,d,f)}delete e["bounding boxes"]},buildings:function(a,b,c,d,e,f){var g=e.id,h=b.lc[g],k,l,m,n=[],q=[];(k=e)||(Ln=!0,k=void 0);if(k&&((l=k.vertices)||(Ln=!0,l=void 0),l)){var t;(t=k.polygons)||(Ln=!0,t=void 0);(m=t)&&n.push.apply(n,Qn(l,m));(k=k.outlines)||(Ln=!0,k=void 0);(m=k)&&q.push.apply(q,Qn(l,m))}m=n.length;n.push.apply(n,q);q=new Sf(n,Lb,m);(n=n.length)||(Ln=!0,n=void 0);n&&(h?(mn(h,a,[q]),f.spatials.push(h)):\n(h=On(a,b,q,!0,c.hb,e,d,f,g),b.V(h)))}};Mn["transit stops"]=Mn.POIs=Mn.labels;var Rn=["box 2","box 1","annotation box","icon box"];function Pn(a,b){for(var c=Rn.length,d,e;c--;)if(d=Rn[c],e=a[d]){var f=e[0],g=e[1],h=e[2];e=e[3];b.Ra.push([new M(f,g),new M(f+h,g),new M(f+h,g+e),new M(f,g+e)]);delete a[d]}return b}\nfunction Qn(a,b){var c=b.length,d,e,f,g,h;if(0<c)for(e=Array(c);c--;)if((d=b[c])||(Ln=!0,d=void 0),d&&(g=d.length,0<g))for(e[c]=f=Array(g);g--;)h=2*d[g],f[g]=new M(a[h],a[h+1]);return e||[]}var Sn={};function On(a,b,c,d,e,f,g,h,k){Sn.style=e;d=new hn(b,d,k,Sn);c&&mn(d,a,[c]);Tn(f);f.category=g;d.g(f);h.spatials.push(d);d.ia(b);return d}Kn.prototype.hb=new zf({strokeColor:"transparent",fillColor:"transparent",lineWidth:0});var Nn={};\nfunction Tn(a){var b,c=!1;switch(typeof a){case "object":if(a instanceof Array)for(b=a.length;b--;)Tn(a[b])?c=!0:delete a[b];else if(a)for(b in a)Tn(a[b])?c=!0:delete a[b];break;case "number":c=!0;break;default:c=!!a}return c};function Un(a,b,c){c=c||{};b=b||{};var d=c.tileType||"maptile",e=c.aj||"normal.day";N.call(this,{min:0,max:20});!0===b.pois&&(b.pois="!F");this.b=b;if(!(a&&a instanceof Vn))throw Error("InvalidArgument: service required");this.O=a;this.I=z(this.I,this);this.O.addEventListener("versionupdate",this.I);this.f=a.aa().clone().R(d+"/"+a.Cb()+"/"+e).$(this.ea).$(b);this.Ua=a.g||null;this.wa=c.pixelRatio||c.pixelratio||1;this.tileSize=c.tileSize||256;this.tileType=d;this.scheme=e;this.C=new Qm(new Kn(c.categoryFilter));\nthis.C.ia(this);this.U=z(this.U,this);this.C.addEventListener("update",this.U);N.call(this,{min:0,max:20});this.N(new Vg(c.tileCacheSize||256,z(this.Xa,this)))}v(Un,N);r("H.service.metaInfo.TileProvider",Un);Un.prototype.Xa=function(a,b){for(var c=b.a,d=c.length,e;d--;)e=c[d],delete e.Ic[b.key],e.v();b.data&&(Fm.push(b.o(),this.tileSize),b.m())};Un.prototype.U=function(){this.dispatchEvent("update")};\nUn.prototype.c=function(a,b,c,d,e){var f=this.f.clone(),g=this.Ua,h=this.tileSize,k=this.getTileKey(a,b,c),k=this.g.get(k),l,m,n;k&&!k.yc()?(d(Fm.pop(this.tileSize),null),l={cancel:function(){}}):(g&&f.xa(g[(c+b+a)%g.length]),f.R(c+"/"+a+"/"+b+"/"+h+"/png8"),m=ym.setTimeout(function(){n=(new Gh("text/plain",f.toString())).then(function(a){d(null,a)},e)},500));return l||{cancel:function(){n?n.cancel():ym.clearTimeout(m)}}};Un.prototype.requestInternal=Un.prototype.c;\nUn.prototype.P=function(a,b,c,d,e){var f=this.C,g;g=d||Fm.pop(this.tileSize);if(d)a=this.g.get(this.getTileKey(a,b,c)),a.ca(d);else if(d=a=new Yk(this.A(a,b,c),a,b,c,this.tileSize,this.wa,c+0,f),delete d.i,d.v=e,a.ca(g))for(e=a.a,g=e.length;g--;)e[g].Ib();else Fm.push(g,this.tileSize);return a};Un.prototype.createTileInternal=Un.prototype.P;Un.prototype.J=function(){this.C.J();this.O.removeEventListener("versionupdate",this.I);N.prototype.J.call(this)};\nUn.prototype.I=function(){var a=this.O;this.f=a.aa().clone().R(this.tileType+"/"+a.Cb()+"/"+this.scheme).$(this.ea).$(this.b);this.j(!1)};Un.prototype.ea={metadata:"metaonly",mgen:"2"};function Vn(a){a=rm(sm.maptile,a||{});I.call(this);this.f=a.baseUrl;this.c=a.path;this.i=a.subDomain;this.g=a.shards;this.ra=(this.v=!!a.ignoreTypes)?null:a.type;this.b=a.version;this.m=new vm}v(Vn,I);r("H.service.metaInfo.Service",Vn);function Wn(a,b){for(var c={},d=a[b+"s"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+"s"]=c}Vn.prototype.W=function(a,b,c,d,e){this.a=(this.f||e).clone();this.i&&this.a.xa(this.i);this.ra&&this.a.xa(this.ra);this.c&&this.a.mc(this.c);"newest"===this.b&&Xn(this);return this};\nVn.prototype.configure=Vn.prototype.W;Vn.prototype.aa=function(){return this.a};Vn.prototype.Cb=function(){return this.b};Vn.prototype.getVersion=Vn.prototype.Cb;Vn.prototype.Ia=function(){return this.m};Vn.prototype.getCopyrights=Vn.prototype.Ia;\nfunction Xn(a){var b=a.aa().clone().R("info").$({output:"json"});a.g&&b.xa(a.g[0]);om({url:b,xd:"callback_func",oc:function(b){b=JSON.parse(b.replace(/,\\s?\\]/g,"]")).response;var d;Wn(b,"map");Wn(b,"scheme");Wn(b,"tiletype");Wn(b,"format");Wn(b,"resolution");Wn(b,"language");if("newest"===a.b&&"traffic"!==a.ra)for(d in b.maps)b.maps[d].hash&&b.maps[d].newest&&(a.b=b.maps[d].hash,a.dispatchEvent("versionupdate"));a.l=b;a.dispatchEvent("infoupdate")},Zc:function(a){throw Error("["+a+"]: Could not fetch meta-info from map tile service @"+\nb.toString());},rf:!0})}Vn.prototype.s=function(){return this.l};Vn.prototype.getInfo=Vn.prototype.s;Vn.prototype.o=function(a,b,c,d,e,f){return new Un(this,d,{tileSize:a,pixelRatio:b,categoryFilter:c,tileType:e,scheme:f})};Vn.prototype.createTileProvider=Vn.prototype.o;Vn.prototype.j=function(a,b,c,d,e,f){a=this.o(a,b,c,d,e,f);return new oh(a)};Vn.prototype.createTileLayer=Vn.prototype.j;\nU.prototype.j=function(a){var b;b=rm(sm.metainfotile,a||{});var c;c=""+(b.ignoreTypes?"":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(""):"";b=xm(c);c=this.a["meta"+b];c||(c=this.W(new Vn(a)),this.a["meta"+b]=c);return c};U.prototype.getMetaInfoService=U.prototype.j;sm.metainfotile={type:"base",version:"newest",subDomain:"maps",path:"maptile/2.1",shards:["1","2","3","4"]};U.prototype.F=function(a,b,c,d,e,f){var g=this.b(),h=this.b({type:"aerial"}),k=this.b({type:"traffic"}),l=this.b({type:"pano"}),m=this.j(),n=this.o(),q=this.m(),t={},u={crossOrigin:"anonymous"},y;"object"===typeof a&&(f=a,u.crossOrigin="crossOrigin"in f?f.crossOrigin:"anonymous",a=f.tileSize,b=f.ppi,c=f.lg,d=f.lg2,e=f.style,f=f.pois);a=a||256;y=320===b?2:1;320===b&&(t.ppi=b);c&&(t.lg=c);d&&(t.lg2=d);e&&(t.style=e);f&&(t.pois=f);b=new Jn(n,void 0,c?t:null);this.U=new uh(b);return{normal:{xbase:g.b("xbasetile",\n"normal.day",a,"png8",t,1,!1,u),xbasenight:g.b("xbasetile","normal.night",a,"png8",t,1,!1,u),base:g.b("basetile","normal.day",a,"png8",t,1,!1,u),basenight:g.b("basetile","normal.night",a,"png8",t,1,!1,u),map:g.b("maptile","normal.day",a,"png8",t,1,!1,u),mapnight:g.b("maptile","normal.night",a,"png8",t,1,!1,u),traffic:k.b("traffictile","normal.day",a,"png8",t,1,!1,u),trafficnight:k.b("traffictile","normal.night",a,"png8",t,1,!1,u),transit:g.b("maptile","normal.day.transit",a,"png8",t,1,!1,u),panorama:l.b("rctile",\n"normal.day",a,"png8",t,1,!1,u),panoramanight:l.b("rctile","normal.night",a,"png8",t,1,!1,u),labels:g.b("labeltile","normal.day",a,"png",t,1,!1,u),metaInfo:m.j(a,y,["buildings"],t)},satellite:{xbase:h.b("xbasetile","hybrid.day",a,"jpg",t,1,!0,u),base:h.b("basetile","hybrid.day",a,"jpg",t,1,!0,u),map:h.b("maptile","hybrid.day",a,"jpg",t,1,!0,u),traffic:k.b("traffictile","hybrid.day",a,"jpg",t,1,!0,u),panorama:l.b("rctile","hybrid.day",a,"jpg",t,1,!0,u),labels:h.b("labeltile","hybrid.day",a,"png",t,\n1,!0,u)},terrain:{xbase:h.b("xbasetile","terrain.day",a,"jpg",t,1,!1,u),base:h.b("basetile","terrain.day",a,"jpg",t,1,!1,u),map:h.b("maptile","terrain.day",a,"jpg",t,1,!1,u),traffic:k.b("traffictile","terrain.day",a,"jpg",t,1,!1,u),panorama:l.b("rctile","terrain.day",a,"jpg",t,1,!1,u),labels:h.b("labeltile","terrain.day",a,"png",t,1,!1,u)},incidents:this.U,venues:q.i({tileSize:a,pixelRatio:y})}};U.prototype.createDefaultLayers=U.prototype.F;function Yn(a){a=rm(sm.routing,a);a.callbackKey="jsoncallback";Yn.u.constructor.call(this,a)}v(Yn,pm);r("H.service.RoutingService",Yn);Yn.prototype.W=function(a,b,c,d,e){Yn.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone(),this.a.$({app_id:a,app_code:b}));return this};Yn.prototype.configure=Yn.prototype.W;Yn.prototype.g=function(a,b,c){a=this.aa().clone().R("calculateroute.json").$(a);qm(this,a,b,c)};Yn.prototype.calculateRoute=Yn.prototype.g;\nYn.prototype.b=function(a,b,c){a=this.aa().clone().xa("isoline").R("calculateisoline.json").$(a);qm(this,a,b,c)};Yn.prototype.calculateIsoline=Yn.prototype.b;sm.routing={subDomain:"route",path:"routing/7.2"};U.prototype.O=function(a){return this.W(new Yn(a))};U.prototype.getRoutingService=U.prototype.O;function Zn(a){a=rm(sm.geocoding,a);a.callbackKey="jsoncallback";Zn.u.constructor.call(this,a);this.b=a.reverseSubDomain}v(Zn,pm);r("H.service.GeocodingService",Zn);Zn.prototype.W=function(a,b,c,d,e){Zn.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone(),this.a.$({app_id:a,app_code:b}));return this};Zn.prototype.configure=Zn.prototype.W;Zn.prototype.g=function(a,b,c){a=this.aa().clone().R("geocode.json").$(a);return qm(this,a,b,c)};Zn.prototype.geocode=Zn.prototype.g;\nZn.prototype.l=function(a,b,c){a=this.aa().clone().R("reversegeocode.json").$(a);this.b&&a.xa(this.b);return qm(this,a,b,c)};Zn.prototype.reverseGeocode=Zn.prototype.l;Zn.prototype.i=function(a,b,c){a=this.aa().clone().R("search.json").$(a);return qm(this,a,b,c)};Zn.prototype.search=Zn.prototype.i;sm.geocoding={subDomain:"geocoder",path:"6.2",reverseSubDomain:"reverse"};U.prototype.I=function(a){return this.W(new Zn(a))};U.prototype.getGeocodingService=U.prototype.I;function $n(a){a=rm(sm.places,a);a.callbackKey="callback";$n.u.constructor.call(this,a)}v($n,pm);r("H.service.PlacesService",$n);$n.EntryPoint={SEARCH:"discover/search",SUGGEST:"suggest",EXPLORE:"discover/explore",AROUND:"discover/around",HERE:"discover/here",CATEGORIES:"categories/places"};$n.prototype.b=function(a,b,c,d){b=b||{};a=this.aa().clone().R(a).$(b);return qm(this,a,c,d)};$n.prototype.request=$n.prototype.b;$n.prototype.m=function(a,b,c){return this.b("discover/search",a,b,c)};\n$n.prototype.search=$n.prototype.m;$n.prototype.v=function(a,b,c){return this.b("suggest",a,b,c)};$n.prototype.suggest=$n.prototype.v;$n.prototype.l=function(a,b,c){return this.b("discover/explore",a,b,c)};$n.prototype.explore=$n.prototype.l;$n.prototype.g=function(a,b,c){return this.b("discover/around",a,b,c)};$n.prototype.around=$n.prototype.g;$n.prototype.j=function(a,b,c){return this.b("discover/here",a,b,c)};$n.prototype.here=$n.prototype.j;\n$n.prototype.i=function(a,b,c){return this.b("categories/places",a,b,c)};$n.prototype.categories=$n.prototype.i;$n.prototype.o=function(a,b,c,d){a=km(a);d&&a.$(d);return qm(this,a,b,c)};$n.prototype.follow=$n.prototype.o;sm.places={subDomain:"places",path:"places/v1"};U.prototype.P=function(){return this.W(new $n)};U.prototype.getPlacesService=U.prototype.P;function ao(a){a=rm(sm.enterpriseRouting,a);a.callbackKey="jsoncallback";if(!B(a.baseUrl,S))throw new C(ao,0,"Invalid base url");this.i=a;ao.u.constructor.call(this,a)}v(ao,pm);r("H.service.EnterpriseRoutingService",ao);ao.prototype.j=function(a,b,c){a=this.aa().clone().R("calculateroute.json").$(a);qm(this,a,b,c)};ao.prototype.calculateRoute=ao.prototype.j;ao.prototype.g=function(a,b,c){a=this.aa().clone().R("getroute.json").$(a);qm(this,a,b,c)};ao.prototype.getRoute=ao.prototype.g;\nao.prototype.b=function(a,b,c){a=this.aa().clone().R("getlinkinfo.json").$(a);qm(this,a,b,c)};ao.prototype.getLinkInfo=ao.prototype.b;ao.prototype.l=function(a,b,c){a=this.aa().clone().R("calculateisoline.json").$(a);qm(this,a,b,c)};ao.prototype.calculateIsoline=ao.prototype.l;ao.prototype.W=function(a,b,c,d,e){var f,g=sm.enterpriseRouting;this.i.baseUrl===g.baseUrl&&e&&(f=e.clone(),f.nd(g.host||g.baseUrl.vc),d&&f.xa(g.citSubDomain));return pm.prototype.W.apply(this,[a,b,c,d,f])};\nao.prototype.configure=ao.prototype.W;var bo={subDomain:"route",path:"routing/6.2",baseUrl:new S("http","nlp.nokia.com"),host:"nlp.nokia.com",citSubDomain:"st"};sm.enterpriseRouting=bo;U.prototype.K=function(a){return this.W(new ao(a))};U.prototype.getEnterpriseRoutingService=U.prototype.K;function co(){}r("H.service.extension.dataView.ITable",co);co.prototype.getMeta=co.prototype.cd;co.prototype.getRowCount=co.prototype.g;co.prototype.getRow=co.prototype.Qb;co.prototype.getColumnNames=co.prototype.c;co.prototype.getColumn=co.prototype.l;co.prototype.getCell=co.prototype.f;co.prototype.concat=co.prototype.concat;function eo(){}r("H.service.extension.dataView.IRow",eo);eo.prototype.getColumnNames=eo.prototype.c;eo.prototype.getCell=eo.prototype.a;eo.prototype.getTable=eo.prototype.uc;function fo(a,b){this.b=a;this.f=b}r("H.service.extension.dataView.ObjRow",fo);fo.prototype.c=function(){return this.b.c()};fo.prototype.getColumnNames=fo.prototype.c;fo.prototype.a=function(a){return this.b.f(this.f,a)};fo.prototype.getCell=fo.prototype.a;fo.prototype.uc=function(){return this.b};fo.prototype.getTable=fo.prototype.uc;function go(){}r("H.service.extension.dataView.IColumn",go);go.prototype.getCell=go.prototype.a;function ho(a,b){this.c=a;this.b=b}r("H.service.extension.dataView.ObjColumn",ho);ho.prototype.a=function(a){return this.c.f(a,this.b)};ho.prototype.getCell=ho.prototype.a;function io(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):A);this.cb=a;if(b)for(this.qc=b,this.we=a=Ka(),d=b.length;d--;)a[b[d]]=!0;c!==A&&(this.cf=c)}r("H.service.extension.dataView.ObjTable",io);p=io.prototype;p.cf=A;p.cb=A;p.qc=A;p.we=A;p.cd=function(){return this.cf};io.prototype.getMeta=io.prototype.cd;io.prototype.g=function(){return this.cb?this.cb.length:0};io.prototype.getRowCount=io.prototype.g;io.prototype.Qb=function(a){var b=this.cb;return b&&b[a]?new fo(this,a):A};\nio.prototype.getRow=io.prototype.Qb;io.prototype.c=function(){return this.qc||De};io.prototype.getColumnNames=io.prototype.c;io.prototype.l=function(a){return this.we[a]?new ho(this,a):A};io.prototype.getColumn=io.prototype.l;io.prototype.f=function(a,b){var c=this.cb;return(c=c&&this.we[b]&&c[a])&&c[b]};io.prototype.getCell=io.prototype.f;\nio.prototype.concat=function(){var a=arguments.length,b,c=this.qc,d=""+this.qc,e=(this.cb||[]).slice(),f;for(b=0;b<a;b++){f=arguments[b];if(!(f instanceof io))throw new C(this.concat,b);if(f.cb){if(c&&""+f.qc!==d)throw new C(this.concat,b,"Incompatible columns!");e=e.concat(f.cb)}}return new io(e,this.qc,this.cf)};io.prototype.concat=io.prototype.concat;function jo(a,b){a.cb?a.cb.push(b):a.cb=[b];return a.cb.length-1};function ko(a,b,c,d){if(!a||!ra(we(a.layerId,a.layer))||!ab(a.level)||Ta(a.rowFilter)&&!sa(a.rowFilter)||Ta(a.rowFilterContext)&&!Pa(a.rowFilterContext))throw new C(b,c,Ta(d)?d:a);};function lo(a,b,c){var d;B(a,mo,lo,0,"has invalid type");B(b,G,lo,1,"has invalid type");if(!Za(c))throw new C(lo,2,"has invalid type");for(d=0;d<c.length;d++)ko(c[d],lo,2,"has invalid type");lo.u.constructor.call(this);this.a=b;this.b=c;(new Lh).md(no,"H.service.extension.worker.processor");a=a.aa().clone().R(oo+"."+po).$({meta:"1"});new Nh(no,{message:[qo,0,{serverUrl:a.toString()}]})}v(lo,I);r("H.service.extension.platformData.SearchRequest",lo);\nlo.prototype.send=function(){var a=no,b=qo,c=[],d,e,f,g=this;for(f=0;f<this.b.length;f++)d=this.b[f],c.push({layerId:we(d.layerId,d.layer),level:d.level,rowFilter:Ta(d.rowFilter)?d.rowFilter+"":A,rowFilterContext:d.rowFilterContext,columns:d.columns});e=[this.a.ka,this.a.ga,this.a.ja,this.a.ha,c];this.c=w.setTimeout(function(){(new Nh(a,{message:[b,2,e]})).then(z(ro,g),z(so,g))},1)};lo.prototype.send=lo.prototype.send;lo.prototype.cancel=function(){w.clearTimeout(this.c)};lo.prototype.cancel=lo.prototype.cancel;\nfunction ro(a){var b,c;for(c=0;c<a.length;c++){b=a[c].Rows;for(var d=b.length,e=void 0;d--;)e=b[d],e.geometry&&(e.geometry=[e.geometry.path]);b=new io(b,null,a[c].Meta);this.dispatchEvent(new Cc("data",b))}this.dispatchEvent(new Bc("end"))}function so(a){this.dispatchEvent(new Dc("error",a))}var no="pde",qo="pdeSearchRequestProvider";function to(a,b,c){var d=uo,e=a===d.POLYGON,f=a===d.POLYLINE;this.b=b;this.c=c||sc;(this.a=f||e)?this.l=e:this.g=a===d.MARKER;this.f=this.a?"$HProjGeometry":"geometry"}\nto.prototype.parse=function(a,b,c){var d,e,f,g,h,k={},l=[],m,n,q,t;m=0;for(n=c.length;m<n;m++)if(d=c[m],q=d.Rows,d=q.length)for(e=Object.keys(q[0]).filter(function(a){return"geometry"!==a&&"$HProjGeometry"!==a}),e=new io(q,e),t=0;t<d;t++)if(f=q[t],h=f[this.f]){if(delete f[this.f],f=e.Qb(t))try{this.a?g=vo(this,a,b,f,h):g=wo(this,a,f,h.path),g.ia(a),l.push(g)}catch(u){this.c(u.message)}}else this.c("Layer must contain geometries");k[this.a?"spatials":this.g?"markers":"domMarkers"]=l;return k};\nfunction vo(a,b,c,d,e){var f=[],g=e.paths,h=g.length,k=0,l=a.b&&a.b(d);for(a=new hn(b,a.l,A,{style:l||a.i,data:d});k!==h;)f.push(xo(g[k++]));mn(a,c,[new Sf(f,e.interiorsIndex,e.outlinesIndex)]);return a}function wo(a,b,c,d){d=new gc(d[0],d[1]);var e=a.b&&a.b(c);a.g?(a={icon:e,data:c,provider:b},a=new xi(d,a)):(a={icon:e,data:c,provider:b},a=new fh(d,a));return a}function xo(a){for(var b=0,c=a.length,d=[];b<c;)d.push(new M(a[b++],a[b++]));return d};function yo(a){a=a||{};var b=a.tileCacheSize||1024,c=a.resultType,d=a.styleCallback,e=uo;Ta(a.min)||(a.min=12);yo.u.constructor.call(this,a);if(-1===zo.indexOf(c))throw new C(yo,2,"invalid resultType");this.b=c;if(d&&!sa(d))throw new C(yo,2,"invalid style callback");this.ea=d;this.U=a.pixelRatio||1;this.f=z(this.f,this);this.N(new Vg(b,z(this.fi,this)));this.createTileInternal=c===e.POLYLINE||c===e.POLYGON?z(this.Nh,this):z(this.Mh,this)}v(yo,N);r("H.service.extension.TileProvider",yo);\nyo.prototype.I=!1;var Ao=ri.prototype.Pc.READY;yo.prototype.o=function(a,b,c,d){return this.I?yo.u.o.call(this,a,b,c,d):A};yo.prototype.requestTile=yo.prototype.o;yo.prototype.f=function(a){a=ra(a)?a:a+"";this.dispatchEvent(new Dc("error",a,this))};yo.prototype.l=function(){return this.b===uo.MARKER};yo.prototype.providesMarkers=yo.prototype.l;yo.prototype.i=function(){return this.b===uo.DOM_MARKER};yo.prototype.providesDomMarkers=yo.prototype.i;\nyo.prototype.s=function(){return this.b===uo.POLYLINE||this.b===uo.POLYGON};yo.prototype.providesSpatials=yo.prototype.s;function Bo(a){a.C||(a.O||(a.O=a.P(a.b,a.ea,a.f)),a.C=new Qm(a.O),a.C.ia(a),a.C.addEventListener(a.F.la,z(a.ei,a)),a.C.P=!0);return a.C}p=yo.prototype;\np.Mh=function(a,b,c,d){var e=this.getTileKey(a,b,c),e=this.g.get(e),f=this.b==uo.DOM_MARKER,g=[],h=Bo(this);e?e.valid=!0:(a=e=new $g(a,b,c,x),delete a.i,a.v=d);d=f?Um(h,e,"domMarkers"):Um(h,e,"markers");for(b=d.length;b--;)a=d[b],a.If=e,(f||a.sb().getState()===Ao)&&g.push(a);e.data=g;return e};p.ei=function(a){if(a=a.target.If)a.valid=!1};\np.Nh=function(a,b,c,d){var e=Bo(this),f,g=this.getTileKey(a,b,c),h=this.g.get(g);f=Fm.pop(this.tileSize);h||(a=h=new Yk(g,a,b,c,this.tileSize,this.U,c,e),delete a.i,a.v=d);h.ca(f)||Fm.push(f,this.tileSize);return h};p.fi=function(a,b){var c,d;c=uo;if(this.b===c.POLYLINE||this.b===c.POLYGON){c=b.a;for(d=c.length;d--;)delete c[d].Ic[b.key];b.data&&(Fm.push(b.o(),this.tileSize),b.m())}else for(c=b.data,d=c.length;d--;)delete c[d].If};p.D=function(){yo.u.D.call(this);Bo(this).J()};\nvar uo={MARKER:0,DOM_MARKER:1,POLYLINE:2,POLYGON:3};yo.ResultType=uo;var zo=[uo.MARKER,uo.DOM_MARKER,uo.POLYLINE,uo.POLYGON];function Do(a,b,c){var d=this,e=b&&b.rowFilter,f=c.resultType,g=uo;Do.u.constructor.call(this,c);B(a,mo,Do,0);ko(b,Do,1,"invalid layer config");e?(c=Qa(b),c.rowFilter=e.toString()):c=Qa(b);delete c.layer;c.layerId=we(b.layerId,b.layer);(new Lh).md("pde","H.service.extension.worker.processor");a=a.aa().clone().R(oo+"."+po).$({meta:1});(new Nh("pde",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,onlyOutline:f===g.POLYLINE,serverUrl:a.toString(),layerConfigs:[c]}]})).then(function(){d.I=\n!0;Rg(d)},this.f)}v(Do,yo);r("H.service.extension.platformData.TileProvider",Do);Do.prototype.P=function(a,b,c){a=new to(a,b,c);a.i=Eo;return a};var Eo=new zf({strokeColor:"transparent",fillColor:"transparent",lineWidth:0,lineJoin:"round",lineCap:"round"});\nDo.prototype.c=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h,g=this.g.get(g),k={cancel:sc},l=!0,m,n=uo;g&&(this.b===n.POLYLINE||this.b===n.POLYGON?g.yc()||(d(Fm.pop(this.tileSize),null),l=!1):(d(x),l=!1));l&&(m=ym.setTimeout(function(){h=new Nh("pde",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500),k.cancel=function(){h?h.cancel():ym.clearTimeout(m)});return k};Do.prototype.requestInternal=Do.prototype.c;Do.prototype.D=function(){Do.u.D.call(this);new Nh("pde",{message:[this.uid,3]})};\nDo.ResultType=uo;function Fo(a,b,c,d,e,f){Go(Fo,1,b,c);Go(Fo,2,d,e);(this.f=a.length)?(this.m=a,this.o=b,this.i=c,this.b=0,this.c=z(this.c,this),this.j=d,this.l=e,this.a=Ka(),Ca(this.a,Ho,f||{}),this.g={},w.setTimeout(this.c,0)):b(De,!0)}var Ho={duration:100,Yh:"geometry",Xh:"WKT",Ai:"searchAttributes",cg:A};\nFo.prototype.c=function(){var a,b,c,d=[];a=!1;for(var e=tj(),f;this.b<this.f;){b=this.m[this.b];a=b.attributes;f=b.layerId||this.a.cg;b.distance&&(a[this.a.Ai]={nearest:new gc(b.nearestLat,b.nearestLon),distance:b.distance});if(b=b[this.a.Yh]){try{c=ug(new Pg(b))}catch(g){this.i(new w.Error(g.message));a=!0;break}a[this.a.Xh]=c}(b=this.g[f])||(b=this.g[f]=this.j({layerId:f,columnNames:Object.keys(a)}));a=this.l(b,a);d.push(a);this.b++;if((a=this.b===this.f)||tj()-e>=this.a.duration){this.o(d,a);break}}a?\nthis.g=x:this.fe=w.setTimeout(this.c,0)};Fo.prototype.cancel=function(){w.clearTimeout(this.fe);this.b<this.f&&this.i(new w.Error("parsing canceled"))};r("H.service.extension.util.AsyncParser.prototype.cancel",Fo.prototype.cancel);function Io(a){this.a=a}Io.prototype.cancel=function(){for(var a=this.a,b=a.length;b--;)a[b].cancel();a.length=0};function Go(a,b,c,d){if(!sa(c))throw new C(a,b,"has invalid type");if(!sa(d))throw new C(a,b+1,"has invalid type");};function mo(a){a=rm(sm.pde,a||{});mo.u.constructor.call(this,a)}v(mo,pm);r("H.service.extension.platformData.Service",mo);\nmo.prototype.b=function(a,b,c,d,e){var f="text/plain";if(!a)throw new C(this.b,0,a);if(!b)throw new C(this.b,1,b);if(!d)throw new C(this.b,3,d);if(!e)throw new C(this.b,4,e);a=this.aa().clone().R(a+"."+b).$(c);b===Jo.JSON&&(f="application/json");b=new Gh(f,a.toString());b.then(d,function(a){"error"===a.type?e(a.statusText||"Unable to load data"):a.json().then(function(a){e(a.error_description||a.message)},function(){e(a.statusText)})});return b};mo.prototype.request=mo.prototype.b;\nsm.pde={subDomain:"pde",path:"1"};var oo="tiles";mo.EntryPoint={DOC_ATTRIBUTES:"doc/attributes",DOC_LAYER:"doc/layer",DOC_LAYERS:"doc/layers",DOC_MAPS:"doc/maps",DOC_INDEXES:"doc/indexes",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SERVICE_CONFIGURATION:"serviceconfiguration",STATIC:"static",TILE:"tile",TILES:oo,FILE:"file",INDEX:"index"};var po="json",Jo={TXT:"txt",JSON:po,HTML:"html",BIN:"bin"};\nmo.EntryPointType=Jo;mo.prototype.j=function(a,b){var c=b&&b.resultType,d=new Do(this,a,b),e,f=uo;c==f.MARKER||c===f.DOM_MARKER?e=new uh(d):e=new oh(d);return e};mo.prototype.createTileLayer=mo.prototype.j;function Ko(a,b,c,d,e){var f=[],g,h=c.layer_id||c.layer_ids;a=a.b(b,po,c,function(a){g=new Fo(a.geometries,d,e,function(a){return new io([],a.columnNames,a)},function(a,b){return a.Qb(jo(a,b))},{cg:h});f.push(g)},function(a){e(new w.Error(a))});f.push(a);return new Io(f)}\nfunction Lo(a,b,c){if(!Za(a))throw new C(c,0,"has invalid type");if(!Za(b))throw new C(c,1,"has invalid type");if(a.length!==b.length||!a.length)throw new C(c,1,"specify one key attribute for each given layer id in the same order");}\nmo.prototype.l=function(a,b,c,d,e,f){function g(a,b){b&&h--;d(a,!h)}var h,k=[];Lo(a,b,this.l);Go(this.l,3,d,e);B(c,G,this.l,2);c={bbox:c.ka+","+c.ga+";"+c.ja+","+c.ha};f&&Ca(c,f);a=c.layer_id?[c.layer_id]:a;f=0;for(h=a.length;f<h;f++)c.layer_id=a[f],c.key_attribute=b[f],k.push(Ko(this,"search/bbox",c,g,e));return new Io(k)};mo.prototype.searchByBoundingBox=mo.prototype.l;\nmo.prototype.i=function(a,b,c,d,e,f,g){Lo(a,b,this.i);B(c,gc,this.i,1,"has invalid type");if(!ab(d))throw new C(this.i,2,"has invalid type");Go(this.i,4,e,f);a={layer_ids:a.join(","),key_attributes:b.join(","),proximity:c.lat+","+c.lng+","+d};g&&Ca(a,g);return Ko(this,"search/proximity",a,e,f)};mo.prototype.searchByProximity=mo.prototype.i;\nmo.prototype.g=function(a,b,c,d,e,f,g){var h="";Lo(a,b,this.g);if(!ra(c)&&!B(c,F))throw new C(this.g,1,"has invalid type");if(!ab(d))throw new C(this.g,2,"has invalid type");Go(this.g,4,e,f);a={layer_ids:a.join(","),key_attributes:b.join(","),radius:d};if(ra(c))a.route_id=c;else{d=c.na;c=0;for(b=d.length;c<b;c+=3)h+=d[c]+","+d[c+1],c<b-3&&(h+=";");a.corridor=h}g&&Ca(a,g);return Ko(this,"search/corridor",a,e,f)};mo.prototype.searchByCorridor=mo.prototype.g;\nU.prototype.T=function(a){var b;b=rm(sm.pde,a||{});var c;c=""+(b.path||"");c+=b.subDomain||"";c+=b.baseUrl?b.baseUrl.toString():"";b=xm(c);c=this.a["pde"+b];c||(c=this.W(new mo(a)),this.a["pde"+b]=c);return c};U.prototype.getPlatformDataService=U.prototype.T;function Mo(a){a=rm(sm.gfe,a);Mo.u.constructor.call(this,a)}v(Mo,pm);r("H.service.extension.geofencing.Service",Mo);sm.gfe={subDomain:"gfe",path:"2"};U.prototype.pb=function(a){return this.W(new Mo(a))};U.prototype.getGeofencingService=U.prototype.pb;Mo.prototype.W=function(a,b,c,d,e){Mo.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone());return this};Mo.prototype.configure=Mo.prototype.W;\nMo.prototype.b=function(a,b,c,d){var e;if(!a)throw new C(this.b,0,a);if(!sa(c))throw new TypeError("onResult must be a function");if(!sa(d))throw new TypeError("onError must be a function");e=function(a){d(new w.Error(a))};a=this.aa().clone().R(a+".json").$(b);a=new Gh("application/json",a.toString());a.then(c,function(a){"error"===a.type?e(a.statusText||"Unable to load data"):a.json().then(function(a){e(a.error_description||a.issues[0].message)},e)});return a};Mo.prototype.request=Mo.prototype.b;\nMo.EntryPoint={SEARCH_PROXIMITY:"search/proximity"};r("H.service.extension.customLocation.Permission",{READ:"read",WRITE:"write",EXPORT:"export"});r("H.service.extension.customLocation.Storage",{READONLY:"readonly",UPDATABLE:"updatable"});function No(){if(Oo)throw new kc(No);}r("H.service.extension.customLocation.Table",No);var Oo=!0;function Po(a,b){var c,d,e,f;Oo=!1;c=new No;Oo=!0;c.j=Oa(w.JSON.parse(w.JSON.stringify(a)));d=a.columnNames;e=Ka();for(f=d.length;f--;)e[d[f]]=f;c.o=e;c.b=d.length;if(e=b){if(e.length%d.length)throw new C(Po,1,"Invalid number of cells");}else e=[];c.a=e;return c}No.prototype.cd=function(){return this.j};No.prototype.getMeta=No.prototype.cd;No.prototype.g=function(){return this.a.length/this.b};\nNo.prototype.getRowCount=No.prototype.g;No.prototype.Qb=function(a){return a<this.a.length/this.b?new Qo(this,a):A};No.prototype.getRow=No.prototype.Qb;No.prototype.v=function(){var a=this.a.length/this.b,b,c=new w.Array(a);for(b=0;b<a;b++)c[b]=new Qo(this,b);return c};No.prototype.getRows=No.prototype.v;No.prototype.qe=function(a){var b=this.b,c=this.a,d=c.length/this.b;if(!a||a.length%b)throw new C(this.qe,0,"Invalid number of cells");this.a=c.concat(a);return d};No.prototype.addCells=No.prototype.qe;\nNo.prototype.m=function(){for(var a=this.b,b=this.a,c=this.a.length/this.b;a--;)b.push(x);return this.Qb(c)};No.prototype.addRow=No.prototype.m;No.prototype.c=function(){return this.j.columnNames};No.prototype.getColumnNames=No.prototype.c;No.prototype.l=function(a){return this.o[a]===A?A:new Ro(this,a)};No.prototype.getColumn=No.prototype.l;No.prototype.f=function(a,b){return this.a[a*this.b+this.o[b]]};No.prototype.getCell=No.prototype.f;\nNo.prototype.i=function(a,b,c){b=this.o[b];if(a>=this.a.length/this.b)throw new C(this.i,0,"Row index out of bounds");if(b===A)throw new C(this.i,0,"Column unknown");this.a[a*this.b+b]=c};No.prototype.setCell=No.prototype.i;\nNo.prototype.concat=function(){var a=arguments.length,b,c=""+this.c(),d=this.a?this.a.slice():[],e;for(b=0;b<a;b++){e=arguments[b];if(!(e instanceof No))throw new C(this.concat,b);if(""+e.c()!==c)throw new C(this.concat,b,"Incompatible columns!");e.a&&(d=d.concat(e.a))}return Po(this.j,d)};No.prototype.concat=No.prototype.concat;var So=/(\\n|\\t|\\r|")/;\nNo.prototype.Df=function(a,b){var c,d=this.b,e=this.c(),f=[],g,h=[],k=this.a,l=-1,m;for(c=0;c<d;c++)if(!a||a.test(e[c]))"WKT"===e[c]&&(l=f.length),f.push(c);if(!(g=f.length))throw new C(this.Df,1,"No columns filtered");To(this,h,e,0,d,f,g,l);if(b)for(m=b.length,c=0;c<m;c++)h.push("\\n"),e=b[c],To(this,h,k,e,d,f,g,l);else for(m=this.g(),e=0;e<m;e++)h.push("\\n"),To(this,h,k,e,d,f,g,l);return h.join("")};\nfunction To(a,b,c,d,e,f,g,h){var k,l;for(k=0;k<g;k++)if(k&&b.push("\\t"),l=c[d*e+f[k]],k!==h){if(l!==x){l=String(l);if(So.test(l))throw new C(a.Df,0,\'Invalid character (\\\\n, \\\\r, \\\\t, or ") in row \'+d+" column "+a.j.columnNames[f[k]]);b.push(l)}}else b.push(l)}function Ro(a,b){this.c=a;this.b=b}No.Column=Ro;Ro.prototype.a=function(a){return this.c.f(a,this.b)};Ro.prototype.getCell=Ro.prototype.a;Ro.prototype.f=function(a,b){this.c.i(a,this.b,b)};Ro.prototype.setCell=Ro.prototype.f;\nfunction Qo(a,b){this.b=a;this.Ve=b}No.Row=Qo;Qo.prototype.c=function(){return this.b.c()};Qo.prototype.getColumnNames=Qo.prototype.c;Qo.prototype.a=function(a){return this.b.f(this.Ve,a)};Qo.prototype.getCell=Qo.prototype.a;Qo.prototype.f=function(a,b){this.b.i(this.Ve,a,b)};Qo.prototype.setCell=Qo.prototype.f;Qo.prototype.uc=function(){return this.b};Qo.prototype.getTable=Qo.prototype.uc;function Uo(a){var b=Vo;if(!a||!ra(a.layerId)||Ta(a.rowFilter)&&!sa(a.rowFilter)||Ta(a.rowFilterContext)&&!Pa(a.rowFilterContext))throw new C(b,1,Ta("invalid layer config")?"invalid layer config":a);}function Wo(a){return ra(a)&&/^[A-Z][A-Z0-9_]*$/.test(a)}function Xo(a){for(var b=a&&a.length,c=2<=b&&"WKT"===a[--b]&&"GEOMETRY_ID"===a[--b];c&&b--;)c=Wo(a[b]);return c}\nfunction Yo(a,b){var c="",d,e,f,g,h,k=[];if(!b){g={};k=[];if(a.geometries)for(e=0;e<a.geometries.length;e++)f=a.geometries[e],g[f.layerId]||(g[f.layerId]=[]),g[f.layerId].push(f);for(d in g)k.push({layerId:d,geometries:g[d]});for(d=0;d<k.length;d++)c+=Yo(k[d],k[d].layerId)}else if(a.geometries&&a.geometries.length)for(h=Object.keys(a.geometries[0].attributes),c=c+("Meta:\\t"+b+"\\n")+h.join("\\t"),c+="\\tWKT\\n",d=0;d<a.geometries.length;d++){g=a.geometries[d].attributes;f=a.geometries[d].geometry;for(e=\n0;e<h.length;e++)k.push(g[h[e]]);c+=k.join("\\t");c+="\\t"+f+"\\n";k=[]}return c};function Zo(a){if(a===A)a="\\t";else if(!/^[^"\\r\\n]$/.test(a))throw new C(Zo,0);this.b=String(a).charCodeAt(0);this.We=z(this.We,this);this.G=$o}var $o=0;p=Zo.prototype;p.getState=function(){return this.G};function ap(a,b,c){var d=a.G;if(d!==b)throw 1===d&&(a.G=$o),new kc(c,"Requires state: "+["READY","PARSE","PAUSE"][b]+" but found "+["READY","PARSE","PAUSE"][d]);}p.We=function(a){this.G=$o;throw new C(Zo.prototype.parse,0,"Malformed DSV at row "+this.a.o+" column "+this.a.c+": "+a);};\nfunction bp(a,b){var c=[];a.parse(b,function(a,b,f){1>a&&(c[b]=f);return 0<a});a.G=$o;return c}p.parse=function(a,b,c){ap(this,$o,Zo.prototype.parse);a=a.trim();this.a=new cp(a,this.b,this.We);this.c=b;this.Fg=c||Ce;this.G=2;this.wf()};p.Fg=Ce;\np.wf=function(){var a=this.a,b,c,d=[],e,f,g;ap(this,2,Zo.prototype.wf);this.G=1;do{if(!a.B){this.G=$o;break}if(c>a.c){if(void 0!==f&&f!==c){this.a.b("The number of columns must be the same for all rows");return}f=c}b=a.o;c=a.c;e=a.g;g=this.Fg(b,c,a);if(a.g>e)for(;-1!==a.next(););else{for(;-1!==(e=a.next());)d.push(e);g=String.fromCharCode.apply(x,d);d.length=0}dp(a);this.c(b,c,g)&&(this.G=2)}while(1===this.G);2!=this.G&&void 0!==f&&0<c&&f!==c&&this.a.b("The number of columns must be the same for all rows")};\nfunction cp(a,b,c){this.f=new Pg(a);this.v=b;this.B=!0;this.g=this.o=this.c=0;dp(this);this.b=c;this.i=[];this.j=!1}cp.prototype.g=0;var ep={me:10,Pf:13,oe:34,Mc:-1};function dp(a){var b=a.f.a();a.s=!1;(a.A=34===b)&&a.f.next()}function fp(a,b){var c=a.f;a.s=!0;switch(b){case a.v:a.c++;break;case ep.Pf:c.next(),c.a()!==ep.me&&a.b("CR without LF");case ep.me:a.c=0;a.o++;break;case ep.Mc:a.B=!1;break;default:a.b("End of field expected")}c.next();return ep.Mc}\ncp.prototype.a=function(){var a,b;if(this.s)b=ep.Mc;else if(a=this.f,b=a.a(),this.A)switch(b){case ep.oe:a.next();b=a.a();b!==ep.oe&&(b=fp(this,b));break;case ep.Mc:this.b("Closing quotation mark expected")}else switch(b){case ep.oe:this.b("Unexpected quotation mark");case this.v:case ep.Pf:case ep.me:case ep.Mc:b=fp(this,b)}return b};cp.prototype.m=function(){this.j=!0;this.i=[]};cp.prototype.l=function(){var a=this.i.slice();this.j=!1;this.i=[];return a};\ncp.prototype.next=function(){var a=this.a();-1!==a&&this.f.next();this.j&&this.i.push(a);this.g++;return a};function gp(a,b,c,d){d=d||{};if(!b)throw new C(gp,1,"has to be a function");if(!c)throw new C(gp,2,"has to be a function");this.c=b;this.g=c;this.a=[];this.i=d.duration||hp;this.b=z(this.b,this);this.f={};var e;a=a.split("Meta:\\t").slice(1);for(b=0;b<a.length;b++)d=a[b].split("\\n"),c=d[0].split("\\t")[0],d=d.slice(1).join("\\n"),this.sc[c]=new Zo,this.Ke[c]=bp(this.sc[c],d),e={layerId:c,columnNames:this.Ke[c]},this.Ne.push(c),this.f[c]=Po(e),this.Kb[c]=tj(),ip(this,d,c),this.b(c)}var hp=100;p=gp.prototype;\np.Ke={};p.Ne=[];p.sc={};p.Kb={};p.Ue={};function ip(a,b,c){var d=[],e=a.Ke[c].length-1,f=a.f[c];try{a.sc[c].parse(b,function(b,g,l){var m=!1;0<b&&(d[g]=l,g===e&&(a.a.push(f.Qb(f.qe(d))),tj()-a.Kb[c]>a.i&&(m=!0)));return m},function(a,b,c){if(0<a&&b===e)return ug(c)})}catch(g){a.g(g)}}p.cancel=function(){for(var a in this.Ue)w.clearTimeout(this.Ue[a])};r("H.service.extension.customLocation.AsyncParser.prototype.cancel",gp.prototype.cancel);\ngp.prototype.b=function(a){var b=this,c;this.Ue[a]=w.setTimeout(function(){if(2===b.sc[a].getState())b.Kb[a]=tj(),b.c(b.a,!1),b.a=[],b.sc[a].wf(),b.b(a);else{c=!0;for(var d=0;d<b.Ne.length;d++)if(b.sc[b.Ne[d]].getState()!==$o){c=!1;break}c&&(0<b.a.length&&b.c(b.a,!0),b.a=[])}},0)};function V(a){a=rm(sm.cle,a);V.u.constructor.call(this,a)}v(V,pm);r("H.service.extension.customLocation.Service",V);V.prototype.W=function(a,b,c,d,e){V.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone());return this};V.prototype.configure=V.prototype.W;V.prototype.Ta=function(a,b){var c=b&&b.resultType,d=new Vo(this,a,b),e,f=uo;c==f.MARKER||c===f.DOM_MARKER?e=new uh(d):e=new oh(d);return e};V.prototype.createTileLayer=V.prototype.Ta;U.prototype.N=function(a){return this.W(new V(a))};\nU.prototype.getCustomLocationService=U.prototype.N;function jp(a,b,c,d){var e;a=a===kp?"changes":"file";var f=b[a],g=ra(f),h=!g&&B(f,Blob);if(!g&&!h)throw new C(d,0,"Invalid "+a+" parameter");if(lp)h?e=f:e=Ke(f,"text/plain"),d=new w.FormData,d.append(a,e,e.name||a+".wkt"),c.method="POST",c.data=d,delete b[a];else if(h)throw new C(d,0,"Sending Blob data is not supported by the browser");}var lp=w.FormData&&!!w.FormData.prototype.append;\nV.prototype.b=function(a,b,c,d,e){function f(a){e(new w.Error(a))}var g="text/plain",h=mp,k=a===h.LAYERS_UPLOAD||a===h.LAYERS_MODIFY||a===h.LAYERS_IMPORT,l=c,h={data:A,method:"GET"};if(!a)throw new C(this.b,0,a);if(!b)throw new C(this.b,1,b);Go(this.b,3,d,e);k&&(B(c,Object,this.b,2,"Invalid request parameters"),l=Qa(c),jp(a,l,h,this.b));a=this.aa().clone().R(a+"."+b).$(l);b===np.JSON&&(g="application/json");b=new Gh(g,a.toString(),ud,h);b.then(function(a){var b=a.issues;b&&a.error_id&&a.response_code?\nf(b[0].message):d(a)},function(a){"error"===a.type||404===a.status?f(a.statusText||"Unable to load data"):a.json().then(function(a){f(a.error_description||a.issues[0].message)},f)});return b};V.prototype.request=V.prototype.b;\nvar kp="layers/modify",mp={LAYERS_DELETE:"layers/delete",LAYERS_GRANT:"layers/access/grant",LAYERS_LIST:"layers/list",LAYERS_MODIFY:kp,LAYERS_UPLOAD:"layers/upload",LAYERS_IMPORT:"layers/import",SEARCH_ALL:"search/all",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SEARCH_TILE:"tiled/tile"};V.EntryPoint=mp;var np={TXT:"txt",JSON:"json"};V.EntryPointType=np;sm.cle={subDomain:"cle",path:"2"};\nV.prototype.l=function(a,b,c){var d=this;return this.b("search/all","txt",{filter:\'WKT==""\',layer_id:a},function(e){var f=e.replace(/[\\r\\n]+$/g,"").split("\\t");d.b("layers/list","json",{layer_id:a,detail_level:"all"},function(a){a=a.layers[0];a.columnNames=f;b(Po(a))},c)},c)};V.prototype.getLayer=V.prototype.l;\nV.prototype.A=function(a,b,c,d){function e(){return++g<f?h.b("layers/access/grant","json",{layer_id:a,granted_app_id:b[g].grantedAppId,permissions:b[g].permissions.join(",")},e,d):h.l(a,c,d)}var f=b&&b.length,g=-1,h=this;return e()};V.prototype.grantAccess=V.prototype.A;V.prototype.s=function(a,b,c){return this.b("layers/delete","json",{layer_ids:a},b,c)};V.prototype.deleteLayer=V.prototype.s;\nV.prototype.v=function(a,b,c){function d(){setTimeout(function(){l.l(h,function(a){setTimeout(e.bind(null,a),n)},function(){64E3>m?(m+=n,d()):c(w.Error("Timeout"))})},n);n*=2}function e(d){var e=JSON.stringify(d.c()),f=a.grants,g;e!==JSON.stringify(k)?(g="Results into different column names on the backend: "+e,setTimeout(function(){l.s(h,function(){c(w.Error(g))},function(a){c(w.Error(g+". "+a.message))})},n)):f&&f.length?l.A(h,f,b,c):b(d)}var f,g,h,k,l=this,m=0,n=1E3;g=!a||!Wo(h=a.layerId)&&(f="layerId")||\n!Xo(k=a.columnNames)&&(f="columnNames")?0:sa(b)?sa(c)?-1:2:1;if(0<=g)throw new C(l.v,g,f||arguments[g]);return l.l(h,function(){c(w.Error("Layer exists already"))},function(){var b={layer_id:h,file:k.join("\\t")},e=a.level,f=a.storage;e!==A&&(b.level=e);f!==A&&(b.storage=f);l.b("layers/upload","json",b,d,c)})};V.prototype.createLayer=V.prototype.v;\nfunction op(a,b,c,d,e){var f=[],g;a=a.b(b,"json",c,function(a){a.geometries.length?(a=Yo(a,c.layer_id),g=new gp(a,d,e),f.push(g)):d(De,!0)},e);f.push(a);return new Io(f)}V.prototype.i=function(a,b,c,d,e,f){if(!Za(a))throw new C(this.i,0,"has invalid type");B(b,gc,this.i,1,"has invalid type");if(!ab(c))throw new C(this.i,2,"has invalid type");Go(this.i,3,d,e);a={layer_ids:a.join(","),proximity:b.lat+","+b.lng+","+c};f&&Ca(a,f);return op(this,"search/proximity",a,d,e)};\nV.prototype.searchByProximity=V.prototype.i;V.prototype.g=function(a,b,c,d,e,f){var g,h="";if(!Za(a))throw new C(this.g,0,"has invalid type");if(!ra(b)&&!B(b,F))throw new C(this.g,1,"has invalid type");if(!ab(c))throw new C(this.g,2,"has invalid type");Go(this.g,3,d,e);a={layer_ids:a.join(","),radius:c};if(ra(b))a.route_id=b;else{g=b.na;b=0;for(c=g.length;b<c;b+=3)h+=g[b]+","+g[b+1],b<c-3&&(h+=",");a.corridor=h}f&&Ca(a,f);return op(this,"search/corridor",a,d,e)};V.prototype.searchByCorridor=V.prototype.g;\nV.prototype.j=function(a,b,c,d,e){function f(a,b){b&&h--;c(a,!h)}var g=[],h;if(!Za(a))throw new C(this.j,0,"has invalid type");B(b,G,this.j,1,"has invalid type");Go(this.j,2,c,d);b={bbox:b.ka+","+b.ga+";"+b.ja+","+b.ha};e&&Ca(b,e);a=b.layer_id?[b.layer_id]:a;e=0;for(h=a.length;e<h;e++)b.layer_id=a[e],g.push(op(this,"search/bbox",b,f,d));return new Io(g)};V.prototype.searchByBoundingBox=V.prototype.j;\nV.prototype.o=function(a,b,c,d){var e,f,g=[];if(!ra(a))throw new C(this.o,0,"has invalid type");Go(this.o,1,b,c);e={layer_id:a};d&&Ca(e,d);d=this.b("search/all","json",e,function(d){d.geometries.length?(d=Yo(d,a),f=new gp(d,b,c),g.push(f)):b(De,!0)},c);g.push(d);return new Io(g)};V.prototype.searchAll=V.prototype.o;var pp={"delete":/^GEOMETRY_ID$/,append:/^(?!GEOMETRY_ID$)/,update:null};\nfunction qp(a,b,c,d,e,f){function g(){ea++;d(this,ea===J)}function h(a){ea++;e(a,this,ea===J)}var k="append"!==b,l,m,n,q,t,u={},y=Ka(),J=0,T=[],ea=0;if(!Za(c))throw new C(f,0,c);Go(f,1,d,e);for(l=c.length;l--;){m=c[l];if(B(m,Qo))if(n=m.uc().cd().layerId,q=m.a("GEOMETRY_ID"),k){if(q===x||""===String(q))t=\'GEOMETRY_ID must not be null or ""\';u[q=n+"_"+q]&&(t="same GEOMETRY_ID for multiple rows");u[q]=m}else q!==x&&""!==String(q)&&(t=\'GEOMETRY_ID must be null or ""\');else t="Invalid type";if(t)throw new C(f,\n0,"- Invalid row at index "+l+", "+t);q=y[n];q||(q=y[n]=[],J++);q.push(m)}for(n in y){q=y[n];c=[];for(l=q.length;l--;)c.push(q[l].Ve);T.push(a.b(kp,"json",{layer_id:n,action:b,changes:q[0].uc().Df(pp[b],c)},z(g,q),z(h,q)))}return new Io(T)}V.prototype.m=function(a,b,c){return qp(this,"append",a,b,c,this.m)};V.prototype.appendRows=V.prototype.m;V.prototype.C=function(a,b,c){return qp(this,"update",a,b,c,this.C)};V.prototype.updateRows=V.prototype.C;\nV.prototype.B=function(a,b,c){return qp(this,"delete",a,b,c,this.B)};V.prototype.deleteRows=V.prototype.B;function Vo(a,b,c){var d=this,e=b&&b.rowFilter,f,g,h,k,l=uo;Vo.u.constructor.call(this,c);B(a,V,Vo,0);h=c.resultType;Uo(b);e?(f=Qa(b),f.rowFilter=e.toString()):f=b;(new Lh).md("cle","H.service.extension.worker.processor");k=b.layerId;a.b("layers/list","json",{detail_level:"all",layer_id:k},function(b){b=b.layers;var c;for(c=0;c<b.length;c++)if(b[c].layerId===k){f.level=b[c].level;break}g=a.aa().clone().R("tiled/tile.json").$({meta:1});(new Nh("cle",{message:[d.uid,0,{tileSize:d.tileSize,projected:!0,\nonlyOutline:h===l.POLYLINE,serverUrl:g.toString(),layerConfigs:[f],batchTiles:!1}]})).then(function(){d.I=!0;Rg(d)},d.f)},function(a){d.f(a.message)})}v(Vo,yo);r("H.service.extension.customLocation.TileProvider",Vo);Vo.prototype.P=function(a,b,c){return new to(a,b,c)};\nVo.prototype.c=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h,g=this.g.get(g),k={cancel:sc},l=!0,m,n=uo;g&&(this.b===n.POLYLINE||this.b===n.POLYGON?g.yc()||(d(Fm.pop(this.tileSize),null),l=!1):(d(x),l=!1));l&&(m=ym.setTimeout(function(){h=new Nh("cle",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500),k.cancel=function(){h?h.cancel():ym.clearTimeout(m)});return k};Vo.prototype.requestInternal=Vo.prototype.c;Vo.prototype.D=function(){Vo.u.D.call(this);new Nh("cle",{message:[this.uid,3]})};function rp(a){a=rm(sm.cre,a);rp.u.constructor.call(this,a)}v(rp,pm);r("H.service.extension.customRoute.Service",rp);sm.cre={subDomain:"cre",path:"2"};U.prototype.Ta=function(a){return this.W(new rp(a))};U.prototype.getCustomRoutingService=U.prototype.Ta;\nrp.prototype.b=function(a,b,c){function d(a){c(new w.Error(a))}Go(this.b,1,b,c);a=this.aa().clone().R("calculateroute.json").$(a);(new Gh("application/json",a.toString())).then(b,function(a){"error"===a.type?d(a.statusText||"Unable to load data"):a.json().then(function(a){d(a.error_description||a.issues[0].message)},d)})};rp.prototype.calculateRoute=rp.prototype.b;r("H.service.buildInfo",function(){return Bh("mapsjs-service","0.17.0","378d765")});\n')
    },
    1818: function(e, t, i) {
        "use strict";
        var a = i(153)
          , n = i(20)
          , r = i(1369)
          , o = a.a.extend({
            totalCourses: 0,
            model: r.a,
            url: function() {
                return "/proxy/course-service/course/owner/" + n.a.get("displayName")
            },
            initialize: function(e, t) {
                t.verb = "GET",
                this.initializePagedCollection(t)
            },
            parse: function(e) {
                return this.totalCourses = e.length,
                e
            },
            comparator: function(e) {
                return e.get("courseName").toLowerCase()
            },
            getTotalCourseCount: function() {
                return this.totalCourses
            },
            findCourse: function(e) {
                return this.find(function(t) {
                    return t.get("courseId") === e
                })
            }
        });
        t.a = o
    },
    1839: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            initialize: function(e) {
                this.latestDate = e ? e.latestDate : new Date
            },
            url: function() {
                if (0 === this.latestDate.length)
                    throw new Error("Date must be given.");
                return "/proxy/weight-service/weight/latest?date=" + this.latestDate + "&ignorePriority=true"
            },
            setLatestDate: function(e) {
                this.latestDate = e
            }
        });
        t.a = n
    },
    1840: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(0)
              , n = i.n(a)
              , r = (i(13),
            i(18),
            n.a.Model.extend({
                initialize: function(e) {},
                url: function() {
                    var e = "/proxy/weight-service/weight";
                    return "undefined" != typeof this.get("isFirst") && (e += "/first"),
                    e
                },
                destroy: function(t) {
                    var i = "/proxy/biometric-service/biometric/" + this.get("date")
                      , a = e.extend({
                        url: i
                    }, t || {});
                    return n.a.Model.prototype.destroy.call(this, a)
                },
                save: function(t, i) {
                    var a = e.extend({
                        url: "/proxy/weight-service/user-weight"
                    }, i || {});
                    return n.a.Model.prototype.save.call(this, t, a)
                }
            }));
            t.a = r
        }
        ).call(this, i(8))
    },
    1845: function(e, t) {
        e.exports = '<div id="open-express">\n    <h3 id="wireless-message-header" class="bottom-m wireless-message" style="display: none;"></h3>\n    <h3 class="bottom-m non-wireless-message" style="display: none;"><%- Localizer.localize(\'agent.connecting\') %></h3>\n    <p><%- Localizer.localize(\'agent.wait\') %></p>\n</div>\n<div id="sync-message" class="still-waiting text-left alert alert-info bottom-none" style="display: none;">\n</div>\n'
    },
    1860: function(e, t, i) {
        "use strict";
        var a = i(1492);
        t.a = a.a.extend({
            url: "/web-data/exercises/Pilates.json"
        })
    },
    1861: function(e, t, i) {
        "use strict";
        var a = i(1492);
        t.a = a.a.extend({
            url: "/web-data/exercises/Yoga.json"
        })
    },
    1862: function(e, t) {
        e.exports = '<span class="dropdown-toggle" data-toggle="dropdown">\n    <%- label %>: <span class="type"><%- selectedItem.name %></span>\n    <i class="icon-pointer-down"></i>\n</span>\n<ul class="dropdown-menu pull-left" role="menu" aria-label="<%- Localizer.localize(\'select.one\') %>">\n        <% for (var i = 0; i < items.length; i++) { %>\n        <% var item = items[i]; %>\n            <li data-value="<%- item.value %>" role="none">\n                <a href="#" role="menuitem"><%- item.name %></a>\n            </li>\n            <% if (typeof item.children != \'undefined\') { %>\n                <% for (var j = 0; j < item.children.length; j++) { %>\n                <%  var childItem = item.children[j]; %>\n                    <li data-value="<%- childItem.value %>" role="none">\n                        <a href="#" class="dropdown-tier" role="menuitem"><%- childItem.name %></a>\n                    </li>\n                <% } %>\n            <% } %>\n        <% } %>\n</ul>'
    },
    1866: function(e, t) {
        e.exports = "<h4><%- Localizer.localize('label_cadence') %></h4>\n\n<p><%- Localizer.localize('help.running.dynamics.cadence.chart.label') %></p>\n<p><%- Localizer.localize('help.running.dynamics.cadence.chart.label2') %></p>\n<p><%- Localizer.localize('help.running.dynamics.cadence.chart.label3') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.cadence.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; 95%</td>\n        <td>&gt; 185 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td>70 \u2013 95%</td>\n        <td>174 \u2013 185 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td>30 - 69%</td>\n        <td>163 - 173 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td>5 - 29%</td>\n        <td>151 - 162 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; 5%</td>\n        <td>&lt; 151 spm</td>\n    </tr>\n    </tbody>\n</table>\n\n"
    },
    1867: function(e, t) {
        e.exports = "<h4><%- Localizer.localize('label_vert_oscillation') %></h4>\n\n<p><%- Localizer.localize('help.running.dynamics.vert.oscillation.chart.label') %></p>\n<p><%- Localizer.localize('help.running.dynamics.vert.oscillation.chart.label2') %></p>\n<p><%- Localizer.localize('help.running.dynamics.vert.oscillation.chart.label3') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.vo.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; <%- additionalData.Purple.zone %> %</td>\n        <td>&lt; <%- additionalData.Purple.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td><%- additionalData.Blue.zone %> %</td>\n        <td><%- additionalData.Blue.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td><%- additionalData.Green.zone %> %</td>\n        <td><%- additionalData.Green.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td><%- additionalData.Orange.zone %> %</td>\n        <td><%- additionalData.Orange.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; <%- additionalData.Red.zone %> %</td>\n        <td>&gt; <%- additionalData.Red.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    </tbody>\n</table>\n"
    },
    1868: function(e, t) {
        e.exports = "<h4><%- Localizer.localize('ACTIVITY_GROUND_CONTACT_TIME') %></h4>\n\n<p><%- Localizer.localize('help.running.dynamics.ground.contact.chart.label1') %></p>\n<p><%- Localizer.localize('help.running.dynamics.ground.contact.chart.label2') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.gct.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; 95%</td>\n        <td>&lt; 208 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td>70 \u2013 95%</td>\n        <td>208-240 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td>30 - 69%</td>\n        <td>241 - 272 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td>5 - 29%</td>\n        <td>273 - 305 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; 5%</td>\n        <td>&gt; 305 ms</td>\n    </tr>\n    </tbody>\n</table>\n\n"
    },
    1869: function(e, t) {
        e.exports = "<h4><%- Localizer.localize('label_ground_contact_time_balance') %></h4>\n\n<p><%- Localizer.localize('help.running.dynamics.gct.balance.label') %></p>\n<p><%- Localizer.localize('help.running.dynamics.gct.balance.label2') %></p>\n<p><%- Localizer.localize('help.running.dynamics.gct.balance.label3') %></p>\n    <table class=\"table\">\n        <thead>\n        <tr>\n            <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n            <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n            <th><abbr title=\"<%- Localizer.localize('help.running.dynamics.gct') %>\"><%- Localizer.localize('help.running.dynamics.gct.abbr') %></abbr> <%- Localizer.localize('help.running.dynamics.balance.range') %></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr>\n            <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n            <td>&gt; 95%</td>\n            <td>&gt; <%- Localizer.localize('power_balance_right_format', 51.5) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n            <td>70 - 95%</td>\n            <td>50.6% - <%- Localizer.localize('power_balance_right_format', 51.5) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n            <td>30 - 69%</td>\n            <td><%- Localizer.localize('power_balance_right_format', 50.5) %> - <%- Localizer.localize('power_balance_left_format', 50.5) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n            <td>5 - 29%</td>\n            <td>50.6% - <%- Localizer.localize('power_balance_left_format', 51.5) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n            <td>&lt; 5%</td>\n            <td>&gt; <%- Localizer.localize('power_balance_left_format', 51.5) %></td>\n        </tr>\n        </tbody>\n    </table>\n"
    },
    1870: function(e, t) {
        e.exports = "<h4><%- Localizer.localize('help.running.dynamics.vert.ratio') %></h4>\n\n<p><%- Localizer.localize('help.running.dynamics.vert.ratio.chart.label') %></p>\n<p><%- Localizer.localize('help.running.dynamics.vert.ratio.chart.label2') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.vr.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; <%- additionalData.Purple.zone %> %</td>\n        <td>&lt; <%- additionalData.Purple.range %> %</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td><%- additionalData.Blue.zone %> %</td>\n        <td><%- additionalData.Blue.range %> %</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td><%- additionalData.Green.zone %> %</td>\n        <td><%- additionalData.Green.range %> %</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td><%- additionalData.Orange.zone %> %</td>\n        <td><%- additionalData.Orange.range %> %</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; <%- additionalData.Red.zone %> %</td>\n        <td>&gt; <%- additionalData.Red.range %> %</td>\n    </tr>\n    </tbody>\n</table>\n"
    },
    1871: function(e, t) {
        e.exports = '<table class="table table-bordered table-condensed">\n    <thead>\n    <tr>\n        <th></th>\n        <th><%- Localizer.localize(\'training_desc\') %></th>\n        <th><%- Localizer.localize(\'training_freq\') %></th>\n        <th><%- Localizer.localize(\'training_duration\') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <th align="center">0</th>\n        <td><%- Localizer.localize(\'training_desc_1\') %></td>\n        <td>&nbsp;&nbsp;-</td>\n        <td>&nbsp;&nbsp;-</td>\n    </tr>\n\n    <tr>\n        <th align="center">1</th>\n        <td style="vertical-align:middle" rowspan="3"><%- Localizer.localize(\'training_desc_2\') %></td>\n        <td style="vertical-align:middle" rowspan="2"><%- Localizer.localize(\'training_freq_1\') %></td>\n        <td><%- Localizer.localize(\'training_duration_1\') %></td>\n    </tr>\n    <tr>\n        <th align="center">2</th>\n        <td><%- Localizer.localize(\'training_duration_2\') %></td>\n    </tr>\n    <tr>\n        <th align="center">3</th>\n        <td><%- Localizer.localize(\'training_freq_2\') %></td>\n        <td><%- Localizer.localize(\'training_duration_3\') %></td>\n    </tr>\n    <tr>\n        <th align="center">4</th>\n        <td style="vertical-align:middle" rowspan="4"><%- Localizer.localize(\'training_desc_3\') %></td>\n        <td style="vertical-align:middle" rowspan="3"><%- Localizer.localize(\'training_freq_3\') %></td>\n        <td><%- Localizer.localize(\'training_duration_4\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">5</th>\n        <td><%- Localizer.localize(\'training_duration_5\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">6</th>\n        <td><%- Localizer.localize(\'training_duration_6\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">7</th>\n        <td><%- Localizer.localize(\'training_freq_4\') %></td>\n        <td><%- Localizer.localize(\'training_duration_7\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">8</th>\n        <td style="vertical-align:middle" rowspan="3"><%- Localizer.localize(\'training_desc_4\') %></td>\n        <td><%- Localizer.localize(\'training_freq_5\') %></td>\n        <td><%- Localizer.localize(\'training_duration_8\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">9</th>\n        <td style="vertical-align:middle" rowspan="2"><%- Localizer.localize(\'training_freq_6\') %></td>\n        <td><%- Localizer.localize(\'training_duration_9\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">10</th>\n        <td><%- Localizer.localize(\'training_duration_10\') %></td>\n    </tr>\n\n    </tbody>\n</table>\n\n<p style="font-size:12px;"><%= Localizer.localize(\'activity_class_helper\') %></p>\n\n'
    },
    1872: function(e, t) {
        e.exports = "<h4>\n    <%- Localizer.localize('help.performance.condition') %>\n</h4>\n<p>\n    <%- Localizer.localize('help.performance.condition.description') %>\n</p>\n<p>\n    <%- Localizer.localize('help.performance.condition.description2') %>\n</p>\n<table class=\"table\">\n    <thead>\n        <tr>\n            <th><%- Localizer.localize('help.performance.condition.performance') %></th>\n            <th><%- Localizer.localize('help.performance.condition.score') %></th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.excellent') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.excellent.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.good') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.good.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.baseline') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.baseline.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.fair') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.fair.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.poor') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.poor.score') %></td>\n        </tr>\n    </tbody>\n</table>"
    },
    1873: function(e, t) {
        e.exports = "<h4><%- Localizer.localize('help_vector_air_drag_cda') %></h4>\n    <div><%= Localizer.localize('help_vector_air_drag_cda_intro_paragraph') %></div>\n    <ul class=\"nav nav-tabs\">\n        <li class=\"active\"><a href=\"#drag-road\" data-toggle=\"tab\"><%- Localizer.localize('help_vector_air_drag_cda_road_cyclist_label') %></a></li>\n        <li><a href=\"#drag-tt\" data-toggle=\"tab\"><%- Localizer.localize('help_vector_air_drag_cda_time_trialist_tab_label') %></a></li>\n    </ul>\n\n    <div class=\"tab-content\">\n\n        \x3c!-- Road Cyclist tab --\x3e\n        <div class=\"tab-pane active\" id=\"drag-road\">\n            <h4 class=\"bottom-xs\"><%- Localizer.localize('help_vector_air_drag_cda_aerodynamic_zones_label') %></h4>\n\n            <table class=\"vo2-estimates-table table table-bordered\">\n                <tbody>\n                <tr>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_road_cyclist_label') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_percentile_label') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_cda_range') %></th>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-superior\"></span><%- Localizer.localize('help_vector_air_drag_cda_superior_label') %></td>\n                    <td>&gt; <%- additionalData.roadCyclist.Purple.zone %></td>\n                    <td>&lt; <%- additionalData.roadCyclist.Purple.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-excellent\"></span><%- Localizer.localize('help_vector_air_drag_cda_excellent_label') %></td>\n                    <td><%- additionalData.roadCyclist.Blue.zone %></td>\n                    <td><%- additionalData.roadCyclist.Blue.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-good\"></span><%- Localizer.localize('help_vector_air_drag_cda_good_label') %></td>\n                    <td><%- additionalData.roadCyclist.Green.zone %></td>\n                    <td><%- additionalData.roadCyclist.Green.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-fair\"></span><%- Localizer.localize('help_vector_air_drag_cda_fair_label') %></td>\n                    <td><%- additionalData.roadCyclist.Orange.zone %></td>\n                    <td><%- additionalData.roadCyclist.Orange.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-poor\"></span><%- Localizer.localize('help_vector_air_drag_cda_poor_label') %></td>\n                    <td>&lt; <%- additionalData.roadCyclist.Red.zone %></td>\n                    <td>&gt; <%- additionalData.roadCyclist.Red.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                </tbody>\n            </table>\n        </div>\n        \x3c!-- End: Road Cyclist tab --\x3e\n\n        \x3c!-- Time Trialist Cyclist tab --\x3e\n        <div class=\"tab-pane\" id=\"drag-tt\">\n            <h4 class=\"bottom-xs\"><%- Localizer.localize('help_vector_air_drag_cda_aerodynamic_zones_label') %></h4>\n\n            <table class=\"vo2-estimates-table table table-bordered\">\n                <tbody>\n                <tr>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_time_trial_cyclist') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_percentile_label') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_cda_range') %></th>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-superior\"></span><%- Localizer.localize('help_vector_air_drag_cda_superior_label') %></td>\n                    <td>&gt; <%- additionalData.timeTrialist.Purple.zone %></td>\n                    <td>&lt; <%- additionalData.timeTrialist.Purple.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-excellent\"></span><%- Localizer.localize('help_vector_air_drag_cda_excellent_label') %></td>\n                    <td><%- additionalData.timeTrialist.Blue.zone %></td>\n                    <td><%- additionalData.timeTrialist.Blue.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-good\"></span><%- Localizer.localize('help_vector_air_drag_cda_good_label') %></td>\n                    <td><%- additionalData.timeTrialist.Green.zone %></td>\n                    <td><%- additionalData.timeTrialist.Green.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-fair\"></span><%- Localizer.localize('help_vector_air_drag_cda_fair_label') %></td>\n                    <td><%- additionalData.timeTrialist.Orange.zone %></td>\n                    <td><%- additionalData.timeTrialist.Orange.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-poor\"></span><%- Localizer.localize('help_vector_air_drag_cda_poor_label') %></td>\n                    <td>&lt; <%- additionalData.timeTrialist.Red.zone %></td>\n                    <td>&gt; <%- additionalData.timeTrialist.Red.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                </tbody>\n            </table>\n        </div>\n        \x3c!-- End Balance tab --\x3e\n\n        <div><%- Localizer.localize('help_vector_air_drag_cda_footer_paragraph') %></div>\n    </div>"
    },
    1874: function(e, t) {
        e.exports = "<h4><%- Localizer.localize('label_respiration_rate') %></h4>\n\n<ul class=\"nav nav-tabs\">\n    <li class=\"active\"><a href=\"#tracking-respiration-rate\" data-toggle=\"tab\"><%- Localizer.localize('label_respiration_tracking') %></a></li>\n    <li><a href=\"#breathing-during-runs\" data-toggle=\"tab\"><%- Localizer.localize('label_breathing_during_runs') %></a></li>\n</ul>\n    \n<div class=\"tab-content\">\n    \x3c!-- Respiration Tracking tab --\x3e\n    <div class=\"tab-pane active\" id=\"tracking-respiration-rate\">\n       <h5><%- Localizer.localize('respiration_tracking_header_message1') %></h5>\n       <p><%- Localizer.localize('respiration_tracking_message1') %></p>\n       <h5><%- Localizer.localize('respiration_tracking_header_message2') %></h5>\n       <p><%- Localizer.localize('respiration_tracking_message2') %></p>\n       <h5><%- Localizer.localize('respiration_tracking_header_message3') %></h5>\n       <p><%- Localizer.localize('respiration_tracking_message3') %></p>\n    </div>\n    \x3c!-- End Respiration Tracking tab --\x3e\n\n    \x3c!-- Breathing During Runs tab --\x3e\n    <div class=\"tab-pane\" id=\"breathing-during-runs\">\n        <h5><%- Localizer.localize('breathing_header_message') %></h3>\n        <h5><%- Localizer.localize('breathing_category1') %></h5>\n        <p><%- Localizer.localize('breathing_message1') %></p>\n        <h5><%- Localizer.localize('breathing_category2') %></h5>\n        <p><%- Localizer.localize('breathing_message2') %></p>\n        <h5><%- Localizer.localize('breathing_category3') %></h5>\n        <p><%- Localizer.localize('breathing_message3') %></p>\n        <h5><%- Localizer.localize('breathing_category4') %></h5>\n        <p><%- Localizer.localize('breathing_message4') %></p>\n    </div>\n    \x3c!-- End Breathing During Runs tab --\x3e\n</div>\n    "
    },
    1875: function(e, t) {
        e.exports = "<h2><%- Localizer.localize('label_grit') %></h2>\n\n<h5><%- Localizer.localize('grit_help', additionalData.GritColorRanges.max_1, additionalData.GritColorRanges.max_3) %></h5>\n\n<table>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.GritColorRanges.color_1 %>\"></span></td>\n        <td><%- Localizer.localize('grit_easy', additionalData.GritColorRanges.max_1 + '-' + additionalData.GritColorRanges.max_2) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.GritColorRanges.color_2 %>\"></span></td>\n        <td><%- Localizer.localize('grit_moderate', additionalData.GritColorRanges.max_2 + '-' + additionalData.GritColorRanges.max_3) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.GritColorRanges.color_3 %>\"></span></td>\n        <td><%- Localizer.localize('grit_hard', additionalData.GritColorRanges.max_3 + '+') %></td>\n    </tr>        \n</table>\n\n<p></p>\n<p><%- Localizer.localize('grit_help_2') %></p>\n\n<h4><%- Localizer.localize('label_grit_in_connect') %></h4>\n<p><%- Localizer.localize('grit_in_connect') %></p>"
    },
    1876: function(e, t) {
        e.exports = "<h2><%- Localizer.localize('label_flow') %></h2>\n\n<h5><%- Localizer.localize('flow_help') %></h5>\n\n<table>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.FlowColorRanges.color_1 %>\"></span></td>\n        <td><%- Localizer.localize('flow_smooth', additionalData.FlowColorRanges.max_1 + '-' + additionalData.FlowColorRanges.max_2) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.FlowColorRanges.color_2 %>\"></span></td>\n        <td><%- Localizer.localize('flow_moderate', additionalData.FlowColorRanges.max_2 + '-' + additionalData.FlowColorRanges.max_3) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.FlowColorRanges.color_3 %>\"></span></td>\n        <td><%- Localizer.localize('flow_rough', additionalData.FlowColorRanges.max_3 + '+') %></td>\n    </tr>        \n</table>\n\n<p></p>\n<p><%- Localizer.localize('flow_help_2') %></p>\n\n<h4><%- Localizer.localize('label_flow_in_connect') %></h4>\n<p><%- Localizer.localize('flow_in_connect') %></p>"
    },
    1884: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(1885)
          , h = i.n(c);
        t.a = o.a.View.extend({
            template: n.a.template(h.a),
            initialize: function(e) {},
            render: function() {
                var e, t = this.model.get("videoUrl");
                if (t) {
                    if (t.toLowerCase().indexOf("youtu.be") > 0)
                        e = t.substring(t.lastIndexOf("/") + 1);
                    else {
                        var i = t.indexOf("?v=");
                        e = t.substring(i + 3)
                    }
                    var a = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        videoId: e
                    });
                    this.$el.html(a),
                    this.$el.show()
                }
            }
        })
    },
    1885: function(e, t) {
        e.exports = '<div class="video-outer">\n    <iframe width="560" height="315" src="//www.youtube-nocookie.com/embed/<%- videoId %>?rel=0&amp;autohide=1&amp;showinfo=0&amp;modestbranding=1&amp;theme=light" frameborder="0" allowfullscreen=""></iframe>\n</div>'
    },
    1886: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(8)
              , r = i.n(n)
              , o = i(0)
              , s = i.n(o)
              , l = i(7)
              , c = i(11)
              , h = i(1521)
              , p = i(35)
              , d = i(48)
              , u = (i(18),
            i(83))
              , g = i(1887)
              , m = i(1888)
              , f = i.n(m)
              , y = s.a.View.extend({
                template: r.a.template(f.a),
                initialize: function(t) {
                    this.timer = null,
                    this.player = t.player,
                    this.activityDetails = t.activityDetails,
                    this.videoClips = t.videoClips.toJSON(),
                    this.youtubePlayer = new g.a,
                    this.youtubePlayer.bind(g.a.Events.PLAYER_LOADED, function() {
                        this.log("YouTubePlayer.Events.PLAYER_LOADED fired!"),
                        e("#activityYouTubePlaceholder").show(),
                        this.$el.show()
                    }, this),
                    this.youtubePlayer.bind(g.a.Events.STATE_CHANGED, this.stateChanged, this),
                    this.youtubePlayer.bind(g.a.Events.ERROR, this.onError, this),
                    r.a.bind(this.checkClipInfo, this)
                },
                cleanUp: function() {
                    this.log("Clean up"),
                    this.stopTimer();
                    try {
                        this.youtubePlayer.stopVideo()
                    } catch (e) {
                        this.log("Exception thrown stopping video. Err: " + e.message)
                    }
                    this.youtubePlayer.destroy(),
                    this.youtubePlayer = null,
                    this.player && (this.player.stopPlaying(),
                    this.player.stopListening())
                },
                startTimer: function() {
                    var e = this;
                    null != this.timer && this.stopTimer(),
                    this.log("startTimer()"),
                    this.timer = setInterval(function() {
                        e.checkClipInfo()
                    }, 500)
                },
                stopTimer: function() {
                    null != this.timer && (this.log("stopTimer()"),
                    clearInterval(this.timer),
                    this.timer = null)
                },
                checkClipInfo: function() {
                    var e = this.youtubePlayer.getCurrentTime()
                      , t = 1e3 * e;
                    this.log("seconds: " + e + ", millisecondsIntoVideo: " + t + " into video.");
                    for (var i = null, a = 0; a < this.videoClips.length; a++)
                        if (t >= this.videoClips[a].clipStartOffset && t <= this.videoClips[a].clipEndOffset) {
                            i = this.videoClips[a];
                            break
                        }
                    if (null != i) {
                        this.log("clip: " + ++a + ", startOffset: " + i.clipStartOffset + ", endOffset: " + i.clipEndOffset);
                        var n = u.a.parseISOUTC(i.startTimeGMT).getTime()
                          , r = u.a.parseISOUTC(i.endTimeGMT).getTime()
                          , o = (t - i.clipStartOffset) / (i.clipEndOffset - i.clipStartOffset)
                          , s = n + o * (r - n);
                        this.log("startDateMilliseconds: " + n + ", endDateMilliseconds: " + r + ", percentDone: " + o + ", activityTimeMilliseconds: " + s);
                        for (var l = "sumDistance" == this.player.get("xAxisType"), h = this.activityDetails.getData("directTimestamp", l ? "sumDistance" : "sumDuration"), p = null, d = 0; d < h.length; d++)
                            if (h[d][1] >= s) {
                                p = h[d][0];
                                break
                            }
                        p && (l && (p = c.a.convertDistance(p, "running")),
                        this.log((l ? "distance: " : "duration: ") + p),
                        this.player.set("x", p))
                    }
                },
                onError: function(e) {
                    this.log("Error with video: " + e)
                },
                stateChanged: function(e) {
                    if (!this.isPlayerRunning())
                        switch (e) {
                        case g.a.States.PAUSED:
                            this.stopTimer(),
                            this.enablePlayButton(!0);
                            break;
                        case g.a.States.PLAYING:
                            this.startTimer(),
                            this.enablePlayButton(!1);
                            break;
                        case g.a.States.ENDED:
                            this.stopTimer(),
                            this.enablePlayButton(!0);
                            break;
                        case g.a.States.UN_STARTED:
                        }
                },
                enablePlayButton: function(e) {
                    e ? (a(".play").show(),
                    a(":button.chart-header-item").attr("disabled", !1)) : (a(".play").hide(),
                    a(":button.chart-header-item").attr("disabled", !0))
                },
                isPlayerRunning: function() {
                    return this.player.get("mode") === h.a.Modes.Playing
                },
                render: function() {
                    var e = this.model.get("videoUrl");
                    if (e) {
                        this.player.initPlayer();
                        var t = p.a.getLocale();
                        t = d.a.getFullLocale(t);
                        var i = e.indexOf("?v=")
                          , a = e.substring(i + 3);
                        this.youtubePlayer.loadPlayer("ytplayer", a, {
                            controls: 1,
                            modestbranding: 0,
                            rel: 0,
                            showinfo: 1,
                            autohide: 0,
                            hl: t,
                            fs: 1,
                            theme: "light"
                        });
                        var n = this.template({
                            Localizer: l.a
                        });
                        this.$(".video-outer").html(n)
                    }
                },
                log: function(e) {
                    "undefined" !== typeof console && "undefined" !== typeof console.log && console.log((new Date).toString() + " - " + e)
                }
            });
            t.a = y
        }
        ).call(this, i(9), i(9))
    },
    1887: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = {
                PLAYER_LOADED: "PLAYER_LOADED",
                STATE_CHANGED: "STATE_CHANGED",
                ERROR: "ERROR"
            }
              , s = {
                UN_STARTED: -1,
                ENDED: 0,
                PLAYING: 1,
                PAUSED: 2,
                BUFFERING: 3,
                CUED: 5
            }
              , l = i.n(r).a.Model.extend({
                initialize: function() {
                    this.loaded = !1,
                    this.player = null,
                    e.bind(this.onReady, this)
                },
                loadPlayer: function(e, t, i) {
                    "undefined" != typeof YT && "undefined" != typeof YT.Player && (YT.loading = 0);
                    var a = this;
                    window.onYouTubeIframeAPIReady = function() {
                        a._loadPlayer(e, t, i)
                    }
                    ,
                    n.a.getScript("//www.youtube.com/iframe_api")
                },
                _loadPlayer: function(e, t, i) {
                    var a = this;
                    setTimeout(function() {
                        0 == a.loaded && a.onReady()
                    }, 2e3),
                    this.player = new YT.Player(e,{
                        videoId: t,
                        playerVars: i,
                        events: {
                            onReady: function(e) {
                                a.onReady()
                            },
                            onStateChange: function(e) {
                                a.trigger(o.STATE_CHANGED, e.data)
                            },
                            onError: function(e) {
                                a.trigger(o.ERROR, e.data)
                            }
                        }
                    })
                },
                onReady: function() {
                    this.loaded = !0,
                    this.trigger(o.PLAYER_LOADED)
                },
                destroy: function() {
                    this.player && (this.player.destroy(),
                    this.player = null),
                    delete window.onYouTubeIframeAPIReady
                },
                isVideoPlaying: function() {
                    return this.getPlayerState() === s.PLAYING
                },
                getDuration: function() {
                    return this.player && this.loaded ? this.player.getDuration() : -1
                },
                pauseVideo: function() {
                    this.player && this.loaded && this.player.pauseVideo()
                },
                stopVideo: function() {
                    this.player && this.loaded && this.isVideoPlaying() && this.player.stopVideo()
                },
                playVideo: function() {
                    this.player && this.loaded && this.player.playVideo()
                },
                getCurrentTime: function() {
                    return this.player && this.loaded ? this.player.getCurrentTime() : -1
                },
                seekTo: function(e, t) {
                    this.player && this.loaded && this.player.seekTo(e, t)
                },
                getPlayerState: function() {
                    return this.player && this.loaded ? this.player.getPlayerState() : s.UN_STARTED
                }
            });
            l.Events = o,
            l.States = s,
            l.ErrorCodes = {
                INVALID_PARAMETER: 2,
                INVALID_CONTENT_HTML5: 5,
                VIDEO_NOT_FOUND: 100,
                EMBEDDED_PLAYER_NOT_ALLOWED: 101,
                OTHER: 150
            },
            t.a = l
        }
        ).call(this, i(8))
    },
    1888: function(e, t) {
        e.exports = '<div class="video-outer">\n    <div width="560" height="315" id="ytplayer"></div>\n</div>'
    },
    1894: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(37)
          , o = n.a.Model.extend({
            urlRoot: r.default.url("/proxy/course-service/course/metadata"),
            idAttribute: "courseId"
        });
        t.a = o
    },
    1897: function(e, t) {
        e.exports = '<% if (useSelect) { %>\n<select \n    name="activityType" \n    id="activityType" \n    class="<%- className %>"\n    aria-label="<%- Localizer.localize(\'select.one\') %>"\n>\n    <% for (var i = 0; i < items.length; i++) { %>\n    <% var item = items[i]; %>\n    <% if(options.showTypeUncategorized === false && item.value === \'uncategorized\') { continue; } %>\n\n    <% if(item.value !== this.value) { %>\n    <option value="<%- item.value %>"><%- item.name || Localizer.localize(item.nameKey) %></option>\n    <% } else { %>\n    <option value="<%- item.value %>" selected><%- item.name || Localizer.localize(item.nameKey) %></option>\n    <% } %>\n\n    <% if (typeof item.children !== \'undefined\') { %>\n        <optgroup label="">\n            <% for (var j = 0; j < item.children.length; j++) { %>\n                <% var childItem = item.children[j]; %>\n\n                <% if(childItem.value !== this.value) { %>\n                <option value="<%- childItem.value %>"><%- childItem.name || Localizer.localize(childItem.nameKey) %></option>\n                <% } else { %>\n                <option value="<%- childItem.value %>" selected><%- childItem.name || Localizer.localize(childItem.nameKey) %></option>\n                <% } %>\n            <% } %>\n        </optgroup>\n        <% if ((i+1) < items.length) { %>\n            <optgroup role="separator" label="----------------------------------"></optgroup>\n        <% } %>\n    <% } %>\n\n    <% } %>\n</select>\n<% } else { %>\n<span class="dropdown">\n    <span class="dropdown-toggle" data-toggle="dropdown" data-value="<%- selectedItem.value %>">\n        <span class="type"><%- selectedItem.name || Localizer.localize(selectedItem.nameKey) %></span>\n        <i class="icon-pointer-down"></i>\n    </span>\n    <ul class="dropdown-menu pull-left" role="menu" aria-label="<%- Localizer.localize(\'select.one\') %>">\n        <% for (var i = 0; i < items.length; i++) { %>\n            <% var item = items[i]; %>\n            <% if(options.showTypeUncategorized === false && item.value === \'uncategorized\') { continue; } %>\n            <li role="none" data-value="<%- item.value %>">\n                <a href="#" role="menuitem"><%- item.name || Localizer.localize(item.nameKey) %></a>\n            </li>\n            <% if (typeof item.children !== \'undefined\') { %>\n                <% for (var j = 0; j < item.children.length; j++) { %>\n                    <% var childItem = item.children[j]; %>\n                    <li role="none" data-value="<%- childItem.value %>">\n                        <a href="#" class="dropdown-tier" role="menuitem"><%- childItem.name || Localizer.localize(childItem.nameKey) %></a>\n                    </li>\n                <% } %>\n            <% } %>\n            <% if ((i+1) < items.length) { %>\n                <li role="separator" class="divider"></li>\n            <% } %>\n        <% } %>\n    </ul>\n</span>\n<% } %>\n'
    },
    1900: function(e, t, i) {
        "use strict";
        var a = i(436)
          , n = i(437)
          , r = i(81)
          , o = i(80)
          , s = i(82)
          , l = i(10)
          , c = i.n(l)
          , h = i(66)
          , p = i(89)
          , d = function(e) {
            function t(e) {
                var i;
                return Object(a.a)(this, t),
                (i = Object(r.a)(this, Object(o.a)(t).call(this, e))).closeMe = function() {
                    var e = i.props.onClose;
                    i.setState({
                        show: !1
                    }),
                    e && e()
                }
                ,
                i.state = {
                    show: !1
                },
                i
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    var e = this
                      , t = this.props.renderTimeoutVal;
                    setTimeout(function() {
                        e.setState({
                            show: !0
                        })
                    }, t)
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.messageKey
                      , i = e.autoClose
                      , a = e.nameSpace;
                    return c.a.createElement(h.Notification, {
                        open: this.state.show,
                        onClose: this.closeMe,
                        autoClose: i
                    }, c.a.createElement(p.a, {
                        ns: a,
                        tag: "div",
                        content: t
                    }))
                }
            }]),
            t
        }(c.a.Component);
        d.defaultProps = {
            onClose: function() {},
            autoClose: !0,
            renderTimeoutVal: 1e3,
            nameSpace: "activity"
        },
        t.a = d
    },
    1901: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return h
        });
        var a = i(3)
          , n = i(0)
          , r = i.n(n)
          , o = i(83)
          , s = i(1408)
          , l = i(21)
          , c = {
            data: null,
            compareData: null,
            type: "",
            getValueByPropertyName: function(e, t, i) {
                var a = t ? e instanceof r.a.Model ? e.get(t) : e[t] : e;
                return i && "function" === typeof i && (a = i(a)),
                a
            },
            conversion: function() {},
            getColor: function(e) {
                return e
            },
            getHighlightColor: function(e) {
                return e
            }
        }
          , h = {
            videoClips: "videoClips",
            typedSplits: "typedSplits"
        }
          , p = {};
        p.types = h,
        p.videoClips = Object(a.a)({}, c, {
            type: h.videoClips,
            conversion: function(e) {
                return e ? o.a.parseISOUTC(e).getTime() : e
            },
            getReverseData2VersionOfData: function(e) {
                e = e;
                if (this.compareData)
                    for (var t = 0; t < this.compareData.length; t += 1)
                        if (this.compareData[t][1] === e || this.compareData[t][1] > e) {
                            e = this.compareData[t][0];
                            break
                        }
                return e
            },
            getOverlayRanges: function() {
                var e = this;
                return this.data.map(function(t) {
                    return {
                        start: e.getReverseData2VersionOfData(e.getValueByPropertyName(t, "startTimeGMT", e.conversion)),
                        end: e.getReverseData2VersionOfData(e.getValueByPropertyName(t, "endTimeGMT", e.conversion))
                    }
                })
            },
            getColor: function(e) {
                var t = Object(s.a)(e);
                return "rgb(".concat(t[0], ", ").concat(t[1], ", ").concat(t[2], ", .5)")
            },
            getHighlightColor: function(e) {
                var t = Object(s.a)(e);
                return "rgb(".concat(t[0], ", ").concat(t[1], ", ").concat(t[2], ", .85)")
            }
        }),
        p.typedSplits = Object(a.a)({}, c, {
            type: h.typedSplits,
            conversion: function(e) {
                return e ? o.a.parseISOUTC(e).getTime() : e
            },
            getReverseData2VersionOfData: function(e) {
                e = e;
                if (this.compareData)
                    for (var t = 0; t < this.compareData.length; t += 1)
                        if (this.compareData[t][1] === e || this.compareData[t][1] > e) {
                            e = this.compareData[t][0];
                            break
                        }
                return e
            },
            getOverlayRanges: function() {
                var e = this;
                return this.data.map(function(t) {
                    return {
                        start: e.getReverseData2VersionOfData(e.getValueByPropertyName(t, "startTimeGMT", e.conversion)),
                        end: e.getReverseData2VersionOfData(e.getValueByPropertyName(t, "endTimeGMT", e.conversion))
                    }
                })
            },
            getColor: function(e) {
                return l.red_light_3
            },
            getHighlightColor: function(e) {
                return l.color_201
            }
        }),
        t.b = p
    },
    1902: function(e, t, i) {
        "use strict";
        var a = i(1322)
          , n = i(1296)
          , r = i(1313);
        t.a = a.a.extend({
            initialize: function(e) {
                this.fillColor = n.a.mapSeriesType(e.primarySeries[0]),
                this.seriesType = e.primarySeries.defaultChartType,
                this.scatterLineRadius = e.primarySeries.scatterLineRadius,
                a.a.prototype.initialize.apply(this, arguments)
            },
            primarySeriesType: r.a.Temperature,
            fillColor: n.a.mapSeriesType(r.a.Temperature),
            chartTitle: function() {
                return this.getPrimarySeriesLabel()
            },
            yLabel: function() {
                return this.getPrimarySeriesLabel()
            }
        })
    },
    1909: function(e, t, i) {
        "use strict";
        var a = i(1698)
          , n = i(1796)
          , r = i(1446)
          , o = i(1483)
          , s = i(1454);
        var l = function(e, t) {
            return e && Object(o.a)(t, Object(s.a)(t), e)
        }
          , c = i(1912);
        var h = function(e, t) {
            return e && Object(o.a)(t, Object(c.a)(t), e)
        }
          , p = i(2093);
        var d = function(e, t) {
            var i = -1
              , a = e.length;
            for (t || (t = Array(a)); ++i < a; )
                t[i] = e[i];
            return t
        }
          , u = i(1703);
        var g = function(e, t) {
            return Object(o.a)(e, Object(u.a)(e), t)
        }
          , m = i(1806);
        var f = function(e, t) {
            return Object(o.a)(e, Object(m.a)(e), t)
        }
          , y = i(1801)
          , v = i(1807)
          , b = i(1558)
          , A = Object.prototype.hasOwnProperty;
        var C = function(e) {
            var t = e.length
              , i = new e.constructor(t);
            return t && "string" == typeof e[0] && A.call(e, "index") && (i.index = e.index,
            i.input = e.input),
            i
        }
          , w = i(1800);
        var _ = function(e) {
            var t = new e.constructor(e.byteLength);
            return new w.a(t).set(new w.a(e)),
            t
        };
        var x = function(e, t) {
            var i = t ? _(e.buffer) : e.buffer;
            return new e.constructor(i,e.byteOffset,e.byteLength)
        }
          , S = /\w*$/;
        var T = function(e) {
            var t = new e.constructor(e.source,S.exec(e));
            return t.lastIndex = e.lastIndex,
            t
        }
          , E = i(450)
          , k = E.a ? E.a.prototype : void 0
          , L = k ? k.valueOf : void 0;
        var P = function(e) {
            return L ? Object(L.call(e)) : {}
        };
        var z = function(e, t) {
            var i = t ? _(e.buffer) : e.buffer;
            return new e.constructor(i,e.byteOffset,e.length)
        }
          , I = "[object Boolean]"
          , D = "[object Date]"
          , B = "[object Map]"
          , M = "[object Number]"
          , O = "[object RegExp]"
          , R = "[object Set]"
          , N = "[object String]"
          , V = "[object Symbol]"
          , j = "[object ArrayBuffer]"
          , F = "[object DataView]"
          , G = "[object Float32Array]"
          , U = "[object Float64Array]"
          , H = "[object Int8Array]"
          , K = "[object Int16Array]"
          , W = "[object Int32Array]"
          , Q = "[object Uint8Array]"
          , Y = "[object Uint8ClampedArray]"
          , $ = "[object Uint16Array]"
          , Z = "[object Uint32Array]";
        var q = function(e, t, i) {
            var a = e.constructor;
            switch (t) {
            case j:
                return _(e);
            case I:
            case D:
                return new a(+e);
            case F:
                return x(e, i);
            case G:
            case U:
            case H:
            case K:
            case W:
            case Q:
            case Y:
            case $:
            case Z:
                return z(e, i);
            case B:
                return new a;
            case M:
            case N:
                return new a(e);
            case O:
                return T(e);
            case R:
                return new a;
            case V:
                return P(e)
            }
        }
          , X = i(1372)
          , J = Object.create
          , ee = function() {
            function e() {}
            return function(t) {
                if (!Object(X.a)(t))
                    return {};
                if (J)
                    return J(t);
                e.prototype = t;
                var i = new e;
                return e.prototype = void 0,
                i
            }
        }()
          , te = i(495)
          , ie = i(1627);
        var ae = function(e) {
            return "function" != typeof e.constructor || Object(ie.a)(e) ? {} : ee(Object(te.a)(e))
        }
          , ne = i(1353)
          , re = i(1624)
          , oe = i(487)
          , se = "[object Map]";
        var le = function(e) {
            return Object(oe.a)(e) && Object(b.a)(e) == se
        }
          , ce = i(1626)
          , he = i(1625)
          , pe = he.a && he.a.isMap
          , de = pe ? Object(ce.a)(pe) : le
          , ue = "[object Set]";
        var ge = function(e) {
            return Object(oe.a)(e) && Object(b.a)(e) == ue
        }
          , me = he.a && he.a.isSet
          , fe = me ? Object(ce.a)(me) : ge
          , ye = 1
          , ve = 2
          , be = 4
          , Ae = "[object Arguments]"
          , Ce = "[object Function]"
          , we = "[object GeneratorFunction]"
          , _e = "[object Object]"
          , xe = {};
        xe[Ae] = xe["[object Array]"] = xe["[object ArrayBuffer]"] = xe["[object DataView]"] = xe["[object Boolean]"] = xe["[object Date]"] = xe["[object Float32Array]"] = xe["[object Float64Array]"] = xe["[object Int8Array]"] = xe["[object Int16Array]"] = xe["[object Int32Array]"] = xe["[object Map]"] = xe["[object Number]"] = xe[_e] = xe["[object RegExp]"] = xe["[object Set]"] = xe["[object String]"] = xe["[object Symbol]"] = xe["[object Uint8Array]"] = xe["[object Uint8ClampedArray]"] = xe["[object Uint16Array]"] = xe["[object Uint32Array]"] = !0,
        xe["[object Error]"] = xe[Ce] = xe["[object WeakMap]"] = !1;
        t.a = function e(t, i, o, c, u, m) {
            var A, w = i & ye, _ = i & ve, x = i & be;
            if (o && (A = u ? o(t, c, u, m) : o(t)),
            void 0 !== A)
                return A;
            if (!Object(X.a)(t))
                return t;
            var S = Object(ne.a)(t);
            if (S) {
                if (A = C(t),
                !w)
                    return d(t, A)
            } else {
                var T = Object(b.a)(t)
                  , E = T == Ce || T == we;
                if (Object(re.a)(t))
                    return Object(p.a)(t, w);
                if (T == _e || T == Ae || E && !u) {
                    if (A = _ || E ? {} : ae(t),
                    !w)
                        return _ ? f(t, h(A, t)) : g(t, l(A, t))
                } else {
                    if (!xe[T])
                        return u ? t : {};
                    A = q(t, T, w)
                }
            }
            m || (m = new a.a);
            var k = m.get(t);
            if (k)
                return k;
            if (m.set(t, A),
            fe(t))
                return t.forEach(function(a) {
                    A.add(e(a, i, o, a, t, m))
                }),
                A;
            if (de(t))
                return t.forEach(function(a, n) {
                    A.set(n, e(a, i, o, n, t, m))
                }),
                A;
            var L = x ? _ ? v.a : y.a : _ ? keysIn : s.a
              , P = S ? void 0 : L(t);
            return Object(n.a)(P || t, function(a, n) {
                P && (a = t[n = a]),
                Object(r.a)(A, n, e(a, i, o, n, t, m))
            }),
            A
        }
    },
    1910: function(e, t, i) {
        "use strict";
        var a = function(e) {
            return function(t, i, a) {
                for (var n = -1, r = Object(t), o = a(t), s = o.length; s--; ) {
                    var l = o[e ? s : ++n];
                    if (!1 === i(r[l], l, r))
                        break
                }
                return t
            }
        }()
          , n = i(1454);
        var r = function(e, t) {
            return e && a(e, t, n.a)
        }
          , o = i(1622);
        var s = function(e, t) {
            return function(i, a) {
                if (null == i)
                    return i;
                if (!Object(o.a)(i))
                    return e(i, a);
                for (var n = i.length, r = t ? n : -1, s = Object(i); (t ? r-- : ++r < n) && !1 !== a(s[r], r, s); )
                    ;
                return i
            }
        }(r);
        t.a = s
    },
    1912: function(e, t, i) {
        "use strict";
        var a = i(1918)
          , n = i(1372)
          , r = i(1627);
        var o = function(e) {
            var t = [];
            if (null != e)
                for (var i in Object(e))
                    t.push(i);
            return t
        }
          , s = Object.prototype.hasOwnProperty;
        var l = function(e) {
            if (!Object(n.a)(e))
                return o(e);
            var t = Object(r.a)(e)
              , i = [];
            for (var a in e)
                ("constructor" != a || !t && s.call(e, a)) && i.push(a);
            return i
        }
          , c = i(1622);
        t.a = function(e) {
            return Object(c.a)(e) ? Object(a.a)(e, !0) : l(e)
        }
    },
    1916: function(e, t, i) {
        "use strict";
        var a = i(1796)
          , n = i(1910)
          , r = i(1628);
        var o = function(e) {
            return "function" == typeof e ? e : r.a
        }
          , s = i(1353);
        t.a = function(e, t) {
            return (Object(s.a)(e) ? a.a : n.a)(e, o(t))
        }
    },
    1918: function(e, t, i) {
        "use strict";
        var a = function(e, t) {
            for (var i = -1, a = Array(e); ++i < e; )
                a[i] = t(i);
            return a
        }
          , n = i(1702)
          , r = i(1353)
          , o = i(1624)
          , s = i(1445)
          , l = i(1920)
          , c = Object.prototype.hasOwnProperty;
        t.a = function(e, t) {
            var i = Object(r.a)(e)
              , h = !i && Object(n.a)(e)
              , p = !i && !h && Object(o.a)(e)
              , d = !i && !h && !p && Object(l.a)(e)
              , u = i || h || p || d
              , g = u ? a(e.length, String) : []
              , m = g.length;
            for (var f in e)
                !t && !c.call(e, f) || u && ("length" == f || p && ("offset" == f || "parent" == f) || d && ("buffer" == f || "byteLength" == f || "byteOffset" == f) || Object(s.a)(f, m)) || g.push(f);
            return g
        }
    },
    1920: function(e, t, i) {
        "use strict";
        var a = i(348)
          , n = i(1623)
          , r = i(487)
          , o = {};
        o["[object Float32Array]"] = o["[object Float64Array]"] = o["[object Int8Array]"] = o["[object Int16Array]"] = o["[object Int32Array]"] = o["[object Uint8Array]"] = o["[object Uint8ClampedArray]"] = o["[object Uint16Array]"] = o["[object Uint32Array]"] = !0,
        o["[object Arguments]"] = o["[object Array]"] = o["[object ArrayBuffer]"] = o["[object Boolean]"] = o["[object DataView]"] = o["[object Date]"] = o["[object Error]"] = o["[object Function]"] = o["[object Map]"] = o["[object Number]"] = o["[object Object]"] = o["[object RegExp]"] = o["[object Set]"] = o["[object String]"] = o["[object WeakMap]"] = !1;
        var s = function(e) {
            return Object(r.a)(e) && Object(n.a)(e.length) && !!o[Object(a.a)(e)]
        }
          , l = i(1626)
          , c = i(1625)
          , h = c.a && c.a.isTypedArray
          , p = h ? Object(l.a)(h) : s;
        t.a = p
    },
    1950: function(e, t, i) {
        "use strict";
        var a = i(1916)
          , n = i(244)
          , r = function() {
            return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "").split(" ").filter(Boolean)
        };
        t.a = function(e, t, i) {
            null != e && i !== t && (null != t && t.length > 0 && Object(a.a)(r(t), function(t) {
                n.DomUtil.removeClass(e, t)
            }),
            null != i && i.length > 0 && Object(a.a)(r(i), function(t) {
                n.DomUtil.addClass(e, t)
            }))
        }
    },
    1964: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(35)
              , h = i(1840)
              , p = i(1294)
              , d = i(430)
              , u = i(193)
              , g = i(91)
              , m = i(196)
              , f = i(2173)
              , y = i.n(f)
              , v = {
                WEIGHT_SUCCESS: "WEIGHT_SUCCESS",
                WEIGHT_ERROR: "WEIGHT_ERROR",
                WEIGHT_LOADED: "WEIGHT_LOADED"
            }
              , b = o.a.View.extend(d.a).extend({
                template: n.a.template(y.a),
                events: {
                    "click .btn-form": "onSaveButtonClicked"
                },
                propertyFiles: ["/units/units", "/common/common", "/reportswidget/reportswidget", "/userprofile/userprofile"],
                initialize: function(e) {
                    this.displaySaveButton = !n.a.isUndefined(e.displaySaveButton) && e.displaySaveButton,
                    this.displayWeightLabel = !!n.a.isUndefined(e.displayWeightLabel) || e.displayWeightLabel,
                    this.maxView = !!n.a.isUndefined(e.maxView) || e.maxView,
                    this.prompt = e.prompt,
                    this.title = e.title || null,
                    this.weightDate = e.weightDate || null,
                    this.parser = new m.a
                },
                render: function() {
                    var e = s.a.localize("weight_unit_statute");
                    this.isMetric() && (e = s.a.localize("weight_unit_metric"));
                    var t = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        weightLabel: e,
                        maxLength: 5,
                        displaySaveButton: this.displaySaveButton,
                        maxView: this.maxView,
                        prompt: this.prompt,
                        title: this.title
                    });
                    this.$el.html(t),
                    this.displayWeightLabel || this.$(".weight-label").hide(),
                    this.setupWeightValidator(),
                    this.trigger(v.WEIGHT_LOADED)
                },
                destroy: function() {
                    this.$(".tooltip-error").remove()
                },
                setupWeightValidator: function() {
                    var e = this
                      , t = new u.a({
                        message: s.a.localize("invalid_weight_message_short"),
                        element: this.$("input#user-weight"),
                        container: this.$el
                    });
                    this.weightValidator = new p.a({
                        element: this.$("input#user-weight"),
                        minValue: g.a.minWeight,
                        maxValue: g.a.maxWeight,
                        required: !0,
                        reporter: t,
                        parser: {
                            parse: function(t) {
                                if ("decimal_comma" === c.a.getNumberFormat() && t.includes("."))
                                    throw "invalid number";
                                if ("decimal_period" === c.a.getNumberFormat() && t.includes(","))
                                    throw "invalid number";
                                return e.parser.parse(t)
                            }
                        }
                    })
                },
                isMetric: function() {
                    return c.a.getMeasurementSystem() === l.a.MeasurementSystems.METRIC
                },
                onSaveButtonClicked: function(t) {
                    if (t && t.preventDefault(),
                    this.weightValidator.validateInputNow())
                        return !1;
                    var i = (new m.a).parse(this.$("#user-weight").val())
                      , a = l.a.convertWeightToKg(i);
                    if (e.trim(a).length > 0) {
                        var r = n.a.isNull(this.weightDate) ? e.datepicker.formatDate("yy-mm-dd", new Date) : this.weightDate
                          , o = new h.a({
                            value: a,
                            unitKey: "kg",
                            date: r
                        })
                          , s = this;
                        return o.save(o.attributes, {
                            success: function(e, t, i) {
                                s.$(".alert-error").hide(),
                                s.trigger(v.WEIGHT_SUCCESS, e.get("value"))
                            },
                            error: function(e, t, i) {
                                s.$(".alert-error").show(),
                                s.trigger(v.WEIGHT_ERROR, {
                                    model: e,
                                    response: t,
                                    options: i
                                })
                            }
                        }),
                        !0
                    }
                    return !1
                }
            });
            b.Events = v,
            t.a = b
        }
        ).call(this, i(9))
    },
    1999: function(e, t, i) {
        "use strict";
        var a = i(436)
          , n = i(437)
          , r = i(81)
          , o = i(80)
          , s = i(82)
          , l = i(10)
          , c = i.n(l)
          , h = i(66)
          , p = i(89)
          , d = i(1685)
          , u = i.n(d)
          , g = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(o.a)(t).apply(this, arguments))
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "getExecutionScoreContent",
                value: function() {
                    return c.a.createElement(c.a.Fragment, null, c.a.createElement(h.DialogTitle, null, c.a.createElement(p.a, {
                        ns: "main_container",
                        content: "help.title"
                    })), c.a.createElement(h.DialogContent, null, c.a.createElement("div", null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    })), c.a.createElement("p", {
                        className: u.a.headerText
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "hitting_training_targets_description"
                    })), c.a.createElement("div", {
                        className: u.a.executionScoreExample
                    }, c.a.createElement("div", {
                        className: u.a.gridAlignCenter
                    }, c.a.createElement(h.DataBlock, {
                        size: "xsmall"
                    }, c.a.createElement(h.DataField, null, "30m"), c.a.createElement(h.DataLabel, null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "time_in_target_zone"
                    }))), c.a.createElement("hr", {
                        className: u.a.fractionEqual
                    }), c.a.createElement(h.DataBlock, {
                        size: "xsmall"
                    }, c.a.createElement(h.DataField, null, "60m"), c.a.createElement(h.DataLabel, null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "total_measured_time"
                    })))), c.a.createElement("div", {
                        className: u.a.result
                    }, c.a.createElement("div", {
                        className: u.a.middle
                    }, c.a.createElement(h.DataBlock, {
                        size: "xsmall"
                    }, c.a.createElement(h.DataField, null, c.a.createElement("span", {
                        className: [u.a.dot, u.a.yellow, u.a.scoreDot].join(" ")
                    }), c.a.createElement("span", {
                        className: u.a.scoreSmall
                    }, "50%")), c.a.createElement(h.DataLabel, null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    })))))), c.a.createElement("span", {
                        className: u.a.h4
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "using_your_score_in_workouts"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "using_your_score_in_workouts_description"
                    })), c.a.createElement("div", {
                        className: "marBottomSM"
                    }, c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.green].join(" ")
                    }), c.a.createElement("strong", null, c.a.createElement(p.a, {
                        ns: "common",
                        content: "good"
                    })), c.a.createElement("div", {
                        className: "marLeftSM"
                    }, "100% - 67%")), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.yellow].join(" ")
                    }), c.a.createElement("strong", null, c.a.createElement(p.a, {
                        ns: "common",
                        content: "average"
                    })), c.a.createElement("div", {
                        className: "marLeftSM"
                    }, "66% - 34%")), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.red].join(" ")
                    }), c.a.createElement("strong", null, c.a.createElement(p.a, {
                        ns: "weightwidget",
                        content: "low"
                    })), c.a.createElement("div", {
                        className: "marLeftSM"
                    }, "33% - 0%"))), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "improve_future_training_score"
                    })), c.a.createElement("h5", {
                        className: u.a.h5
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "staying_on_target"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "staying_on_target_description"
                    })))))
                }
            }, {
                key: "getSelfEvaluationContent",
                value: function() {
                    return c.a.createElement(c.a.Fragment, null, c.a.createElement(h.DialogTitle, null, c.a.createElement(p.a, {
                        ns: "main_container",
                        content: "help.title"
                    })), c.a.createElement(h.DialogContent, null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "self_evaluation"
                    })), c.a.createElement("span", {
                        className: u.a.h5
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "self_evaluation_description"
                    })), c.a.createElement("div", {
                        className: "marBottomSM"
                    }), c.a.createElement(h.Accordion, null, c.a.createElement(h.AccordionItem, {
                        index: "feel"
                    }, c.a.createElement(h.AccordionItemSummary, null, c.a.createElement("span", {
                        className: u.a.selfEvaluationAccordionTitle
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "how_did_you_feel"
                    }))), c.a.createElement(h.AccordionItemDetails, null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "rating_your_feelings"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "rating_your_feelings_description"
                    })), c.a.createElement("span", {
                        className: u.a.h5
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "perspective_on_performance"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "perspective_on_performance_description"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "perspective_on_performance_scale_description"
                    })))), c.a.createElement(h.AccordionItem, {
                        index: "effort"
                    }, c.a.createElement(h.AccordionItemSummary, null, c.a.createElement("span", {
                        className: u.a.selfEvaluationAccordionTitle
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "perceived_effort"
                    }))), c.a.createElement(h.AccordionItemDetails, null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "how_hard_did_you_work"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "how_hard_did_you_work_description"
                    })), c.a.createElement("span", {
                        className: u.a.h4
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "tracking_effort"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "tracking_effort_description"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "perceived_effort_breakdown"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.blue].join(" ")
                    }), "1 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "very_light"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.lightblue].join(" ")
                    }), "2 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "light"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.green].join(" ")
                    }), "3 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "moderate"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.green].join(" ")
                    }), "4 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "somewhat_hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.lime].join(" ")
                    }), "5-6 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.yellow].join(" ")
                    }), "7-8 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "very_hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.orange].join(" ")
                    }), "9 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "extremely_hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.red].join(" ")
                    }), "10 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "maximum"
                    })))))))
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.openModal
                      , i = e.onCloseModal
                      , a = e.content;
                    return c.a.createElement("div", {
                        className: u.a.selfEvaluationTitleContainer
                    }, c.a.createElement(h.Dialog, {
                        open: t,
                        onClose: i
                    }, "execution-score" === a ? this.getExecutionScoreContent() : this.getSelfEvaluationContent()))
                }
            }]),
            t
        }(c.a.PureComponent);
        t.a = g
    },
    2000: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(11)
          , s = i(1322)
          , l = i(1296)
          , c = i(1313)
          , h = s.a.extend({
            fillColor: l.a.mapSeriesType(c.a.Elevation),
            primarySeriesType: c.a.Elevation,
            formattingFunction: n.a.bind(o.a.formatElevation, o.a),
            chartTitle: function() {
                var e = this.activitySummary.get("activityTypeDTO").typeKey
                  , t = o.a.getSpeedTypeFromActivityType(e);
                return r.a.localize(t === o.a.SpeedTypes.Flying ? o.a.getElevationLabelKey(e) : "label_elevation")
            }
        });
        t.a = h
    },
    2001: function(e, t, i) {
        "use strict";
        var a = i(11)
          , n = i(1322);
        t.a = n.a.extend({
            measurementSystem: function() {
                var e = this.activitySummary.get("unitOfPoolLength").unitKey;
                return a.a.poolUnitKeyToMeasurementSystem(e)
            },
            step: !0,
            onPlayerTimeChanged: function() {
                this.currentXAxisLabelText && (this.currentXAxisLabelText.destroy(),
                this.currentXAxisLabelText = null),
                this.currentXAxisLabelBox && (this.currentXAxisLabelBox.destroy(),
                this.currentXAxisLabelBox = null),
                this.highChartObj.xAxis[0].removePlotLine(this.plotLineId);
                var e = this.playerModel.get("x");
                this.highChartObj.xAxis[0].addPlotLine({
                    color: "#222222",
                    value: e,
                    width: 1,
                    id: this.plotLineId,
                    zIndex: 3
                });
                for (var t = this.highChartObj.series[0].points, i = t.length, a = 0; a < i && !(t[a].x >= e); a++)
                    ;
                var n = t[Math.min(t.length - 2, a - 1)];
                n && (this.highChartObj.tooltip.refresh(n),
                this.currentPlotLinePoint = n,
                this.renderXAxisPlotLineLabel())
            }
        })
    },
    2002: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(1330)
          , o = i(2368)
          , s = i.n(o);
        t.a = r.a.extend({
            template: n.a.template(s.a)
        })
    },
    2003: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(438)
              , h = i(31)
              , p = i(2004)
              , d = i(2370)
              , u = i.n(d);
            t.a = o.a.View.extend({
                template: n.a.template(u.a),
                events: {
                    "click .toggle-add-gear": "onAddGearBtnClicked"
                },
                initialize: function(e) {
                    this.selectedGear = e.selectedGear,
                    this.readOnly = e.readOnly,
                    this.isEditPage = e.isEditPage,
                    this.listenTo(this.selectedGear, "add", this.render),
                    this.listenTo(this.selectedGear, "remove", this.render)
                },
                render: function() {
                    var e = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        gearCount: this.selectedGear.length,
                        readOnly: this.readOnly,
                        isEditPage: this.isEditPage
                    });
                    this.$el.html(e)
                },
                onAddGearBtnClicked: function(t) {
                    if (t.preventDefault(),
                    this.pushClickAddGearAnalyticsEvents(),
                    this.readOnly) {
                        var i = this.$("a").attr("href")
                          , a = e(i).offset().top - 50;
                        e("html, body").stop().animate({
                            scrollTop: a
                        }, 500)
                    } else {
                        var n = new p.a({
                            model: this.model,
                            selectedGear: this.selectedGear
                        })
                          , r = new h.a({
                            modalTitle: s.a.localize("label_edit_gear"),
                            view: n,
                            showFooter: !1
                        });
                        n.on("ON_DEPENDENCIES_LOADED", function() {
                            n.render(),
                            r.render()
                        }, this),
                        n.load()
                    }
                },
                pushClickAddGearAnalyticsEvents: function() {
                    c.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Click Add Gear From Header"
                    })
                }
            })
        }
        ).call(this, i(9))
    },
    2004: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(1505)
              , h = i(1389)
              , p = i(83)
              , d = i(18)
              , u = i(430)
              , g = i(37)
              , m = i(2369)
              , f = i.n(m);
            i(1580);
            t.a = o.a.View.extend(u.a).extend({
                template: n.a.template(f.a),
                events: {
                    "click .add-gear-link": "onAddOrManageGearClicked",
                    "click .manage-gear-link": "onAddOrManageGearClicked",
                    "click li": "onGearToggled"
                },
                initialize: function(e) {
                    this.selectedGear = e.selectedGear,
                    this.availableGear = new c.a([],{
                        criteria: {
                            availableGearDate: d.a.formatISODate(p.a.parseISO(this.model.get("startTimeGMT"))),
                            userProfilePk: this.model.getOwnerId()
                        }
                    })
                },
                provideDependencies: function(e, t) {
                    e.addModel({
                        model: this.availableGear,
                        required: !0
                    })
                },
                render: function() {
                    var e = this.availableGear.toJSON();
                    n.a.each(e, function(e) {
                        var t = this.availableGear.get(e.uuid);
                        e.fullDisplayName = h.a.getFullGearDisplayNameByModel(t)
                    }, this),
                    e = n.a.sortBy(e, function(e) {
                        return e.fullDisplayName
                    });
                    var t = n.a.filter(e, function(e) {
                        return "shoes" === e.gearTypeName.toLowerCase()
                    })
                      , i = n.a.filter(e, function(e) {
                        return "bike" === e.gearTypeName.toLowerCase()
                    })
                      , a = n.a.reject(e, function(e) {
                        return "shoes" === e.gearTypeName.toLowerCase() || "bike" === e.gearTypeName.toLowerCase()
                    })
                      , r = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        shoes: t,
                        bikes: i,
                        others: a,
                        gearCount: e.length
                    });
                    this.$el.html(r),
                    this.updateSelections()
                },
                linkGearToActivity: function(t) {
                    e.ajax({
                        type: "POST",
                        cache: !1,
                        beforeSend: function(e) {
                            e.setRequestHeader("X-HTTP-Method-Override", "PUT")
                        },
                        url: "/modern/proxy/gear-service/gear/link/" + t + "/activity/" + this.model.id,
                        success: n.a.bind(this.onLinkUnlinkSuccess, this, t, !0),
                        error: n.a.bind(this.onLinkUnlinkError, this, t, !0)
                    })
                },
                unlinkGearFromActivity: function(t) {
                    e.ajax({
                        type: "POST",
                        cache: !1,
                        beforeSend: function(e) {
                            e.setRequestHeader("X-HTTP-Method-Override", "PUT")
                        },
                        url: "/modern/proxy/gear-service/gear/unlink/" + t + "/activity/" + this.model.id,
                        success: n.a.bind(this.onLinkUnlinkSuccess, this, t, !1),
                        error: n.a.bind(this.onLinkUnlinkError, this, t, !1)
                    })
                },
                onLinkUnlinkSuccess: function(e, t) {
                    if (this.linkPending = !1,
                    this.getGearListItem(e).removeClass("saving"),
                    t) {
                        var i = this.availableGear.get(e);
                        this.selectedGear.add(i)
                    } else
                        this.selectedGear.remove(e);
                    this.updateSelections()
                },
                onLinkUnlinkError: function(e, t) {
                    this.linkPending = !1,
                    this.getGearListItem(e).removeClass("saving")
                },
                onGearToggled: function(t) {
                    if (!this.linkPending) {
                        this.linkPending = !0;
                        var i = e(t.currentTarget)
                          , a = i.attr("id").substr(10);
                        i.hasClass("active") ? this.unlinkGearFromActivity(a) : this.linkGearToActivity(a),
                        i.addClass("saving")
                    }
                },
                onAddOrManageGearClicked: function(e) {
                    g.default.anchorTagHandler(e) && this.trigger("ON_CLOSE")
                },
                updateSelections: function() {
                    this.$("li").removeClass("active"),
                    this.selectedGear.each(function(e) {
                        this.getGearListItem(e.id).addClass("active")
                    }, this)
                },
                getGearListItem: function(e) {
                    return this.$("#edit-gear-" + e)
                }
            })
        }
        ).call(this, i(9))
    },
    2062: function(e, t) {
        e.exports = '    <div class="loading-mask" style="display: none;">\n        <div class="open-express">\n            <h3 class="bottom-m"><%- Localizer.localize(\'agent.connecting\') %></h3>\n            <p><%- Localizer.localize(\'agent.wait\') %></p>\n        </div>\n        <div class="still-waiting text-left alert alert-info bottom-none" style="display: none;">\n            <p><%- Localizer.localize(\'send.to.device.message\') %></p>\n            <p><%= Localizer.localize(\'send.to.device.message2\') %></p>\n        </div>\n    </div>\n\n    <div class="message message-error margin-small-all queue-error" style="display: none">\n        <p><%- Localizer.localize(\'queue.error\') %></p>\n    </div>\n\n    <% if (hasDevices) { %>\n        <div id="send-body">\n            <span class="header-content-placeholder"></span>\n            <span class="additional-content-placeholder"></span>\n\n            <% if (devices && devices.length > 0) { %>\n            <select class="bottom-m select selected-device" aria-label="<%- Localizer.localize(\'select.one\') %>">\n                <% for (var i = 0; i < devices.length; i++) { %>\n                <option value="<%- devices[i].get(\'deviceId\') %>"><%- devices[i].get(\'displayName\') %></option>\n                <% }; %>\n            </select>\n            <div class="conflicting-values-warning bottom-s hide">\n                <p class="conflicting-values-warning-content text-left alert alert-warning"></p>\n            </div>\n            <p><a href="#" class="btn btn-large device-selected"><%- Localizer.localize(\'queue.send.now\') %></a></p>\n            <% } else { %>\n            <div><%- Localizer.localize(\'no.devices.found\') %></div>\n            <% } %>\n\n\n            <div class="need-help">\n                <a href="#" class="colored need-help-link open-help"><%- Localizer.localize(\'agent.need.help\') %></a>\n                <a href="#" class="colored close-help" style="display: none;"><%- Localizer.localize(\'agent.close.help\') %></a>\n            </div>\n            <div class="send-help text-left" style="display: none;">\n                <h4><%- Localizer.localize(\'agent.help.title\') %></h4>\n                <p><%- Localizer.localize(\'agent.help.reason\') %></p>\n                <ul>\n                    <li><%- Localizer.localize(\'device.not.supported\') %></li>\n                    <li><%- Localizer.localize(\'device.not.setup\') %></li>\n                </ul>\n                <p><%= Localizer.localize(\'agent.download.info\') %></p>\n                <hr>\n                <h4><%- Localizer.localize(\'agent.help.title2\') %></h4>\n                <p><%- Localizer.localize(\'device.send.course.title\') %></p>\n                <ul>\n                    <li><%- Localizer.localize(\'device.send.course.info\') %></li>\n                    <li><%- Localizer.localize(\'device.send.course.info2\') %></li>\n                    <li><%- Localizer.localize(\'device.send.course.info3\') %></li>\n                </ul>\n\n            </div>\n        </div>\n\n    <% } else { %>\n\n    <div id="download-body">\n        <p><%- Localizer.localize(\'agent.additional.info\') %></p>\n        <div class="text-center">\n            <p><a href="/modern/activity-sync" class="btn btn-large"><%- Localizer.localize(\'agent.download\') %></a></p>\n        </div>\n        <div class="text-center get-started-overview top-m">\n            <div class="get-started-item">\n                <div class="get-started-img download"></div>\n                <span><%- Localizer.localize(\'agent.download.install\') %></span>\n            </div>\n            <div class="get-started-item">\n                <div class="get-started-img plug-in"></div>\n                <span><%- Localizer.localize(\'agent.plugin\') %></span>\n            </div>\n            <div class="get-started-item">\n                <div class="get-started-img link-device"></div>\n                <span><%- Localizer.localize(\'agent.link.device\') %></span>\n            </div>\n            <div class="get-started-item">\n                <div class="get-started-img connect"></div>\n                <span><%- Localizer.localize(\'gc\') %></span>\n            </div>\n        </div>\n    </div>\n    <% }  %>\n\n'
    },
    2063: function(e, t) {
        e.exports = "<div class=\"send-help text-left\">\n    <h4><%-Localizer.localize('agent.help.title')%></h4>\n    <p><%-Localizer.localize('agent.help.reason')%></p>\n    <ul>\n        <li><%-Localizer.localize('device.not.supported')%></li>\n        <li><%-Localizer.localize('device.not.setup')%></li>\n    </ul>\n    <p><%=Localizer.localize('agent.download.info')%></p>\n    <h4><%-Localizer.localize('agent.help.title2')%></h4>\n    <p><%-Localizer.localize('segment_send_to_device_what_does')%></p>\n</div>"
    },
    2074: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(2075)
          , l = i.n(s)
          , c = o.a.View.extend({
            template: n.a.template(l.a),
            events: {},
            initialize: function(e) {
                return this.width = e.width,
                this.height = e.height,
                this.poster = e.poster,
                this.sources = e.sources,
                this.subtitles = e.subtitles,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    width: this.width,
                    height: this.height,
                    poster: this.poster,
                    sources: this.sources,
                    subtitles: this.subtitles
                })),
                this
            }
        });
        c.Events = {},
        t.a = c
    },
    2075: function(e, t) {
        e.exports = '<video id="video" width="<%- width %>" crossorigin="anonymous"  controls controlslist="nodownload" preload="metadata" poster="<%- poster %>" >\n    <% sources.forEach(function(source) { %>\n        <source src="<%- source.src %>" type="<%- source.type %>">\n    <% }); %>\n    <% subtitles.forEach(function(track) { %>\n        <track label="<%- track.language %>" kind="subtitles" srclang="<%- track.srcLang %>" src="<%-track.src %>" <% if (track.default) { print(\'default\');} %>>\n    <% }); %>\n</video>'
    },
    2080: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.i(i(1291), void 0),
        t.push([e.i, ".page.activity-detail .activity-type-icon {\n        width: 60px;\n        height: 60px;\n        line-height: 60px;\n        margin-top: -4px;\n        margin-right: 11px;\n        font-size: 35px;\n        box-shadow: 0 0 0 2px #ccc;\n        text-align: center;\n        border-radius: 50%;\n        background-color: " + i(243).locals.lightui_surface_1 + ";\n        color: " + i(243).locals.iconSecondary + ";\n    }\n.page.activity-detail .page-header-content {\n        width: calc(100% - 50px);\n    }\n.page.activity-edit .page-header-content {\n        width: auto;\n    }\n.page.activity-detail .page-feature {\n        position: relative;\n    }\n.page.activity-edit .page-feature {\n        min-height: 22px;\n        height: auto;\n    }\n.page.activity-detail .page-header-content .page-title .data-bit {\n        margin-top: -4px;\n    }\n.page.activity-detail .page-header-content .page-title .inline-edit-editable,\n    .page.activity-detail .page-header-content .page-title .page-title-overflow {\n        max-width: calc(100% - 110px);\n    }\n.page.activity-detail .page-header-content .page-title .page-title-overflow {\n        display: inline-block;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n.page.activity-detail .page-header-content .page-title .inline-edit-editable-text.page-title-overflow {\n        text-overflow: inherit;\n        max-width: 100%;\n    }\n.page.activity-detail .page-header-content .date-block {\n        margin-top: -36px;\n        position: relative;\n        z-index: 1;\n    }\n.page.activity-detail .activity-detail-title input {\n        margin-top: -4px;\n        line-height: 15px;\n        padding: 0 4px;\n        box-shadow: inset 0 2px #eee;\n    }\n.page.activity-detail .activity-title-time {\n        cursor: pointer;\n        border-bottom: 1px dotted #999;\n    }\n.page.activity-detail .icon-personal-records {\n        color: #ff9e0d;\n        vertical-align: middle;\n    }\n.page.activity-detail .page-title .icon-personal-records {\n        font-size: 18px;\n        height: 18px;\n        width: 18px;\n        line-height: 18px;\n        margin-top: -18px;\n        margin-left: 8px;\n    }\n.page.activity-detail .multisport-nav .icon-personal-records {\n        font-size: 16px;\n        height: 16px;\n        width: 16px;\n        line-height: 16px;\n        margin-top: -5px;\n        margin-left: 3px;\n    }\n.page.activity-detail .overflow-nav-container.overflow .multisport-nav {\n        padding-left: 30px;\n    }\n.page.activity-detail .multisport-nav > li:first-child {\n        position: relative;\n        margin-right: 20px;\n        margin-left: 10px;\n    }\n.page.activity-detail .multisport-nav > li:first-child:after {\n        content: '';\n        display: block;\n        border-left: 1px solid #eee;\n        padding: 0;\n        margin: 10px;\n        height: 75px;\n        width: 0;\n        position: absolute;\n        left: 100%;\n        top: 0;\n    }\n.page.activity-detail .multisport-nav > li:first-child a {\n        padding-left: 20px;\n        padding-right: 20px;\n    }\n.page.activity-detail .multisport-nav > li:first-child .time {\n        font-weight: 600;\n    }\n.page.activity-detail .event-type,\n    .page.activity-detail .course-type {\n        margin-right: 10px;\n    }\n.page.activity-detail .event-type .dropdown-menu {\n        z-index: 2;\n    }\n.page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n.modal .rd-color {\n        display: inline-block;\n        height: 20px;\n        width: 20px;\n        vertical-align: middle;\n        border-radius: 20px;\n        margin-right: 10px;\n        margin-top: -2px;\n    }\n.page.activity-detail .mtbStat .data-block {\n        display: inline-block;\n        margin-left: 20px;\n        margin-bottom: 20px;\n    }\n.page.activity-detail .mtbStat .trophy-container {\n        width: 20px;\n        height: 20px;\n        position: absolute;\n        margin-left: 30px;\n    }\n.page.activity-detail .has-tooltip.jump-icon {\n        margin-top: 7px;\n    }\n.page.activity-detail .mtbStat .trophy-container > .icon-personal-records {\n        color: black;\n    }\n.page.activity-detail .leaflet-popup.jump-map-tooltip {\n        opacity: 0.9 !important;\n    }\n.jump-tooltip-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n        font-size: 12px;\n    }\n.jump-tooltip-container .tooltip-row {\n        text-align: left;\n    }\n.page.activity-detail .leaflet-popup-content-wrapper,\n    .leaflet-popup-content {\n        border-radius: 3px !important;\n    }\n/*  ======================\n        More about Training Effect\n        ====================== */\n.modal-training-effect .te-feedback {\n        float: left;\n        clear: right;\n        width: 330px;\n    }\n.modal-training-effect .te-score {\n        float: right;\n        width: 175px;\n    }\n.modal-training-effect hr {\n        clear: both;\n    }\n/*FIX OVERLAPPING PILLS ON SMALL WINDOWS AND SIDEBAR OPEN*/\n@media (max-width: 1540px) {\n        .page.activity-detail .stats .btn-group .btn-small {\n            padding: 3px 6px;\n            font-size: 10px;\n        }\n    }\n/*  ======================\n        Primary Stats\n        ====================== */\n.page.activity-detail .nav.multisport-nav {\n        margin-bottom: 26px;\n    }\n.page.activity-detail .stats-primary .data-block {\n        display: inline-block;\n        float: left;\n        box-sizing: border-box;\n        width: 50%;\n        padding-right: 20px;\n    }\n.page.activity-detail .stats-primary .data-label {\n        display: block;\n        margin-top: 6px;\n        line-height: 16px;\n    }\n@media (min-width: 992px) {\n         {\n        /* Detect 3 .data-block elements */\n        /* Detect 4 .data-block elements */\n        /* Detect 5 .data-block elements */\n}\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3) ~ .data-block {\n            width: 33%;\n        }\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4) ~ .data-block {\n            width: 25%;\n        }\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block {\n            width: 20%;\n        }\n    }\n@media (min-width: 992px) and (max-width: 1199px) {\n         {\n        /* Detect 5 .data-block elements */\n}\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) .data-bit,\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block .data-bit {\n            font-size: 22px;\n            line-height: 24px;\n        }\n    }\n/*  ======================\n        Time in Zones\n        ====================== */\n.tab-time-in-zones .table-heart-rate-zones,\n    .tab-time-in-zones .table-power-zones {\n        width: 100%;\n    }\n.tab-time-in-zones * {\n        box-sizing: border-box;\n    }\n.tab-time-in-zones .stat-block > h3 {\n        margin-bottom: 10px;\n    }\n.tab-time-in-zones .heart-rate-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-time {\n        background: " + i(243).locals.lightui_accent_2 + ";\n    }\n.tab-time-in-zones .heart-rate-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-time {\n        background: " + i(243).locals.blue_light_2 + ";\n    }\n.tab-time-in-zones .heart-rate-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-time {\n        background: " + i(243).locals.lime_dark_2 + ";\n    }\n.tab-time-in-zones .heart-rate-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-time {\n        background: " + i(243).locals.orange_light_3 + ";\n    }\n.tab-time-in-zones .heart-rate-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-time {\n        background: " + i(243).locals.red_dark_1 + ";\n    }\n.tab-time-in-zones .power-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-1 .zone-name,\n    .tab-time-in-zones .power-zones .zone-1 .zone-time {\n        background: " + i(243).locals.lightui_accent_2 + "; /*FAD117; */\n    }\n.tab-time-in-zones .power-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-2 .zone-name,\n    .tab-time-in-zones .power-zones .zone-2 .zone-time {\n        background: " + i(243).locals.blue_light_2 + "; /*8264DB; */\n    }\n.tab-time-in-zones .power-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-3 .zone-name,\n    .tab-time-in-zones .power-zones .zone-3 .zone-time {\n        background: " + i(243).locals.lime_dark_2 + "; /*6D8594; */\n    }\n.tab-time-in-zones .power-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-4 .zone-name,\n    .tab-time-in-zones .power-zones .zone-4 .zone-time {\n        background: " + i(243).locals.yellow_primary + "; /*39A9EC; */\n    }\n.tab-time-in-zones .power-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-5 .zone-name,\n    .tab-time-in-zones .power-zones .zone-5 .zone-time {\n        background: " + i(243).locals.orange_light_3 + "; /*50AF12; */\n    }\n.tab-time-in-zones .power-zones .zone-6 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-6 .zone-name,\n    .tab-time-in-zones .power-zones .zone-6 .zone-time {\n        background: " + i(243).locals.red_dark_1 + "; /*F79D0C; */\n    }\n.tab-time-in-zones .power-zones .zone-7 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-7 .zone-name,\n    .tab-time-in-zones .power-zones .zone-7 .zone-time {\n        background: " + i(243).locals.purple_dark_2 + "; /*F4253C; */\n    }\n.tab-time-in-zones .table-heart-rate-zones tr td,\n    .tab-time-in-zones .table-power-zones tr td {\n        border-right: 1px solid #fff;\n        border-bottom: 1px solid #fff;\n        padding: 0px;\n    }\n.tab-time-in-zones .table-heart-rate-zones td > div,\n    .tab-time-in-zones .table-power-zones td > div {\n        padding: 12px 20px;\n    }\n.tab-time-in-zones td.zone-name {\n        width: 30px;\n    }\n.tab-time-in-zones td.zone-name > div {\n        background: rgba(255, 255, 255, 0.6);\n        /*opacity: 20;*/\n        border: none;\n    }\n.tab-time-in-zones td.zone-time {\n        width: 30px;\n    }\n.tab-time-in-zones td.zone-time > div {\n        background: rgba(255, 255, 255, 0.6);\n        text-align: right;\n        border: none;\n        /*opacity: 20;*/\n    }\n.tab-time-in-zones td.zone-percent {\n        position: relative;\n    }\n.tab-time-in-zones td.zone-percent > div {\n        position: absolute;\n        top: 0px;\n        bottom: 0px;\n        padding: 12px 0px;\n    }\n.tab-time-in-zones td.zone-percent > div > span {\n        /*width: 700px;*/\n        display: block;\n        position: absolute;\n        left: 100%;\n        padding-left: 10px;\n    }\n.tab-time-in-zones .heart-rate-zones {\n        margin-bottom: 20px;\n    }\n/*  ======================\n        Charts\n        ======================  */\n.page.activity-detail .chart-header-item {\n        font-size: 14px;\n    }\n.page.activity-detail .chart-list-customize:hover {\n        color: inherit;\n        text-decoration: none;\n    }\n.page.activity-detail .chart-header .chart-zoom-toggle {\n        padding: 0 3px;\n        margin-left: 20px;\n        margin-right: 5px;\n        vertical-align: middle;\n    }\n.page.activity-detail .overlay-item {\n        float: left;\n        margin-left: 30px;\n    }\n.page.activity-detail .chart-name .chart-title {\n        margin-right: 10px;\n    }\n.page.activity-detail .chart-name,\n    .page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        display: inline-block;\n    }\n.page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        margin-left: 30px;\n    }\n.page.activity-detail .chart-max-avg-power .custom-max-avg-power {\n        padding: 0 20px;\n        white-space: nowrap;\n    }\n.page.activity-detail .chart-zoom .overlay-item button {\n        font-size: 18px;\n        font-weight: 100;\n    }\n.page.activity-detail .chart-toggle-options .time-toggle {\n        margin-right: -5px;\n        background-color: " + i(243).locals.primary + ";\n        color: " + i(243).locals.textLight + ";\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n.page.activity-detail .chart-toggle-options .distance-toggle {\n        border-left: 0 transparent;\n        border-radius: 0 4px 4px 0;\n    }\n.page.activity-detail .chart-toggle-options .length-rests-toggle {\n        margin-right: -5px;\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n.page.activity-detail .activity-charts-container .btn-customize-charts {\n        background: transparent;\n        color: black;\n        box-shadow: none;\n        border: 1px solid #ccc;\n        padding: 5px 10px;\n    }\n.page.activity-detail .chart-toggle-options button,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-set,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-cancel {\n        border-radius: 2px;\n        border: 1px solid #ccc;\n        background: transparent;\n        color: black;\n        box-shadow: none;\n    }\n.page.activity-detail .customize-charts-controls .reorder-widgets-set {\n        background-color: #11a9ed;\n        color: " + i(243).locals.textLight + ";\n    }\n.page.activity-detail .customize-charts-list {\n        top: -6px;\n        left: -1px;\n        min-width: 200px;\n        border-radius: 10px;\n        background: white;\n        padding-left: 20px;\n        padding-right: 10px;\n        padding-top: 10px;\n    }\n.page.activity-detail .customize-charts-header {\n        margin-top: -5px;\n        margin-left: -10px;\n    }\n.page.activity-detail .dropdown-menu label {\n        margin-bottom: 10px;\n    }\n.page.activity-detail .sortable-checkboxes .chart-off {\n        display: none;\n    }\n.page.activity-detail .sortable-checkboxes.sort-mode .sortable-checkbox:not(:checked) + .chart-off {\n        display: block;\n        top: 1px;\n    }\n.widget .heart-rate .chart-color-circle,\n    .page.activity-detail .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n.page.activity-detail .no-overlay .chart-color-circle {\n        display: none;\n    }\n.page.activity-detail .chart-zoom .chart-color-circle {\n        height: 16px;\n        width: 16px;\n        margin-top: -4px;\n    }\n.page.activity-detail .stress .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n.page.activity-detail .movement .chart-color-circle {\n        background-color: #b0e1f7;\n    }\n.page.activity-detail .speed .chart-color-circle {\n        background-color: #11a9ed;\n    }\n.page.activity-detail .elevation .chart-color-circle {\n        background-color: #4cb200;\n    }\n.page.activity-detail .breath-rate .chart-color-circle {\n        background-color: #5036a3;\n    }\n.widget .heart-rate .chart-color-circle,\n    .page.activity-detail .heart-rate .chart-color-circle {\n        background-color: #ff0035;\n    }\n.page.activity-detail .performance-condition .chart-color-circle {\n        background-color: #6e8594;\n    }\n.page.activity-detail .cadence .chart-color-circle,\n    .page.activity-detail .stride-length .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n.page.activity-detail .power .chart-color-circle,\n    .page.activity-detail .power-balance .chart-color-circle {\n        background-color: #cf23b8;\n    }\n.page.activity-detail .power-phase-start .chart-color-circle {\n        background-color: #11a9ed;\n    }\n.page.activity-detail .power-phase-end .chart-color-circle {\n        background-color: #50b012;\n    }\n.page.activity-detail .pco-left .chart-color-circle {\n        background-color: #bf0f24;\n    }\n.page.activity-detail .pco-right .chart-color-circle {\n        background-color: #ed7e00;\n    }\n.page.activity-detail .temperature .chart-color-circle {\n        background-color: #6e8594;\n    }\n.page.activity-detail .vertical-o .chart-color-circle,\n    .page.activity-detail .vertical-r .chart-color-circle {\n        background-color: #cf25bb;\n    }\n.page.activity-detail .reset-zoom,\n    .page.activity-detail .chart-zoom .x-axis-value {\n        position: relative;\n        left: 50%;\n        -webkit-transform: translateX(-50%);\n        transform: translateX(-50%);\n    }\n/*  ======================\n        Swim Intervals\n        ======================  */\n.page.activity-detail .modal-body h2,\n    .page.activity-detail .modal-body h5 {\n        display: inline-block;\n    }\n.page.activity-detail .swim-interval .interval-title {\n        font-weight: 600;\n        margin: 22px 0 11px 0;\n    }\n.page.activity-detail .swim-interval .interval-title .distance,\n    .page.activity-detail .swim-interval .interval-title .time {\n        font-weight: 400;\n        font-size: 14px;\n        display: inline-block;\n        margin-left: 8px;\n    }\n.page.activity-detail .swim-length {\n        width: 110px;\n        height: 55px;\n        line-height: 40px;\n        float: left;\n        text-align: center;\n        background-color: #fafafa;\n        margin-right: -1px;\n        margin-bottom: 8px;\n        border: 1px solid #ddd;\n        overflow: hidden;\n    }\n.page.activity-detail .swim-length.first {\n        border-radius: 30px 0 0 30px;\n    }\n.page.activity-detail .swim-length.last {\n        border-radius: 0 30px 30px 0;\n        margin-right: 5px;\n    }\n.page.activity-detail .swim-length.first .type {\n        padding-left: 15px;\n    }\n.page.activity-detail .swim-length.last .type {\n        padding-right: 15px;\n    }\n.page.activity-detail .swim-length.first.last {\n        border-radius: 30px;\n    }\n.page.activity-detail .swim-length .type,\n    .page.activity-detail .swim-length .first.last .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: rgba(255, 255, 255, 0.7);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n    }\n.page.activity-detail .swim-length .number {\n        background: #ddd;\n        display: inline-block;\n        vertical-align: middle;\n        width: 22px;\n        height: 22px;\n        line-height: 22px;\n        font-size: 12px;\n        border-radius: 50%;\n        color: #444;\n        float: left;\n        margin-top: 10px;\n        margin-left: 15px;\n    }\n.page.activity-detail .swim-length .time {\n        font-weight: 100;\n        font-size: 18px;\n        color: #222;\n        float: right;\n        margin-right: 15px;\n    }\n.page.activity-detail .swim-length.freestyle .type {\n        background: #cf23b8;\n    }\n.page.activity-detail .swim-length.butterfly .type {\n        background: #11a9ed;\n    }\n.page.activity-detail .swim-length.backstroke .type {\n        background: #50b012;\n    }\n.page.activity-detail .swim-length.breaststroke .type {\n        background: #ff0035;\n    }\n.page.activity-detail .swim-length.drill .type {\n        background: #ed7e00;\n    }\n.page.activity-detail .swim-length.drill .number {\n        display: none;\n    }\n.page.activity-detail .swim-length.drill .time {\n        float: none;\n        margin-right: 0;\n    }\n.page.activity-detail .swim-length.mixed .type,\n    .page.activity-detail .swim-length.unknown .type {\n        background: #888;\n    }\n.page.activity-detail .swim-rest {\n        float: left;\n        margin-bottom: 8px;\n        line-height: 40px;\n        background: #ddd;\n        border-radius: 30px;\n        overflow: hidden;\n        width: 90px;\n        text-align: center;\n        border: 1px solid #ddd;\n    }\n.page.activity-detail .swim-rest .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: #eee;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n        background: #bbb;\n    }\n.page.activity-detail .swim-rest .time {\n        font-size: 18px;\n        font-weight: 100;\n    }\n/*  ======================\n        Player\n        ======================  */\n.page.activity-detail .map-controls.player {\n        margin-left: calc(50% - 16px);\n        width: 33px;\n    }\n.page.activity-detail .map-controls button.disabled {\n        display: none;\n    }\n@media (max-width: 415px) {\n        .page.activity-detail #map-controls {\n            display: -webkit-flex;\n            display: flex;\n            -webkit-flex-direction: column;\n                    flex-direction: column;\n        }\n\n        .page.activity-detail #map-controls .map-control-item {\n            margin-bottom: 5px;\n        }\n    }\n/*  ======================\n        Laps checkbox\n        ======================  */\n.page.activity-detail .map-control-item.laps {\n        width: auto;\n        white-space: nowrap;\n    }\n.page.activity-detail .map-control-item.laps label {\n        line-height: 33px;\n        padding-right: 10px;\n    }\n.page.activity-detail .map-control-item.laps label input {\n        margin-top: 11px;\n        margin-right: 5px;\n        margin-left: 10px;\n    }\n/*  ======================\n        Mobile Scroll Toggle\n        ======================  */\n.page.activity-detail .map-control-item.scrolling {\n        clear: left;\n        width: auto;\n        margin-top: 6px;\n        padding-right: 10px;\n        padding-left: 10px;\n        white-space: nowrap;\n    }\n/*  ======================\n        Weather\n        ======================  */\n.page.activity-detail .weather *,\n    .page.activity-detail .weather.large * {\n        transition: 150ms cubic-bezier(0.175, 0.885, 0.305, 1.24);\n        -webkit-transform-style: preserve-3d;\n        transform-style: preserve-3d;\n    }\n.page.activity-detail .weather {\n        right: 10px;\n        left: auto;\n        cursor: pointer;\n        margin-bottom: 5px;\n    }\n.page.activity-detail .weather.not-expandable {\n        cursor: default;\n    }\n.page.activity-detail .weather .map-control-item {\n        margin-right: 0;\n        width: auto;\n        padding: 0 5px;\n        overflow: hidden;\n    }\n.page.activity-detail .weather span {\n        display: inline-block;\n        vertical-align: middle;\n        position: relative;\n        margin: 0 2px;\n    }\n.page.activity-detail .weather .trigger {\n        top: 5px;\n        left: -4px;\n    }\n.page.activity-detail .weather .trigger i {\n        color: " + i(243).locals.iconSecondary + ";\n        font-size: 11px;\n        height: 11px;\n        width: 11px;\n        line-height: 11px;\n        margin-top: 0;\n    }\n.page.activity-detail .weather .temperature {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n.page.activity-detail .weather .humidity-percentage {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n.page.activity-detail .weather .weather-icon {\n        margin-right: 5px;\n    }\n.page.activity-detail .weather .weather-icon img {\n        height: 31px;\n        width: 31px;\n    }\n.page.activity-detail .weather .wind {\n        width: 21px;\n        height: 21px;\n        line-height: 21px;\n        text-align: center;\n        font-size: 12px;\n        border: 1px solid #222;\n        border-radius: 50%;\n        margin-right: 0;\n    }\n.page.activity-detail .weather .wind:before {\n        content: '';\n        display: block;\n        width: 0;\n        height: 15px;\n        border-width: 7px 3px;\n        border-style: solid;\n        border-color: #222 transparent transparent transparent;\n        position: absolute;\n        top: -4px;\n        left: 8px;\n    }\n/*\n    .page.activity-detail .wind-n:before {\n        nothing needed - north is the default\n    }\n    */\n.page.activity-detail .wind-nne:before {\n        -webkit-transform: rotate(22.5deg);\n        transform: rotate(22.5deg);\n    }\n.page.activity-detail .wind-ne:before {\n        -webkit-transform: rotate(45deg);\n        transform: rotate(45deg);\n    }\n.page.activity-detail .wind-ene:before {\n        -webkit-transform: rotate(77.5deg);\n        transform: rotate(77.5deg);\n    }\n.page.activity-detail .wind-e:before {\n        -webkit-transform: rotate(90deg);\n        transform: rotate(90deg);\n    }\n.page.activity-detail .wind-ese:before {\n        -webkit-transform: rotate(112.5deg);\n        transform: rotate(112.5deg);\n    }\n.page.activity-detail .wind-se:before {\n        -webkit-transform: rotate(135deg);\n        transform: rotate(135deg);\n    }\n.page.activity-detail .wind-sse:before {\n        -webkit-transform: rotate(157.5deg);\n        transform: rotate(157.5deg);\n    }\n.page.activity-detail .wind-s:before {\n        -webkit-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n.page.activity-detail .wind-ssw:before {\n        -webkit-transform: rotate(202.5deg);\n        transform: rotate(202.5deg);\n    }\n.page.activity-detail .wind-sw:before {\n        -webkit-transform: rotate(225deg);\n        transform: rotate(225deg);\n    }\n.page.activity-detail .wind-wsw:before {\n        -webkit-transform: rotate(247.5deg);\n        transform: rotate(247.5deg);\n    }\n.page.activity-detail .wind-w:before {\n        -webkit-transform: rotate(270deg);\n        transform: rotate(270deg);\n    }\n.page.activity-detail .wind-wnw:before {\n        -webkit-transform: rotate(292.5deg);\n        transform: rotate(292.5deg);\n    }\n.page.activity-detail .wind-nw:before {\n        -webkit-transform: rotate(315deg);\n        transform: rotate(315deg);\n    }\n.page.activity-detail .wind-nnw:before {\n        -webkit-transform: rotate(337.5deg);\n        transform: rotate(337.5deg);\n    }\n.page.activity-detail .weather .map-control-item .details {\n        display: none;\n    }\n.page.activity-detail .weather.weather-large .map-control-item {\n        height: 70px;\n        border-radius: 35px;\n        padding-right: 10px;\n    }\n.page.activity-detail .weather.weather-large .trigger {\n        top: -4px;\n        left: -3px;\n        -webkit-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n.page.activity-detail .weather.weather-large .temperature {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n.page.activity-detail .weather.weather-large .humidity-percentage {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n.page.activity-detail .weather.weather-large .weather-icon img {\n        width: 70px;\n        height: 70px;\n    }\n.page.activity-detail .weather.weather-large .wind {\n        font-size: 18px;\n        width: 35px;\n        height: 35px;\n        line-height: 35px;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n.page.activity-detail .weather.weather-large .wind:before {\n        border-width: 11px 4px;\n        height: 25px;\n        left: 13px;\n        top: -6px;\n    }\n.page.activity-detail .weather.weather-large .details {\n        display: inline-block;\n        margin: 4px 8px 8px 0;\n    }\n.page.activity-detail .weather .details ul {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        font-size: 12px;\n    }\n.page.activity-detail .weather .details li {\n        margin: 0;\n        padding: 0;\n        line-height: 1.4;\n    }\n.page.activity-detail .weather .details .source {\n        font-size: 9px;\n        color: " + i(243).locals.textMedium + ";\n    }\n@media (max-width: " + i(1291).locals.endXS + ") {\n        .page.activity-detail .weather.weather-large .map-control-item {\n            max-width: 270px;\n        }\n\n        .page.activity-detail .weather .weather-icon {\n            max-width: 40px;\n        }\n\n        .page.activity-detail .weather.weather-large .temperature {\n            font-size: 20px;\n            margin-left: 5px;\n        }\n\n        .page.activity-detail .weather.weather-large .weather-icon img {\n            width: 35px;\n            height: 35px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind {\n            font-size: 16px;\n            width: 25px;\n            height: 25px;\n            line-height: 25px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind:before {\n            height: 20px;\n            left: 9px;\n            top: -8px;\n        }\n\n        .page.activity-detail .weather.weather-large .details {\n            margin: 4px 4px 4px 0;\n        }\n    }\n/*  ======================\n        Splits and intervals table\n        ======================  */\n.page.activity-detail .tab-overflow {\n        overflow: scroll;\n    }\n.page.activity-detail .splits-table th,\n    .page.activity-detail .intervals-table th {\n        white-space: nowrap;\n        padding-left: 20px;\n        text-align: right;\n    }\n.page.activity-detail .splits-table th:nth-child(1),\n    .page.activity-detail .splits-table th:nth-child(2),\n    .page.activity-detail .intervals-table th:nth-child(2) {\n        text-align: center;\n    }\n.page.activity-detail .intervals-table th:nth-child(2) {\n        padding-right: 20px;\n    }\n.page.activity-detail .splits-table td,\n    .page.activity-detail .intervals-table td {\n        text-align: right;\n        white-space: nowrap;\n    }\n.page.activity-detail .splits-table td:nth-child(1),\n    .page.activity-detail .splits-table td:nth-child(2),\n    .page.activity-detail .intervals-table td:nth-child(2) {\n        text-align: center;\n    }\n.page.activity-detail .splits-table tfoot,\n    .page.activity-detail .intervals-table tfoot {\n        font-weight: bold;\n    }\n.page.activity-detail .activity-intervals-tab-content-placeholder {\n        overflow: auto;\n        min-height: 190px;\n    }\n.page.activity-detail .activity-filter-table-tab-content {\n        overflow: auto;\n        min-height: 190px;\n    }\n/*  ======================\n        Gases and Tanks table\n        ======================  */\n.page.activity-detail .gases-and-tanks-table th,\n    .page.activity-detail .gases-and-tanks-table td {\n        white-space: nowrap;\n        padding-left: 10px;\n        padding-right: 10px;\n        text-align: center;\n    }\n/* Embed modal */\n.embed-activity-input[type='text'] {\n        margin-bottom: 11px;\n        width: 97%;\n        cursor: pointer;\n    }\n.embed-activity-iframe {\n        margin-left: 30px;\n    }\n.modal.activity-detail-embed .modal-body {\n        max-height: 600px;\n    }\n/* Create / Find segment button */\n.page.activity-detail .activity-segments-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n    }\n.page.activity-detail .create-segment .icon-add {\n        font-size: 12px;\n        height: 12px;\n        width: 12px;\n        line-height: 12px;\n        margin-top: 4px;\n        margin-right: 5px;\n    }\n.page.activity-detail .segment-match-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n    }\n.page.activity-detail .segment-match-container .segment-match-actions {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-justify-content: flex-end;\n                justify-content: flex-end;\n    }\n/* Segments table */\n.page.activity-detail .segments-table {\n        table-layout: fixed;\n    }\n.page.activity-detail .segments-table .segment-name {\n        min-width: 190px;\n    }\n.page.activity-detail .segments-table .segment-rank {\n        width: 40px;\n    }\n.page.activity-detail .segments-table .segment-link {\n        vertical-align: middle;\n        width: 100%;\n    }\n.page.activity-detail .segments-table .segment-time {\n        width: 75px;\n    }\n.page.activity-detail .segments-table .segment-pace {\n        width: 90px;\n    }\n.page.activity-detail .segments-table .segment-fav,\n    .page.activity-detail .segments-table .segment-visible {\n        width: 25px;\n    }\n.page.activity-detail .segments-table .icon-star.fav {\n        vertical-align: middle;\n    }\n.page.activity-detail .segments-table .icon-eye {\n        vertical-align: middle;\n        font-size: 18px;\n        color: " + i(243).locals.darkui_accent_3 + ";\n        cursor: pointer;\n    }\n.page.activity-detail .segments-table .icon-eye.active {\n        color: " + i(243).locals.iconSecondaryDark + ";\n    }\n@media (max-width: " + i(1291).locals.endSM + ") {\n        .page.activity-detail .segments-table {\n            /* Creates a horizontally scrollable table that moves independently from the page when the page is too narrow */\n            display: block;\n            overflow-x: auto;\n            max-width: 90vw;\n        }\n    }\n/* Additional info */\n.page.activity-detail .additional-info > div {\n        text-align: center;\n    }\n.page.activity-detail .additional-info .device-image img {\n        width: 50%;\n    }\n.page.activity-detail .additional-info .device-name {\n        font-weight: 600;\n    }\n/* mbtester - admin */\n.page.activity-detail .additional-info .admin {\n        background: #e6ff84;\n    }\n.page.activity-detail .power-curve-excluded {\n        margin-top: 40px;\n    }\n.page.activity-detail .power-curve-excluded .heading {\n        font-size: 18px;\n    }\n.page.activity-detail .power-curve-excluded .sub-heading {\n        margin: 20px 0px 10px 0px;\n    }\n/*  ======================\n        Manual Activity Page / Edit Activity\n        ======================  */\n.page.activity-edit .time-zone-select {\n        font-size: 12px;\n        margin-left: 5px;\n        cursor: pointer;\n    }\n.page.activity-edit .time-zone-select > a {\n        display: inline-block;\n        line-height: 11px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n.page.activity-edit .avg-pace-speed {\n        width: auto;\n    }\n.page.activity-edit .advanced-edit-actions-container {\n        display: -webkit-flex;\n        display: flex;\n        width: 210px;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n    }\n/*  ======================\n        Multisport\n        ======================  */\n.page.activity-detail .multisport-nav > li {\n        text-align: center;\n    }\n.page.activity-detail .multisport-nav > li > a {\n        padding-bottom: 10px;\n    }\n.page.activity-detail .multisport-nav > li > a > .icon > i {\n        display: block;\n        margin: 0 auto;\n        font-size: 36px;\n        width: 36px;\n        height: 36px;\n        line-height: 36px;\n    }\n.page.activity-detail .multisport-nav > li > a > .icon > .icon-activity-transition {\n        font-size: 20px;\n    }\n.page.activity-detail .multisport-nav > li > a > .avg-stat {\n        font-size: 10px;\n        line-height: 1;\n        height: 10px;\n    }\n.page.activity-detail .multisport-nav .dropdown-menu i {\n        font-size: 16px;\n        width: 16px;\n        height: 16px;\n        line-height: 16px;\n        margin-right: 10px;\n    }\n.page.activity-detail .multisport-nav .dropdown-menu {\n        text-align: left;\n    }\n/*  ======================\n        Connect IQ Label\n        ======================  */\n.ciq-label {\n        color: " + i(243).locals.textMedium + ";\n        font-size: 12px;\n        width: 12px;\n        height: 11px;\n        line-height: 11px;\n        margin-left: 5px;\n        vertical-align: middle;\n    }\n/*  ======================\n        Media queries for responsive breakpoints\n        ======================  */\n@media (max-width: 1158px) {\n        .page.activity-detail .activity.stats .row-fluid [class*='span'] {\n            width: 100%;\n            margin-left: 0;\n        }\n    }\n/*  ======================\n        Cycling Dynamics Tab\n        ======================  */\n.cycling-dynamics .custom-max-avg-power {\n        display: inline-block;\n        margin-top: -10px;\n    }\n.cycling-dynamics .max-avg-label {\n        margin-right: 5px;\n    }\n.cycling-dynamics .cycling-tab-controls {\n        min-height: 30px;\n    }\n.cycling-dynamics .cycling-tab-controls .input-small {\n        margin-bottom: 0;\n    }\n/*  ======================\n        Platform Center Offset\n        ======================  */\n.cycling-dynamics .pco-content {\n        padding: 0 21px;\n    }\n.cycling-dynamics .pco-content .chart-container {\n        margin: 0 auto;\n        height: 160px;\n    }\n.platform-center-offset > canvas {\n        width: 160px;\n        height: 160px;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n    }\n.platform-center-offset-left > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-left.svg');\n    }\n.platform-center-offset-right > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-right.svg');\n    }\n/*  ======================\n        Peak Power Phase\n        ======================  */\n.power-phase {\n        width: 100%;\n        padding-bottom: 10px;\n        margin-bottom: 20px;\n        border-bottom: 1px solid #ddd;\n    }\n.power-phase-charts {\n        width: 660px;\n        height: 260px;\n        margin: 0 auto;\n    }\n.power-phase-charts > div {\n        width: 325px;\n    }\n.power-phase-charts > div:first-child {\n        float: left;\n    }\n.power-phase-charts > div:last-child {\n        float: right;\n    }\n.power-phase-charts .chart-container {\n        /* Dynamic Highchart Graphic */\n        margin-top: -273px;\n        margin-left: 17px;\n    }\n.power-phase-charts .chart-container sup {\n        font-size: 22px;\n        top: -12px;\n    }\n.power-phase-graphic {\n        /* Background Image */\n        display: inline-block;\n        width: 250px;\n        height: 250px;\n        margin: 0 0 22px 0;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/power-phase.svg');\n    }\n@media (max-width: 1310px) {\n        .cycling-dynamics .custom-max-avg-power {\n            display: block;\n            margin-top: 10px;\n        }\n        .cycling-dynamics #avg-power-range-value {\n            float: none;\n            display: inline-block;\n        }\n    }\n@media (max-width: 640px) {\n        .power-phase-charts {\n            width: 100%;\n        }\n        .power-phase-charts > div {\n            width: 195px;\n        }\n        .power-phase-charts .chart-container {\n            margin-top: -225px;\n            margin-left: -18px;\n        }\n        .power-phase-graphic {\n            width: 200px; /* chart design is small */\n            height: 200px;\n        }\n    }\n@media (max-width: 520px) {\n        .power-phase {\n            border-width: 0;\n        }\n        .power-phase-charts {\n            height: 520px;\n        }\n        .power-phase-charts > div:first-child,\n        .power-phase-charts > div:last-child {\n            float: none;\n            width: 325px;\n            margin: 0 auto 30px auto;\n        }\n        .power-phase .chart-container {\n            margin-top: -274px;\n            margin-left: 19px;\n        }\n        .power-phase-graphic {\n            width: 250px; /* chart design is medium & stacked */\n            height: 250px;\n        }\n    }\n/*  ======================\n        Seated & Standing Position\n        ======================  */\n.cycling-dynamics .seated-standing {\n        padding-left: 20px;\n        padding-right: 20px;\n        margin-bottom: 0;\n        border-left: 1px solid #ddd;\n    }\n.position-seated > span,\n    .position-standing > span {\n        margin: auto auto 0 auto;\n        max-width: 80%;\n        vertical-align: bottom;\n        display: block;\n        width: 200px;\n        height: 160px;\n        background-position: center;\n        background-repeat: no-repeat;\n        margin-left: auto;\n        margin-right: auto;\n    }\n.position-seated > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/seated.svg');\n    }\n.position-standing > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/standing.svg');\n    }\n/*  ======================\n        Media Queries provided by Joshua Johnston (front-end team)\n        ======================  */\n@media (max-width: 1175px) {\n        .pco-content .span6,\n        .seated-standing .span6 {\n            width: 100%; /* stack these graphics early */\n            margin: 0 auto;\n        }\n    }\n@media (max-width: 767px) {\n        .cycling-dynamics .seated-standing {\n            border-left: 0;\n        }\n    }\n@media (max-width: 653px) {\n        .cycling-dynamics .cycling-tab-controls {\n            max-height: 85px;\n        }\n    }\n/*  ======================\n        Activity List Table in Modal\n        ======================  */\n.modal .activity-list .activity-title {\n        width: 250px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        display: inline-block;\n        vertical-align: middle;\n        white-space: nowrap;\n        line-height: 1.3;\n    }\n/*ACTIVITY LIKING*/\n.page-navigation-action .like-link:hover {\n        background: transparent;\n    }\n/*NO PRIVILEGES PAGE*/\n.no-privileges h3 {\n        line-height: 2rem;\n    }\n.no-privileges .locked-activity {\n        font-size: 80px;\n        color: #e5e5e5;\n        display: block;\n        padding-right: 65px;\n    }\n.ciq-info {\n        max-width: 250px;\n        margin: 33px auto 0;\n    }\n.page.activity-detail .ciq-info .app-name a {\n        font-weight: 600;\n    }\n.page.activity-detail .ciq-info .aspect {\n        position: relative;\n        width: 100%;\n        max-width: 80px;\n        margin: 15px auto;\n    }\n.page.activity-detail .ciq-info .aspect-square {\n        padding-top: 100%;\n    }\n.page.activity-detail .ciq-info .aspect-element {\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        top: 0;\n    }\n@media (max-width: 1156px) and (min-width: 414px) {\n        .activity.stats .row-fluid .span3 {\n            width: 48% !important;\n            margin: 0;\n            display: inline-block;\n            float: left;\n        }\n        .activity.stats .row-fluid .span3 {\n            margin-left: 2% !important;\n        }\n    }\n/*iPhone 6+ and smaller*/\n@media screen and (max-device-width: 415px) {\n         {\n\n        /* Layout */\n\n        /* Page Navigation */\n\n        /* Dropdown Menus */\n\n        /* Icons */\n\n        /* Unique Icon Styles */\n\n        /* Type */\n\n        /* Charts */\n}\n        .page.activity-detail .page-header-content .page-title .page-title-overflow {\n            max-width: calc(100% - 50px);\n        }\n        .page.activity-detail .page-title .icon-personal-records {\n            height: 25px;\n        }\n        .page.activity-detail .activity-type-icon {\n            width: 40px;\n            height: 40px;\n            line-height: 40px;\n            margin-top: 0;\n            margin-right: 6px;\n            font-size: 20px;\n            box-shadow: 0 0 0 2px #ccc;\n        }\n        .page.activity-detail .page-header-content .date-block {\n            clear: both;\n        }\n        .chart-header .span4 {\n            display: inline-block;\n        }\n        .page.activity-detail .highcharts-container {\n            /*TO PREVENT THE CARTS FROM BREAKING PAST THE CONTAINER*/\n            margin-left: -10px;\n        }\n        .chart-header .span9 {\n            width: 100%;\n            display: inline-block;\n        }\n        .chart-header .span3 {\n            display: none;\n        }\n        .chart-header .span3 button {\n            font-size: 12px;\n            vertical-align: middle;\n            line-height: 15px;\n        }\n        .row-fluid.chart-header [class*='span'] {\n            float: left;\n        }\n        .page.activity-detail .page-header-content .date-block {\n            margin-top: -24px;\n        }\n        .page.activity-detail .page-header-content {\n            width: calc(100% - 60px);\n        }\n        .page.activity-detail .page-dropdown {\n            display: inline-block;\n        }\n        .page.activity-detail .page-navigation .dropdown-menu {\n            right: -1px;\n            top: -6px;\n        }\n        .page.activity-detail .inline-edit-trigger {\n            width: 28px;\n            height: 28px;\n        }\n        .page.activity-detail .inline-edit-save[class*='icon-'],\n        .page.activity-detail .inline-edit-cancel[class*='icon-'] {\n            height: 28px;\n            width: 28px;\n        }\n        .page.activity-detail .page-title .inline-edit-actions button {\n            margin-top: 7px;\n        }\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-navigation-action:last-child {\n            padding: 3px 7px;\n        }\n        .page.activity-detail .inline-edit-trigger,\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            font-size: 16px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            right: 7px;\n            top: 1px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu > li > a [class^='icon-'] {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown .icon-pointer-down {\n            font-size: 10px;\n        }\n        .page.activity-detail .page-navigation .icon-share,\n        .page.activity-detail .page-dropdown .dropdown-menu .icon-share {\n            font-size: 18px;\n        }\n        .page.activity-detail .help-icon {\n            font-size: 18px;\n            height: 20px;\n            width: 20px;\n        }\n        .page.activity-detail .page-intro .date-block,\n        .page.activity-detail .like,\n        .page.activity-detail .dropdown-menu > li {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown-menu > li > a {\n            line-height: 22px;\n        }\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type,\n        .page.activity-detail .gear-indicator {\n            white-space: nowrap;\n        }\n        .page.activity-detail .chart-header-main .span4 {\n            display: none;\n        }\n        .page.activity-detail .chart-header-main .span4.chart-x-axis-toggle {\n            display: inline-block;\n            width: 100%;\n        }\n        .page.activity-detail .chart-header {\n            margin-top: 11px;\n        }\n    }\n/*ACTIVITY - REP COUNTING*/\n.rep-counting-table td {\n        vertical-align: middle;\n    }\n.page.activity-detail table.rep-counting-table {\n        margin-bottom: 10px;\n    }\n[data-activity-type='pilates'] .workout-name {\n        width: 70%;\n    }\n[data-activity-type='yoga'] .workout-name {\n        width: 70%;\n    }\n.table.rep-counting-table td {\n        border-top: 1px solid #e5e5e5;\n    }\n/*\n    For the play video button\n    .page.activity-detail .rep-counting-table td a [class*=\"icon-\"] {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        margin-right: 5.5px;\n        font-size: 12px;\n        text-align: center;\n        box-shadow: 0 0 0 1px #ccc;\n        border-radius: 50%;\n        color: #888;\n        background: #fafafa;\n    }*/\n.page.activity-detail .rep-counting-table td .input-append {\n        margin-bottom: 0;\n    }\n.page.activity-detail .rep-counting-table td .input-small {\n        width: 50px;\n    }\n.page.activity-edit .rep-counting-table th:first-child,\n    .page.activity-edit .rep-counting-table th:last-child,\n    .page.activity-edit .rep-counting-table td:first-child,\n    .page.activity-edit .rep-counting-table td:last-child {\n        width: 15px;\n        color: " + i(243).locals.textMedium + ";\n    }\n.page.activity-detail .rep-counting-table th:nth-child(3),\n    .page.activity-detail .rep-counting-table th:nth-child(4),\n    .page.activity-detail .rep-counting-table th:nth-child(5),\n    .page.activity-detail .rep-counting-table th:nth-child(6),\n    .page.activity-detail .rep-counting-table td:nth-child(3),\n    .page.activity-detail .rep-counting-table td:nth-child(4),\n    .page.activity-detail .rep-counting-table td:nth-child(5),\n    .page.activity-detail .rep-counting-table td:nth-child(6) {\n        text-align: center;\n    }\n.page.activity-detail .rep-counting-table th:first-child,\n    .page.activity-detail .rep-counting-table td:first-child {\n        text-align: center;\n    }\n.page.activity-detail .rep-counting-table td:first-child p {\n        border: 1px solid #888;\n        border-radius: 50%;\n        height: 20px;\n        width: 20px;\n        line-height: 20px;\n        font-size: 10px;\n        color: " + i(243).locals.textMedium + ";\n        margin: 0 auto;\n    }\n.page.activity-detail .rep-counting-table td:last-child a {\n        font-size: 12px;\n        font-family: 'Open Sans', 'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', Helvetica, Arial,\n            sans-serif;\n        line-height: 22px;\n    }\n.page.activity-edit .page-navigation .btn {\n        margin-top: 0;\n    }\n/*DRAG & DROP -\n    HINT FOR WHERE THE EXERCISE IS GOING TO GO*/\n.rep-placehold-row {\n        height: 60px;\n    }\n.rep-placehold:before {\n        float: left;\n        left: -12px;\n    }\n.rep-placehold:after {\n        float: right;\n        right: -13px;\n    }\n/*FOR A BORDER WHEN USER HOVERS OVER THE DRAG HANDLE*/\n.rep-counting-table tr {\n        border-left: 1px solid rgba(170, 170, 170, 0);\n        border-right: 1px solid rgba(170, 170, 170, 0);\n        border-bottom: 1px solid rgba(170, 170, 170, 0);\n    }\n.rep-counting-table .hover-rep-row {\n        border: 1px solid rgba(170, 170, 170, 0.4);\n    }\n/*FOR A THICKER BORDER WHEN USER IS DRAGGING*/\n.rep-counting-table .ui-sortable-helper {\n        box-shadow: 0px 0px 0px 2px rgba(170, 170, 170, 0.75);\n        border-top: transparent;\n        background: #ffffff;\n    }\n/*ADD RED BORDER FOR ERROR ON EXERCISE NAME*/\n.chosen-container-single .chosen-single.error {\n        color: #bf0f24;\n        border-color: #bf0f24;\n    }\n/*  ======================\n        Exercise Rounds Table\n        ======================  */\ntd.parent-round {\n        cursor: pointer;\n        color: rgb(0, 0, 0);\n        font-size: 14px;\n        font-weight: bold;\n        height: 21px;\n        letter-spacing: 0px;\n        line-height: 21px;\n        width: 31px;\n    }\ntd.parent-round .caret {\n        vertical-align: middle;\n        margin-left: 5px;\n    }\n.rounds [data-toggle='collapse'].collapsed {\n        -webkit-transform: rotate(180deg);\n                transform: rotate(180deg);\n    }\ntr.roundsAlternatingRow {\n        background-color: " + i(243).locals.lightui_surface_1 + ";\n    }\n/*  ======================\n        Activity Compare Page\n        ======================  */\n.activity-compare .summary [class^='icon-'],\n    .activity-compare .summary [class*=' icon-'] {\n        text-align: center;\n        border-radius: 50%;\n        color: " + i(243).locals.iconSecondary + ";\n        background: #fafafa;\n        width: 40px;\n        height: 40px;\n        line-height: 40px;\n        font-size: 22px;\n        box-shadow: 0 0 0 2px #ccc;\n        display: block;\n        margin: 0 auto 10px auto;\n    }\n.activity-compare .summary {\n        margin-bottom: 0;\n    }\n.activity-compare thead th,\n    .activity-compare td {\n        text-align: center;\n        border-left: 2px solid #ddd;\n    }\n.activity-compare .laps th,\n    .activity-compare .laps td {\n        border-left-color: #f0f0f0;\n    }\n.activity-compare .laps th:nth-child(3n + 2),\n    .activity-compare .laps td:nth-child(3n + 2) {\n        border-left-color: #ddd;\n    }\n.activity-compare .laps th:nth-child(1) {\n        text-align: left;\n    }\n.activity-compare .four-up .summary thead th,\n    .activity-compare .four-up .summary td {\n        vertical-align: top;\n    }\n.activity-compare .row-label {\n        text-align: left;\n    }\n.activity-compare .laps th {\n        font-weight: normal;\n        color: " + i(243).locals.textMedium + ";\n    }\n.activity-compare .four-up th {\n        width: 20%;\n    }\n.activity-compare .three-up th {\n        width: 25%;\n    }\n.activity-compare .two-up th {\n        width: 33.3%;\n    }\n.activity-compare th:first-child,\n    .activity-compare td:first-child {\n        border-left: none;\n    }\n/*  ======================\n      Battery Status\n    ======================  */\n.page.activity-detail [class^='icon-battery-status-'],\n    .page.activity-detail .icon-caution {\n        margin-left: 5px;\n        font-size: 16px;\n        line-height: 18px;\n    }\n/*  ======================\n      Activity Playlist\n    ======================  */\n.page.activity-detail .playlist-card {\n        max-height: 350px;\n        overflow-y: auto;\n        overflow-x: auto;\n        border: 1px solid #e5e5e5;\n        border-radius: 4px;\n        padding: 11px;\n    }\n.page.activity-detail .list-number {\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        height: 24px;\n        width: 24px;\n        text-align: center;\n        padding-top: 2px;\n        background: #fff;\n    }\n.page.activity-detail .playlist-privacy {\n        float: right;\n        margin-right: 20px;\n        margin-top: -25px;\n        font-size: 12px;\n        color: " + i(243).locals.textMedium + ';\n    }\n/*  ======================\n      Responsive Table Standards - applies to rep-counting table\n      ======================  */\n@media (max-width: 1125px) {\n        .minimize-main-nav .span8.exercise-table-edit {\n            width: 65.95744680851064%;\n        }\n        .span8.exercise-table-edit {\n            width: 100%;\n        }\n    }\n@media (max-width: 855px) {\n         {\n        /* Forcing table to not behave in its usual manner.*/\n\n        /* Hiding table headers (but not display: none for accessibility purposes)*/\n\n        /* Forcing td to behave like a row.*/\n\n        /*Forcing content "before" to behave like a table heading.*/\n\n        /* Label the data*/\n}\n        .rep-counting-table,\n        .rep-counting-table thead,\n        .rep-counting-table tbody,\n        .rep-counting-table th,\n        .rep-counting-table td,\n        .rep-counting-table tr {\n            display: block;\n        }\n        .rep-counting-table-edit {\n            margin-top: 15px;\n        }\n        .rep-counting-table thead tr {\n            position: absolute;\n            top: -9999px;\n            left: -9999px;\n        }\n\n        .page.activity-detail .rep-counting-table tr {\n            border-bottom: 4px solid #888;\n        }\n        .rep-counting-table td {\n            border: none;\n            border-bottom: 1px solid #eee;\n            position: relative;\n            padding-left: 40%;\n        }\n        .rep-counting-table td:before {\n            position: absolute;\n            font-weight: bold;\n            /* Top/left values mimic padding */\n            top: 6px;\n            left: 6px;\n            width: 45%;\n            padding-right: 10px;\n            white-space: nowrap;\n        }\n        .rep-counting-table td:before {\n            /*Handling truncation of before content.*/\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:last-child {\n            width: auto;\n            height: 20px;\n        }\n\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(3),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(4),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(5),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(6),\n        .page.activity-detail .rep-counting-table td:first-child:before,\n        .page.activity-detail .rep-counting-table td:nth-child(3):before,\n        .page.activity-detail .rep-counting-table td:nth-child(4):before,\n        .page.activity-detail .rep-counting-table td:nth-child(5):before,\n        .page.activity-detail .rep-counting-table td:nth-child(6):before,\n        .page.activity-detail .rep-counting-table td:nth-child(3),\n        .page.activity-detail .rep-counting-table td:nth-child(4),\n        .page.activity-detail .rep-counting-table td:nth-child(5),\n        .page.activity-detail .rep-counting-table td:nth-child(6) {\n            text-align: left;\n        }\n        .page.activity-detail .rep-counting-table td:first-child:before {\n            content: attr(data-title-1);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(2):before {\n            content: attr(data-title-2);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(3):before {\n            content: attr(data-title-3);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(4):before {\n            content: attr(data-title-4);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(5):before {\n            content: attr(data-title-5);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(6):before {\n            content: attr(data-title-6);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(7):before {\n            content: attr(data-title-7);\n        }\n    }\n.page.activity-detail .chosen-single .icon-pointer-down {\n        font-size: 8px;\n    }\n.activity-compare .summary th h1 {\n        display: inline-block;\n    }\n.activity-compare .summary th .data-label {\n        display: block;\n        font-weight: 300;\n        line-height: 25px;\n    }\n.activity-compare .laps .stat {\n        border-bottom: 1px dotted inherit;\n    }\n.activity-compare .four-up .laps .stat {\n        width: 6.6%;\n    }\n.activity-compare .three-up .laps .stat {\n        width: 8.2%;\n    }\n.activity-compare .two-up .laps .stat {\n        width: 11.2%;\n    }\n.activity-compare .toggle-detail {\n        width: 100%;\n        background: ' + i(243).locals.secondary + ";\n        color: " + i(243).locals.textLight + ";\n        padding: 2px 0;\n        text-decoration: none;\n        display: block;\n        text-align: center;\n        font-size: 12px;\n    }\n@media screen and (max-device-width: 1024px) {\n         {\n\n        /*\n            td:not(:first-child) {\n                counter-increment: rowNumber;\n            }\n            td:not(:first-child):before {\n                content: counter(rowNumber);\n                text-align: left;\n                font-weight: normal;\n                top: auto;\n                width: auto;\n                color: #bbb;\n            }\n        */\n}\n        .activity-compare .laps-table-header,\n        .activity-compare .laps.table {\n            display: none;\n        }\n        .activity-compare .table-responsive thead tr {\n            position: relative;\n            top: auto;\n            left: auto;\n        }\n        .activity-compare .table-responsive th {\n            width: 100%;\n        }\n        .activity-compare .summary [class^='icon-'],\n        .activity-compare .summary [class*=' icon-'] {\n            width: 26px;\n            height: 26px;\n            line-height: 26px;\n            font-size: 15px;\n            margin-bottom: 5px;\n        }\n        .activity-compare .table-responsive th,\n        .activity-compare .table-responsive td {\n            padding-left: 0;\n            border-left: none;\n        }\n        .activity-compare .table-responsive .row-label {\n            padding-left: 10px;\n        }\n        .table-responsive,\n        .table-responsive thead,\n        .table-responsive tbody,\n        .table-responsive th,\n        .table-responsive td,\n        .table-responsive tr {\n            display: block;\n        }\n    }\n/* start from resource-js */\n.page.activity-detail .activity-map-canvas {\n        height: 400px;\n        margin-top: 5px;\n        z-index: 0;\n    }\n.page.activity-detail .activity-map-canvas .baiduLogo {\n        z-index: 400;\n    }\n.page.activity-detail html {\n        height: 100%;\n    }\n.page.activity-detail body {\n        height: 100%;\n        margin: 0;\n        padding: 0;\n    }\n.page.activity-detail .is_stuck .activity-map-canvas {\n        margin-top: 58px;\n        height: 200px;\n        overflow: hidden;\n    }\n.page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n.page.activity-detail .kevin-temp {\n        background-color: yellow;\n        color: red;\n        font-weight: bold;\n    }\n.page.activity-detail .modal.fullscreen.expanded-chart .modal-body {\n        overflow: hidden;\n    }\n.page.activity-detail .pointer-events-none {\n        pointer-events: none;\n    }\n.full-screen-map {\n        position: fixed;\n        z-index: 1000; /* IE needs a big number */\n        left: 0;\n        top: 0;\n    }\n/* Not preferred, but this will allow us to use full-screen-map everywhere */\n.full-screen-map .leaflet-container {\n        position: fixed !important;\n        height: 100% !important;\n        width: 100% !important;\n    }\n/* end from resource-js */\n#activity-map-canvas.short {\n        height: 210px;\n    }\n/* ===============\n          Dive Log\n       =============== */\n.page.activity-detail .dive-canvas {\n        position: relative;\n        height: 230px;\n        min-width: 551px;\n    }\n.page.activity-detail .dive-canvas .canvas {\n        width: 100%;\n        height: 100%;\n    }\n.page.activity-detail .dive-log-stat {\n        position: absolute;\n        z-index: 1;\n        width: 150px;\n        height: 20px;\n        text-align: center;\n    }\n.page.activity-detail .dive-log-label {\n        color: #999999;\n    }\n.page.activity-detail .avg-depth-label {\n        color: #ff9f10;\n    }\n.page.activity-detail .deco-dive-label {\n        color: #d0021b;\n    }\n.page.activity-detail .dive-log-stat.right {\n        right: 0;\n    }\n.page.activity-detail .dive-log-stat.center {\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n    }\n.page.activity-detail .dive-log-value {\n        font-size: 24px;\n    }\n.page.activity-detail .dive-log-label {\n        font-size: 12px;\n    }\n.page.activity-detail .surface-interval-stat {\n        top: 16px;\n    }\n.page.activity-detail .time-in-stat {\n        top: 83px;\n    }\n.page.activity-detail .max-depth-stat {\n        top: 150px;\n    }\n.page.activity-detail .avg-depth-stat {\n        top: 83px;\n    }\n.page.activity-detail .bottom-time-stat {\n        top: 150px;\n    }\n.page.activity-detail .time-out-stat {\n        top: 83px;\n    }\n.page.activity-detail .deco-dive-stat {\n        top: 150px;\n    }\n.page.activity-detail .deco-dive-value {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        font-size: 11px;\n        text-align: center;\n        border-radius: 50%;\n        color: #fbebed;\n        background: #d0021b;\n        font-style: normal;\n        margin: 0 auto;\n        font-weight: 600;\n    }\n.page.activity-detail .apnea-dives-table .apnea-map {\n        width: 85px;\n        height: 62px;\n    }\n/* hide attribution - could break if we update google mutant */\n.page .apnea-dives-table .apnea-map .gmnoprint,\n    .page .apnea-dives-table .apnea-map .leaflet-google-mutant.leaflet-top.leaflet-left .gm-style img,\n    .page .apnea-dives-table .apnea-map .leaflet-control-attribution {\n        display: none;\n    }\n/* ===============\n        Activity Details Dive App\n       =============== */\n.dive-app-link-info {\n        text-align: center;\n        margin-top: 30px;\n    }\n.dive-app-icon {\n        height: 56px;\n        letter-spacing: 0px;\n        width: 56px;\n    }\n.garmin-dive {\n        font-weight: 600;\n    }\n.dive-app-store {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-wrap: nowrap;\n                flex-wrap: nowrap;\n        margin-top: 25px;\n        -webkit-justify-content: center;\n                justify-content: center;\n    }\n.dive-store-apple {\n        margin-right: 5px;\n    }\n@media (max-width: 610px) {\n        .page.activity-detail .dive-canvas {\n            height: 170px;\n            min-width: 380px;\n        }\n\n        .page.activity-detail .dive-log-value {\n            font-size: 20px;\n        }\n\n        .page.activity-detail .dive-log-label {\n            display: block;\n            margin-top: -2px;\n        }\n\n        .page.activity-detail .dive-log-value.deco-dive-value {\n            font-size: 11px;\n        }\n\n        .page.activity-detail .surface-interval-stat {\n            top: 5px;\n        }\n\n        .page.activity-detail .time-in-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .max-depth-stat {\n            top: 107px;\n        }\n\n        .page.activity-detail .avg-depth-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .bottom-time-stat {\n            top: 106px;\n        }\n\n        .page.activity-detail .time-out-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .dive-log-stat {\n            width: 105px;\n            height: 20px;\n        }\n\n        .page.activity-detail .deco-dive-stat {\n            top: 106px;\n        }\n    }\n.page.activity-detail .note-container h3 {\n        font-size: 17px;\n        margin: 0 0 8px;\n    }\n.page.activity-detail .video-container.border-wrapper,\n    .page.activity-detail .note-container.border-wrapper {\n        border-top: none;\n    }\n.page.activity-detail .wrapper-top-container {\n        border-bottom: none;\n    }\n.page.activity-detail .edit-dive-activity-dive-label {\n        display: inline;\n    }\n.page.activity-detail .diving.inline-edit-text-field {\n        top: 12px;\n    }\n.page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectLabelContainer {\n        display: -webkit-flex;\n        display: flex;\n    }\n.page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectStatChip {\n        border-radius: 50%;\n        height: 8px;\n        width: 8px;\n        margin-top: 7px;\n        margin-right: 8px;\n    }\n.modal-body .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n/* ===============\n          Advanced Activity Editing\n       =============== */\n.page.activity-advanced-edit .tab-content {\n        margin-bottom: 10px;\n    }\n.page.activity-advanced-edit .activity-edit-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: row;\n                flex-direction: row;\n        -webkit-flex-wrap: wrap;\n                flex-wrap: wrap;\n        -webkit-justify-content: flex-start;\n                justify-content: flex-start;\n        padding-left: 60px;\n    }\n.page.activity-advanced-edit .activity-edit-container .item {\n        margin-right: 20px;\n    }\n.page.activity-advanced-edit .button-container {\n        width: 50%;\n    }\n.page.activity-advanced-edit .flex-row {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: row;\n                flex-direction: row;\n        -webkit-flex-wrap: wrap;\n                flex-wrap: wrap;\n        width: 100%;\n    }\n.page.activity-advanced-edit .flex-column {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n        -webkit-flex-basis: 100%;\n                flex-basis: 100%;\n        -webkit-flex: 1 1;\n                flex: 1 1;\n        margin: 5px 5px 5px 5px;\n    }\n.page.activity-advanced-edit .advanced-learn-more {\n        margin-top: 20px;\n    }\n.page.activity-advanced-edit .data-bit.no-wrap {\n        white-space: nowrap;\n    }\n.page.activity-advanced-edit .trim-band {\n        opacity: 0.8;\n    }\n.page.activity-advanced-edit .trim-slider {\n        margin-top: -8px;\n        margin-left: 18px;\n        margin-right: 8px;\n    }\n/*  ======================\n        Activity Intervals Edit\n        ======================  */\n.page.activity-intervals-edit .edit-intervals-title {\n        text-transform: uppercase;\n        margin-bottom: 15px;\n        margin-left: 10px;\n    }\n.page.activity-intervals-edit .edit-intervals-button-container {\n        display: -webkit-flex;\n        display: flex;\n        width: 30%;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n    }\n.page.activity-intervals-edit .edit-intervals-learn-more span {\n        font-size: 12px;\n        font-weight: normal;\n        color: rgb(108, 108, 108);\n        line-height: 18px;\n    }\n.page.activity-intervals-edit .edit-intervals-button-container button {\n        box-shadow: none;\n        border-radius: 4px;\n        border: none;\n        font-size: 14px;\n        font-weight: 300;\n        text-align: center;\n        text-shadow: 0 1px 0 #0c7cad;\n        color: #fafafa;\n    }\n.page.activity-intervals-edit .edit-intervals-button-container button.reverse {\n        border: 1px solid rgb(228, 228, 228);\n        color: rgb(0, 0, 0);\n        font-weight: normal;\n        text-shadow: none;\n    }\n/*  ======================\n        Sticky Header\n        ======================  */\n.activity-advanced-edit .sticky-header {\n        background: #fff;\n        z-index: 5;\n    }\n.activity-advanced-edit .sticky-header.stuck,\n    .main-nav-hover .activity-advanced-edit .sticky-header.stuck {\n        position: fixed;\n        z-index: 3;\n    }\n.loading-overlay.spinner-container {\n        content: '';\n        display: block;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.9);\n        z-index: 999;\n    }\n.spinner-container .absolute-center {\n        position: fixed;\n        z-index: 999;\n        height: 2em;\n        width: 2em;\n        overflow: show;\n        margin: auto;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n    }\n.activity-detail .spinner-container .h5.text-center {\n        width: 200px;\n        margin-left: -63px;\n    }\n#advanced-activity-tab-placeholder .tooltip-error {\n        z-index: 40 !important; /* sticky header issue */\n    }\n.gasTypeSelect {\n        padding-top: 5px;\n    }\n.activity-detail .map-legend-container {\n        width: 100%;\n    }\n.activity-detail .map-legend {\n        width: 100%;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-justify-content: center;\n                justify-content: center;\n    }\n@media print {\n        .main-nav,\n        header.header,\n        .takeover-container,\n        .system-message {\n            display: none;\n        }\n\n        body,\n        html,\n        .main-body,\n        .main-body .content {\n            overflow: visible;\n        }\n    }\n/*  ======================\n        Responsiveness Upgrades\n        ======================  */\n.page.activity-detail #activityToolbarViewPlaceholder,\n    .page.activity-detail #activityIntroViewPlaceholder {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n    }\n.page.activity-detail #gearStatusViewPlaceholder {\n        white-space: nowrap;\n    }\n@media (max-width: 1049px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0 0 10px;\n        }\n\n        .page.activity-detail #activityToolbarViewPlaceholder {\n            -webkit-justify-content: flex-start;\n                    justify-content: flex-start;\n        }\n\n        .page.activity-detail .privacy-consent,\n        .page.activity-detail #gear-menu-list {\n            float: left;\n            left: 0;\n            min-width: 240px;\n        }\n\n        .page.activity-detail .privacy-consent {\n            min-width: 280px;\n        }\n\n        .page.activity-detail .privacy-state-current,\n        .page.activity-detail #gear-menu-list .icon-gear {\n            float: left;\n            left: 5px;\n        }\n    }\n@media (max-width: 767px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0;\n        }\n    }\n@media (max-width: 415px) {\n        .page.activity-detail .trophy-container .inline-edit-trigger {\n            margin-top: 0;\n        }\n\n        .page.activity-detail .date-block .dropdown {\n            display: block;\n        }\n\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type {\n            margin-right: 0;\n        }\n\n        .page.activity-detail .dropdown-backdrop {\n            display: inline;\n        }\n\n        .page.activity-detail #device-info ul.dropdown-menu {\n            left: -50px;\n        }\n    }\n@media (min-width: 1050px) {\n        .page.activity-edit .dynamic .row-fluid {\n            display: -webkit-flex;\n            display: flex;\n            -webkit-flex-wrap: wrap;\n                    flex-wrap: wrap;\n        }\n\n        .page.activity-edit .dynamic .row-fluid .stat-block {\n            width: 25%;\n        }\n\n        .page.activity-edit .dynamic .row-fluid .stat-block h3 {\n            margin-right: 8%;\n        }\n    }\n.page.activity-edit .page-sidebar.sideBar .video-container,\n    .page.activity-edit .page-sidebar.sideBar .note-container {\n        padding: 10px;\n    }\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/styles/activity.page.css"],
            names: [],
            mappings: "AAII;QACI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,mBAAkB;QAClB,gBAAe;QACf,2BAA0B;QAC1B,mBAAkB;QAClB,mBAAkB;QAClB,8CAAmC;QACnC,mCAAoB;KACxB;AACA;QACI,yBAAwB;KAC5B;AACA;QACI,YAAW;KACf;AACA;QACI,mBAAkB;KACtB;AACA;QACI,iBAAgB;QAChB,aAAY;KAChB;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,8BAA6B;KACjC;AACA;QACI,sBAAqB;QACrB,iBAAgB;QAChB,oBAAmB;QACnB,wBAAuB;KAC3B;AACA;QACI,uBAAsB;QACtB,gBAAe;KACnB;AACA;QACI,kBAAiB;QACjB,mBAAkB;QAClB,WAAU;KACd;AACA;QACI,iBAAgB;QAChB,kBAAiB;QACjB,eAAc;QACd,6BAA4B;KAChC;AACA;QACI,gBAAe;QACf,+BAA8B;KAClC;AACA;QACI,eAAc;QACd,uBAAsB;KAC1B;AACA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,kBAAiB;QACjB,iBAAgB;KACpB;AACA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,iBAAgB;QAChB,iBAAgB;KACpB;AACA;QACI,mBAAkB;KACtB;AACA;QACI,mBAAkB;QAClB,mBAAkB;QAClB,kBAAiB;KACrB;AACA;QACI,YAAW;QACX,eAAc;QACd,4BAA2B;QAC3B,WAAU;QACV,aAAY;QACZ,aAAY;QACZ,SAAQ;QACR,mBAAkB;QAClB,WAAU;QACV,OAAM;KACV;AACA;QACI,mBAAkB;QAClB,oBAAmB;KACvB;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,mBAAkB;KACtB;AACA;QACI,WAAU;KACd;AACA;QACI,oBAAmB;KACvB;AACA;QACI,8BAA6B;QAC7B,gBAAe;QACf,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,sBAAqB;QACrB,aAAY;QACZ,YAAW;QACX,uBAAsB;QACtB,oBAAmB;QACnB,mBAAkB;QAClB,iBAAgB;KACpB;AAEA;QACI,sBAAqB;QACrB,kBAAiB;QACjB,oBAAmB;KACvB;AAEA;QACI,YAAW;QACX,aAAY;QACZ,mBAAkB;QAClB,kBAAiB;KACrB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,aAAY;KAChB;AAEA;QACI,wBAAuB;KAC3B;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;QACtB,gBAAe;KACnB;AAEA;QACI,iBAAgB;KACpB;AAEA;;QAII,8BAA6B;KACjC;AAEA;;iCAE4B;AAC5B;QACI,YAAW;QACX,aAAY;QACZ,aAAY;KAChB;AACA;QACI,aAAY;QACZ,aAAY;KAChB;AACA;QACI,YAAW;KACf;AAEA,2DAA0D;AAC1D;QACI;YACI,iBAAgB;YAChB,gBAAe;SACnB;KACJ;AAEA;;iCAE4B;AAC5B;QACI,oBAAmB;KACvB;AACA;QACI,sBAAqB;QACrB,YAAW;QACX,uBAAsB;QACtB,WAAU;QACV,oBAAmB;KACvB;AACA;QACI,eAAc;QACd,gBAAe;QACf,kBAAiB;KACrB;AAEA;QA3NJ;QA4NQ,mCAAkC;QAKlC,mCAAkC;QAKlC,mCAAkC;CAi3E1C;QA13EQ;;YAEI,WAAU;SACd;QAEA;;YAEI,WAAU;SACd;QAEA;;YAEI,WAAU;SACd;KACJ;AAEA;QA7OJ;QA8OQ,mCAAkC;CAy2E1C;QAx2EQ;;YAEI,gBAAe;YACf,kBAAiB;SACrB;KACJ;AAEA;;iCAE4B;AAC5B;;QAEI,YAAW;KACf;AACA;QACI,uBAAsB;KAC1B;AACA;QACI,oBAAmB;KACvB;AACA;;;QAGI,yCAA4B;KAChC;AACA;;;QAGI,yCAAwB;KAC5B;AACA;;;QAGI,yCAAuB;KAC3B;AACA;;;QAGI,yCAA0B;KAC9B;AACA;;;QAGI,yCAAsB;KAC1B;AAEA;;;QAGI,yCAA4B,CAAE,YAAW;KAC7C;AACA;;;QAGI,yCAAwB,CAAE,YAAW;KACzC;AACA;;;QAGI,yCAAuB,CAAE,YAAW;KACxC;AACA;;;QAGI,yCAA0B,CAAE,YAAW;KAC3C;AACA;;;QAGI,yCAA0B,CAAE,YAAW;KAC3C;AACA;;;QAGI,yCAAsB,CAAE,YAAW;KACvC;AACA;;;QAGI,yCAAyB,CAAE,YAAW;KAC1C;AACA;;QAEI,6BAA4B;QAC5B,8BAA6B;QAC7B,aAAY;KAChB;AACA;;QAEI,mBAAkB;KACtB;AACA;QACI,YAAW;KACf;AACA;QACI,qCAAoC;QACpC,gBAAe;QACf,aAAY;KAChB;AACA;QACI,YAAW;KACf;AACA;QACI,qCAAoC;QACpC,kBAAiB;QACjB,aAAY;QACZ,gBAAe;KACnB;AACA;QACI,mBAAkB;KACtB;AACA;QACI,mBAAkB;QAClB,SAAQ;QACR,YAAW;QACX,kBAAiB;KACrB;AACA;QACI,iBAAgB;QAChB,eAAc;QACd,mBAAkB;QAClB,WAAU;QACV,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AAEA;;kCAE6B;AAC7B;QACI,gBAAe;KACnB;AACA;QACI,eAAc;QACd,sBAAqB;KACzB;AACA;QACI,eAAc;QACd,kBAAiB;QACjB,kBAAiB;QACjB,uBAAsB;KAC1B;AACA;QACI,YAAW;QACX,kBAAiB;KACrB;AACA;QACI,mBAAkB;KACtB;AACA;;;QAGI,sBAAqB;KACzB;AACA;;QAEI,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,oBAAmB;KACvB;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AACA;QACI,mBAAkB;QAClB,8CAAyB;QACzB,mCAAgB;QAChB,4BAA2B;QAC3B,2BAA0B;KAC9B;AAEA;QACI,2BAA0B;QAC1B,2BAA0B;KAC9B;AAEA;QACI,mBAAkB;QAClB,4BAA2B;QAC3B,2BAA0B;KAC9B;AAEA;QACI,wBAAuB;QACvB,aAAY;QACZ,iBAAgB;QAChB,uBAAsB;QACtB,kBAAiB;KACrB;AAEA;;;QAGI,mBAAkB;QAClB,uBAAsB;QACtB,wBAAuB;QACvB,aAAY;QACZ,iBAAgB;KACpB;AAEA;QACI,0BAAyB;QACzB,mCAAgB;KACpB;AAEA;QACI,UAAS;QACT,WAAU;QACV,iBAAgB;QAChB,oBAAmB;QACnB,kBAAiB;QACjB,mBAAkB;QAClB,oBAAmB;QACnB,kBAAiB;KACrB;AAEA;QACI,iBAAgB;QAChB,mBAAkB;KACtB;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI,cAAa;KACjB;AAEA;QACI,eAAc;QACd,SAAQ;KACZ;AAEA;;QAEI,0BAAyB;QACzB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,sBAAqB;QACrB,uBAAsB;QACtB,kBAAiB;QACjB,iBAAgB;KACpB;AACA;QACI,cAAa;KACjB;AACA;QACI,aAAY;QACZ,YAAW;QACX,iBAAgB;KACpB;AAEA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AAEA;;QAEI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;;QAEI,0BAAyB;KAC7B;AACA;;QAEI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;;QAEI,0BAAyB;KAC7B;AACA;;QAEI,mBAAkB;QAClB,UAAS;QACT,oCAAmC;QAEnC,4BAA2B;KAC/B;AAEA;;kCAE6B;AAC7B;;QAEI,sBAAqB;KACzB;AAEA;QACI,iBAAgB;QAChB,sBAAqB;KACzB;AACA;;QAEI,iBAAgB;QAChB,gBAAe;QACf,sBAAqB;QACrB,iBAAgB;KACpB;AACA;QACI,aAAY;QACZ,aAAY;QACZ,kBAAiB;QACjB,YAAW;QACX,mBAAkB;QAClB,0BAAyB;QACzB,mBAAkB;QAClB,mBAAkB;QAClB,uBAAsB;QACtB,iBAAgB;KACpB;AACA;QACI,6BAA4B;KAChC;AACA;QACI,6BAA4B;QAC5B,kBAAiB;KACrB;AACA;QACI,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;;QAEI,aAAY;QACZ,kBAAiB;QACjB,eAAc;QACd,0BAAyB;QACzB,gCAA+B;QAC/B,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;QACnB,eAAc;KAClB;AACA;QACI,iBAAgB;QAChB,sBAAqB;QACrB,uBAAsB;QACtB,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,gBAAe;QACf,mBAAkB;QAClB,YAAW;QACX,YAAW;QACX,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,iBAAgB;QAChB,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,cAAa;KACjB;AACA;QACI,YAAW;QACX,gBAAe;KACnB;AACA;;QAEI,iBAAgB;KACpB;AACA;QACI,YAAW;QACX,mBAAkB;QAClB,kBAAiB;QACjB,iBAAgB;QAChB,oBAAmB;QACnB,iBAAgB;QAChB,YAAW;QACX,mBAAkB;QAClB,uBAAsB;KAC1B;AACA;QACI,aAAY;QACZ,kBAAiB;QACjB,eAAc;QACd,0BAAyB;QACzB,YAAW;QACX,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;QACnB,eAAc;QACd,iBAAgB;KACpB;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AAEA;;kCAE6B;AAC7B;QACI,8BAA6B;QAC7B,YAAW;KACf;AACA;QACI,cAAa;KACjB;AAEA;QACI;YACI,sBAAa;YAAb,cAAa;YACb,+BAAsB;oBAAtB,uBAAsB;SAC1B;;QAEA;YACI,mBAAkB;SACtB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,YAAW;QACX,oBAAmB;KACvB;AACA;QACI,kBAAiB;QACjB,oBAAmB;KACvB;AACA;QACI,iBAAgB;QAChB,kBAAiB;QACjB,kBAAiB;KACrB;AAEA;;kCAE6B;AAC7B;QACI,YAAW;QACX,YAAW;QACX,gBAAe;QACf,oBAAmB;QACnB,mBAAkB;QAClB,oBAAmB;KACvB;AAEA;;kCAE6B;AAC7B;;QAGI,0DAAyD;QACzD,qCAAoC;QACpC,6BAA4B;KAChC;AACA;QACI,YAAW;QACX,WAAU;QACV,gBAAe;QACf,mBAAkB;KACtB;AACA;QACI,gBAAe;KACnB;AACA;QACI,gBAAe;QACf,YAAW;QACX,eAAc;QACd,iBAAgB;KACpB;AACA;QACI,sBAAqB;QACrB,uBAAsB;QACtB,mBAAkB;QAClB,cAAa;KACjB;AACA;QACI,SAAQ;QACR,WAAU;KACd;AACA;QACI,mCAAoB;QACpB,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,cAAa;KACjB;AACA;QACI,gBAAe;QACf,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,kBAAiB;KACrB;AACA;QACI,aAAY;QACZ,YAAW;KACf;AACA;QACI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,mBAAkB;QAClB,gBAAe;QACf,uBAAsB;QACtB,mBAAkB;QAClB,gBAAe;KACnB;AACA;QACI,YAAW;QACX,eAAc;QACd,SAAQ;QACR,aAAY;QACZ,sBAAqB;QACrB,oBAAmB;QACnB,uDAAsD;QACtD,mBAAkB;QAClB,UAAS;QACT,UAAS;KACb;AACA;;;;MAIC;AACD;QACI,mCAAkC;QAElC,2BAA0B;KAC9B;AACA;QACI,iCAAgC;QAEhC,yBAAwB;KAC5B;AACA;QACI,mCAAkC;QAElC,2BAA0B;KAC9B;AACA;QACI,iCAAgC;QAEhC,yBAAwB;KAC5B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,cAAa;KACjB;AAEA;QACI,aAAY;QACZ,oBAAmB;QACnB,oBAAmB;KACvB;AACA;QACI,UAAS;QACT,WAAU;QACV,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AACA;QACI,YAAW;QACX,aAAY;KAChB;AACA;QACI,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,uBAAsB;QACtB,aAAY;QACZ,WAAU;QACV,UAAS;KACb;AACA;QACI,sBAAqB;QACrB,sBAAqB;KACzB;AACA;QACI,UAAS;QACT,WAAU;QACV,iBAAgB;QAChB,gBAAe;KACnB;AACA;QACI,UAAS;QACT,WAAU;QACV,iBAAgB;KACpB;AACA;QACI,eAAc;QACd,mCAAiB;KACrB;AAEA;QACI;YACI,iBAAgB;SACpB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,gBAAe;YACf,iBAAgB;SACpB;;QAEA;YACI,YAAW;YACX,aAAY;SAChB;;QAEA;YACI,gBAAe;YACf,YAAW;YACX,aAAY;YACZ,kBAAiB;SACrB;;QAEA;YACI,aAAY;YACZ,UAAS;YACT,UAAS;SACb;;QAEA;YACI,sBAAqB;SACzB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,iBAAgB;KACpB;AACA;;QAEI,oBAAmB;QACnB,mBAAkB;QAClB,kBAAiB;KACrB;AACA;;;QAGI,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AACA;;QAEI,kBAAiB;QACjB,oBAAmB;KACvB;AACA;;;QAGI,mBAAkB;KACtB;AACA;;QAEI,kBAAiB;KACrB;AACA;QACI,eAAc;QACd,kBAAiB;KACrB;AAEA;QACI,eAAc;QACd,kBAAiB;KACrB;AACA;;kCAE6B;AAC7B;;QAEI,oBAAmB;QACnB,mBAAkB;QAClB,oBAAmB;QACnB,mBAAkB;KACtB;AAEA,iBAAgB;AAChB;QACI,oBAAmB;QACnB,WAAU;QACV,gBAAe;KACnB;AACA;QACI,kBAAiB;KACrB;AACA;QACI,kBAAiB;KACrB;AAEA,kCAAiC;AAEjC;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;KAC1B;AAEA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,gBAAe;QACf,kBAAiB;KACrB;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;KAC1B;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,kCAAyB;gBAAzB,0BAAyB;KAC7B;AAEA,oBAAmB;AACnB;QACI,oBAAmB;KACvB;AACA;QACI,iBAAgB;KACpB;AACA;QACI,YAAW;KACf;AACA;QACI,uBAAsB;QACtB,YAAW;KACf;AACA;QACI,YAAW;KACf;AACA;QACI,YAAW;KACf;AACA;;QAEI,YAAW;KACf;AACA;QACI,uBAAsB;KAC1B;AACA;QACI,uBAAsB;QACtB,gBAAe;QACf,mCAAsB;QACtB,gBAAe;KACnB;AACA;QACI,mCAAwB;KAC5B;AAEA;QACI;YACI,gHAA+G;YAC/G,eAAc;YACd,iBAAgB;YAChB,gBAAe;SACnB;KACJ;AAEA,qBAAoB;AACpB;QACI,mBAAkB;KACtB;AACA;QACI,WAAU;KACd;AACA;QACI,iBAAgB;KACpB;AACA,sBAAqB;AACrB;QACI,oBAAmB;KACvB;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,0BAAyB;KAC7B;AAEA;;kCAE6B;AAC7B;QACI,gBAAe;QACf,iBAAgB;QAChB,gBAAe;KACnB;AACA;QACI,sBAAqB;QACrB,kBAAiB;QACjB,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;KACvB;AACA;QACI,YAAW;KACf;AACA;QACI,sBAAa;QAAb,cAAa;QACb,aAAY;QACZ,uCAA8B;gBAA9B,+BAA8B;KAClC;AAEA;;kCAE6B;AAC7B;QACI,mBAAkB;KACtB;AACA;QACI,qBAAoB;KACxB;AACA;QACI,eAAc;QACd,eAAc;QACd,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;KACrB;AACA;QACI,gBAAe;KACnB;AACA;QACI,gBAAe;QACf,eAAc;QACd,aAAY;KAChB;AACA;QACI,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,mBAAkB;KACtB;AACA;QACI,iBAAgB;KACpB;AAEA;;kCAE6B;AAC7B;QACI,mCAAiB;QACjB,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,uBAAsB;KAC1B;AAEA;;kCAE6B;AAC7B;QACI;YACI,YAAW;YACX,eAAc;SAClB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,sBAAqB;QACrB,kBAAiB;KACrB;AACA;QACI,kBAAiB;KACrB;AACA;QACI,iBAAgB;KACpB;AACA;QACI,iBAAgB;KACpB;AAEA;;kCAE6B;AAC7B;QACI,gBAAe;KACnB;AACA;QACI,eAAc;QACd,cAAa;KACjB;AACA;QACI,aAAY;QACZ,cAAa;QACb,yBAAwB;QACxB,6BAA4B;KAChC;AACA;QACI,sIAAqI;KACzI;AACA;QACI,uIAAsI;KAC1I;AAEA;;kCAE6B;AAC7B;QACI,YAAW;QACX,qBAAoB;QACpB,oBAAmB;QACnB,8BAA6B;KACjC;AACA;QACI,aAAY;QACZ,cAAa;QACb,eAAc;KAClB;AACA;QACI,aAAY;KAChB;AACA;QACI,YAAW;KACf;AACA;QACI,aAAY;KAChB;AACA;QACI,+BAA8B;QAC9B,mBAAkB;QAClB,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,WAAU;KACd;AACA;QACI,sBAAqB;QACrB,sBAAqB;QACrB,aAAY;QACZ,cAAa;QACb,mBAAkB;QAClB,yBAAwB;QACxB,6BAA4B;QAC5B,sHAAqH;KACzH;AACA;QACI;YACI,eAAc;YACd,iBAAgB;SACpB;QACA;YACI,YAAW;YACX,sBAAqB;SACzB;KACJ;AACA;QACI;YACI,YAAW;SACf;QACA;YACI,aAAY;SAChB;QACA;YACI,mBAAkB;YAClB,mBAAkB;SACtB;QACA;YACI,aAAY,CAAE,2BAA0B;YACxC,cAAa;SACjB;KACJ;AACA;QACI;YACI,gBAAe;SACnB;QACA;YACI,cAAa;SACjB;QACA;;YAEI,YAAW;YACX,aAAY;YACZ,yBAAwB;SAC5B;QACA;YACI,mBAAkB;YAClB,kBAAiB;SACrB;QACA;YACI,aAAY,CAAE,sCAAqC;YACnD,cAAa;SACjB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,mBAAkB;QAClB,oBAAmB;QACnB,iBAAgB;QAChB,4BAA2B;KAC/B;AACA;;QAEI,yBAAwB;QACxB,eAAc;QACd,uBAAsB;QACtB,eAAc;QACd,aAAY;QACZ,cAAa;QACb,4BAA2B;QAC3B,6BAA4B;QAC5B,kBAAiB;QACjB,mBAAkB;KACtB;AACA;QACI,iHAAgH;KACpH;AACA;QACI,mHAAkH;KACtH;AAEA;;kCAE6B;AAC7B;QACI;;YAEI,YAAW,CAAE,gCAA+B;YAC5C,eAAc;SAClB;KACJ;AACA;QACI;YACI,eAAc;SAClB;KACJ;AACA;QACI;YACI,iBAAgB;SACpB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,aAAY;QACZ,wBAAuB;QACvB,iBAAgB;QAChB,sBAAqB;QACrB,uBAAsB;QACtB,oBAAmB;QACnB,iBAAgB;KACpB;AAEA,mBAAkB;AAClB;QACI,wBAAuB;KAC3B;AAEA,sBAAqB;AACrB;QACI,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,eAAc;QACd,eAAc;QACd,oBAAmB;KACvB;AACA;QACI,iBAAgB;QAChB,oBAAmB;KACvB;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,mBAAkB;QAClB,YAAW;QACX,gBAAe;QACf,kBAAiB;KACrB;AAEA;QACI,kBAAiB;KACrB;AAEA;QACI,aAAY;QACZ,YAAW;QACX,mBAAkB;QAClB,OAAM;KACV;AAEA;QACI;YACI,sBAAqB;YACrB,UAAS;YACT,sBAAqB;YACrB,YAAW;SACf;QACA;YACI,2BAA0B;SAC9B;KACJ;AACA,yBAAwB;AACxB;QA59CJ;;QAsgDQ,YAAW;;QAKX,qBAAoB;;QAKpB,oBAAmB;;QASnB,WAAU;;QAiCV,wBAAuB;;QAWvB,UAAS;;QAeT,YAAW;CAmgCnB;QA1nCQ;YACI,6BAA4B;SAChC;QACA;YACI,aAAY;SAChB;QACA;YACI,YAAW;YACX,aAAY;YACZ,kBAAiB;YACjB,cAAa;YACb,kBAAiB;YACjB,gBAAe;YACf,2BAA0B;SAC9B;QACA;YACI,YAAW;SACf;QACA;YACI,sBAAqB;SACzB;QACA;YACI,yDAAwD;YACxD,mBAAkB;SACtB;QACA;YACI,YAAW;YACX,sBAAqB;SACzB;QACA;YACI,cAAa;SACjB;QACA;YACI,gBAAe;YACf,uBAAsB;YACtB,kBAAiB;SACrB;QACA;YACI,YAAW;SACf;QAGA;YACI,kBAAiB;SACrB;QAGA;YACI,yBAAwB;SAC5B;QAGA;YACI,sBAAqB;SACzB;QACA;YACI,YAAW;YACX,UAAS;SACb;QAGA;YACI,YAAW;YACX,aAAY;SAChB;QACA;;YAEI,aAAY;YACZ,YAAW;SACf;QACA;YACI,gBAAe;SACnB;QACA;;YAEI,iBAAgB;SACpB;QACA;;;YAGI,gBAAe;SACnB;QACA;YACI,WAAU;YACV,SAAQ;SACZ;QACA;YACI,gBAAe;SACnB;QACA;YACI,gBAAe;SACnB;QAGA;;YAEI,gBAAe;SACnB;QACA;YACI,gBAAe;YACf,aAAY;YACZ,YAAW;SACf;QAGA;;;YAGI,gBAAe;SACnB;QACA;YACI,kBAAiB;SACrB;QACA;;;YAGI,oBAAmB;SACvB;QAGA;YACI,cAAa;SACjB;QACA;YACI,sBAAqB;YACrB,YAAW;SACf;QACA;YACI,iBAAgB;SACpB;KACJ;AAEA,2BAA0B;AAC1B;QACI,uBAAsB;KAC1B;AACA;QACI,oBAAmB;KACvB;AAEA;QACI,WAAU;KACd;AAEA;QACI,WAAU;KACd;AAEA;QACI,8BAA6B;KACjC;AACA;;;;;;;;;;;;;OAaE;AACF;QACI,iBAAgB;KACpB;AACA;QACI,YAAW;KACf;AAEA;;;;QAII,YAAW;QACX,mCAAiB;KACrB;AACA;;;;;;;;QAQI,mBAAkB;KACtB;AACA;;QAEI,mBAAkB;KACtB;AACA;QACI,uBAAsB;QACtB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,gBAAe;QACf,mCAAiB;QACjB,eAAc;KAClB;AAEA;QACI,gBAAe;QACf;uBACc;QACd,kBAAiB;KACrB;AACA;QACI,cAAa;KACjB;AAEA;gDAC2C;AAC3C;QACI,aAAY;KAChB;AACA;QACI,YAAW;QACX,YAAW;KACf;AACA;QACI,aAAY;QACZ,aAAY;KAChB;AACA,sDAAqD;AACrD;QACI,8CAA6C;QAC7C,+CAA8C;QAC9C,gDAA+C;KACnD;AACA;QACI,2CAA0C;KAC9C;AACA,8CAA6C;AAC7C;QACI,sDAAqD;QACrD,wBAAuB;QACvB,oBAAmB;KACvB;AACA,6CAA4C;AAC5C;QACI,eAAc;QACd,sBAAqB;KACzB;AAEA;;kCAE6B;AAC7B;QACI,gBAAe;QACf,oBAAmB;QACnB,gBAAe;QACf,kBAAiB;QACjB,aAAY;QACZ,oBAAmB;QACnB,kBAAiB;QACjB,YAAW;KACf;AAEA;QACI,uBAAsB;QACtB,iBAAgB;KACpB;AAEA;QACI,kCAAyB;gBAAzB,0BAAyB;KAC7B;AAEA;QACI,8CAAmC;KACvC;AACA;;kCAE6B;AAC7B;;QAEI,mBAAkB;QAClB,mBAAkB;QAClB,mCAAoB;QACpB,oBAAmB;QACnB,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,gBAAe;QACf,2BAA0B;QAC1B,eAAc;QACd,yBAAwB;KAC5B;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,mBAAkB;QAClB,4BAA2B;KAC/B;AACA;;QAEI,2BAA0B;KAC9B;AACA;;QAEI,wBAAuB;KAC3B;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,oBAAmB;KACvB;AACA;QACI,iBAAgB;KACpB;AACA;QACI,oBAAmB;QACnB,mCAAiB;KACrB;AACA;QACI,WAAU;KACd;AACA;QACI,WAAU;KACd;AACA;QACI,aAAY;KAChB;AACA;;QAEI,kBAAiB;KACrB;AAEA;;8BAEyB;AACzB;;QAEI,iBAAgB;QAChB,gBAAe;QACf,kBAAiB;KACrB;AAEA;;8BAEyB;AACzB;QACI,kBAAiB;QACjB,iBAAgB;QAChB,iBAAgB;QAChB,0BAAyB;QACzB,mBAAkB;QAClB,cAAa;KACjB;AACA;QACI,0BAAyB;QACzB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,mBAAkB;QAClB,iBAAgB;QAChB,iBAAgB;KACpB;AAEA;QACI,aAAY;QACZ,mBAAkB;QAClB,kBAAiB;QACjB,gBAAe;QACf,mCAAiB;KACrB;AAEA;;gCAE2B;AAE3B;QACI;YACI,0BAAyB;SAC7B;QACA;YACI,YAAW;SACf;KACJ;AAEA;QAh2DJ;QAi2DQ,qDAAoD;;QAapD,4EAA2E;;QAW3E,qCAAoC;;QAQpC,4DAA2D;;QAwC3D,mBAAkB;CA8qB1B;QArvBQ;;;;;;YAMI,eAAc;SAClB;QACA;YACI,iBAAgB;SACpB;QAGA;YACI,mBAAkB;YAClB,aAAY;YACZ,cAAa;SACjB;;QAEA;YACI,8BAA6B;SACjC;QAGA;YACI,aAAY;YACZ,8BAA6B;YAC7B,mBAAkB;YAClB,kBAAiB;SACrB;QAGA;YACI,mBAAkB;YAClB,kBAAiB;YACjB,mCAAkC;YAClC,SAAQ;YACR,UAAS;YACT,WAAU;YACV,oBAAmB;YACnB,oBAAmB;SACvB;QACA;YACI,0CAAyC;YACzC,iBAAgB;YAChB,wBAAuB;YACvB,oBAAmB;SACvB;QACA;;YAEI,YAAW;YACX,aAAY;SAChB;;QAEA;;;;;;;;;;;;;;YAcI,iBAAgB;SACpB;QAGA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;KACJ;AAEA;QACI,eAAc;KAClB;AACA;QACI,sBAAqB;KACzB;AACA;QACI,eAAc;QACd,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,kCAAiC;KACrC;AACA;QACI,YAAW;KACf;AACA;QACI,YAAW;KACf;AACA;QACI,aAAY;KAChB;AACA;QACI,YAAW;QACX,wCAAqB;QACrB,mCAAgB;QAChB,eAAc;QACd,sBAAqB;QACrB,eAAc;QACd,mBAAkB;QAClB,gBAAe;KACnB;AAEA;QAn+DJ;;QAygEQ;;;;;;;;;;;;UAYC;CAkkBT;QAnnBQ;;YAEI,cAAa;SACjB;QACA;YACI,mBAAkB;YAClB,UAAS;YACT,WAAU;SACd;QACA;YACI,YAAW;SACf;QACA;;YAEI,YAAW;YACX,aAAY;YACZ,kBAAiB;YACjB,gBAAe;YACf,mBAAkB;SACtB;QACA;;YAEI,gBAAe;YACf,kBAAiB;SACrB;QACA;YACI,mBAAkB;SACtB;QACA;;;;;;YAMI,eAAc;SAClB;KAeJ;AAEA,4BAA2B;AAE3B;QACI,cAAa;QACb,gBAAe;QACf,WAAU;KACd;AAEA;QACI,aAAY;KAChB;AAEA;QACI,aAAY;KAChB;AACA;QACI,aAAY;QACZ,UAAS;QACT,WAAU;KACd;AAEA;QACI,iBAAgB;QAChB,cAAa;QACb,iBAAgB;KACpB;AAEA;QACI,oBAAmB;KACvB;AACA;QACI,8BAA6B;QAC7B,gBAAe;QACf,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AAEA;QACI,yBAAwB;QACxB,WAAU;QACV,kBAAiB;KACrB;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,qBAAoB;KACxB;AAEA;QACI,gBAAe;QACf,cAAa,CAAE,2BAA0B;QACzC,QAAO;QACP,OAAM;KACV;AAEA,6EAA4E;AAC5E;QACI,2BAA0B;QAC1B,wBAAuB;QACvB,uBAAsB;KAC1B;AAEA,0BAAyB;AAEzB;QACI,cAAa;KACjB;AAEA;;yBAEoB;AAEpB;QACI,mBAAkB;QAClB,cAAa;QACb,iBAAgB;KACpB;AAEA;QACI,YAAW;QACX,aAAY;KAChB;AAEA;QACI,mBAAkB;QAClB,WAAU;QACV,aAAY;QACZ,aAAY;QACZ,mBAAkB;KACtB;AAEA;QACI,eAAc;KAClB;AAEA;QACI,eAAc;KAClB;AAEA;QACI,eAAc;KAClB;AAEA;QACI,SAAQ;KACZ;AAEA;QACI,kBAAiB;QACjB,mBAAkB;QAClB,QAAO;QACP,SAAQ;KACZ;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,UAAS;KACb;AAEA;QACI,UAAS;KACb;AAEA;QACI,WAAU;KACd;AAEA;QACI,UAAS;KACb;AAEA;QACI,WAAU;KACd;AAEA;QACI,UAAS;KACb;AAEA;QACI,WAAU;KACd;AAEA;QACI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,gBAAe;QACf,mBAAkB;QAClB,mBAAkB;QAClB,eAAc;QACd,oBAAmB;QACnB,mBAAkB;QAClB,eAAc;QACd,iBAAgB;KACpB;AAEA;QACI,YAAW;QACX,aAAY;KAChB;AAEA,+DAA8D;AAC9D;;;QAGI,cAAa;KACjB;AAEA;;yBAEoB;AAEpB;QACI,mBAAkB;QAClB,iBAAgB;KACpB;AAEA;QACI,aAAY;QACZ,oBAAmB;QACnB,YAAW;KACf;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,0BAAiB;gBAAjB,kBAAiB;QACjB,iBAAgB;QAChB,gCAAuB;gBAAvB,wBAAuB;KAC3B;AAEA;QACI,kBAAiB;KACrB;AAEA;QACI;YACI,cAAa;YACb,iBAAgB;SACpB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,eAAc;YACd,iBAAgB;SACpB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,SAAQ;SACZ;;QAEA;YACI,UAAS;SACb;;QAEA;YACI,WAAU;SACd;;QAEA;YACI,UAAS;SACb;;QAEA;YACI,WAAU;SACd;;QAEA;YACI,UAAS;SACb;;QAEA;YACI,aAAY;YACZ,aAAY;SAChB;;QAEA;YACI,WAAU;SACd;KACJ;AAEA;QACI,gBAAe;QACf,gBAAe;KACnB;AAEA;;QAEI,iBAAgB;KACpB;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,UAAS;KACb;AAEA;QACI,sBAAa;QAAb,cAAa;KACjB;AAEA;QACI,mBAAkB;QAClB,YAAW;QACX,WAAU;QACV,gBAAe;QACf,kBAAiB;KACrB;AAEA;QACI,0BAAyB;QACzB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,sBAAqB;QACrB,uBAAsB;QACtB,kBAAiB;QACjB,iBAAgB;KACpB;AAEA;;yBAEoB;AAEpB;QACI,oBAAmB;KACvB;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,4BAAmB;gBAAnB,oBAAmB;QACnB,wBAAe;gBAAf,gBAAe;QACf,oCAA2B;gBAA3B,4BAA2B;QAC3B,mBAAkB;KACtB;AAEA;QACI,mBAAkB;KACtB;AAEA;QACI,WAAU;KACd;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,4BAAmB;gBAAnB,oBAAmB;QACnB,wBAAe;gBAAf,gBAAe;QACf,YAAW;KACf;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;QACtB,yBAAgB;gBAAhB,iBAAgB;QAChB,kBAAO;gBAAP,UAAO;QACP,wBAAuB;KAC3B;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI,aAAY;KAChB;AAEA;QACI,iBAAgB;QAChB,kBAAiB;QACjB,kBAAiB;KACrB;AAEA;;kCAE6B;AAE7B;QACI,0BAAyB;QACzB,oBAAmB;QACnB,kBAAiB;KACrB;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,WAAU;QACV,uCAA8B;gBAA9B,+BAA8B;KAClC;AAEA;QACI,gBAAe;QACf,oBAAmB;QACnB,0BAAyB;QACzB,kBAAiB;KACrB;AAEA;QACI,iBAAgB;QAChB,mBAAkB;QAClB,aAAY;QACZ,gBAAe;QACf,iBAAgB;QAChB,mBAAkB;QAClB,6BAA4B;QAC5B,eAAc;KAClB;AAEA;QACI,qCAAoC;QACpC,oBAAmB;QACnB,oBAAmB;QACnB,kBAAiB;KACrB;AAEA;;kCAE6B;AAC7B;QACI,iBAAgB;QAChB,WAAU;KACd;AAEA;;QAEI,gBAAe;QACf,WAAU;KACd;AAEA;QACI,YAAW;QACX,eAAc;QACd,gBAAe;QACf,OAAM;QACN,QAAO;QACP,YAAW;QACX,aAAY;QACZ,qCAAoC;QACpC,aAAY;KAChB;AAEA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,WAAU;QACV,eAAc;QACd,aAAY;QACZ,OAAM;QACN,QAAO;QACP,UAAS;QACT,SAAQ;KACZ;AAEA;QACI,aAAY;QACZ,mBAAkB;KACtB;AAEA;QACI,uBAAsB,CAAE,yBAAwB;KACpD;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,YAAW;KACf;AAEA;QACI,YAAW;QACX,sBAAa;QAAb,cAAa;QACb,gCAAuB;gBAAvB,wBAAuB;KAC3B;AAEA;QACI;;;;YAII,cAAa;SACjB;;QAEA;;;;YAII,kBAAiB;SACrB;KACJ;AAEA;;kCAE6B;AAC7B;;QAEI,sBAAa;QAAb,cAAa;QACb,uCAA8B;gBAA9B,+BAA8B;KAClC;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI;;YAEI,iBAAgB;SACpB;;QAEA;YACI,oCAA2B;oBAA3B,4BAA2B;SAC/B;;QAEA;;YAEI,YAAW;YACX,QAAO;YACP,iBAAgB;SACpB;;QAEA;YACI,iBAAgB;SACpB;;QAEA;;YAEI,YAAW;YACX,UAAS;SACb;KACJ;AAEA;QACI;;YAEI,UAAS;SACb;KACJ;AAEA;QACI;YACI,cAAa;SACjB;;QAEA;YACI,eAAc;SAClB;;QAEA;;YAEI,gBAAe;SACnB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,YAAW;SACf;KACJ;AAEA;QACI;YACI,sBAAa;YAAb,cAAa;YACb,wBAAe;oBAAf,gBAAe;SACnB;;QAEA;YACI,WAAU;SACd;;QAEA;YACI,iBAAgB;SACpB;KACJ;AAEA;;QAEI,cAAa;KACjB",
            file: "activity.page.css",
            sourcesContent: ["@value ( primary, secondary, textLight, textMedium, textDark, iconSecondary, iconSecondaryHover, iconSecondaryDark, lightui_surface_1, darkui_accent_3, lightui_accent_2, blue_light_2, lime_dark_2, orange_light_3, red_dark_1, yellow_primary, purple_dark_2 ) from 'ui-connect/styles/colors.module.css';\n@value ( endXS, endSM ) from 'ui-connect/styles/variables.module.css';\n\n:global {\n    .page.activity-detail .activity-type-icon {\n        width: 60px;\n        height: 60px;\n        line-height: 60px;\n        margin-top: -4px;\n        margin-right: 11px;\n        font-size: 35px;\n        box-shadow: 0 0 0 2px #ccc;\n        text-align: center;\n        border-radius: 50%;\n        background-color: lightui_surface_1;\n        color: iconSecondary;\n    }\n    .page.activity-detail .page-header-content {\n        width: calc(100% - 50px);\n    }\n    .page.activity-edit .page-header-content {\n        width: auto;\n    }\n    .page.activity-detail .page-feature {\n        position: relative;\n    }\n    .page.activity-edit .page-feature {\n        min-height: 22px;\n        height: auto;\n    }\n    .page.activity-detail .page-header-content .page-title .data-bit {\n        margin-top: -4px;\n    }\n    .page.activity-detail .page-header-content .page-title .inline-edit-editable,\n    .page.activity-detail .page-header-content .page-title .page-title-overflow {\n        max-width: calc(100% - 110px);\n    }\n    .page.activity-detail .page-header-content .page-title .page-title-overflow {\n        display: inline-block;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n    .page.activity-detail .page-header-content .page-title .inline-edit-editable-text.page-title-overflow {\n        text-overflow: inherit;\n        max-width: 100%;\n    }\n    .page.activity-detail .page-header-content .date-block {\n        margin-top: -36px;\n        position: relative;\n        z-index: 1;\n    }\n    .page.activity-detail .activity-detail-title input {\n        margin-top: -4px;\n        line-height: 15px;\n        padding: 0 4px;\n        box-shadow: inset 0 2px #eee;\n    }\n    .page.activity-detail .activity-title-time {\n        cursor: pointer;\n        border-bottom: 1px dotted #999;\n    }\n    .page.activity-detail .icon-personal-records {\n        color: #ff9e0d;\n        vertical-align: middle;\n    }\n    .page.activity-detail .page-title .icon-personal-records {\n        font-size: 18px;\n        height: 18px;\n        width: 18px;\n        line-height: 18px;\n        margin-top: -18px;\n        margin-left: 8px;\n    }\n    .page.activity-detail .multisport-nav .icon-personal-records {\n        font-size: 16px;\n        height: 16px;\n        width: 16px;\n        line-height: 16px;\n        margin-top: -5px;\n        margin-left: 3px;\n    }\n    .page.activity-detail .overflow-nav-container.overflow .multisport-nav {\n        padding-left: 30px;\n    }\n    .page.activity-detail .multisport-nav > li:first-child {\n        position: relative;\n        margin-right: 20px;\n        margin-left: 10px;\n    }\n    .page.activity-detail .multisport-nav > li:first-child:after {\n        content: '';\n        display: block;\n        border-left: 1px solid #eee;\n        padding: 0;\n        margin: 10px;\n        height: 75px;\n        width: 0;\n        position: absolute;\n        left: 100%;\n        top: 0;\n    }\n    .page.activity-detail .multisport-nav > li:first-child a {\n        padding-left: 20px;\n        padding-right: 20px;\n    }\n    .page.activity-detail .multisport-nav > li:first-child .time {\n        font-weight: 600;\n    }\n    .page.activity-detail .event-type,\n    .page.activity-detail .course-type {\n        margin-right: 10px;\n    }\n    .page.activity-detail .event-type .dropdown-menu {\n        z-index: 2;\n    }\n    .page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n    .modal .rd-color {\n        display: inline-block;\n        height: 20px;\n        width: 20px;\n        vertical-align: middle;\n        border-radius: 20px;\n        margin-right: 10px;\n        margin-top: -2px;\n    }\n\n    .page.activity-detail .mtbStat .data-block {\n        display: inline-block;\n        margin-left: 20px;\n        margin-bottom: 20px;\n    }\n\n    .page.activity-detail .mtbStat .trophy-container {\n        width: 20px;\n        height: 20px;\n        position: absolute;\n        margin-left: 30px;\n    }\n\n    .page.activity-detail .has-tooltip.jump-icon {\n        margin-top: 7px;\n    }\n\n    .page.activity-detail .mtbStat .trophy-container > .icon-personal-records {\n        color: black;\n    }\n\n    .page.activity-detail .leaflet-popup.jump-map-tooltip {\n        opacity: 0.9 !important;\n    }\n\n    .jump-tooltip-container {\n        display: flex;\n        flex-direction: column;\n        font-size: 12px;\n    }\n\n    .jump-tooltip-container .tooltip-row {\n        text-align: left;\n    }\n\n    .page.activity-detail .leaflet-popup-content-wrapper,\n    .leaflet-popup-content {\n        -webkit-border-radius: 3px !important;\n        -moz-border-radius: 3px !important;\n        border-radius: 3px !important;\n    }\n\n    /*  ======================\n        More about Training Effect\n        ====================== */\n    .modal-training-effect .te-feedback {\n        float: left;\n        clear: right;\n        width: 330px;\n    }\n    .modal-training-effect .te-score {\n        float: right;\n        width: 175px;\n    }\n    .modal-training-effect hr {\n        clear: both;\n    }\n\n    /*FIX OVERLAPPING PILLS ON SMALL WINDOWS AND SIDEBAR OPEN*/\n    @media (max-width: 1540px) {\n        .page.activity-detail .stats .btn-group .btn-small {\n            padding: 3px 6px;\n            font-size: 10px;\n        }\n    }\n\n    /*  ======================\n        Primary Stats\n        ====================== */\n    .page.activity-detail .nav.multisport-nav {\n        margin-bottom: 26px;\n    }\n    .page.activity-detail .stats-primary .data-block {\n        display: inline-block;\n        float: left;\n        box-sizing: border-box;\n        width: 50%;\n        padding-right: 20px;\n    }\n    .page.activity-detail .stats-primary .data-label {\n        display: block;\n        margin-top: 6px;\n        line-height: 16px;\n    }\n\n    @media (min-width: 992px) {\n        /* Detect 3 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3) ~ .data-block {\n            width: 33%;\n        }\n        /* Detect 4 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4) ~ .data-block {\n            width: 25%;\n        }\n        /* Detect 5 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block {\n            width: 20%;\n        }\n    }\n\n    @media (min-width: 992px) and (max-width: 1199px) {\n        /* Detect 5 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) .data-bit,\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block .data-bit {\n            font-size: 22px;\n            line-height: 24px;\n        }\n    }\n\n    /*  ======================\n        Time in Zones\n        ====================== */\n    .tab-time-in-zones .table-heart-rate-zones,\n    .tab-time-in-zones .table-power-zones {\n        width: 100%;\n    }\n    .tab-time-in-zones * {\n        box-sizing: border-box;\n    }\n    .tab-time-in-zones .stat-block > h3 {\n        margin-bottom: 10px;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-time {\n        background: lightui_accent_2;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-time {\n        background: blue_light_2;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-time {\n        background: lime_dark_2;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-time {\n        background: orange_light_3;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-time {\n        background: red_dark_1;\n    }\n\n    .tab-time-in-zones .power-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-1 .zone-name,\n    .tab-time-in-zones .power-zones .zone-1 .zone-time {\n        background: lightui_accent_2; /*FAD117; */\n    }\n    .tab-time-in-zones .power-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-2 .zone-name,\n    .tab-time-in-zones .power-zones .zone-2 .zone-time {\n        background: blue_light_2; /*8264DB; */\n    }\n    .tab-time-in-zones .power-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-3 .zone-name,\n    .tab-time-in-zones .power-zones .zone-3 .zone-time {\n        background: lime_dark_2; /*6D8594; */\n    }\n    .tab-time-in-zones .power-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-4 .zone-name,\n    .tab-time-in-zones .power-zones .zone-4 .zone-time {\n        background: yellow_primary; /*39A9EC; */\n    }\n    .tab-time-in-zones .power-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-5 .zone-name,\n    .tab-time-in-zones .power-zones .zone-5 .zone-time {\n        background: orange_light_3; /*50AF12; */\n    }\n    .tab-time-in-zones .power-zones .zone-6 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-6 .zone-name,\n    .tab-time-in-zones .power-zones .zone-6 .zone-time {\n        background: red_dark_1; /*F79D0C; */\n    }\n    .tab-time-in-zones .power-zones .zone-7 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-7 .zone-name,\n    .tab-time-in-zones .power-zones .zone-7 .zone-time {\n        background: purple_dark_2; /*F4253C; */\n    }\n    .tab-time-in-zones .table-heart-rate-zones tr td,\n    .tab-time-in-zones .table-power-zones tr td {\n        border-right: 1px solid #fff;\n        border-bottom: 1px solid #fff;\n        padding: 0px;\n    }\n    .tab-time-in-zones .table-heart-rate-zones td > div,\n    .tab-time-in-zones .table-power-zones td > div {\n        padding: 12px 20px;\n    }\n    .tab-time-in-zones td.zone-name {\n        width: 30px;\n    }\n    .tab-time-in-zones td.zone-name > div {\n        background: rgba(255, 255, 255, 0.6);\n        /*opacity: 20;*/\n        border: none;\n    }\n    .tab-time-in-zones td.zone-time {\n        width: 30px;\n    }\n    .tab-time-in-zones td.zone-time > div {\n        background: rgba(255, 255, 255, 0.6);\n        text-align: right;\n        border: none;\n        /*opacity: 20;*/\n    }\n    .tab-time-in-zones td.zone-percent {\n        position: relative;\n    }\n    .tab-time-in-zones td.zone-percent > div {\n        position: absolute;\n        top: 0px;\n        bottom: 0px;\n        padding: 12px 0px;\n    }\n    .tab-time-in-zones td.zone-percent > div > span {\n        /*width: 700px;*/\n        display: block;\n        position: absolute;\n        left: 100%;\n        padding-left: 10px;\n    }\n    .tab-time-in-zones .heart-rate-zones {\n        margin-bottom: 20px;\n    }\n\n    /*  ======================\n        Charts\n        ======================  */\n    .page.activity-detail .chart-header-item {\n        font-size: 14px;\n    }\n    .page.activity-detail .chart-list-customize:hover {\n        color: inherit;\n        text-decoration: none;\n    }\n    .page.activity-detail .chart-header .chart-zoom-toggle {\n        padding: 0 3px;\n        margin-left: 20px;\n        margin-right: 5px;\n        vertical-align: middle;\n    }\n    .page.activity-detail .overlay-item {\n        float: left;\n        margin-left: 30px;\n    }\n    .page.activity-detail .chart-name .chart-title {\n        margin-right: 10px;\n    }\n    .page.activity-detail .chart-name,\n    .page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        display: inline-block;\n    }\n    .page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        margin-left: 30px;\n    }\n    .page.activity-detail .chart-max-avg-power .custom-max-avg-power {\n        padding: 0 20px;\n        white-space: nowrap;\n    }\n    .page.activity-detail .chart-zoom .overlay-item button {\n        font-size: 18px;\n        font-weight: 100;\n    }\n    .page.activity-detail .chart-toggle-options .time-toggle {\n        margin-right: -5px;\n        background-color: primary;\n        color: textLight;\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n\n    .page.activity-detail .chart-toggle-options .distance-toggle {\n        border-left: 0 transparent;\n        border-radius: 0 4px 4px 0;\n    }\n\n    .page.activity-detail .chart-toggle-options .length-rests-toggle {\n        margin-right: -5px;\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n\n    .page.activity-detail .activity-charts-container .btn-customize-charts {\n        background: transparent;\n        color: black;\n        box-shadow: none;\n        border: 1px solid #ccc;\n        padding: 5px 10px;\n    }\n\n    .page.activity-detail .chart-toggle-options button,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-set,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-cancel {\n        border-radius: 2px;\n        border: 1px solid #ccc;\n        background: transparent;\n        color: black;\n        box-shadow: none;\n    }\n\n    .page.activity-detail .customize-charts-controls .reorder-widgets-set {\n        background-color: #11a9ed;\n        color: textLight;\n    }\n\n    .page.activity-detail .customize-charts-list {\n        top: -6px;\n        left: -1px;\n        min-width: 200px;\n        border-radius: 10px;\n        background: white;\n        padding-left: 20px;\n        padding-right: 10px;\n        padding-top: 10px;\n    }\n\n    .page.activity-detail .customize-charts-header {\n        margin-top: -5px;\n        margin-left: -10px;\n    }\n\n    .page.activity-detail .dropdown-menu label {\n        margin-bottom: 10px;\n    }\n\n    .page.activity-detail .sortable-checkboxes .chart-off {\n        display: none;\n    }\n\n    .page.activity-detail .sortable-checkboxes.sort-mode .sortable-checkbox:not(:checked) + .chart-off {\n        display: block;\n        top: 1px;\n    }\n\n    .widget .heart-rate .chart-color-circle,\n    .page.activity-detail .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n    .page.activity-detail .no-overlay .chart-color-circle {\n        display: none;\n    }\n    .page.activity-detail .chart-zoom .chart-color-circle {\n        height: 16px;\n        width: 16px;\n        margin-top: -4px;\n    }\n\n    .page.activity-detail .stress .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n    .page.activity-detail .movement .chart-color-circle {\n        background-color: #b0e1f7;\n    }\n    .page.activity-detail .speed .chart-color-circle {\n        background-color: #11a9ed;\n    }\n    .page.activity-detail .elevation .chart-color-circle {\n        background-color: #4cb200;\n    }\n    .page.activity-detail .breath-rate .chart-color-circle {\n        background-color: #5036a3;\n    }\n\n    .widget .heart-rate .chart-color-circle,\n    .page.activity-detail .heart-rate .chart-color-circle {\n        background-color: #ff0035;\n    }\n    .page.activity-detail .performance-condition .chart-color-circle {\n        background-color: #6e8594;\n    }\n    .page.activity-detail .cadence .chart-color-circle,\n    .page.activity-detail .stride-length .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n    .page.activity-detail .power .chart-color-circle,\n    .page.activity-detail .power-balance .chart-color-circle {\n        background-color: #cf23b8;\n    }\n    .page.activity-detail .power-phase-start .chart-color-circle {\n        background-color: #11a9ed;\n    }\n    .page.activity-detail .power-phase-end .chart-color-circle {\n        background-color: #50b012;\n    }\n    .page.activity-detail .pco-left .chart-color-circle {\n        background-color: #bf0f24;\n    }\n    .page.activity-detail .pco-right .chart-color-circle {\n        background-color: #ed7e00;\n    }\n    .page.activity-detail .temperature .chart-color-circle {\n        background-color: #6e8594;\n    }\n    .page.activity-detail .vertical-o .chart-color-circle,\n    .page.activity-detail .vertical-r .chart-color-circle {\n        background-color: #cf25bb;\n    }\n    .page.activity-detail .reset-zoom,\n    .page.activity-detail .chart-zoom .x-axis-value {\n        position: relative;\n        left: 50%;\n        -webkit-transform: translateX(-50%);\n        -ms-transform: translateX(-50%);\n        transform: translateX(-50%);\n    }\n\n    /*  ======================\n        Swim Intervals\n        ======================  */\n    .page.activity-detail .modal-body h2,\n    .page.activity-detail .modal-body h5 {\n        display: inline-block;\n    }\n\n    .page.activity-detail .swim-interval .interval-title {\n        font-weight: 600;\n        margin: 22px 0 11px 0;\n    }\n    .page.activity-detail .swim-interval .interval-title .distance,\n    .page.activity-detail .swim-interval .interval-title .time {\n        font-weight: 400;\n        font-size: 14px;\n        display: inline-block;\n        margin-left: 8px;\n    }\n    .page.activity-detail .swim-length {\n        width: 110px;\n        height: 55px;\n        line-height: 40px;\n        float: left;\n        text-align: center;\n        background-color: #fafafa;\n        margin-right: -1px;\n        margin-bottom: 8px;\n        border: 1px solid #ddd;\n        overflow: hidden;\n    }\n    .page.activity-detail .swim-length.first {\n        border-radius: 30px 0 0 30px;\n    }\n    .page.activity-detail .swim-length.last {\n        border-radius: 0 30px 30px 0;\n        margin-right: 5px;\n    }\n    .page.activity-detail .swim-length.first .type {\n        padding-left: 15px;\n    }\n    .page.activity-detail .swim-length.last .type {\n        padding-right: 15px;\n    }\n    .page.activity-detail .swim-length.first.last {\n        border-radius: 30px;\n    }\n    .page.activity-detail .swim-length .type,\n    .page.activity-detail .swim-length .first.last .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: rgba(255, 255, 255, 0.7);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n    }\n    .page.activity-detail .swim-length .number {\n        background: #ddd;\n        display: inline-block;\n        vertical-align: middle;\n        width: 22px;\n        height: 22px;\n        line-height: 22px;\n        font-size: 12px;\n        border-radius: 50%;\n        color: #444;\n        float: left;\n        margin-top: 10px;\n        margin-left: 15px;\n    }\n    .page.activity-detail .swim-length .time {\n        font-weight: 100;\n        font-size: 18px;\n        color: #222;\n        float: right;\n        margin-right: 15px;\n    }\n    .page.activity-detail .swim-length.freestyle .type {\n        background: #cf23b8;\n    }\n    .page.activity-detail .swim-length.butterfly .type {\n        background: #11a9ed;\n    }\n    .page.activity-detail .swim-length.backstroke .type {\n        background: #50b012;\n    }\n    .page.activity-detail .swim-length.breaststroke .type {\n        background: #ff0035;\n    }\n    .page.activity-detail .swim-length.drill .type {\n        background: #ed7e00;\n    }\n    .page.activity-detail .swim-length.drill .number {\n        display: none;\n    }\n    .page.activity-detail .swim-length.drill .time {\n        float: none;\n        margin-right: 0;\n    }\n    .page.activity-detail .swim-length.mixed .type,\n    .page.activity-detail .swim-length.unknown .type {\n        background: #888;\n    }\n    .page.activity-detail .swim-rest {\n        float: left;\n        margin-bottom: 8px;\n        line-height: 40px;\n        background: #ddd;\n        border-radius: 30px;\n        overflow: hidden;\n        width: 90px;\n        text-align: center;\n        border: 1px solid #ddd;\n    }\n    .page.activity-detail .swim-rest .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: #eee;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n        background: #bbb;\n    }\n    .page.activity-detail .swim-rest .time {\n        font-size: 18px;\n        font-weight: 100;\n    }\n\n    /*  ======================\n        Player\n        ======================  */\n    .page.activity-detail .map-controls.player {\n        margin-left: calc(50% - 16px);\n        width: 33px;\n    }\n    .page.activity-detail .map-controls button.disabled {\n        display: none;\n    }\n\n    @media (max-width: 415px) {\n        .page.activity-detail #map-controls {\n            display: flex;\n            flex-direction: column;\n        }\n\n        .page.activity-detail #map-controls .map-control-item {\n            margin-bottom: 5px;\n        }\n    }\n\n    /*  ======================\n        Laps checkbox\n        ======================  */\n    .page.activity-detail .map-control-item.laps {\n        width: auto;\n        white-space: nowrap;\n    }\n    .page.activity-detail .map-control-item.laps label {\n        line-height: 33px;\n        padding-right: 10px;\n    }\n    .page.activity-detail .map-control-item.laps label input {\n        margin-top: 11px;\n        margin-right: 5px;\n        margin-left: 10px;\n    }\n\n    /*  ======================\n        Mobile Scroll Toggle\n        ======================  */\n    .page.activity-detail .map-control-item.scrolling {\n        clear: left;\n        width: auto;\n        margin-top: 6px;\n        padding-right: 10px;\n        padding-left: 10px;\n        white-space: nowrap;\n    }\n\n    /*  ======================\n        Weather\n        ======================  */\n    .page.activity-detail .weather *,\n    .page.activity-detail .weather.large * {\n        -webkit-transition: 150ms cubic-bezier(0.175, 0.885, 0.305, 1.24);\n        transition: 150ms cubic-bezier(0.175, 0.885, 0.305, 1.24);\n        -webkit-transform-style: preserve-3d;\n        transform-style: preserve-3d;\n    }\n    .page.activity-detail .weather {\n        right: 10px;\n        left: auto;\n        cursor: pointer;\n        margin-bottom: 5px;\n    }\n    .page.activity-detail .weather.not-expandable {\n        cursor: default;\n    }\n    .page.activity-detail .weather .map-control-item {\n        margin-right: 0;\n        width: auto;\n        padding: 0 5px;\n        overflow: hidden;\n    }\n    .page.activity-detail .weather span {\n        display: inline-block;\n        vertical-align: middle;\n        position: relative;\n        margin: 0 2px;\n    }\n    .page.activity-detail .weather .trigger {\n        top: 5px;\n        left: -4px;\n    }\n    .page.activity-detail .weather .trigger i {\n        color: iconSecondary;\n        font-size: 11px;\n        height: 11px;\n        width: 11px;\n        line-height: 11px;\n        margin-top: 0;\n    }\n    .page.activity-detail .weather .temperature {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n    .page.activity-detail .weather .humidity-percentage {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n    .page.activity-detail .weather .weather-icon {\n        margin-right: 5px;\n    }\n    .page.activity-detail .weather .weather-icon img {\n        height: 31px;\n        width: 31px;\n    }\n    .page.activity-detail .weather .wind {\n        width: 21px;\n        height: 21px;\n        line-height: 21px;\n        text-align: center;\n        font-size: 12px;\n        border: 1px solid #222;\n        border-radius: 50%;\n        margin-right: 0;\n    }\n    .page.activity-detail .weather .wind:before {\n        content: '';\n        display: block;\n        width: 0;\n        height: 15px;\n        border-width: 7px 3px;\n        border-style: solid;\n        border-color: #222 transparent transparent transparent;\n        position: absolute;\n        top: -4px;\n        left: 8px;\n    }\n    /*\n    .page.activity-detail .wind-n:before {\n        nothing needed - north is the default\n    }\n    */\n    .page.activity-detail .wind-nne:before {\n        -webkit-transform: rotate(22.5deg);\n        -ms-transform: rotate(22.5deg);\n        transform: rotate(22.5deg);\n    }\n    .page.activity-detail .wind-ne:before {\n        -webkit-transform: rotate(45deg);\n        -ms-transform: rotate(45deg);\n        transform: rotate(45deg);\n    }\n    .page.activity-detail .wind-ene:before {\n        -webkit-transform: rotate(77.5deg);\n        -ms-transform: rotate(77.5deg);\n        transform: rotate(77.5deg);\n    }\n    .page.activity-detail .wind-e:before {\n        -webkit-transform: rotate(90deg);\n        -ms-transform: rotate(90deg);\n        transform: rotate(90deg);\n    }\n    .page.activity-detail .wind-ese:before {\n        -webkit-transform: rotate(112.5deg);\n        -ms-transform: rotate(112.5deg);\n        transform: rotate(112.5deg);\n    }\n    .page.activity-detail .wind-se:before {\n        -webkit-transform: rotate(135deg);\n        -ms-transform: rotate(135deg);\n        transform: rotate(135deg);\n    }\n    .page.activity-detail .wind-sse:before {\n        -webkit-transform: rotate(157.5deg);\n        -ms-transform: rotate(157.5deg);\n        transform: rotate(157.5deg);\n    }\n    .page.activity-detail .wind-s:before {\n        -webkit-transform: rotate(180deg);\n        -ms-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n    .page.activity-detail .wind-ssw:before {\n        -webkit-transform: rotate(202.5deg);\n        -ms-transform: rotate(202.5deg);\n        transform: rotate(202.5deg);\n    }\n    .page.activity-detail .wind-sw:before {\n        -webkit-transform: rotate(225deg);\n        -ms-transform: rotate(225deg);\n        transform: rotate(225deg);\n    }\n    .page.activity-detail .wind-wsw:before {\n        -webkit-transform: rotate(247.5deg);\n        -ms-transform: rotate(247.5deg);\n        transform: rotate(247.5deg);\n    }\n    .page.activity-detail .wind-w:before {\n        -webkit-transform: rotate(270deg);\n        -ms-transform: rotate(270deg);\n        transform: rotate(270deg);\n    }\n    .page.activity-detail .wind-wnw:before {\n        -webkit-transform: rotate(292.5deg);\n        -ms-transform: rotate(292.5deg);\n        transform: rotate(292.5deg);\n    }\n    .page.activity-detail .wind-nw:before {\n        -webkit-transform: rotate(315deg);\n        -ms-transform: rotate(315deg);\n        transform: rotate(315deg);\n    }\n    .page.activity-detail .wind-nnw:before {\n        -webkit-transform: rotate(337.5deg);\n        -ms-transform: rotate(337.5deg);\n        transform: rotate(337.5deg);\n    }\n    .page.activity-detail .weather .map-control-item .details {\n        display: none;\n    }\n\n    .page.activity-detail .weather.weather-large .map-control-item {\n        height: 70px;\n        border-radius: 35px;\n        padding-right: 10px;\n    }\n    .page.activity-detail .weather.weather-large .trigger {\n        top: -4px;\n        left: -3px;\n        -webkit-transform: rotate(180deg);\n        -ms-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n    .page.activity-detail .weather.weather-large .temperature {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n    .page.activity-detail .weather.weather-large .humidity-percentage {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n    .page.activity-detail .weather.weather-large .weather-icon img {\n        width: 70px;\n        height: 70px;\n    }\n    .page.activity-detail .weather.weather-large .wind {\n        font-size: 18px;\n        width: 35px;\n        height: 35px;\n        line-height: 35px;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .page.activity-detail .weather.weather-large .wind:before {\n        border-width: 11px 4px;\n        height: 25px;\n        left: 13px;\n        top: -6px;\n    }\n    .page.activity-detail .weather.weather-large .details {\n        display: inline-block;\n        margin: 4px 8px 8px 0;\n    }\n    .page.activity-detail .weather .details ul {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        font-size: 12px;\n    }\n    .page.activity-detail .weather .details li {\n        margin: 0;\n        padding: 0;\n        line-height: 1.4;\n    }\n    .page.activity-detail .weather .details .source {\n        font-size: 9px;\n        color: textMedium;\n    }\n\n    @media (max-width: endXS) {\n        .page.activity-detail .weather.weather-large .map-control-item {\n            max-width: 270px;\n        }\n\n        .page.activity-detail .weather .weather-icon {\n            max-width: 40px;\n        }\n\n        .page.activity-detail .weather.weather-large .temperature {\n            font-size: 20px;\n            margin-left: 5px;\n        }\n\n        .page.activity-detail .weather.weather-large .weather-icon img {\n            width: 35px;\n            height: 35px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind {\n            font-size: 16px;\n            width: 25px;\n            height: 25px;\n            line-height: 25px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind:before {\n            height: 20px;\n            left: 9px;\n            top: -8px;\n        }\n\n        .page.activity-detail .weather.weather-large .details {\n            margin: 4px 4px 4px 0;\n        }\n    }\n\n    /*  ======================\n        Splits and intervals table\n        ======================  */\n    .page.activity-detail .tab-overflow {\n        overflow: scroll;\n    }\n    .page.activity-detail .splits-table th,\n    .page.activity-detail .intervals-table th {\n        white-space: nowrap;\n        padding-left: 20px;\n        text-align: right;\n    }\n    .page.activity-detail .splits-table th:nth-child(1),\n    .page.activity-detail .splits-table th:nth-child(2),\n    .page.activity-detail .intervals-table th:nth-child(2) {\n        text-align: center;\n    }\n    .page.activity-detail .intervals-table th:nth-child(2) {\n        padding-right: 20px;\n    }\n    .page.activity-detail .splits-table td,\n    .page.activity-detail .intervals-table td {\n        text-align: right;\n        white-space: nowrap;\n    }\n    .page.activity-detail .splits-table td:nth-child(1),\n    .page.activity-detail .splits-table td:nth-child(2),\n    .page.activity-detail .intervals-table td:nth-child(2) {\n        text-align: center;\n    }\n    .page.activity-detail .splits-table tfoot,\n    .page.activity-detail .intervals-table tfoot {\n        font-weight: bold;\n    }\n    .page.activity-detail .activity-intervals-tab-content-placeholder {\n        overflow: auto;\n        min-height: 190px;\n    }\n\n    .page.activity-detail .activity-filter-table-tab-content {\n        overflow: auto;\n        min-height: 190px;\n    }\n    /*  ======================\n        Gases and Tanks table\n        ======================  */\n    .page.activity-detail .gases-and-tanks-table th,\n    .page.activity-detail .gases-and-tanks-table td {\n        white-space: nowrap;\n        padding-left: 10px;\n        padding-right: 10px;\n        text-align: center;\n    }\n\n    /* Embed modal */\n    .embed-activity-input[type='text'] {\n        margin-bottom: 11px;\n        width: 97%;\n        cursor: pointer;\n    }\n    .embed-activity-iframe {\n        margin-left: 30px;\n    }\n    .modal.activity-detail-embed .modal-body {\n        max-height: 600px;\n    }\n\n    /* Create / Find segment button */\n\n    .page.activity-detail .activity-segments-container {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .page.activity-detail .create-segment .icon-add {\n        font-size: 12px;\n        height: 12px;\n        width: 12px;\n        line-height: 12px;\n        margin-top: 4px;\n        margin-right: 5px;\n    }\n\n    .page.activity-detail .segment-match-container {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .page.activity-detail .segment-match-container .segment-match-actions {\n        display: flex;\n        justify-content: flex-end;\n    }\n\n    /* Segments table */\n    .page.activity-detail .segments-table {\n        table-layout: fixed;\n    }\n    .page.activity-detail .segments-table .segment-name {\n        min-width: 190px;\n    }\n    .page.activity-detail .segments-table .segment-rank {\n        width: 40px;\n    }\n    .page.activity-detail .segments-table .segment-link {\n        vertical-align: middle;\n        width: 100%;\n    }\n    .page.activity-detail .segments-table .segment-time {\n        width: 75px;\n    }\n    .page.activity-detail .segments-table .segment-pace {\n        width: 90px;\n    }\n    .page.activity-detail .segments-table .segment-fav,\n    .page.activity-detail .segments-table .segment-visible {\n        width: 25px;\n    }\n    .page.activity-detail .segments-table .icon-star.fav {\n        vertical-align: middle;\n    }\n    .page.activity-detail .segments-table .icon-eye {\n        vertical-align: middle;\n        font-size: 18px;\n        color: darkui_accent_3;\n        cursor: pointer;\n    }\n    .page.activity-detail .segments-table .icon-eye.active {\n        color: iconSecondaryDark;\n    }\n\n    @media (max-width: endSM) {\n        .page.activity-detail .segments-table {\n            /* Creates a horizontally scrollable table that moves independently from the page when the page is too narrow */\n            display: block;\n            overflow-x: auto;\n            max-width: 90vw;\n        }\n    }\n\n    /* Additional info */\n    .page.activity-detail .additional-info > div {\n        text-align: center;\n    }\n    .page.activity-detail .additional-info .device-image img {\n        width: 50%;\n    }\n    .page.activity-detail .additional-info .device-name {\n        font-weight: 600;\n    }\n    /* mbtester - admin */\n    .page.activity-detail .additional-info .admin {\n        background: #e6ff84;\n    }\n\n    .page.activity-detail .power-curve-excluded {\n        margin-top: 40px;\n    }\n\n    .page.activity-detail .power-curve-excluded .heading {\n        font-size: 18px;\n    }\n\n    .page.activity-detail .power-curve-excluded .sub-heading {\n        margin: 20px 0px 10px 0px;\n    }\n\n    /*  ======================\n        Manual Activity Page / Edit Activity\n        ======================  */\n    .page.activity-edit .time-zone-select {\n        font-size: 12px;\n        margin-left: 5px;\n        cursor: pointer;\n    }\n    .page.activity-edit .time-zone-select > a {\n        display: inline-block;\n        line-height: 11px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n    .page.activity-edit .avg-pace-speed {\n        width: auto;\n    }\n    .page.activity-edit .advanced-edit-actions-container {\n        display: flex;\n        width: 210px;\n        justify-content: space-between;\n    }\n\n    /*  ======================\n        Multisport\n        ======================  */\n    .page.activity-detail .multisport-nav > li {\n        text-align: center;\n    }\n    .page.activity-detail .multisport-nav > li > a {\n        padding-bottom: 10px;\n    }\n    .page.activity-detail .multisport-nav > li > a > .icon > i {\n        display: block;\n        margin: 0 auto;\n        font-size: 36px;\n        width: 36px;\n        height: 36px;\n        line-height: 36px;\n    }\n    .page.activity-detail .multisport-nav > li > a > .icon > .icon-activity-transition {\n        font-size: 20px;\n    }\n    .page.activity-detail .multisport-nav > li > a > .avg-stat {\n        font-size: 10px;\n        line-height: 1;\n        height: 10px;\n    }\n    .page.activity-detail .multisport-nav .dropdown-menu i {\n        font-size: 16px;\n        width: 16px;\n        height: 16px;\n        line-height: 16px;\n        margin-right: 10px;\n    }\n    .page.activity-detail .multisport-nav .dropdown-menu {\n        text-align: left;\n    }\n\n    /*  ======================\n        Connect IQ Label\n        ======================  */\n    .ciq-label {\n        color: textMedium;\n        font-size: 12px;\n        width: 12px;\n        height: 11px;\n        line-height: 11px;\n        margin-left: 5px;\n        vertical-align: middle;\n    }\n\n    /*  ======================\n        Media queries for responsive breakpoints\n        ======================  */\n    @media (max-width: 1158px) {\n        .page.activity-detail .activity.stats .row-fluid [class*='span'] {\n            width: 100%;\n            margin-left: 0;\n        }\n    }\n\n    /*  ======================\n        Cycling Dynamics Tab\n        ======================  */\n    .cycling-dynamics .custom-max-avg-power {\n        display: inline-block;\n        margin-top: -10px;\n    }\n    .cycling-dynamics .max-avg-label {\n        margin-right: 5px;\n    }\n    .cycling-dynamics .cycling-tab-controls {\n        min-height: 30px;\n    }\n    .cycling-dynamics .cycling-tab-controls .input-small {\n        margin-bottom: 0;\n    }\n\n    /*  ======================\n        Platform Center Offset\n        ======================  */\n    .cycling-dynamics .pco-content {\n        padding: 0 21px;\n    }\n    .cycling-dynamics .pco-content .chart-container {\n        margin: 0 auto;\n        height: 160px;\n    }\n    .platform-center-offset > canvas {\n        width: 160px;\n        height: 160px;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n    }\n    .platform-center-offset-left > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-left.svg');\n    }\n    .platform-center-offset-right > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-right.svg');\n    }\n\n    /*  ======================\n        Peak Power Phase\n        ======================  */\n    .power-phase {\n        width: 100%;\n        padding-bottom: 10px;\n        margin-bottom: 20px;\n        border-bottom: 1px solid #ddd;\n    }\n    .power-phase-charts {\n        width: 660px;\n        height: 260px;\n        margin: 0 auto;\n    }\n    .power-phase-charts > div {\n        width: 325px;\n    }\n    .power-phase-charts > div:first-child {\n        float: left;\n    }\n    .power-phase-charts > div:last-child {\n        float: right;\n    }\n    .power-phase-charts .chart-container {\n        /* Dynamic Highchart Graphic */\n        margin-top: -273px;\n        margin-left: 17px;\n    }\n    .power-phase-charts .chart-container sup {\n        font-size: 22px;\n        top: -12px;\n    }\n    .power-phase-graphic {\n        /* Background Image */\n        display: inline-block;\n        width: 250px;\n        height: 250px;\n        margin: 0 0 22px 0;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/power-phase.svg');\n    }\n    @media (max-width: 1310px) {\n        .cycling-dynamics .custom-max-avg-power {\n            display: block;\n            margin-top: 10px;\n        }\n        .cycling-dynamics #avg-power-range-value {\n            float: none;\n            display: inline-block;\n        }\n    }\n    @media (max-width: 640px) {\n        .power-phase-charts {\n            width: 100%;\n        }\n        .power-phase-charts > div {\n            width: 195px;\n        }\n        .power-phase-charts .chart-container {\n            margin-top: -225px;\n            margin-left: -18px;\n        }\n        .power-phase-graphic {\n            width: 200px; /* chart design is small */\n            height: 200px;\n        }\n    }\n    @media (max-width: 520px) {\n        .power-phase {\n            border-width: 0;\n        }\n        .power-phase-charts {\n            height: 520px;\n        }\n        .power-phase-charts > div:first-child,\n        .power-phase-charts > div:last-child {\n            float: none;\n            width: 325px;\n            margin: 0 auto 30px auto;\n        }\n        .power-phase .chart-container {\n            margin-top: -274px;\n            margin-left: 19px;\n        }\n        .power-phase-graphic {\n            width: 250px; /* chart design is medium & stacked */\n            height: 250px;\n        }\n    }\n\n    /*  ======================\n        Seated & Standing Position\n        ======================  */\n    .cycling-dynamics .seated-standing {\n        padding-left: 20px;\n        padding-right: 20px;\n        margin-bottom: 0;\n        border-left: 1px solid #ddd;\n    }\n    .position-seated > span,\n    .position-standing > span {\n        margin: auto auto 0 auto;\n        max-width: 80%;\n        vertical-align: bottom;\n        display: block;\n        width: 200px;\n        height: 160px;\n        background-position: center;\n        background-repeat: no-repeat;\n        margin-left: auto;\n        margin-right: auto;\n    }\n    .position-seated > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/seated.svg');\n    }\n    .position-standing > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/standing.svg');\n    }\n\n    /*  ======================\n        Media Queries provided by Joshua Johnston (front-end team)\n        ======================  */\n    @media (max-width: 1175px) {\n        .pco-content .span6,\n        .seated-standing .span6 {\n            width: 100%; /* stack these graphics early */\n            margin: 0 auto;\n        }\n    }\n    @media (max-width: 767px) {\n        .cycling-dynamics .seated-standing {\n            border-left: 0;\n        }\n    }\n    @media (max-width: 653px) {\n        .cycling-dynamics .cycling-tab-controls {\n            max-height: 85px;\n        }\n    }\n\n    /*  ======================\n        Activity List Table in Modal\n        ======================  */\n    .modal .activity-list .activity-title {\n        width: 250px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        display: inline-block;\n        vertical-align: middle;\n        white-space: nowrap;\n        line-height: 1.3;\n    }\n\n    /*ACTIVITY LIKING*/\n    .page-navigation-action .like-link:hover {\n        background: transparent;\n    }\n\n    /*NO PRIVILEGES PAGE*/\n    .no-privileges h3 {\n        line-height: 2rem;\n    }\n    .no-privileges .locked-activity {\n        font-size: 80px;\n        color: #e5e5e5;\n        display: block;\n        padding-right: 65px;\n    }\n    .ciq-info {\n        max-width: 250px;\n        margin: 33px auto 0;\n    }\n\n    .page.activity-detail .ciq-info .app-name a {\n        font-weight: 600;\n    }\n\n    .page.activity-detail .ciq-info .aspect {\n        position: relative;\n        width: 100%;\n        max-width: 80px;\n        margin: 15px auto;\n    }\n\n    .page.activity-detail .ciq-info .aspect-square {\n        padding-top: 100%;\n    }\n\n    .page.activity-detail .ciq-info .aspect-element {\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        top: 0;\n    }\n\n    @media (max-width: 1156px) and (min-width: 414px) {\n        .activity.stats .row-fluid .span3 {\n            width: 48% !important;\n            margin: 0;\n            display: inline-block;\n            float: left;\n        }\n        .activity.stats .row-fluid .span3 {\n            margin-left: 2% !important;\n        }\n    }\n    /*iPhone 6+ and smaller*/\n    @media screen and (max-device-width: 415px) {\n        .page.activity-detail .page-header-content .page-title .page-title-overflow {\n            max-width: calc(100% - 50px);\n        }\n        .page.activity-detail .page-title .icon-personal-records {\n            height: 25px;\n        }\n        .page.activity-detail .activity-type-icon {\n            width: 40px;\n            height: 40px;\n            line-height: 40px;\n            margin-top: 0;\n            margin-right: 6px;\n            font-size: 20px;\n            box-shadow: 0 0 0 2px #ccc;\n        }\n        .page.activity-detail .page-header-content .date-block {\n            clear: both;\n        }\n        .chart-header .span4 {\n            display: inline-block;\n        }\n        .page.activity-detail .highcharts-container {\n            /*TO PREVENT THE CARTS FROM BREAKING PAST THE CONTAINER*/\n            margin-left: -10px;\n        }\n        .chart-header .span9 {\n            width: 100%;\n            display: inline-block;\n        }\n        .chart-header .span3 {\n            display: none;\n        }\n        .chart-header .span3 button {\n            font-size: 12px;\n            vertical-align: middle;\n            line-height: 15px;\n        }\n        .row-fluid.chart-header [class*='span'] {\n            float: left;\n        }\n\n        /* Layout */\n        .page.activity-detail .page-header-content .date-block {\n            margin-top: -24px;\n        }\n\n        /* Page Navigation */\n        .page.activity-detail .page-header-content {\n            width: calc(100% - 60px);\n        }\n\n        /* Dropdown Menus */\n        .page.activity-detail .page-dropdown {\n            display: inline-block;\n        }\n        .page.activity-detail .page-navigation .dropdown-menu {\n            right: -1px;\n            top: -6px;\n        }\n\n        /* Icons */\n        .page.activity-detail .inline-edit-trigger {\n            width: 28px;\n            height: 28px;\n        }\n        .page.activity-detail .inline-edit-save[class*='icon-'],\n        .page.activity-detail .inline-edit-cancel[class*='icon-'] {\n            height: 28px;\n            width: 28px;\n        }\n        .page.activity-detail .page-title .inline-edit-actions button {\n            margin-top: 7px;\n        }\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-navigation-action:last-child {\n            padding: 3px 7px;\n        }\n        .page.activity-detail .inline-edit-trigger,\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            font-size: 16px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            right: 7px;\n            top: 1px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu > li > a [class^='icon-'] {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown .icon-pointer-down {\n            font-size: 10px;\n        }\n\n        /* Unique Icon Styles */\n        .page.activity-detail .page-navigation .icon-share,\n        .page.activity-detail .page-dropdown .dropdown-menu .icon-share {\n            font-size: 18px;\n        }\n        .page.activity-detail .help-icon {\n            font-size: 18px;\n            height: 20px;\n            width: 20px;\n        }\n\n        /* Type */\n        .page.activity-detail .page-intro .date-block,\n        .page.activity-detail .like,\n        .page.activity-detail .dropdown-menu > li {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown-menu > li > a {\n            line-height: 22px;\n        }\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type,\n        .page.activity-detail .gear-indicator {\n            white-space: nowrap;\n        }\n\n        /* Charts */\n        .page.activity-detail .chart-header-main .span4 {\n            display: none;\n        }\n        .page.activity-detail .chart-header-main .span4.chart-x-axis-toggle {\n            display: inline-block;\n            width: 100%;\n        }\n        .page.activity-detail .chart-header {\n            margin-top: 11px;\n        }\n    }\n\n    /*ACTIVITY - REP COUNTING*/\n    .rep-counting-table td {\n        vertical-align: middle;\n    }\n    .page.activity-detail table.rep-counting-table {\n        margin-bottom: 10px;\n    }\n\n    [data-activity-type='pilates'] .workout-name {\n        width: 70%;\n    }\n\n    [data-activity-type='yoga'] .workout-name {\n        width: 70%;\n    }\n\n    .table.rep-counting-table td {\n        border-top: 1px solid #e5e5e5;\n    }\n    /*\n    For the play video button\n    .page.activity-detail .rep-counting-table td a [class*=\"icon-\"] {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        margin-right: 5.5px;\n        font-size: 12px;\n        text-align: center;\n        box-shadow: 0 0 0 1px #ccc;\n        border-radius: 50%;\n        color: #888;\n        background: #fafafa;\n    }*/\n    .page.activity-detail .rep-counting-table td .input-append {\n        margin-bottom: 0;\n    }\n    .page.activity-detail .rep-counting-table td .input-small {\n        width: 50px;\n    }\n\n    .page.activity-edit .rep-counting-table th:first-child,\n    .page.activity-edit .rep-counting-table th:last-child,\n    .page.activity-edit .rep-counting-table td:first-child,\n    .page.activity-edit .rep-counting-table td:last-child {\n        width: 15px;\n        color: textMedium;\n    }\n    .page.activity-detail .rep-counting-table th:nth-child(3),\n    .page.activity-detail .rep-counting-table th:nth-child(4),\n    .page.activity-detail .rep-counting-table th:nth-child(5),\n    .page.activity-detail .rep-counting-table th:nth-child(6),\n    .page.activity-detail .rep-counting-table td:nth-child(3),\n    .page.activity-detail .rep-counting-table td:nth-child(4),\n    .page.activity-detail .rep-counting-table td:nth-child(5),\n    .page.activity-detail .rep-counting-table td:nth-child(6) {\n        text-align: center;\n    }\n    .page.activity-detail .rep-counting-table th:first-child,\n    .page.activity-detail .rep-counting-table td:first-child {\n        text-align: center;\n    }\n    .page.activity-detail .rep-counting-table td:first-child p {\n        border: 1px solid #888;\n        border-radius: 50%;\n        height: 20px;\n        width: 20px;\n        line-height: 20px;\n        font-size: 10px;\n        color: textMedium;\n        margin: 0 auto;\n    }\n\n    .page.activity-detail .rep-counting-table td:last-child a {\n        font-size: 12px;\n        font-family: 'Open Sans', 'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', Helvetica, Arial,\n            sans-serif;\n        line-height: 22px;\n    }\n    .page.activity-edit .page-navigation .btn {\n        margin-top: 0;\n    }\n\n    /*DRAG & DROP -\n    HINT FOR WHERE THE EXERCISE IS GOING TO GO*/\n    .rep-placehold-row {\n        height: 60px;\n    }\n    .rep-placehold:before {\n        float: left;\n        left: -12px;\n    }\n    .rep-placehold:after {\n        float: right;\n        right: -13px;\n    }\n    /*FOR A BORDER WHEN USER HOVERS OVER THE DRAG HANDLE*/\n    .rep-counting-table tr {\n        border-left: 1px solid rgba(170, 170, 170, 0);\n        border-right: 1px solid rgba(170, 170, 170, 0);\n        border-bottom: 1px solid rgba(170, 170, 170, 0);\n    }\n    .rep-counting-table .hover-rep-row {\n        border: 1px solid rgba(170, 170, 170, 0.4);\n    }\n    /*FOR A THICKER BORDER WHEN USER IS DRAGGING*/\n    .rep-counting-table .ui-sortable-helper {\n        box-shadow: 0px 0px 0px 2px rgba(170, 170, 170, 0.75);\n        border-top: transparent;\n        background: #ffffff;\n    }\n    /*ADD RED BORDER FOR ERROR ON EXERCISE NAME*/\n    .chosen-container-single .chosen-single.error {\n        color: #bf0f24;\n        border-color: #bf0f24;\n    }\n\n    /*  ======================\n        Exercise Rounds Table\n        ======================  */\n    td.parent-round {\n        cursor: pointer;\n        color: rgb(0, 0, 0);\n        font-size: 14px;\n        font-weight: bold;\n        height: 21px;\n        letter-spacing: 0px;\n        line-height: 21px;\n        width: 31px;\n    }\n\n    td.parent-round .caret {\n        vertical-align: middle;\n        margin-left: 5px;\n    }\n\n    .rounds [data-toggle='collapse'].collapsed {\n        transform: rotate(180deg);\n    }\n\n    tr.roundsAlternatingRow {\n        background-color: lightui_surface_1;\n    }\n    /*  ======================\n        Activity Compare Page\n        ======================  */\n    .activity-compare .summary [class^='icon-'],\n    .activity-compare .summary [class*=' icon-'] {\n        text-align: center;\n        border-radius: 50%;\n        color: iconSecondary;\n        background: #fafafa;\n        width: 40px;\n        height: 40px;\n        line-height: 40px;\n        font-size: 22px;\n        box-shadow: 0 0 0 2px #ccc;\n        display: block;\n        margin: 0 auto 10px auto;\n    }\n    .activity-compare .summary {\n        margin-bottom: 0;\n    }\n    .activity-compare thead th,\n    .activity-compare td {\n        text-align: center;\n        border-left: 2px solid #ddd;\n    }\n    .activity-compare .laps th,\n    .activity-compare .laps td {\n        border-left-color: #f0f0f0;\n    }\n    .activity-compare .laps th:nth-child(3n + 2),\n    .activity-compare .laps td:nth-child(3n + 2) {\n        border-left-color: #ddd;\n    }\n    .activity-compare .laps th:nth-child(1) {\n        text-align: left;\n    }\n    .activity-compare .four-up .summary thead th,\n    .activity-compare .four-up .summary td {\n        vertical-align: top;\n    }\n    .activity-compare .row-label {\n        text-align: left;\n    }\n    .activity-compare .laps th {\n        font-weight: normal;\n        color: textMedium;\n    }\n    .activity-compare .four-up th {\n        width: 20%;\n    }\n    .activity-compare .three-up th {\n        width: 25%;\n    }\n    .activity-compare .two-up th {\n        width: 33.3%;\n    }\n    .activity-compare th:first-child,\n    .activity-compare td:first-child {\n        border-left: none;\n    }\n\n    /*  ======================\n      Battery Status\n    ======================  */\n    .page.activity-detail [class^='icon-battery-status-'],\n    .page.activity-detail .icon-caution {\n        margin-left: 5px;\n        font-size: 16px;\n        line-height: 18px;\n    }\n\n    /*  ======================\n      Activity Playlist\n    ======================  */\n    .page.activity-detail .playlist-card {\n        max-height: 350px;\n        overflow-y: auto;\n        overflow-x: auto;\n        border: 1px solid #e5e5e5;\n        border-radius: 4px;\n        padding: 11px;\n    }\n    .page.activity-detail .list-number {\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        height: 24px;\n        width: 24px;\n        text-align: center;\n        padding-top: 2px;\n        background: #fff;\n    }\n\n    .page.activity-detail .playlist-privacy {\n        float: right;\n        margin-right: 20px;\n        margin-top: -25px;\n        font-size: 12px;\n        color: textMedium;\n    }\n\n    /*  ======================\n      Responsive Table Standards - applies to rep-counting table\n      ======================  */\n\n    @media (max-width: 1125px) {\n        .minimize-main-nav .span8.exercise-table-edit {\n            width: 65.95744680851064%;\n        }\n        .span8.exercise-table-edit {\n            width: 100%;\n        }\n    }\n\n    @media (max-width: 855px) {\n        /* Forcing table to not behave in its usual manner.*/\n        .rep-counting-table,\n        .rep-counting-table thead,\n        .rep-counting-table tbody,\n        .rep-counting-table th,\n        .rep-counting-table td,\n        .rep-counting-table tr {\n            display: block;\n        }\n        .rep-counting-table-edit {\n            margin-top: 15px;\n        }\n\n        /* Hiding table headers (but not display: none for accessibility purposes)*/\n        .rep-counting-table thead tr {\n            position: absolute;\n            top: -9999px;\n            left: -9999px;\n        }\n\n        .page.activity-detail .rep-counting-table tr {\n            border-bottom: 4px solid #888;\n        }\n\n        /* Forcing td to behave like a row.*/\n        .rep-counting-table td {\n            border: none;\n            border-bottom: 1px solid #eee;\n            position: relative;\n            padding-left: 40%;\n        }\n\n        /*Forcing content \"before\" to behave like a table heading.*/\n        .rep-counting-table td:before {\n            position: absolute;\n            font-weight: bold;\n            /* Top/left values mimic padding */\n            top: 6px;\n            left: 6px;\n            width: 45%;\n            padding-right: 10px;\n            white-space: nowrap;\n        }\n        .rep-counting-table td:before {\n            /*Handling truncation of before content.*/\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:last-child {\n            width: auto;\n            height: 20px;\n        }\n\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(3),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(4),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(5),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(6),\n        .page.activity-detail .rep-counting-table td:first-child:before,\n        .page.activity-detail .rep-counting-table td:nth-child(3):before,\n        .page.activity-detail .rep-counting-table td:nth-child(4):before,\n        .page.activity-detail .rep-counting-table td:nth-child(5):before,\n        .page.activity-detail .rep-counting-table td:nth-child(6):before,\n        .page.activity-detail .rep-counting-table td:nth-child(3),\n        .page.activity-detail .rep-counting-table td:nth-child(4),\n        .page.activity-detail .rep-counting-table td:nth-child(5),\n        .page.activity-detail .rep-counting-table td:nth-child(6) {\n            text-align: left;\n        }\n\n        /* Label the data*/\n        .page.activity-detail .rep-counting-table td:first-child:before {\n            content: attr(data-title-1);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(2):before {\n            content: attr(data-title-2);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(3):before {\n            content: attr(data-title-3);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(4):before {\n            content: attr(data-title-4);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(5):before {\n            content: attr(data-title-5);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(6):before {\n            content: attr(data-title-6);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(7):before {\n            content: attr(data-title-7);\n        }\n    }\n\n    .page.activity-detail .chosen-single .icon-pointer-down {\n        font-size: 8px;\n    }\n    .activity-compare .summary th h1 {\n        display: inline-block;\n    }\n    .activity-compare .summary th .data-label {\n        display: block;\n        font-weight: 300;\n        line-height: 25px;\n    }\n    .activity-compare .laps .stat {\n        border-bottom: 1px dotted inherit;\n    }\n    .activity-compare .four-up .laps .stat {\n        width: 6.6%;\n    }\n    .activity-compare .three-up .laps .stat {\n        width: 8.2%;\n    }\n    .activity-compare .two-up .laps .stat {\n        width: 11.2%;\n    }\n    .activity-compare .toggle-detail {\n        width: 100%;\n        background: secondary;\n        color: textLight;\n        padding: 2px 0;\n        text-decoration: none;\n        display: block;\n        text-align: center;\n        font-size: 12px;\n    }\n\n    @media screen and (max-device-width: 1024px) {\n        .activity-compare .laps-table-header,\n        .activity-compare .laps.table {\n            display: none;\n        }\n        .activity-compare .table-responsive thead tr {\n            position: relative;\n            top: auto;\n            left: auto;\n        }\n        .activity-compare .table-responsive th {\n            width: 100%;\n        }\n        .activity-compare .summary [class^='icon-'],\n        .activity-compare .summary [class*=' icon-'] {\n            width: 26px;\n            height: 26px;\n            line-height: 26px;\n            font-size: 15px;\n            margin-bottom: 5px;\n        }\n        .activity-compare .table-responsive th,\n        .activity-compare .table-responsive td {\n            padding-left: 0;\n            border-left: none;\n        }\n        .activity-compare .table-responsive .row-label {\n            padding-left: 10px;\n        }\n        .table-responsive,\n        .table-responsive thead,\n        .table-responsive tbody,\n        .table-responsive th,\n        .table-responsive td,\n        .table-responsive tr {\n            display: block;\n        }\n\n        /*\n            td:not(:first-child) {\n                counter-increment: rowNumber;\n            }\n            td:not(:first-child):before {\n                content: counter(rowNumber);\n                text-align: left;\n                font-weight: normal;\n                top: auto;\n                width: auto;\n                color: #bbb;\n            }\n        */\n    }\n\n    /* start from resource-js */\n\n    .page.activity-detail .activity-map-canvas {\n        height: 400px;\n        margin-top: 5px;\n        z-index: 0;\n    }\n\n    .page.activity-detail .activity-map-canvas .baiduLogo {\n        z-index: 400;\n    }\n\n    .page.activity-detail html {\n        height: 100%;\n    }\n    .page.activity-detail body {\n        height: 100%;\n        margin: 0;\n        padding: 0;\n    }\n\n    .page.activity-detail .is_stuck .activity-map-canvas {\n        margin-top: 58px;\n        height: 200px;\n        overflow: hidden;\n    }\n\n    .page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n\n    .page.activity-detail .kevin-temp {\n        background-color: yellow;\n        color: red;\n        font-weight: bold;\n    }\n\n    .page.activity-detail .modal.fullscreen.expanded-chart .modal-body {\n        overflow: hidden;\n    }\n\n    .page.activity-detail .pointer-events-none {\n        pointer-events: none;\n    }\n\n    .full-screen-map {\n        position: fixed;\n        z-index: 1000; /* IE needs a big number */\n        left: 0;\n        top: 0;\n    }\n\n    /* Not preferred, but this will allow us to use full-screen-map everywhere */\n    .full-screen-map .leaflet-container {\n        position: fixed !important;\n        height: 100% !important;\n        width: 100% !important;\n    }\n\n    /* end from resource-js */\n\n    #activity-map-canvas.short {\n        height: 210px;\n    }\n\n    /* ===============\n          Dive Log\n       =============== */\n\n    .page.activity-detail .dive-canvas {\n        position: relative;\n        height: 230px;\n        min-width: 551px;\n    }\n\n    .page.activity-detail .dive-canvas .canvas {\n        width: 100%;\n        height: 100%;\n    }\n\n    .page.activity-detail .dive-log-stat {\n        position: absolute;\n        z-index: 1;\n        width: 150px;\n        height: 20px;\n        text-align: center;\n    }\n\n    .page.activity-detail .dive-log-label {\n        color: #999999;\n    }\n\n    .page.activity-detail .avg-depth-label {\n        color: #ff9f10;\n    }\n\n    .page.activity-detail .deco-dive-label {\n        color: #d0021b;\n    }\n\n    .page.activity-detail .dive-log-stat.right {\n        right: 0;\n    }\n\n    .page.activity-detail .dive-log-stat.center {\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n    }\n\n    .page.activity-detail .dive-log-value {\n        font-size: 24px;\n    }\n\n    .page.activity-detail .dive-log-label {\n        font-size: 12px;\n    }\n\n    .page.activity-detail .surface-interval-stat {\n        top: 16px;\n    }\n\n    .page.activity-detail .time-in-stat {\n        top: 83px;\n    }\n\n    .page.activity-detail .max-depth-stat {\n        top: 150px;\n    }\n\n    .page.activity-detail .avg-depth-stat {\n        top: 83px;\n    }\n\n    .page.activity-detail .bottom-time-stat {\n        top: 150px;\n    }\n\n    .page.activity-detail .time-out-stat {\n        top: 83px;\n    }\n\n    .page.activity-detail .deco-dive-stat {\n        top: 150px;\n    }\n\n    .page.activity-detail .deco-dive-value {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        font-size: 11px;\n        text-align: center;\n        border-radius: 50%;\n        color: #fbebed;\n        background: #d0021b;\n        font-style: normal;\n        margin: 0 auto;\n        font-weight: 600;\n    }\n\n    .page.activity-detail .apnea-dives-table .apnea-map {\n        width: 85px;\n        height: 62px;\n    }\n\n    /* hide attribution - could break if we update google mutant */\n    .page .apnea-dives-table .apnea-map .gmnoprint,\n    .page .apnea-dives-table .apnea-map .leaflet-google-mutant.leaflet-top.leaflet-left .gm-style img,\n    .page .apnea-dives-table .apnea-map .leaflet-control-attribution {\n        display: none;\n    }\n\n    /* ===============\n        Activity Details Dive App\n       =============== */\n\n    .dive-app-link-info {\n        text-align: center;\n        margin-top: 30px;\n    }\n\n    .dive-app-icon {\n        height: 56px;\n        letter-spacing: 0px;\n        width: 56px;\n    }\n\n    .garmin-dive {\n        font-weight: 600;\n    }\n\n    .dive-app-store {\n        display: flex;\n        flex-wrap: nowrap;\n        margin-top: 25px;\n        justify-content: center;\n    }\n\n    .dive-store-apple {\n        margin-right: 5px;\n    }\n\n    @media (max-width: 610px) {\n        .page.activity-detail .dive-canvas {\n            height: 170px;\n            min-width: 380px;\n        }\n\n        .page.activity-detail .dive-log-value {\n            font-size: 20px;\n        }\n\n        .page.activity-detail .dive-log-label {\n            display: block;\n            margin-top: -2px;\n        }\n\n        .page.activity-detail .dive-log-value.deco-dive-value {\n            font-size: 11px;\n        }\n\n        .page.activity-detail .surface-interval-stat {\n            top: 5px;\n        }\n\n        .page.activity-detail .time-in-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .max-depth-stat {\n            top: 107px;\n        }\n\n        .page.activity-detail .avg-depth-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .bottom-time-stat {\n            top: 106px;\n        }\n\n        .page.activity-detail .time-out-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .dive-log-stat {\n            width: 105px;\n            height: 20px;\n        }\n\n        .page.activity-detail .deco-dive-stat {\n            top: 106px;\n        }\n    }\n\n    .page.activity-detail .note-container h3 {\n        font-size: 17px;\n        margin: 0 0 8px;\n    }\n\n    .page.activity-detail .video-container.border-wrapper,\n    .page.activity-detail .note-container.border-wrapper {\n        border-top: none;\n    }\n\n    .page.activity-detail .wrapper-top-container {\n        border-bottom: none;\n    }\n\n    .page.activity-detail .edit-dive-activity-dive-label {\n        display: inline;\n    }\n\n    .page.activity-detail .diving.inline-edit-text-field {\n        top: 12px;\n    }\n\n    .page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectLabelContainer {\n        display: flex;\n    }\n\n    .page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectStatChip {\n        border-radius: 50%;\n        height: 8px;\n        width: 8px;\n        margin-top: 7px;\n        margin-right: 8px;\n    }\n\n    .modal-body .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n\n    /* ===============\n          Advanced Activity Editing\n       =============== */\n\n    .page.activity-advanced-edit .tab-content {\n        margin-bottom: 10px;\n    }\n\n    .page.activity-advanced-edit .activity-edit-container {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: flex-start;\n        padding-left: 60px;\n    }\n\n    .page.activity-advanced-edit .activity-edit-container .item {\n        margin-right: 20px;\n    }\n\n    .page.activity-advanced-edit .button-container {\n        width: 50%;\n    }\n\n    .page.activity-advanced-edit .flex-row {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        width: 100%;\n    }\n\n    .page.activity-advanced-edit .flex-column {\n        display: flex;\n        flex-direction: column;\n        flex-basis: 100%;\n        flex: 1;\n        margin: 5px 5px 5px 5px;\n    }\n\n    .page.activity-advanced-edit .advanced-learn-more {\n        margin-top: 20px;\n    }\n\n    .page.activity-advanced-edit .data-bit.no-wrap {\n        white-space: nowrap;\n    }\n\n    .page.activity-advanced-edit .trim-band {\n        opacity: 0.8;\n    }\n\n    .page.activity-advanced-edit .trim-slider {\n        margin-top: -8px;\n        margin-left: 18px;\n        margin-right: 8px;\n    }\n\n    /*  ======================\n        Activity Intervals Edit\n        ======================  */\n\n    .page.activity-intervals-edit .edit-intervals-title {\n        text-transform: uppercase;\n        margin-bottom: 15px;\n        margin-left: 10px;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-button-container {\n        display: flex;\n        width: 30%;\n        justify-content: space-between;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-learn-more span {\n        font-size: 12px;\n        font-weight: normal;\n        color: rgb(108, 108, 108);\n        line-height: 18px;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-button-container button {\n        box-shadow: none;\n        border-radius: 4px;\n        border: none;\n        font-size: 14px;\n        font-weight: 300;\n        text-align: center;\n        text-shadow: 0 1px 0 #0c7cad;\n        color: #fafafa;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-button-container button.reverse {\n        border: 1px solid rgb(228, 228, 228);\n        color: rgb(0, 0, 0);\n        font-weight: normal;\n        text-shadow: none;\n    }\n\n    /*  ======================\n        Sticky Header\n        ======================  */\n    .activity-advanced-edit .sticky-header {\n        background: #fff;\n        z-index: 5;\n    }\n\n    .activity-advanced-edit .sticky-header.stuck,\n    .main-nav-hover .activity-advanced-edit .sticky-header.stuck {\n        position: fixed;\n        z-index: 3;\n    }\n\n    .loading-overlay.spinner-container {\n        content: '';\n        display: block;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.9);\n        z-index: 999;\n    }\n\n    .spinner-container .absolute-center {\n        position: fixed;\n        z-index: 999;\n        height: 2em;\n        width: 2em;\n        overflow: show;\n        margin: auto;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n    }\n\n    .activity-detail .spinner-container .h5.text-center {\n        width: 200px;\n        margin-left: -63px;\n    }\n\n    #advanced-activity-tab-placeholder .tooltip-error {\n        z-index: 40 !important; /* sticky header issue */\n    }\n\n    .gasTypeSelect {\n        padding-top: 5px;\n    }\n\n    .activity-detail .map-legend-container {\n        width: 100%;\n    }\n\n    .activity-detail .map-legend {\n        width: 100%;\n        display: flex;\n        justify-content: center;\n    }\n\n    @media print {\n        .main-nav,\n        header.header,\n        .takeover-container,\n        .system-message {\n            display: none;\n        }\n\n        body,\n        html,\n        .main-body,\n        .main-body .content {\n            overflow: visible;\n        }\n    }\n\n    /*  ======================\n        Responsiveness Upgrades\n        ======================  */\n    .page.activity-detail #activityToolbarViewPlaceholder,\n    .page.activity-detail #activityIntroViewPlaceholder {\n        display: flex;\n        justify-content: space-between;\n    }\n\n    .page.activity-detail #gearStatusViewPlaceholder {\n        white-space: nowrap;\n    }\n\n    @media (max-width: 1049px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0 0 10px;\n        }\n\n        .page.activity-detail #activityToolbarViewPlaceholder {\n            justify-content: flex-start;\n        }\n\n        .page.activity-detail .privacy-consent,\n        .page.activity-detail #gear-menu-list {\n            float: left;\n            left: 0;\n            min-width: 240px;\n        }\n\n        .page.activity-detail .privacy-consent {\n            min-width: 280px;\n        }\n\n        .page.activity-detail .privacy-state-current,\n        .page.activity-detail #gear-menu-list .icon-gear {\n            float: left;\n            left: 5px;\n        }\n    }\n\n    @media (max-width: 767px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0;\n        }\n    }\n\n    @media (max-width: 415px) {\n        .page.activity-detail .trophy-container .inline-edit-trigger {\n            margin-top: 0;\n        }\n\n        .page.activity-detail .date-block .dropdown {\n            display: block;\n        }\n\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type {\n            margin-right: 0;\n        }\n\n        .page.activity-detail .dropdown-backdrop {\n            display: inline;\n        }\n\n        .page.activity-detail #device-info ul.dropdown-menu {\n            left: -50px;\n        }\n    }\n\n    @media (min-width: 1050px) {\n        .page.activity-edit .dynamic .row-fluid {\n            display: flex;\n            flex-wrap: wrap;\n        }\n\n        .page.activity-edit .dynamic .row-fluid .stat-block {\n            width: 25%;\n        }\n\n        .page.activity-edit .dynamic .row-fluid .stat-block h3 {\n            margin-right: 8%;\n        }\n    }\n\n    .page.activity-edit .page-sidebar.sideBar .video-container,\n    .page.activity-edit .page-sidebar.sideBar .note-container {\n        padding: 10px;\n    }\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            primary: "" + i(243).locals.primary,
            secondary: "" + i(243).locals.secondary,
            textLight: "" + i(243).locals.textLight,
            textMedium: "" + i(243).locals.textMedium,
            textDark: "" + i(243).locals.textDark,
            iconSecondary: "" + i(243).locals.iconSecondary,
            iconSecondaryHover: "" + i(243).locals.iconSecondaryHover,
            iconSecondaryDark: "" + i(243).locals.iconSecondaryDark,
            lightui_surface_1: "" + i(243).locals.lightui_surface_1,
            darkui_accent_3: "" + i(243).locals.darkui_accent_3,
            lightui_accent_2: "" + i(243).locals.lightui_accent_2,
            blue_light_2: "" + i(243).locals.blue_light_2,
            lime_dark_2: "" + i(243).locals.lime_dark_2,
            orange_light_3: "" + i(243).locals.orange_light_3,
            red_dark_1: "" + i(243).locals.red_dark_1,
            yellow_primary: "" + i(243).locals.yellow_primary,
            purple_dark_2: "" + i(243).locals.purple_dark_2,
            endXS: "" + i(1291).locals.endXS,
            endSM: "" + i(1291).locals.endSM
        }
    },
    2083: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(1785)
          , o = n.a.Collection.extend({
            model: r.a,
            url: function() {
                return "/proxy/segment-service/segment/list/" + this.activityId
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "SegmentResultsByActvityId requires an activity ID";
                this.activityId = t.activityId
            },
            comparator: function(e) {
                return e.get("timeEnteredSegment")
            },
            findByUuid: function(e) {
                return this.find(function(t) {
                    return t.get("segmentUuid") == e
                })
            }
        });
        t.a = o
    },
    2088: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/segment-service/leaderboard/activity/" + this.activityId + "/segment/" + this.segmentUuid + "/rank/" + this.displayName
            },
            initialize: function(e) {
                if (this.activityId = e.activityId,
                this.segmentUuid = e.segmentUuid,
                this.displayName = e.displayName,
                "undefined" == typeof this.activityId || null == this.activityId)
                    throw "Activity ID required in SegmentUserLeaderboard.";
                if (!this.segmentUuid)
                    throw "segmentUuid required in SegmentUserLeaderboard.";
                if (!this.displayName)
                    throw "displayName required in SegmentUserLeaderboard."
            }
        });
        t.a = n
    },
    2091: function(e, t, i) {
        "use strict";
        var a = i(244)
          , n = i(22)
          , r = i.n(n)
          , o = i(1364)
          , s = i(1327);
        function l(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var c = function(e) {
            function t() {
                return function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.apply(this, arguments))
            }
            return l(t, e),
            t.prototype.createLeafletElement = function(e) {
                return new a.GridLayer(this.getOptions(e))
            }
            ,
            t.prototype.updateLeafletElement = function(e, t) {
                var i = t.opacity
                  , a = t.zIndex;
                i !== e.opacity && this.leafletElement.setOpacity(i),
                a !== e.zIndex && this.leafletElement.setZIndex(a)
            }
            ,
            t.prototype.render = function() {
                return null
            }
            ,
            t
        }(o.a);
        c.propTypes = {
            children: s.a,
            opacity: r.a.number,
            zIndex: r.a.number
        },
        t.a = c
    },
    2092: function(e, t, i) {
        "use strict";
        t.a = function() {
            return !1
        }
    },
    2093: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(484)
              , n = "object" == typeof exports && exports && !exports.nodeType && exports
              , r = n && "object" == typeof e && e && !e.nodeType && e
              , o = r && r.exports === n ? a.a.Buffer : void 0
              , s = o ? o.allocUnsafe : void 0;
            t.a = function(e, t) {
                if (t)
                    return e.slice();
                var i = e.length
                  , a = s ? s(i) : new e.constructor(i);
                return e.copy(a),
                a
            }
        }
        ).call(this, i(360)(e))
    },
    2171: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(18)
          , l = o.a.Collection.extend({
            model: o.a.Model,
            initialize: function(e) {
                n.a.isUndefined(e) || n.a.isUndefined(e.dates) ? this.searchDatesArray = [] : n.a.isArray(e.dates) ? this.searchDatesArray = e.dates : this.searchDatesArray = [e.dates]
            },
            url: function() {
                if (0 == this.searchDatesArray.length)
                    throw new Error("Dates must be given.");
                return "/proxy/biometric-service/biometric/weightByDate?" + this.buildParameterList()
            },
            setSearchDates: function(e) {
                this.searchDatesArray = e
            },
            addSearchDate: function(e) {
                this.searchDatesArray.push(e)
            },
            buildParameterList: function() {
                for (var e = "", t = 0; t < this.searchDatesArray.length; t++) {
                    var i = this.searchDatesArray[t];
                    n.a.isDate(i) && (i = s.a.formatISODate(i)),
                    e += "date=" + i,
                    t + 1 < this.searchDatesArray.length && (e += "&")
                }
                return e
            }
        });
        t.a = l
    },
    2173: function(e, t) {
        e.exports = '<div class="<%- maxView ? \'\' : \'text-center\' %>">\n    <div class="alert alert-error" style="display: none;"><%- Localizer.localize(\'ftp.weight.error\') %></div>\n    <% if (title) {  %>\n        <h6 class="font-thin top-m"><%- title %></h6>\n        <% if (prompt) { %>\n            <p class="font-thin top-s"><%- prompt %></p>\n        <% }             %>\n    <% } else if (prompt) { %>\n        <div class="bottom-m"><%- prompt %></div>\n    <% }        %>\n    <form action="" class="form-horizontal">\n        <div class="row-fluid">\n            <div class="control-group">\n                <label class="control-label weight-label" for="user-weight"><%- Localizer.localize(\'ftp.weight\') %></label>\n                <div class="<%- maxView ? \'controls controls-row\' : \'\' %>">\n                    <span class="input-append">\n                        <input type="text" id="user-weight" placeholder="" class="input-mini" maxlength="<%- maxLength %>" autofocus>\n                        <span class="add-on"><%- weightLabel %></span>\n                    </span>\n                    <% if (displaySaveButton) { %>\n                        <button class="btn btn-form"><%- Localizer.localize(\'save\') %></button>\n                    <% } %>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n'
    },
    2178: function(e, t, i) {
        "use strict";
        i(8);
        var a, n = i(13), r = i.n(n), o = i(7), s = i(11), l = i(1354), c = i(1841), h = (i(18),
        i(1296)), p = i(1295), d = i.n(p), u = i(1323), g = i.n(u), m = i(1447), f = i.n(m);
        g()(d.a),
        f()(d.a),
        (a = d.a).wrap(a.Legend.prototype, "colorizeItem", function(e, t, i) {
            t.options.legendColor && (t.color = t.options.legendColor),
            e.apply(this, Array.prototype.slice.call(arguments, 1))
        });
        var y = h.a.Colors.powerCurveGrey
          , v = {
            DisplayMessage: "DisplayMessage",
            HideFilter: "HideFilter",
            DisplayEmptyChart: "DisplayEmptyChart",
            POWER_TOGGLE: "POWER_TOGGLE"
        }
          , b = l.a.extend({
            initialize: function(e) {
                l.a.prototype.initialize.call(this, e),
                this.wattsToggle = e.wattsToggle,
                this.viewerUserBiometrics = e.viewerUserBiometrics,
                this.lifeTimePowerCurveTotals = e.lifeTimePowerCurveTotals,
                this.powerCurveStartDate = r()(e.startDate),
                this.histroicalData = [],
                this.currentData = [],
                this.displayEmptyChartView = !1,
                this.displayEmptyData = !1
            },
            createExportDataRowHeader: function() {},
            determineYAxisTitle: function() {
                return ""
            },
            postRender: function() {
                this.displayEmptyChartView ? (this.chartObj && this.chartObj.destroy(),
                this.trigger(v.DisplayEmptyChart, this.displayEmptyData),
                this.displayEmptyData && this.trigger(v.DisplayMessage, {
                    msg: "",
                    emptyState: !1
                }),
                this.trigger(v.HideFilter, !0)) : this.$el.find(".highcharts-container").css("top", "-25px")
            },
            customizeOptions: function() {
                var e = this;
                this.options.xAxis = {
                    labels: {
                        useHTML: !0,
                        formatter: function() {
                            return '<span style="text-align: center; vertical-align: middle;"><span style="margin-right: auto; float: right; color: #6E8594; width: 100%;">\u25cf</span><br />' + this.value + "</span>"
                        },
                        y: 10
                    },
                    min: .5,
                    max: this.categories.length - 1.5,
                    tickLength: 0,
                    categories: this.categories,
                    crosshair: {
                        width: 1,
                        color: h.a.Colors.powerCurveCrosshairGrey,
                        zIndex: 0
                    },
                    tickInterval: 1,
                    minPadding: 0,
                    maxPadding: 0,
                    startOnTick: !1,
                    endOnTick: !1
                },
                this.options.yAxis = {
                    title: {
                        text: ""
                    },
                    labels: {
                        formatter: function() {
                            return e.convertToWattsPerKg(this.value) + " " + ("watts-kg-trend" == e.wattsToggle ? o.a.localize("label_power_kg") : o.a.localize("max_avg_power_unit"))
                        },
                        x: -5
                    }
                },
                this.options.tooltip = {
                    crosshairs: !0,
                    animation: !1,
                    shared: !0,
                    useHTML: !0,
                    positioner: function(t, i, a) {
                        var n = {
                            x: a.plotX,
                            y: e.chartObj.margin[0] - i
                        }
                          , r = t / 2;
                        return a.plotX + t > e.chartObj.plotWidth ? n.x = a.plotX + e.chartObj.plotLeft - t : a.plotX - r <= 0 ? n.x = a.plotX + e.chartObj.plotLeft : n.x = a.plotX + e.chartObj.plotLeft - r,
                        n
                    },
                    formatter: function() {
                        var t = '<span style="color: #6E8594">\u25cf</span> <b>' + o.a.localize("interval_time") + ":</b> " + this.x;
                        return this.points.sort(function(e, t) {
                            return e.y == t.y ? 0 : e.y < t.y ? 1 : -1
                        }).forEach(function(i, a) {
                            var n = "";
                            if (i.series.symbol)
                                switch (i.series.symbol) {
                                case "circle":
                                    n = "\u25cf";
                                    break;
                                case "diamond":
                                    n = "\u2666";
                                    break;
                                case "square":
                                    n = "\u25a0";
                                    break;
                                case "triangle":
                                    n = "\u25b2";
                                    break;
                                case "triangle-down":
                                    n = "\u25bc"
                                }
                            t += '<br /><span style="color: ' + i.series.color + '">' + n + "</span> <b>" + i.series.name + ":</b> " + e.convertToWattsPerKg(i.y) + " " + ("watts-kg-trend" == e.wattsToggle ? o.a.localize("label_power_kg") : o.a.localize("max_avg_power_unit"))
                        }),
                        t
                    }
                },
                this.options.plotOptions = {
                    series: {
                        lineWidth: 1,
                        marker: {
                            enabled: !1,
                            symbol: "circle",
                            lineColor: "white",
                            lineWidth: 1,
                            radius: 2
                        },
                        animation: !1
                    }
                },
                this.options.legend = {
                    enabled: !0,
                    symbolHeight: 12,
                    symbolWidth: 12,
                    itemStyle: {
                        fontSize: "12px",
                        fontWeight: "normal"
                    }
                },
                this.options.chart.marginTop = 70
            },
            compileStats: function() {},
            setCategories: function() {},
            convertToWattsPerKg: function(e) {
                var t = this.viewerUserBiometrics.biometricProfile.weight;
                return "watts-kg-trend" === this.wattsToggle ? s.a.convertToWattsPerKg(e, t) : e
            },
            initializeChartSeries: function() {
                this.chartSeries = {},
                this.histroicalData = [],
                this.currentData = [];
                var e, t = [];
                if (this.lifeTimePowerCurveTotals.get("entries"))
                    for (var i = 0; i < this.lifeTimePowerCurveTotals.get("entries").length; i++)
                        null !== this.lifeTimePowerCurveTotals.get("entries")[i].activityDate && (t.push(s.a.personalizeSeconds(this.lifeTimePowerCurveTotals.get("entries")[i].duration, o.a)),
                        this.histroicalData.push({
                            y: this.lifeTimePowerCurveTotals.get("entries")[i].power
                        }));
                if (this.histroicalData.length > 0 && (this.chartSeries[0] = {
                    name: o.a.localize("record_label"),
                    color: y,
                    data: this.histroicalData,
                    fillOpacity: .5,
                    lineColor: h.a.Colors.powerCurveDarkerGrey,
                    marker: {
                        fillColor: h.a.Colors.powerCurveDarkerGrey
                    },
                    legendColor: h.a.Colors.powerCurveDarkerGrey,
                    drawCustomLegend: !0
                }),
                e = 0 === this.histroicalData.length,
                this.metricList.get("entries"))
                    for (i = 0; i < this.metricList.get("entries").length; i++)
                        null !== this.metricList.get("entries")[i].activityDate && (e && t.push(s.a.personalizeSeconds(this.metricList.get("entries")[i].duration, o.a)),
                        this.currentData.push({
                            y: this.metricList.get("entries")[i].power
                        }));
                this.categories = t,
                this.chartSeries[1] = {
                    name: this.getMetricPeriodName(),
                    color: h.a.Colors.powerCurveBlue,
                    data: this.currentData,
                    fillOpacity: .3,
                    lineColor: h.a.Colors.blue,
                    marker: {
                        fillColor: h.a.Colors.blue
                    },
                    legendColor: h.a.Colors.blue,
                    drawCustomLegend: !0
                },
                0 === this.histroicalData.length ? this.displayEmptyChartView = !0 : 0 === this.currentData.length ? 0 === this.histroicalData.length ? (this.displayEmptyChartView = !0,
                this.displayEmptyData = !0) : this.trigger(v.DisplayMessage, {
                    msg: o.a.localize("no_power_data_for_period", this.getMetricPeriodName().toLowerCase()),
                    emptyState: !1
                }) : this.trigger(v.DisplayMessage, {
                    msg: "",
                    emptyState: !1
                })
            },
            getMetricPeriodName: function() {
                var e = null;
                switch (this.metricPeriod) {
                case c.a.weekly:
                    e = o.a.localize("four_weeks");
                    break;
                case c.a.monthly:
                    e = o.a.localize("three_months");
                    break;
                case c.a.yearly:
                    e = o.a.localize("twelve_months");
                    break;
                default:
                    e = this.metricPeriod
                }
                return e
            },
            toggle: function(e) {
                this.wattsToggle = e,
                l.a.prototype.initExportData.call(this),
                l.a.prototype.render.call(this),
                this.trigger(v.POWER_TOGGLE)
            },
            showWeightPrompt: function(e) {
                return {
                    displayWeightPrompt: null === this.viewerUserBiometrics.biometricProfile.weight && "watts-kg-trend" === e,
                    weightDate: r()().format("YYYY-MM-DD")
                }
            }
        });
        b.Events = v,
        t.a = b
    },
    2179: function(e, t) {
        e.exports = '<h6 id="te-feedback-header"><%- feedbackTitle %></h6>\n<p id="te-feedback-content"><%- feedbackContent %></p>'
    },
    2180: function(e, t) {
        e.exports = '<% if (aerobicTrainingEffect !== null) {      %>\n    <div id="te-aerobic-feedback" class="te-feedback"></div>\n    <div class="rounded-gauge te-score" id="te-aerobic-score"></div>\n<% } %>\n\n<% if (aerobicTrainingEffect !== null && anaerobicTrainingEffect !== null ) {      %>\n    <hr class="top-s bottom-s">\n<% } %>\n\n<% if (anaerobicTrainingEffect !== null) {      %>\n    <div id="te-anaerobic-feedback" class="te-feedback"></div>\n    <div class="rounded-gauge te-score" id="te-anaerobic-score"></div>\n<% } %>\n'
    },
    2181: function(e, t) {
        e.exports = "<p><strong><%- Localizer.localize('AEROBIC_TRAINING_EFFECT') %></strong> <%- Localizer.localize('AEROBIC_TE_DESCRIPTION') %></p>\n<% if (anaerobicTrainingEffect !== null) {      %>\n    <p><strong><%- Localizer.localize('ANAEROBIC_TRAINING_EFFECT') %></strong> <%- Localizer.localize('ANAEROBIC_TE_DESCRIPTION') %></p>\n<% } %>\n\n<div class=\"fine-print\">\n    <%= Localizer.localize('TRAINING_EFFECT_REPORT_FOOTER') %>\n</div>"
    },
    2182: function(e, t) {
        e.exports = "<table class=\"table table-bordered table-training-effect\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('trainingEffect.help.status') %></th>\n        <th><%- Localizer.localize('trainingEffect.help.score') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score5') %></td>\n        <td>5</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score4') %></td>\n        <td>4</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score3') %></td>\n        <td>3</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score2') %></td>\n        <td>2</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score1') %></td>\n        <td>1</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score0') %></td>\n        <td>0</td>\n    </tr>\n    </tbody>\n</table>"
    },
    2183: function(e, t) {
        e.exports = '\n\x3c!-- Temporary file until FR 945 is announced, delete this file\nand its references once the features for FR 945 goes LIVE\nCA-51051 --\x3e\n\n\n<% if (isWidget === false) { %>\n    <ul class="nav nav-tabs">\n        <li class="active"><a href="#te-this-activity-placeholder" data-toggle="tab"><%- Localizer.localize(\'label.this.activity\') %></a></li>\n        <li><a href="#te-learn-placeholder" data-toggle="tab"><%- Localizer.localize(\'agent.learn.more\') %></a></li>\n        <li><a href="#te-scores-placeholder" data-toggle="tab"><%- Localizer.localize(\'label.scoring.scale\') %></a></li>\n    </ul>\n\n    <div class="tab-content">\n        <div class="tab-pane active" id="te-this-activity-placeholder"></div>\n\n        <div class="tab-pane" id="te-learn-placeholder"></div>\n        \n        <div class="tab-pane" id="te-scores-placeholder"></div>\n    </div>\n<% } else { %>\n    <ul class="nav nav-tabs">\n        <li class="active"><a href="#te-learn-placeholder" data-toggle="tab"><%- Localizer.localize(\'agent.learn.more\') %></a></li>\n        <li><a href="#te-scores-placeholder" data-toggle="tab"><%- Localizer.localize(\'label.scoring.scale\') %></a></li>\n    </ul>\n\n    <div class="tab-content">\n        <div class="tab-pane active" id="te-learn-placeholder"></div>\n\n        <div class="tab-pane" id="te-scores-placeholder"></div>\n    </div>\n\n<% } %>'
    },
    2184: function(e, t, i) {
        "use strict";
        i(8);
        var a = i(0)
          , n = i.n(a)
          , r = i(7)
          , o = i(1412)
          , s = i(31)
          , l = i(1415)
          , c = n.a.View.extend({
            initialize: function(e) {
                this.aerobicScore = e.aerobicScore,
                this.aerobicScoreMessage = e.aerobicScoreMessage,
                this.anaerobicScore = e.anaerobicScore,
                this.anaerobicScoreMessage = e.anaerobicScoreMessage,
                this.primaryBenefit = e.primaryBenefit,
                this.isWidget = e.isWidget
            },
            render: function() {
                this.teHelpModalView && this.teHelpModalView.destroy(),
                this.teHelpModalView = new o.a({
                    reactComponent: window.TrainingEffectModal,
                    props: {
                        aerobicTEStats: {
                            score: this.aerobicScore,
                            feedBackTitle: r.a.localize(l.a.Types.Aerobic + "_TRAINING_EFFECT"),
                            feedBackContent: l.a.getFeedback(l.a.Types.Aerobic, this.aerobicScore, this.aerobicScoreMessage),
                            label: r.a.localize("label.aerobic.te")
                        },
                        anaerobicTEStats: {
                            score: this.anaerobicScore,
                            feedBackTitle: r.a.localize(l.a.Types.Anaerobic + "_TRAINING_EFFECT"),
                            feedBackContent: l.a.getFeedback(l.a.Types.Anaerobic, this.anaerobicScore, this.anaerobicScoreMessage),
                            label: r.a.localize("label.anaerobic.te")
                        },
                        primaryBenefit: this.primaryBenefit,
                        isWidget: this.isWidget
                    }
                }),
                new s.a({
                    view: this.teHelpModalView,
                    showFooter: !1,
                    customClasses: "",
                    modalTitle: r.a.localize("help.title")
                }).render()
            }
        });
        t.a = c
    },
    2185: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/fitnessstats-service/" + this.dataType + "/" + (this.startDate ? "?startDate=" + this.startDate : "") + (this.endDate ? "&endDate=" + this.endDate : "")
            },
            initialize: function(e) {
                this.dataType = e.dataType,
                this.startDate = e.startDate,
                this.endDate = e.endDate
            }
        });
        t.a = n
    },
    2186: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(321)
          , o = i(0)
          , s = i.n(o).a.Model.extend({
            url: function() {
                return "/proxy/fitnessstats-service/activity" + r.a.toQueryString({
                    aggregation: this.aggregation,
                    userFirstDay: this.firstDayOfWeek ? this.firstDayOfWeek.dayName : void 0,
                    startDate: this.startDate,
                    endDate: this.endDate,
                    groupByActivityType: this.groupByActivityType,
                    metric: this.metric,
                    excludedActivitySubType: this.excludedActivitySubType,
                    activityType: this.activityType
                })
            },
            initialize: function(e) {
                if (!this.notNullAndNotUndefined(e))
                    throw "aggregation required for AggregatedActivityMetricStats";
                this.aggregation = e.aggregation,
                this.startDate = e.startDate,
                this.endDate = e.endDate,
                this.metric = e.metric,
                this.activityType = e.activityType,
                this.groupByActivityType = e.groupByActivityType,
                this.excludedActivitySubType = e.excludedActivitySubType,
                this.firstDayOfWeek = e.firstDayOfWeek
            },
            notNullAndNotUndefined: function(e) {
                return !n.a.isNull(e) && !n.a.isUndefined(e)
            },
            parse: function(e) {
                this.aggregateStats = e
            },
            setDisplayName: function(e) {
                this.displayName = e
            },
            getTotalStatSum: function(e, t) {
                for (var i = 0, a = 0; a < this.aggregateStats.length; a++)
                    i += this.aggregateStats[a].stats[e][t].sum;
                return i
            },
            getTotalBottomTimeInSeconds: function() {
                return this.getTotalStatSum("diving", "bottomTime") / 1e3
            }
        });
        t.a = s
    },
    2267: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = (i(0),
        i(7),
        i(11),
        i(1351))
          , o = i(1862)
          , s = i.n(o)
          , l = r.a.extend({
            template: n.a.template(s.a)
        });
        t.a = l
    },
    2349: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: function() {
                return "/proxy/device-service/deviceservice/app-info/" + this.applicationInstallId
            },
            initialize: function(e, t) {
                t.applicationInstallId && (this.applicationInstallId = t.applicationInstallId)
            },
            setAfterLoad: function(e) {
                this.applicationInstallId = e
            }
        })
    },
    2350: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = "INTERVAL_ACTIVE"
          , r = i.n(a).a.Collection.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/split_summaries"
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "SplitSummaries requires an activity ID";
                this.activityId = t.activityId
            },
            parse: function(e) {
                return e ? e.splitSummaries : []
            },
            getActiveIntervalSummary: function() {
                return this.getSplitSummary(n)
            },
            getSplitSummary: function(e) {
                return this.find(function(t) {
                    return t.get("splitType") === e
                })
            }
        });
        t.a = r
    },
    2351: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, ".WorkoutExecutionMetrics_executionScore__Rlx3I {\n    margin-bottom: 10px;\n}\n.WorkoutExecutionMetrics_wrapper__3WMO- {\n    position: relative;\n    background-color: " + i(243).locals.lightui_surface_1 + ";\n    border-radius: 4px;\n    padding: 22px 10px;\n}\n.WorkoutExecutionMetrics_statsSectionExecutionScore__31C7O {\n    margin-bottom: 0;\n}\n.WorkoutExecutionMetrics_statsSectionExecutionScore__31C7O .WorkoutExecutionMetrics_wrapper__3WMO- {\n    background: none;\n    padding: 0;\n}\n.WorkoutExecutionMetrics_dot__2sWzp {\n    display: inline-block;\n    position: relative;\n    top: 2px;\n    width: 14px;\n    height: 14px;\n    margin-right: 8px;\n    border-radius: 50%;\n}\n.WorkoutExecutionMetrics_upperDot__KWXBT {\n    top: -2px;\n}\n.WorkoutExecutionMetrics_middleDot__2kYWW {\n    position: static;\n}\n.WorkoutExecutionMetrics_scoreDot__GKNFx {\n    margin-right: 3px;\n    top: 1px;\n}\n.WorkoutExecutionMetrics_dot__2sWzp.WorkoutExecutionMetrics_red__1xL9e {\n    background-color: " + i(243).locals.red_primary + ";\n}\n.WorkoutExecutionMetrics_dot__2sWzp.WorkoutExecutionMetrics_orange__2xy3S {\n    background-color: " + i(243).locals.color_614 + ";\n}\n.WorkoutExecutionMetrics_dot__2sWzp.WorkoutExecutionMetrics_yellow__26rT6 {\n    background-color: " + i(243).locals.yellow_primary + ";\n}\n.WorkoutExecutionMetrics_dot__2sWzp.WorkoutExecutionMetrics_green__fWkYP {\n    background-color: " + i(243).locals.green_primary + ";\n}\n.WorkoutExecutionMetrics_dot__2sWzp.WorkoutExecutionMetrics_blue__3TlLy {\n    background-color: " + i(243).locals.color_201 + ";\n}\n.WorkoutExecutionMetrics_dot__2sWzp.WorkoutExecutionMetrics_lightblue__26wNo {\n    background-color: " + i(243).locals.teal_light_1 + ";\n}\n.WorkoutExecutionMetrics_dot__2sWzp.WorkoutExecutionMetrics_lime__gmXTL {\n    background-color: " + i(243).locals.lime_primary + ";\n}\n.WorkoutExecutionMetrics_score__G-POL {\n    margin-right: 4px;\n    font-size: 26px;\n    font-weight: 300;\n    line-height: 26px;\n    color: #222222;\n}\n.WorkoutExecutionMetrics_scoreSmall__27Eu3 {\n    font-size: 16px;\n    color: #222222;\n    line-height: 26px;\n}\n.WorkoutExecutionMetrics_label__1Crn3 {\n    color: #888888;\n    font-size: 12px;\n    line-height: 22px;\n}\n.WorkoutExecutionMetrics_helpIcon__amqg3 {\n    margin-left: 4px;\n}\n.WorkoutExecutionMetrics_executionScore__Rlx3I .WorkoutExecutionMetrics_modalContainer__2NbhX h3,\n.WorkoutExecutionMetrics_selfEvaluationTitleContainer__1QwbM h3 {\n    border: none !important;\n    margin-bottom: 0 !important;\n}\n.WorkoutExecutionMetrics_executionScoreExample__2IgzH {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    text-align: center;\n    max-width: 270px;\n    margin: 0 auto 20px auto;\n}\n.WorkoutExecutionMetrics_fractionEqual__3F8WQ {\n    position: relative;\n    display: inline-block;\n    overflow: visible;\n    width: 100%;\n    margin: 4px 0;\n    border-top: 1px solid #000;\n}\n.WorkoutExecutionMetrics_fractionEqual__3F8WQ:after {\n    content: '=';\n    display: inline-block;\n    position: absolute;\n    top: -12px;\n    right: -16px;\n}\n.WorkoutExecutionMetrics_result__32KH6 {\n    display: table;\n    height: 100%;\n    padding-left: 24px;\n    text-align: left;\n}\n.WorkoutExecutionMetrics_result__32KH6 .WorkoutExecutionMetrics_middle__1exWv {\n    display: table-cell;\n    vertical-align: middle;\n}\n.WorkoutExecutionMetrics_headerText__3CQo3 {\n    font-size: 18px;\n    font-weight: 300;\n}\n.WorkoutExecutionMetrics_h3__27uRV,\n.WorkoutExecutionMetrics_h4__3CYr-,\n.WorkoutExecutionMetrics_h5__1Fhqd {\n    display: block;\n    margin-bottom: 8px;\n}\n.WorkoutExecutionMetrics_h3__27uRV {\n    font-size: 22px;\n    font-weight: 300;\n    line-height: 33px;\n}\n.WorkoutExecutionMetrics_h4__3CYr- {\n    font-size: 18px;\n    font-weight: 300;\n    line-height: 27px;\n}\n.WorkoutExecutionMetrics_h5__1Fhqd {\n    font-size: 16px;\n    font-weight: 300;\n    line-height: 24px;\n}\n/*edit*/\n.WorkoutExecutionMetrics_slider-handle__KEZbh {\n    border: 2px solid rgb(25, 118, 210);\n    background-image: none !important;\n    background-color: " + i(243).locals.yellow_primary + ";\n}\n.WorkoutExecutionMetrics_htitle__1iVGx {\n    font-size: 14px;\n    font-weight: 600;\n    margin-bottom: 5px;\n}\n.WorkoutExecutionMetrics_currentValue__bPDM5 {\n    font-size: 12px;\n    text-align: center;\n    margin-bottom: 10px;\n}\n.WorkoutExecutionMetrics_sliderLabelNone__3Y3ug,\n.WorkoutExecutionMetrics_sliderLabelMaximum__7pha_ {\n    font-size: 12px;\n    color: rgb(108, 108, 108);\n}\n.WorkoutExecutionMetrics_sliderLabelMaximum__7pha_ {\n    float: right;\n}\n.WorkoutExecutionMetrics_face__27_N3 {\n    display: inline-block;\n    position: relative;\n    float: left;\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    background-position: center center;\n    background-size: 100% 100%;\n    margin-right: 4px;\n}\n.WorkoutExecutionMetrics_selfEvaluationAccordionTitle__1sp8g {\n    text-transform: capitalize;\n}\n.WorkoutExecutionMetrics_face__27_N3.WorkoutExecutionMetrics_very_weak__3vmUi {\n    background-image: url('/web-images/activity/very_weak.svg');\n}\n.WorkoutExecutionMetrics_face__27_N3.WorkoutExecutionMetrics_weak__3LOcT {\n    background-image: url('/web-images/activity/weak.svg');\n}\n.WorkoutExecutionMetrics_face__27_N3.WorkoutExecutionMetrics_normal__21J5c {\n    background-image: url('/web-images/activity/normal.svg');\n}\n.WorkoutExecutionMetrics_face__27_N3.WorkoutExecutionMetrics_strong__UMoME {\n    background-image: url('/web-images/activity/strong.svg');\n}\n.WorkoutExecutionMetrics_face__27_N3.WorkoutExecutionMetrics_very_strong__1znLQ {\n    background-image: url('/web-images/activity/very_strong.svg');\n}\n.WorkoutExecutionMetrics_clear__1kZvh {\n    clear: both;\n}\n.WorkoutExecutionMetrics_checkbox__3mN44 {\n    position: relative;\n}\n.WorkoutExecutionMetrics_feelIconContainer__3rjeq {\n    max-width: 40px;\n    max-height: 40px;\n    display: inline-block;\n    margin: 0 5px;\n}\n.WorkoutExecutionMetrics_feelStaticIconContainer__1CnGb {\n    margin: 0 5px 0 0;\n}\n.WorkoutExecutionMetrics_feelCheckboxLabel__1rati {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n}\n.WorkoutExecutionMetrics_checkbox__3mN44 .WorkoutExecutionMetrics_face__27_N3 {\n    top: 1px;\n}\n.WorkoutExecutionMetrics_customCheckbox__14zY8 {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    z-index: 1;\n    width: 16px;\n    height: 16px;\n}\n.WorkoutExecutionMetrics_customCheckbox__14zY8 ~ .WorkoutExecutionMetrics_feelCheckboxLabel__1rati .WorkoutExecutionMetrics_customCheckboxSpan__28t6A {\n    float: left;\n    position: relative;\n    display: inline-block;\n    border: 1px solid " + i(243).locals.darkui_accent_2 + ";\n    border-radius: 50%;\n    width: 16px;\n    height: 16px;\n    margin-right: 5px;\n    vertical-align: middle;\n    cursor: pointer;\n}\n.WorkoutExecutionMetrics_customCheckbox__14zY8:checked ~ .WorkoutExecutionMetrics_feelCheckboxLabel__1rati .WorkoutExecutionMetrics_customCheckboxSpan__28t6A:after {\n    position: relative;\n    left: -1px;\n    top: -2px;\n    content: ' ';\n    display: inline-block;\n    border: 4px solid " + i(243).locals.color_201 + ";\n    border-radius: 50%;\n    width: 11px;\n    height: 11px;\n    color: " + i(243).locals.color_131 + ";\n}\n.WorkoutExecutionMetrics_gridAlignCenter__3SlFo {\n    display: grid;\n    -webkit-align-items: center;\n            align-items: center;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Activity/WorkoutExecutionMetrics/WorkoutExecutionMetrics.css"],
            names: [],
            mappings: "AAEA;IACI,oBAAmB;CACvB;AAEA;IACI,mBAAkB;IAClB,8CAAmC;IACnC,mBAAkB;IAClB,mBAAkB;CACtB;AAEA;IACI,iBAAgB;CACpB;AAEA;IACI,iBAAgB;IAChB,WAAU;CACd;AAEA;IACI,sBAAqB;IACrB,mBAAkB;IAClB,SAAQ;IACR,YAAW;IACX,aAAY;IACZ,kBAAiB;IACjB,mBAAkB;CACtB;AAEA;IACI,UAAS;CACb;AAEA;IACI,iBAAgB;CACpB;AAEA;IACI,kBAAiB;IACjB,SAAQ;CACZ;AAEA;IACI,8CAA6B;CACjC;AAEA;IACI,8CAA2B;CAC/B;AAEA;IACI,8CAAgC;CACpC;AACA;IACI,8CAA+B;CACnC;AAEA;IACI,8CAA2B;CAC/B;AAEA;IACI,+CAA8B;CAClC;AAEA;IACI,8CAA8B;CAClC;AAEA;IACI,kBAAiB;IACjB,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;IACjB,eAAc;CAClB;AAEA;IACI,gBAAe;IACf,eAAc;IACd,kBAAiB;CACrB;AAEA;IACI,eAAc;IACd,gBAAe;IACf,kBAAiB;CACrB;AAEA;IACI,iBAAgB;CACpB;AACA;;IAEI,wBAAuB;IACvB,4BAA2B;CAC/B;AACA;IACI,cAAa;IACb,sCAAqC;IACrC,mBAAkB;IAClB,iBAAgB;IAChB,yBAAwB;CAC5B;AAEA;IACI,mBAAkB;IAClB,sBAAqB;IACrB,kBAAiB;IACjB,YAAW;IACX,cAAa;IACb,2BAA0B;CAC9B;AAEA;IACI,aAAY;IACZ,sBAAqB;IACrB,mBAAkB;IAClB,WAAU;IACV,aAAY;CAChB;AAEA;IACI,eAAc;IACd,aAAY;IACZ,mBAAkB;IAClB,iBAAgB;CACpB;AAEA;IACI,oBAAmB;IACnB,uBAAsB;CAC1B;AAEA;IACI,gBAAe;IACf,iBAAgB;CACpB;AAEA;;;IAGI,eAAc;IACd,mBAAkB;CACtB;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;CACrB;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;CACrB;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;CACrB;AAEA,QAAO;AAEP;IACI,oCAAmC;IACnC,kCAAiC;IACjC,8CAAgC;CACpC;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,mBAAkB;CACtB;AAEA;IACI,gBAAe;IACf,mBAAkB;IAClB,oBAAmB;CACvB;AAEA;;IAEI,gBAAe;IACf,0BAAyB;CAC7B;AAEA;IACI,aAAY;CAChB;AAEA;IACI,sBAAqB;IACrB,mBAAkB;IAClB,YAAW;IACX,YAAW;IACX,aAAY;IACZ,6BAA4B;IAC5B,mCAAkC;IAClC,2BAA0B;IAC1B,kBAAiB;CACrB;AAEA;IACI,2BAA0B;CAC9B;AAEA;IACI,4DAA2D;CAC/D;AAEA;IACI,uDAAsD;CAC1D;AAEA;IACI,yDAAwD;CAC5D;AAEA;IACI,yDAAwD;CAC5D;AAEA;IACI,8DAA6D;CACjE;AAEA;IACI,YAAW;CACf;AAEA;IACI,mBAAkB;CACtB;AACA;IACI,gBAAe;IACf,iBAAgB;IAChB,sBAAqB;IACrB,cAAa;CACjB;AACA;IACI,kBAAiB;CACrB;AACA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;CACvB;AAEA;IACI,SAAQ;CACZ;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,gBAAe;IACf,WAAU;IACV,YAAW;IACX,aAAY;CAChB;AAEA;IACI,YAAW;IACX,mBAAkB;IAClB,sBAAqB;IACrB,8CAAiC;IACjC,mBAAkB;IAClB,YAAW;IACX,aAAY;IACZ,kBAAiB;IACjB,uBAAsB;IACtB,gBAAe;CACnB;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,UAAS;IACT,aAAY;IACZ,sBAAqB;IACrB,8CAA2B;IAC3B,mBAAkB;IAClB,YAAW;IACX,aAAY;IACZ,mCAAgB;CACpB;AAEA;IACI,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;CACvB",
            file: "WorkoutExecutionMetrics.css",
            sourcesContent: ["@value (color_131, darkui_accent_2, lightui_surface_1, red_primary, color_614, color_201, lightui_surface_4, yellow_primary, lime_primary, green_primary, color_106, teal_light_1) from 'ui-connect/styles/colors.module.css';\n\n.executionScore {\n    margin-bottom: 10px;\n}\n\n.wrapper {\n    position: relative;\n    background-color: lightui_surface_1;\n    border-radius: 4px;\n    padding: 22px 10px;\n}\n\n.statsSectionExecutionScore {\n    margin-bottom: 0;\n}\n\n.statsSectionExecutionScore .wrapper {\n    background: none;\n    padding: 0;\n}\n\n.dot {\n    display: inline-block;\n    position: relative;\n    top: 2px;\n    width: 14px;\n    height: 14px;\n    margin-right: 8px;\n    border-radius: 50%;\n}\n\n.upperDot {\n    top: -2px;\n}\n\n.middleDot {\n    position: static;\n}\n\n.scoreDot {\n    margin-right: 3px;\n    top: 1px;\n}\n\n.dot.red {\n    background-color: red_primary;\n}\n\n.dot.orange {\n    background-color: color_614;\n}\n\n.dot.yellow {\n    background-color: yellow_primary;\n}\n.dot.green {\n    background-color: green_primary;\n}\n\n.dot.blue {\n    background-color: color_201;\n}\n\n.dot.lightblue {\n    background-color: teal_light_1;\n}\n\n.dot.lime {\n    background-color: lime_primary;\n}\n\n.score {\n    margin-right: 4px;\n    font-size: 26px;\n    font-weight: 300;\n    line-height: 26px;\n    color: #222222;\n}\n\n.scoreSmall {\n    font-size: 16px;\n    color: #222222;\n    line-height: 26px;\n}\n\n.label {\n    color: #888888;\n    font-size: 12px;\n    line-height: 22px;\n}\n\n.helpIcon {\n    margin-left: 4px;\n}\n.executionScore .modalContainer h3,\n.selfEvaluationTitleContainer h3 {\n    border: none !important;\n    margin-bottom: 0 !important;\n}\n.executionScoreExample {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    text-align: center;\n    max-width: 270px;\n    margin: 0 auto 20px auto;\n}\n\n.fractionEqual {\n    position: relative;\n    display: inline-block;\n    overflow: visible;\n    width: 100%;\n    margin: 4px 0;\n    border-top: 1px solid #000;\n}\n\n.fractionEqual:after {\n    content: '=';\n    display: inline-block;\n    position: absolute;\n    top: -12px;\n    right: -16px;\n}\n\n.result {\n    display: table;\n    height: 100%;\n    padding-left: 24px;\n    text-align: left;\n}\n\n.result .middle {\n    display: table-cell;\n    vertical-align: middle;\n}\n\n.headerText {\n    font-size: 18px;\n    font-weight: 300;\n}\n\n.h3,\n.h4,\n.h5 {\n    display: block;\n    margin-bottom: 8px;\n}\n\n.h3 {\n    font-size: 22px;\n    font-weight: 300;\n    line-height: 33px;\n}\n\n.h4 {\n    font-size: 18px;\n    font-weight: 300;\n    line-height: 27px;\n}\n\n.h5 {\n    font-size: 16px;\n    font-weight: 300;\n    line-height: 24px;\n}\n\n/*edit*/\n\n.slider-handle {\n    border: 2px solid rgb(25, 118, 210);\n    background-image: none !important;\n    background-color: yellow_primary;\n}\n\n.htitle {\n    font-size: 14px;\n    font-weight: 600;\n    margin-bottom: 5px;\n}\n\n.currentValue {\n    font-size: 12px;\n    text-align: center;\n    margin-bottom: 10px;\n}\n\n.sliderLabelNone,\n.sliderLabelMaximum {\n    font-size: 12px;\n    color: rgb(108, 108, 108);\n}\n\n.sliderLabelMaximum {\n    float: right;\n}\n\n.face {\n    display: inline-block;\n    position: relative;\n    float: left;\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    background-position: center center;\n    background-size: 100% 100%;\n    margin-right: 4px;\n}\n\n.selfEvaluationAccordionTitle {\n    text-transform: capitalize;\n}\n\n.face.very_weak {\n    background-image: url('/web-images/activity/very_weak.svg');\n}\n\n.face.weak {\n    background-image: url('/web-images/activity/weak.svg');\n}\n\n.face.normal {\n    background-image: url('/web-images/activity/normal.svg');\n}\n\n.face.strong {\n    background-image: url('/web-images/activity/strong.svg');\n}\n\n.face.very_strong {\n    background-image: url('/web-images/activity/very_strong.svg');\n}\n\n.clear {\n    clear: both;\n}\n\n.checkbox {\n    position: relative;\n}\n.feelIconContainer {\n    max-width: 40px;\n    max-height: 40px;\n    display: inline-block;\n    margin: 0 5px;\n}\n.feelStaticIconContainer {\n    margin: 0 5px 0 0;\n}\n.feelCheckboxLabel {\n    display: flex;\n    align-items: center;\n}\n\n.checkbox .face {\n    top: 1px;\n}\n\n.customCheckbox {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    z-index: 1;\n    width: 16px;\n    height: 16px;\n}\n\n.customCheckbox ~ .feelCheckboxLabel .customCheckboxSpan {\n    float: left;\n    position: relative;\n    display: inline-block;\n    border: 1px solid darkui_accent_2;\n    border-radius: 50%;\n    width: 16px;\n    height: 16px;\n    margin-right: 5px;\n    vertical-align: middle;\n    cursor: pointer;\n}\n\n.customCheckbox:checked ~ .feelCheckboxLabel .customCheckboxSpan:after {\n    position: relative;\n    left: -1px;\n    top: -2px;\n    content: ' ';\n    display: inline-block;\n    border: 4px solid color_201;\n    border-radius: 50%;\n    width: 11px;\n    height: 11px;\n    color: color_131;\n}\n\n.gridAlignCenter {\n    display: grid;\n    align-items: center;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            color_131: "" + i(243).locals.color_131,
            darkui_accent_2: "" + i(243).locals.darkui_accent_2,
            lightui_surface_1: "" + i(243).locals.lightui_surface_1,
            red_primary: "" + i(243).locals.red_primary,
            color_614: "" + i(243).locals.color_614,
            color_201: "" + i(243).locals.color_201,
            lightui_surface_4: "" + i(243).locals.lightui_surface_4,
            yellow_primary: "" + i(243).locals.yellow_primary,
            lime_primary: "" + i(243).locals.lime_primary,
            green_primary: "" + i(243).locals.green_primary,
            color_106: "" + i(243).locals.color_106,
            teal_light_1: "" + i(243).locals.teal_light_1,
            executionScore: "WorkoutExecutionMetrics_executionScore__Rlx3I",
            wrapper: "WorkoutExecutionMetrics_wrapper__3WMO-",
            statsSectionExecutionScore: "WorkoutExecutionMetrics_statsSectionExecutionScore__31C7O",
            dot: "WorkoutExecutionMetrics_dot__2sWzp",
            upperDot: "WorkoutExecutionMetrics_upperDot__KWXBT",
            middleDot: "WorkoutExecutionMetrics_middleDot__2kYWW",
            scoreDot: "WorkoutExecutionMetrics_scoreDot__GKNFx",
            red: "WorkoutExecutionMetrics_red__1xL9e",
            orange: "WorkoutExecutionMetrics_orange__2xy3S",
            yellow: "WorkoutExecutionMetrics_yellow__26rT6",
            green: "WorkoutExecutionMetrics_green__fWkYP",
            blue: "WorkoutExecutionMetrics_blue__3TlLy",
            lightblue: "WorkoutExecutionMetrics_lightblue__26wNo",
            lime: "WorkoutExecutionMetrics_lime__gmXTL",
            score: "WorkoutExecutionMetrics_score__G-POL",
            scoreSmall: "WorkoutExecutionMetrics_scoreSmall__27Eu3",
            label: "WorkoutExecutionMetrics_label__1Crn3",
            helpIcon: "WorkoutExecutionMetrics_helpIcon__amqg3",
            modalContainer: "WorkoutExecutionMetrics_modalContainer__2NbhX",
            selfEvaluationTitleContainer: "WorkoutExecutionMetrics_selfEvaluationTitleContainer__1QwbM",
            executionScoreExample: "WorkoutExecutionMetrics_executionScoreExample__2IgzH",
            fractionEqual: "WorkoutExecutionMetrics_fractionEqual__3F8WQ",
            result: "WorkoutExecutionMetrics_result__32KH6",
            middle: "WorkoutExecutionMetrics_middle__1exWv",
            headerText: "WorkoutExecutionMetrics_headerText__3CQo3",
            h3: "WorkoutExecutionMetrics_h3__27uRV",
            h4: "WorkoutExecutionMetrics_h4__3CYr-",
            h5: "WorkoutExecutionMetrics_h5__1Fhqd",
            "slider-handle": "WorkoutExecutionMetrics_slider-handle__KEZbh",
            htitle: "WorkoutExecutionMetrics_htitle__1iVGx",
            currentValue: "WorkoutExecutionMetrics_currentValue__bPDM5",
            sliderLabelNone: "WorkoutExecutionMetrics_sliderLabelNone__3Y3ug",
            sliderLabelMaximum: "WorkoutExecutionMetrics_sliderLabelMaximum__7pha_",
            face: "WorkoutExecutionMetrics_face__27_N3",
            selfEvaluationAccordionTitle: "WorkoutExecutionMetrics_selfEvaluationAccordionTitle__1sp8g",
            very_weak: "WorkoutExecutionMetrics_very_weak__3vmUi",
            weak: "WorkoutExecutionMetrics_weak__3LOcT",
            normal: "WorkoutExecutionMetrics_normal__21J5c",
            strong: "WorkoutExecutionMetrics_strong__UMoME",
            very_strong: "WorkoutExecutionMetrics_very_strong__1znLQ",
            clear: "WorkoutExecutionMetrics_clear__1kZvh",
            checkbox: "WorkoutExecutionMetrics_checkbox__3mN44",
            feelIconContainer: "WorkoutExecutionMetrics_feelIconContainer__3rjeq",
            feelStaticIconContainer: "WorkoutExecutionMetrics_feelStaticIconContainer__1CnGb",
            feelCheckboxLabel: "WorkoutExecutionMetrics_feelCheckboxLabel__1rati",
            customCheckbox: "WorkoutExecutionMetrics_customCheckbox__14zY8",
            customCheckboxSpan: "WorkoutExecutionMetrics_customCheckboxSpan__28t6A",
            gridAlignCenter: "WorkoutExecutionMetrics_gridAlignCenter__3SlFo"
        }
    },
    2352: function(e, t, i) {
        "use strict";
        var a = i(1319)
          , n = {
            LatLng: /^((-|)([0-9]|[1-8][0-9])((\.|,)\d{0,6})?), *((-|)([0-9]|[1-9][0-9]|1[0-7][0-9])((\.|,)\d{0,6})?)$/i
        }
          , r = a.a.extend({
            initialize: function(e) {
                e.regularExpression = n.LatLng,
                this.initializeRegularExpressionValidator(e)
            }
        });
        r.RegularExpressions = n,
        t.a = r
    },
    2353: function(e, t, i) {
        "use strict";
        var a = {
            lat: null,
            lng: null
        };
        function n() {}
        n.parseLatLngString = function(e) {
            if (!e || e.length < 3)
                return a;
            var t = e.split(",");
            if (t.length < 2)
                return a;
            t.map(function(e) {
                return e.trim()
            });
            var i = parseFloat(t[0]).toFixed(6)
              , n = parseFloat(t[1]).toFixed(6);
            return isNaN(i) || isNaN(n) ? a : {
                lat: i,
                lng: n
            }
        }
        ,
        t.a = n
    },
    2354: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(1296)
              , h = i(1349)
              , p = i(1476)
              , d = i(2355)
              , u = i.n(d)
              , g = {
                PrimaryChanged: "PrimaryChanged",
                SecondaryChanged: "SecondaryChanged",
                ZoomReset: "ZoomReset",
                RangeSelected: "RangeSelected"
            }
              , m = o.a.View.extend({
                template: n.a.template(u.a),
                events: {
                    "click #primary-dropdown li": "onPrimaryDropdownClicked",
                    "click #secondary-dropdown li": "onSecondaryDropdownClicked",
                    "click .reset-zoom": "onResetZoomClicked"
                },
                initialize: function(e) {
                    if (this.activitySummary = e.activitySummary,
                    this.activityDetails = e.activityDetails,
                    this.backgroundSeries = e.backgroundSeries,
                    this.availableSeries = e.availableSeries,
                    this.xAxisType = e.xAxisType,
                    this.showWorkoutSeries = !1,
                    this.showPaceProSeries = !1,
                    this.primarySeries = this.determinePrimarySeries(),
                    this.secondarySeries = this.determineSecondarySeries(),
                    this.zoomButtonDisplayed = !1,
                    !this.backgroundSeries)
                        throw "BackgroundSeriesType required for ExpandedChartHeaderView"
                },
                render: function() {
                    this.chartRangeSelector && (this.stopListening(this.chartRangeSelector),
                    this.chartRangeSelector = null);
                    var e = n.a.reject(this.availableSeries, this.isBackground, this);
                    "directSpeed" === this.backgroundSeries[0].seriesKey && (e = e.filter(function(e) {
                        return "directSpeed" !== e[0].seriesKey
                    }));
                    var t = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        series: e,
                        backgroundSeries: this.backgroundSeries,
                        primarySeries: this.primarySeries,
                        secondarySeries: this.secondarySeries,
                        backgroundColor: this.determineBackgroundSeriesColor(),
                        backgroundSeriesLabel: this.determineBackgroundSeriesLabel(),
                        primaryColor: this.determinePrimarySeriesColor(),
                        primarySeriesLabel: this.determinePrimarySeriesLabel(),
                        secondaryColor: this.determineSecondarySeriesColor(),
                        secondarySeriesLabel: this.determineSecondarySeriesLabel(),
                        workoutSeriesColor: c.a.Colors.workoutTargetGray,
                        paceProSeriesColor: c.a.Colors.paceProTargetGray,
                        showWorkoutSeries: this.showWorkoutSeries,
                        showPaceProSeries: this.showPaceProSeries,
                        cm: c.a
                    });
                    this.$el.html(t);
                    var i = n.a.find(this.availableSeries, function(e) {
                        return !!e[0].chartRangeSelectorType
                    });
                    i && this.addRangeSelector(i),
                    this.zoomButtonDisplayed && this.showZoomButton()
                },
                determineBackgroundSeriesColor: function() {
                    return (this.primarySeries || this.secondarySeries) && 1 === this.backgroundSeries.length ? "#6D8595" : c.a.mapSeriesType(this.backgroundSeries[0], !0)
                },
                determineBackgroundSeriesLabel: function() {
                    return this.backgroundSeries[0].getLabel()
                },
                determinePrimarySeriesColor: function() {
                    return this.primarySeries ? c.a.mapSeriesType(this.primarySeries[0], !0) : ""
                },
                determinePrimarySeriesLabel: function() {
                    return this.primarySeries ? this.primarySeries[0].getLabel() : s.a.localize("chart_no_overlay")
                },
                determineSecondarySeriesColor: function() {
                    return this.secondarySeries ? c.a.mapSeriesType(this.secondarySeries[0], !0) : ""
                },
                determineSecondarySeriesLabel: function() {
                    return this.secondarySeries ? this.secondarySeries[0].getLabel() : s.a.localize("chart_no_overlay")
                },
                findSeries: function(e) {
                    return n.a.find(this.availableSeries, function(t) {
                        return t[0].getUniqueName() == e
                    }, this)
                },
                isEqual: function(e, t) {
                    if (e.length !== t.length)
                        return !1;
                    for (var i = 0; i < e.length; i++)
                        if (e[i].getUniqueName() !== t[i].getUniqueName())
                            return !1;
                    return !0
                },
                isBackground: function(e) {
                    return this.isEqual(e, this.backgroundSeries)
                },
                isPrimary: function(e) {
                    return this.isEqual(e, this.primarySeries)
                },
                determineBackgroundSeries: function() {
                    return this.backgroundSeries
                },
                determinePrimarySeries: function() {
                    return null
                },
                determineSecondarySeries: function() {
                    return null
                },
                onPrimaryDropdownClicked: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).attr("data-value");
                    this.primarySeries = this.findSeries(i),
                    this.render(),
                    this.trigger(g.PrimaryChanged, this.primarySeries)
                },
                onSecondaryDropdownClicked: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).attr("data-value");
                    this.secondarySeries = this.findSeries(i),
                    this.render(),
                    this.trigger(g.SecondaryChanged, this.secondarySeries)
                },
                onResetZoomClicked: function() {
                    this.hideZoomButton(),
                    this.trigger(g.ZoomReset)
                },
                addRangeSelector: function(e) {
                    e = e[0],
                    this.chartRangeSelector || e.chartRangeSelectorType && (this.chartRangeSelector = new e.chartRangeSelectorType({
                        el: this.$(".chart-range-selector"),
                        activityDetails: this.activityDetails,
                        activitySummary: this.activitySummary,
                        xAxisType: this.xAxisType
                    }),
                    this.listenTo(this.chartRangeSelector, p.a.Events.RangeSelected, this.onRangeSelected),
                    this.listenTo(this.chartRangeSelector, p.a.Events.RangeReset, this.onRangeReset),
                    this.chartRangeSelector.render())
                },
                onRangeSelected: function(e, t) {
                    var i = 0
                      , a = 0;
                    this.xAxisType == h.a.Duration ? (i = e,
                    a = t) : (i = l.a.convertDistance(e),
                    a = l.a.convertDistance(t)),
                    this.trigger(g.RangeSelected, i, a),
                    this.showZoomButton()
                },
                onRangeReset: function() {
                    this.hideZoomButton(),
                    this.trigger(g.ZoomReset)
                },
                showZoomButton: function() {
                    this.$(".reset-zoom").css("visibility", "visible"),
                    this.zoomButtonDisplayed = !0
                },
                hideZoomButton: function() {
                    this.$(".reset-zoom").css("visibility", "hidden"),
                    this.zoomButtonDisplayed = !1
                },
                shouldShowWorkoutTarget: function(e) {
                    this.showWorkoutSeries = e
                },
                setShowPaceProSeries: function(e) {
                    this.showPaceProSeries = e
                }
            });
            m.Events = g,
            t.a = m
        }
        ).call(this, i(9))
    },
    2355: function(e, t) {
        e.exports = '<div class="span4 clearfix">\n    <h5><span class="chart-color-circle" style="background-color:<%- backgroundColor %>"></span><%- backgroundSeriesLabel %></h5>\n    <div class="chart-range-selector chart-header-item" style="display: none"></div>\n</div>\n<div class="span2 clearfix">\n    <button class="reset-zoom btn btn-small" style="visibility: hidden;"><%- Localizer.localize(\'chart_reset_zoom\') %></button>\n</div>\n<div class="span6 clearfix">\n    <div class="pull-right overlay-options">\n        <% if (series.length > 0) { %>\n        <div class="overlay-item dropdown">\n            <button class="dropdown-toggle" data-toggle="dropdown" aria-label="<%- Localizer.localize(\'icon_toggle\') %>">\n                <span class="<%- primarySeries ? \'chart-color-circle\' : \'\' %>" style="background-color:<%- primaryColor %>"></span><%- primarySeriesLabel %><i class="icon-pointer-down"></i>\n            </button>\n            <ul id="primary-dropdown" class="dropdown-menu pull-right" role="menu" aria-label="<%- Localizer.localize(\'manualActivity.activityType.info\') %>">\n                <li class="<%- primarySeries == null ? \'active\' : \'\' %>" role="none">\n                    <a href="#" role="menuitem"><%- Localizer.localize(\'chart_no_overlay\') %></a></li>\n                <% for (var i = 0; i < series.length; i++) { %>\n                <%      var seriesRow = series[i][0]; %>\n                    <% if (primarySeries && seriesRow.getUniqueName() == primarySeries[0].getUniqueName()) { %>\n                        <li class="active" data-value="<%- seriesRow.getUniqueName() %>" aria-label="<%- seriesRow.getUniqueName() %>" role="none">\n                            <a href="#" role="menuitem"><%- seriesRow.getLabel() %></a></li>\n                    <% } else { %>\n                        <li data-value="<%- seriesRow.getUniqueName() %>" role="none" aria-label="<%- seriesRow.getUniqueName() %>">\n                            <a href="#" role="menuitem"><%- seriesRow.getLabel() %></a></li>\n                    <% } %>\n                <% } %>\n            </ul>\n        </div>\n        <% } %>\n        <% if (series.length > 1 && primarySeries) { %>\n        <div class="overlay-item dropdown">\n            <button class="dropdown-toggle" data-toggle="dropdown" aria-label="<%- Localizer.localize(\'icon_toggle\') %>">\n                <span class="<%- secondarySeries ? \'chart-color-circle\' : \'\' %>" style="background-color:<%- secondaryColor %>"></span><%- secondarySeriesLabel %><i class="icon-pointer-down"></i>\n            </button>\n            <ul id="secondary-dropdown" class="dropdown-menu pull-right" role="menu" aria-label="<%- Localizer.localize(\'manualActivity.activityType.info\') %>">\n                <li class="<%- secondarySeries == null ? \'active\' : \'\' %>" role="none">\n                    <a href="#" role="menuitem"><%- Localizer.localize(\'chart_no_overlay\') %></a>\n                </li>\n                <% for (var i = 0; i < series.length; i++) { %>\n                <%      var seriesRow = series[i][0]; %>\n                    <% if (secondarySeries && seriesRow.getUniqueName() == secondarySeries[0].getUniqueName()) { %>\n                    <li class="active" data-value="<%- seriesRow.getUniqueName() %>" role="none" aria-label="<%- seriesRow.getUniqueName() %>">\n                        <a href="#" role="menuitem"><%- seriesRow.getLabel() %></a>\n                    </li>\n                    <% } else { %>\n                    <li data-value="<%- seriesRow.getUniqueName() %>" role="none" aria-label="<%- seriesRow.getUniqueName() %>">\n                        <a href="#" role="menuitem"><%- seriesRow.getLabel() %></a>\n                    </li>\n                    <% } %>\n                <% } %>\n            </ul>\n        </div>\n        <% } %>\n    </div>\n    <% if (showWorkoutSeries) { %>\n        <div class="pull-right">\n            <h5><span class="chart-color-circle" style="background-color:<%- workoutSeriesColor %>"></span><%- Localizer.localize(\'workout_target\') %></h5>  \n        </div>\n    <% } %>\n    <% if (showPaceProSeries) { %>\n        <div class="pull-right">\n            <h5><span class="chart-color-circle" style="background-color:<%- paceProSeriesColor %>"></span><%- Localizer.localize(\'pace_pro_chart_target\') %></h5>  \n        </div>\n    <% } %>\n</div>\n\n'
    },
    2356: function(e, t) {
        e.exports = '<div id=\'chart-header-placeholder\' class="row-fluid"></div>\n<div class="no-padding">\n    <div class="zoomed-chart" style="width:100%; height:calc(100% - 320px);"></div>\n</div>\n\n<% if (xAxisTypes.length) { %>\n\n<select class="input-medium x-axis-value" aria-label="<%- Localizer.localize(\'manualActivity.activityType.info\') %>">\n    <% for (var i = 0; i < xAxisTypes.length; i++) {    %>\n    <%  var xAxisType = xAxisTypes[i];                  %>\n    <option value="<%- xAxisType.name %>"><%- xAxisType.label %></option>\n    <% }                                                %>\n\n</select>\n\n<% } %>\n'
    },
    2357: function(e, t, i) {
        "use strict";
        var a = {
            green: "#00B050",
            yellow: "#daf200",
            orange: "#E9AE00",
            red: "#F02751"
        }
          , n = [{
            max: 0,
            color: a.green
        }, {
            max: 1,
            color: a.yellow
        }, {
            max: 4,
            color: a.orange
        }, {
            max: 8,
            color: a.red
        }];
        t.a = {
            buildStops: function(e, t) {
                t = t || n;
                for (var i = [], a = 0; a < t.length; a++) {
                    var r = t[a].max / e;
                    r <= 1 && i.push([r, t[a].color])
                }
                return i
            },
            Colors: a,
            GradientRangeMaxes: n
        }
    },
    2358: function(e, t, i) {
        "use strict";
        var a = i(436)
          , n = i(437)
          , r = i(81)
          , o = i(80)
          , s = i(82)
          , l = i(10)
          , c = i.n(l)
          , h = i(66)
          , p = i(89)
          , d = i(1662)
          , u = i.n(d)
          , g = i(199)
          , m = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(o.a)(t).apply(this, arguments))
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "render",
                value: function() {
                    var e = u.a.mainTitle
                      , t = u.a.subTitle
                      , i = u.a.smallSectionTitle;
                    return c.a.createElement(g.a, this.props, c.a.createElement("div", {
                        className: u.a.modalContainer
                    }, c.a.createElement("div", {
                        className: u.a.modalHeader
                    }, c.a.createElement("h5", {
                        className: e
                    }, c.a.createElement(p.a, {
                        ns: "units",
                        content: "label_respiration"
                    })), c.a.createElement("p", {
                        className: t
                    }, c.a.createElement(p.a, {
                        ns: "wellness",
                        content: "respiration_help_main_description"
                    }))), c.a.createElement(h.Accordion, null, c.a.createElement(h.AccordionItem, {
                        index: "receivingRespirationData"
                    }, c.a.createElement(h.AccordionItemSummary, null, c.a.createElement(p.a, {
                        ns: "wellness",
                        content: "respiration_help_title_1"
                    })), c.a.createElement(h.AccordionItemDetails, null, c.a.createElement("h5", null, c.a.createElement(p.a, {
                        ns: "wellness",
                        content: "respiration_help_title_1_1"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "wellness",
                        content: "respiration_help_description_1_1"
                    })), c.a.createElement("h5", {
                        className: i
                    }, c.a.createElement(p.a, {
                        ns: "wellness",
                        content: "respiration_help_title_1_2"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "wellness",
                        content: "respiration_help_description_1_2"
                    })))), c.a.createElement(h.AccordionItem, {
                        index: "interpretingYourData"
                    }, c.a.createElement(h.AccordionItemSummary, null, c.a.createElement(p.a, {
                        ns: "wellness",
                        content: "respiration_help_title_2"
                    })), c.a.createElement(h.AccordionItemDetails, null, c.a.createElement("h5", null, c.a.createElement(p.a, {
                        ns: "wellness",
                        content: "respiration_help_title_2_1"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "wellness",
                        content: "respiration_help_description_2_1"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "wellness",
                        content: "respiration_help_description_2_2"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "wellness",
                        content: "respiration_help_description_2_3"
                    })))))))
                }
            }]),
            t
        }(c.a.Component);
        t.a = m
    },
    2359: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(7)
          , o = n.a.View.extend({
            initialize: function(e) {},
            render: function() {
                this.$el.addClass(this.customClasses),
                this.$el.html(this.template({
                    Localizer: r.a
                })),
                this.$el.show()
            }
        });
        o.Events = {
            OnChartToggle: "OnChartToggle"
        },
        t.a = o
    },
    2360: function(e, t) {
        e.exports = '<% if (chartTitles.length) { %>\n<div class="row-fluid chart-header">\n    <div class="span9">\n        <div class="chart-name chart-header-item">\n            <% var i, chartTitle, seriesColor; %>\n            <% for (i = 0; i < chartTitles.length; i++) { %>\n                <% chartTitle = chartTitles[i].chartTitle; %>\n                <% seriesColor = chartTitles[i].seriesColor; %>\n                <span class="chart-color-circle" style="background-color:<%- seriesColor %>"></span><span class="chart-title"><%- chartTitle %></span>\n            <% } %>\n            <% if (helpKey) { %>\n                <a href="#" class="help-icon" data-toggle="modal" data-help-key="<%- helpKey %>" role="button" aria-label="<%- Localizer.localize(\'help.title\') %>">\n                    <i class="icon-help"></i>\n                </a>\n            <% } %>\n        </div>\n        <div class="chart-range-selector chart-header-item" style="display: none">\n\n        </div>\n        <div class="chart-selector chart-header-item" style="display:none"></div>\n    </div>\n    <div class="span3">\n        <% if (canExpandChart) { %>\n        <div class="pull-right">\n            <button class="chart-zoom-toggle" aria-label="<%- Localizer.localize(\'course_map_elevation_chart_expand\') %>"><i class="icon-full-screen"></i>\n            </button>\n        </div>\n        <% } %>\n        <div class="workout-target-label pull-right hidden">\n            <span class="chart-color-circle" style="background-color:<%- workoutSeriesColor %>"></span><%- Localizer.localize(\'workout_target\') %>\n        </div>\n        <div class="pacepro-target-label pull-right hidden">\n            <span class="chart-color-circle" style="background-color:<%- paceProSeriesColor %>"></span><%- Localizer.localize(\'pace_pro_chart_target\') %>\n        </div>\n    </div>\n</div>\n<% } %>\n<div class="chart-placeholder bottom-s"></div>\n'
    },
    2361: function(e, t, i) {
        var a, n;
        n = function(e) {
            !function(e) {
                var t = e.merge
                  , i = e.addEvent
                  , a = e.extend
                  , n = e.each
                  , r = e.isString
                  , o = e.isNumber
                  , s = e.defined
                  , l = e.isObject
                  , c = e.inArray
                  , h = e.erase
                  , p = e.find
                  , d = e.format
                  , u = e.pick
                  , g = e.objectEach
                  , m = e.uniqueKey
                  , f = e.doc
                  , y = e.splat
                  , v = e.destroyObjectProperties
                  , b = e.grep
                  , A = e.Tooltip.prototype
                  , C = e.Series.prototype
                  , w = e.Chart.prototype
                  , _ = {
                    arrow: {
                        tagName: "marker",
                        render: !1,
                        id: "arrow",
                        refY: 5,
                        refX: 5,
                        markerWidth: 10,
                        markerHeight: 10,
                        children: [{
                            tagName: "path",
                            d: "M 0 0 L 10 5 L 0 10 Z",
                            strokeWidth: 0
                        }]
                    }
                }
                  , x = {
                    markerSetter: function(e) {
                        return function(t) {
                            this.attr(e, "url(#" + t + ")")
                        }
                    }
                };
                a(x, {
                    markerEndSetter: x.markerSetter("marker-end"),
                    markerStartSetter: x.markerSetter("marker-start")
                }),
                e.SVGRenderer.prototype.definition = function(e) {
                    var t = this;
                    return function e(i, a) {
                        var r;
                        return n(y(i), function(i) {
                            var n = t.createElement(i.tagName)
                              , o = {};
                            g(i, function(e, t) {
                                "tagName" !== t && "children" !== t && "textContent" !== t && (o[t] = e)
                            }),
                            n.attr(o),
                            n.add(a || t.defs),
                            i.textContent && n.element.appendChild(f.createTextNode(i.textContent)),
                            e(i.children || [], n),
                            r = n
                        }),
                        r
                    }(e)
                }
                ,
                e.SVGRenderer.prototype.addMarker = function(i, a) {
                    var n = {
                        id: i
                    }
                      , r = {
                        stroke: a.color || "none",
                        fill: a.color || "rgba(0, 0, 0, 0.75)"
                    };
                    return n.children = e.map(a.children, function(e) {
                        return t(r, e)
                    }),
                    (a = this.definition(t({
                        markerWidth: 20,
                        markerHeight: 20,
                        refX: 0,
                        refY: 0,
                        orient: "auto"
                    }, a, n))).id = i,
                    a
                }
                ;
                var S = e.MockPoint = function(e, t) {
                    this.mock = !0,
                    this.series = {
                        visible: !0,
                        chart: e,
                        getPlotBox: C.getPlotBox
                    },
                    this.init(e, t)
                }
                  , T = e.mockPoint = function(e, t) {
                    return new S(e,t)
                }
                ;
                S.prototype = {
                    init: function(e, t) {
                        var i = t.xAxis
                          , a = (i = s(i) ? e.xAxis[i] || e.get(i) : null,
                        t.yAxis);
                        e = s(a) ? e.yAxis[a] || e.get(a) : null,
                        i ? (this.x = t.x,
                        this.series.xAxis = i) : this.plotX = t.x,
                        e ? (this.y = t.y,
                        this.series.yAxis = e) : this.plotY = t.y
                    },
                    translate: function() {
                        var e = (t = this.series).xAxis
                          , t = t.yAxis;
                        e && (this.plotX = e.toPixels(this.x, !0)),
                        t && (this.plotY = t.toPixels(this.y, !0)),
                        this.isInside = this.isInsidePane()
                    },
                    alignToBox: function(e) {
                        e && this.translate(),
                        e = this.plotX;
                        var t, i = this.plotY;
                        return this.series.chart.inverted && (t = e,
                        e = i,
                        i = t),
                        [e, i, 0, 0]
                    },
                    getLabelConfig: function() {
                        return {
                            x: this.x,
                            y: this.y,
                            point: this
                        }
                    },
                    isInsidePane: function() {
                        var e = this.plotX
                          , t = this.plotY
                          , i = this.series.xAxis
                          , a = this.series.yAxis
                          , n = !0;
                        return i && (n = s(e) && 0 <= e && e <= i.len),
                        a && (n = n && s(t) && 0 <= t && t <= a.len),
                        n
                    }
                },
                e.defaultOptions.annotations = [];
                var E = e.Annotation = function(e, i) {
                    this.chart = e,
                    this.labels = [],
                    this.shapes = [],
                    this.userOptions = i,
                    this.options = t(this.defaultOptions, i),
                    this.init(e, i)
                }
                ;
                E.prototype = {
                    shapesWithoutBackground: ["connector"],
                    attrsMap: {
                        backgroundColor: "fill",
                        borderColor: "stroke",
                        borderWidth: "stroke-width",
                        dashStyle: "dashstyle",
                        strokeWidth: "stroke-width",
                        stroke: "stroke",
                        fill: "fill",
                        zIndex: "zIndex",
                        width: "width",
                        height: "height",
                        borderRadius: "r",
                        r: "r",
                        padding: "padding"
                    },
                    defaultOptions: {
                        visible: !0,
                        labelOptions: {
                            align: "center",
                            allowOverlap: !1,
                            backgroundColor: "rgba(0, 0, 0, 0.75)",
                            borderColor: "black",
                            borderRadius: 3,
                            borderWidth: 1,
                            className: "",
                            crop: !1,
                            formatter: function() {
                                return s(this.y) ? this.y : "Annotation label"
                            },
                            overflow: "justify",
                            padding: 5,
                            shadow: !1,
                            shape: "callout",
                            style: {
                                fontSize: "11px",
                                fontWeight: "normal",
                                color: "contrast"
                            },
                            useHTML: !1,
                            verticalAlign: "bottom",
                            x: 0,
                            y: -16
                        },
                        shapeOptions: {
                            stroke: "rgba(0, 0, 0, 0.75)",
                            strokeWidth: 1,
                            fill: "rgba(0, 0, 0, 0.75)",
                            r: 0
                        },
                        zIndex: 6
                    },
                    init: function() {
                        var e = this;
                        n(this.options.labels || [], this.initLabel, this),
                        n(this.options.shapes || [], this.initShape, this),
                        this.labelCollector = function() {
                            return b(e.labels, function(e) {
                                return !e.options.allowOverlap
                            })
                        }
                        ,
                        this.chart.labelCollectors.push(this.labelCollector)
                    },
                    redraw: function() {
                        this.group || this.render(),
                        this.redrawItems(this.shapes),
                        this.redrawItems(this.labels)
                    },
                    redrawItems: function(e) {
                        for (var t = e.length; t--; )
                            this.redrawItem(e[t])
                    },
                    render: function() {
                        var e = this.chart.renderer
                          , t = this.group = e.g("annotation").attr({
                            zIndex: this.options.zIndex,
                            visibility: this.options.visible ? "visible" : "hidden"
                        }).add();
                        this.shapesGroup = e.g("annotation-shapes").add(t),
                        this.labelsGroup = e.g("annotation-labels").attr({
                            translateX: 0,
                            translateY: 0
                        }).add(t),
                        this.shapesGroup.clip(this.chart.plotBoxClip)
                    },
                    setVisible: function(e) {
                        var t = this.options;
                        e = u(e, !t.visible),
                        this.group.attr({
                            visibility: e ? "visible" : "hidden"
                        }),
                        t.visible = e
                    },
                    destroy: function() {
                        var e = this.chart
                          , t = function(e) {
                            e.destroy()
                        };
                        h(this.chart.labelCollectors, this.labelCollector),
                        n(this.labels, t),
                        n(this.shapes, t),
                        v(this, e)
                    },
                    initShape: function(e) {
                        var i = this.chart.renderer;
                        e = t(this.options.shapeOptions, e);
                        var n = this.attrsFromOptions(e)
                          , r = i[e.type] ? e.type : "rect";
                        (i = i[r](0, -9e9, 0, 0)).points = [],
                        i.type = r,
                        i.options = e,
                        i.itemType = "shape",
                        "path" === r && a(i, {
                            markerStartSetter: x.markerStartSetter,
                            markerEndSetter: x.markerEndSetter,
                            markerStart: x.markerStart,
                            markerEnd: x.markerEnd
                        }),
                        i.attr(n),
                        e.className && i.addClass(e.className),
                        this.shapes.push(i)
                    },
                    initLabel: function(e) {
                        e = t(this.options.labelOptions, e);
                        var i = this.attrsFromOptions(e)
                          , a = this.chart.renderer.label("", 0, -9e9, e.shape, null, null, e.useHTML, null, "annotation-label");
                        a.points = [],
                        a.options = e,
                        a.itemType = "label",
                        a.labelrank = e.labelrank,
                        a.annotation = this,
                        a.attr(i),
                        "contrast" === (i = e.style).color && (i.color = this.chart.renderer.getContrast(-1 < c(e.shape, this.shapesWithoutBackground) ? "#FFFFFF" : e.backgroundColor)),
                        a.css(i).shadow(e.shadow),
                        e.className && a.addClass(e.className),
                        this.labels.push(a)
                    },
                    redrawItem: function(e) {
                        var t, i = this.linkPoints(e), a = e.options, n = this.chart.time;
                        i.length ? (e.parentGroup || this.renderItem(e),
                        "label" === e.itemType && (t = a.format || a.text,
                        e.attr({
                            text: t ? d(t, i[0].getLabelConfig(), n) : a.formatter.call(i[0])
                        })),
                        "path" === e.type ? this.redrawPath(e) : this.alignItem(e, !e.placed)) : this.destroyItem(e)
                    },
                    destroyItem: function(e) {
                        h(this[e.itemType + "s"], e),
                        e.destroy()
                    },
                    pointItem: function(e, t) {
                        return t && null !== t.series || (l(e) ? t = T(this.chart, e) : r(e) && (t = this.chart.get(e) || null)),
                        t
                    },
                    linkPoints: function(t) {
                        var i, a, n = t.options.points || t.options.point && e.splat(t.options.point), r = t.points, o = n && n.length;
                        for (i = 0; i < o; i++) {
                            if (!(a = this.pointItem(n[i], r[i])))
                                return t.points = [];
                            r[i] = a
                        }
                        return r
                    },
                    alignItem: function(e, t) {
                        var i = this.itemAnchor(e, e.points[0])
                          , a = this.itemPosition(e, i);
                        a ? (e.alignAttr = a,
                        e.placed = !0,
                        a.anchorX = i.absolutePosition.x,
                        a.anchorY = i.absolutePosition.y,
                        e[t ? "attr" : "animate"](a)) : (e.placed = !1,
                        e.attr({
                            x: 0,
                            y: -9e9
                        }))
                    },
                    redrawPath: function(e, t) {
                        var i, a, n = e.points, r = e["stroke-width"] || 1, o = ["M"], s = 0, l = 0, c = n && n.length;
                        if (c)
                            do {
                                a = n[s],
                                i = this.itemAnchor(e, a).absolutePosition,
                                o[++l] = i.x,
                                o[++l] = i.y,
                                0 === (i = l % 5) && (o[i + 1] === o[i + 4] && (o[i + 1] = o[i + 4] = Math.round(o[i + 1]) - r % 2 / 2),
                                o[i + 2] === o[i + 5] && (o[i + 2] = o[i + 5] = Math.round(o[i + 2]) + r % 2 / 2)),
                                s < c - 1 && (o[++l] = "L"),
                                a = a.series.visible
                            } while (++s < c && a);a ? e[t ? "attr" : "animate"]({
                            d: o
                        }) : e.attr({
                            d: "M 0 -9000000000"
                        }),
                        e.placed = a
                    },
                    renderItem: function(e) {
                        e.add("label" === e.itemType ? this.labelsGroup : this.shapesGroup),
                        this.setItemMarkers(e)
                    },
                    setItemMarkers: function(e) {
                        var i = e.options
                          , a = this.chart
                          , r = a.options.defs
                          , o = i.fill
                          , l = s(o) && "none" !== o ? o : i.stroke;
                        n(["markerStart", "markerEnd"], function(n) {
                            var o, s, c, h = i[n];
                            if (h) {
                                for (c in r)
                                    if (h === (o = r[c]).id && "marker" === o.tagName) {
                                        s = o;
                                        break
                                    }
                                s && (h = e[n] = a.renderer.addMarker((i.id || m()) + "-" + s.id, t(s, {
                                    color: l
                                })),
                                e.attr(n, h.attr("id")))
                            }
                        })
                    },
                    itemAnchor: function(e, i) {
                        return e = i.series.getPlotBox(),
                        {
                            relativePosition: i = {
                                x: (i = i.mock ? i.alignToBox(!0) : A.getAnchor.call({
                                    chart: this.chart
                                }, i))[0],
                                y: i[1],
                                height: i[2] || 0,
                                width: i[3] || 0
                            },
                            absolutePosition: t(i, {
                                x: i.x + e.translateX,
                                y: i.y + e.translateY
                            })
                        }
                    },
                    itemPosition: function(e, t) {
                        var i, n = this.chart, r = e.points[0], o = e.options, l = t.absolutePosition, c = t.relativePosition;
                        return (t = r.series.visible && S.prototype.isInsidePane.call(r)) && (s(o.distance) || o.positioner ? i = (o.positioner || A.getPosition).call({
                            chart: n,
                            distance: u(o.distance, 16)
                        }, e.width, e.height, {
                            plotX: c.x,
                            plotY: c.y,
                            negative: r.negative,
                            ttBelow: r.ttBelow,
                            h: c.height || c.width
                        }) : (r = {
                            x: l.x,
                            y: l.y,
                            width: 0,
                            height: 0
                        },
                        i = this.alignedPosition(a(o, {
                            width: e.width,
                            height: e.height
                        }), r),
                        "justify" === e.options.overflow && (i = this.alignedPosition(this.justifiedOptions(e, o, i), r))),
                        o.crop && (o = i.x - n.plotLeft,
                        r = i.y - n.plotTop,
                        t = n.isInsidePlot(o, r) && n.isInsidePlot(o + e.width, r + e.height))),
                        t ? i : null
                    },
                    alignedPosition: function(e, t) {
                        var i, a, n = e.align, r = e.verticalAlign, o = (t.x || 0) + (e.x || 0), s = (t.y || 0) + (e.y || 0);
                        return "right" === n ? i = 1 : "center" === n && (i = 2),
                        i && (o += (t.width - (e.width || 0)) / i),
                        "bottom" === r ? a = 1 : "middle" === r && (a = 2),
                        a && (s += (t.height - (e.height || 0)) / a),
                        {
                            x: Math.round(o),
                            y: Math.round(s)
                        }
                    },
                    justifiedOptions: function(e, t, i) {
                        var a = this.chart
                          , n = t.align
                          , r = t.verticalAlign
                          , o = e.box ? 0 : e.padding || 0
                          , s = e.getBBox();
                        e = {
                            align: n,
                            verticalAlign: r,
                            x: t.x,
                            y: t.y,
                            width: e.width,
                            height: e.height
                        },
                        t = i.x - a.plotLeft;
                        var l = i.y - a.plotTop;
                        return 0 > (i = t + o) && ("right" === n ? e.align = "left" : e.x = -i),
                        (i = t + s.width - o) > a.plotWidth && ("left" === n ? e.align = "right" : e.x = a.plotWidth - i),
                        0 > (i = l + o) && ("bottom" === r ? e.verticalAlign = "top" : e.y = -i),
                        (i = l + s.height - o) > a.plotHeight && ("top" === r ? e.verticalAlign = "bottom" : e.y = a.plotHeight - i),
                        e
                    },
                    attrsFromOptions: function(e) {
                        var t, i, a = this.attrsMap, n = {};
                        for (t in e)
                            (i = a[t]) && (n[i] = e[t]);
                        return n
                    }
                },
                e.extend(w, {
                    addAnnotation: function(e, t) {
                        var i = new E(this,e);
                        return this.annotations.push(i),
                        this.options.annotations.push(e),
                        u(t, !0) && i.redraw(),
                        i
                    },
                    removeAnnotation: function(e) {
                        var t = this.annotations
                          , i = p(t, function(t) {
                            return t.options.id === e
                        });
                        i && (h(this.options.annotations, i.userOptions),
                        h(t, i),
                        i.destroy())
                    },
                    drawAnnotations: function() {
                        var e = this.plotBoxClip
                          , t = this.plotBox;
                        e ? e.attr(t) : this.plotBoxClip = this.renderer.clipRect(t),
                        n(this.annotations, function(e) {
                            e.redraw()
                        })
                    }
                }),
                w.callbacks.push(function(e) {
                    e.annotations = [],
                    n(e.options.annotations, function(t) {
                        e.annotations.push(new E(e,t))
                    }),
                    e.drawAnnotations(),
                    i(e, "redraw", e.drawAnnotations),
                    i(e, "destroy", function() {
                        var t = e.plotBoxClip;
                        t && t.destroy && t.destroy()
                    })
                }),
                i(e.Chart, "afterGetContainer", function() {
                    this.options.defs = t(_, this.options.defs || {}),
                    g(this.options.defs, function(e) {
                        "marker" === e.tagName && !1 !== e.render && this.renderer.addMarker(e.id, e)
                    }, this)
                }),
                e.SVGRenderer.prototype.symbols.connector = function(e, t, i, a, n) {
                    var r = n && n.anchorX;
                    n = n && n.anchorY;
                    var s, l, c = i / 2;
                    return o(r) && o(n) && (s = ["M", r, n],
                    0 > (l = t - n) && (l = -a - l),
                    l < i && (c = r < e + i / 2 ? l : i - l),
                    n > t + a ? s.push("L", e + c, t + a) : n < t ? s.push("L", e + c, t) : r < e ? s.push("L", e, t + a / 2) : r > e + i && s.push("L", e + i, t + a / 2)),
                    s || []
                }
            }(e)
        }
        ,
        "object" === typeof e && e.exports ? e.exports = n : void 0 === (a = function() {
            return n
        }
        .call(t, i, t, e)) || (e.exports = a)
    },
    2362: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313);
        t.a = n.a.extend({
            primarySeriesType: o.a.HeartRate,
            fillColor: r.a.mapSeriesType(o.a.HeartRate),
            chartTitle: function() {
                return a.a.localize("label_heart_rate")
            }
        })
    },
    2363: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(11)
          , r = i(1322)
          , o = i(1296)
          , s = i(1313);
        t.a = r.a.extend({
            primarySeriesType: s.a.Speed,
            fillColor: o.a.mapSeriesType(s.a.Speed),
            chartTitle: function() {
                var e = this.activitySummary.get("activityTypeDTO").typeKey
                  , t = n.a.getSpeedTypeFromActivityType(e);
                return a.a.localize(t === n.a.SpeedTypes.Flying ? n.a.getSpeedTypeLabelKey(e) : "label_speed")
            }
        })
    },
    2364: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(11)
          , s = i(1322)
          , l = i(1296)
          , c = i(1313);
        t.a = s.a.extend({
            chartSelector: c.a.Pace.chartSelector,
            primarySeriesType: c.a.Pace,
            fillColor: l.a.mapSeriesType(c.a.Pace),
            formattingFunction: n.a.bind(o.a.formatPace, o.a),
            chartTitle: function() {
                return r.a.localize("label_pace")
            },
            getActivityTypeKey: function(e) {
                var t = e || this;
                return t && t.activitySummary.get("activityTypeDTO") && t.activitySummary.get("activityTypeDTO").typeKey ? t.activitySummary.get("activityTypeDTO").typeKey : ""
            }
        })
    },
    2365: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313);
        t.a = n.a.extend({
            chartRangeSelectorType: o.a.PowerWatts.chartRangeSelectorType,
            primarySeriesType: o.a.PowerWatts,
            fillColor: r.a.mapSeriesType(o.a.PowerWatts),
            chartTitle: function() {
                return a.a.localize("label_full_power", a.a.localize("label_power_unit"))
            },
            yLabel: function() {
                return a.a.localize("label_power")
            }
        })
    },
    2366: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(11)
          , r = i(1322)
          , o = i(1296)
          , s = i(1313);
        t.a = r.a.extend({
            primarySeriesType: s.a.OpenWaterSwimSpeed,
            fillColor: o.a.mapSeriesType(s.a.OpenWaterSwimSpeed),
            chartTitle: function() {
                var e = this.activitySummary.get("activityTypeDTO").typeKey
                  , t = n.a.getSpeedTypeFromActivityType(e);
                return a.a.localize(t === n.a.SpeedTypes.Flying ? n.a.getSpeedTypeLabelKey(e) : "label_speed")
            }
        })
    },
    2367: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313);
        t.a = n.a.extend({
            primarySeriesType: o.a.OpenWaterSwimPace,
            fillColor: r.a.mapSeriesType(o.a.OpenWaterSwimPace),
            reversed: !0,
            chartTitle: function() {
                return a.a.localize("label_swim_pace")
            }
        })
    },
    2368: function(e, t) {
        e.exports = '<span href="<%- url %>" class="inline-edit-target page-title-overflow"><%- value %>\n<% if (label) {     %>\n<%- label %>\n<% }                %>\n</span>\n\n<button class="inline-edit-trigger modal-trigger" aria-label="<%- Localizer.localize(\'edit\') %>">\n    <i class="icon-pencil"></i>\n</button>\n\n<div class="inline-edit-editable">\n    <div class="inline-edit-editable-text page-title-overflow" contenteditable="true"><%- value %></div>\n    <span class="inline-edit-actions">\n        <button class="inline-edit-save icon-checkmark" aria-label="<%- Localizer.localize(\'button_save\') %>"></button>\n        <button class="inline-edit-cancel icon-close" aria-label="<%- Localizer.localize(\'button_cancel\') %>"></button>\n    </span>\n</div>\n    '
    },
    2369: function(e, t) {
        e.exports = '<% if (gearCount == 0) { %>\n    <h5 class="font-thin text-center"><%- Localizer.localize(\'label_no_gear_available\') %></h5>\n<% } %>\n\n<% if (shoes && shoes.length > 0) { %>\n<h6 class="bottom-none"><%- Localizer.localize(\'gear_type_shoes\') %></h6>\n<ul class="gear-list">\n\n    <% for (var i = 0; i < shoes.length; i++) { %>\n    <%  var shoe = shoes[i];                        %>\n    <li class="active" title="<%- shoe.displayName %>" id="<%- \'edit-gear-\' + shoe.uuid %>">\n        <span class="gear-status">\n            <div class="small spinner blue" title="Loading..."></div>\n        </span>\n        <i class="icon-steps gear-type"></i>\n\n        <% if (shoe.gearStatusName === \'retired\') { %>\n            <span class="label"><%- Localizer.localize(\'label_status_retired\') %>\n        <% } %>\n        </span> <%- shoe.fullDisplayName %>\n    </li>\n    <% }                                            %>\n</ul>\n<% } %>\n\n<% if (bikes && bikes.length > 0) { %>\n<h6 class="bottom-none"><%- Localizer.localize(\'gear_type_bikes\') %></h6>\n<ul class="gear-list">\n    <% for (var i = 0; i < bikes.length; i++) { %>\n    <%  var bike = bikes[i];                        %>\n    <li class="active" title="<%- bike.fullDisplayName %>" id="<%- \'edit-gear-\' + bike.uuid %>">\n        <span class="gear-status"><div class="small spinner blue" title="Loading..."></div></span>\n        <i class="icon-activity-cycling gear-type"></i>\n\n        <% if (bike.gearStatusName === \'retired\') { %>\n            <span class="label"><%- Localizer.localize(\'label_status_retired\') %>\n        <% } %>\n        </span> <%- bike.fullDisplayName %>\n    </li>\n    <% }                                            %>\n</ul>\n<% } %>\n\n<% if (others && others.length > 0) { %>\n<h6 class="bottom-none"><%- Localizer.localize(\'gear_type_other\') %></h6>\n<ul class="gear-list">\n    <% for (var i = 0; i < others.length; i++) { %>\n    <%  var other = others[i];                        %>\n    <li class="active" title="<%- other.fullDisplayName %>" id="<%- \'edit-gear-\' + other.uuid %>">\n        <span class="gear-status"><div class="small spinner blue" title="Loading..."></div></span>\n        <i class="icon-gear gear-type"></i>\n\n        <% if (other.gearStatusName === \'retired\') { %>\n            <span class="label"><%- Localizer.localize(\'label_status_retired\') %>\n        <% } %>\n        </span> <%- other.fullDisplayName %>\n    </li>\n    <% }                                            %>\n</ul>\n<% } %>\n\n<div class="text-center top-xs">\n\n    <% if (gearCount > 0) { %>\n    <a href="/modern/gear" class="manage-gear-link colored"><%- Localizer.localize(\'label_manage_gear\') %></a>\n    <% } else { %>\n    <a href="/modern/gear/add" class="add-gear-link colored"><%- Localizer.localize(\'label_add_gear\') %></a>\n    <% }        %>\n\n</div>\n\n'
    },
    2370: function(e, t) {
        e.exports = '<% if (gearCount) { %>\n    <%- Localizer.localize(\'label_gear\') %>:\n    <a class="toggle-add-gear" href="#attached-gear" <% if(!isEditPage) { print(\'data-scroll="smooth"\'); } %> ><span class="new-items-alert"><%- gearCount %></span></a>\n<% } else if (!readOnly) { %>\n    <%- Localizer.localize(\'label_gear\') %>:\n    <a class="toggle-add-gear colored" href="#"><%- Localizer.localize(\'add\') %></a>\n<% }  %>\n'
    },
    2371: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(2372)
          , h = i.n(c)
          , p = o.a.View.extend({
            template: n.a.template(h.a),
            initialize: function(e) {
                this.repCountingActivity = e.repCountingActivity,
                this.times = {
                    total: null,
                    rest: null,
                    duration: null
                },
                this.isPilatesActivity = e.isPilatesActivity
            },
            render: function() {
                var e = this.model
                  , t = this.repCountingActivity.get("exerciseSets") && this.repCountingActivity.get("exerciseSets").length > 0 ? this.repCountingActivity.getTotalTime() : e.duration
                  , i = e.duration;
                t < i && (t = i),
                this.times.duration = this.repCountingActivity.getWorkTime(),
                this.times.total = t,
                this.isPilatesActivity || (this.times.rest = this.repCountingActivity.getRestTime()),
                this.$el.html(this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    totalTime: this.times.total,
                    workTime: this.times.duration,
                    restTime: this.times.rest,
                    isPilatesActivity: this.isPilatesActivity
                }))
            },
            updateTime: function(e) {
                var t = this.$("." + e.durationOrRest + "-time-value");
                this.times[e.durationOrRest] += e.delta,
                t.html(l.a.personalizeDuration(this.times[e.durationOrRest])),
                t = this.$(".total-time-value"),
                this.times.total = e.total,
                t.html(l.a.personalizeDuration(this.times.total))
            },
            updateAllTimes: function(e) {
                var t = this.$(".rest-time-value")
                  , i = this.$(".duration-time-value");
                this.times.rest += e.restDelta,
                this.times.duration += e.durationDelta,
                t.html(l.a.personalizeDuration(this.times.rest)),
                i.html(l.a.personalizeDuration(this.times.duration));
                var a = this.$(".total-time-value");
                this.times.total = e.total,
                a.html(l.a.personalizeDuration(this.times.total))
            }
        });
        t.a = p
    },
    2372: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(totalTime) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_time_total\') %></span>\n    </div>\n\n    <% if(!isPilatesActivity) { %>\n    <div class="data-block small">\n        <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(workTime) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_work_time\') %></span>\n    </div>\n\n    <div class="data-block small">\n        <div class="data-bit rest-time-value"><%- Personalizer.personalizeDuration(restTime) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_rest_time\') %></span>\n    </div>\n    <% } %>\n</div>'
    },
    2373: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(434)
          , h = i(2374)
          , p = i.n(h)
          , d = o.a.View.extend({
            template: n.a.template(p.a),
            initialize: function(e) {
                this.repCountingActivity = e.repCountingActivity,
                this.volume = 0,
                this.reps = null,
                this.sets = null,
                this.isPilatesActivity = e.isPilatesActivity,
                this.isYogaActivity = e.isYogaActivity
            },
            render: function() {
                this.isPilatesActivity || (this.volume = this.repCountingActivity.getTotalVolume()),
                this.reps = this.repCountingActivity.getTotalRepCount(),
                this.sets = this.repCountingActivity.getActiveSetCount() || 1,
                this.avgTimePerPose = this.repCountingActivity.getAverageTimePerActiveExercise(),
                this.$el.html(this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    isMetric: l.a.measurementSystem === l.a.MeasurementSystems.METRIC,
                    totalReps: this.reps,
                    activeSets: this.sets,
                    totalVolume: this.formatTotalVolume(),
                    isPilatesActivity: this.isPilatesActivity,
                    isYogaActivity: this.isYogaActivity,
                    label: this.getLabel(),
                    avgTimePerPose: this.avgTimePerPose
                })),
                this.renderTooltip()
            },
            renderTooltip: function() {
                new c.a({
                    el: this.$(".icon-help-volume"),
                    content: s.a.localize("tooltip_volume"),
                    placement: "right"
                }),
                this.isPilatesActivity && (new c.a({
                    el: this.$(".icon-help-reps"),
                    content: s.a.localize("reps_help_label"),
                    placement: "right"
                }),
                new c.a({
                    el: this.$(".icon-help-moves"),
                    content: s.a.localize("moves_help_label"),
                    placement: "right"
                }))
            },
            formatTotalVolume: function() {
                return this.volume > 0 ? l.a.convertWeight(this.volume) : l.a.zeroDash(0)
            },
            updateVolume: function(e) {
                this.volume += e.volumeDelta,
                this.$(".total-volume").html(this.formatTotalVolume())
            },
            updateReps: function(e) {
                this.reps += e.repDelta,
                this.$(".total-reps").html(this.reps)
            },
            updateSets: function(e) {
                this.sets += e.setDelta,
                this.$(".total-sets").html(this.sets)
            },
            getLabel: function() {
                return this.isPilatesActivity ? s.a.localize("label_total_moves") : this.isYogaActivity ? s.a.localize("label_total_poses") : s.a.localize("label_total_sets")
            }
        });
        t.a = d
    },
    2374: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'workout_details\') %></h3>\n    <% if(!isYogaActivity) { %>\n    <div class="data-block small">\n        <div class="data-bit total-reps"><%- Personalizer.zeroDash(totalReps) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_total_reps\') %></span>\n        <% if(isPilatesActivity) { %>\n            <span class="help-icon" aria-label="<%- Localizer.localize(\'reps_help_label\') %>">\n                <span class="icon-help icon-help-reps"></span>\n            </span>\n        <% } %>\n    </div>\n    <% } %>\n\n    <div class="data-block small">\n        <div class="data-bit total-sets"><%- Personalizer.personalizeActiveSets(activeSets) %></div>\n        <span class="data-label"><%- label %></span>\n        <% if(isPilatesActivity) { %>\n            <span class="help-icon" aria-label="<%- Localizer.localize(\'moves_help_label\') %>">\n                <span class="icon-help icon-help-moves"></span>\n            </span>\n        <% } %>\n    </div>\n\n    <% if(!isPilatesActivity && !isYogaActivity) { %>\n    <div class="data-block small">\n        <div class="data-bit">\n            <span class="total-volume"><%- totalVolume %></span>\n            <% if(isMetric) { %>\n                <%- Localizer.localize(\'weight_unit_metric\') %>\n            <% } else { %>\n                <%- Localizer.localize(\'weight_unit_statute\') %>\n            <% } %>\n        </div>\n        <span class="data-label"><%- Localizer.localize(\'label_volume\') %></span>\n\n        <span class="help-icon" aria-label="<%- Localizer.localize(\'tooltip_volume\') %>">\n            <span class="icon-help icon-help-volume"></span>\n        </span>\n    </div>\n    <% } %>\n\n    <% if(isYogaActivity) { %>\n        <div class="data-block small">\n            <div class="data-bit total-reps"><%- Personalizer.personalizeStandingTime(avgTimePerPose) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_avg_time_per_pose\') %></span>\n        </div>\n    <% } %>\n</div>'
    },
    2375: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return n
        });
        var a = i(1);
        function n(e) {
            return {
                type: a.uf,
                meta: {
                    cacheTime: e ? null : 12e4
                }
            }
        }
    },
    2376: function(e, t, i) {
        "use strict";
        i.d(t, "c", function() {
            return o
        }),
        i.d(t, "b", function() {
            return s
        }),
        i.d(t, "a", function() {
            return l
        });
        var a = {
            WARMUP: "interval_type_warmup",
            ACTIVE: "",
            REST: "interval_type_rest",
            COOLDOWN: "interval_type_cooldown",
            RECOVERY: "interval_type_recovery",
            OTHER: "interval_type_other"
        }
          , n = {
            ALL: "interval_type_all",
            WARMUP: "interval_type_warmup",
            ACTIVE: "",
            RECOVERY: "interval_type_recovery",
            COOLDOWN: "interval_type_cooldown",
            REST: "interval_type_rest"
        }
          , r = {
            running: "interval_active_type_running",
            cycling: "interval_active_type_cycling",
            swimming: "interval_active_type_swimming"
        }
          , o = function(e) {
            return e && (a.ACTIVE = r[e] || "Other"),
            a
        }
          , s = function(e) {
            return e && -1 === e.indexOf("ACTIVE") ? e : "ACTIVE"
        }
          , l = function(e) {
            return n.ACTIVE = r[e] || "Other",
            n
        }
    },
    2377: function(e, t, i) {
        var a = i(4673);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    2378: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return r
        });
        var a = i(1425)
          , n = i(1331)
          , r = (i(11),
        i(42),
        function(e, t, i) {
            var r = e.activityTypeDTO.typeKey
              , o = []
              , s = n.a.getSpeedModelforActivity(e)
              , l = new a.a(e,s,t,i);
            switch (r) {
            case "apnea_diving":
            case "apnea_hunting":
                return e.maxDepth && o.push(l.getDeepestDive()),
                o.push(l.getSessionBottomTime()),
                o.push(l.getNumberOfApneaDives()),
                o.push(l.getDiveSurfaceTime()),
                e.diveSettings && e.diveSettings.waterType && o.push(l.getDiveWaterType()),
                {
                    activityStatMetrics: o
                };
            case "atv":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "auto_racing":
                return o.push(l.getBestLapTime()),
                o.push(l.getMaxSpeed()),
                o.push(l.getNumberOfRaceLap()),
                o.push(l.getAverageSpeedOrPace()),
                o.push(l.getTotalTime()),
                {
                    activityStatMetrics: o
                };
            case "backcountry_skiing_snowboarding_ws":
                return o.push(l.getDistance()),
                o.push(l.getElevationGain()),
                o.push(l.getElevationLoss()),
                o.push(l.getDuration()),
                o.push(l.getAverageHR()),
                {
                    activityStatMetrics: o
                };
            case "bouldering":
                return o.push(l.getTotalClimbRoutes()),
                o.push(l.getMaxDifficulity()),
                o.push(l.getClimbTime()),
                o.push(l.getCalories()),
                o.push(l.getAverageHR()),
                {
                    activityStatMetrics: o
                };
            case "hiit":
                return o.push(l.getDuration()),
                o.push(l.getAverageHR()),
                o.push(l.getMaxHR()),
                o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "indoor_climbing":
                return o.push(l.getTotalClimbRoutes()),
                o.push(l.getMaxDifficulity()),
                o.push(l.getClimbTime()),
                o.push(l.getClimbAscent()),
                o.push(l.getNumberOfSends()),
                {
                    activityStatMetrics: o
                };
            case "skate_skiing_ws":
            case "cross_country_skiing_ws":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                e.averagePower && o.push(l.getAveragePower()),
                o.push(l.getAverageHR()),
                {
                    activityStatMetrics: o
                };
            case "ccr_diving":
            case "diving":
            case "gauge_diving":
            case "multi_gas_diving":
            case "single_gas_diving":
                return o.push(l.getMaxDepth()),
                o.push(l.getSessionBottomTime()),
                o.push(l.getMinWaterTemperature()),
                o.push(l.getGasType()),
                o.push(l.getSurfaceInterval()),
                {
                    activityStatMetrics: o
                };
            case "floor_climbing":
                return o.push(l.getTime()),
                o.push(l.getCalories()),
                o.push(l.getFloorsClimbed()),
                o.push(l.getFloorsPerMin()),
                {
                    activityStatMetrics: o
                };
            case "hiking":
            case "indoor_cardio":
                return o.push(l.getTime()),
                o.push(l.getAverageHR()),
                o.push(l.getMaxHR()),
                o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "cycling":
            case "bmx":
            case "downhill_biking":
            case "gravel_cycling":
            case "indoor_cycling":
            case "mountain_biking":
            case "recumbent_cycling":
            case "road_biking":
            case "track_cycling":
            case "virtual_ride":
            case "cyclocross":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                o.push(l.getElevationGain()),
                e.averagePower && o.push(l.getAveragePower()),
                {
                    activityStatMetrics: o
                };
            case "lap_swimming":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                e.calories && o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "multi_sport":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                o.push(l.getElevationGain()),
                e.averageHR && o.push(l.getAverageHR()),
                e.calories && o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "offshore_grinding":
                return o.push(l.getMaxSpeed()),
                o.push(l.getDuration()),
                o.push(l.getAverageHR()),
                e.averagePower && o.push(l.getAveragePower()),
                e.averageBikeCadence && o.push(l.getAverageCadence()),
                {
                    activityStatMetrics: o
                };
            case "onshore_grinding":
                return o.push(l.getDuration()),
                o.push(l.getAverageHR()),
                e.averagePower && o.push(l.getAveragePower()),
                e.averageBikeCadence && o.push(l.getAverageCadence()),
                o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "open_water_swimming":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                s.avgSpeedOrPace && o.push(l.getAverageSpeedOrPace()),
                e.calories && o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "pilates":
                return o.push(l.getTime()),
                o.push(l.getCalories()),
                o.push(l.getAverageHR()),
                {
                    activityStatMetrics: o
                };
            case "resort_skiing_snowboarding_ws":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getElevationLoss()),
                o.push(l.getMaxSpeed()),
                o.push(l.getNumberOfRuns()),
                {
                    activityStatMetrics: o
                };
            case "strength_training":
                return o.push(l.getStrengthTotalTime()),
                o.push(l.getWorkoutTime()),
                o.push(l.getAverageHR()),
                o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "yoga":
                return o.push(l.getYogaPoses()),
                o.push(l.getTime()),
                o.push(l.getAvgRespirationRate()),
                o.push(l.getAverageHR()),
                o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "breathwork":
                return o.push(l.getTime()),
                o.push(l.getAvgRespirationRate()),
                o.push(l.getAverageHR()),
                o.push(l.getStressChange()),
                {
                    activityStatMetrics: o
                };
            case "surfing":
                return o.push(l.getSurfTotalWaves()),
                o.push(l.getSurfLongestWave()),
                o.push(l.getSurfMaxSpeed()),
                o.push(l.getSurfTime()),
                o.push(l.getSurfSessionTime()),
                {
                    activityStatMetrics: o
                };
            case "e_sport":
                return o.push(l.getDuration()),
                o.push(l.getAverageHR()),
                o.push(l.getMaxHR()),
                o.push(l.getAvgStress()),
                {
                    activityStatMetrics: o
                };
            default:
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                o.push(l.getElevationGain()),
                e.calories && o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                }
            }
        }
        )
    },
    2426: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(1295)
          , h = i.n(c)
          , p = i(1312)
          , d = i.n(p)
          , u = i(1296)
          , g = i(1415);
        d()(h.a);
        var m = o.a.View.extend({
            className: "te-gauge-chart",
            maxVal: 5,
            wChart: 175,
            hChart: 160,
            initialize: function(e) {
                return this.teType = e.teType ? e.teType : g.a.Types.Aerobic,
                this.data = e.data ? e.data : 0,
                this.teType === g.a.Types.Aerobic ? this.teTitle = s.a.localize("label.aerobic.te") : this.teTitle = s.a.localize("label.anaerobic.te"),
                e.options ? this.options = n.a.extend({}, this.getDefaultOptions(), e.options) : this.options = n.a.extend({}, this.getDefaultOptions()),
                this
            },
            render: function() {
                var e = "te-" + this.teType.toLowerCase() + "-gauge-chart";
                return this.$el.attr("id", e),
                this.$el.highcharts(this.options),
                this.formatGauge(),
                this
            },
            getDefaultOptions: function() {
                return {
                    chart: {
                        type: "solidgauge",
                        width: this.wChart,
                        height: this.hChart,
                        margin: [0, 0, 0, 0],
                        style: {
                            fontFamily: "'Open Sans', sans-serif"
                        }
                    },
                    title: null,
                    tooltip: {
                        enabled: !1
                    },
                    pane: {
                        size: "100%",
                        center: ["50%", "60%"],
                        startAngle: -130,
                        endAngle: 130,
                        background: {
                            borderWidth: 20,
                            backgroundColor: "transparent",
                            shape: "arc",
                            borderColor: u.a.Colors.baseGrey,
                            outerRadius: "90%",
                            innerRadius: "90%"
                        }
                    },
                    yAxis: {
                        min: 0,
                        max: this.maxVal,
                        lineWidth: 0,
                        tickPositions: []
                    },
                    plotOptions: {
                        solidgauge: {
                            animation: !1,
                            dataLabels: {
                                borderWidth: 0,
                                useHTML: !0,
                                format: "<div class='training-effect-score'><span class='data-bit'>" + l.a.personalizeTrainingEffect(this.data) + "</span><span class='data-label'>" + this.teTitle + "</span></div>",
                                y: -68
                            }
                        }
                    },
                    series: [{
                        data: [{
                            y: this.data,
                            radius: "90%",
                            innerRadius: "90%"
                        }]
                    }],
                    credits: {
                        enabled: !1
                    },
                    exporting: {
                        enabled: !1
                    }
                }
            },
            formatGauge: function() {
                var e = this.$el.find(".highcharts-container").find("svg");
                if (e.length > 0) {
                    var t = e[0].getElementsByTagName("path");
                    t.length >= 3 && (t[0].setAttributeNS(null, "stroke-linejoin", "round"),
                    t[2].setAttributeNS(null, "stroke-linejoin", "round"),
                    t[2].setAttributeNS(null, "stroke", g.a.getTrainingEffectColor(this.data)),
                    t[2].setAttributeNS(null, "stroke-width", "20"))
                }
            }
        })
          , f = i(2179)
          , y = i.n(f)
          , v = o.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(y.a),
                this.teType = e.teType,
                this.teValue = e.teValue,
                this.teMessage = e.teMessage
            },
            render: function() {
                var e = s.a.localize(this.teType + "_TRAINING_EFFECT");
                return e = g.a.getFeedback(this.teType, this.teValue, this.teMessage),
                this.$el.html(this.template({
                    feedbackTitle: e.feedbackTitle,
                    feedbackContent: e.feedbackContent
                })),
                this
            }
        })
          , b = i(2180)
          , A = i.n(b)
          , C = o.a.View.extend({
            template: n.a.template(A.a),
            initialize: function(e) {
                return this.aerobicTrainingEffect = e.aerobicTrainingEffect,
                this.aerobicTrainingEffectMessage = e.aerobicTrainingEffectMessage,
                this.anaerobicTrainingEffect = e.anaerobicTrainingEffect,
                this.anaerobicTrainingEffectMessage = e.anaerobicTrainingEffectMessage,
                this
            },
            render: function() {
                if (this.$el.html(this.template({
                    Localizer: s.a,
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect
                })),
                null !== this.anaerobicTrainingEffect) {
                    var e = new v({
                        teType: g.a.Types.Anaerobic,
                        teValue: this.anaerobicTrainingEffect,
                        teMessage: this.anaerobicTrainingEffectMessage
                    })
                      , t = new m({
                        teType: g.a.Types.Anaerobic,
                        data: this.anaerobicTrainingEffect
                    });
                    this.$("#te-anaerobic-feedback").html(e.render().el),
                    this.$("#te-anaerobic-score").html(t.render().el)
                }
                if (null !== this.aerobicTrainingEffect) {
                    var i = new v({
                        teType: g.a.Types.Aerobic,
                        teValue: this.aerobicTrainingEffect,
                        teMessage: this.aerobicTrainingEffectMessage
                    })
                      , a = new m({
                        teType: g.a.Types.Aerobic,
                        data: this.aerobicTrainingEffect
                    });
                    this.$("#te-aerobic-feedback").html(i.render().el),
                    this.$("#te-aerobic-score").html(a.render().el)
                }
                return this
            }
        })
          , w = i(2181)
          , _ = i.n(w)
          , x = o.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(_.a),
                this.aerobicTrainingEffect = e.aerobicTrainingEffect,
                this.anaerobicTrainingEffect = e.anaerobicTrainingEffect
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect
                })),
                this
            }
        })
          , S = i(2182)
          , T = i.n(S)
          , E = o.a.View.extend({
            initialize: function() {
                this.template = n.a.template(T.a)
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a
                })),
                this
            }
        })
          , k = i(2183)
          , L = i.n(k)
          , P = o.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(L.a),
                this.aerobicTrainingEffect = e.aerobicTrainingEffect,
                this.aerobicTrainingEffectMessage = e.aerobicTrainingEffectMessage,
                this.anaerobicTrainingEffect = e.anaerobicTrainingEffect,
                this.anaerobicTrainingEffectMessage = e.anaerobicTrainingEffectMessage,
                this.isWidget = e.isWidget
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    isWidget: this.isWidget
                })),
                !1 === this.isWidget && (this.thisActivityView = new C({
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    aerobicTrainingEffectMessage: this.aerobicTrainingEffectMessage,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect,
                    anaerobicTrainingEffectMessage: this.anaerobicTrainingEffectMessage
                }),
                this.$("#te-this-activity-placeholder").html(this.thisActivityView.render().el)),
                this.learnMoreView = new x({
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect
                }),
                this.scoringScaleView = new E({}),
                this.$("#te-learn-placeholder").html(this.learnMoreView.render().el),
                this.$("#te-scores-placeholder").html(this.scoringScaleView.render().el)
            }
        });
        t.a = P
    },
    2442: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = n.a.Model.extend({});
        t.a = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/workouts"
            },
            initialize: function(e) {
                this.activityId = e.activityId
            }
        })
    },
    2648: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(1421);
        t.a = n.a.Collection.extend({
            model: r.default
        })
    },
    2649: function(e, t, i) {
        "use strict";
        var a = i(436)
          , n = i(437)
          , r = i(81)
          , o = i(80)
          , s = i(82)
          , l = i(10)
          , c = i.n(l)
          , h = i(1999)
          , p = i(66)
          , d = i(89)
          , u = i(1685)
          , g = i.n(u)
          , m = 67
          , f = 33
          , y = function(e) {
            function t(e) {
                var i;
                return Object(a.a)(this, t),
                (i = Object(r.a)(this, Object(o.a)(t).call(this, e))).onHelpClicked = function() {
                    i.setState({
                        showHelpModal: !0
                    })
                }
                ,
                i.closeModal = function() {
                    i.setState({
                        showHelpModal: !1
                    })
                }
                ,
                i.state = {
                    showHelpModal: !1
                },
                i
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "getDotColor",
                value: function() {
                    var e, t = this.props.score;
                    switch (!0) {
                    case t > m:
                        e = "green";
                        break;
                    case t < f:
                        e = "red";
                        break;
                    default:
                        e = "yellow"
                    }
                    return e
                }
            }, {
                key: "getScoreLabel",
                value: function() {
                    var e = this.props.score;
                    return e > m ? c.a.createElement(d.a, {
                        ns: "common",
                        content: "good"
                    }) : e < f ? c.a.createElement(d.a, {
                        ns: "reportswidget",
                        content: "TRAINING_LOAD_LOW"
                    }) : c.a.createElement(d.a, {
                        ns: "common",
                        content: "average"
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.getDotColor()
                      , t = this.props.isInStatsSection;
                    return c.a.createElement("div", {
                        className: "".concat(g.a.executionScore, " ").concat(t ? g.a.statsSectionExecutionScore : "")
                    }, c.a.createElement("div", {
                        className: g.a.wrapper
                    }, t ? c.a.createElement("div", null, c.a.createElement("h3", null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    }), c.a.createElement("span", {
                        className: g.a.helpIcon
                    }, c.a.createElement(p.HelpIcon, {
                        onClick: this.onHelpClicked
                    }))), c.a.createElement("span", {
                        className: [g.a.dot, g.a[e], g.a.upperDot].join(" ")
                    }), c.a.createElement("span", {
                        className: g.a.score
                    }, this.props.score, "%"), c.a.createElement(p.DataLabel, null, this.getScoreLabel())) : c.a.createElement(c.a.Fragment, null, c.a.createElement("span", {
                        className: [g.a.dot, g.a[e], g.a.upperDot].join(" ")
                    }), c.a.createElement("span", {
                        className: g.a.score
                    }, this.props.score, "%"), c.a.createElement("span", {
                        className: g.a.label
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    })), c.a.createElement("span", {
                        className: g.a.helpIcon
                    }, c.a.createElement(p.HelpIcon, {
                        onClick: this.onHelpClicked
                    })))), c.a.createElement("div", {
                        className: g.a.modalContainer
                    }, c.a.createElement(h.a, {
                        openModal: this.state.showHelpModal,
                        onCloseModal: this.closeModal,
                        content: "execution-score"
                    })))
                }
            }]),
            t
        }(c.a.Component);
        t.a = y
    },
    2650: function(e, t, i) {
        "use strict";
        var a = {
            getData: function(e, t) {
                for (var i, a = [], n = e.generateData(void 0, !0), r = 0, o = n.length; r < o; r++) {
                    var s = n[r][1];
                    s === t ? (a.push([n[r][0], s]),
                    this.isSinglePoint(r, o, n, t) && (r === o - 1 ? (i = (n[r][0] + (n[r][0] + (n[r][0] - n[r - 1][0]))) / 2,
                    a.push([i, s])) : a.push([(n[r + 1][0] + n[r][0]) / 2, s]))) : a.push([n[r][0], null])
                }
                return a
            },
            isSinglePoint: function(e, t, i, a) {
                if (0 === e) {
                    if (i[e + 1][1] !== a)
                        return !0
                } else {
                    if (e !== t - 1)
                        return i[e + 1][1] !== a && i[e - 1][1] !== a;
                    if (i[e - 1][1] !== a)
                        return !0
                }
            }
        };
        t.a = a
    },
    2651: function(e, t) {
        e.exports = '<div class="jump-tooltip-container">\n    <div class="tooltip-row"><%- label %></div>\n    <% if (jump.distance !== null) { %>\n        <div class="tooltip-row"><%- Localizer.localize(\'label_jumps_distance\') %>: <%- Personalizer.personalizeMTBHeight(jump.distance, Localizer) %></div>\n    <% } %>    \n    <% if (jump.hangTime !== null) { %>\n        <div class="tooltip-row"><%- Localizer.localize(\'label_jumps_hangtime\') %>: <%- Personalizer.personalizeMTBSeconds(jump.hangTime, Localizer) %></div>\n    <% } %>\n    <% if (jump.speed !== null) { %>\n        <div class="tooltip-row"><%- Localizer.localize(\'label_jumps_speed\') %>: <%- Personalizer.personalizeMTBSpeed(jump.speed, activityTypeKey, Localizer) %></div>\n    <% } %>\n</div>'
    },
    2652: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(0)
              , n = i.n(a)
              , r = (i(18),
            n.a.Model.extend({
                url: function() {
                    return "/proxy/activity-service/activity/" + this.activityId + "/relative"
                },
                initialize: function(t) {
                    if (this.activityId = t.activityId,
                    e.isUndefined(this.activityId))
                        throw "activityId required for ActivityRelative"
                }
            }));
            t.a = r
        }
        ).call(this, i(8))
    },
    2653: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            idAttribute: "imageId",
            initialize: function(e) {
                this.activityId = e.activityId,
                this.imageId = e.imageId
            },
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/image/" + this.imageId
            }
        });
        t.a = n
    },
    2654: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(4555)
              , c = i.n(l)
              , h = {
                SAVE_EDIT_PHOTOS: "SAVE_EDIT_PHOTOS",
                CANCEL_EDIT_PHOTOS: "CANCEL_EDIT_PHOTOS"
            }
              , p = o.a.View.extend({
                events: {
                    "click .delete-photo-icon": "onDeleteClicked",
                    "click .save-edit-carousel": "onSaveClicked",
                    "click .cancel-edit-carousel": "onCancelClicked"
                },
                initialize: function(e) {
                    this.template = n.a.template(c.a),
                    this.images = e.images,
                    this.deleteQueue = []
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: s.a,
                        images: this.images
                    })),
                    this.initPhotoEdit(),
                    this
                },
                onDeleteClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation();
                    var t = e.target.getAttribute("data-photo-id");
                    if (this.deleteQueue.push(t),
                    this.orderQueue && this.orderQueue.length > 0) {
                        var i = this
                          , a = [];
                        this.images.forEach(function(e) {
                            a[i.orderQueue.indexOf(e.imageId)] = e
                        }),
                        this.images = a;
                        for (var n = this.orderQueue.length - 1; n >= 0; n--)
                            this.orderQueue[n] === t && this.orderQueue.splice(n, 1)
                    }
                    this.images = this.images.filter(function(e) {
                        return e.imageId !== t
                    }),
                    this.render(),
                    this.enableDisableSaveBtn()
                },
                onSaveClicked: function() {
                    this.trigger(h.SAVE_EDIT_PHOTOS, this.orderQueue, this.deleteQueue)
                },
                onCancelClicked: function() {
                    this.trigger(h.CANCEL_EDIT_PHOTOS)
                },
                initPhotoEdit: function() {
                    var t = this;
                    this.$(".js-edit-images").sortable({
                        items: "div.edit-image-div",
                        placeholder: "drag-drop-placeholder",
                        revert: 200,
                        scroll: !1,
                        tolerance: "pointer",
                        cursorAt: {
                            left: 50,
                            top: 50
                        },
                        update: function() {
                            this.orderQueue = [],
                            this.$(".js-edit-images div").each(function() {
                                var i = e(this);
                                t.orderQueue.push(i.data("photo-id"))
                            }),
                            this.enableDisableSaveBtn()
                        }
                        .bind(this)
                    })
                },
                enableDisableSaveBtn: function() {
                    this.$(".btn-save-carousel").addClass("save-edit-carousel"),
                    this.$(".btn-save-carousel").removeAttr("disabled")
                },
                destroy: function() {
                    this.off(),
                    this.remove()
                }
            });
            p.Events = h,
            t.a = p
        }
        ).call(this, i(9))
    },
    2655: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Collection.extend({
            initialize: function(e) {
                this.activityId = e.activityId
            },
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/hrTimeInZones"
            }
        })
    },
    2656: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Collection.extend({
            initialize: function(e) {
                this.activityId = e.activityId
            },
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/powerTimeInZones"
            }
        })
    },
    2657: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return c
        });
        var a = i(436)
          , n = i(437)
          , r = i(10)
          , o = i.n(r)
          , s = i(89)
          , l = i(11)
          , c = function() {
            function e(t) {
                Object(a.a)(this, e),
                this.activityTypeKey = t
            }
            return Object(n.a)(e, [{
                key: "getSplitsHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "activity",
                            content: "activity_splits"
                        }),
                        key: "index",
                        defaultSortOrder: "ASCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getWaveHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "activity",
                            content: "surf_wave_label"
                        }),
                        key: "index",
                        defaultSortOrder: "ASCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getRoutesHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "activity",
                            content: "climb_route"
                        }),
                        key: "index",
                        defaultSortOrder: "ASCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getDifficultyHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "activity",
                            content: "climb_difficulty"
                        }),
                        key: "valueKey",
                        defaultSortOrder: "ASCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getStatusHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "activity",
                            content: "status"
                        }),
                        key: "status",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getFallsHeader",
                value: function(e) {
                    return {
                        header: "Falls",
                        key: "numFalls",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getDurationHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: "label_time"
                        }),
                        key: "duration",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getDistanceHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: "label_distance"
                        }),
                        key: "distance",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getElevationGainHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: l.a.getElevGainLabelKey(this.activityTypeKey)
                        }),
                        key: "elevationGain",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getElevationLossHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: l.a.getElevLossLabelKey(this.activityTypeKey)
                        }),
                        key: "elevationLoss",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getAvgSpeedHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: l.a.getAvgSpeedTypeLabelKey(this.activityTypeKey)
                        }),
                        key: "averageSpeed",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getAvgPaceHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: l.a.getAvgPaceLabelKey()
                        }),
                        key: "averageSpeed",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getMaxSpeedHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: l.a.getMaxSpeedTypeLabelKey(this.activityTypeKey)
                        }),
                        key: "maxSpeed",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getAvgHRHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: "label_avg_heart_rate"
                        }),
                        key: "averageHR",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getMaxHRHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: "label_max_heart_rate"
                        }),
                        key: "maxHR",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getCumulativeTimeHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "activity-api",
                            content: "label_cum_time"
                        }),
                        key: "cumDuration",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getMovingTimeHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: "label_moving_time"
                        }),
                        key: "movingDuration",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getMinTempHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: "label_min_temp"
                        }),
                        key: "minTemperature",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getMaxTempHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: "label_max_temp"
                        }),
                        key: "maxTemperature",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getAvgTempHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: "label_avg_temp"
                        }),
                        key: "averageTemperature",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getCaloriesHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "units",
                            content: "label_calories"
                        }),
                        key: "calories",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getGoalPaceHeader",
                value: function(e) {
                    return {
                        header: o.a.createElement(s.a, {
                            ns: "pacepro",
                            content: "pacepro_goal_pace"
                        }),
                        key: "targetAverageSpeed",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }]),
            e
        }()
    },
    2658: function(e, t, i) {
        var a = i(4632);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    2659: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(4636)
          , c = i.n(l);
        t.a = o.a.View.extend({
            template: n.a.template(c.a),
            tagName: "tr",
            initialize: function(e) {
                this.isLapSwimming = e.isLapSwimming,
                this.settings = e.settings,
                this.setAttributes()
            },
            setAttributes: function() {
                this.isLapSwimming || this.$el.addClass(this.settings.headerClass)
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    model: this.model,
                    isLapSwimming: this.isLapSwimming
                })),
                this
            }
        })
    },
    2660: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(2752)
              , c = i(4637)
              , h = i.n(c)
              , p = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromSplitsRow: "WeightChangedFromSplitsRow"
            }
              , d = ["distance", "calories", "averageHR", "maxHR"]
              , u = o.a.View.extend({
                template: n.a.template(h.a),
                tagName: "tr",
                events: {
                    'click a[href="#weight-popup"]': "onNoWeightLinkClicked"
                },
                initialize: function(e) {
                    return this.isLapSwimming = e.isLapSwimming,
                    this.settings = e.settings,
                    this.childIndex = e.childIndex,
                    this.cellClass = e.cellClass || {},
                    this.setAttributes(),
                    this
                },
                setAttributes: function() {
                    var e = this.settings || []
                      , t = this.isLapSwimming || !1;
                    if (t) {
                        var i = "";
                        e.isParent ? e.isRest ? i += e.restClass + e.restIndex : (i += e.parentClass + e.lapIndex + " ",
                        e.isParentExpanded && (i += "active")) : i += e.childClass + e.parentIndex + (e.childIndex === e.childCount ? " last" : ""),
                        this.$el.addClass(i)
                    }
                    if (t && !e.isParent) {
                        var a = "";
                        e.isParentExpanded ? a += "display: table-row;" : a += "display: none;",
                        this.$el.attr("style", a)
                    }
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: s.a,
                        model: this.model,
                        isLapSwimming: this.isLapSwimming,
                        sm: l.a,
                        settings: this.settings,
                        columnHiddenForRest: this.columnHiddenForRest,
                        cellClass: this.cellClass
                    })),
                    this
                },
                setActive: function(e) {
                    e ? this.$el.addClass("active") : this.$el.removeClass("active")
                },
                columnHiddenForRest: function(t) {
                    return e.inArray(t, d) > -1
                },
                onNoWeightLinkClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation(),
                    this.trigger(p.DisplayWeightEntryPopup, {
                        context: this,
                        successCallback: this.noWeightCallback
                    }, this)
                },
                noWeightCallback: function(e) {
                    this.trigger(p.WeightChangedFromSplitsRow, e)
                }
            });
            u.Events = p,
            t.a = u
        }
        ).call(this, i(9))
    },
    2661: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(0)
          , s = i.n(o)
          , l = i(4638)
          , c = i.n(l);
        t.a = s.a.View.extend({
            template: n.a.template(c.a),
            tagName: "tfoot",
            initialize: function(e) {
                this.isLapSwimming = e.isLapSwimming,
                this.isAutoRacingActivity = e.isAutoRacingActivity,
                this.isResortSkiActivity = e.isResortSkiActivity,
                this.isCrosscountrySkiActivity = e.isCrosscountrySkiActivity,
                this.cellClass = e.cellClass || {}
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a,
                    model: this.model,
                    isLapSwimming: this.isLapSwimming,
                    isAutoRacingActivity: this.isAutoRacingActivity,
                    isResortSkiActivity: this.isResortSkiActivity,
                    isCrosscountrySkiActivity: this.isCrosscountrySkiActivity,
                    cellClass: this.cellClass
                })),
                this
            }
        })
    },
    2662: function(e, t, i) {
        "use strict";
        var a = i(10)
          , n = i.n(a)
          , r = i(66)
          , o = i(89)
          , s = function(e) {
            var t = e.items;
            return Object.keys(t).map(function(e, i) {
                return n.a.createElement(r.DropdownItem, {
                    key: i,
                    value: e
                }, n.a.createElement(o.a, {
                    ns: "activity",
                    content: t[e]
                }))
            })
        };
        t.a = function(e) {
            var t = s(e);
            return n.a.createElement(r.Dropdown, {
                value: e.value,
                onChange: e.onChange,
                full: !0
            }, t)
        }
    },
    2663: function(e, t, i) {
        var a = i(4639);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    2664: function(e, t, i) {
        "use strict";
        var a = i(11)
          , n = i(7)
          , r = {
            running: "activity_step_type_run",
            other: "activity_step_type_other"
        }
          , o = {
            RUN_REST: "activity_step_type_rest"
        };
        t.a = {
            getMasterColumnConfig: function(e) {
                var t = a.a.getSpeedTypeFromActivityType(e.activityTypeKey)
                  , i = t === a.a.SpeedTypes.Speed ? a.a.getAvgSpeedLabelKey() : a.a.getAvgSwimPaceLabelKey(e.isSwimmingActivity)
                  , r = t === a.a.SpeedTypes.Speed ? a.a.getAvgMovingSpeedLabelKey() : a.a.getAvgMovingPaceLabelKey()
                  , o = t === a.a.SpeedTypes.Speed ? a.a.getMaxSpeedLabelKey() : a.a.getMaxSwimPaceLabelKey(e.isSwimmingActivity)
                  , s = a.a.getElevGainLabelKey(e.activityTypeKey)
                  , l = a.a.getElevLossLabelKey(e.activityTypeKey)
                  , c = [{
                    order: 1,
                    fieldName: "messageIndex",
                    displayLabel: "splits.laps",
                    class: "",
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "type",
                    displayLabel: "label_activity_split_type",
                    class: ""
                }, {
                    order: 4,
                    fieldName: "duration",
                    displayLabel: "label_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 5,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 6,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: e.personalizerParams.getDistanceParams
                }, {
                    order: -1,
                    fieldName: "averageSpeed",
                    displayLabel: i,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.personalizerParams.getSpeedParams
                }, {
                    order: -1,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "elevationGain",
                    displayLabel: s,
                    class: "",
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "elevationLoss",
                    displayLabel: l,
                    class: "",
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "averageStrokeCadence",
                    displayLabel: "label_avg_stroke_rate",
                    class: "",
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "maxStrokeCadence",
                    displayLabel: "label_max_stroke_rate",
                    class: "",
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "averageStrokeDistance",
                    displayLabel: "label_avg_distance_per_stroke",
                    class: "",
                    personalizer: function(t) {
                        return a.a.personalizeDistanceValue(a.a.isPaddleBoardingActivity(e.activityTypeKey) ? a.a.convertDistancePerStroke(t) : t)
                    }
                }];
                return c.push({
                    order: -1,
                    fieldName: "averageRunCadence",
                    displayLabel: "label_avg_run_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "averageBikeCadence",
                    displayLabel: "label_avg_bike_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "maxBikeCadence",
                    displayLabel: "label_max_bike_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "averageSwimCadence",
                    displayLabel: "label_avg_swim_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "minSwimCadence",
                    displayLabel: "label_max_swim_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "groundContactTime",
                    displayLabel: "label_avg_ground_contact_time",
                    class: "",
                    personalizer: a.a.personalizeGroundContactTime
                }),
                c.push({
                    order: -1,
                    fieldName: "groundContactBalanceLeft",
                    displayLabel: "label_avg_gct_balance",
                    class: "",
                    personalizer: function(e) {
                        var t = e
                          , i = 100 - t;
                        return n.a.localize(a.a.getPowerBalanceUnitKey(), a.a.formatDecimalNumber(t, 1), a.a.formatDecimalNumber(i, 1))
                    }
                }),
                c.push({
                    order: -1,
                    fieldName: "strideLength",
                    displayLabel: "label_avg_stride_length",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeAvgStrideLength
                }),
                c.push({
                    order: -1,
                    fieldName: "verticalOscillation",
                    displayLabel: "label_avg_vertical_oscillation",
                    class: "",
                    personalizer: a.a.personalizeVerticalOscillation
                }),
                c.push({
                    order: -1,
                    fieldName: "verticalRatio",
                    displayLabel: "label_avg_vertical_ratio",
                    class: "",
                    personalizer: a.a.personalizeVerticalRatio
                }),
                c.push({
                    order: -1,
                    fieldName: "normalizedPower",
                    displayLabel: "label_normalized_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "leftBalance",
                    displayLabel: "label_left_balance",
                    class: "",
                    personalizer: a.a.personalizeLeftRightBalance
                }),
                c.push({
                    order: -1,
                    fieldName: "rightBalance",
                    displayLabel: "label_right_balance",
                    class: "",
                    personalizer: a.a.personalizeLeftRightBalance
                }),
                c.push({
                    order: -1,
                    fieldName: "leftTorqueEffectiveness",
                    displayLabel: "label_left_torque_eff",
                    class: "",
                    personalizer: a.a.personalizeTorqueEffectiveness
                }),
                c.push({
                    order: -1,
                    fieldName: "rightTorqueEffectiveness",
                    displayLabel: "label_right_torque_eff",
                    class: "",
                    personalizer: a.a.personalizeTorqueEffectiveness
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPedalSmoothness",
                    displayLabel: "label_left_pedal_smoothness",
                    class: "",
                    personalizer: a.a.personalizePedalSmoothness
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPedalSmoothness",
                    displayLabel: "label_right_pedal_smoothness",
                    class: "",
                    personalizer: a.a.personalizePedalSmoothness
                }),
                c.push({
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power_kg",
                    class: "",
                    personalizer: null,
                    nullCallback: e.getWeightLink
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power_kg",
                    class: "",
                    personalizer: null,
                    nullCallback: e.getWeightLink
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPowerTwentyMinutes",
                    displayLabel: "label_max_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "standingTime",
                    displayLabel: "label_cd_total_standing_time",
                    class: "",
                    personalizer: a.a.personalizeStandingTime
                }),
                c.push({
                    order: -1,
                    fieldName: "averageStandingPower",
                    displayLabel: "label_cd_avg_standing_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxStandingPower",
                    displayLabel: "label_cd_max_standing_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "seatedTime",
                    displayLabel: "label_cd_total_seated_time",
                    class: "",
                    personalizer: a.a.personalizeStandingTime
                }),
                c.push({
                    order: -1,
                    fieldName: "averageSeatedPower",
                    displayLabel: "label_cd_avg_seated_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxSeatedPower",
                    displayLabel: "label_cd_max_seated_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseStart",
                    displayLabel: "label_cd_l_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseEnd",
                    displayLabel: "label_cd_l_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseStart",
                    displayLabel: "label_cd_r_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseEnd",
                    displayLabel: "label_cd_r_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseArcLength",
                    displayLabel: "label_cd_l_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseArcLength",
                    displayLabel: "label_cd_r_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakStart",
                    displayLabel: "label_cd_l_peak_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakEnd",
                    displayLabel: "label_cd_l_peak_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakStart",
                    displayLabel: "label_cd_r_peak_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakEnd",
                    displayLabel: "label_cd_r_peak_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakArcLength",
                    displayLabel: "label_cd_l_peak_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakArcLength",
                    displayLabel: "label_cd_r_peak_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPlatformCenterOffset",
                    displayLabel: "label_cd_l_pco_average",
                    class: "",
                    personalizer: a.a.personalizePlatformCenterOffset
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPlatformCenterOffset",
                    displayLabel: "label_cd_r_pco_average",
                    class: "",
                    personalizer: a.a.personalizePlatformCenterOffset
                }),
                c.push({
                    order: -1,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }),
                c.push({
                    order: -1,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temperature",
                    class: "",
                    personalizer: a.a.personalizeTemperature
                }),
                "open_water_swimming" !== e.activityTypeKey && c.push({
                    order: -1,
                    fieldName: "maxSpeed",
                    displayLabel: o,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.personalizerParams.getSpeedParams
                }),
                c.push({
                    order: -1,
                    fieldName: "maxRunCadence",
                    displayLabel: "label_max_run_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }),
                c.push({
                    order: -1,
                    fieldName: "averageMovingSpeed",
                    displayLabel: r,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.personalizerParams.getSpeedParams
                }),
                e.canDisplayVectorAirInfo && (c.push({
                    order: -1,
                    fieldName: "avgCda",
                    displayLabel: "cda_unit",
                    class: "",
                    personalizer: a.a.formatVectorAirCdA
                }),
                c.push({
                    order: -1,
                    fieldName: "avgWattsPerCda",
                    displayLabel: "wcda_unit",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                })),
                c.push({
                    order: -1,
                    fieldName: "avgFlow",
                    displayLabel: "label_flow",
                    class: "",
                    personalizer: a.a.peronalizeMTBFlow
                }),
                c.push({
                    order: -1,
                    fieldName: "grit",
                    displayLabel: "label_grit",
                    class: "",
                    personalizer: a.a.peronalizeMTBGrit
                }),
                c.push({
                    order: 99,
                    fieldName: "lapIndexes",
                    displayLabel: "lapIndexes"
                }),
                c
            },
            getSplitType: function(e, t) {
                if (this.isRunActive(e)) {
                    var i = r[t];
                    return i ? n.a.localize(i) : n.a.localize(r.other)
                }
                return o[e] ? n.a.localize(o[e]) : "--"
            },
            isRunActive: function(e) {
                return "RUN_ACTIVE" === e
            }
        }
    },
    2665: function(e, t, i) {
        var a = i(4642);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    2666: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(7)
              , o = i(11)
              , s = i(48)
              , l = i(35);
            function c(e, t) {
                var i = t || 0;
                if (e)
                    for (var a = t, n = e.length; a < n; a += 1)
                        if (void 0 === e[t]) {
                            i = a;
                            break
                        }
                return i
            }
            function h(e, t, i, a, r) {
                var o, s, l, h;
                if (e && (t && (h = n.a.find(t, function(t) {
                    return t.getAppId() === e.appID
                })),
                h)) {
                    s = h.getAppId();
                    var p = n.a.find(h.fitContributionsJSON.datafields, function(t) {
                        return t.id === e.developerFieldNumber
                    });
                    p && p[i] && (o = a[s],
                    r ? function(e, t, i, a, r) {
                        var o;
                        if (e) {
                            var s = n.a.find(e.data, function(e) {
                                return !(!e || !e.developerFieldNumber) && e.developerFieldNumber === r.developerFieldNumber
                            });
                            if (s)
                                s.values.push(r.value);
                            else {
                                var l = i["sort-order"];
                                void 0 !== e.data[l] && (l = c(e.data, l + 1)),
                                o = r.value,
                                r.hasOwnProperty("values") || (r.values = [],
                                delete r.value),
                                r.values.push(o),
                                e.data[l] = r
                            }
                        } else
                            o = r.value,
                            r.hasOwnProperty("values") || (r.values = [],
                            delete r.value),
                            r.values.push(o),
                            a.data = [],
                            a.data[i["sort-order"]] = r,
                            t[a.getAppId()] = a
                    }(o, a, p, h, e) : o ? (l = p["sort-order"],
                    void 0 !== o.data[l] && (l = c(o.data, l + 1)),
                    void 0 !== o.data[l] ? o.data.push(e) : o.data[l] = e) : (h.data = [],
                    h.data[p["sort-order"]] = e,
                    a[s] = h))
                }
                return a
            }
            var p = function(e) {
                if (!e)
                    throw "data is required";
                e.models ? this.data = function(e) {
                    var t, i = [];
                    if (e)
                        for (var a = 0, n = e.models.length; a < n; a += 1)
                            e.models[a] && ((t = e.models[a].toJSON()).getAppId = function() {
                                if (this.hasOwnProperty("appID"))
                                    return this.appID;
                                if (this.hasOwnProperty("appId"))
                                    return this.appId;
                                if (this.model) {
                                    if (this.model.hasOwnProperty("appId"))
                                        return this.model.appId;
                                    if (this.model.hasOwnProperty("appID"))
                                        return this.model.appID
                                }
                                return ""
                            }
                            ,
                            t.getLocalizerString = function(e) {
                                return this.getAppId() + e
                            }
                            ,
                            i.push(t));
                    return i
                }(e) : this.data = e
            };
            p.prototype.personalizeValue = function(e, t) {
                return 0 === e ? e : e ? isNaN(parseFloat(e)) ? e : o.a.formatValueByPrecision(e, t, !1) : "--"
            }
            ,
            p.prototype.loadCIQLocalizedData = function() {
                if (this.data)
                    for (var e, t, i, a, o = s.a.getFullLocale(l.a.get("locale")), c = {}, h = 0, p = this.data.length; h < p; h += 1) {
                        var d = this.data[h]
                          , u = d.fitContributionsJSON;
                        u && u.strings && (e = u.strings) && ((a = e[o]) || (a = e.default),
                        a && (t = d.getAppId(),
                        n.a.each(n.a.keys(a), function(e) {
                            i = a[e],
                            n.a.isNull(i) || n.a.isUndefined(i) || (0 === ("" + i).trim().length && (i = " "),
                            c[t + e] = i)
                        }),
                        r.a.loadAdditionalData(c)))
                    }
            }
            ,
            p.prototype.getVisibleAndSortedCollection = function(t, i) {
                var a, r = {}, o = i === this.VisibilityArea.lap;
                if (t)
                    for (var s = 0, l = t.length; s < l; s += 1)
                        if (a = e.extend(!0, {}, t[s]))
                            if (o) {
                                var c = a.connectIQMeasurement;
                                if (c && !n.a.isEmpty(c))
                                    for (var p = 0, d = c.length; p < d; p += 1)
                                        c[p] && h(c[p], this.data, i, r, o)
                            } else
                                h(a, this.data, i, r);
                return r
            }
            ,
            p.prototype.VisibilityArea = {
                stats: "activity-visible",
                lap: "lap-visible",
                charts: "chart-visible"
            },
            p.prototype.getHelpTooltipTemplate = function(e) {
                var t = r.a.localize("label_connect_iq") + "&#8482;"
                  , i = e.name || ""
                  , a = e.developerDisplayName || ""
                  , n = t;
                return i && (n += " " + i),
                a && (n += "<br/><small>" + a + "</small>"),
                '<a href="javascript:void(0);" class="ciq-label has-tooltip" data-html="true" title="' + n + '"><i class="icon-connect-iq"></i></a>'
            }
            ,
            t.a = p
        }
        ).call(this, i(9))
    },
    2667: function(e, t) {
        e.exports = '<div class="device-image bottom-xs">\n    <img src="<%- accessory.imageUrl || \'//static.garmincdn.com/com.garmin.connect/content/images/device-images/default-device.png\' %>">\n</div>\n<div class="device-name"><%- accessory.name %></div>\n<div class="software-version"><%- Localizer.localize(\'software\') %>: <%- accessory.softwareVersion %></div>\n'
    },
    2747: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(0)
          , r = i.n(n).a.Collection.extend({
            url: function() {
                return "/proxy/personalrecord-service/personalrecord/prByActivityId/" + this.activityId
            },
            initialize: function(e, t) {
                this.activityId = t.activityId
            }
        })
          , o = i(25)
          , s = i(434)
          , l = (i(20),
        s.a.extend({
            initialize: function(e) {
                this.prsFetched = !1,
                this.prsFetching = !1,
                s.a.prototype.initialize.apply(this, arguments),
                this.collection = new r([],{
                    activityId: e.activityId
                }),
                this.modelSynchronizer = new o.a,
                this.modelSynchronizer.addModel({
                    model: this.collection,
                    required: !0
                }),
                this.modelSynchronizer.on(o.a.Events.SYNCHRONIZED, this.onPrsFetched, this)
            },
            show: function() {
                this.prsFetching || (this.prsFetched ? s.a.prototype.show.apply(this, arguments) : (this.prsFetching = !0,
                this.modelSynchronizer.fetchModels()))
            },
            onPrsFetched: function() {
                this.content = this.formatPrs(),
                this.render(),
                this.prsFetching = !1,
                this.prsFetched = !0,
                this.show()
            },
            formatPrs: function() {
                if (0 == this.collection.length)
                    return "";
                var e = "";
                return this.collection.each(function(t) {
                    e += a.a.localize(t.get("prTypeLabelKey")) + "<br/>"
                }, this),
                e
            }
        }));
        t.a = l
    },
    2752: function(e, t, i) {
        "use strict";
        var a = {
            FREESTYLE: "freestyle",
            BACKSTROKE: "backstroke",
            BREASTSTROKE: "breaststroke",
            BUTTERFLY: "butterfly",
            DRILL: "drill",
            MIXED: "mixed",
            IM: "unknown",
            INVALID: "unknown"
        }
          , n = {
            FREESTYLE: "swim.stroke.freestyle",
            BACKSTROKE: "swim.stroke.backstroke",
            BREASTSTROKE: "swim.stroke.breaststroke",
            BUTTERFLY: "swim.stroke.butterfly",
            DRILL: "swim.stroke.drill",
            MIXED: "swim.stroke.mixed",
            IM: "swim.stroke.unknown",
            INVALID: "swim.stroke.unknown",
            REST: "swim.rest"
        };
        t.a = {
            mapClass: function(e) {
                var t = a[e];
                return "undefined" == typeof t ? a.INVALID : t
            },
            mapKey: function(e) {
                var t = n[e];
                return "undefined" == typeof t ? n.INVALID : t
            }
        }
    },
    3067: function(e, t, i) {
        "use strict";
        var a = i(244)
          , n = i(22)
          , r = i.n(n)
          , o = i(2091)
          , s = i(1327);
        function l(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var c = function(e) {
            function t() {
                return function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.apply(this, arguments))
            }
            return l(t, e),
            t.prototype.createLeafletElement = function(e) {
                return new a.TileLayer(e.url,this.getOptions(e))
            }
            ,
            t.prototype.updateLeafletElement = function(t, i) {
                e.prototype.updateLeafletElement.call(this, t, i),
                i.url !== t.url && this.leafletElement.setUrl(i.url)
            }
            ,
            t
        }(o.a);
        c.propTypes = {
            children: s.a,
            opacity: r.a.number,
            url: r.a.string.isRequired,
            zIndex: r.a.number
        },
        t.a = c
    },
    3068: function(e, t, i) {
        "use strict";
        var a = i(244)
          , n = i(22)
          , r = i.n(n)
          , o = i(10)
          , s = i.n(o)
          , l = i(1645)
          , c = i(1327)
          , h = i(1538)
          , p = i(1484)
          , d = i(1511)
          , u = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var i = arguments[t];
                for (var a in i)
                    Object.prototype.hasOwnProperty.call(i, a) && (e[a] = i[a])
            }
            return e
        }
        ;
        function g(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        function m(e, t) {
            if (!e)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" !== typeof t && "function" !== typeof t ? e : t
        }
        function f(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var y = {
            checked: r.a.bool,
            children: r.a.node.isRequired,
            removeLayer: r.a.func,
            removeLayerControl: r.a.func
        }
          , v = u({}, y, {
            addBaseLayer: r.a.func,
            addOverlay: r.a.func,
            name: r.a.string.isRequired
        })
          , b = function(e) {
            function t() {
                return g(this, t),
                m(this, e.apply(this, arguments))
            }
            return f(t, e),
            t.prototype.getChildContext = function() {
                return {
                    layerContainer: {
                        addLayer: this.addLayer.bind(this),
                        removeLayer: this.removeLayer.bind(this)
                    }
                }
            }
            ,
            t.prototype.componentWillReceiveProps = function(e) {
                var t = e.checked;
                !0 !== t || null != this.props.checked && !1 !== this.props.checked ? !0 !== this.props.checked || null != t && !1 !== t || this.context.map.removeLayer(this.layer) : this.context.map.addLayer(this.layer)
            }
            ,
            t.prototype.componentWillUnmount = function() {
                this.props.removeLayerControl(this.layer)
            }
            ,
            t.prototype.addLayer = function() {
                throw new Error("Must be implemented in extending class")
            }
            ,
            t.prototype.removeLayer = function(e) {
                this.props.removeLayer(e)
            }
            ,
            t.prototype.render = function() {
                return this.props.children || null
            }
            ,
            t
        }(o.Component);
        b.propTypes = y,
        b.contextTypes = {
            map: d.a
        },
        b.childContextTypes = {
            layerContainer: p.a
        };
        var A = function(e) {
            function t() {
                return g(this, t),
                m(this, e.apply(this, arguments))
            }
            return f(t, e),
            t.prototype.addLayer = function(e) {
                this.layer = e;
                var t = this.props
                  , i = t.addBaseLayer
                  , a = t.checked;
                i(e, t.name, a)
            }
            ,
            t
        }(b);
        A.propTypes = v;
        var C = function(e) {
            function t() {
                return g(this, t),
                m(this, e.apply(this, arguments))
            }
            return f(t, e),
            t.prototype.addLayer = function(e) {
                this.layer = e;
                var t = this.props
                  , i = t.addOverlay
                  , a = t.checked;
                i(e, t.name, a)
            }
            ,
            t
        }(b);
        C.propTypes = v;
        var w = function(e) {
            function t() {
                return g(this, t),
                m(this, e.apply(this, arguments))
            }
            return f(t, e),
            t.prototype.createLeafletElement = function(e) {
                e.children;
                var t = function(e, t) {
                    var i = {};
                    for (var a in e)
                        t.indexOf(a) >= 0 || Object.prototype.hasOwnProperty.call(e, a) && (i[a] = e[a]);
                    return i
                }(e, ["children"]);
                return new a.Control.Layers(void 0,void 0,t)
            }
            ,
            t.prototype.componentWillMount = function() {
                e.prototype.componentWillMount.call(this),
                this.controlProps = {
                    addBaseLayer: this.addBaseLayer.bind(this),
                    addOverlay: this.addOverlay.bind(this),
                    removeLayer: this.removeLayer.bind(this),
                    removeLayerControl: this.removeLayerControl.bind(this)
                }
            }
            ,
            t.prototype.componentWillUnmount = function() {
                var t = this;
                setTimeout(function() {
                    e.prototype.componentWillUnmount.call(t)
                }, 0)
            }
            ,
            t.prototype.addBaseLayer = function(e, t) {
                arguments.length > 2 && void 0 !== arguments[2] && arguments[2] && this.context.map.addLayer(e),
                this.leafletElement.addBaseLayer(e, t)
            }
            ,
            t.prototype.addOverlay = function(e, t) {
                arguments.length > 2 && void 0 !== arguments[2] && arguments[2] && this.context.map.addLayer(e),
                this.leafletElement.addOverlay(e, t)
            }
            ,
            t.prototype.removeLayer = function(e) {
                this.context.map.removeLayer(e)
            }
            ,
            t.prototype.removeLayerControl = function(e) {
                this.leafletElement.removeLayer(e)
            }
            ,
            t.prototype.render = function() {
                var e = this
                  , t = o.Children.map(this.props.children, function(t) {
                    return t ? Object(o.cloneElement)(t, e.controlProps) : null
                });
                return s.a.createElement("div", {
                    style: {
                        display: "none"
                    }
                }, t)
            }
            ,
            t
        }(l.a);
        w.propTypes = {
            baseLayers: r.a.object,
            children: c.a,
            overlays: r.a.object,
            position: h.a
        },
        w.contextTypes = {
            layerContainer: p.a,
            map: d.a
        },
        t.a = w,
        w.BaseLayer = A,
        w.Overlay = C
    },
    3069: function(e, t, i) {
        "use strict";
        var a = i(244)
          , n = i(22)
          , r = i.n(n)
          , o = i(1645)
          , s = i(1538);
        function l(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var c = function(e) {
            function t() {
                return function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.apply(this, arguments))
            }
            return l(t, e),
            t.prototype.createLeafletElement = function(e) {
                return new a.Control.Attribution(e)
            }
            ,
            t
        }(o.a);
        c.propTypes = {
            position: s.a,
            prefix: r.a.string
        },
        t.a = c
    },
    3070: function(e, t, i) {
        "use strict";
        var a = i(244)
          , n = i(1364)
          , r = i(1484);
        function o(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var s = function(e) {
            function t() {
                return function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.apply(this, arguments))
            }
            return o(t, e),
            t.prototype.getChildContext = function() {
                return {
                    layerContainer: this.leafletElement
                }
            }
            ,
            t.prototype.createLeafletElement = function() {
                return new a.LayerGroup(this.getOptions(this.props))
            }
            ,
            t
        }(n.a);
        s.childContextTypes = {
            layerContainer: r.a
        },
        t.a = s
    },
    3071: function(e, t, i) {
        "use strict";
        var a = i(244)
          , n = i(22)
          , r = i.n(n)
          , o = i(1645)
          , s = i(1538);
        function l(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var c = function(e) {
            function t() {
                return function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.apply(this, arguments))
            }
            return l(t, e),
            t.prototype.createLeafletElement = function(e) {
                return new a.Control.Scale(e)
            }
            ,
            t
        }(o.a);
        c.propTypes = {
            imperial: r.a.bool,
            maxWidth: r.a.number,
            metric: r.a.bool,
            position: s.a,
            updateWhenIdle: r.a.bool
        },
        t.a = c
    },
    3072: function(e, t, i) {
        "use strict";
        var a = i(244)
          , n = i(1405)
          , r = i(1327)
          , o = i(1339)
          , s = i(1484);
        function l(e, t) {
            if ("function" !== typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : function(e, t) {
                for (var i = Object.getOwnPropertyNames(t), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(t, n);
                    r && r.configurable && void 0 === e[n] && Object.defineProperty(e, n, r)
                }
            }(e, t))
        }
        var c = function(e) {
            function t() {
                return function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (!e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" !== typeof t && "function" !== typeof t ? e : t
                }(this, e.apply(this, arguments))
            }
            return l(t, e),
            t.prototype.getChildContext = function() {
                return {
                    layerContainer: this.leafletElement,
                    popupContainer: this.leafletElement
                }
            }
            ,
            t.prototype.createLeafletElement = function(e) {
                return new a.FeatureGroup(this.getOptions(e))
            }
            ,
            t.prototype.componentDidMount = function() {
                e.prototype.componentDidMount.call(this),
                this.setStyle(this.props)
            }
            ,
            t
        }(n.a);
        c.childContextTypes = {
            children: r.a,
            layerContainer: s.a,
            popupContainer: o.a
        },
        t.a = c
    },
    4467: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Collection.extend({
            url: function() {
                return "/proxy/personalrecord-service/personalrecord/prs/" + this.displayName
            },
            initialize: function(e, t) {
                this.displayName = t.displayName
            }
        });
        t.a = n
    },
    4468: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Collection.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/connectIQDisplayInfo"
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "ConnectIQPresentationData requires an activity ID";
                this.activityId = t.activityId
            }
        })
    },
    4469: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: "/web-data/thirdPartyUploads/ThirdPartyUploads.json"
        })
    },
    4470: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = ["CYCLING", "CROSS_COUNTRY_SKIING"]
          , r = i.n(a).a.Model.extend({
            initialize: function(e) {
                if (!e || !e.sportType)
                    throw "sport type is required.";
                this.sportType = e.sportType
            },
            url: function() {
                return "/modern/proxy/biometric-service/powerZones/sport/" + this.sportType
            },
            maxPowerWatts: 2e3,
            numberOfPowerZones: 7,
            propertiesNames: {
                functionalThresholdPower: "functionalThresholdPower"
            },
            findSport: function(e) {
                return n.includes(e)
            },
            findKey: function(e) {
                var t, i = this;
                return Object.keys(this.attributes).forEach(function(a, n) {
                    i.attributes[a] && e(i.attributes[a]) && (t = a)
                }),
                t
            },
            findBySport: function(e) {
                var t, i = this.findKey(function(t) {
                    return t && t.sport === e
                });
                return i && (t = this.attributes[i]),
                t
            },
            setFunctionalThresholdPower: function(e) {
                this.set(this.propertiesNames.functionalThresholdPower, e)
            },
            getFunctionalThresholdPower: function() {
                return this.get(this.propertiesNames.functionalThresholdPower)
            },
            getZoneName: function(e) {
                return "zone" + e + "Floor"
            },
            getZoneValue: function(e) {
                return this.get(this.getZoneName(e))
            },
            setZoneValue: function(e, t) {
                e < this.numberOfPowerZones + 1 && this.set(this.getZoneName(e), t)
            },
            getZonesWithCeilingDefined: function() {
                return [{
                    ceiling: this.get(this.getZoneName(2)),
                    display: "Zone 1",
                    floor: this.get(this.getZoneName(1)),
                    number: "1"
                }, {
                    ceiling: this.get(this.getZoneName(3)),
                    display: "Zone 2",
                    floor: this.get(this.getZoneName(2)),
                    number: "2"
                }, {
                    ceiling: this.get(this.getZoneName(4)),
                    display: "Zone 3",
                    floor: this.get(this.getZoneName(3)),
                    number: "3"
                }, {
                    ceiling: this.get(this.getZoneName(5)),
                    display: "Zone 4",
                    floor: this.get(this.getZoneName(4)),
                    number: "4"
                }, {
                    ceiling: this.get(this.getZoneName(6)),
                    display: "Zone 5",
                    floor: this.get(this.getZoneName(5)),
                    number: "5"
                }, {
                    ceiling: this.get(this.getZoneName(7)),
                    display: "Zone 6",
                    floor: this.get(this.getZoneName(6)),
                    number: "6"
                }, {
                    ceiling: 2e3,
                    display: "Zone 7",
                    floor: this.get(this.getZoneName(7)),
                    number: "7"
                }]
            },
            setDeviceSupportedZones: function(e) {
                this.currentDeviceSupportedZones = this.currentDeviceSupportedZones.concat(e)
            }
        });
        t.a = r
    },
    4471: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.get("activityId") + "/weather"
            },
            parse: function(e) {
                return e.temp = this.convertToCelsius(e.temp),
                e.apparentTemp = this.convertToCelsius(e.apparentTemp),
                e
            },
            convertToCelsius: function(e) {
                return null != e ? 5 * (e - 32) / 9 : null
            }
        });
        t.a = n
    },
    4472: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(0)
              , n = i.n(a);
            t.a = n.a.Model.extend({
                urlRoot: function() {
                    return "/proxy/userpreference-service/"
                },
                idAttribute: "key",
                initialize: function(e) {
                    this.set({
                        key: "ActivityDetails.charts.hidden"
                    }, {})
                },
                getHiddenCharts: function() {
                    var t = [];
                    if (this.get("value")) {
                        var i = this.get("value").split("|");
                        e.each(i, function(e) {
                            e && "EMPTY" !== e && t.push(e)
                        })
                    } else
                        this.set("value", "EMPTY");
                    return t
                },
                hideChart: function(e) {
                    if (e && !this.isChartFound(e)) {
                        var t = this.get("value");
                        "EMPTY" === t && (t = ""),
                        this.set("value", t + e + "|")
                    }
                },
                showChart: function(e) {
                    if (e && this.isChartFound(e)) {
                        var t = this.getHiddenCharts()
                          , i = null
                          , a = t.indexOf(e);
                        t.splice(a, 1),
                        "|" !== (i = t.join("|")).slice(-1) && "" !== i.trim() && (i += "|"),
                        this.set("value", 0 === i.trim().length ? "EMPTY" : i.trim())
                    }
                },
                shouldChartBeHidden: function(e) {
                    return this.isChartFound(e)
                },
                isChartFound: function(e) {
                    return this.getHiddenCharts().indexOf(e) > -1
                }
            })
        }
        ).call(this, i(8))
    },
    4473: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: "/web-data/activity-charts-order/activity-charts-order-master.json"
        })
    },
    4474: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            initialize: function(e, t) {
                this.activityId = e.activityId
            },
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/rounds"
            }
        })
    },
    4475: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(442)
              , c = i(2649)
              , h = i(4476)
              , p = i.n(h)
              , d = {
                NOTE_SAVED: "NOTE_SAVED"
            }
              , u = o.a.View.extend({
                template: n.a.template(p.a),
                attributes: {
                    class: "border-wrapper note-container clearfix"
                },
                events: {
                    "click .add-note-button": "onSaveClicked",
                    "click .edit-note-button": "onEditClicked",
                    "focus textarea": "onTextareaFocus",
                    "blur textarea": "onTextareaBlur",
                    "keyup textarea": "onTextareaKeyup",
                    "click .cancel-note-button": "onCancelClicked",
                    "click .delete-note-button": "onDeleteClicked"
                },
                initialize: function(e) {
                    if (!e.model)
                        throw "A model is required!";
                    return this.containerClass = e.containerClass || "",
                    this.positionOfControls = e.positionOfControls || "bottom",
                    this.hasDeleteTextControl = e.hasDeleteTextControl || !1,
                    this.hasCancelButton = e.hasCancelButton || !1,
                    this.hasHeader = e.hasHeader || !1,
                    this.headerText = e.headerText || "notes",
                    this.placeholderText = e.placeholderText || "",
                    this.charMaxLength = e.charMaxLength || "4000",
                    this.isNoteDisabled = e.isNoteDisabled,
                    this.canEditNote = e.canEditNote,
                    this.showEditLink = this.isNoteDisabled && this.canEditNote,
                    this.autoExtendHeight = e.autoExtendHeight || !0,
                    this.maxHeight = e.maxHeight || 250,
                    this.modelAttribute = e.modelAttribute || "description",
                    this.description = e.model.get(this.modelAttribute) || "",
                    this.hasWorkoutExecutionScore = e.hasWorkoutExecutionScore,
                    this.setAttributes(),
                    this
                },
                setAttributes: function() {
                    this.containerClass && this.$el.addClass(this.containerClass)
                },
                render: function() {
                    return this.$el.empty(),
                    this.$el.html(this.template({
                        Localizer: s.a,
                        placeholderText: this.placeholderText,
                        charMaxLength: this.charMaxLength,
                        isNoteDisabled: this.isNoteDisabled,
                        canEditNote: this.canEditNote,
                        description: this.description,
                        showEditLink: this.showEditLink,
                        positionOfControls: this.positionOfControls,
                        hasDeleteTextControl: this.hasDeleteTextControl,
                        hasCancelButton: this.hasCancelButton,
                        hasHeader: this.hasHeader,
                        headerText: this.headerText
                    })),
                    this.maxHeight && this.resizeTextarea(),
                    this.hasWorkoutExecutionScore && this.hasWorkoutExecutionScore > 0 && this.displayExecutionScore(),
                    this
                },
                destroy: function() {
                    this.off()
                },
                onSaveClicked: function(e) {
                    e.preventDefault();
                    var t = this.$("textarea")
                      , i = t.val();
                    if (this.hasDescriptionChanged(t) && this.model) {
                        this.description = i,
                        this.model.set(this.modelAttribute, i),
                        this.model.save();
                        var a = i.length > 0;
                        this.showEditLink = a,
                        this.isNoteDisabled = a,
                        this.trigger(d.NOTE_SAVED)
                    }
                    this.render()
                },
                onCancelClicked: function(e) {
                    e.preventDefault(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.toggleTextareaDisplayState("cancel"),
                    this.toggleActionButtons("edit"),
                    this.render()
                },
                onDeleteClicked: function(e) {
                    e.preventDefault();
                    var t = this.$("textarea");
                    this.description = "",
                    this.hasDescriptionChanged(t) && this.model && (this.model.set(this.modelAttribute, this.description),
                    this.model.save(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.trigger(d.NOTE_SAVED)),
                    this.render()
                },
                onEditClicked: function(e) {
                    e.preventDefault();
                    var t = this.$("textarea");
                    t && t.length > 0 && this.toggleTextareaDisplayState("default"),
                    this.toggleActionButtons("save"),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaFocus: function(t) {
                    t.stopPropagation();
                    var i = e(t.currentTarget);
                    this.canSaveDescription(i) && this.canEditNote && (this.toggleActionButtons("save"),
                    this.toggleTextareaDisplayState("default")),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaBlur: function(t) {
                    t.stopPropagation(),
                    this.isDescriptionOriginallyEmpty(e(t.currentTarget)) && this.toggleActionButtons("default")
                },
                onTextareaKeyup: function() {
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                toggleActionButtons: function(e) {
                    var t, i = "none", a = "none";
                    switch (e) {
                    case "save":
                        i = "inline-block",
                        t = "block";
                        break;
                    case "edit":
                        a = "inline-block"
                    }
                    this.$(".delete-note-button").css({
                        display: a
                    }),
                    this.$(".edit-note-button").css({
                        display: a
                    }),
                    this.$(".add-note-button-wrapper").css({
                        display: t
                    }),
                    this.$(".add-note-button").css({
                        display: i
                    }),
                    this.$(".cancel-note-button").css({
                        display: i
                    })
                },
                toggleTextareaDisplayState: function(e) {
                    var t = this.$("textarea");
                    if (t)
                        switch (e) {
                        case "cancel":
                        case "save":
                            t.attr({
                                readonly: "readonly",
                                disabled: "disabled"
                            }),
                            t.addClass("read-only");
                            break;
                        default:
                            t.removeAttr("readonly"),
                            t.removeAttr("disabled"),
                            t.removeClass("read-only")
                        }
                    this.maxHeight && this.resizeTextarea()
                },
                hasDescriptionChanged: function(e) {
                    return !!(e = e || this.$("textarea")) && e.val() !== this.description
                },
                isDescriptionOriginallyEmpty: function(e) {
                    return !!(e = e || this.$("textarea")) && (0 === e.val().length && 0 === this.description.length)
                },
                isTextareaDisabled: function(e) {
                    return !(e = e || this.$("textarea")) || !this.$("textarea").attr("disabled")
                },
                canSaveDescription: function(e) {
                    return !(!(e = e || this.$("textarea")) || !this.isTextareaDisabled(e) || !this.hasDescriptionChanged(e) && !this.isDescriptionOriginallyEmpty(e))
                },
                canResizeTextarea: function() {
                    var e = this.$("textarea");
                    return !(!this.autoExtendHeight || "250px" === e.css("height"))
                },
                resizeTextarea: function() {
                    var e = this.$("textarea");
                    return e && e.prop("scrollHeight") > 70 && e.css({
                        height: this.maxHeight + "px"
                    }),
                    !0
                },
                updatePlaceholderText: function(e) {
                    e && this.$(".noteTextarea").attr("placeholder", s.a.localize(e))
                },
                displayExecutionScore: function() {
                    (new l.a).renderComponent(c.a, this.$(".executionScore")[0], {
                        score: this.hasWorkoutExecutionScore
                    })
                }
            });
            u.Events = d,
            t.a = u
        }
        ).call(this, i(9))
    },
    4476: function(e, t) {
        e.exports = '<% if (positionOfControls === \'top\' && canEditNote) { %>\n<div class="pull-right">\n    <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'edit\') %></a>\n    <% if (hasDeleteTextControl) { %>\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n    <% } %>\n</div>\n<% } %>\n\n<div class="executionScore"></div>\n\n<% if (hasHeader) { %>\n    <h3><%- Localizer.localize(headerText) %></h3>\n<% } %>\n    <textarea class="noteTextarea" \n        <% if (isNoteDisabled) { print(\'disabled="disabled"\'); print(\'readonly="readonly"\'); print(\'class="read-only"\'); } %>\n        rows="3" \n        spellcheck="false" \n        <% if (charMaxLength) { print(\'maxlength="\' + charMaxLength + \'"\'); } %>\n        placeholder="<%- placeholderText ? Localizer.localize(placeholderText) : \'\' %>"\n        aria-label="<%- placeholderText ? Localizer.localize(placeholderText) : Localizer.localize(headerText) %>"\n    ><%- description ? description : \'\' %></textarea>\n\n<% if (canEditNote) { %>\n    <% if (positionOfControls === \'bottom\') { %>\n        <div class="pull-right">\n        <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'edit\') %></a>\n        <% if (hasDeleteTextControl) { %>\n            &nbsp;&nbsp;&nbsp;&nbsp;\n            <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n        <% } %>\n        </div>\n    <% } %>\n    <div class="add-note-button-wrapper pull-right" style="display: <%- showEditLink ? \'none\' : \'block\' %>">\n        <% if (hasCancelButton) { %>\n        <button class="btn btn-small btn-secondary cancel-note-button"><%- Localizer.localize(\'button_cancel\') %></button>\n        &nbsp;\n        <% } %>\n        <button class="btn btn-small add-note-button" type="submit"><%- Localizer.localize(\'save\') %></button>\n    </div>\n<% } %>\n'
    },
    4477: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(2352)
              , h = i(2353)
              , p = i(4478)
              , d = i.n(p)
              , u = {
                NOTE_SAVED: "NOTE_SAVED"
            }
              , g = o.a.View.extend({
                template: n.a.template(d.a),
                attributes: {
                    class: "border-wrapper note-container clearfix"
                },
                events: {
                    "click .add-note-button": "onSaveClicked",
                    "click .edit-note-button": "onEditClicked",
                    "focus textarea": "onTextareaFocus",
                    "blur textarea": "onTextareaBlur",
                    "keyup textarea": "onTextareaKeyup",
                    "click .cancel-note-button": "onCancelClicked",
                    "click .delete-note-button": "onDeleteClicked"
                },
                initialize: function(e) {
                    if (!e.model)
                        throw "A model is required!";
                    return this.Latitude = e.Latitude,
                    this.Lat = this.setLatLonFormat(e.model.get(this.Latitude)),
                    this.Longitude = e.Longitude,
                    this.Lon = this.setLatLonFormat(e.model.get(this.Longitude)),
                    this.hasLatLong = !(!this.Lat || !this.Lon),
                    this.containerClass = e.containerClass || "",
                    this.positionOfControls = e.positionOfControls || "bottom",
                    this.hasDeleteTextControl = e.hasDeleteTextControl || !1,
                    this.hasCancelButton = e.hasCancelButton || !1,
                    this.headerText = e.headerText,
                    this.isNoteDisabled = e.isNoteDisabled,
                    this.canEditNote = e.canEditNote,
                    this.placeholderText = e.placeholderText || "",
                    this.charMaxLength = e.charMaxLength || "4000",
                    this.showEditLink = this.isNoteDisabled && this.canEditNote,
                    this.autoExtendHeight = e.autoExtendHeight || !0,
                    this.maxHeight = e.maxHeight || 250,
                    this.elementId = "diveEntryExit_" + Math.floor(1e3 * Math.random()),
                    this.setAttributes(),
                    this
                },
                setLatLonFormat: function(e) {
                    return e ? e.toFixed(6) : e
                },
                setAttributes: function() {
                    this.containerClass && this.$el.addClass(this.containerClass)
                },
                render: function() {
                    return this.$el.empty(),
                    this.$el.html(this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        placeholderText: this.placeholderText,
                        charMaxLength: this.charMaxLength,
                        isNoteDisabled: this.isNoteDisabled,
                        canEditNote: this.canEditNote,
                        showEditLink: this.showEditLink,
                        positionOfControls: this.positionOfControls,
                        hasDeleteTextControl: this.hasDeleteTextControl,
                        hasCancelButton: this.hasCancelButton,
                        headerText: this.headerText,
                        hasLatLong: this.hasLatLong,
                        Latitude: this.Lat,
                        Longitude: this.Lon,
                        elementId: this.elementId
                    })),
                    this.maxHeight && this.resizeTextarea(),
                    this.validator = new c.a({
                        element: this.$("textarea")
                    }),
                    this
                },
                destroy: function() {
                    this.off()
                },
                onSaveClicked: function(e) {
                    e.preventDefault();
                    var t = this.$("textarea").val().replace(/\s/g, "")
                      , i = h.a.parseLatLngString(t);
                    if (!this.validator.validateInputNow()) {
                        this.Lat = i.lat || 0 === i.lat ? i.lat.toString() : null,
                        this.Lon = i.lng || 0 === i.lng ? i.lng.toString() : null,
                        this.model.set(this.Latitude, this.Lat),
                        this.model.set(this.Longitude, this.Lon),
                        this.model.save();
                        var a = t.length > 0;
                        this.showEditLink = a,
                        this.isNoteDisabled = a,
                        this.trigger(u.NOTE_SAVED)
                    }
                    this.render()
                },
                onCancelClicked: function(e) {
                    e.preventDefault(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.toggleTextareaDisplayState("cancel"),
                    this.toggleActionButtons("edit"),
                    this.render()
                },
                onDeleteClicked: function(e) {
                    e.preventDefault(),
                    this.Lat = null,
                    this.Lon = null,
                    this.model.set(this.Latitude, this.Lat),
                    this.model.set(this.Longitude, this.Lon),
                    this.model.save(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.trigger(u.NOTE_SAVED),
                    this.render()
                },
                onEditClicked: function(e) {
                    e.preventDefault();
                    var t = this.$("textarea");
                    t && t.length > 0 && this.toggleTextareaDisplayState("default"),
                    this.toggleActionButtons("save"),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaFocus: function(t) {
                    t.stopPropagation();
                    var i = e(t.currentTarget);
                    this.canSaveDescription(i) && this.canEditNote && (this.toggleActionButtons("save"),
                    this.toggleTextareaDisplayState("default")),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaKeyup: function() {
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                toggleActionButtons: function(e) {
                    var t = "none"
                      , i = "none"
                      , a = "none";
                    switch (e) {
                    case "save":
                        t = "inline-block",
                        a = "block";
                        break;
                    case "edit":
                        i = "inline-block"
                    }
                    this.$(".delete-note-button").css({
                        display: i
                    }),
                    this.$(".edit-note-button").css({
                        display: i
                    }),
                    this.$(".add-note-button-wrapper").css({
                        display: a
                    }),
                    this.$(".add-note-button").css({
                        display: t
                    }),
                    this.$(".cancel-note-button").css({
                        display: t
                    })
                },
                toggleTextareaDisplayState: function(e) {
                    var t = this.$("textarea");
                    if (t)
                        switch (e) {
                        case "cancel":
                        case "save":
                            t.attr({
                                readonly: "readonly",
                                disabled: "disabled"
                            }),
                            t.addClass("read-only");
                            break;
                        default:
                            t.removeAttr("readonly"),
                            t.removeAttr("disabled"),
                            t.removeClass("read-only")
                        }
                    this.maxHeight && this.resizeTextarea()
                },
                isTextareaDisabled: function(e) {
                    return !(e = e || this.$("textarea")) || !this.$("textarea").attr("disabled")
                },
                canSaveDescription: function(e) {
                    return !(!(e = e || this.$("textarea")) || !this.isTextareaDisabled(e))
                },
                canResizeTextarea: function() {
                    var e = this.$("textarea");
                    return !(!this.autoExtendHeight || "250px" === e.css("height"))
                },
                resizeTextarea: function() {
                    var e = this.$("textarea");
                    return e && e.prop("scrollHeight") > 70 && e.css({
                        height: this.maxHeight + "px"
                    }),
                    !0
                },
                updatePlaceholderText: function(e) {
                    e && this.$(".noteTextarea").attr("placeholder", s.a.localize(e))
                }
            });
            g.Events = u,
            t.a = g
        }
        ).call(this, i(9))
    },
    4478: function(e, t) {
        e.exports = '<% if (positionOfControls === \'top\' && canEditNote) { %>\n<div class="pull-right">\n    <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'edit\') %></a>\n    <% if (hasDeleteTextControl) { %>\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n    <% } %>\n</div>\n<% } %>\n\n\x3c!-- Display Lat / Long if it is provided --\x3e\n<% if (hasLatLong) { %>\n<h3><%- Localizer.localize(headerText) %></h3>\n<textarea \n    id="<%- elementId %>" \n    <% if (isNoteDisabled) { \n        print(\'disabled="disabled"\'); \n        print(\'readonly="readonly"\'); \n        print(\'class="read-only"\');\n    } %> \n    rows="3" \n    spellcheck="false" \n    <% if (charMaxLength) { \n        print(\'maxlength="\' + charMaxLength + \'"\'); \n    } %>\n    placeholder="<%- placeholderText ? Localizer.localize(placeholderText) : \'\' %>"\n    aria-label="<%- placeholderText ? Localizer.localize(placeholderText) : Localizer.localize(headerText) %>"\n><%- Personalizer.personalizeLatLon(Latitude, Longitude) %></textarea>\n\n\x3c!-- Only Display the canEditNote if Lat / Long are provided --\x3e\n    <% if (canEditNote) { %>\n        <% if (positionOfControls === \'bottom\') { %>\n            <div class="pull-right">\n                <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'edit\') %></a>\n            <% if (hasDeleteTextControl) { %>\n                &nbsp;&nbsp;&nbsp;&nbsp;\n                <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n            <% } %>\n            </div>\n        <% } %>\n        <div class="add-note-button-wrapper pull-right" style="display: <%- showEditLink ? \'none\' : \'block\' %>">\n            <% if (hasCancelButton) { %>\n            <button class="btn btn-small btn-secondary cancel-note-button"><%- Localizer.localize(\'button_cancel\') %></button>\n            &nbsp;\n            <% } %>\n            <button class="btn btn-small add-note-button" type="submit"><%- Localizer.localize(\'save\') %></button>\n        </div>\n    <% } %>\n<% } %>'
    },
    4479: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(3)
              , n = i(39)
              , r = i(8)
              , o = i.n(r)
              , s = i(0)
              , l = i.n(s)
              , c = i(7)
              , h = i(11)
              , p = i(42)
              , d = i(31)
              , u = i(1313)
              , g = i(1570)
              , m = i(1686)
              , f = i(4480)
              , y = i(4481)
              , v = i(4482)
              , b = i(4483)
              , A = (i(4484),
            i(1322))
              , C = i(2e3)
              , w = i(4486)
              , _ = i(4487)
              , x = i(4488)
              , S = i(4489)
              , T = i(2362)
              , E = i(2363)
              , k = i(2364)
              , L = i(4490)
              , P = i(4491)
              , z = i(4492)
              , I = i(4493)
              , D = i(2365)
              , B = i(4494)
              , M = i(4495)
              , O = i(4496)
              , R = i(4497)
              , N = i(4498)
              , V = i(4499)
              , j = i(4500)
              , F = i(2366)
              , G = i(2367)
              , U = i(4501)
              , H = i(4502)
              , K = i(4503)
              , W = i(4504)
              , Q = i(4505)
              , Y = i(4506)
              , $ = i(1902)
              , Z = i(4507)
              , q = i(4508)
              , X = i(4509)
              , J = i(4510)
              , ee = i(4511)
              , te = i(4512)
              , ie = i(4513)
              , ae = i(4514)
              , ne = i(4515)
              , re = i(4516)
              , oe = i(4517)
              , se = i(4518)
              , le = i(4519)
              , ce = i(4520)
              , he = i(4521)
              , pe = i(4522)
              , de = i(4523)
              , ue = i(4524)
              , ge = i(4525)
              , me = i(4527)
              , fe = i.n(me)
              , ye = i(4528)
              , ve = i.n(ye)
              , be = i(438)
              , Ae = i(198)
              , Ce = i(1366)
              , we = (i(1432),
            i(1295))
              , _e = i.n(we)
              , xe = i(4529)
              , Se = i.n(xe)
              , Te = i(21);
            Se()(_e.a);
            var Ee = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromChart: "WeightChangedFromChart",
                AxisTypeChanged: "AxisTypeChanged",
                PowerRangeChanged: "PowerRangeChanged",
                ResetZoom: "ResetZoom"
            }
              , ke = 17
              , Le = l.a.View.extend({
                template: o.a.template(fe.a),
                customizeMenuItemTemplate: o.a.template(ve.a),
                events: {
                    "click #btnResetZoom": "onResetZoomClicked",
                    "click .chart-toggle-options .time-toggle": "onTimeToggle",
                    "click .chart-toggle-options .distance-toggle": "onDistanceToggle",
                    "click .chart-toggle-options .length-rests-toggle": "onLengthRestsToggle",
                    "click .btn-customize-charts": "onCustomizeCharts",
                    "click .reorder-widgets": "onReorderWidgetsClicked",
                    "click .reorder-widgets-cancel": "onCancelReorderClicked",
                    "change .reOrderCheckbox input[type=checkbox]": "onToggleCheckbox",
                    "click .reorder-widgets-set": "onSetOrderClicked"
                },
                initialize: function(t) {
                    this.player = t.player,
                    this.charts = [],
                    this.overlayData = t.overlayData,
                    this.groundContactLastSelectedChart = t.groundContactLastSelectedChart,
                    this.verticalOscRatioLastSelectedChart = t.verticalOscRatioLastSelectedChart,
                    this.powerChartLastSelectedChart = t.powerChartLastSelectedChart,
                    this.isOwner = t.isOwner,
                    this.hasPowerData = t.hasPowerData,
                    this.activityHiddenChartsModel = t.activityHiddenChartsModel,
                    this.canDisplayVectorAirInfo = t.canDisplayVectorAirInfo,
                    this.jumps = t.jumps,
                    this.activityWorkouts = t.activityWorkouts,
                    this.activityChartsOrder = t.activityChartsOrder,
                    this.chartsOrderUserPref = t.chartsOrderUserPref,
                    this.activityTypes = t.activityTypes,
                    this.viewerIsAuthenticated = t.viewerIsAuthenticated,
                    this.tankSensor = t.tankSensor,
                    this.indoorClimbDifficulty = t.indoorClimbDifficulty,
                    this.canViewImprovedElevationsScaling = t.canViewImprovedElevationsScaling,
                    this.hasPaceProSplits = t.hasPaceProSplits,
                    e(document).on("click", function(e) {
                        this.$(".dropdown.page-dropdown").is(e.target) || 0 !== this.$(".dropdown.page-dropdown").has(e.target).length || 0 !== this.$(".open").has(e.target).length || this.$(".activity-charts-container .customize-charts-wrapper .dropdown").removeClass("open")
                    }
                    .bind(this))
                },
                setActivity: function(e, t, i, a, n, r) {
                    this.activityDetails = t,
                    this.activitySplits = i,
                    this.activityTypedSplits = a,
                    this.activitySplitSummaries = n,
                    this.model = e,
                    this.usersWeight = r,
                    o.a.each(this.charts, function(e) {
                        e && "function" === typeof e.destroy && e.destroy()
                    }),
                    this.charts = [],
                    this.chartSwitchers = [],
                    this.rendered = !1,
                    this.xAxisType = this.isLapSwimming() ? A.a.XAxisTypes.SwimDuration : A.a.XAxisTypes.Duration,
                    this.speedType = h.a.getSpeedTypeFromActivityType(this.model.get("activityTypeDTO").typeKey),
                    this.updatePlayerMinMax()
                },
                updatePlayerMinMax: function() {
                    var e, t, i;
                    this.xAxisType == A.a.XAxisTypes.Duration ? (i = (e = this.activityDetails.get("sumDuration"))[0],
                    t = e[e.length - 1]) : (e = this.activityDetails.get("sumDistance")) && (i = h.a.convertDistance(e[0], this.model.getActivityTypeKey()),
                    t = h.a.convertDistance(e[e.length - 1], this.model.getActivityTypeKey())),
                    this.player.set("xAxisType", this.xAxisType),
                    this.player.set("max", t || 0),
                    this.player.set("min", i || 0)
                },
                render: function() {
                    !this.rendered && this.activityDetails.get("sumDuration") && (this.customizeMenuSetup = !1,
                    this.updatePlayerMinMax(),
                    this.setDefaultChartsOrder(),
                    this.setOverlayCompareData(),
                    this.renderCharts(),
                    this.rendered = !0)
                },
                renderConnectIQView: function(e) {
                    this.setupConnectIQCharts(e)
                },
                setDefaultChartsOrder: function() {
                    var e = this.model.get("activityTypeDTO").parentTypeId;
                    this.chartActivityType = e === ke || this.isEsportActivity() ? this.model.getActivityTypeKey() : this.getActivityTypeByParentTypeId(e).typeKey,
                    this.defaultChartsOrder = this.activityChartsOrder.get(this.chartActivityType),
                    this.chartsOrderUserPrefJSON = this.chartsOrderUserPref ? JSON.parse(this.chartsOrderUserPref.getValue()) : null,
                    this.chartsOrderUserPrefJSON && this.chartsOrderUserPrefJSON[this.chartActivityType] && (this.defaultChartsOrder = this.chartsOrderUserPrefJSON[this.chartActivityType])
                },
                getAdditionalUserCharts: function() {
                    var e = this;
                    return this.charts.filter(function(t) {
                        return !e.defaultChartsOrder.some(function(e) {
                            return t.primarySeries[0].seriesKey === e.key
                        })
                    })
                },
                getActivityTypeByParentTypeId: function(e) {
                    return this.activityTypes.toJSON().find(function(t) {
                        return t.typeId === e
                    })
                },
                setOverlayCompareData: function() {
                    var e = this;
                    if (this.overlayData) {
                        this.overlayData.compareData = this.activityDetails.getData("directTimestamp", this.xAxisType, void 0, function(t) {
                            return "sumDistance" === e.xAxisType ? h.a.convertDistance(t) : t
                        })
                    }
                },
                findChartSwitcher: function(e) {
                    for (var t = 0; t < this.chartSwitchers.length; t++) {
                        var i = this.chartSwitchers[t];
                        if (o.a.find(i.chartViews, function(t) {
                            return t === e
                        }))
                            return i
                    }
                    return null
                },
                isInChartSwitcher: function(e) {
                    return !!this.findChartSwitcher(e)
                },
                isDuplicateChart: function(e, t) {
                    return t.find(function(t) {
                        return t.chart.primarySeries[0].seriesKey === e
                    })
                },
                toggleCharts: function(e, t) {
                    if (e) {
                        var i = o.a.find(this.charts, function(t) {
                            return t.primarySeries[0].seriesKey === e
                        })
                          , a = this.findChartSwitcher(i);
                        if (this.activityHiddenChartsModel) {
                            if (a) {
                                var n = a.getChartViews().map(function(e) {
                                    return e.primarySeries[0].seriesKey
                                });
                                t ? o.a.each(n, function(e) {
                                    this.activityHiddenChartsModel.showChart(e)
                                }, this) : o.a.each(n, function(e) {
                                    this.activityHiddenChartsModel.hideChart(e)
                                }, this)
                            } else
                                t ? this.activityHiddenChartsModel.showChart(e) : this.activityHiddenChartsModel.hideChart(e);
                            this.activityHiddenChartsModel.save()
                        }
                        a ? t ? a.show() : a.hide() : i && (t ? (i.isRendered() || i.render(),
                        i.show()) : i.hide())
                    }
                    this.pushCustomizeVisibleChartsAnalyticsEvents()
                },
                pushCustomizeVisibleChartsAnalyticsEvents: function() {
                    be.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Customize List Of Visible Charts"
                    })
                },
                pushChartReorderToAnalytics: function() {
                    be.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Reorder charts on an activity"
                    })
                },
                paceChartToggleToAnalytics: function() {
                    be.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Toggle Lap Avaerage Pace view"
                    })
                },
                isLapSwimming: function() {
                    return this.model.isLapSwimming()
                },
                isFloorClimbing: function() {
                    return this.model.isFloorClimbing()
                },
                isDiving: function() {
                    return this.model.isDiving()
                },
                isBackcountrySki: function() {
                    return this.model.isBackcountrySki()
                },
                isSurfingActivity: function() {
                    return this.model.isSurfingActivity()
                },
                getAvailableSeries: function() {
                    var e = [];
                    return o.a.each(this.charts, function(t) {
                        e.push(t.primarySeries)
                    }),
                    e
                },
                initSortableWidgets: function() {
                    var e = this;
                    this.$(".sortable-checkboxes").sortable({
                        forcePlaceholderSize: !0,
                        handle: ".drag-handle",
                        tolerance: "pointer",
                        stop: function(t, i) {
                            var a = e.$(".sortable-checkboxes").sortable("refreshPositions").children();
                            e.newSortOrder = [],
                            o.a.each(a, function(t) {
                                var i = t.dataset.which;
                                i && e.newSortOrder.push(i),
                                e.$(".customize-charts-controls .reorder-widgets-set").prop("disabled", !1)
                            })
                        }
                    })
                },
                renderCharts: function() {
                    this.isLapSwimming() ? this.setupLapSwimmingCharts() : this.model.isParent() ? this.setupMultisportCharts() : this.isSurfingActivity() ? this.setupSurfCharts() : this.setupCharts(),
                    this.renderChartActions(),
                    this.setXAxisSelectors(),
                    this.drawCharts()
                },
                setupLapSwimmingCharts: function() {
                    this.speedType == h.a.SpeedTypes.Speed ? this.speedChartView = this.addSeries(u.a.SwimSpeed, H.a) : this.paceChartView = this.addSeries(u.a.SwimPace, K.a),
                    this.addSeries(u.a.SwimStrokes, W.a),
                    this.addSeries(u.a.SwimSwolf, Q.a),
                    this.addSeries(u.a.HeartRateLapSwimming, T.a),
                    this.addSeries(u.a.PerformanceCondition, ae.a)
                },
                setupMultisportCharts: function() {
                    this.addSeries(u.a.Elevation, C.a, {
                        canViewImprovedElevationsScaling: this.canViewImprovedElevationsScaling
                    }),
                    this.addSeries(u.a.HeartRate, T.a),
                    this.addSeries(u.a.PerformanceCondition, ae.a),
                    this.addSeries(u.a.Temperature, I.a)
                },
                setupSurfCharts: function() {
                    this.addSeries(u.a.SurfElevation, C.a),
                    this.addSeries(u.a.SurfSpeed, E.a),
                    this.addSeries(u.a.SurfHeartRate, T.a),
                    this.addSeries(u.a.Temperature, I.a)
                },
                addSeries: function(e, t, i) {
                    var a = []
                      , n = !1
                      , r = []
                      , s = null;
                    if (o.a.isArray(e) ? a = e : a.push(e),
                    o.a.each(a, function(e) {
                        (s = new e({
                            activitySummary: this.model,
                            activityDetails: this.activityDetails,
                            xAxisType: this.xAxisType,
                            usersWeight: this.usersWeight,
                            activitySplits: this.activitySplits,
                            activityTypedSplits: this.activityTypedSplits,
                            activitySplitSummaries: this.activitySplitSummaries,
                            activityWorkouts: this.activityWorkouts,
                            tankSensor: this.tankSensor,
                            props: i
                        })).hasData() && (n = !0,
                        r.push(s))
                    }, this),
                    n) {
                        var l = new t({
                            primarySeries: r,
                            playerModel: this.player,
                            showXAxisPlotLineLabel: !1,
                            xAxisType: this.xAxisType,
                            activityDetails: this.activityDetails,
                            activitySplits: this.activitySplits,
                            activitySummary: this.model,
                            overlayData: this.overlayData,
                            jumps: this.formatJumpData(this.jumps),
                            hasPaceProSplits: this.hasPaceProSplits
                        });
                        return l.on(A.a.Events.ON_CHART_ZOOMED, this.onChartZoomed, this),
                        l.on(A.a.Events.ON_ZOOM_RESET, this.resetZoom, this),
                        l.on(A.a.Events.ON_EXPANDED_CHART_CLICKED, this.onExpandedChartClicked, this),
                        l.on(A.a.Events.ON_CHART_FOCUSED, this.onChartGainedFocus, this),
                        l.on(A.a.Events.ON_RANGE_SELECTED, this.onPowerRangeSelected, this),
                        l.on(A.a.Events.ON_CHART_SELECTOR_TOGGLE, this.onChartSelectorToggle, this),
                        this.charts.push(l),
                        l
                    }
                },
                renderChartActions: function() {
                    var e = this.template({
                        Localizer: c.a,
                        availableCharts: this.getAvailableChartTitles(),
                        isLapSwimming: this.isLapSwimming(),
                        canDisplayDistanceTimeToggleView: this.canDisplayDistanceTimeToggleView(),
                        viewerIsAuthenticated: this.viewerIsAuthenticated
                    });
                    this.$el.html(e),
                    this.initSortableWidgets()
                },
                setXAxisSelectors: function() {
                    this.$timeToggleEl = this.$(".chart-toggle-options .time-toggle"),
                    this.$distanceToggleEl = this.$(".chart-toggle-options .distance-toggle"),
                    this.$lengthRestsToggleEl = this.$(".chart-toggle-options .length-rests-toggle"),
                    this.isLapSwimming() && (this.$timeToggleEl.css("border-radius", "0"),
                    this.$timeToggleEl.css("border-right", "1px solid #CCC"))
                },
                getAvailableChartTitles: function() {
                    var e = []
                      , t = this.getHiddenCharts();
                    return this.getAvailableCharts().forEach(function(i) {
                        var a = i.chart.chartTitle()
                          , n = i.chart.primarySeries[0].seriesKey
                          , r = {
                            title: a,
                            seriesKey: n,
                            hide: !1
                        };
                        t.find(function(e) {
                            return e === n
                        }) && (r.hide = !0),
                        e.push(r)
                    }),
                    e
                },
                getHiddenCharts: function() {
                    var e = [];
                    return this.activityHiddenChartsModel.get("value") && (e = this.activityHiddenChartsModel.get("value").split("|")),
                    e
                },
                getAvailableCharts: function() {
                    var e = []
                      , t = this;
                    if (this.additionalUserCharts = this.getAdditionalUserCharts(),
                    this.defaultChartsOrder.forEach(function(i) {
                        t.charts.forEach(function(a) {
                            var n = a.primarySeries[0].seriesKey;
                            n !== i.key || t.isInChartSwitcher(a) || t.isDuplicateChart(n, e) || e.push({
                                index: i.index,
                                chart: a
                            })
                        })
                    }),
                    this.chartSwitchers.forEach(function(i) {
                        var a = i.chartViews[0].primarySeries[0].seriesKey
                          , n = t.defaultChartsOrder.find(function(e) {
                            return a === e.key
                        });
                        n && e.push({
                            index: n.index,
                            chart: i.chartViews[0]
                        })
                    }),
                    this.additionalUserCharts && this.additionalUserCharts.length > 0) {
                        var i = this.defaultChartsOrder.length
                          , a = this.defaultChartsOrder[i - 1].index;
                        this.additionalUserCharts.forEach(function(t) {
                            e.push({
                                index: a,
                                chart: t
                            }),
                            a += 1
                        })
                    }
                    return o.a.sortBy(e, "index")
                },
                drawCharts: function(e) {
                    var t = []
                      , i = this;
                    e ? this.charts = e : (this.defaultChartsOrder.forEach(function(e) {
                        i.charts.forEach(function(i) {
                            i.primarySeries[0].seriesKey === e.key && t.push(i)
                        })
                    }),
                    this.charts = this.additionalUserCharts && this.additionalUserCharts.length > 0 ? [].concat(t, Object(n.a)(this.additionalUserCharts)) : t),
                    this.charts.forEach(function(e) {
                        e && (i.$("#charts-container").append(e.el),
                        e.shouldBeVisible() && i.shouldChartRender(e) && e.render())
                    }),
                    this.drawSwitcherCharts()
                },
                drawSwitcherCharts: function() {
                    this.renderPowerCharts(),
                    this.renderPPStartCharts(),
                    this.renderPPEndCharts(),
                    this.renderVerticalCharts(),
                    this.renderGroundContactCharts(),
                    this.canDisplayVectorAirInfo && this.renderVectorAirDragCdACharts(),
                    this.renderTankPressureCharts()
                },
                renderPowerCharts: function() {
                    var e = this.getSelectedPowerChart();
                    this.powerChartView && this.powerChartKgView && this.isOwner ? this.shouldChartRender(e) && e.isRendered() && e.render() : this.powerChartView && (this.shouldChartRender(this.powerChartView) && this.powerChartView.render(),
                    this.powerChartView.shouldBeVisible = function() {
                        return !0
                    }
                    )
                },
                renderPPStartCharts: function() {
                    this.ppStartChartView && this.peakPPStartChartView && this.shouldChartRender(this.ppStartChartView) && this.ppStartChartView.render()
                },
                renderPPEndCharts: function() {
                    this.ppEndChartView && this.peakPPEndChartView && this.shouldChartRender(this.ppEndChartView) && this.ppEndChartView.render()
                },
                renderVerticalCharts: function() {
                    if (this.verticalOscillationChartView && this.verticalRatioChartView) {
                        var e = this.getSelectedVerticalChart();
                        this.shouldChartRender(e) && e.isRendered() && e.render()
                    } else
                        this.verticalOscillationChartView && (this.shouldChartRender(this.verticalOscillationChartView) && this.verticalOscillationChartView.render(),
                        this.verticalOscillationChartView.shouldBeVisible = function() {
                            return !0
                        }
                        ),
                        this.verticalRatioChartView && this.shouldChartRender(this.verticalRatioChartView) && this.verticalRatioChartView.render()
                },
                renderGroundContactCharts: function() {
                    if (this.groundContactTimeChartView && this.groundContactTimeBalanceChartView) {
                        var e = this.getSelectedGroundContactChart();
                        this.shouldChartRender(e) && e.render()
                    } else
                        this.groundContactTimeChartView && this.shouldChartRender(this.groundContactTimeChartView) && (this.groundContactTimeChartView.render(),
                        this.groundContactTimeChartView.shouldBeVisible = function() {
                            return !0
                        }
                        ),
                        this.groundContactTimeBalanceChartView && this.shouldChartRender(this.groundContactTimeBalanceChartView) && this.groundContactTimeBalanceChartView.render()
                },
                renderVectorAirDragCdACharts: function() {
                    this.vectorAirDragCdaView && this.vectorAirDragWattsCdaView ? this.shouldChartRender(this.vectorAirDragCdaView) && this.vectorAirDragCdaView.render() : (this.vectorAirDragCdaView && (this.shouldChartRender(this.vectorAirDragCdaView) && this.vectorAirDragCdaView.render(),
                    this.vectorAirDragCdaView.shouldBeVisible = function() {
                        return !0
                    }
                    ),
                    this.vectorAirDragWattsCdaView && (this.shouldChartRender(this.vectorAirDragWattsCdaView) && this.vectorAirDragWattsCdaView.render(),
                    this.vectorAirDragWattsCdaView.shouldBeVisible = function() {
                        return !0
                    }
                    ))
                },
                renderTankPressureCharts: function() {
                    this.tankPressureChartViews && this.tankPressureChartViews.length && this.shouldChartRender(this.tankPressureChartViews[0]) && (this.tankPressureChartViews[0].render(),
                    this.tankPressureChartViews[0].shouldBeVisible = function() {
                        return !0
                    }
                    )
                },
                shouldChartRender: function(e) {
                    return !this.activityHiddenChartsModel || !this.activityHiddenChartsModel.shouldChartBeHidden(e.primarySeries[0].seriesKey)
                },
                setupCharts: function() {
                    var e = (new Date).getTime();
                    this.canShowClimbAscentChart() && this.addSeries(u.a.ClimbAscent, w.a, {
                        indoorClimbDifficulty: this.indoorClimbDifficulty
                    }),
                    this.addSeries([u.a.DiveDepth, u.a.DecoCeiling, u.a.SetPointDepth], x.a),
                    this.canDisplayElevationChart() && this.addSeries(u.a.Elevation, C.a, {
                        canViewImprovedElevationsScaling: this.canViewImprovedElevationsScaling
                    }),
                    this.canDisplayAscentDescentChart() && this.addSeries(u.a.Elevation, _.a, {
                        canViewImprovedElevationsScaling: this.canViewImprovedElevationsScaling
                    }),
                    this.setupSpeedPaceChartView(),
                    this.isBreathworkActivity() || this.isEsportActivity() || this.addSeries(u.a.HeartRate, T.a),
                    this.addSeries(u.a.PerformanceCondition, ae.a),
                    this.canDisplayAscentChart() && this.addSeries(u.a.Ascent, ne.a),
                    this.addSeries(u.a.StrideLength, Y.a),
                    this.setupCadenceChartView(),
                    this.addSeries(u.a.Position, Z.a),
                    this.setupPowerCharts(),
                    this.addSeries(u.a.LeftRightPowerBalance, M.a),
                    this.addSeries(u.a.LeftPCO, $.a),
                    this.addSeries(u.a.RightPCO, $.a),
                    this.setupPPStartCharts(),
                    this.setupPPEndCharts(),
                    this.setupVerticalCharts(),
                    this.setupGroundContactCharts(),
                    this.addSeries(u.a.RespirationRate, he.a),
                    (this.isBreathworkActivity() || this.isEsportActivity()) && (this.addSeries(u.a.Stress, pe.a),
                    this.addSeries(u.a.HeartRate, T.a)),
                    this.isYogaActivity() && this.addSeries(u.a.Stress, pe.a),
                    this.addSeries(u.a.StrokeRate, ie.a),
                    this.addSeries(u.a.DistancePerStroke, te.a),
                    this.canDisplayVectorAirInfo && (this.setupVectorAirDragCdACharts(),
                    this.setupVectorAirWindSpeed()),
                    this.isEsportActivity() || this.addSeries(u.a.Temperature, I.a),
                    this.setupTankCharts(),
                    this.addSeries(u.a.Gforce, N.a),
                    this.addSeries(u.a.Flow, ce.a),
                    this.addSeries(u.a.Grit, le.a);
                    var t = (new Date).getTime();
                    console && console.log("Chart load time: " + (t - e).toString() + "ms")
                },
                setupTankCharts: function() {
                    var e = this;
                    this.tankSensor && this.tankSensor.get("tankSensors") && this.tankSensor.get("tankSensors").length && (this.tankPressureChartViews = [],
                    this.tankSensor.get("tankSensors").forEach(function(t, i) {
                        t.records.length > 0 && e.tankPressureChartViews.push(e.addSeries(u.a.TankPressure, S.a, {
                            tankSensor: t
                        }))
                    }),
                    this.tankPressureChartViews.length > 1 && this.chartSwitchers.push(new ge.a({
                        titleKey: "label_tank_pressure",
                        chartViews: this.tankPressureChartViews,
                        activeChart: this.tankPressureChartViews[0],
                        shouldChartRender: this.shouldChartRender.bind(this)
                    })))
                },
                setupVectorAirDragCdACharts: function() {
                    this.vectorAirDragCdaView = this.addSeries(u.a.VectorAirDragCdA, re.a),
                    this.vectorAirDragWattsCdaView = this.addSeries(u.a.VectorAirDragWattsPerCdA, oe.a),
                    this.vectorAirDragCdaView && this.vectorAirDragWattsCdaView && this.chartSwitchers.push(new ge.a({
                        chartViews: [this.vectorAirDragCdaView, this.vectorAirDragWattsCdaView],
                        activeChart: this.vectorAirDragCdaView
                    }))
                },
                setupVectorAirWindSpeed: function() {
                    this.addSeries(u.a.VectorAirWindSpeed, se.a)
                },
                setupSpeedPaceChartView: function() {
                    switch (this.speedType) {
                    case h.a.SpeedTypes.Flying:
                    case h.a.SpeedTypes.Speed:
                    case h.a.SpeedTypes.RowingSpeed:
                        this.speedChartView = this.addSeries(u.a.Speed, E.a);
                        break;
                    case h.a.SpeedTypes.Pace:
                    case h.a.SpeedTypes.RowingPace:
                        this.setupPaceChartView();
                        break;
                    case h.a.SpeedTypes.SwimSpeed:
                        this.speedChartView = this.addSeries(u.a.OpenWaterSwimSpeed, F.a);
                        break;
                    case h.a.SpeedTypes.SwimPace:
                        this.paceChartView = this.addSeries(u.a.OpenWaterSwimPace, G.a);
                        break;
                    case h.a.SpeedTypes.FloorClimbingPace:
                        this.paceChartView = this.addSeries(u.a.FloorClimbingPace, L.a)
                    }
                },
                setupPaceChartView: function() {
                    var e = this;
                    if (this.shouldRenderPaceChartSwitcher()) {
                        this.paceChartView = this.addSeries(u.a.Pace, k.a);
                        var t = p.h.isUltraRunActivity(this.model.getActivityTypeKey())
                          , i = [];
                        t ? (this.lapAveragePaceChartView = this.addSeries([u.a.LapAveragePaceWithRest, u.a.LapAveragePace], de.a),
                        i = [this.lapAveragePaceChartView, this.paceChartView]) : (this.lapAveragePaceChartView = this.addSeries(u.a.LapAveragePace, de.a),
                        i = [this.paceChartView, this.lapAveragePaceChartView]),
                        this.hasPaceProSplits && (this.PaceProCompareChartView = this.addSeries(u.a.PaceProComparePace, ue.a)),
                        this.hasPaceProSplits && i.push(this.PaceProCompareChartView),
                        this.paceChartView && this.lapAveragePaceChartView && this.chartSwitchers.push(new ge.a({
                            shouldChartRender: this.shouldChartRender.bind(this),
                            chartViews: i,
                            activeChart: t ? this.lapAveragePaceChartView : this.paceChartView,
                            preChartSelectionHandler: function(t) {
                                return t === e.lapAveragePaceChartView && e.paceChartToggleToAnalytics(),
                                !0
                            }
                        }))
                    } else
                        this.paceChartView = this.addSeries(u.a.Pace, k.a)
                },
                setupCadenceChartView: function() {
                    this.speedType == h.a.SpeedTypes.Speed || this.speedType == h.a.SpeedTypes.NauticalSpeed ? this.addSeries(u.a.BikeCadence, P.a) : this.speedType == h.a.SpeedTypes.Pace ? this.addSeries(u.a.RunCadence, z.a) : this.speedType == h.a.SpeedTypes.SwimPace && this.addSeries(u.a.OpenWaterSwimStrokes, U.a)
                },
                setupPowerCharts: function() {
                    this.powerChartView = this.addSeries(u.a.PowerWatts, D.a),
                    this.powerChartKgView = this.addSeries(u.a.PowerKg, B.a);
                    var e = this.getSelectedPowerChart()
                      , t = this;
                    this.powerChartView && this.powerChartKgView && this.isOwner ? (this.powerChartSwitcher = new ge.a({
                        shouldChartRender: this.shouldChartRender.bind(this),
                        chartViews: [this.powerChartView, this.powerChartKgView],
                        activeChart: e,
                        persistSelectedModel: this.powerChartLastSelectedChart,
                        preChartSelectionHandler: function(e) {
                            return !(!t.usersWeight && e === t.powerChartKgView) || (t.triggerWeightEntryPopup(this, e),
                            !1)
                        }
                    }),
                    this.chartSwitchers.push(this.powerChartSwitcher)) : this.charts = o.a.reject(this.charts, function(e) {
                        return e === this.powerChartKgView
                    }, this),
                    this.setProperPowerChartIfNoWeight(e)
                },
                setupPPStartCharts: function() {
                    this.ppStartChartView = this.addSeries([u.a.LeftPPStart, u.a.RightPPStart], q.a),
                    this.peakPPStartChartView = this.addSeries([u.a.LeftPeakPPStart, u.a.RightPeakPPStart], J.a),
                    this.ppStartChartView && this.peakPPStartChartView && this.chartSwitchers.push(new ge.a({
                        shouldChartRender: this.shouldChartRender.bind(this),
                        chartViews: [this.ppStartChartView, this.peakPPStartChartView],
                        activeChart: this.ppStartChartView
                    }))
                },
                setupPPEndCharts: function() {
                    this.ppEndChartView = this.addSeries([u.a.LeftPPEnd, u.a.RightPPEnd], X.a),
                    this.peakPPEndChartView = this.addSeries([u.a.LeftPeakPPEnd, u.a.RightPeakPPEnd], ee.a),
                    this.ppEndChartView && this.peakPPEndChartView && this.chartSwitchers.push(new ge.a({
                        shouldChartRender: this.shouldChartRender.bind(this),
                        chartViews: [this.ppEndChartView, this.peakPPEndChartView],
                        activeChart: this.ppEndChartView
                    }))
                },
                setupVerticalCharts: function() {
                    if (this.verticalOscillationChartView = this.addSeries(u.a.VerticalOscillation, O.a),
                    this.verticalRatioChartView = this.addSeries(u.a.VerticalRatio, R.a),
                    this.verticalOscillationChartView && this.verticalRatioChartView) {
                        var e = this.getSelectedVerticalChart();
                        this.chartSwitchers.push(new ge.a({
                            shouldChartRender: this.shouldChartRender.bind(this),
                            chartViews: [this.verticalOscillationChartView, this.verticalRatioChartView],
                            activeChart: e,
                            persistSelectedModel: this.verticalOscRatioLastSelectedChart
                        }))
                    }
                },
                setupGroundContactCharts: function() {
                    if (this.groundContactTimeChartView = this.addSeries(u.a.GroundContactTime, V.a),
                    this.groundContactTimeBalanceChartView = this.addSeries(u.a.GroundContactTimeBalance, j.a),
                    this.groundContactTimeChartView && this.groundContactTimeBalanceChartView) {
                        var e = this.getSelectedGroundContactChart();
                        this.chartSwitchers.push(new ge.a({
                            shouldChartRender: this.shouldChartRender.bind(this),
                            chartViews: [this.groundContactTimeChartView, this.groundContactTimeBalanceChartView],
                            activeChart: e,
                            persistSelectedModel: this.groundContactLastSelectedChart
                        }))
                    }
                },
                setupConnectIQCharts: function(e) {
                    var t, i, a, n, r = this.activityDetails.getConnectIQMeasurements();
                    if (r && (t = e.getVisibleAndSortedCollection(r, e.VisibilityArea.charts)),
                    t)
                        for (var s in t)
                            if (t[s]) {
                                n = t[s];
                                for (var l = 0, h = n.data.length; l < h; l += 1)
                                    if (n.data[l] && (i = o.a.find(n.fitContributionsJSON.datafields, function(e) {
                                        return e.id === n.data[l].developerFieldNumber
                                    }))) {
                                        a = this.getConnectIQSerie(n, i, l);
                                        var p = this.addSeries(a, A.a.extend({
                                            model: n,
                                            presentationData: i,
                                            primarySeriesType: a,
                                            fillColor: i["fill-color"],
                                            customHelpTemplate: e.getHelpTooltipTemplate(n),
                                            chartTitle: function() {
                                                return c.a.localize(this.model.getLocalizerString(this.presentationData["chart-title-key"]))
                                            }
                                        }));
                                        p && (this.$("#charts-container").append(p.el),
                                        p.render(),
                                        Ae.a.renderTooltips.call(p))
                                    }
                            }
                },
                getConnectIQSerie: function(e, t, i) {
                    var a = e.data[i].key
                      , n = g.a.extend({
                        name: a,
                        mainChartFilter: g.a.prototype.filterNulls,
                        defaultChartType: "line",
                        model: e,
                        presentationData: t,
                        seriesKey: a,
                        label: e.getLocalizerString(t["chart-title-key"]),
                        unit_key: e.getLocalizerString(t["unit-label-key"]),
                        formattingFunction: function(e) {
                            return this.presentationData && "number" === typeof this.presentationData.precision ? h.a.formatValueByPrecision(e, this.presentationData.precision) : e
                        },
                        chartColor: function() {
                            return this.presentationData["fill-color"]
                        }
                    });
                    return u.a[a] = n,
                    n
                },
                onAxisTypeChanged: function(e) {
                    this.xAxisType = e,
                    this.setOverlayCompareData(),
                    this.updatePlayerMinMax(),
                    o.a.each(this.charts, function(t) {
                        t.minX = null,
                        t.maxX = null,
                        t.setXAxisType(e),
                        t.shouldBeVisible() ? t.visible ? this.isInChartSwitcher(t) || this.shouldChartRender(t) && t.render() : this.shouldChartRender(t) && (t.render(),
                        t.show()) : t.hide()
                    }, this),
                    o.a.each(this.chartSwitchers, function(e) {
                        e.visible && e.show()
                    }),
                    e === A.a.XAxisTypes.SwimDistance && this.pushChangeXAxisToOverDistanceAnalyticsEvents(),
                    this.hideResetZoom(),
                    this.trigger(Ee.AxisTypeChanged, this.xAxisType)
                },
                pushChangeXAxisToOverDistanceAnalyticsEvents: function() {
                    be.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Change X-Axis To Over Distance"
                    })
                },
                onChartZoomed: function(e, t, i) {
                    o.a.each(this.charts, function(a) {
                        a != e && a.setExtremes(t, i)
                    }, this),
                    this.showResetZoom()
                },
                onChartGainedFocus: function(e) {
                    o.a.each(this.charts, function(t) {
                        t.clearXAxisPlotLineLabel(),
                        e === t ? (t.showXAxisPlotLineLabel = !0,
                        e.renderXAxisPlotLineLabel()) : t.showXAxisPlotLineLabel = !1
                    }, this)
                },
                onResetZoomClicked: function(e) {
                    e.preventDefault(),
                    o.a.each(this.charts, function(e) {
                        e.setChartRangeSelector(null, null, null, -1)
                    }, this),
                    this.resetZoom()
                },
                isTemperatureSeriesInGritOrFlow: function(e, t) {
                    return (e.primarySeries[0].name === u.a.Grit.prototype.name || e.primarySeries[0].name === u.a.Flow.prototype.name) && t.name === u.a.Temperature.prototype.name
                },
                onExpandedChartClicked: function(e) {
                    var t = this.getExpandedChartView(e)
                      , i = []
                      , a = this.getAvailableSeries();
                    o.a.each(a, function(t) {
                        var a = [];
                        (this.usersWeight || t[0].name !== u.a.PowerKg.prototype.name) && (o.a.each(t, function(t) {
                            this.isTemperatureSeriesInGritOrFlow(e, t) || a.push(t)
                        }, this),
                        a.length && i.push(a))
                    }, this);
                    var n = o.a.find(i, function(t) {
                        if (t.length !== e.primarySeries.length)
                            return !1;
                        for (var i = 0; i < t.length; i++)
                            if (t[i].name !== e.primarySeries[i].name)
                                return !1;
                        return !0
                    })
                      , r = new t({
                        model: this.activityDetails,
                        activitySummary: this.model,
                        backgroundSeries: n,
                        xAxisType: e.xAxisType,
                        speedType: this.speedType,
                        series: i,
                        zeroThreshold: e.zeroThreshold,
                        hideAxisTypes: this.isDiving(),
                        hasPaceProSplits: this.hasPaceProSplits
                    })
                      , s = new d.a({
                        view: r,
                        customClasses: "chart-zoom fullscreen expanded-chart",
                        showFooter: !1,
                        modalTitle: c.a.localize("chart_expanded_chart_title"),
                        onCloseButtonClicked: r.resetAxisType.bind(r)
                    });
                    s.render(),
                    s.$el.appendTo(this.$el)
                },
                getExpandedChartView: function(e) {
                    return this.model.isLapSwimming() ? f.a : "Position" === e.primarySeries[0].name ? y.a : e.primarySeries[0].isGradient ? v.a : this.isBreathworkActivity() || this.isYogaActivity() || this.isEsportActivity() ? b.a : m.a
                },
                onPowerRangeSelected: function(e) {
                    this.trigger(Ee.PowerRangeChanged, e, !1)
                },
                onChartSelectorToggle: function(e) {
                    e === p.h.PACE_CHART_SELECTOR_TYPES.LAP_AVG ? (this.paceChartView.hide(),
                    this.lapAveragePaceChartView.render(),
                    this.lapAveragePaceChartView.show()) : (this.paceChartView.render(),
                    this.paceChartView.show(),
                    this.lapAveragePaceChartView.hide()),
                    this.charts.forEach(function(t) {
                        t && "function" === typeof t.setActiveChartSelector && t.setActiveChartSelector(e)
                    })
                },
                onChartRangeChanged: function(e, t, i, a) {
                    var n = null
                      , r = null;
                    "sumDistance" === this.xAxisType && (n = h.a.convertDistance(e),
                    r = h.a.convertDistance(t)),
                    o.a.each(this.charts, function(o) {
                        o.setChartRangeSelector(e, t, i, a),
                        -1 === a ? (o.resetZoom(),
                        this.hideResetZoom()) : n && r ? o.setExtremes(n, r, !0) : o.setExtremes(e, t, !0)
                    }, this)
                },
                resetZoom: function() {
                    o.a.each(this.charts, function(e) {
                        e.resetZoom()
                    });
                    this.trigger(Ee.ResetZoom, -1),
                    this.hideResetZoom()
                },
                hideResetZoom: function() {
                    this.$("#btnResetZoom").css("visibility", "hidden")
                },
                showResetZoom: function() {
                    this.$("#btnResetZoom").css("visibility", "visible")
                },
                setSpeedType: function(e, t) {
                    var i = e;
                    if (this.speedType = e,
                    this.speedChartView || this.paceChartView)
                        switch ("Speed" === t && e === h.a.SpeedTypes.Flying && (i = h.a.SpeedTypes.Speed),
                        i) {
                        case h.a.SpeedTypes.RowingSpeed:
                        case h.a.SpeedTypes.Speed:
                            this.speedChartView = this.addSeries(u.a.Speed, E.a),
                            this.replaceChart(this.paceChartView, this.speedChartView);
                            break;
                        case h.a.SpeedTypes.RowingPace:
                        case h.a.SpeedTypes.Pace:
                            this.paceChartView = this.addSeries(u.a.Pace, k.a),
                            this.replaceChart(this.speedChartView, this.paceChartView);
                            break;
                        case h.a.SpeedTypes.SwimSpeed:
                            this.isLapSwimming() ? this.speedChartView = this.addSeries(u.a.SwimSpeed, H.a) : this.speedChartView = this.addSeries(u.a.OpenWaterSwimSpeed, F.a),
                            this.replaceChart(this.paceChartView, this.speedChartView);
                            break;
                        case h.a.SpeedTypes.SwimPace:
                            this.isLapSwimming() ? this.paceChartView = this.addSeries(u.a.SwimPace, K.a) : this.paceChartView = this.addSeries(u.a.OpenWaterSwimPace, G.a),
                            this.replaceChart(this.speedChartView, this.paceChartView)
                        }
                },
                replaceChart: function(e, t) {
                    e.visible || t.hide(),
                    t.$el.insertAfter(e.el),
                    t.render(),
                    this.charts = o.a.reject(this.charts, function(t) {
                        return t === e
                    }),
                    e.off(),
                    e.stopListening(),
                    e.remove(),
                    e = null
                },
                getSelectedGroundContactChart: function() {
                    var e = this.groundContactTimeBalanceChartView;
                    if (!this.groundContactLastSelectedChart)
                        return e;
                    switch (this.groundContactLastSelectedChart.get("value")) {
                    case u.a.GroundContactTime.prototype.name:
                        return this.groundContactTimeChartView;
                    default:
                        return e
                    }
                },
                getSelectedVerticalChart: function() {
                    var e = this.verticalRatioChartView;
                    if (!this.verticalOscRatioLastSelectedChart)
                        return e;
                    switch (this.verticalOscRatioLastSelectedChart.get("value")) {
                    case u.a.VerticalOscillation.prototype.name:
                        return this.verticalOscillationChartView;
                    default:
                        return e
                    }
                },
                getSelectedPowerChart: function() {
                    var e = this.powerChartView;
                    if (!this.powerChartLastSelectedChart || !this.usersWeight)
                        return e;
                    switch (this.powerChartLastSelectedChart.get("value")) {
                    case u.a.PowerKg.prototype.name:
                        return this.powerChartKgView;
                    default:
                        return e
                    }
                },
                setProperPowerChartIfNoWeight: function(e) {
                    !this.usersWeight && this.isOwner && this.hasPowerData && (e || this.getSelectedPowerChart()) === this.powerChartKgView && (this.powerChartLastSelectedChart && this.powerChartLastSelectedChart instanceof l.a.Model && (this.powerChartLastSelectedChart.set({
                        value: u.a.PowerWatts.prototype.name
                    }),
                    this.powerChartLastSelectedChart.save(),
                    this.powerChartSwitcher.setActiveChart(this.powerChartView)),
                    e && this.triggerWeightEntryPopup(this.powerChartSwitcher, this.powerChartKgView))
                },
                setAndApplyWeight: function(e, t, i) {
                    this.usersWeight && this.usersWeight === e || (this.usersWeight = e,
                    t = t || this.powerChartKgView,
                    o.a.each(t.primarySeries, function(t) {
                        o.a.has(t, "usersWeight") && t.usersWeight !== e && (t.usersWeight = e)
                    }),
                    i && (i.setActiveChart(t),
                    i.persistSelectedChart(t)))
                },
                triggerWeightEntryPopup: function(e, t) {
                    var i = this;
                    this.trigger(Ee.DisplayWeightEntryPopup, {
                        context: this,
                        successCallback: function(a) {
                            i.setAndApplyWeight(a, t, e),
                            i.trigger(Ee.WeightChangedFromChart, a)
                        }
                    }, this)
                },
                reflowCharts: function() {
                    for (var e, t = 0, i = this.charts.length; t < i; t += 1)
                        (e = this.charts[t]) && e.shouldBeVisible() && e.highChartObj && e.highChartObj.reflow()
                },
                canDisplayElevationChart: function() {
                    return !this.isFloorClimbing() && !this.isDiving() && !this.isBackcountrySki() && !this.isBreathworkActivity() && !this.isEsportActivity() && !this.isIndoorClimbingActivity()
                },
                canDisplayAscentDescentChart: function() {
                    return this.isBackcountrySki()
                },
                canDisplayAscentChart: function() {
                    return this.isFloorClimbing()
                },
                canShowClimbAscentChart: function() {
                    return this.isIndoorClimbingActivity()
                },
                canDisplayDistanceTimeToggleView: function() {
                    return !this.isDiving()
                },
                shouldRenderPaceChartSwitcher: function() {
                    var e = this.activityTypes.getParentType(this.model.getActivityTypeKey());
                    return !!e && "running" === e.get("typeKey")
                },
                formatJumpData: function(e) {
                    var t = this;
                    return e.each(function(e) {
                        var i = Ce.a.findClosest(t.activityDetails.get("directTimestamp"), e.get("timestamp"));
                        e.set("durationIntoActivity", t.activityDetails.get("sumDuration")[i]),
                        e.set("distanceIntoActivity", h.a.convertDistance(t.activityDetails.get("sumDistance")[i], t.model.getActivityTypeKey())),
                        t.activityDetails.get("directGrit") && e.set("directGrit", t.activityDetails.get("directGrit")[i]),
                        t.activityDetails.get("directFlow") && e.set("directFlow", t.activityDetails.get("directFlow")[i])
                    }),
                    e
                },
                isBreathworkActivity: function() {
                    return p.h.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey)
                },
                isEsportActivity: function() {
                    return p.h.isEsportActivity(this.model.get("activityTypeDTO").typeKey)
                },
                isYogaActivity: function() {
                    return p.h.isYogaActivity(this.model.get("activityTypeDTO").typeKey)
                },
                isIndoorClimbingActivity: function() {
                    return p.h.isIndoorClimbingActivity(this.model.get("activityTypeDTO").typeKey)
                },
                onTimeToggle: function() {
                    this.$timeToggleEl.css("background-color", Te.blue_primary),
                    this.$timeToggleEl.css("color", Te.textLight),
                    this.$distanceToggleEl.css("background-color", "transparent"),
                    this.$distanceToggleEl.css("color", Te.color_100),
                    this.$lengthRestsToggleEl.css("background-color", Te.textLight),
                    this.$lengthRestsToggleEl.css("color", Te.color_100),
                    this.isLapSwimming() ? this.onAxisTypeChanged(A.a.XAxisTypes.SwimDuration) : this.onAxisTypeChanged(A.a.XAxisTypes.Duration)
                },
                onDistanceToggle: function() {
                    this.$timeToggleEl.css("background-color", Te.textLight),
                    this.$timeToggleEl.css("color", Te.color_100),
                    this.$distanceToggleEl.css("background-color", Te.blue_primary),
                    this.$distanceToggleEl.css("color", Te.textLight),
                    this.$lengthRestsToggleEl.css("background-color", Te.textLight),
                    this.$lengthRestsToggleEl.css("color", Te.color_100),
                    this.isLapSwimming() ? this.onAxisTypeChanged(A.a.XAxisTypes.SwimDistance) : this.onAxisTypeChanged(A.a.XAxisTypes.Distance)
                },
                onLengthRestsToggle: function() {
                    this.$lengthRestsToggleEl.css("background-color", Te.blue_primary),
                    this.$lengthRestsToggleEl.css("color", Te.textLight),
                    this.$timeToggleEl.css("background-color", Te.textLight),
                    this.$timeToggleEl.css("color", Te.color_100),
                    this.$distanceToggleEl.css("background-color", Te.textLight),
                    this.$distanceToggleEl.css("color", Te.color_100),
                    this.$distanceToggleEl.css("border-left", "1px solid #CCC"),
                    this.onAxisTypeChanged(A.a.XAxisTypes.SwimLengths)
                },
                onReorderWidgetsClicked: function(e) {
                    e.preventDefault(),
                    this.toggleReorderButtons()
                },
                onCustomizeCharts: function(e) {
                    e.preventDefault(),
                    this.$(".activity-charts-container .customize-charts-wrapper .dropdown").toggleClass("open")
                },
                onToggleCheckbox: function(e) {
                    e.preventDefault();
                    var t = this.$(e.currentTarget).val()
                      , i = this.$(e.currentTarget)[0].checked;
                    this.toggleCharts(t, i)
                },
                onSetOrderClicked: function(e) {
                    e.preventDefault();
                    var t = []
                      , i = this;
                    this.newSortOrder.forEach(function(e) {
                        i.charts.forEach(function(i) {
                            i.primarySeries[0].seriesKey === e && t.push(i)
                        }),
                        "directLeftPowerPhaseStart" === e ? t.push(i.findChartSeries("directLeftPowerPhasePeakStart")) : "directLeftPowerPhaseEnd" === e ? t.push(i.findChartSeries("directLeftPowerPhasePeakEnd")) : "directVerticalOscillation" === e ? t.push(i.findChartSeries("directVerticalRatio")) : "directGroundContactTime" === e && t.push(i.findChartSeries("directGroundContactBalanceLeft"))
                    }),
                    this.pushChartReorderToAnalytics(),
                    this.toggleReorderButtons(),
                    this.redrawCharts(t),
                    this.saveChartOrder()
                },
                findChartSeries: function(e) {
                    return this.charts.find(function(t) {
                        return t.primarySeries[0].seriesKey === e
                    })
                },
                toggleReorderButtons: function() {
                    var e = this.$(".sortable-checkbox");
                    this.$(".sortable-checkboxes").toggleClass("sort-mode"),
                    e.prop("disabled") ? e.prop("disabled", !1).show() : e.prop("disabled", !0).hide(),
                    this.$(".reorder-widgets").toggle(),
                    this.$(".reOrderCheckbox .drag-handle").toggle(),
                    this.$(".customize-charts-controls .reorder-widgets-set").toggle(),
                    this.$(".customize-charts-controls .reorder-widgets-set").prop("disabled", !0),
                    this.$(".reorder-widgets-cancel").toggle()
                },
                redrawCharts: function(e) {
                    this.$("#charts-container").children().detach(),
                    this.drawCharts(e)
                },
                saveChartOrder: function() {
                    var e = this
                      , t = this.activityChartsOrder.toJSON();
                    this.chartsOrderUserPrefJSON && this.chartsOrderUserPrefJSON[this.chartActivityType] && (t = this.chartsOrderUserPrefJSON);
                    var i, n = Object(a.a)({}, t), r = [], o = this;
                    t[this.chartActivityType].forEach(function(e) {
                        var t, i = o.newSortOrder.findIndex(function(t) {
                            return t === e.key
                        });
                        -1 !== i ? r.push({
                            index: i,
                            key: e.key
                        }) : (t = "directLeftPowerPhasePeakStart" === e.key ? o.findSwitcherChart(r, "directLeftPowerPhaseStart").index : "directLeftPowerPhasePeakEnd" === e.key ? o.findSwitcherChart(r, "directLeftPowerPhaseEnd").index : "directVerticalRatio" === e.key ? o.findSwitcherChart(r, "directVerticalOscillation").index : "directGroundContactBalanceLeft" === e.key ? o.findSwitcherChart(r, "directGroundContactTime").index : e.index,
                        r.push({
                            index: t,
                            key: e.key
                        }))
                    }),
                    this.newSortOrder.forEach(function(i, a) {
                        t[e.chartActivityType].some(function(e) {
                            return i === e.key
                        }) || r.push({
                            index: a,
                            key: i
                        })
                    }),
                    n[this.chartActivityType] = r.sort(function(e, t) {
                        return e.index - t.index
                    }),
                    i = Object(a.a)({}, t, n),
                    this.chartsOrderUserPref.save({
                        value: JSON.stringify(i)
                    })
                },
                findSwitcherChart: function(e, t) {
                    return e.find(function(e) {
                        return e.key === t
                    })
                },
                onCancelReorderClicked: function() {
                    this.toggleReorderButtons()
                }
            });
            Le.Events = Ee,
            t.a = Le
        }
        ).call(this, i(9))
    },
    4480: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(11)
          , r = i(1686);
        t.a = r.a.extend({
            step: !0,
            measurementSystem: function() {
                var e = this.activitySummary.get("unitOfPoolLength").unitKey;
                return n.a.poolUnitKeyToMeasurementSystem(e)
            },
            defaultXAxisType: function() {
                return r.a.XAxisTypes.SwimDuration
            },
            xAxisLabelFormatter: function(e) {
                return e.xAxisType === r.a.XAxisTypes.SwimLengths ? this.value : e.xAxisType === r.a.XAxisTypes.SwimDistance ? n.a.personalizeDistance(this.value, e.activitySummary.getActivityTypeKey(), e.activitySummary.get("unitOfPoolLength")) : n.a.personalizeDuration(this.value)
            },
            getXAxisTypes: function() {
                return [{
                    name: r.a.XAxisTypes.SwimDuration,
                    label: a.a.localize("over_time")
                }, {
                    name: r.a.XAxisTypes.SwimLengths,
                    label: a.a.localize("over_lengths")
                }, {
                    name: r.a.XAxisTypes.SwimDistance,
                    label: a.a.localize("over_distance")
                }]
            }
        })
    },
    4481: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = (i(0),
        i(7))
          , o = i(11)
          , s = i(1686)
          , l = i(1349)
          , c = i(1296)
          , h = i(2650);
        t.a = s.a.extend({
            getSeriesYAxisOptions: function(e, t) {
                return {
                    categories: [r.a.localize("label_sitting"), r.a.localize("label_standing")],
                    title: {
                        text: null
                    }
                }
            },
            addBackgroundSeries: function() {
                this.highChartObj.addAxis(this.getSeriesYAxisOptions(this.backgroundSeries, 0), !1, !1, !1);
                for (var e = this.getSeries(), t = 0, i = e.length; t < i; t += 1)
                    e[t] && this.highChartObj.addSeries(e[t], !1)
            },
            getSeries: function() {
                var e = this.backgroundSeries[0];
                return [{
                    name: "Standing",
                    type: "line",
                    data: h.a.getData(e, 1),
                    color: this.getSeriesColor() || c.a.Colors.hatorade,
                    linecap: "square",
                    lineWidth: 15,
                    states: {
                        hover: !1
                    },
                    turboThreshold: 4e3,
                    threshold: 9999
                }, {
                    name: "Seated",
                    type: "line",
                    data: h.a.getData(e, 0),
                    color: this.getSeriesColor() || c.a.Colors.blue,
                    linecap: "square",
                    lineWidth: 15,
                    states: {
                        hover: !1
                    },
                    turboThreshold: 4e3,
                    threshold: 9999
                }]
            },
            getSeriesColor: function() {
                return this.getSeriesCount() > 1 ? c.a.Colors.expandGrey : null
            },
            tooltipFormatter: function(e) {
                var t = []
                  , i = this.point || this.points[0];
                if (i) {
                    var a = i.x;
                    e.backgroundSeries && n.a.each(e.backgroundSeries, function(n) {
                        var r = n.getClosestPoint(a);
                        null !== r[0] && (t.push(n.formatToolTipRow(n, null, r[1], e.yUnit(n), null, null, null, i)),
                        t.push("<br/>"))
                    }, this),
                    e.primarySeries && n.a.each(e.primarySeries, function(i) {
                        var n = i.getClosestPoint(a);
                        null !== n.x && (t.push(i.formatToolTipRow(i, null, n.y, e.yUnit(i))),
                        t.push("<br/>"))
                    }),
                    e.secondarySeries && n.a.each(e.secondarySeries, function(i) {
                        var n = i.getClosestPoint(a);
                        null !== n.x && (t.push(i.formatToolTipRow(i, null, n.y, e.yUnit(i))),
                        t.push("<br/>"))
                    }),
                    e.xAxisType === l.a.Distance ? t.push(o.a.formatDistance(i.x, e.activitySummary.getActivityTypeKey()) + " " + r.a.localize(o.a.getDistanceUnitKey(e.activitySummary.getActivityTypeKey()))) : e.xAxisType === l.a.Duration ? t.push(o.a.personalizeDuration(i.x) + " " + r.a.localize(o.a.getDurationUnitKey())) : e.xAxisType === s.a.XAxisTypes.SwimLengths ? t.push(r.a.localize("swim_length_num", Math.floor(i.x) + 1)) : e.xAxisType === s.a.XAxisTypes.SwimDistance ? t.push(o.a.personalizeDistance(i.x, e.activitySummary.getActivityTypeKey(), e.activitySummary.get("unitOfPoolLength")) + " " + r.a.localize(o.a.getDistanceUnitKey(e.activitySummary.getActivityTypeKey(), null, e.activitySummary.get("unitOfPoolLength")))) : t.push(o.a.personalizeDuration(i.x) + " " + r.a.localize(o.a.getDurationUnitKey()))
                }
                return t.join("")
            }
        })
    },
    4482: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(1686)
              , n = i(2357);
            t.a = a.a.extend({
                createChartSeries: function(t, i) {
                    var r = a.a.prototype.createChartSeries.call(this, t, i);
                    return r && 0 === i ? e.extend({}, r, {
                        cropThreshold: 4e3,
                        marker: {
                            enabled: !1,
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        },
                        color: {
                            linearGradient: {
                                x1: 0,
                                y1: 1,
                                x2: 0,
                                y2: 0
                            },
                            stops: n.a.buildStops(this.getSingleSeriesMax(t), t.gradientRangeMaxes),
                            fillOpacity: r.fillOpacity
                        }
                    }) : r
                }
            })
        }
        ).call(this, i(9))
    },
    4483: function(e, t, i) {
        "use strict";
        var a = i(1686)
          , n = i(11)
          , r = i(1337)
          , o = i(21);
        t.a = a.a.extend({
            createChartSeries: function() {
                var e = a.a.prototype.createChartSeries.apply(this, arguments);
                return e.data.forEach(function(e) {
                    +n.a.personalizeStress(e.y) <= r.b && (e.color = o.color_218)
                }),
                e
            }
        })
    },
    4484: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(1351)
          , o = i(4485)
          , s = i.n(o);
        r.a.extend({
            scrollable: !1,
            template: n.a.template(s.a),
            initialize: function(e) {
                e.scrollable = !1,
                r.a.prototype.initialize.call(this, e)
            }
        })
    },
    4485: function(e, t) {
        e.exports = '<div class="dropdown">\n    <button class="dropdown-toggle chart-header-item" data-toggle="dropdown">\n        <%- selectedItem.name %>\n        <i class="icon-pointer-down"></i>\n    </button>\n    <ul class="dropdown-menu pull-left" role="menu" aria-label="<%- Localizer.localize(\'select.one\') %>">\n        <% for (var i = 0; i < items.length; i++) { %>\n        <% var item = items[i]; %>\n        <li data-value="<%- item.value %>" role="none">\n            <a href="#" role="menuitem"><%- item.name %></a>\n        </li>\n        <% } %>\n    </ul>\n</div>'
    },
    4486: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(11)
          , s = i(1322)
          , l = i(1296)
          , c = i(1313)
          , h = s.a.extend({
            fillColor: l.a.mapSeriesType(c.a.ClimbAscent),
            primarySeriesType: c.a.ClimbAscent,
            formattingFunction: n.a.bind(o.a.formatElevation, o.a),
            chartTitle: function() {
                return r.a.localize("label_climb_ascent")
            }
        });
        t.a = h
    },
    4487: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(11)
          , r = i(2e3)
          , o = i(1901)
          , s = r.a.extend({
            getChartTitles: function() {
                if (this.overlayData && this.overlayData.type === o.a.typedSplits) {
                    var e = this.activitySummary.get("activityTypeDTO").typeKey;
                    return [{
                        chartTitle: a.a.localize(n.a.getElevGainLabelKey(e)),
                        seriesColor: this.overlayData.getColor()
                    }, {
                        chartTitle: a.a.localize(n.a.getElevLossLabelKey(e)),
                        seriesColor: this.overlayData.getHighlightColor()
                    }]
                }
                return r.a.prototype.getChartTitles.apply(this)
            },
            typedSplitsSupported: function() {
                return !0
            }
        });
        t.a = s
    },
    4488: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(11)
          , s = i(1322)
          , l = i(1296)
          , c = i(1313)
          , h = s.a.extend({
            fillColor: l.a.mapSeriesType(c.a.DiveDepth),
            primarySeriesType: c.a.DiveDepth,
            formattingFunction: n.a.bind(o.a.formatMetersFt, o.a),
            chartTitle: function() {
                return r.a.localize("label_depth_profile")
            },
            createHighChartsSeriesObjects: function() {
                var e = [];
                return n.a.each(this.primarySeries, function(t) {
                    var i = t.generateData(void 0, !0, this.overlayData);
                    e.push(this.createSeries(t, i)),
                    e.length > 2 && (e[2].type = "scatter")
                }, this),
                e
            },
            fillOpacity: .5,
            styleTooltip: function() {
                return {
                    color: "#222",
                    padding: "3px",
                    opacity: 1,
                    zIndex: 5,
                    textAlign: "center",
                    lineHeight: "14px"
                }
            }
        });
        t.a = h
    },
    4489: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313)
          , s = n.a.extend({
            fillColor: r.a.mapSeriesType(o.a.TankPressure),
            primarySeriesType: o.a.TankPressure,
            seriesType: "line",
            lineWidth: 2,
            chartTitle: function(e) {
                return e ? this.primarySeries[0].props.tankSensor.name : a.a.localize("label_tank_pressure")
            },
            shouldBeVisible: function() {
                return !1
            }
        });
        t.a = s
    },
    4490: function(e, t, i) {
        "use strict";
        i(8);
        var a = i(7)
          , n = (i(11),
        i(1313))
          , r = i(1296)
          , o = i(1322);
        t.a = o.a.extend({
            fillColor: r.a.mapSeriesType(n.a.FloorClimbingPace),
            primarySeriesType: n.a.FloorClimbingPace,
            chartTitle: function() {
                return a.a.localize("label_pace")
            }
        })
    },
    4491: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313)
          , s = i(11);
        t.a = n.a.extend({
            primarySeriesType: o.a.BikeCadence,
            fillColor: r.a.mapSeriesType(o.a.BikeCadence),
            chartTitle: function() {
                var e = this.activitySummary.get("activityTypeDTO").typeKey;
                return s.a.getBikeCadenceChartKey(e, a.a)
            }
        })
    },
    4492: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313);
        t.a = n.a.extend({
            primarySeriesType: o.a.RunCadence,
            fillColor: r.a.mapSeriesType(o.a.RunCadence),
            seriesType: "scatter",
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_run_cadence")
            }
        })
    },
    4493: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313);
        t.a = n.a.extend({
            primarySeriesType: o.a.Temperature,
            fillColor: r.a.mapSeriesType(o.a.Temperature),
            chartTitle: function() {
                return a.a.localize("label_temperature")
            },
            yLabel: function() {
                return a.a.localize("label_temperature")
            }
        })
    },
    4494: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313);
        t.a = n.a.extend({
            chartRangeSelectorType: o.a.PowerKg.chartRangeSelectorType,
            primarySeriesType: o.a.PowerKg,
            fillColor: r.a.mapSeriesType(o.a.PowerKg),
            chartTitle: function() {
                return a.a.localize("label_full_power", a.a.localize("label_power_kg"))
            },
            yLabel: function() {
                return a.a.localize("label_power_kg")
            }
        })
    },
    4495: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(11)
          , r = i(1322)
          , o = i(1296)
          , s = i(1313);
        t.a = r.a.extend({
            primarySeriesType: s.a.LeftRightPowerBalance,
            seriesType: "scatter",
            fillColor: o.a.mapSeriesType(s.a.LeftRightPowerBalance),
            lineWidth: void 0,
            min: 0,
            max: 100,
            conversionFunction: function(e) {
                return 100 - e
            },
            chartTitle: function() {
                return a.a.localize("label_left_right_balance")
            },
            yUnit: function() {
                return ""
            },
            yLabel: function() {
                return ""
            },
            formatAvgPlotLineLabel: function() {
                var e = n.a.formatDecimalNumber(this.avgValue, 1);
                return this.primarySeries[0].yAxisFormattingFunction(e)
            }
        })
    },
    4496: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1296)
          , r = i(1322)
          , o = i(1313);
        t.a = r.a.extend({
            primarySeriesType: o.a.VerticalOscillation,
            seriesType: "scatter",
            fillColor: n.a.mapSeriesType(o.a.VerticalOscillation),
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_vert_oscillation")
            }
        })
    },
    4497: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1296)
          , r = i(1322)
          , o = i(1313);
        t.a = r.a.extend({
            primarySeriesType: o.a.VerticalRatio,
            seriesType: "scatter",
            fillColor: n.a.mapSeriesType(o.a.VerticalRatio),
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_vert_ratio")
            }
        })
    },
    4498: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313);
        t.a = n.a.extend({
            primarySeriesType: o.a.Gforce,
            fillColor: r.a.mapSeriesType(o.a.Gforce),
            chartTitle: function() {
                return a.a.localize("label_g_force")
            },
            yLabel: function() {
                return a.a.localize("label_g_force")
            }
        })
    },
    4499: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1296)
          , r = i(1322)
          , o = i(1313);
        t.a = r.a.extend({
            primarySeriesType: o.a.GroundContactTime,
            seriesType: "scatter",
            fillColor: n.a.mapSeriesType(o.a.GroundContactTime),
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_ground_contact_time")
            }
        })
    },
    4500: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(11)
          , r = i(1322)
          , o = i(1296)
          , s = i(1313);
        t.a = r.a.extend({
            primarySeriesType: s.a.GroundContactTimeBalance,
            seriesType: "scatter",
            fillColor: o.a.mapSeriesType(s.a.GroundContactTimeBalance),
            lineWidth: void 0,
            conversionFunction: function(e) {
                return e
            },
            chartTitle: function() {
                return a.a.localize("label_ground_contact_time_balance")
            },
            yUnit: function() {
                return ""
            },
            yLabel: function() {
                return ""
            },
            formatAvgPlotLineLabel: function(e) {
                var t = n.a.getGroundContactBalance(e.getAvgValue());
                return a.a.localize("chart_plotline_label", a.a.localize(n.a.getPowerBalanceUnitKey(), t.left, t.right), "")
            }
        })
    },
    4501: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313);
        t.a = n.a.extend({
            primarySeriesType: o.a.OpenWaterSwimStrokes,
            fillColor: r.a.mapSeriesType(o.a.OpenWaterSwimStrokes),
            chartTitle: function() {
                return a.a.localize("label_strokes")
            }
        })
    },
    4502: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(11)
          , r = i(2001)
          , o = i(1296)
          , s = i(1313);
        t.a = r.a.extend({
            seriesType: "area",
            primarySeriesType: s.a.SwimSpeed,
            fillColor: o.a.mapSeriesType(s.a.SwimSpeed),
            lineWidth: 1,
            yUnit: function() {
                return a.a.localize(n.a.getSwimSpeedUnitKey(this.measurementSystem()))
            },
            chartTitle: function() {
                var e = this.activitySummary.get("activityTypeDTO").typeKey
                  , t = n.a.getSpeedTypeFromActivityType(e);
                return a.a.localize(t === n.a.SpeedTypes.Flying ? n.a.getSpeedTypeLabelKey(e) : "label_speed")
            }
        })
    },
    4503: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(11)
          , r = i(2001)
          , o = i(1296)
          , s = i(1313);
        t.a = r.a.extend({
            seriesType: "area",
            primarySeriesType: s.a.SwimPace,
            fillColor: o.a.mapSeriesType(s.a.SwimPace),
            reversed: !0,
            lineWidth: 1,
            yUnit: function() {
                return a.a.localize(n.a.getSwimPaceUnitKey(this.measurementSystem()))
            },
            formatAvgPlotLineLabel: function(e) {
                var t = e.activitySummary.get("unitOfPoolLength").unitKey
                  , i = n.a.poolUnitKeyToMeasurementSystem(t)
                  , r = e.getAvgValue(i);
                return a.a.localize("chart_plotline_label", n.a.formatPace(r), this.yUnit(e))
            },
            min: function() {
                return this.primarySeries[0].calculateMin(!0)
            },
            max: function() {
                return this.primarySeries[0].calculateMax(60) + 1
            },
            chartTitle: function() {
                return a.a.localize("label_swim_pace")
            }
        })
    },
    4504: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i(11)
              , r = i(2001)
              , o = i(1296)
              , s = i(1313);
            t.a = r.a.extend({
                seriesType: "area",
                primarySeriesType: s.a.SwimStrokes,
                fillColor: o.a.mapSeriesType(s.a.SwimStrokes),
                formattingFunction: e.bind(n.a.personalizeCadence, n.a),
                chartTitle: function() {
                    return a.a.localize("label_strokes")
                },
                min: function() {
                    return this.primarySeries[0].calculateMin(!0) - 1
                },
                max: function() {
                    return this.primarySeries[0].calculateMax() + 1
                }
            })
        }
        ).call(this, i(8))
    },
    4505: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i(11)
              , r = i(2001)
              , o = i(1296)
              , s = i(1313);
            t.a = r.a.extend({
                seriesType: "area",
                primarySeriesType: s.a.SwimSwolf,
                fillColor: o.a.mapSeriesType(s.a.SwimSwolf),
                formattingFunction: e.bind(n.a.personalizeCadence, n.a),
                chartTitle: function() {
                    return a.a.localize("label_swolf")
                },
                min: function() {
                    return this.primarySeries[0].calculateMin(!0) + 1
                },
                max: function() {
                    return this.primarySeries[0].calculateMax() + 1
                }
            })
        }
        ).call(this, i(8))
    },
    4506: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313);
        t.a = n.a.extend({
            primarySeriesType: o.a.StrideLength,
            fillColor: r.a.mapSeriesType(o.a.StrideLength),
            seriesType: "scatter",
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_stride_length")
            }
        })
    },
    4507: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(11)
          , s = i(1313)
          , l = i(1296)
          , c = i(2650)
          , h = i(1349)
          , p = i(1322);
        t.a = p.a.extend({
            primarySeriesType: s.a.Position,
            seriesType: "line",
            fillColor: l.a.mapSeriesType(s.a.Position),
            chartTitle: function() {
                return r.a.localize("label_position")
            },
            createHighChartsYAxisObjects: function() {
                return {
                    categories: [r.a.localize("label_sitting"), r.a.localize("label_standing")],
                    labels: {
                        y: 5,
                        x: 2,
                        align: "left",
                        formatter: function() {
                            return '<span class="y-axis-label">' + this.value + "</span>"
                        },
                        style: {
                            whiteSpace: "nowrap"
                        }
                    },
                    title: {
                        text: null
                    },
                    gridLineWidth: 0
                }
            },
            createHighChartsSeriesObjects: function() {
                var e = this.primarySeries[0];
                return [{
                    name: "Standing",
                    type: this.getChartType(),
                    data: c.a.getData(e, 1),
                    color: l.a.Colors.hatorade,
                    linecap: "square",
                    lineWidth: 15
                }, {
                    name: "Seated",
                    type: this.getChartType(),
                    data: c.a.getData(e, 0),
                    color: l.a.Colors.blue,
                    linecap: "square",
                    lineWidth: 15
                }]
            },
            tooltipFormatter: function(e) {
                var t = this.point || this.points[0];
                if (t) {
                    if (null === t.x)
                        return !1;
                    var i = t.x
                      , a = [];
                    return n.a.each(e.primarySeries, function(n) {
                        var s = n.getClosestPoint(i)
                          , l = ""
                          , c = e.yLabel()
                          , p = ""
                          , d = s[1]
                          , u = ""
                          , g = e.yUnit(n);
                        e.xAxisType === h.a.Distance ? (l = r.a.localize("distance"),
                        u = r.a.localize(o.a.getDistanceUnitKey(null, null)),
                        p = o.a.personalizeDistance(s[0])) : (l = r.a.localize("label_time"),
                        u = r.a.localize(o.a.getDurationUnitKey()),
                        p = o.a.personalizeDuration(s[0])),
                        a.push(n.formatToolTipRow(n, c, d, g, l, p, u, t))
                    }, this),
                    a.join("<br/>")
                }
            }
        })
    },
    4508: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1902);
        t.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_power_phase_start")
            }
        })
    },
    4509: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1902);
        t.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_power_phase_end")
            }
        })
    },
    4510: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1902);
        t.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_peak_power_phase_start")
            }
        })
    },
    4511: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1902);
        t.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_peak_power_phase_end")
            }
        })
    },
    4512: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(11)
          , r = i(1322)
          , o = i(1296)
          , s = i(1313);
        t.a = r.a.extend({
            primarySeriesType: s.a.DistancePerStroke,
            fillColor: o.a.mapSeriesType(s.a.DistancePerStroke),
            seriesType: "scatter",
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_stroke_distance")
            },
            formatAvgPlotLineLabel: function(e) {
                var t = e.getAvgValue()
                  , i = "distance.meter"
                  , r = this.getActivityTypeKey(e);
                return "rowing" !== r && n.a.measurementSystem !== n.a.MeasurementSystems.METRIC && ("stand_up_paddleboarding" !== r && (t = n.a.getAverageStrokeDistance(t)),
                i = "height_unit_ft"),
                a.a.localize("chart_plotline_label", n.a.formatDistancePerStroke(t), a.a.localize(i))
            },
            yAxisLabelFormatter: function(e) {
                return "rowing" !== e.getActivityTypeKey(e) && e.primarySeries[0].yAxisFormattingFunction ? e.primarySeries[0].yAxisFormattingFunction(this.value, e.measurementSystem()) : e.primarySeries[0].formattingFunction(this.value, e.measurementSystem())
            },
            getActivityTypeKey: function(e) {
                var t = e || this;
                return t && t.activitySummary.get("activityTypeDTO") && t.activitySummary.get("activityTypeDTO").typeKey ? t.activitySummary.get("activityTypeDTO").typeKey : ""
            }
        })
    },
    4513: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1322)
          , r = i(1296)
          , o = i(1313);
        t.a = n.a.extend({
            primarySeriesType: o.a.StrokeRate,
            fillColor: r.a.mapSeriesType(o.a.StrokeRate),
            chartTitle: function() {
                return a.a.localize("label_chart_stroke_rate")
            }
        })
    },
    4514: function(e, t, i) {
        "use strict";
        i(0);
        var a = i(7)
          , n = (i(11),
        i(1322))
          , r = i(1296)
          , o = i(1313)
          , s = n.a.extend({
            primarySeriesType: o.a.PerformanceCondition,
            lineWidth: 2,
            zeroThreshold: !0,
            fillColor: r.a.mapSeriesType(o.a.PerformanceCondition),
            chartTitle: function() {
                return a.a.localize("label_performance_condition")
            }
        });
        t.a = s
    },
    4515: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(11)
          , s = i(1313)
          , l = i(1296)
          , c = i(1322);
        t.a = c.a.extend({
            fillColor: l.a.mapSeriesType(s.a.Ascent),
            primarySeriesType: s.a.Ascent,
            formattingFunction: n.a.bind(o.a.formatElevation, o.a),
            chartTitle: function() {
                return r.a.localize("label_ascent")
            }
        })
    },
    4516: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1296)
          , r = i(1322)
          , o = i(1313);
        t.a = r.a.extend({
            primarySeriesTypes: o.a.VectorAirDragCdA,
            fillColor: n.a.mapSeriesType(o.a.VectorAirDragCdA),
            chartTitle: function() {
                return a.a.localize("label_vector_air_drag_cda")
            }
        })
    },
    4517: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1296)
          , r = i(1322)
          , o = i(1313);
        t.a = r.a.extend({
            primarySeriesTypes: o.a.VectorAirDragCdA,
            fillColor: n.a.mapSeriesType(o.a.VectorAirDragCdA),
            chartTitle: function() {
                return a.a.localize("label_vector_air_drag_watts_cda")
            }
        })
    },
    4518: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(11)
          , o = i(7)
          , s = i(1296)
          , l = i(1322)
          , c = i(1313)
          , h = i(1457);
        t.a = l.a.extend({
            primarySeriesType: c.a.VectorAirWindSpeed,
            lineWidth: 2,
            spacingBottom: 40,
            fillColor: s.a.mapSeriesType(c.a.VectorAirWindSpeed),
            initializeView: function() {
                this.windDirectionDegreeUtil = new h.a
            },
            chartTitle: function() {
                return o.a.localize("label_vector_air_wind_speed")
            },
            createHighChartsSeriesObjects: function() {
                var e = this.primarySeries[0];
                return this.createSeries(e, e.generateData(void 0, !0, this.overlayData))
            },
            createSeries: function(e, t, i) {
                var a = this;
                this.backgroundSeries = e.buildSecondSeriesData();
                for (var s = this.backgroundSeries.length, c = this.$el.width(), h = l.a.prototype.createSeries(e, t, i), p = [], d = Math.round(c / 28), u = Math.round(s / d), g = 0; g < s; g += u)
                    this.backgroundSeries[g] && p.push(this.backgroundSeries[g]);
                return [h, {
                    turboThreshold: 4e3,
                    name: "label_vector_air_wind_direction",
                    valueUnit: function(e) {
                        var t = a.windDirectionDegreeUtil.getWindDirectionFromDegree(e);
                        return t && t.directionType ? "&deg;&nbsp;" + o.a.localize(t.directionType) : "&deg;&nbsp;"
                    },
                    valueFormatter: n.a.bind(r.a.formatWholeNumber, r.a),
                    yValueKey: "direction",
                    type: "windbarb",
                    data: p,
                    linkedTo: ":previous",
                    yOffset: 20,
                    getExtremesFromAll: !0,
                    color: "#999999"
                }]
            },
            shareTooltip: function() {
                return !0
            },
            highChartsRenderChartEvent: function() {
                for (var e = this.series[1].data, t = 0, i = e.length; t < i; t += 1)
                    e[t] && e[t].graphic.attr({
                        d: "M4.6,0L2.3,5.3L0,0l2.3,1.3L4.6,0z",
                        fill: e[t].color
                    })
            }
        })
    },
    4519: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(7)
              , r = i(11)
              , o = i(1322)
              , s = i(1313)
              , l = i(1296)
              , c = i(2357)
              , h = i(37)
              , p = i(2651)
              , d = i.n(p);
            t.a = o.a.extend({
                className: "grit-chart",
                lineWidth: 2,
                primarySeriesType: s.a.Grit,
                fillColor: l.a.mapSeriesType(s.a.Grit),
                chartTitle: function() {
                    return n.a.localize("label_grit")
                },
                createHighChartsSeriesObjects: function() {
                    var e = this.primarySeries[0];
                    return this.createSeries(e, e.generateData(void 0, !0, this.overlayData), this.fillOpacity)
                },
                createSeries: function(e, t, i) {
                    return [{
                        type: "spline",
                        turboThreshold: 4e3,
                        cropThreshold: 4e3,
                        data: t,
                        marker: {
                            enabled: !1,
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        },
                        color: {
                            linearGradient: {
                                x1: 0,
                                y1: 1,
                                x2: 0,
                                y2: 0
                            },
                            stops: c.a.buildStops(this.getChartMaxValue(), e.gradientRangeMaxes),
                            fillOpacity: i
                        }
                    }]
                },
                createAnnotations: function() {
                    var t = this
                      , i = h.default.url("/images/feature/mtb/jump.svg")
                      , a = [{
                        labels: []
                    }]
                      , o = this.xAxisType
                      , s = null;
                    return this.jumps && this.jumps.length > 0 && this.jumps.each(function(l, c) {
                        s = e.template(d.a)({
                            Localizer: n.a,
                            Personalizer: r.a,
                            jump: l.toJSON(),
                            label: n.a.localize("label_grit") + ": " + r.a.peronalizeMTBGrit(l.get("directGrit")),
                            activityTypeKey: t.activitySummary.get("activityTypeDTO").typeKey
                        }),
                        l.set("grit-html", s),
                        a[0].labels.push({
                            point: {
                                xAxis: 0,
                                yAxis: 1,
                                x: "sumDuration" === o ? l.get("durationIntoActivity") : l.get("distanceIntoActivity"),
                                y: 260
                            },
                            text: '<span><img class="has-tooltip jump-icon" data-container="body" data-toggle="tooltip" data-placement="top" data-html="true" data-index="' + c + '" title="" src=' + i + ">&nbsp;&nbsp;&nbsp;</img></span>",
                            useHTML: !0,
                            shape: "connector",
                            allowOverlap: !0
                        })
                    }),
                    a
                },
                getMarginBottom: function() {
                    return 16
                },
                highChartsRenderChartEvent: function() {
                    var e = 0
                      , t = this;
                    return this.$(".has-tooltip.jump-icon").each(function() {
                        e = +a(this).attr("data-index"),
                        a(this).tooltip({
                            html: !0,
                            title: t.jumps.at(e).get("grit-html")
                        })
                    }),
                    this
                }
            })
        }
        ).call(this, i(8), i(9))
    },
    4520: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(7)
              , r = i(37)
              , o = i(11)
              , s = i(1322)
              , l = i(1313)
              , c = i(1296)
              , h = i(2357)
              , p = i(2651)
              , d = i.n(p);
            t.a = s.a.extend({
                lineWidth: 2,
                primarySeriesType: l.a.Flow,
                fillColor: c.a.mapSeriesType(l.a.Flow),
                chartTitle: function() {
                    return n.a.localize("label_flow")
                },
                createHighChartsSeriesObjects: function() {
                    var e = this.primarySeries[0];
                    return this.createSeries(e, e.generateData(void 0, !0, this.overlayData), this.fillOpacity)
                },
                createSeries: function(e, t, i) {
                    return [{
                        type: "spline",
                        turboThreshold: 4e3,
                        cropThreshold: 4e3,
                        data: t,
                        marker: {
                            enabled: !1,
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        },
                        color: {
                            linearGradient: {
                                x1: 0,
                                y1: 1,
                                x2: 0,
                                y2: 0
                            },
                            stops: h.a.buildStops(this.getChartMaxValue(), e.gradientRangeMaxes),
                            fillOpacity: i
                        }
                    }]
                },
                createAnnotations: function() {
                    var t = this
                      , i = r.default.url("/images/feature/mtb/jump.svg")
                      , a = [{
                        labels: []
                    }]
                      , s = this.xAxisType
                      , l = null;
                    return this.jumps && this.jumps.length > 0 && this.jumps.each(function(r, c) {
                        l = e.template(d.a)({
                            Localizer: n.a,
                            Personalizer: o.a,
                            jump: r.toJSON(),
                            label: n.a.localize("label_flow") + ": " + o.a.peronalizeMTBFlow(r.get("directFlow")),
                            activityTypeKey: t.activitySummary.get("activityTypeDTO").typeKey
                        }),
                        r.set("flow-html", l),
                        a[0].labels.push({
                            point: {
                                xAxis: 0,
                                yAxis: 1,
                                x: "sumDuration" === s ? r.get("durationIntoActivity") : r.get("distanceIntoActivity"),
                                y: 260
                            },
                            text: '<span><img class="has-tooltip jump-icon" data-container="body" data-toggle="tooltip" data-placement="top" data-html="true" data-index="' + c + '" title="" src=' + i + ">&nbsp;&nbsp;&nbsp;</img></span>",
                            useHTML: !0,
                            shape: "connector",
                            allowOverlap: !0
                        })
                    }),
                    a
                },
                getMarginBottom: function() {
                    return 16
                },
                highChartsRenderChartEvent: function() {
                    var e = 0
                      , t = this;
                    return this.$(".has-tooltip.jump-icon").each(function() {
                        e = +a(this).attr("data-index"),
                        a(this).tooltip({
                            html: !0,
                            title: t.jumps.at(e).get("flow-html")
                        })
                    }),
                    this
                }
            })
        }
        ).call(this, i(8), i(9))
    },
    4521: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1313)
          , r = i(1296)
          , o = i(1322);
        t.a = o.a.extend({
            fillColor: r.a.mapSeriesType(n.a.RespirationRate),
            primarySeriesType: n.a.RespirationRate,
            chartTitle: function() {
                return a.a.localize("label_respiration_rate")
            }
        })
    },
    4522: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i(1313)
          , r = i(1296)
          , o = i(1322)
          , s = i(11)
          , l = i(1337)
          , c = i(21);
        t.a = o.a.extend({
            seriesType: "column",
            fillColor: r.a.mapSeriesType(n.a.Stress),
            primarySeriesType: n.a.Stress,
            chartTitle: function() {
                return a.a.localize("label_stress")
            },
            createSeries: function() {
                var e = o.a.prototype.createSeries.apply(this, arguments);
                return e.data.forEach(function(e) {
                    +s.a.personalizeStress(e.y) <= l.b && (e.color = c.blue_light_1)
                }),
                e
            }
        })
    },
    4523: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(11)
          , s = i(1322)
          , l = i(1296)
          , c = i(1313);
        t.a = s.a.extend({
            chartSelector: c.a.LapAveragePace.chartSelector,
            primarySeriesType: c.a.LapAveragePace,
            fillColor: l.a.mapSeriesType(c.a.Pace),
            formattingFunction: n.a.bind(o.a.formatPace, o.a),
            chartTitle: function() {
                return r.a.localize("pace_chart_lap_avg")
            },
            getActivityTypeKey: function(e) {
                var t = e || this;
                return t && t.activitySummary.get("activityTypeDTO") && t.activitySummary.get("activityTypeDTO").typeKey ? t.activitySummary.get("activityTypeDTO").typeKey : ""
            }
        })
    },
    4524: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(11)
          , s = i(1322)
          , l = i(1296)
          , c = i(1313);
        t.a = s.a.extend({
            chartSelector: c.a.PaceProComparePace.chartSelector,
            primarySeriesType: c.a.PaceProComparePace,
            fillColor: l.a.mapSeriesType(c.a.Pace),
            formattingFunction: n.a.bind(o.a.formatPace, o.a),
            chartTitle: function() {
                return r.a.localize("pace_pro_chart_split_avg")
            },
            getActivityTypeKey: function(e) {
                var t = e || this;
                return t && t.activitySummary.get("activityTypeDTO") && t.activitySummary.get("activityTypeDTO").typeKey ? t.activitySummary.get("activityTypeDTO").typeKey : ""
            }
        })
    },
    4525: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(1520)
              , c = i(1322)
              , h = i(4526)
              , p = i.n(h)
              , d = o.a.View.extend({
                events: {
                    "click .chart-toggle-menu-item": "onChartSelected",
                    "click .dropdown .help-icon": ""
                },
                template: n.a.template(p.a),
                initialize: function(e) {
                    this.titleKey = e.titleKey,
                    this.chartViews = e.chartViews,
                    this.visible = !0,
                    this.persistSelectedModel = e.persistSelectedModel,
                    this.preChartSelectionHandler = e.preChartSelectionHandler,
                    this.shouldChartRender = e.shouldChartRender || function(e) {
                        return !0
                    }
                    ,
                    this.setActiveChart(e.activeChart)
                },
                setActiveChart: function(e) {
                    this.activeChart && (n.a.each(this.chartViews, function(e) {
                        e.hide()
                    }),
                    this.stopListening()),
                    this.activeChart = e,
                    this.listenTo(this.activeChart, c.a.Events.ON_CHART_RENDERED, this.onChartRendered, this),
                    this.activeChart.show(),
                    this.shouldChartRender(this.activeChart) && this.activeChart.render()
                },
                show: function() {
                    this.visible = !0,
                    this.setActiveChart(this.activeChart)
                },
                hide: function() {
                    this.visible = !1,
                    this.activeChart.hide(),
                    this.stopListening()
                },
                render: function() {
                    this.$el.html(this.template({
                        chartViews: this.chartViews,
                        activeChart: this.activeChart,
                        seriesColor: this.activeChart.primarySeries[0].getColor(!0),
                        helpTooltip: this.activeChart.primarySeries[0].helpTooltip,
                        helpKey: this.activeChart.primarySeries[0].helpKey,
                        Localizer: s.a,
                        title: this.titleKey ? s.a.localize(this.titleKey) : ""
                    })),
                    this.$el.show()
                },
                onChartSelected: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).attr("data-chartid")
                      , a = this.findChart(i);
                    if (a && a !== this.activeChart) {
                        var n = !0;
                        this.preChartSelectionHandler && "function" === typeof this.preChartSelectionHandler && (n = this.preChartSelectionHandler.call(this, a)),
                        n && (this.setActiveChart(a),
                        this.persistSelectedChart(a))
                    }
                },
                findChart: function(e) {
                    return n.a.find(this.chartViews, function(t) {
                        return e === t.cid
                    })
                },
                onChartRendered: function() {
                    this.setElement(this.activeChart.$(".chart-name")),
                    this.render()
                },
                onShowHelpClicked: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).attr("data-help-key")
                      , a = null;
                    this.activeChart.primarySeries[0].helpKeyAdditionalData && (a = "function" === typeof this.activeChart.primarySeries[0].helpKeyAdditionalData ? this.activeChart.primarySeries[0].helpKeyAdditionalData() : this.activeChart.primarySeries[0].helpKeyAdditionalData),
                    new l.a({
                        key: i,
                        additionalData: a
                    }).render()
                },
                persistSelectedChart: function(e) {
                    this.persistSelectedModel && this.persistSelectedModel instanceof o.a.Model && (this.persistSelectedModel.set({
                        value: e.primarySeries[0].name || e.primarySeries[0].prototype.name
                    }),
                    this.persistSelectedModel.save())
                },
                getChartViews: function() {
                    return this.chartViews
                }
            });
            t.a = d
        }
        ).call(this, i(9))
    },
    4526: function(e, t) {
        e.exports = '<div class="dropdown">\n    <span class="chart-color-circle" style="background-color:<%- seriesColor %>"></span>\n    <% if (title) { %>\n        <%- title %>&nbsp;&nbsp;\n    <% } %>\n    <button class="dropdown-toggle chart-header-item" data-toggle="dropdown">\n        <%- activeChart.chartTitle(true) %>\n        <i class="icon-pointer-down"></i>\n    </button>\n    <% if (helpTooltip) { %>\n    <a href="javascript:void(0);" class="help-icon has-tooltip" data-html="true"\n       title="<%- Localizer.localize(helpTooltip) %>" aria-label="<%- Localizer.localize(helpTooltip) %>"><i class="icon-help"></i></a>\n    <% } else if (helpKey) { %>\n    <a href="#" class="help-icon" data-toggle="modal" data-help-key="<%- helpKey %>" role="button" aria-label="<%- Localizer.localize(\'help.title\') %>"><i\n            class="icon-help"></i></a>\n    <% } %>\n\n    <ul class="dropdown-menu" role="menu" aria-label="<%- activeChart.chartTitle(true) %>">\n        <% for (var i = 0; i < chartViews.length; i++) { %>\n        <%  var chartView = chartViews[i]; %>\n        <li class="<%- activeChart === chartView ? \'active\' : \'\' %> chart-toggle-menu-item" data-chartid="<%- chartView.cid %>" role="none">\n            <a tabindex="-1" href="#" role="menuitem"><%- chartView.chartTitle(true) %></a></li>\n        <% } %>\n    </ul>\n</div>\n'
    },
    4527: function(e, t) {
        e.exports = '<div class="span12 activity-charts-container">\n    <div class="row-fluid chart-header chart-header-main bottom-s">\n        <% if (viewerIsAuthenticated) { %>\n        <div class="span3 customize-charts-wrapper">\n            <div class="dropdown page-dropdown">\n                <button class="btn btn-small dropdown-trigger btn-customize-charts"><%- Localizer.localize(\'customize_charts\') %><i class="icon-pointer-down"></i></button>\n                <div class="customize-charts-list dropdown-menu pull-right">\n                    <label class="customize-charts-header"><%- Localizer.localize(\'customize_charts\') %></label>\n                    <div class="sortable-checkboxes ui-sortable">\n                        <% for (let index = 0; index < availableCharts.length; index++) { %>\n                            <label class="reOrderCheckbox" data-which="<%= availableCharts[index].seriesKey %>">\n                                <span class="drag-handle pull-left ui-sortable-handle" style="display:none;"><i class="icon-drag-handle"></i></span>\n                                <input type="checkbox" class="default-widget sortable-checkbox" name="settings-checkbox" value="<%- availableCharts[index].seriesKey %>" <%- !availableCharts[index].hide ? \'checked\' : \'\'%>/>\n                                <span class="chart-off pull-right label"><%- Localizer.localize(\'off\') %></span>\n                                <%- availableCharts[index].title %>\n                            </label>\n                        <% } %>\n                    </div>\n                    <div class="controls controls-row customize-charts-controls top-xs bottom-xs">\n                        <a href="#" class="colored reorder-widgets" style="display: inline;"><%- Localizer.localize(\'reorder_charts\') %></a>\n                        <button class="btn btn-small reorder-widgets-set" style="display: none;"><%- Localizer.localize(\'set_charts_order\') %></button>\n                        <button class="btn btn-small btn-secondary reorder-widgets-cancel" style="display: none;"><%- Localizer.localize(\'cancel_btn\') %></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <% } %>\n        <div class="span4">\n            <button id="btnResetZoom" class="reset-zoom btn btn-small" style="visibility: hidden"><%- Localizer.localize(\'chart_reset_zoom\') %></button>\n        </div>\n        <% if (canDisplayDistanceTimeToggleView) { %>\n            <div class="<%- viewerIsAuthenticated ? \'span5\' : \'span8\' %>">\n                <div class="pull-right chart-toggle-options">\n                    <% if (isLapSwimming) { %>\n                        <button class="btn btn-small length-rests-toggle"><%- Localizer.localize(\'over_lengths\') %></button>\n                    <% } %>\n                    <button class="btn btn-small time-toggle"><%- Localizer.localize(\'label_time\') %></button>\n                    <button class="btn btn-small distance-toggle"><%- Localizer.localize(\'label_distance\') %></button>\n                </div>\n            </div>\n        <% } %>\n    </div>\n\n    <div id="charts-container"></div>\n</div>'
    },
    4528: function(e, t) {
        e.exports = '<li class="multiple ">\n    <label data-seriestype="<%- seriesType %>">\n        <input type="checkbox" class="checkbox"><%- chartName %>\n    </label>\n</li>'
    },
    4529: function(e, t, i) {
        var a, n;
        n = function(e) {
            var t = function(e) {
                var t = e.each
                  , i = e.defined
                  , a = e.seriesTypes
                  , n = e.stableSort;
                return {
                    getPlotBox: function() {
                        return e.Series.prototype.getPlotBox.call(this.options.onSeries && this.chart.get(this.options.onSeries) || this)
                    },
                    translate: function() {
                        a.column.prototype.translate.apply(this);
                        var e, r, o, s, l, c, h = this.options, p = this.chart, d = this.points, u = d.length - 1, g = (g = h.onSeries) && p.get(g), m = (h = h.onKey || "y",
                        g && g.options.step), f = g && g.points, y = f && f.length, v = p.inverted, b = this.xAxis, A = this.yAxis, C = 0;
                        if (g && g.visible && y)
                            for (C = (g.pointXOffset || 0) + (g.barW || 0) / 2,
                            e = g.currentDataGrouping,
                            s = f[y - 1].x + (e ? e.totalRange : 0),
                            n(d, function(e, t) {
                                return e.x - t.x
                            }),
                            h = "plot" + h[0].toUpperCase() + h.substr(1); y-- && d[u] && (o = f[y],
                            (e = d[u]).y = o.y,
                            !(o.x <= e.x && void 0 !== o[h] && (e.x <= s && (e.plotY = o[h],
                            o.x < e.x && !m && (l = f[y + 1]) && void 0 !== l[h] && (c = (e.x - o.x) / (l.x - o.x),
                            e.plotY += c * (l[h] - o[h]),
                            e.y += c * (l.y - o.y))),
                            u--,
                            y++,
                            0 > u))); )
                                ;
                        t(d, function(e, t) {
                            var a;
                            e.plotX += C,
                            (void 0 === e.plotY || v) && (0 <= e.plotX && e.plotX <= b.len ? v ? (e.plotY = b.translate(e.x, 0, 1, 0, 1),
                            e.plotX = i(e.y) ? A.translate(e.y, 0, 0, 0, 1) : 0) : e.plotY = p.chartHeight - b.bottom - (b.opposite ? b.height : 0) + b.offset - A.top : e.shapeArgs = {}),
                            (r = d[t - 1]) && r.plotX === e.plotX && (void 0 === r.stackIndex && (r.stackIndex = 0),
                            a = r.stackIndex + 1),
                            e.stackIndex = a
                        }),
                        this.onSeries = g
                    }
                }
            }(e);
            !function(e, t) {
                var i = e.each;
                (0,
                e.seriesType)("windbarb", "column", {
                    lineWidth: 2,
                    onSeries: null,
                    states: {
                        hover: {
                            lineWidthPlus: 0
                        }
                    },
                    tooltip: {
                        pointFormat: '<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'
                    },
                    vectorLength: 20,
                    yOffset: -20,
                    xOffset: 0
                }, {
                    pointArrayMap: ["value", "direction"],
                    parallelArrays: ["x", "value", "direction"],
                    beaufortName: "Calm;Light air;Light breeze;Gentle breeze;Moderate breeze;Fresh breeze;Strong breeze;Near gale;Gale;Strong gale;Storm;Violent storm;Hurricane".split(";"),
                    beaufortFloor: [0, .3, 1.6, 3.4, 5.5, 8, 10.8, 13.9, 17.2, 20.8, 24.5, 28.5, 32.7],
                    trackerGroups: ["markerGroup"],
                    pointAttribs: function(e, t) {
                        var i = this.options;
                        e = e.color || this.color;
                        var a = this.options.lineWidth;
                        return t && (e = i.states[t].color || e,
                        a = (i.states[t].lineWidth || a) + (i.states[t].lineWidthPlus || 0)),
                        {
                            stroke: e,
                            "stroke-width": a
                        }
                    },
                    markerAttribs: function() {},
                    getPlotBox: t.getPlotBox,
                    windArrow: function(e) {
                        var t, i = 1.943844 * e.value, a = this.options.vectorLength / 20, n = -10;
                        if (e.isNull)
                            return [];
                        if (0 === e.beaufortLevel)
                            return this.chart.renderer.symbols.circle(-10 * a, -10 * a, 20 * a, 20 * a);
                        if (e = ["M", 0, 7 * a, "L", -1.5 * a, 7 * a, 0, 10 * a, 1.5 * a, 7 * a, 0, 7 * a, 0, -10 * a],
                        0 < (t = (i - i % 50) / 50))
                            for (; t--; )
                                e.push(-10 === n ? "L" : "M", 0, n * a, "L", 5 * a, n * a + 2, "L", 0, n * a + 4),
                                i -= 50,
                                n += 7;
                        if (0 < (t = (i - i % 10) / 10))
                            for (; t--; )
                                e.push(-10 === n ? "L" : "M", 0, n * a, "L", 7 * a, n * a),
                                i -= 10,
                                n += 3;
                        if (0 < (t = (i - i % 5) / 5))
                            for (; t--; )
                                e.push(-10 === n ? "L" : "M", 0, n * a, "L", 4 * a, n * a),
                                i -= 5,
                                n += 3;
                        return e
                    },
                    translate: function() {
                        var e = this.beaufortFloor
                          , a = this.beaufortName;
                        t.translate.call(this),
                        i(this.points, function(t) {
                            for (var i = 0; i < e.length && !(e[i] > t.value); i++)
                                ;
                            t.beaufortLevel = i - 1,
                            t.beaufort = a[i - 1]
                        })
                    },
                    drawPoints: function() {
                        var e = this.chart
                          , t = this.yAxis
                          , a = e.inverted
                          , n = this.options.vectorLength / 2;
                        i(this.points, function(i) {
                            var r = i.plotX
                              , o = i.plotY;
                            e.isInsidePlot(r, 0, !1) ? (i.graphic || (i.graphic = this.chart.renderer.path().add(this.markerGroup)),
                            i.graphic.attr({
                                d: this.windArrow(i),
                                translateX: r + this.options.xOffset,
                                translateY: o + this.options.yOffset,
                                rotation: i.direction
                            }).attr(this.pointAttribs(i))) : i.graphic && (i.graphic = i.graphic.destroy()),
                            i.tooltipPos = [r + this.options.xOffset + (a && !this.onSeries ? n : 0), o + this.options.yOffset - (a ? 0 : n + t.pos - e.plotTop)]
                        }, this)
                    },
                    animate: function(t) {
                        t ? this.markerGroup.attr({
                            opacity: .01
                        }) : (this.markerGroup.animate({
                            opacity: 1
                        }, e.animObject(this.options.animation)),
                        this.animate = null)
                    },
                    invertGroups: e.noop
                }, {
                    isValid: function() {
                        return e.isNumber(this.value) && 0 <= this.value
                    }
                })
            }(e, t)
        }
        ,
        "object" === typeof e && e.exports ? e.exports = n : void 0 === (a = function() {
            return n
        }
        .call(t, i, t, e)) || (e.exports = a)
    },
    4530: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(20)
          , h = i(1523)
          , p = i(4531)
          , d = i.n(p);
        t.a = o.a.View.extend({
            template: n.a.template(d.a),
            initialize: function(e) {
                if (this.conversation = e.conversation,
                !this.conversation)
                    throw "conversation required for ActivityCommentsView"
            },
            render: function() {
                var e = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    model: this.model.toJSON()
                });
                this.$el.html(e),
                this.pageCommentsView = new h.a({
                    showHeader: !1,
                    conversation: this.conversation,
                    viewerDisplayName: c.a.get("displayName"),
                    el: this.el
                })
            }
        })
    },
    4531: function(e, t) {
        e.exports = '<div class="border-wrapper">\n\n</div>\n\n\n'
    },
    4532: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(35)
              , h = i(2652)
              , p = i(572)
              , d = i(1330)
              , u = i(2002)
              , g = i(1619)
              , m = i(2747)
              , f = i(1553)
              , y = i(4533)
              , v = i(2003)
              , b = i(2267)
              , A = i(1574)
              , C = i(83)
              , w = i(18)
              , _ = i(37)
              , x = i(1309)
              , S = i(42)
              , T = i(438)
              , E = i(198)
              , k = i(4535)
              , L = i.n(k)
              , P = {
                ActivityTypeChanged: "ActivityTypeChanged",
                PrepareToNavigate: "PrepareToNavigate",
                ActivityNameChanged: "ActivityNameChanged",
                EventTypeChanged: "EventTypeChanged"
            }
              , z = o.a.View.extend({
                template: n.a.template(L.a),
                events: {
                    "click .page-previous": "onPreviousButtonClicked",
                    "click .page-next": "onNextButtonClicked",
                    "click .course-name": "onCourseNameClicked"
                },
                initialize: function(e) {
                    if (this.previousId = null,
                    this.nextId = null,
                    this.readOnly = e.readOnly,
                    this.activityTypes = e.activityTypes,
                    this.eventTypes = e.eventTypes,
                    this.userBiometrics = e.userBiometrics,
                    this.userCourses = e.userCourses,
                    this.course = e.course,
                    this.selectedGear = e.selectedGear,
                    this.selectedActivity = this.model,
                    this.activityTimeZone = e.activityTimeZone,
                    this.isRepCounting = e.isRepCounting,
                    "undefined" != typeof e.activityTypeReadOnly ? this.activityTypeReadOnly = e.activityTypeReadOnly : this.activityTypeReadOnly = !0,
                    c.a.viewerIsAuthenticated) {
                        if (!this.activityTypes)
                            throw "Activity Types required for ActivityIntroView";
                        if (!this.eventTypes)
                            throw "Event Types required for ActivityIntroView";
                        if (!this.userBiometrics)
                            throw "UserBiometrics required for ActivityIntroView"
                    }
                    this.model.on("error", this.onActivitySaveFailure, this),
                    this.model.on("sync", this.onActivitySaveSuccess, this),
                    this.setupPreviousAndNext()
                },
                updateModels: function(e, t, i) {
                    this.selectedActivity = e,
                    this.selectedGear = t,
                    this.course = i
                },
                render: function() {
                    var e = this.model.toJSON();
                    e.activityName = e.activityName || s.a.localize("untitled");
                    var t = w.a.formatFriendlyDateAndTime(C.a.parseISO(e.startTimeLocal));
                    e.activityTimeDisplayValue = t.substring(t.indexOf("@") + 1, t.length),
                    e.activityDateDisplayValue = t.substring(0, t.indexOf("@") + 1),
                    e.timeZoneDisplayValue = this.activityTimeZone,
                    e.ownerNameDisplayValue = this.model.get("metadataDTO").userInfoDto.fullname || this.model.get("metadataDTO").userInfoDto.displayname;
                    var i = null;
                    this.course && (i = this.course.toJSON());
                    var a = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        activity: e,
                        url: _.default.url,
                        activityTypeClassMapper: x.a,
                        activityTypeReadOnly: this.activityTypeReadOnly,
                        readOnly: this.readOnly,
                        course: i,
                        isRepCounting: this.isRepCounting
                    });
                    if (this.$el.html(a),
                    !this.readOnly) {
                        var n = {
                            el: this.$(".activity-name-edit"),
                            value: this.model.get("activityName") || s.a.localize("untitled"),
                            disableEditOnClickText: !0,
                            maxLength: 75
                        };
                        if (S.h.isDivingActivity(this.model.get("activityTypeDTO").typeKey) && (this.$(".date-block").hide(),
                        n.formatClass = "diving",
                        n.tag = "span"),
                        S.h.isAutoRacingActivity(this.model.get("activityTypeDTO").typeKey) && (this.$(".date-block").hide(),
                        n.formatClass = "auto_racing",
                        n.tag = "span"),
                        S.h.isDivingActivity(this.model.get("activityTypeDTO").typeKey) && !S.h.isApneaDiving(this.model.get("activityTypeDTO").typeKey) ? (n.diveNumber = this.model.get("diveNumber"),
                        this.inlineEditView = new g.a(n),
                        this.inlineEditView.bind(d.a.Events.CHANGE, this.onDivingActivityNameAndNumberConfirmed, this)) : (this.inlineEditView = new u.a(n),
                        this.inlineEditView.bind(d.a.Events.CHANGE, this.onActivityNameConfirmed, this)),
                        this.inlineEditView.bind(d.a.Events.CANCEL, this.onActivityNameCancelled, this),
                        this.inlineEditView.bind(d.a.Events.EDIT, this.onEnterEditActivityName, this),
                        this.inlineEditView.render(),
                        !this.activityTypeReadOnly) {
                            var r = this.model.get("activityTypeDTO").typeId
                              , o = S.h.formatActivityTypesForDropdownList(this.activityTypes, !0);
                            S.h.isActivityTypeFound("value", r, this.activityTypes, !0) || (r = this.activityTypes.findByTypeKey(S.h.unknownActivityTypeDefault).get("typeId")),
                            e.metadataDTO.isAtpActivity && (o = S.h.filterActivityTypesByParent(o, ["running", "walking"])),
                            this.inlineActivityTypeDropDownListView = new f.a({
                                el: this.$("#activityTypeDropdownPlaceholder"),
                                items: o,
                                value: r,
                                className: "input-large",
                                formatClass: ""
                            }),
                            this.inlineActivityTypeDropDownListView.bind(f.a.Events.CHANGE, this.onActivityTypeChanged, this),
                            this.inlineActivityTypeDropDownListView.render()
                        }
                        S.h.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey) || S.h.isEsportActivity(this.model.get("activityTypeDTO").typeKey) || (this.inlineEventTypeDropDownListView = new b.a({
                            el: this.$("#event-type-dropdown"),
                            items: this.getEventTypesForDropDownList(),
                            value: this.model.get("eventTypeDTO").typeId,
                            label: s.a.localize("event_type"),
                            formatClass: "",
                            scrollable: !1
                        }),
                        this.inlineEventTypeDropDownListView.bind(b.a.Events.CHANGE, this.onEventTypeChanged, this),
                        this.inlineEventTypeDropDownListView.render());
                        var c = e.associatedCourseId || -1;
                        S.h.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey) || S.h.isEsportActivity(this.model.get("activityTypeDTO").typeKey) || this.userCourses.models.length > 0 && (this.inlineCourseDropDownListView = new y.a({
                            el: this.$("#course-dropdown"),
                            items: this.getCourseForDropDownList(),
                            value: c,
                            label: s.a.localize("course_label"),
                            formatClass: "",
                            scrollable: !1
                        }),
                        this.inlineCourseDropDownListView.bind(b.a.Events.CHANGE, this.onCourseChanged, this),
                        this.inlineCourseDropDownListView.render())
                    }
                    this.selectedGear && (this.activityGearView && this.activityGearView.stopListening(),
                    S.h.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey) || S.h.isEsportActivity(this.model.get("activityTypeDTO").typeKey) || (this.activityGearView = new v.a({
                        el: this.$("#gearStatusViewPlaceholder"),
                        selectedGear: this.selectedGear,
                        model: this.selectedActivity,
                        readOnly: this.readOnly
                    }),
                    this.activityGearView.render())),
                    E.a.renderTooltips.call(this),
                    this.renderPrTrophy(),
                    this.updateNextAndPreviousButtons()
                },
                renderPrTrophy: function() {
                    this.model.get("personalRecord") && !this.readOnly && (e('<i class="icon-personal-records has-tooltip" data-placement="bottom" data-html="true" title=""></i>').appendTo(".trophy-container"),
                    this.prsTooltipView && (this.prsTooltipView.off(),
                    this.prsTooltipView.stopListening(),
                    this.prsTooltipView.remove()),
                    this.prsTooltipView = new m.a({
                        el: this.$(".icon-personal-records"),
                        activityId: this.model.id
                    }))
                },
                hidePrTrophy: function() {
                    this.$(".icon-personal-records").remove(),
                    this.prsTooltipView && (this.prsTooltipView.remove(),
                    this.prsTooltipView = null)
                },
                disableNextButton: function() {
                    this.$(".page-next").addClass("disabled")
                },
                enableNextButton: function() {
                    this.$(".page-next").removeClass("disabled")
                },
                disablePreviousButton: function() {
                    this.$(".page-previous").addClass("disabled")
                },
                enablePreviousButton: function() {
                    this.$(".page-previous").removeClass("disabled")
                },
                setupPreviousAndNext: function() {
                    this.activityRelative = new h.a({
                        activityId: this.model.id
                    });
                    var e = this;
                    this.activityRelative.fetch({
                        success: function() {
                            e.previousId = e.activityRelative.get("previousActivityId"),
                            e.nextId = e.activityRelative.get("nextActivityId"),
                            e.updateNextAndPreviousButtons()
                        }
                    })
                },
                updateNextAndPreviousButtons: function() {
                    this.previousId ? this.enablePreviousButton() : this.disablePreviousButton(),
                    this.nextId ? this.enableNextButton() : this.disableNextButton()
                },
                onNextButtonClicked: function() {
                    this.nextId && (this.trigger(P.PrepareToNavigate),
                    _.default.navigate("/activity/" + this.nextId),
                    this.pushActivityNavigationToAnalytics())
                },
                onPreviousButtonClicked: function() {
                    this.previousId && (this.trigger(P.PrepareToNavigate),
                    _.default.navigate("/activity/" + this.previousId),
                    this.pushActivityNavigationToAnalytics())
                },
                pushActivityNavigationToAnalytics: function() {
                    T.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Activity Navigation"
                    })
                },
                onActivityNameConfirmed: function(t) {
                    (t = e.trim(t)) != s.a.localize("untitled") && (this.model.set("activityName", t),
                    this.model.save()),
                    this.inlineEditView.render(),
                    this.renderPrTrophy(),
                    this.trigger(P.ActivityNameChanged, t)
                },
                onDivingActivityNameAndNumberConfirmed: function(e, t) {
                    this.model.set("activityName", e),
                    this.model.set("diveNumber", t),
                    this.model.save(),
                    this.inlineEditView.setDiveNumber(t),
                    this.inlineEditView.render(),
                    this.renderPrTrophy(),
                    this.trigger(P.ActivityNameChanged, e, t)
                },
                onActivityNameCancelled: function() {
                    this.renderPrTrophy()
                },
                onEnterEditActivityName: function() {
                    this.hidePrTrophy()
                },
                onActivityTypeChanged: function(e) {
                    var t = this.activityTypes.findByTypeId(e)
                      , i = !this.activityTypes.isSameParentActivityType(t, new p.a(this.model.get("activityTypeDTO")));
                    this.model.set("activityTypeDTO", t.toJSON());
                    var a = this.userBiometrics.getWeightInKg();
                    if (t && this.model.get("autoCalcCalories")) {
                        var n = A.a.autoCalcCalories(t.get("typeKey"), a, this.model.get("duration"), this.model.get("distance"));
                        n && this.model.set("calories", n)
                    }
                    this.model.save(),
                    this.setActivityTypeIcon(t),
                    this.trigger(P.ActivityTypeChanged, t.get("typeKey"), i)
                },
                onEventTypeChanged: function(e) {
                    var t = this.eventTypes.findByTypeId(e);
                    this.model.set("eventTypeDTO", t.toJSON()),
                    this.model.save(),
                    this.trigger(P.EventTypeChanged, e)
                },
                onCourseChanged: function(e) {
                    e && -1 != e ? this.model.set("associatedCourseId", e) : this.model.set("associatedCourseId", null),
                    this.model.save()
                },
                getEventTypesForDropDownList: function() {
                    var e = [];
                    return this.eventTypes.each(function(t) {
                        var i = t.get("typeKey");
                        "all" != i && e.push({
                            name: s.a.localize(i),
                            value: t.get("typeId")
                        })
                    }, this),
                    e = n.a.sortBy(e, function(e) {
                        return e.name
                    })
                },
                getCourseForDropDownList: function() {
                    var e = [];
                    return e.push({
                        name: "--",
                        value: -1
                    }),
                    this.userCourses.each(function(t) {
                        e.push({
                            name: t.get("courseName"),
                            value: t.id
                        })
                    }, this),
                    e
                },
                setActivityTypeIcon: function(e) {
                    var t = this.$(".activity-type-icon")
                      , i = t.attr("class").split(" ");
                    n.a.each(i, function(e) {
                        "icon-activity-" == e.substr(0, 14) && t.removeClass(e)
                    }),
                    t.addClass("icon-activity-" + x.a.map(e.get("typeKey")))
                },
                onActivitySaveSuccess: function() {
                    this.model.startTracking()
                },
                onActivitySaveFailure: function() {
                    alert(s.a.localize("error_saving_activity"))
                },
                onCourseNameClicked: function(e) {
                    _.default.anchorTagHandler(e),
                    e.stopPropagation()
                }
            });
            z.Events = P,
            t.a = z
        }
        ).call(this, i(9))
    },
    4533: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(1351)
          , o = i(4534)
          , s = i.n(o)
          , l = r.a.extend({
            scrollable: !1,
            template: n.a.template(s.a),
            initialize: function(e) {
                e.scrollable = !1,
                r.a.prototype.initialize.call(this, e)
            }
        });
        t.a = l
    },
    4534: function(e, t) {
        e.exports = '<%\nif (selectedItem && selectedItem.value != -1) {\n    var escapedCourseName = jQuery(\'<div/>\').text(selectedItem.name).html();\n    courseLinkHtml = \'<a href="/modern/course/\' + selectedItem.value + \'" class="course-name colored">\' + escapedCourseName + \'</a>\';\n} else {\n    var courseLinkHtml = \'--\';\n}\n%>\n<div class="dropdown">\n    <span class="dropdown-toggle" data-toggle="dropdown">\n        <%- label %>: <%= courseLinkHtml %>\n        <i class="icon-pointer-down"></i>\n    </span>\n    <ul class="dropdown-menu pull-left" role="menu" aria-label="<%- Localizer.localize(\'select.one\') %>">\n        <% for (var i = 0; i < items.length; i++) { %>\n        <% var item = items[i]; %>\n        <li data-value="<%- item.value %>" role="none">\n            <a href="#" role="menuitem"><%- item.name %></a>\n        </li>\n        <% } %>\n    </ul>\n</div>'
    },
    4535: function(e, t) {
        e.exports = '\x3c!--Page Feature--\x3e\n<div class="page-header-content">\n    <h1 class="page-feature clearfix">\n        <%\n            // Html encode this to prevent XSS\n            var linkHtml = \'<a href="\' + url(\'/profile/\' + activity.metadataDTO.userInfoDto.displayname) + \'" class="colored">\' + _.escape(activity.ownerNameDisplayValue) + \'</a>\';\n\n            if (course) {\n                courseLinkHtml = \'<a href="/modern/course/\' + course.courseId + \'" class="course-name colored">\' + _.escape(course.name) + \'</a>\';\n            } else {\n                var courseLinkHtml = \'--\';\n            }\n\n            var dateHtml = \'\';\n            if (activity.timeZoneDisplayValue) {\n                dateHtml = activity.activityDateDisplayValue + \'<span title="\' + activity.timeZoneDisplayValue +\'" class="activity-title-time has-tooltip" data-placement="bottom">\' + activity.activityTimeDisplayValue +\'</span>\';\n            } else {\n                dateHtml = activity.activityDateDisplayValue + \'<span class="activity-title-time has-tooltip" title="">\' + activity.activityTimeDisplayValue +\'</span>\';\n            }\n\n        %>\n\n\n        <div class="pull-left activity-detail-title">\n            <% if (!activityTypeReadOnly && !readOnly) { %>\n                <span id="activityTypeDropdownPlaceholder" class="dropdown"></span>\n            <% } else { %>\n                <%- Localizer.localize(\'activity_type_\' + activity.activityTypeDTO.typeKey) %>\n            <% } %>\n            <%= Localizer.localize(\'activity_type_by\', linkHtml, dateHtml) %>\n        </div>\n    </h1>\n    <i class="activity-type-icon pull-left icon-activity-<%- activityTypeClassMapper.map(activity.activityTypeDTO.typeKey) %>"></i>\n    \x3c!--Page Title--\x3e\n    <h3 class="page-title">\n        <div class="data-bit">\n            <% if (!readOnly) { %>\n                <div class="trophy-container activity-name-edit"></div>\n            <% } else { %>\n                <span class="trophy-container page-title-overflow"><%- activity.activityName %></span>\n            <% } %>\n        </div>\n    </h3>\n\n    <div class="date-block">\n        <span class="event-type">\n            <% if (!readOnly) { %>\n            <span id="event-type-dropdown" class="dropdown"></span>\n            <% } else { %>\n            <%- Localizer.localize(\'event_type_label\', Localizer.localize(activity.eventTypeDTO.typeKey)) %>\n            <% } %>\n        </span>\n        <% if(!isRepCounting) { %>\n            <span class="course-type">\n                <% if (!readOnly) { %>\n                    <span id="course-dropdown" class="dropdown"></span>\n                <% } else { %>\n                    <%= Localizer.localize(\'activity_course_link\', courseLinkHtml) %>\n                <% } %>\n            </span>\n        <% } %>\n        <span id="gearStatusViewPlaceholder" class="gear-indicator"></span>\n    </div>\n</div>\n\n<div class="page-navigation">\n    <button class="page-previous page-navigation-action" aria-label="<%- Localizer.localize(\'previous\') %>"><i class="icon-arrow-left"></i></button>\n    <button class="page-next page-navigation-action" aria-label="<%- Localizer.localize(\'next\') %>"><i class="icon-arrow-right"></i></button>\n</div>\n'
    },
    4536: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n, r = i(8), o = i.n(r), s = i(0), l = i.n(s), c = i(7), h = i(11), p = i(1506), d = i.n(p), u = i(35), g = i(1521), m = i(4537), f = i(83), y = i(1309), v = i(1360), b = i(449), A = i(442), C = i(4538), w = i(438), _ = i(42), x = i(1518), S = i(4541), T = i(4542), E = i(469), k = i(4544), L = i.n(k), P = i(21), z = {
                OnContentsRendered: "OnContentsRendered",
                onMapCoordinateSystemClicked: "onMapCoordinateSystemClicked",
                onCustomLayerClicked: "onCustomLayerClicked",
                onTilesLoaded: "onTilesLoaded"
            }, I = {
                cycling: "#ff0000",
                running: "#003300",
                swimming: "#0000ff",
                transition: "#CCCC00",
                other: null
            }, D = {
                color: "#ff0035",
                videoColor: "#11a9ed",
                width: 5
            }, B = 0, M = 2, O = l.a.View.extend({
                template: o.a.template(L.a),
                events: {
                    "click .play": "onPlayerButtonClicked",
                    "click .pause": "onPlayerButtonClicked",
                    "click #fullScreenBtn": "onFullScreenBtnClicked"
                },
                initialize: function(e) {
                    if (this.mapProvider = e.mapProvider,
                    this.activityDetails = e.activityDetails,
                    this.activitySplits = e.activitySplits,
                    this.userMapSetting = e.userMapSetting,
                    this.activityTypes = e.activityTypes,
                    this.player = e.player,
                    this.weather = e.weather,
                    this.segmentEntities = [],
                    this.markers = [],
                    this.polylines = [],
                    this.childActivities = e.childActivities,
                    this.videoClips = e.videoClips,
                    this.mapPolyline = [],
                    this.markerPoints = [],
                    this.customLayers = [],
                    this.displayMetricTrackLogTooltip = e.displayMetricTrackLogTooltip,
                    this.coordinateSystem = B,
                    !this.activityDetails)
                        throw "activityDetails required for ActivityMapView";
                    this.jumps = e.jumps,
                    this.isFullScreen = e.isFullScreen || !1,
                    this.listenTo(this.activityDetails, "sync", this.renderContent)
                },
                setActivity: function(e, t, i, a, n, r, o, s) {
                    this.player.clear().set(this.player.defaults),
                    this.model = e,
                    this.activityDetails = t,
                    this.activitySplits = i,
                    this.activityTypedSplits = a,
                    this.weather = n,
                    this.destroy(),
                    this.markers = [],
                    this.polylines = [],
                    this.customLayers = [],
                    this.weatherView && (this.weatherView.stopListening(),
                    this.weatherView.$el.empty(),
                    this.weatherView = null),
                    this.markerPoints = [],
                    this.hideLaps(),
                    this.mapControlsView.showLapsToggle = this.showLapsToggle(),
                    this.additionalMapLayers = r,
                    this.mapOverlayModels = {
                        HEART_RATE: o,
                        POWER: s
                    },
                    this.mapControlsView.setAdditionalMapLayers(this.additionalMapLayers),
                    this.rendered = !1
                },
                hasLaps: function() {
                    return this.activitySplits && this.activitySplits.get("lapDTOs") && this.activitySplits.get("lapDTOs").length > 1
                },
                showLapsToggle: function() {
                    return this.hasLaps() && !this.model.isParent()
                },
                render: function() {
                    var t = this
                      , i = this.template({
                        Localizer: c.a,
                        Personalizer: h.a,
                        model: this.model.toJSON(),
                        hasPlayButton: !this.isDivingActivity(),
                        isFullScreen: this.isFullScreen
                    });
                    this.$el.html(i),
                    this.mapView = new v.a({
                        mapContainerId: "activity-map-canvas",
                        mapContainerClass: this.isDivingActivity() && !this.isApneaDiving() ? "short" : "",
                        width: "100%",
                        height: 400,
                        viewerIsAuthenticated: u.a.viewerIsAuthenticated,
                        disablePanning: !1,
                        disableZooming: !1,
                        enableBikeLanes: !1,
                        el: this.$("#activity-map-canvas"),
                        mapProvider: this.mapProvider
                    }),
                    this.mapControlsView = new S.a({
                        mapView: this.mapView,
                        userMapSetting: this.userMapSetting,
                        el: this.$("#map-controls"),
                        showLapsToggle: this.showLapsToggle(),
                        hideHeatMaps: !0,
                        lapToggleText: this.isDivingActivity() ? c.a.localize("activity_map_dives") : c.a.localize("activity_map_laps"),
                        additionalMapLayers: this.additionalMapLayers,
                        displayMetricTrackLogTooltip: this.displayMetricTrackLogTooltip
                    }),
                    this.mapControlsView.on(S.a.Events.ON_MAP_PROVIDER_CHANGED, this.onMapViewProviderChanged, this),
                    this.mapControlsView.on(S.a.Events.LapsToggled, this.onLapsToggled, this),
                    this.mapControlsView.on(S.a.Events.ENABLE_DISABLE_MAP_SCROLL, this.enableDisableMapScrolling, this),
                    this.mapControlsView.on(S.a.Events.ON_MAP_COORDINATE_SYSTEM_SELECTED, this.onMapCoordinateSystemSelected, this),
                    this.mapControlsView.on(S.a.Events.ON_CUSTOM_LAYER_CLICKED, this.onCustomLayerClicked, this),
                    this.mapView.render(),
                    this.mapView.bind(v.a.Events.ON_MAP_READY, this.onMapReady, this),
                    this.mapView.bind(v.a.Events.ON_VISIBLE_TILES_LOADED, function() {
                        t.trigger(z.onTilesLoaded)
                    }, this),
                    this.mapView.loadMap(),
                    this.renderContent();
                    var a = this;
                    e(window).on("resize.activityMapView", function() {
                        a.mapView.onWindowResized()
                    }),
                    this.isFullScreen && this.displayFullscreen(this.isFullScreen)
                },
                renderContent: function() {
                    if (this.mapView && this.mapView.mapHasBeenInitialized() && !this.rendered && (this.polyline = this.mapPolyline,
                    this.polyline && !(this.polyline.length < 1))) {
                        if (this.polylinePoints = [],
                        this.model.isParent())
                            if (b.a.userInChina()) {
                                for (var e = this, t = 0; t < this.polyline.length; t++)
                                    if (d.a.isOutOfChina(this.polyline[t].lat, this.polyline[t].lon)) {
                                        this.disableConvert = !0;
                                        break
                                    }
                                d.a.convertMultiplePointsHasType(this.polyline, function(t) {
                                    e.renderParentPolylines(t)
                                }, e.coordinateSystem, e.disableConvert)
                            } else
                                this.renderParentPolylines(this.polyline);
                        else if ((this.model.hasParent() || this.isSafetyEvent()) && (this.parentActivityType = this.activityTypes.getParentType(this.model.getActivityTypeKey()),
                        this.parentTypeKey = this.parentActivityType ? this.parentActivityType.get("typeKey") : null),
                        b.a.userInChina()) {
                            for (e = this,
                            t = 0; t < this.polyline.length; t++)
                                if (d.a.isOutOfChina(this.polyline[t].lat, this.polyline[t].lon)) {
                                    this.disableConvert = !0;
                                    break
                                }
                            d.a.convertMultiplePointsHasType(this.polyline, function(t) {
                                e.renderPolyline(t, {
                                    parentActivityTypeKey: e.parentTypeKey,
                                    zoomToBounds: !0,
                                    markersOnly: e.isDivingActivity()
                                })
                            }, e.coordinateSystem, e.disableConvert)
                        } else
                            this.renderPolyline(this.polyline, {
                                parentActivityTypeKey: this.parentTypeKey,
                                zoomToBounds: !0,
                                markersOnly: this.isDivingActivity()
                            });
                        if (this.weather && this.weather.has("temp") && (this.weatherView = new T.a({
                            el: this.$("#weather-controls"),
                            weather: this.weather,
                            activityType: this.model.get("activityTypeDTO").typeKey
                        }),
                        this.weatherView.render()),
                        this.player) {
                            var i = o.a.throttle(this.onPlayerXChanged, 100);
                            this.listenTo(this.player, "change:x", i, this),
                            this.listenTo(this.player, "change:mode", this.onPlayerPlaybackChanged)
                        }
                        this.jumps && this.jumps.length > 0 && this.addJumpMarkers(),
                        this.mapControlsView && this.mapControlsView.render(),
                        this.rendered = !0,
                        this.mapCanvas = this.$("#activity-map-canvas"),
                        window.matchMedia("(max-width: 767px)").matches ? "google" !== this.mapProvider && this.mapCanvas.addClass("pointer-events-none") : this.mapControlsView.hideScrollToggleButton(),
                        b.a.userInChina() && this.mapCanvas.append('<div class="baiduLogo"></div>'),
                        this.trigger(z.OnContentsRendered)
                    }
                },
                renderParentPolylines: function(e) {
                    var t = this.activitySplits.get("lapDTOs");
                    if (!t || t.length < 2)
                        return this.renderPolyline(e, {
                            zoomToBounds: !0
                        });
                    for (var i = [], a = 0, n = [], r = 1; r < t.length; r++) {
                        n = [];
                        for (var o = t[r], s = f.a.parseISOUTC(o.startTimeGMT).getTime(); a < e.length; a++) {
                            var l = e[a];
                            if (l.time >= s)
                                break;
                            n.push(l)
                        }
                        i.push(n)
                    }
                    for (n = []; a < e.length; a++)
                        l = e[a],
                        n.push(l);
                    for (i.push(n),
                    r = 0; r < i.length; r++) {
                        var c = i[r]
                          , h = this.childActivities.at(r);
                        if (h) {
                            var p = y.a.map(h.get("activityTypeDTO").typeKey);
                            I[p]
                        }
                        var d = this.activityTypes.getParentType(h.getActivityTypeKey())
                          , u = d ? d.get("typeKey") : null;
                        this.renderPolyline(c, {
                            displayEnd: r == i.length - 1,
                            parentActivityTypeKey: u,
                            zoomToBounds: !1
                        })
                    }
                    this.isFullScreen ? this.fitMapToActivity() : this.zoomToMarkerBounds()
                },
                renderMapLegend: function(e) {
                    if (this.removeMapLegend(),
                    _.g[e]) {
                        this.mapLegend = new A.a;
                        var t = _.g[e].legendPalette;
                        this.mapLegend.renderComponent(C.a, this.$("#activityMapLegend")[0], {
                            palette: t,
                            minLabel: c.a.localize(_.g[e].minLabel),
                            maxLabel: c.a.localize(_.g[e].maxLabel)
                        })
                    }
                },
                removeMapLegend: function() {
                    this.mapLegend && (this.mapLegend.removeComponent(),
                    this.mapLegend = null)
                },
                onCustomLayerClicked: function(e) {
                    this.additionalMapLayers.forEach(function(t) {
                        e.selected && (t.value !== e.which ? t.selected = !1 : t.selected = !0)
                    }),
                    this.trigger(z.onCustomLayerClicked, e)
                },
                isWithinTimeFrame: function(e, t, i) {
                    var a = !1;
                    return e.time >= t && e.time <= i && (a = !0),
                    a
                },
                isWithinTimeFrames: function(e, t) {
                    var i = this;
                    return t.some(function(t) {
                        return i.isWithinTimeFrame(e, t.start, t.end)
                    })
                },
                coloredPolylines: function(e, t) {
                    var i = this
                      , n = []
                      , r = []
                      , o = []
                      , s = !1;
                    if (e.forEach(function(e) {
                        var l = new a.Map.Point(e.lat,e.lon);
                        if (n.push(l),
                        i.isWithinTimeFrames(e, t)) {
                            if (r.length > 0) {
                                r.push(l);
                                var c = i.mapView.addPolyline(r, {
                                    width: D.width,
                                    strokeColor: D.color,
                                    clickable: !0
                                });
                                c && i.polylines.push(c),
                                r = []
                            }
                            0 == s && (s = !0),
                            o.push(l)
                        } else if (r.push(l),
                        s) {
                            s = !1,
                            o.push(l);
                            var h = i.mapView.addPolyline(o, {
                                width: D.width,
                                strokeColor: D.videoColor,
                                clickable: !0
                            });
                            h && i.polylines.push(h),
                            o = []
                        }
                    }),
                    o.length > 1) {
                        var l = this.mapView.addPolyline(o, {
                            width: D.width,
                            strokeColor: D.videoColor,
                            clickable: !0
                        });
                        l && this.polylines.push(l)
                    }
                    if (r.length > 1) {
                        var c = this.mapView.addPolyline(r, {
                            width: D.width,
                            strokeColor: D.color,
                            clickable: !0
                        });
                        c && this.polylines.push(c)
                    }
                    this.polylinePoints = this.polylinePoints.concat(n)
                },
                renderPolyline: function(e, t) {
                    t = t || {};
                    var i = !!o.a.isUndefined(t.displayEnd) || t.displayEnd
                      , n = t.parentActivityTypeKey
                      , r = t.zoomToBounds
                      , s = !o.a.isUndefined(t.markersOnly) && t.markersOnly;
                    if (!(e.length < 1)) {
                        if (!s) {
                            var l = [];
                            this.activityTypedSplits && this.activityTypedSplits.length > 0 ? (l = this.activityTypedSplits.getHighlightedTimeRanges(),
                            D.color = P.red_light_3) : this.videoClips && this.videoClips.length > 0 && (l = this.videoClips.getHighlightedTimeRanges());
                            var c = [];
                            if (l.length > 0)
                                this.coloredPolylines(e, l);
                            else {
                                var h = D.color;
                                n && (h = E.a.mapPolylineColor(n));
                                for (var p = 0; p < e.length; p++) {
                                    var u = e[p];
                                    try {
                                        c.push(new a.Map.Point(u.lat,u.lon))
                                    } catch (y) {
                                        console.error("Invalid datapoint in polyline --\x3e" + y)
                                    }
                                }
                                var g = this.mapView.addPolyline(c, {
                                    width: D.width,
                                    strokeColor: h,
                                    clickable: !0
                                });
                                g && this.polylines.push(g)
                            }
                            this.polylinePoints = this.polylinePoints.concat(c),
                            r && this.fitMapToActivity()
                        }
                        var m = e[0]
                          , f = e[e.length - 1];
                        this.markerPoints.push(m),
                        this.markerPoints.push(f),
                        this.setDisplayEnd(i),
                        this.setParentActivityTypeKey(n),
                        this.markerPoints.push(m),
                        this.markerPoints.push(f),
                        this.markers.push(this.mapView.addMarker(m.lat, m.lon, b.a.getStartMarkerOptions(n))),
                        i && this.markers.push(this.mapView.addMarker(f.lat, f.lon, b.a.getEndMarkerOptions())),
                        s && r && this.zoomToMarkerBounds(),
                        o.a.each(this.polylines, function(e) {
                            try {
                                this.mapView.addLineListener(a.Map.Utils.EVENT_MOUSE_OVER, o.a.bind(function(e) {
                                    if ("undefined" != typeof e.eventPoint) {
                                        var t = e.eventPoint.lat
                                          , i = e.eventPoint.lon;
                                        if (b.a.userInChina()) {
                                            for (var a = this.activityDetails.get("directLatitude"), n = this.activityDetails.get("directLongitude"), r = [], o = this, s = 0; s < a.length; s++)
                                                a[s] && n[s] && r.push({
                                                    lat: a[s],
                                                    lon: n[s]
                                                });
                                            this.disableConvert = !1;
                                            for (s = 0; s < r.length; s++)
                                                if (d.a.isOutOfChina(r[s].lat, r[s].lon)) {
                                                    this.disableConvert = !0;
                                                    break
                                                }
                                            d.a.convertMultiplePointsHasType(r, function(e) {
                                                for (var a = [], n = [], r = 0; r < e.length; r++)
                                                    a.push(e[r].lat),
                                                    n.push(e[r].lon);
                                                var s = o.findClosestPointForBaidu(t, i, a, n);
                                                o.closestPointIndex = s,
                                                o.player.set("x", o.activityDetails.get("sumDuration")[s])
                                            }, o.coordinateSystem, o.disableConvert)
                                        } else {
                                            var l = this.findClosestPoint(t, i);
                                            this.player.set("x", this.activityDetails.get("sumDuration")[l])
                                        }
                                    }
                                }, this), e)
                            } catch (t) {}
                        }, this)
                    }
                },
                zoomToMarkerBounds: function() {
                    this.mapView.fitMapToPoints(this.markerPoints)
                },
                displayLaps: function() {
                    if (!this.lapsAreDisplayed) {
                        var e = this.activitySplits.get("lapDTOs");
                        e && (this.lapMarkerIds = [],
                        this.lapsAreDisplayed = !0,
                        o.a.each(e, function(e) {
                            var t = this;
                            if (b.a.userInChina()) {
                                if (d.a.isOutOfChina(e.startLatitude, e.startLongitude) && (this.disableConvert = !0),
                                !this.disableConvert) {
                                    var i = {
                                        lat: e.startLatitude,
                                        lng: e.startLongitude
                                    };
                                    d.a.convertHasType(i, function(i) {
                                        i && i.lat && i.lon && e.lapIndex > 1 && t.lapMarkerIds.push(t.mapView.addNumberedMarker(i.lat, i.lon, b.a.getLapMarkerOptions(), e.lapIndex - 1))
                                    }, t.coordinateSystem)
                                }
                            } else
                                e.startLatitude && e.startLongitude && e.lapIndex > 1 && this.lapMarkerIds.push(this.mapView.addNumberedMarker(e.startLatitude, e.startLongitude, b.a.getLapMarkerOptions(), e.lapIndex - 1))
                        }, this))
                    }
                },
                displayDives: function() {
                    if (!this.lapsAreDisplayed) {
                        var e = this.activitySplits.get("lapDTOs");
                        e && (this.lapMarkerIds = [],
                        this.lapsAreDisplayed = !0,
                        o.a.each(e, function(e) {
                            this.lapMarkerIds.push(this.mapView.addNumberedMarker(e.startLatitude, e.startLongitude, b.a.getLapMarkerOptions(), e.lapIndex))
                        }, this))
                    }
                },
                addJumpMarkers: function() {
                    o.a.each(this.jumps, function(e) {
                        if (x.a.isValidLatitude(e.latitude) && x.a.isValidLongitude(e.longitude)) {
                            var t = this.mapView.addMarker(e.latitude, e.longitude, b.a.getJumpMarkerOptions(), null, null, null);
                            this.mapView.bindPopupToMarker({
                                closeButton: !1,
                                autoClose: !1,
                                className: "jump-map-tooltip",
                                popupText: "<b>" + c.a.localize("label_jump") + "</b><br/>" + this.getJumpText(e)
                            }, t)
                        }
                    }, this)
                },
                getJumpText: function(e) {
                    var t = "";
                    return null !== e.distance && (t += c.a.localize("label_jumps_distance") + ": " + h.a.personalizeMTBHeight(e.distance, c.a) + "<br/>"),
                    null !== e.hangTime && (t += c.a.localize("label_jumps_hangtime") + ": " + h.a.personalizeMTBSeconds(e.hangTime, c.a) + "<br/>"),
                    null !== e.speed && (t += c.a.localize("label_jumps_speed") + ": " + h.a.personalizeMTBSpeed(e.speed, this.model.get("activityTypeDTO").typeKey, c.a) + "<br/>"),
                    t
                },
                calculateLapInterval: function(e) {
                    return e <= 10 ? 1 : e <= 20 ? 2 : e <= 50 ? 5 : e <= 100 ? 10 : e <= 250 ? 25 : e <= 500 ? 50 : 100
                },
                showSegment: function(e) {
                    var t = new m.a({
                        uuid: e
                    });
                    t.once("sync", this.renderSegment, this),
                    t.fetch()
                },
                renderSegment: function(e) {
                    var t = e.get("geoPoints");
                    if (t && !(t.length < 1)) {
                        this.segmentEntity = {},
                        this.segmentEntity.segment = e;
                        for (var i = [], n = 0; n < t.length; n++) {
                            var r = t[n];
                            i.push(new a.Map.Point(r.latitude,r.longitude))
                        }
                        if (b.a.userInChina()) {
                            var o = this;
                            this.disableConvert = !1;
                            for (n = 0; n < i.length; n++)
                                if (d.a.isOutOfChina(i[n].lat, i[n].lon)) {
                                    this.disableConvert = !0;
                                    break
                                }
                            d.a.convertMultiplePoints(i, function(e) {
                                o.segmentEntity.polyline = o.mapView.addPolyline(e, {
                                    width: 2,
                                    strokeColor: "#0000ff"
                                }),
                                o.segmentEntity.startMarkerId = o.mapView.addMarker(e[0].lat, e[0].lon, b.a.getSegmentStartMarkerOptions()),
                                o.segmentEntity.endMarkerId = o.mapView.addMarker(e[e.length - 1].lat, e[e.length - 1].lon, b.a.getSegmentEndMarkerOptions()),
                                o.segmentEntities.push(o.segmentEntity)
                            }, o.disableConvert)
                        } else {
                            var s = t[0]
                              , l = t[t.length - 1];
                            this.segmentEntity.polyline = this.mapView.addPolyline(i, {
                                width: 2,
                                strokeColor: "#0000ff"
                            }),
                            this.segmentEntity.startMarkerId = this.mapView.addMarker(s.latitude, s.longitude, b.a.getSegmentStartMarkerOptions()),
                            this.segmentEntity.endMarkerId = this.mapView.addMarker(l.latitude, l.longitude, b.a.getSegmentEndMarkerOptions()),
                            this.segmentEntities.push(this.segmentEntity)
                        }
                    }
                },
                hideSegment: function(e) {
                    var t = o.a.find(this.segmentEntities, function(t) {
                        return t.segment.get("uuid") == e
                    });
                    t && this.removeSegmentEntity(t)
                },
                removeSegmentEntity: function(e) {
                    this.mapView.removeMarker(e.startMarkerId),
                    this.mapView.removeMarker(e.endMarkerId),
                    this.mapView.removePolyline(e.polyline),
                    this.segmentEntities = o.a.reject(this.segmentEntities, function(t) {
                        return e.segment.get("uuid") == t.segment.get("uuid")
                    })
                },
                removeSegmentEntities: function() {
                    var e = o.a.clone(this.segmentEntities);
                    o.a.each(e, function(e) {
                        this.removeSegmentEntity(e)
                    }, this)
                },
                hideLaps: function() {
                    this.lapsAreDisplayed && (o.a.each(this.lapMarkerIds, function(e) {
                        this.mapView.removeMarker(e)
                    }, this),
                    this.lapsAreDisplayed = !1)
                },
                findClosestPoint: function(e, t) {
                    for (var i = this.activityDetails.get("directLatitude"), a = this.activityDetails.get("directLongitude"), n = null, r = 99999999, o = 0; o < i.length; o++) {
                        var s = this.getDistanceFromLatLonInKm(e, t, i[o], a[o]);
                        s < r && (r = s,
                        n = o)
                    }
                    return n
                },
                findClosestPointForBaidu: function(e, t, i, a) {
                    for (var n = null, r = 99999999, o = 0; o < i.length; o++) {
                        var s = this.getDistanceFromLatLonInKm(e, t, i[o], a[o]);
                        s < r && (r = s,
                        n = o)
                    }
                    return n
                },
                getDistanceFromLatLonInKm: function(e, t, i, a) {
                    var n = this.deg2rad(i - e)
                      , r = this.deg2rad(a - t)
                      , o = Math.sin(n / 2) * Math.sin(n / 2) + Math.cos(this.deg2rad(e)) * Math.cos(this.deg2rad(i)) * Math.sin(r / 2) * Math.sin(r / 2);
                    return 6371 * (2 * Math.atan2(Math.sqrt(o), Math.sqrt(1 - o)))
                },
                deg2rad: function(e) {
                    return e * (Math.PI / 180)
                },
                onMapReady: function() {
                    this.renderContent()
                },
                onMapViewProviderChanged: function(e) {
                    this.isFullScreen && (n = !0),
                    this.mapProvider = e,
                    this.unloadMap(),
                    this.render()
                },
                onMapCoordinateSystemSelected: function() {
                    this.coordinateSystem === B ? (this.changedCoordinateSystem(M),
                    this.coordinateSystem = M) : (this.changedCoordinateSystem(B),
                    this.coordinateSystem = B)
                },
                changedCoordinateSystem: function(e) {
                    this.coordinateSystem = e,
                    this.rendered = !1,
                    this.destroy(),
                    this.updatePolyline();
                    var t = this.activityDetails.get("directLatitude")[this.currentDurationIndex]
                      , i = this.activityDetails.get("directLongitude")[this.currentDurationIndex]
                      , a = this;
                    if (d.a.isOutOfChina(t, i)) {
                        var n = this.mapView.addMarker(t, i, this.options);
                        this.currentPositionMarker && this.mapView.removeMarker(this.currentPositionMarker),
                        this.currentPositionMarker = n
                    } else
                        d.a.convertPointHasType([i, t], function(e) {
                            var t = a.mapView.addMarker(e.lat, e.lon, a.options);
                            a.currentPositionMarker && a.mapView.removeMarker(a.currentPositionMarker),
                            a.currentPositionMarker = t
                        }, a.coordinateSystem);
                    this.hideLaps()
                },
                onPlayerButtonClicked: function(e) {
                    e.preventDefault(),
                    this.player.togglePlayback()
                },
                onPlayerPlaybackChanged: function() {
                    this.player.get("mode") == g.a.Modes.Playing ? (this.$(".play").hide(),
                    this.$(".pause").show(),
                    this.pushPlayActivityAnalyticsEvents()) : (this.$(".pause").hide(),
                    this.$(".play").show())
                },
                pushPlayActivityAnalyticsEvents: function() {
                    w.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Play Activity"
                    })
                },
                onPlayerXChanged: function() {
                    if (this.activityDetails.has("polyline")) {
                        var e = this.player.get("x");
                        if (!(this.activityDetails.get("polyline").length < 1)) {
                            var t = this.activityDetails.get(this.player.get("xAxisType"));
                            if (t) {
                                "sumDistance" == this.player.get("xAxisType") && (e = h.a.revertDistance(e, this.model.getActivityTypeKey()));
                                for (var i, a, n = 0, r = 0; r < t.length; r++) {
                                    if (t[r] > e) {
                                        n = r - 1;
                                        break
                                    }
                                }
                                if (this.options = b.a.getPlayerPositionMarkerOptions(),
                                i = this.activityDetails.get("directLatitude")[n],
                                a = this.activityDetails.get("directLongitude")[n],
                                i && a)
                                    if (b.a.userInChina()) {
                                        this.currentDurationIndex = n;
                                        var o = this;
                                        if (d.a.isOutOfChina(i, a)) {
                                            var s = this.mapView.addMarker(i, a, this.options);
                                            this.currentPositionMarker && this.mapView.removeMarker(this.currentPositionMarker),
                                            this.currentPositionMarker = s
                                        } else
                                            d.a.convertPointHasType([a, i], function(e) {
                                                var t = o.mapView.addMarker(e.lat, e.lon, o.options);
                                                o.currentPositionMarker && o.mapView.removeMarker(o.currentPositionMarker),
                                                o.currentPositionMarker = t
                                            }, o.coordinateSystem)
                                    } else {
                                        s = this.mapView.addMarker(i, a, this.options);
                                        this.currentPositionMarker && this.mapView.removeMarker(this.currentPositionMarker),
                                        this.currentPositionMarker = s
                                    }
                            }
                        }
                    }
                },
                onLapsToggled: function(e) {
                    e ? this.isApneaDiving() ? this.displayDives() : this.displayLaps() : this.hideLaps()
                },
                unloadMap: function() {
                    this.removeSegmentEntities(),
                    this.removeCustomLayers(),
                    this.mapView && (this.mapView.off(),
                    this.mapView.$el.empty(),
                    this.mapView = null),
                    this.mapControlsView && (this.mapControlsView.off(),
                    this.mapControlsView.$el.empty(),
                    this.mapControlsView = null),
                    this.lapsAreDisplayed = !1,
                    this.rendered = !1,
                    e(window).off("resize.activityMapView")
                },
                hide: function() {
                    this.$el.hide()
                },
                show: function() {
                    this.$el.show()
                },
                enableDisableMapScrolling: function(e) {
                    o.a.isObject(e) && this.mapCanvas.toggleClass("pointer-events-none");
                    var t = this.mapCanvas.hasClass("pointer-events-none") ? c.a.localize("enable_scrolling") : c.a.localize("disable_scrolling");
                    this.mapControlsView.setTextForEnableDisableScrollButton(t)
                },
                updatePolyline: function() {
                    this.activityDetails.has("polyline") && !this.isDivingActivity() || !this.hasStartOrEndPoints() ? this.mapPolyline = this.activityDetails.get("polyline") : (this.hasStartPoint() && this.mapPolyline.push({
                        lat: this.model.get("startLatitude"),
                        lon: this.model.get("startLongitude")
                    }),
                    this.hasEndPoint() && this.mapPolyline.push({
                        lat: this.model.get("endLatitude"),
                        lon: this.model.get("endLongitude")
                    })),
                    this.renderContent()
                },
                hasStartPoint: function() {
                    return this.model.has("startLongitude") && this.model.has("startLatitude")
                },
                hasEndPoint: function() {
                    return this.model.has("endLongitude") && this.model.has("endLatitude")
                },
                hasStartOrEndPoints: function() {
                    return this.hasStartPoint() || this.hasEndPoint()
                },
                isDivingActivity: function() {
                    return _.h.isDivingActivity(this.model.get("activityTypeDTO").typeKey)
                },
                isApneaDiving: function() {
                    return _.h.isApneaDiving(this.model.get("activityTypeDTO").typeKey)
                },
                isSafetyEvent: function() {
                    return _.h.isSafetyEvent(this.model.get("activityTypeDTO").typeKey)
                },
                setDisplayEnd: function(e) {
                    this.displayEnd = e
                },
                getDisplayEnd: function() {
                    return this.displayEnd
                },
                setParentActivityTypeKey: function(e) {
                    this.parentActivityTypeKey = e
                },
                getParentActivityTypeKey: function() {
                    return this.parentActivityTypeKey
                },
                onFullScreenBtnClicked: function(e) {
                    this.isBackClicked && this.isBackInCode ? this.isBackInCode = !1 : (this.isFullScreen = !this.isFullScreen,
                    this.displayFullscreen(this.isFullScreen))
                },
                displayFullscreen: function(e) {
                    this.mapControlsView.setFullScreen(e),
                    this.toggleFullScreenMap(e),
                    this.handlingKeyboardEvent(e),
                    this.handleBackButton(e),
                    n && !e ? (n = !1,
                    this.unloadMap(),
                    this.render()) : (this.toggleFullScreenButton(),
                    this.mapView.resizeMap(),
                    this.zoomToActivity(e))
                },
                handleBackButton: function(e) {
                    if (!n || !e)
                        if (!this.isBackClicked && this.isHistoryPushed && (this.isHistoryPushed = !1,
                        this.isBackInCode = !0,
                        history.go(-1)),
                        e && !this.isHistoryPushed) {
                            this.isHistoryPushed = !0;
                            var t = -1 === location.href.indexOf("fullscreen=true") ? location.href + "?fullscreen=true" : location.href;
                            history.pushState(null, null, t);
                            var i = this;
                            window.onpopstate = function() {
                                i.isBackClicked = !0,
                                i.onFullScreenBtnClicked()
                            }
                        } else
                            this.isHistoryPushed = !1,
                            this.isBackClicked = !1,
                            window.onpopstate = null
                },
                fitMapToActivity: function() {
                    this.mapView.fitMapToPoints(this.polylinePoints)
                },
                zoomToActivity: function(e) {
                    this.model.isParent() && !e ? this.zoomToMarkerBounds() : this.fitMapToActivity()
                },
                toggleFullScreenMap: function(e) {
                    e ? (this.mapView.toggleMapInteraction(!0),
                    this.$el.addClass("full-screen-map")) : this.$el.removeClass("full-screen-map")
                },
                toggleFullScreenButton: function() {
                    this.$("#fullScreenBtn i").removeClass("hidden"),
                    this.isFullScreen ? this.$("#fullScreenBtn i.icon-full-screen").addClass("hidden") : this.$("#fullScreenBtn i.icon-close").addClass("hidden")
                },
                handlingKeyboardEvent: function(e) {
                    e ? (this.initialKeyUp = document.onkeyup,
                    document.onkeyup = this.handlingEscape.bind(this)) : document.onkeyup = this.initialKeyUp
                },
                handlingEscape: function(e) {
                    27 === e.keyCode && this.onFullScreenBtnClicked()
                },
                addMapLayer: function(e) {
                    var t = this;
                    if (o.a.each(this.polylines, function(e) {
                        this.mapView.removePolyline(e)
                    }, this),
                    Object.keys(this.customLayers).forEach(function(i) {
                        i !== e && t.customLayers[i] && (t.mapView.removePolyline(t.customLayers[i].polyline),
                        t.customLayers[i].visible = !1)
                    }),
                    this.customLayers[e])
                        this.mapView.showPolyline(this.customLayers[e].polyline),
                        this.customLayers[e].visible = !0;
                    else if (_.f[e]) {
                        var i = _.f[e].dataKey
                          , a = this.getHotlinePolyData(this.activityDetails.get(i));
                        if (b.a.userInChina()) {
                            for (var n = 0; n < a.length; n++)
                                if (d.a.isOutOfChina(a[n].lat, a[n].lon)) {
                                    this.disableConvert = !0;
                                    break
                                }
                            if (this.disableConvert)
                                this.updateCustomLayerPoints(e, a);
                            else {
                                var r = this;
                                this.gritPoints = a;
                                new Promise(function(e) {
                                    d.a.convertMultiplePointsHasType(a, function(t) {
                                        for (var i = 0; i < t.length; i++)
                                            r.gritPoints[i].lat = t[i].lat,
                                            r.gritPoints[i].lon = t[i].lon;
                                        e()
                                    }, r.coordinateSystem, r.disableConvert)
                                }
                                ).then(function(i) {
                                    t.updateCustomLayerPoints(e, t.gritPoints),
                                    o.a.each(t.polylines, function(e) {
                                        this.mapView.removePolyline(e)
                                    }, t)
                                })
                            }
                        } else
                            this.updateCustomLayerPoints(e, a)
                    }
                },
                removeMapLayer: function(e) {
                    var t = this;
                    this.customLayers[e] && (this.mapView.removePolyline(this.customLayers[e].polyline),
                    this.customLayers[e].visible = !1,
                    this.userMapSetting.setCustom(e, !1),
                    this.userMapSetting.save());
                    var i = null;
                    o.a.each(o.a.keys(this.customLayers), function(e) {
                        t.customLayers[e].visible && (i = t.customLayers[e])
                    }),
                    i || o.a.each(this.polylines, function(e) {
                        this.mapView.showPolyline(e)
                    }, this)
                },
                getHotlinePolyData: function(e) {
                    for (var t = [], i = this.activityDetails.get("directLongitude"), n = this.activityDetails.get("directLatitude"), r = 0; r < e.length; r++) {
                        var o = e[r]
                          , s = n[r]
                          , l = i[r];
                        null !== s && null !== l && t.push(new a.Map.Point(s,l,void 0,o))
                    }
                    return t
                },
                destroy: function() {
                    this.stopListening(),
                    this.markers && o.a.each(this.markers, function(e) {
                        e && this.mapView.removeMarker(e)
                    }, this),
                    this.polylines && o.a.each(this.polylines, function(e) {
                        e && this.mapView.removePolyline(e)
                    }, this),
                    this.removeCustomLayers()
                },
                removeCustomLayers: function() {
                    o.a.each(o.a.keys(this.customLayers), function(e) {
                        this.customLayers[e] && this.customLayers[e].polyline && this.mapView.removePolyline(this.customLayers[e].polyline)
                    }, this)
                },
                updateCustomLayerPoints: function(e, t) {
                    var i = _.g[e].getPaletteInfo(t, this.mapOverlayModels[e])
                      , a = i.palette
                      , n = i.minMax;
                    this.customLayers[e] = {
                        polyline: this.mapView.addHotlinePolyline(t, {
                            min: n.min,
                            max: n.max,
                            palette: a,
                            weight: 4,
                            outlineColor: "#000000",
                            outlineWidth: 1,
                            useEntireMapLatLngs: !0
                        }),
                        visible: !0
                    }
                },
                isMountainBikeActivity: function() {
                    return _.h.isMountainBikeActivity(this.model.get("activityTypeDTO").typeKey)
                }
            });
            O.Events = z,
            t.a = O
        }
        ).call(this, i(9), i(1320))
    },
    4537: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            idAttribute: "uuid",
            urlRoot: "/proxy/course-service/segment/"
        });
        t.a = n
    },
    4538: function(e, t, i) {
        "use strict";
        var a = i(246)
          , n = i(10)
          , r = i.n(n)
          , o = i(89)
          , s = i(4539)
          , l = i.n(s);
        t.a = function(e) {
            var t = e.palette
              , i = e.minLabel
              , s = e.maxLabel
              , c = Object(n.useRef)(null);
            return Object(n.useEffect)(function() {
                !function() {
                    for (var e = c.current.getContext("2d"), i = e.createLinearGradient(0, 0, 60, 9), n = Object.entries(t), r = 0; r < n.length; r++) {
                        var o = n[r]
                          , s = Object(a.a)(o, 2)
                          , l = s[0]
                          , h = s[1];
                        i.addColorStop(l, h)
                    }
                    e.fillStyle = i,
                    e.fillRect(0, 0, 60, 9)
                }()
            }, []),
            r.a.createElement("div", {
                className: l.a.legendContainer
            }, r.a.createElement("span", {
                className: l.a.legendLabel
            }, r.a.createElement(o.a, {
                ns: "pacepro",
                content: i
            })), r.a.createElement("canvas", {
                ref: c,
                width: 60,
                height: 9
            }), r.a.createElement("span", {
                className: l.a.legendLabel
            }, r.a.createElement(o.a, {
                ns: "pacepro",
                content: s
            })))
        }
    },
    4539: function(e, t, i) {
        var a = i(4540);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    4540: function(e, t, i) {
        (t = e.exports = i(34)(!0)).push([e.i, "\n\n.MapLegend_legendContainer__uD-ZN {\n    margin-top: 5px;\n}\n\n.MapLegend_legendLabel__1krzc {\n    margin: 5px;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Map/components/MapLegend.css"],
            names: [],
            mappings: ";;AAAA;IACI,gBAAe;CACnB;;AAEA;IACI,YAAW;CACf",
            file: "MapLegend.css",
            sourcesContent: [".legendContainer {\n    margin-top: 5px;\n}\n\n.legendLabel {\n    margin: 5px;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            legendContainer: "MapLegend_legendContainer__uD-ZN",
            legendLabel: "MapLegend_legendLabel__1krzc"
        }
    },
    4541: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = (i(0),
        i(7))
          , o = i(1578)
          , s = o.a.extend({
            lapTemplateHtml: '<div class="map-control-item laps"><label for="laps-checkbox"><input type="checkbox" id="laps-checkbox"><%= lapToggleText %></label></div>',
            initialize: function(e) {
                o.a.prototype.initialize.call(this, e),
                this.showLapsToggle = e.showLapsToggle,
                this.isMobileViewScrollingEnabled = !1,
                this.lapToggleText = e.lapToggleText,
                this.isFullScreen = e.isFullScreen
            },
            render: function() {
                if (o.a.prototype.render.call(this),
                this.lapTemplate || (this.lapTemplate = n.a.template(this.lapTemplateHtml)),
                this.showLapsToggle && this.$el.append(this.lapTemplate({
                    Localizer: r.a,
                    lapToggleText: this.lapToggleText
                })),
                !this.isFullScreen) {
                    var e = this.isMobileViewScrollingEnabled ? r.a.localize("disable_scrolling") : r.a.localize("enable_scrolling")
                      , t = n.a.template('<button class="map-control-item scrolling visible-phone">' + e + "</button>");
                    "google" !== this.mapView.mapProvider && this.$el.append(t())
                }
            },
            setFullScreen: function(e) {
                this.isFullScreen = e,
                this.render()
            },
            onLapsToggled: function(e) {
                this.trigger(s.Events.LapsToggled, this.$("#laps-checkbox").is(":checked"))
            },
            onEnableDisableScrollingClicked: function(e) {
                this.isMobileViewScrollingEnabled = !this.isMobileViewScrollingEnabled,
                this.trigger(s.Events.ENABLE_DISABLE_MAP_SCROLL, e)
            }
        });
        s.prototype.events = n.a.clone(o.a.prototype.events),
        s.prototype.events["change #laps-checkbox"] = "onLapsToggled",
        s.prototype.events["click .scrolling"] = "onEnableDisableScrollingClicked",
        s.Events.LapsToggled = "LapsToggled",
        s.Events.ENABLE_DISABLE_MAP_SCROLL = "ENABLE_DISABLE_MAP_SCROLL",
        t.a = s
    },
    4542: function(e, t, i) {
        "use strict";
        var a, n = i(2), r = i(8), o = i.n(r), s = i(0), l = i.n(s), c = i(7), h = i(11), p = i(4543), d = i.n(p);
        t.a = l.a.View.extend({
            template: o.a.template(d.a),
            events: {
                click: "onWeatherViewClicked"
            },
            initialize: function(e) {
                if (this.weather = e.weather,
                this.activityType = e.activityType,
                !this.weather)
                    throw "weather required for ActivityMapWeatherView"
            },
            render: function() {
                this.$el.html(this.template({
                    Personalizer: h.a,
                    Localizer: c.a,
                    weather: this.weather.toJSON(),
                    activityType: this.activityType,
                    imageUrl: this.imageUrl()
                }))
            },
            onWeatherViewClicked: function() {
                this.toggleView()
            },
            toggleView: function() {
                this.$el.toggleClass("weather-large")
            },
            imageUrl: function() {
                var e = this.weather.get("weatherTypeDTO");
                return e ? this.mapWeatherDescriptionToImage(e.desc) : null
            },
            mapWeatherDescriptionToImage: function(e) {
                var t = this.weatherDescriptionToImage[e];
                return t ? "/web-images/weather/icon_weather_".concat(t) : null
            },
            weatherDescriptionToImage: (a = {},
            Object(n.a)(a, "Clear", "clear.svg"),
            Object(n.a)(a, "Mostly Clear", "clear.svg"),
            Object(n.a)(a, "Fair", "clear.svg"),
            Object(n.a)(a, "Cloudy", "cloudy.svg"),
            Object(n.a)(a, "Mostly Cloudy", "cloudy.svg"),
            Object(n.a)(a, "Fog", "fog.svg"),
            Object(n.a)(a, "Drizzle", "fog.svg"),
            Object(n.a)(a, "Mist", "fog.svg"),
            Object(n.a)(a, "Smoke", "fog.svg"),
            Object(n.a)(a, "Haze", "fog.svg"),
            Object(n.a)(a, "Dust", "fog.svg"),
            Object(n.a)(a, "Sand", "fog.svg"),
            Object(n.a)(a, "Volcanic Ash", "fog.svg"),
            Object(n.a)(a, "Hail", "hail.svg"),
            Object(n.a)(a, "Partly Cloudy", "partlycloudy.svg"),
            Object(n.a)(a, "Precip", "rain.svg"),
            Object(n.a)(a, "Rain", "rain.svg"),
            Object(n.a)(a, "Heavy Rain", "rain.svg"),
            Object(n.a)(a, "Light Rain", "rain.svg"),
            Object(n.a)(a, "Showers", "rain.svg"),
            Object(n.a)(a, "Light Showers", "rain.svg"),
            Object(n.a)(a, "Heavy Showers", "rain.svg"),
            Object(n.a)(a, "Heavy Snow", "snow.svg"),
            Object(n.a)(a, "Light Snow", "snow.svg"),
            Object(n.a)(a, "Snow", "snow.svg"),
            Object(n.a)(a, "Thunderstorm", "tstorm.svg"),
            Object(n.a)(a, "Tornado", "tornado.svg"),
            Object(n.a)(a, "Sqall", "wind.svg"),
            Object(n.a)(a, "Ice", "wintermix.svg"),
            a)
        })
    },
    4543: function(e, t) {
        e.exports = '<% var windSpeedVal = Personalizer.personalizeWindSpeed(weather.windSpeed); %>\n<% var unit = Localizer.localize(Personalizer.getWindSpeedUnitKey()); %>\n<% var windDir = (weather.windDirectionCompassPoint != \'N/A\' && weather.windDirectionCompassPoint !== null ) ? Localizer.localize(\'weather.wind.direction.\' + weather.windDirectionCompassPoint) : \'\' %>\n<div class="map-control-item">\n    <span class="trigger"><i class="icon-arrow-left"></i></span>\n    <% if (weather.temp != null) {  %>\n        <span class="temperature" title="<%- Personalizer.personalizeTemperature(weather.temp) %>\xb0 <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %>"><%- Personalizer.personalizeTemperature(weather.temp) %>\xb0</span>\n    <% } %>\n\n    <% if (weather.weatherTypeDTO && imageUrl) { %>\n        <span class="weather-icon" title="<%- weather.weatherTypeDTO.desc %>"><img src="<%- imageUrl %>" alt="<%- weather.weatherTypeDTO.desc %>"></span>\n    <% } %>\n\n    <% if (weather.windSpeed != null) { %>\n        <span class="wind wind-<%- weather.windDirectionCompassPoint %>" title="<%- Localizer.localize(\'wind_speed_and_direction\', windSpeedVal, unit, windDir) %>"><%- windSpeedVal %></span>\n    <% } %>\n\n    <% if (weather.relativeHumidity !== null && activityType === "auto_racing") { %>\n    <span class="humidity-percentage"><%- Localizer.localize(\'weather_humidity_percentage\', weather.relativeHumidity) %></span>\n    <% } %>\n    <span class="details">\n        <ul>\n            <% if (weather.apparentTemp != null) { %>\n            <li class="relativity"><%- Localizer.localize(\'weather_feels_like\', Personalizer.personalizeTemperature(weather.apparentTemp))  %></li>\n            <% } %>\n\n            <% if (weather.windSpeed != null) { %>\n            <li class="wind-details"><%- Localizer.localize(\'wind_speed_and_direction\', windSpeedVal, unit, windDir) %></li>\n            <% } %>\n\n            <% if (weather.relativeHumidity != null) { %>\n            <li class="humidity"><%- Localizer.localize(\'weather_percent_humidity\', weather.relativeHumidity) %></li>\n            <% } %>\n\n            <% if (weather.weatherStationDTO != null) { %>\n            <li class="source"><%- Localizer.localize(\'weather_source\', weather.weatherStationDTO.id) %></li>\n            <% } %>\n        </ul>\n    </span>\n</div>\n'
    },
    4544: function(e, t) {
        e.exports = '<div class="span12">\n    <div id="activity-map-canvas" class="activity-map-canvas" style="min-width: 300px;"></div>\n\n    <div id="map-controls" class="map-controls"></div>\n\n    <% if (hasPlayButton) { %>\n    <div class="map-controls player" title="<%- Localizer.localize(\'activity_player_tooltip\') %>">\n        <button class="map-control-item play" style="display: block;" aria-label="<%-\xa0Localizer.localize(\'icon_play\')\xa0%>"><i class="icon-pointer-right"></i></button>\n        <button class="map-control-item pause" style="display: none;" aria-label="<%-\xa0Localizer.localize(\'icon_pause\')\xa0%>"><span></span><span></span></button>\n    </div>\n    <% } %>\n\n    <div class="map-controls flex-wrap pull-right">\n        <span id="weather-controls" class="weather"></span>\n        <button id="fullScreenBtn" class="map-control-item full-screen-btn">\n            <% if (isFullScreen) { %>\n                <i class="icon-full-screen hidden"></i>\n                <i class="icon-close" \n                    aria-label="<%-\xa0Localizer.localize(\'close\')\xa0%>"></i>\n            <% } else { %>\n                <i class="icon-full-screen" \n                    aria-label="<%-\xa0Localizer.localize(\'full_screen\')\xa0%>"></i>\n                <i class="icon-close hidden"></i>\n            <% } %>\n        </button>\n    </div>\n</div>\n<div class="map-legend-container">\n    <div class="map-legend" id="activityMapLegend"></div>\n</div>'
    },
    4545: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(327)
              , h = i(35)
              , p = i(31)
              , d = i(4546)
              , u = i(20)
              , g = i(2652)
              , m = i(1438)
              , f = i(202)
              , y = i(1510)
              , v = i(1788)
              , b = i(447)
              , A = i(4548)
              , C = i(1309)
              , w = i(57)
              , _ = i(37)
              , x = i(42)
              , S = i(1562)
              , T = i(4550)
              , E = i.n(T)
              , k = i(1316)
              , L = i(33)
              , P = {
                PersonalRecordsChanged: "PersonalRecordsChanged",
                PrivacyChanged: "PrivacyChanged",
                RestoreActivity: "RestoreActivity",
                ExportSplitsCSV: "ExportSplitsCSV"
            }
              , z = o.a.View.extend({
                template: n.a.template(E.a),
                events: {
                    "click #btn-favorite": "onFavoriteClicked",
                    "click .btn-edit": "onEditClicked",
                    "click #btn-compare": "onBtnCompare",
                    "click #btn-set-as-pr:not(.disabled)": "onBtnSetAsPr",
                    "click #btn-save-as-course": "onBtnSaveAsCourse",
                    "click #btn-send-to-device": "onBtnSendToDevice",
                    "click #btn-delete": "onBtnDeleteActivity",
                    "click #btn-export-original": "onExportOriginal",
                    "click #btn-export-tcx": "onExportTcx",
                    "click #btn-export-gpx": "onExportGPx",
                    "click #btn-export-google-earth": "onExportKml",
                    "click #btn-export-csv": "onExportCsv",
                    "click #btn-activity-trim": "onAdvancedEditClicked",
                    "click #btn-activity-restore": "onActivityRestoreClicked"
                },
                initialize: function(e) {
                    if (this.conversation = e.conversation,
                    this.usersPersonalRecords = e.usersPersonalRecords,
                    this.userUnit = e.userUnit,
                    this.viewerIsAuthenticated = e.viewerIsAuthenticated,
                    this.viewerIsConnected = e.viewerIsConnected,
                    this.mapProviderPreference = e.mapProviderPreference,
                    this.userConnections = e.userConnections,
                    this.activityTypes = e.activityTypes,
                    this.addThisSharingEnabled = e.addThisSharingEnabled,
                    this.canShowAdvancedActivityEdit(e.canShowAdvancedActivityEdit),
                    this.canShowActivityRestore(e.canShowActivityRestore),
                    this.previousId = null,
                    this.setUpPreviousId(),
                    !this.userUnit)
                        throw "userUnit required for ActivityToolbarView";
                    this.updateButtonStates()
                },
                updateButtonStates: function() {
                    this.viewAsOwner = u.a.getDisplayName() === this.model.get("userInfoDto").displayname,
                    this.buttonSettings = this.buttonSettings || {},
                    this.buttonSettings.edit = !1,
                    this.buttonSettings.favorite = !1,
                    this.buttonSettings.privacy = !1,
                    this.buttonSettings.setpr = !1,
                    this.buttonSettings.savecourse = !0,
                    this.buttonSettings.sendtodevice = !1,
                    this.buttonSettings.exportorig = !1,
                    this.buttonSettings.exporttcx = !1,
                    this.buttonSettings.exportgpx = !1,
                    this.buttonSettings.exportgoogle = !1,
                    this.buttonSettings.exportcsv = !1,
                    this.buttonSettings.delete = !1;
                    var e = this.model.isParent()
                      , t = !x.h.isDivingActivity(this.model.get("activityTypeDTO").typeKey);
                    this.viewAsOwner ? (this.buttonSettings.edit = !0,
                    this.buttonSettings.favorite = !this.model.hasParent(),
                    this.buttonSettings.privacy = !this.model.hasParent(),
                    this.buttonSettings.setpr = this.canSetPR(this.model.get("activityTypeDTO").typeKey),
                    this.buttonSettings.savecourse = !e && this.model.get("hasPolyline") && this.model.isActivitySaveAsCourseCapable(),
                    this.buttonSettings.sendtodevice = !e && this.model.get("hasPolyline"),
                    this.buttonSettings.delete = !this.model.hasParent(),
                    this.buttonSettings.compare = !e,
                    this.buttonSettings.exportorig = !0,
                    this.buttonSettings.exporttcx = !e && t,
                    this.buttonSettings.exportgpx = !e && this.model.get("hasChartData") && t,
                    this.buttonSettings.exportkml = !e && this.model.get("hasPolyline"),
                    this.buttonSettings.exportcsv = this.canExportCSV()) : this.viewerIsAuthenticated && (this.buttonSettings.savecourse = !e && this.model.get("hasPolyline") && this.model.isActivitySaveAsCourseCapable(),
                    this.buttonSettings.sendtodevice = !e && this.model.get("hasPolyline"),
                    this.buttonSettings.exportorig = !1,
                    this.buttonSettings.exporttcx = !e && t,
                    this.buttonSettings.exportgpx = !e && this.model.get("hasChartData") && t,
                    this.buttonSettings.exportkml = !e && this.model.get("hasPolyline"),
                    this.buttonSettings.exportcsv = !e)
                },
                canSetPR: function(e) {
                    var t = C.a.map(e);
                    return "cycling" === t || "running" === t || "lap_swimming" === e
                },
                canShowAdvancedActivityEdit: function(e) {
                    this.showAdvancedActivityEdit = e
                },
                canShowActivityRestore: function(e) {
                    this.showActivityRestore = e
                },
                setActivity: function(e) {
                    this.model = e,
                    this.updateButtonStates()
                },
                exportOriginalUrl: function() {
                    return this.buttonSettings.exportorig ? _.default.url("/proxy/download-service/files/activity/" + this.model.id) : "#"
                },
                exportTcxUrl: function() {
                    return this.buttonSettings.exporttcx ? _.default.url("/proxy/download-service/export/tcx/activity/" + this.model.id) : "#"
                },
                exportGpxUrl: function() {
                    return this.buttonSettings.exportgpx ? _.default.url("/proxy/download-service/export/gpx/activity/" + this.model.id) : "#"
                },
                exportKmlUrl: function() {
                    return this.buttonSettings.exportkml ? _.default.url("/proxy/download-service/export/kml/activity/" + this.model.id) : "#"
                },
                exportSplitsCsvUrl: function() {
                    return this.buttonSettings.exportcsv ? _.default.url("/proxy/download-service/export/csv/activity/" + this.model.id) : "#"
                },
                render: function() {
                    var e = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        model: this.model.toJSON(),
                        exportOriginalUrl: this.exportOriginalUrl(),
                        exportTcxUrl: this.exportTcxUrl(),
                        exportGpxUrl: this.exportGpxUrl(),
                        exportKmlUrl: this.exportKmlUrl(),
                        bs: this.buttonSettings,
                        viewAsOwner: this.viewAsOwner,
                        viewerIsAuthenticated: this.viewerIsAuthenticated,
                        showAdvancedActivityEdit: this.showAdvancedActivityEdit,
                        showActivityRestore: this.showActivityRestore
                    });
                    this.$el.html(e),
                    this.$("li").length < 2 && (this.$("#gear-menu-list").css("visibility", "hidden"),
                    this.$(".icon-gear").css("visibility", "hidden")),
                    this.updateFavoriteIcon(),
                    (this.viewerIsConnected || this.viewAsOwner) && (this.likeView = new f.a({
                        el: this.$(".entry-like"),
                        conversationUuid: this.conversation.get("conversationUuid"),
                        liked: this.conversation.get("likedByUser"),
                        numberOfLikes: this.conversation.get("numberOfLikes"),
                        connections: this.connections,
                        resourceType: this.conversation.get("resourceType"),
                        resourceId: this.conversation.get("resourceId"),
                        isComment: !1,
                        tooltipPlacement: "bottom"
                    }),
                    this.likeView.render()),
                    this.privacyView = new y.a({
                        privacy: this.model.get("accessControlRuleDTO").typeKey,
                        el: this.$("#privacy-view-placeholder"),
                        onlyMeConsent: s.a.localize("activity_privacy_only_me_1"),
                        connectionsConsent: s.a.localize("activity_privacy_connections_1"),
                        groupsConsent: s.a.localize("activity_privacy_groups_1"),
                        everyoneConsent: s.a.localize("activity_privacy_everyone_1"),
                        customConsentClass: "privacy-consent"
                    }),
                    this.privacyView.on(y.a.Events.CHANGE, this.onPrivacyChanged, this),
                    this.privacyView.render(),
                    this.sharingView = new v.a({
                        el: this.$(".activity-share"),
                        mapProviderPreference: this.mapProviderPreference,
                        privacy: this.model.get("accessControlRuleDTO").typeKey,
                        url: this.getShareUrl(),
                        locale: h.a.get("preferredLocale"),
                        customClasses: "",
                        currentActivity: this.model,
                        hasMap: this.hasMap,
                        addThisSharingEnabled: this.addThisSharingEnabled
                    }),
                    this.sharingView.render()
                },
                setData: function(e) {
                    for (var t in e)
                        t && (this[t] = e[t])
                },
                getShareUrl: function() {
                    return window.location.protocol + "//" + window.location.host + "/modern/" + o.a.history.fragment
                },
                onFavoriteClicked: function(e) {
                    e.preventDefault(),
                    this.buttonSettings.favorite && (this.model.get("favorite") ? this.model.set("favorite", !1) : this.model.set("favorite", !0),
                    this.updateFavoriteIcon(),
                    this.model.save())
                },
                onEditClicked: function(e) {
                    e.preventDefault(),
                    this.buttonSettings.edit && o.a.history.navigate("activity/manual/" + this.model.id + "/edit", {
                        trigger: !0
                    })
                },
                onAdvancedEditClicked: function(e) {
                    e.preventDefault(),
                    S.b.pushAnalyticsEvent("ClickTrimActivityMenu"),
                    S.b.navigateToAdvancedEdit(this.model.id)
                },
                onActivityRestoreClicked: function(e) {
                    e.preventDefault(),
                    this.trigger(P.RestoreActivity)
                },
                onPrivacyChanged: function(e) {
                    this.buttonSettings.privacy && e && (this.model.set("accessControlRuleDTO", {
                        typeKey: e
                    }),
                    this.model.save(),
                    this.privacyView.setPrivacy(e),
                    this.privacyView.render(),
                    this.sharingView.setPrivacy(e),
                    this.trigger(P.PrivacyChanged))
                },
                updateFavoriteIcon: function() {
                    this.model.get("favorite") ? this.$("#favorite-icon").addClass("active") : this.$("#favorite-icon").removeClass("active")
                },
                onBtnSaveAsCourse: function(e) {
                    e.preventDefault(),
                    this.buttonSettings.savecourse && o.a.history.navigate("/course/create-from-activity/" + this.model.id, {
                        trigger: !0
                    })
                },
                onBtnCompare: function(e) {
                    if (e.preventDefault(),
                    this.buttonSettings.compare) {
                        var t = this.model.get("activityTypeDTO").typeKey
                          , i = this.activityTypes.getParentType(t)
                          , a = {};
                        (i = i ? i.get("typeKey") : null) === t ? a.activityType = t : (a.activityType = i,
                        a.activitySubType = t),
                        this.model.get("summaryDTO").hasOwnProperty("distance") && (a.maxDistance = Math.ceil(this.model.get("summaryDTO").distance)),
                        a.selectedId = this.model.get("activityId");
                        var n = Object(L.a)(a);
                        _.default.navigate("activities".concat(n))
                    }
                },
                onBtnSetAsPr: function(t) {
                    if (t.preventDefault(),
                    this.buttonSettings.setpr) {
                        var i = this
                          , a = this.model.get("activityTypeDTO").typeKey
                          , n = C.a.map(a).toUpperCase()
                          , r = new m.a([],{
                            displayName: this.model.get("userInfoDto").displayname
                        })
                          , o = function(e) {
                            for (var t = [], i = 0; i < e.length; i += 1)
                                e[i].sport === n && t.push(e[i]);
                            return t
                        };
                        r.on("sync", function(t, n, l) {
                            var c = new A.a({
                                title: "pr.action.modal.label",
                                collection: o(t.toJSON()),
                                activityPrs: i.usersPersonalRecords,
                                availablePrTypes: r
                            });
                            c.on(A.a.Events.PR_CREATE_COMPLETED, function(e) {
                                i.usersPersonalRecords.fetch(),
                                i.model.set("personalRecord", !0),
                                i.trigger(P.PersonalRecordsChanged, e),
                                d.close()
                            }),
                            c.on(A.a.Events.PR_CREATE_FAILED, function(e) {
                                alert("An error was encountered when attempting to create/save the Personal Record. Please try again.")
                            }),
                            c.on(A.a.Events.PR_CONFIRM_REPLACE, function() {
                                e(".modal-footer", d.el).css({
                                    display: "none"
                                })
                            });
                            var h = i.model.get("summaryDTO").unitOfPoolLength
                              , d = new p.a({
                                modalTitle: s.a.localize("activity_set_as_pr"),
                                view: c.render(),
                                confirmationTextKey: "pr.action.assign.label",
                                cancelTextKey: "pr.action.cancel.label",
                                showFooter: !0,
                                onSaveButtonClicked: function() {
                                    var t = e("select option:selected", this.el);
                                    if (t && t.length > 0) {
                                        var n = t.attr("data");
                                        c.createPR(i.model, n, t.text(), a, h)
                                    }
                                }
                            });
                            d.render()
                        }),
                        r.fetch()
                    }
                },
                onBtnSendToDevice: function(e) {
                    if (e.preventDefault(),
                    this.buttonSettings.sendtodevice) {
                        var t = new c.a;
                        this.sendToDevicePageView && this.sendToDevicePageView.remove(),
                        window.SEND_TO_DEVICE_TITLE = this.model.get("activityName") || s.a.localize("untitled"),
                        this.sendToDevicePageView = new d.a({
                            collection: t,
                            model: t,
                            messageName: this.model.get("activityName") || s.a.localize("untitled"),
                            messageType: k.a.Queue.MessageTypes.ACTIVITIES,
                            id: this.model.id,
                            displayName: h.a.get("displayName"),
                            userLocale: h.a.get("preferredLocale"),
                            useConnectingPageView: !0
                        }),
                        this.sendToDevicePageView.loadContent();
                        var i = new p.a({
                            view: this.sendToDevicePageView,
                            customBodyClasses: "text-center",
                            showFooter: !1,
                            modalTitle: s.a.localize("queue.send.to.device")
                        });
                        i.render(),
                        i.$el.appendTo(this.$el)
                    }
                },
                onBtnDeleteActivity: function(e) {
                    if (e.preventDefault(),
                    this.buttonSettings.delete) {
                        var t = this.model.isParent() ? "delete_parent_activity_confirmation" : "delete_activity_confirmation"
                          , i = this;
                        new b.a({
                            modalTitle: s.a.localize("delete_activity"),
                            message: s.a.localize(t),
                            confirmationTextKey: "button_delete",
                            cancelTextKey: "button_cancel",
                            onSaveButtonClicked: function() {
                                return i.model.destroy(),
                                i.goToPrevActivityOrModernPage(),
                                !0
                            }
                        }).render()
                    }
                },
                goToPrevActivityOrModernPage: function() {
                    this.previousId ? _.default.navigate("/activity/" + this.previousId) : _.default.navigate("/")
                },
                setUpPreviousId: function() {
                    this.activityRelative = new g.a({
                        activityId: this.model.id
                    });
                    var e = this;
                    this.activityRelative.fetch({
                        success: function() {
                            e.previousId = e.activityRelative.get("previousActivityId")
                        }
                    })
                },
                canExportCSV: function() {
                    var e = this.model.isParent();
                    return this.model.get("activityTypeDTO").typeKey !== w.a.StrengthTraining && this.model.get("activityTypeDTO").typeKey !== w.a.Yoga && !x.h.isDivingActivity(this.model.get("activityTypeDTO").typeKey) && !e
                },
                onExportOriginal: function(e) {
                    e.preventDefault();
                    var t = this.exportOriginalUrl();
                    location.assign(t)
                },
                onExportTcx: function(e) {
                    e.preventDefault();
                    var t = this.exportTcxUrl();
                    location.assign(t)
                },
                onExportGPx: function(e) {
                    e.preventDefault();
                    var t = this.exportGpxUrl();
                    location.assign(t)
                },
                onExportKml: function(e) {
                    e.preventDefault();
                    var t = this.exportKmlUrl();
                    location.assign(t)
                },
                onExportCsv: function(e) {
                    e.preventDefault(),
                    this.trigger(P.ExportSplitsCSV)
                }
            });
            z.Events = P,
            t.a = z
        }
        ).call(this, i(9))
    },
    4546: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(7)
              , r = i(48)
              , o = i(438)
              , s = i(35)
              , l = i(1388)
              , c = i(1845)
              , h = i.n(c)
              , p = i(4547)
              , d = i.n(p)
              , u = l.a.extend({
                events: {
                    "click .send-to-queue": "onSendToDeviceClicked",
                    "click .need-help": "onNeedHelpClicked",
                    "click .close-help ": "onHideHelpClicked",
                    "click .open-help ": "onOpenHelpClicked",
                    "click .device-selected": "onSendToDeviceButtonClicked"
                },
                initialize: function(t) {
                    l.a.prototype.initialize.call(this, t),
                    this.template = e.template(d.a),
                    this.waitTemplate = e.template(h.a),
                    this.on(l.a.Events.NOTIFICATIONS_SENT, this.displayConnectingToAgent, this)
                },
                render: function() {
                    "undefined" != typeof this.hasDevices && l.a.prototype.render.call(this, []),
                    this.$("a").each(function() {
                        a(this).attr("href").indexOf("/start") > -1 && a(this).addClass("colored")
                    })
                },
                displayConnectingToAgent: function(e) {
                    var t = this.waitTemplate({
                        Localizer: n.a
                    });
                    this.$el.html(t);
                    var i = (e.extra.wifiSetup ? n.a.localize("send.to.device.wifi.message") : n.a.localize("send.to.device.message")) + " " + n.a.localize("send.to.device.message2");
                    this.$("#sync-message").hide().html(i),
                    e.extra.wifiSetup ? (this.$("#wireless-message-header").html(n.a.localize("wireless.message", e.extra.deviceName)),
                    this.$(".wireless-message").show(),
                    this.$("#sync-message").show()) : (this.$(".non-wireless-message").show(),
                    this.startTimer()),
                    r.a.formatHelpStartForExpressionEngine(s.a.get("locale")),
                    this.notifyAgent(e.extra.deviceId),
                    a("#sync-message a.colored").each(function() {
                        a(this).attr("target", "_blank")
                    })
                },
                startTimer: function() {
                    var e = this;
                    setTimeout(function() {
                        e.$("#sync-message").show()
                    }, 1e4)
                },
                notifyAgent: function(e) {},
                onOpenHelpClicked: function(e) {
                    e.preventDefault(),
                    this.$(".open-help").hide(),
                    this.$(".close-help").show()
                },
                onHideHelpClicked: function(e) {
                    l.a.prototype.onHideHelpClicked.call(this, e),
                    this.$(".close-help").hide()
                },
                onSendToDeviceButtonClicked: function(e) {
                    this.pushSendToDeviceAnalyticsEvents(),
                    a(e.target).hasClass(".send-to-queue") && l.a.prototype.onSendToDeviceClicked.call(this, e)
                },
                pushSendToDeviceAnalyticsEvents: function() {
                    o.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Send To Device"
                    })
                }
            });
            t.a = u
        }
        ).call(this, i(8), i(9))
    },
    4547: function(e, t) {
        e.exports = '<div class="alert alert-error queue-error" style="display: none">\n    <p><%- Localizer.localize(\'queue.error\') %></p>\n</div>\n\n<% if (hasDevices) { %>\n    <h3 class="bottom-l"><%- sendToDeviceTitle %></h3>\n    <p class="bottom-xs"><%- Localizer.localize(\'agent.select.device\') %></p>\n\n    <% if (devices && devices.length > 0) { %>\n    <select class="bottom-s selected-device" aria-label="<%- Localizer.localize(\'select_one\') %>">\n        <% for (var i = 0; i < devices.length; i++) { %>\n        <option value="<%- devices[i].get(\'deviceId\') %>"><%- devices[i].get(\'displayName\') %></option>\n        <% }; %>\n    </select>\n    <div class="bottom-m device-selected"><a href="#" class="btn btn-large send-to-queue"><%- Localizer.localize(\'queue.send.now\') %></a></div>\n    <% } else { %>\n    <div><%- Localizer.localize(\'no.devices.found\') %></div>\n    <% } %>\n\n    <div class="need-help bottom-xs">\n        <a href="#" class="colored open-help need-help-link"><%- Localizer.localize(\'agent.need.help\') %></a>\n        <a href="#" class="colored close-help" style="display: none;"><%- Localizer.localize(\'agent.close.help\') %></a>\n    </div>\n    <div class="send-help text-left" style="display: none;">\n        <h4><%- Localizer.localize(\'agent.help.title\') %></h4>\n        <p><%- Localizer.localize(\'agent.help.reason\') %></p>\n        <ul>\n            <li><%- Localizer.localize(\'device.not.supported\') %></li>\n            <li><%- Localizer.localize(\'device.not.setup\') %></li>\n        </ul>\n        <p><%= Localizer.localize(\'agent.download.info\') %></p>\n        <hr>\n        <h4><%- Localizer.localize(\'agent.help.title2\') %></h4>\n        <p><%- Localizer.localize(\'device.send.course.title\') %></p>\n        <ul>\n            <li><%- Localizer.localize(\'device.send.course.info\') %></li>\n            <li><%- Localizer.localize(\'device.send.course.info2\') %></li>\n            <li><%- Localizer.localize(\'device.send.course.info3\') %></li>\n        </ul>\n    </div>\n\n<% } else { %>\n    <p><%- Localizer.localize(\'agent.additional.info\') %></p>\n    <div class="text-center">\n        <p><a href="/<%- Localizer.localize(\'agent.download.locale\') %>/start" class="btn btn-large queue-download"><%- Localizer.localize(\'agent.download\') %></a></p>\n    </div>\n    <div class="text-center get-started-overview top-l">\n        <div class="get-started-item">\n            <div class="get-started-img download"></div>\n            <span><%- Localizer.localize(\'agent.download.install\') %></span>\n        </div>\n        <div class="get-started-item">\n            <div class="get-started-img plug-in"></div>\n            <span><%- Localizer.localize(\'agent.plugin\') %></span>\n        </div>\n        <div class="get-started-item">\n            <div class="get-started-img link-device"></div>\n            <span><%- Localizer.localize(\'agent.link.device\') %></span>\n        </div>\n        <div class="get-started-item">\n            <div class="get-started-img connect"></div>\n            <span><%- Localizer.localize(\'gc\') %></span>\n        </div>\n    </div>\n<% }  %>\n\n\n'
    },
    4548: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(4549)
          , o = i.n(r)
          , s = i(1434)
          , l = i(18)
          , c = i(1411)
          , h = (i(11),
        i(7))
          , p = i(0)
          , d = {
            PR_CREATE_COMPLETED: "PR_CREATE_COMPLETED",
            PR_CREATE_FAILED: "PR_CREATE_FAILED",
            PR_CONFIRM_REPLACE: "PR_CONFIRM_REPLACE"
        }
          , u = i.n(p).a.View.extend({
            template: n.a.template(o.a),
            events: {
                "click button.cancel": "onReplaceCancel",
                "click button.confirm": "onReplaceConfirm"
            },
            initialize: function(e) {
                return this.title = e.title,
                this.activityPrs = e.activityPrs,
                this.showExistingPrNotification = !1,
                this.replacingPr = {},
                this.currentPr = {},
                this.prTypeId = null,
                this.model = null,
                this.availablePrTypes = e.availablePrTypes,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: h.a,
                    title: this.title,
                    collection: this.collection,
                    showExistingPrNotification: this.showExistingPrNotification,
                    currentPr: this.currentPr,
                    replacingPr: this.replacingPr
                })),
                this
            },
            alreadyExist: function(e) {
                if (this.activityPrs && this.activityPrs.length > 0)
                    for (var t = this.activityPrs.toJSON(), i = 0; i < t.length; i += 1)
                        if (t[i] && t[i].typeId === parseInt(e))
                            return t[i];
                return []
            },
            getPrValue: function(e, t) {
                switch (parseInt(t)) {
                case 7:
                case 8:
                    return e ? e.get("distance") : "distance";
                case 9:
                    return e ? e.get("elevationGain") : "elevationGain";
                case 10:
                    return e ? e.get("maxPowerTwentyMinutes") : "maxPowerTwentyMinutes";
                case 17:
                    return e ? e.get("distance") : "swim-distance";
                default:
                    return e ? e.get("duration") : "duration"
                }
            },
            personalizeValue: function(e, t, i) {
                var a = this.availablePrTypes.get(t);
                return s.a.getPersonalizerFunction(a.get("key"))(e, i)
            },
            createPR: function(e, t, i, a, r) {
                this.prTypeId = t,
                this.model = e;
                var o = this.alreadyExist(t);
                n.a.isEmpty(o) ? this.savePR() : (this.currentPr = {
                    name: o.activityName,
                    time: l.a.formatMonthDayYear(new Date(o.activityStartDateTimeLocal)),
                    value: this.personalizeValue(o.value, t, o.poolLengthUnit)
                },
                this.replacingPr = {
                    name: e.get("activityName"),
                    time: l.a.formatMonthDayYear(new Date(e.get("startTimeLocal"))),
                    value: this.personalizeValue(this.getPrValue(e, t), t, r)
                },
                this.title = i,
                this.activityTypeKey = a,
                this.showExistingPrNotification = !0,
                this.render(),
                this.trigger(d.PR_CONFIRM_REPLACE))
            },
            onSuccessSave: function(e, t, i) {
                this.trigger(d.PR_CREATE_COMPLETED, e.toJSON())
            },
            onErrorSave: function(e, t, i) {
                this.trigger(d.PR_CREATE_FAILED, t.statusText)
            },
            onReplaceCancel: function(e) {
                return e.preventDefault(),
                !0
            },
            onReplaceConfirm: function(e) {
                e.preventDefault(),
                this.savePR()
            },
            savePR: function() {
                var e = null;
                this.model.get("summaryDTO").unitOfPoolLength && this.model.get("summaryDTO").unitOfPoolLength.unitKey && (e = {
                    id: null,
                    key: this.model.get("summaryDTO").unitOfPoolLength.unitKey,
                    factor: null
                });
                var t = new c.a({
                    typeId: this.prTypeId,
                    activityId: this.model.id,
                    value: this.getPrValue(this.model, this.prTypeId),
                    poolLengthUnit: e
                });
                try {
                    t.save({}, {
                        success: n.a.bind(this.onSuccessSave, this),
                        error: n.a.bind(this.onErrorSave, this),
                        type: "post",
                        beforeSend: function(e) {
                            e.setRequestHeader("X-HTTP-Method-Override", "PUT")
                        }
                    })
                } catch (i) {
                    this.trigger(d.PR_CREATE_FAILED, i)
                }
            }
        });
        u.Events = d,
        t.a = u
    },
    4549: function(e, t) {
        e.exports = '<div style="display: <%- showExistingPrNotification ? \'none\' : \'block\' %>;">\n<h4><%- Localizer.localize(title) %></h4>\n<select aria-label="<%- Localizer.localize(\'select_dropdown\') %></">\n    <% for (var i = 0; i < collection.length; i += 1) { %>\n         <option data="<%- collection[i].id %>"><%- Localizer.localize(collection[i].key) %></option>\n    <% } %>\n</select>\n</div>\n<div class="replace-pr-confirmation" style="display: <%- showExistingPrNotification ? \'block\' : \'none\' %>;">\n    <h4 class="bottom-m"><%- Localizer.localize(\'pr.conflict.replace_existing_record\', title) %></h4>\n    <div class="row-fluid text-center">\n        <div class="span6 old-pr" title="<%- currentPr.name %>">\n            <h5><%- Localizer.localize(\'pr.conflict.current\') %></h5>\n            <div class="pr-time font-thin bottom-xs"><%- currentPr.value %></div>\n            <div class="pr-activity-name"><%- currentPr.name %></div>\n            <div class="pr-date bottom-s"><%- currentPr.time %></div>\n            <button class="btn btn-secondary cancel bottom-s" data-dismiss="modal" aria-hidden="true"><%- Localizer.localize(\'pr.action.keep.label\') %></button>\n        </div>\n        <div class="span6 new-pr" title="<%- replacingPr.activityName %>">\n            <h5><%- Localizer.localize(\'pr.conflict.new\') %></h5>\n            <div class="pr-time font-thin bottom-xs"><%- replacingPr.value %></div>\n            <div class="pr-activity-name"><%- replacingPr.name %></div>\n            <div class="pr-date bottom-s"><%- replacingPr.time %></div>\n            <button class="btn confirm bottom-s"><%- Localizer.localize(\'pr.conflict.replace\') %></button>\n        </div>\n    </div>\n</div>'
    },
    4550: function(e, t) {
        e.exports = '<div>\n    \x3c!--Liking--\x3e\n    <span class="entry-like">\n    </span>\n</div>\n\n<div>\n    <% if (bs.edit) { %>\n    <button id="btn-edit" class="btn-edit favorite page-navigation-action" title="<%- Localizer.localize(\'edit\') %>" aria-label="<%- Localizer.localize(\'edit\') %>">\n        <i class="icon-pencil"></i>\n    </button>\n    <% } %>\n\n    <% if (bs.favorite) { %>\n    <button id="btn-favorite" class="favorite page-navigation-action" title="<%- Localizer.localize(\'tooltip.favorite\') %>" aria-label="<%- Localizer.localize(\'tooltip.favorite\') %>">\n        <i id="favorite-icon" class="icon-star fav"></i>\n    </button>\n    <% } %>\n\n    \x3c!-- Share --\x3e\n    <div class="dropdown page-dropdown activity-share hidden-phone" style="display:inline-block;" title="<%- Localizer.localize(\'share\') %>"  aria-label="<%- Localizer.localize(\'share\') %>">\n\n    </div>\n\n    \x3c!-- Privacy Lock --\x3e\n    <% if (bs.privacy) { %>\n    <div id="privacy-view-placeholder" title="<%- Localizer.localize(\'privacy\') %>" aria-label="<%- Localizer.localize(\'privacy\') %>">\n    </div>\n    <% } %>\n\n    <div class="dropdown page-dropdown">\n        <button \n            class="dropdown-trigger page-navigation-action" \n            data-toggle="dropdown" \n            title="<%- Localizer.localize(\'tooltip_activity_gear\') %>"  \n            aria-label="<%- Localizer.localize(\'tooltip_activity_gear\') %>"\n        ><i class="icon-gear"></i></button>\n\n        <ul id="gear-menu-list" class="dropdown-menu pull-right" role="menu">\n            <li class="clearfix" role="presentation"><i class="icon-gear pull-right"></i></li>\n\n            <% if (viewAsOwner) { %>\n            <li class="<%- bs.compare ? \'\' : \'disabled\' %>" id="btn-compare" aria-disabled="<%- bs.compare ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_compare\') %></a></li>\n            <% } %>\n\n            <% if (viewerIsAuthenticated) { %>\n            <li class="<%- bs.sendtodevice ? \'\' : \'disabled\' %>" id="btn-send-to-device" class="kevin-temp" aria-disabled="<%- bs.sendtodevice ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'queue.send.to.device\') %></a></li>\n            <% } %>\n\n            <% if (viewerIsAuthenticated) { %>\n            <li class="<%- bs.savecourse ? \'\' : \'disabled\' %>" id="btn-save-as-course" aria-disabled="<%- bs.savecourse ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'saveAs.course.title\') %></a></li>\n            <% } %>\n\n            <% if (viewAsOwner) { %>\n            <li class="<%- bs.setpr ? \'\' : \'disabled\' %>" id="btn-set-as-pr" aria-disabled="<%- bs.setpr ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_set_as_pr\') %></a></li>\n            <% } %>\n\n            <% if (viewerIsAuthenticated && viewAsOwner) { %>\n            <li class="divider" role="separator"></li>\n            <li class="<%- bs.exportorig ? \'\' : \'disabled\' %>" id="btn-export-original" aria-disabled="<%- bs.exportorig ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_export_original\') %></a></li>\n            <li class="<%- bs.exporttcx ? \'\' : \'disabled\' %>" id="btn-export-tcx" aria-disabled="<%- bs.exporttcx ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_export_tcx\') %></a></li>\n            <li class="<%- bs.exportgpx ? \'\' : \'disabled\' %>" id="btn-export-gpx" aria-disabled="<%- bs.exportgpx ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_export_gpx\') %></a></li>           \n            <li class="<%- bs.exportkml ? \'\' : \'disabled\' %>" id="btn-export-google-earth" aria-disabled="<%- bs.exportkml ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_export_google_earth\') %></a></li>\n            <li class="<%- bs.exportcsv ? \'\' : \'disabled\' %>" id="btn-export-csv" aria-disabled="<%- bs.exportcsv ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_export_splits_csv\') %></a></li>\n            <% } %>\n\n            <% if (viewAsOwner) { %>\n            <li class="divider" role="separator"></li>\n            <li class="btn-edit <%- bs.edit ? \'\' : \'disabled\' %>" id="btn-menu-edit" aria-disabled="<%- bs.edit ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'edit\') %></a></li>\n            <% if (showAdvancedActivityEdit) { %>\n                <li class="btn-activity-trim" id="btn-activity-trim" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_trim\') %></a></li>\n            <% } %>\n            <% if (showActivityRestore) { %>\n                <li class="btn-activity-restore" id="btn-activity-restore" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_restore\') %></a></li>\n            <% } %>            \n            <li class="<%- bs.delete ? \'\' : \'disabled\' %>" id="btn-delete" aria-disabled="<%- bs.delete ? \'false\' : \'true\' %>" role="none"><a href="#confirm-delete-activity" role="button" data-toggle="modal"><%- Localizer.localize(\'delete.delete\') %></a></li>\n            <% } %>\n        </ul>\n    </div>\n\n</div>\n'
    },
    4551: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(0)
              , n = i.n(a).a.Model.extend({
                idAttribute: "activityId",
                initialize: function(e) {
                    this.activityId = e.activityId,
                    this.ids = e.ids
                },
                url: function() {
                    return "/modern/proxy/activity-service/activity/" + this.activityId + "/images/order"
                },
                update: function(t) {
                    var i = t || {};
                    i.url = this.url(),
                    i.type = "POST",
                    i.data = JSON.stringify(this.ids),
                    i.contentType = "application/json; charset=utf-8",
                    i.beforeSend = function(e) {
                        e.setRequestHeader("X-HTTP-Method-Override", "PUT")
                    }
                    ,
                    e.ajax(i)
                }
            });
            t.a = n
        }
        ).call(this, i(9))
    },
    4552: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(4553)
              , c = i(2653)
              , h = (i(31),
            i(463),
            i(2654),
            i(4556))
              , p = i.n(h)
              , d = {
                ENLARGE_PHOTO: "ENLARGE_PHOTO",
                MODAL_SCROLL: "MODAL_SCROLL",
                REMOVED_PHOTO: "REMOVED_PHOTO",
                REMOVED_MODAL_PHOTO: "REMOVED_MODAL_PHOTO",
                ADD_PHOTOS: "ADD_PHOTOS",
                RENDER_EDIT_VIEW: "RENDER_EDIT_VIEW"
            }
              , u = o.a.View.extend({
                events: {
                    "click .slides .photo": "onEnlargePhoto",
                    "click .next, .prev, .scroll-circle": "onSwitchPhoto",
                    "click .delete-photo": "onRemovePhoto",
                    "click .keep-photo": "onKeepPhoto",
                    "click .confirm-remove-photo": "onConfirmRemovePhoto",
                    "click .dismiss-delete-error": "onDismissError",
                    "click .add-photo-icon, .add-photo-text": "onClickAdd",
                    "click .edit-carousel": "onEditCarousel"
                },
                template: n.a.template(p.a),
                className: "photo-carousel-section",
                initialize: function(e) {
                    this.images = e.images,
                    this.maxFileCount = e.maxFileCount,
                    this.activityId = e.activityId,
                    this.canClickToEnlarge = e.canClickToEnlarge,
                    this.selectedPhotoId = e.selectedPhotoId,
                    this.isEnlarged = e.isEnlarged,
                    this.canManagePhotos = e.canManagePhotos,
                    this.updateUrl = e.updateUrl,
                    this.photoViews = [],
                    this.photoId = null
                },
                render: function() {
                    this.$el.html(this.template({
                        Localizer: s.a
                    }));
                    var t, i = this;
                    e(document).on("keydown", function(e) {
                        i.onArrowClick(e)
                    });
                    for (var a = 0; a < this.images.length; a++) {
                        var n = new l.a({
                            image: this.images[a]
                        });
                        this.$(".slides").append(n.render().el),
                        this.photoViews.push(n)
                    }
                    this.images.length > 0 && (t = this.selectedPhotoId ? this.selectedPhotoId : this.photoViews[0].id,
                    this.updatePhotos(t),
                    this.updateScrollSections());
                    return this.updateAddArea(),
                    this.updateDeleteArea(),
                    this.updateEditCarouselArea(),
                    this
                },
                updatePhotos: function(e) {
                    var t = this.$('.photo[data-photo-id="' + e + '"]');
                    if (t.length > 0) {
                        var i = t[1] ? t[1].parentElement : t[0].parentElement;
                        this.$(".active-photo").addClass("inactive-photo").removeClass("active-photo"),
                        this.$(".active-photo-container").addClass("inactive-photo-container").removeClass("active-photo-container"),
                        t.removeClass("inactive-photo").addClass("active-photo"),
                        i.classList.add("active-photo-container"),
                        i.classList.remove("inactive-photo-container")
                    }
                },
                updateScrollSections: function() {
                    this.updateScrollCircles(),
                    this.updateScrollArrows()
                },
                updateScrollCircles: function() {
                    this.$(".scroll-circle-area").empty();
                    for (var e = 0; e < this.images.length; e++)
                        this.$(".scroll-circle-area").append('<span class="scroll-circle" data-slide-id="' + this.images[e].imageId + '"></span>');
                    var t = this.$(".active-photo").data("photo-id");
                    t ? this.$(".active-circle").removeClass("active-circle") : t = this.photoViews[0].id,
                    this.$('.scroll-circle[data-slide-id="' + t + '"]').addClass("active-circle"),
                    this.images.length <= 1 ? this.$(".scroll-circle-area").css("visibility", "hidden") : this.$(".scroll-circle-area").css("visibility", "visible")
                },
                updateScrollArrows: function() {
                    var e = this.$(".active-photo").data("photo-id");
                    if (null !== e) {
                        for (var t, i, a = this.photoViews.length, n = 0; n < a; n++)
                            if (e === this.photoViews[n].id) {
                                t = (n + 1) % a,
                                i = (n - 1) % a;
                                break
                            }
                        i < 0 && (i += a)
                    } else
                        this.photoViews.length > 1 ? (t = 1,
                        i = this.photoViews.length - 1) : (t = 0,
                        i = 0);
                    this.$(".next").data("slide-id", this.photoViews[t].id),
                    this.$(".prev").data("slide-id", this.photoViews[i].id),
                    1 === this.photoViews.length ? this.hideScrollArrows() : this.showScrollArrows()
                },
                updateAddArea: function() {
                    this.canManagePhotos ? this.images.length < this.maxFileCount ? this.enableAddBtn() : this.disableAddBtn() : this.$(".add-area").hide()
                },
                updateDeleteArea: function() {
                    this.canManagePhotos ? this.$(".delete-photo").show() : this.$(".delete-photo").hide()
                },
                updateEditCarouselArea: function() {
                    this.canManagePhotos && this.images.length >= 2 ? this.$(".edit-carousel").show() : this.$(".edit-carousel").hide()
                },
                onEnlargePhoto: function() {
                    if (this.canClickToEnlarge) {
                        var e = this.$(".active-photo").data("photo-id");
                        this.trigger(d.ENLARGE_PHOTO, e)
                    }
                },
                disableAddBtn: function() {
                    this.$(".add-photo-text").addClass("add-photo-text-disabled").attr("aria-disabled", !0),
                    this.$(".add-photo-text").removeClass("dz-clickable"),
                    this.$(".add-photo-text").removeClass("add-photo-text")
                },
                enableAddBtn: function() {
                    this.$(".add-photo-text-disabled").addClass("add-photo-text"),
                    this.$(".add-photo-text-disabled").addClass("dz-clickable"),
                    this.$(".add-photo-text-disabled").removeClass("add-photo-text-disabled").attr("aria-disabled", !1)
                },
                onSwitchPhoto: function(e) {
                    var t = this.$(e.target).data("slide-id") || this.photoId;
                    this.photoViews.length > 1 && (this.updatePhotos(t),
                    this.updateScrollSections()),
                    this.isEnlarged && this.trigger(d.MODAL_SCROLL, t)
                },
                onModalSwitchPhoto: function(e) {
                    this.photoViews.length > 1 && (this.updatePhotos(e),
                    this.updateScrollSections())
                },
                onRemovePhoto: function() {
                    this.hideScrollArrows(),
                    this.$(".delete-content").css("display", "flex"),
                    this.$(".delete-overlay, .delete-message").css("display", "block")
                },
                onEditCarousel: function() {
                    this.trigger(d.RENDER_EDIT_VIEW)
                },
                onKeepPhoto: function() {
                    this.hideDeleteMessage()
                },
                onConfirmRemovePhoto: function(e, t) {
                    var i = t || this.$(".active-photo").data("photo-id");
                    new c.a({
                        activityId: this.activityId,
                        imageId: i
                    }).destroy({
                        success: function() {
                            for (var e = 0; e < this.images.length; e++)
                                if (i === this.images[e].imageId) {
                                    this.images.splice(e, 1);
                                    break
                                }
                            this.removeGalleryPhoto(i),
                            this.hideDeleteMessage(),
                            this.isEnlarged ? this.trigger(d.REMOVED_MODAL_PHOTO, i) : this.trigger(d.REMOVED_PHOTO, this.images)
                        }
                        .bind(this),
                        error: function() {
                            this.$(".delete-message").css("display", "none"),
                            this.$(".delete-error-message").css("display", "block")
                        }
                        .bind(this)
                    })
                },
                onDismissError: function() {
                    this.hideDeleteMessage()
                },
                onClickAdd: function() {
                    this.canClickToEnlarge && this.trigger(d.ADD_PHOTOS)
                },
                onPhotoUploaded: function(e) {
                    var t = new l.a({
                        image: e
                    });
                    this.$(".slides").append(t.render().el),
                    this.photoViews.push(t),
                    this.images.push(e),
                    1 === this.photoViews.length && this.updatePhotos(e.imageId),
                    this.updateScrollSections()
                },
                hideDeleteMessage: function() {
                    this.$(".delete-content, .delete-overlay, .delete-message, .delete-error-message").css("display", "none"),
                    this.showScrollArrows()
                },
                hideScrollArrows: function() {
                    this.$(".next, .prev").addClass("hidden-arrow")
                },
                showScrollArrows: function() {
                    this.images.length > 1 && this.$(".hidden-arrow").removeClass("hidden-arrow")
                },
                removeGalleryPhoto: function(e) {
                    for (var t, i = 0; i < this.photoViews.length; i++)
                        if (e === this.photoViews[i].id) {
                            this.photoViews[i].destroy(),
                            this.photoViews.splice(i, 1),
                            (t = i) === this.photoViews.length && t--;
                            break
                        }
                    if (t >= 0) {
                        var a = this.photoViews[t].id;
                        this.updatePhotos(a)
                    }
                    this.photoViews.length > 0 && this.updateScrollSections()
                },
                destroy: function() {
                    this.off(),
                    this.remove()
                },
                onArrowClick: function(t) {
                    switch (t.which) {
                    case 37:
                        this.photoId = e(t.target).find(".prev").data("slide-id"),
                        this.onSwitchPhoto(t);
                        break;
                    case 39:
                        this.photoId = e(t.target).find(".next").data("slide-id"),
                        this.onSwitchPhoto(t)
                    }
                }
            });
            u.Events = d,
            t.a = u
        }
        ).call(this, i(9))
    },
    4553: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(4554)
          , c = i.n(l);
        t.a = o.a.View.extend({
            template: n.a.template(c.a),
            tagName: "span",
            className: "inactive-photo-container",
            initialize: function(e) {
                return this.image = e.image,
                this.id = e.image.imageId,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    image: this.image
                })),
                this
            },
            destroy: function() {
                this.off(),
                this.remove()
            }
        })
    },
    4554: function(e, t) {
        e.exports = '<img src="<%- image.url %>" alt="<%- Localizer.localize(\'photos_description\') %>" data-photo-id="<%- image.imageId %>" class="photo inactive-photo">'
    },
    4555: function(e, t) {
        e.exports = '<div class="edit-carousel-overlay">\n     <span class="data-label fine-print"><%- Localizer.localize(\'edit_carousel_text\') %></span>\n     <div class="js-edit-images clearfix">\n          <% for(var i=0; i < images.length; i++) { %>\n               <div class="edit-image-div" data-photo-id="<%- images[i].imageId %>" style="background-image: url(<%- images[i].smallUrl %>);">\n                   <button class="delete-photo-icon" data-photo-id="<%- images[i].imageId %>">&times;</button>\n               </div>\n          <% } %>\n     </div>\n     <div class="overlay-edit-btn">\n           <span>\n               <a class="btn btn-small btn-secondary cancel-edit-carousel"><%- Localizer.localize(\'cancel\') %></a>\n           </span>\n           <span>\n               <a class="btn btn-small btn-save-carousel" disabled><%- Localizer.localize(\'save\') %></a>\n           </span>\n     </div>\n</div>\n\n\n'
    },
    4556: function(e, t) {
        e.exports = '<div class="photo-carousel clearfix">\n    <div class="slider-control-section-container">\n        <div class="add-area">\n            <span class="add-photo-text dz-clickable"><i class="icon-add-photo icon-photo-add dz-clickable"></i><%- Localizer.localize(\'photos_add\') %></span>\n        </div>\n        <div class="slider-control-buttons">\n            <div class="delete-photo"><%- Localizer.localize(\'photos_remove\') %></div>\n            <div class="edit-carousel"><%- Localizer.localize(\'photos_edit\') %></div>\n        </div>\n    </div>\n    <div class="slides">\n        <div class="arrow-bar-left" data-slide-id="">\n            <i class="icon-arrow-left prev"></i>\n        </div>\n        <div class="arrow-bar-right" data-slide-id="">\n            <i class="icon-arrow-right next"></i>\n        </div>\n        <div class="delete-content">\n            <div class="delete-overlay">\n            <div class="delete-message delete-image">\n                <h5 class="bottom-xs delete-text"><%- Localizer.localize(\'photos_remove_confirmation\') %></h5>\n                <span>\n                    <a class="btn btn-secondary keep-photo"><%- Localizer.localize(\'photos_keep\') %></a>\n                </span>\n                <span>\n                    <a class="btn btn-primary btn-danger confirm-remove-photo"><%- Localizer.localize(\'photos_remove\') %></a>\n                </span>\n            </div>\n            <div class="delete-error-message">\n                <h5 class="bottom-xs delete-error-text"><%- Localizer.localize(\'photos_remove_error\') %></h5>\n                <span>\n                    <a class="btn btn-secondary dismiss-delete-error"><%- Localizer.localize(\'photos_dismiss_error\') %></a>\n                </span>\n            </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="slider-control-section-container">\n        <span class="scroll-circle-area"></span>\n    </div>\n</div>'
    },
    4557: function(e, t) {
        e.exports = '<h5 class="bottom-xs photos-header"><%- Localizer.localize(\'photos\') %></h5>\n<div class="add-photos border-wrapper">\n    <h5 class="bottom-xs add-photos-message"><i class="icon-photos icon-photo-add"></i>&nbsp;<%-Localizer.localize(\'photos_add_message\') %></h5>\n</div>'
    },
    4558: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(1725)
              , c = i.n(l)
              , h = i(4559)
              , p = i.n(h)
              , d = i(4560)
              , u = i.n(d)
              , g = i(35)
              , m = {
                DROPPED_EXCESS_PHOTOS: "DROPPED_EXCESS_PHOTOS",
                ADDED_PHOTO: "ADDED_PHOTO",
                UPLOADED_PHOTO: "UPLOADED_PHOTO",
                UPDATE_PROGRESS_BAR: "UPDATE_PROGRESS_BAR",
                UPLOAD_ERROR: "UPLOAD_ERROR"
            }
              , f = {
                acceptedFiles: ".JPG,.jpg,.bmp,.BMP,.gif,.GIF,.wbmp,.WBMP,.png,.PNG,.jpeg,.JPEG",
                maxFilesizeMB: 10,
                maxFiles: 10,
                url: null,
                autoProcessQueue: !0,
                autoQueue: !1,
                rowTemplate: p.a,
                previewsContainer: null,
                responseErrorKey: "photos_upload_error",
                fileTooBigKey: "photos_upload_error_file_too_large",
                tooManyFilesKey: "photos_upload_limit",
                invalidFileTypeKey: "photos_upload_error_invalid_file_type",
                headers: {
                    NK: "NT",
                    "X-app-ver": window.URL_BUST_VALUE,
                    "X-lang": g.a.getFullLocale()
                }
            }
              , y = o.a.View.extend({
                className: "photo-upload",
                initialize: function(e) {
                    if (this.deleteUrl = e.deleteUrl,
                    this.uploadOptions = null,
                    this.droppedFiles = !1,
                    this.pageDragPhotosCount = 0,
                    this.exceedsMax = !1,
                    this.mergeUploadOptions(e.uploadOptions),
                    (n.a.isUndefined(this.uploadOptions.url) || n.a.isNull(this.uploadOptions.url)) && !n.a.isFunction(this.uploadOptions.url))
                        throw "Upload URL must be provided"
                },
                initDropZone: function() {
                    var e = this
                      , t = 0;
                    this.myAwesomeDropzone = new c.a(this.$(".dropzone").get(0),{
                        init: function() {
                            this.on("drop", function(i) {
                                e.droppedFiles = !0;
                                for (var a = this.getAcceptedFiles(), n = 0; n < a.length; n++)
                                    a[n].accepted = !1;
                                e.hideDropMessage(),
                                t = 0
                            }),
                            this.on("dragenter", function(i) {
                                (t += 1) >= 3 && (t -= 1);
                                var a = e.getFilesCount(i);
                                if (e.filesExceedMax(a))
                                    e.$(".exceeds-limit-section").addClass("dropzone-exceeds-limit-overlay"),
                                    e.$(".dropzone-upload-box").addClass("dropzone-exceeds-limit-hover");
                                else {
                                    var n = e.$(".drop-photos-section");
                                    "none" === n.css("display") && (n.css("display", "block"),
                                    e.$(".dropzone-upload-box").addClass("drop-file-hover"))
                                }
                            }),
                            this.on("dragleave", function() {
                                (t -= 1) <= 0 && (e.$(".drop-photos-section").css("display", "none"),
                                e.$(".exceeds-limit-section").removeClass("dropzone-exceeds-limit-overlay"),
                                e.$(".dropzone-upload-box").removeClass("drop-file-hover dropzone-exceeds-limit-hover"),
                                e.pageDragPhotosCount = 2)
                            }),
                            this.on("addedfile", function() {
                                e.trigger(m.ADDED_PHOTO)
                            }),
                            this.on("error", function() {
                                e.trigger(m.UPLOAD_ERROR)
                            }),
                            this.on("totaluploadprogress", function(t) {
                                e.trigger(m.UPDATE_PROGRESS_BAR, t)
                            }),
                            this.on("success", function(t, i) {
                                e.trigger(m.UPLOADED_PHOTO, i),
                                e.droppedFiles = !1,
                                this.maxFiles -= 1
                            })
                        },
                        acceptedFiles: e.uploadOptions.acceptedFiles,
                        maxFilesize: e.uploadOptions.maxFilesizeMB,
                        maxFiles: e.uploadOptions.maxFiles,
                        url: e.uploadOptions.url,
                        accept: function(t, i) {
                            this.options.autoQueue || !e.droppedFiles ? i() : e.totalUploadSize = 0
                        },
                        autoQueue: !0,
                        autoProcessQueue: e.uploadOptions.autoProcessQueue,
                        headers: e.uploadOptions.headers,
                        createImageThumbnails: !1,
                        dictDefaultMessage: "",
                        dictResponseError: s.a.localize(e.uploadOptions.responseErrorKey),
                        dictMaxFilesExceeded: s.a.localize(e.uploadOptions.tooManyFilesKey),
                        dictFileTooBig: s.a.localize(e.uploadOptions.fileTooBigKey),
                        dictInvalidFileType: s.a.localize(e.uploadOptions.invalidFileTypeKey),
                        previewsContainer: e.uploadOptions.previewsContainer,
                        previewTemplate: n.a.template(e.uploadOptions.rowTemplate)({
                            Localizer: s.a
                        })
                    })
                },
                render: function() {
                    return this.$el.html(n.a.template(u.a)({
                        Localizer: s.a
                    })),
                    c.a.createElement = function(t) {
                        return e(t)[0]
                    }
                    ,
                    this.initDropZone(),
                    this
                },
                onDragPhotosInPage: function(e) {
                    this.pageDragPhotosCount += 1;
                    var t = this.getFilesCount(e);
                    this.filesExceedMax(t) ? (this.$(".exceeds-limit-section").addClass("exceeds-limit-overlay"),
                    this.$(".dropzone-upload-box").addClass("exceeds-limit-hover")) : (this.$(".drag-photos-section").css("display", "block"),
                    this.$(".dropzone-upload-box").addClass("drag-file-hover"))
                },
                onDragPhotosOutPage: function() {
                    this.pageDragPhotosCount -= 1,
                    this.pageDragPhotosCount <= 0 ? (this.$(".drag-photos-section").css("display", "none"),
                    this.$(".dropzone-upload-box").removeClass("drag-file-hover exceeds-limit-hover"),
                    this.$(".exceeds-limit-section").removeClass("exceeds-limit-overlay")) : (this.$(".drag-photos-section").css("display", "block"),
                    this.$(".dropzone-upload-box").addClass("drag-file-hover"))
                },
                getFilesCount: function(e) {
                    var t = null;
                    return t = (t = e.dataTransfer && e.dataTransfer.items ? e.dataTransfer.items.length : t) || e.originalEvent.dataTransfer.items.length
                },
                filesExceedMax: function(e) {
                    return (n.a.isUndefined(this.myAwesomeDropzone.maxFiles) || this.myAwesomeDropzone.maxFiles.isNull) && (this.myAwesomeDropzone.maxFiles = this.uploadOptions.maxFiles),
                    this.exceedsMax = e > this.myAwesomeDropzone.maxFiles,
                    this.exceedsMax
                },
                hideDropMessage: function() {
                    this.$(".drop-photos-section, .drag-photos-section").css("display", "none"),
                    this.$(".exceeds-limit-section").removeClass(".exceeds-limit-overlay dropzone-exceeds-limit-overlay"),
                    this.$(".dropzone-upload-box").removeClass("drag-file-hover drop-file-hover exceeds-limit-hover dropzone-exceeds-limit-hover")
                },
                mergeUploadOptions: function(t) {
                    this.uploadOptions = t ? e.extend(!0, {}, f, t) : e.extend(!0, {}, f)
                },
                destroy: function() {
                    this.off(),
                    this.myAwesomeDropzone.disable(),
                    this.remove()
                }
            });
            y.Events = m,
            t.a = y
        }
        ).call(this, i(9))
    },
    4559: function(e, t) {
        e.exports = '<div class="dz-file-preview file-error">\n    <h6 class="file-name" data-dz-name></h6>\n    <h6 class="file-size" data-dz-size></h6>\n    <h6 class="file-error-message" data-dz-errormessage></h6>\n</div>'
    },
    4560: function(e, t) {
        e.exports = '<form class="dropzone dropzone-upload-box dz-clickable">\n    <div class="view-photos"></div>\n    <div class="empty-state"></div>\n    <div class="drop-photos-section">\n        <h6 class="description"><%- Localizer.localize(\'photos_drop_instruction\') %></h6>\n    </div>\n    <div class="drag-photos-section">\n        <h6 class="description"><%- Localizer.localize(\'photos_drag_instruction\') %></h6>\n        <h6 class="description"><%- Localizer.localize(\'photos_upload_limit\') %></h6>\n    </div>\n    <div class="exceeds-limit-section">\n        <h6 class="description"><%- Localizer.localize(\'photos_upload_limit\') %></h6>\n    </div>\n</form>'
    },
    4561: function(e, t) {
        e.exports = '<div class="photo-upload-growl">\n    <div class="alert-growl-bottom-right">\n        <div class="alert-upload animated">\n\n            <h4 class="upload-text"></h4>\n\n            <div class="upload-progress-section">\n                <div class="upload-progress-bar">\n                    <div class="total-upload-progress"></div>\n                </div>\n                <h4 class="cancel-upload"><%- Localizer.localize(\'photos_upload_growl_cancel_upload\') %></h4>\n                <h4 class="dismiss-growl"><%- Localizer.localize(\'photos_upload_growl_dismiss\') %></h4>\n            </div>\n\n            <div class="upload-error-section">\n                <div class="upload-error-information">\n                    <h4 class="upload-error-summary"></h4>\n                    <h4 class="upload-error-dismiss"><%- Localizer.localize(\'photos_upload_growl_dismiss\') %></h4>\n                    <h4 class="upload-error-expand"><%- Localizer.localize(\'photos_upload_growl_expand_list\') %></h4>\n                    <h4 class="upload-error-minimize"><%- Localizer.localize(\'photos_upload_growl_minimize_list\') %></h4>\n                </div>\n                <div class="upload-error-list"></div>\n            </div>\n\n        </div>\n    </div>\n</div>\n\n<div class="photo-upload-error-growl">\n    <div class="alert-growl-bottom-right">\n        <div class="alert-error animated">\n            <h4 class="error-text"><%- Localizer.localize(\'photos_upload_growl_too_many_photos\') %></h4>\n            <h4 class="dismiss-error-growl"><%- Localizer.localize(\'photos_upload_growl_dismiss\') %></h4>\n        </div>\n    </div>\n</div>'
    },
    4562: function(e, t) {
        e.exports = '<div class="upload-photos-dropzone"></div>\n<div class="upload-growl"></div>\n<div class="edit-carousel-content"></div>\n<div class="alert alert-error hidden"></div>\n<div class="photo-carousel-view"></div>'
    },
    4563: function(e, t, i) {
        var a = i(4564);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    4564: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, "/*  ======================\n      Photo Empty State\n      ======================  */\n.photo-empty-state .photos-header {\n        margin-bottom: 8px;\n    }\n.photo-empty-state .add-photos {\n        width: 100%;\n        margin-bottom: 10px;\n        text-align: center;\n        cursor: pointer;\n    }\n.photo-empty-state .add-photos-message {\n        font-size: 18px;\n        color: #121212;\n        letter-spacing: 0;\n        margin: 0;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n        padding: 21px 10px 21px 10px;\n        cursor: pointer;\n    }\n.photo-empty-state .icon-add-photo {\n        padding-right: 10px;\n        line-height: 23px;\n        height: auto;\n        width: auto;\n        cursor: pointer;\n    }\n/*  ======================\n    Photo Carousel\n    ======================  */\n.photo-carousel-section {\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n.photo-carousel {\n        text-align: center;\n        position: relative;\n        margin: auto;\n        width: 100%;\n        height: 100%;\n    }\n.photo-carousel .slides {\n        height: 270px;\n        margin-bottom: 5px;\n        float: left;\n        width: 100%;\n        position: relative;\n    }\n/* Photo Containers */\n.photo-carousel .active-photo-container,\n    .photo-carousel .inactive-photo-container {\n        height: 100%;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-align-items: center;\n                align-items: center;\n        width: 80%;\n        padding-left: 10%;\n    }\n.photo-carousel .inactive-photo-container {\n        display: none;\n    }\n/* Photos */\n.photo-carousel .photo {\n        max-height: 100%;\n        max-width: 100%;\n        height: auto;\n        width: auto;\n        margin-left: auto;\n        margin-right: auto;\n        cursor: pointer;\n    }\n.photo-carousel .active-photo {\n        display: inline;\n    }\n.photo-carousel .inactive-photo {\n        display: none;\n    }\n/* Delete */\n.photo-carousel .delete-content,\n    .photo-carousel .delete-overlay,\n    photo-carousel .edit-carousel-content,\n    .photo-carousel .edit-carousel-overlay {\n        display: none;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 100%;\n        width: 100%;\n        z-index: 1;\n    }\n.photo-carousel .delete-content,\n    .photo-carousel .edit-carousel-content {\n        -webkit-align-items: center;\n                align-items: center;\n    }\n.photo-carousel .delete-overlay,\n    .photo-carousel {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n.modal .photo-carousel {\n        background-color: #000;\n    }\n.slider-control-section-container {\n        padding: 0 10%;\n        /*is 80% because it inherits  box-sizing: content-box;*/\n        width: 80%;\n        float: left;\n        text-align: center;\n        margin: 5px 0;\n    }\n.slider-control-section-container .slider-control-buttons {\n        float: right;\n    }\n.slider-control-section-container .add-area {\n        float: left;\n    }\n.icon-photo-add {\n        margin-right: 5px;\n    }\n.edit-carousel-content {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n.edit-carousel-overlay {\n        margin: 5px;\n        text-align: center;\n    }\n.edit-carousel-content .js-edit-images {\n        margin-bottom: 10px;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n.edit-carousel-content .edit-image-div {\n        margin: 5px;\n        width: 100px;\n        height: 100px;\n        float: left;\n        position: relative;\n        background: no-repeat center center;\n        background-size: cover;\n    }\n.edit-carousel-content .delete-photo-icon {\n        position: absolute;\n        bottom: 5px;\n        right: 5px;\n        display: block;\n        margin: 0;\n        padding: 0;\n        width: 25px;\n        height: 25px;\n        line-height: 1;\n        font-size: 20px;\n        text-align: center;\n        border: 1px solid #888;\n        background: #fff;\n        border-radius: 50%;\n        opacity: 0.8;\n    }\n.edit-carousel-content .overlay-edit-btn {\n        text-align: right;\n        margin-bottom: 15px;\n    }\n.photo-carousel .delete-message,\n    .photo-carousel .delete-error-message,\n    .photo-carousel .edit-carousel-content {\n        z-index: 100;\n        display: none;\n        margin-left: auto;\n        margin-right: auto;\n        visibility: visible;\n    }\n.photo-carousel .delete-error-message .dismiss-delete-error {\n        cursor: pointer;\n    }\n.photo-carousel .delete-content .keep-photo,\n    .photo-carousel .delete-content .confirm-remove-photo {\n        margin: 5px;\n        cursor: pointer;\n    }\n/* Scroll arrows */\n.photo-carousel .arrow-bar-left,\n    .photo-carousel .arrow-bar-right {\n        height: 100%;\n        width: 10%;\n        position: absolute;\n    }\n.photo-carousel .arrow-bar-left {\n        left: 0;\n    }\n.photo-carousel .arrow-bar-right {\n        right: 0;\n    }\n.photo-carousel .icon-arrow-left,\n    .photo-carousel .icon-arrow-right {\n        font-size: 30px;\n        width: auto;\n        margin: 0;\n        height: auto;\n        color: #c7c7c7;\n        opacity: 0.7;\n        position: absolute;\n        top: 50%;\n        cursor: pointer;\n    }\n.photo-carousel .icon-arrow-right {\n        right: 25%;\n    }\n.photo-carousel .icon-arrow-left {\n        left: 25%;\n    }\n.photo-carousel .icon-arrow-right.hidden-arrow,\n    .photo-carousel .icon-arrow-left.hidden-arrow {\n        visibility: hidden;\n    }\n/* Add */\n.photo-carousel .add-photo-text {\n        font-size: 12px;\n        color: " + i(243).locals.blue_dark_1 + ";\n        cursor: pointer;\n    }\n.photo-carousel .add-photo-icon,\n    .photo-carousel .add-icon-text-disabled {\n        margin-right: 5px;\n        line-height: 15px;\n    }\n.photo-carousel .add-photo-text-disabled {\n        font-size: 12px;\n        color: #c7c7c7;\n        cursor: text;\n    }\n.drag-drop-placeholder {\n        width: 100px;\n        height: 100px;\n        margin: 5px;\n        float: left;\n        border: 2px dashed " + i(243).locals.blue_primary + ";\n        box-sizing: border-box;\n    }\n/* Remove */\n.photo-carousel .delete-photo,\n    .photo-carousel .edit-carousel {\n        font-size: 12px;\n        color: " + i(243).locals.blue_dark_1 + ";\n        float: right;\n        cursor: pointer;\n        display: inline;\n        margin-right: 2px;\n    }\n.photo-carousel .add-photo-text:hover,\n    .photo-carousel .add-photo-text:focus,\n    .photo-carousel .delete-photo:hover,\n    .photo-carousel .delete-photo:focus,\n    .photo-carousel .edit-carousel:hover,\n    .photo-carousel .edit-carousel:focus {\n        text-decoration: underline;\n        color: " + i(243).locals.blue_dark_2 + ";\n    }\n.photo-carousel .delete-photo + .edit-carousel {\n        margin-right: 10px;\n    }\n.photo-carousel .delete-image,\n    .photo-carousel .delete-error-message {\n        cursor: hand;\n        z-index: 100;\n        margin-top: 20%;\n    }\n/* Scroll circles */\n.photo-carousel .scroll-circle {\n        cursor: pointer;\n        height: 10px;\n        width: 10px;\n        margin: 0 4px 0 4px;\n        background-color: #c7c7c7;\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        display: inline-block;\n        transition: background-color 0.5s ease;\n    }\n.photo-carousel .active-circle,\n    .photo-carousel .scroll-circle:hover {\n        background-color: " + i(243).locals.darkui_accent_1 + ";\n        border: 1px solid " + i(243).locals.darkui_accent_1 + ";\n    }\n/* Modal */\n.photo-carousel-modal {\n        height: 90%;\n        background-color: black;\n        border: black;\n        width: 90%;\n        padding: 0;\n        margin: 0;\n        left: 5%;\n        right: 5%;\n    }\n.photo-carousel-modal .photo-carousel-section {\n        height: 85%;\n    }\n.photo-carousel-modal .photo-carousel {\n        height: 95%;\n    }\n.photo-carousel-modal .modal-body {\n        overflow-y: inherit;\n        padding: 45px 5px 0 5px;\n    }\n.photo-carousel-modal .slides,\n    .photo-carousel-modal .arrow-bar-left,\n    .photo-carousel-modal .arrow-bar-right {\n        height: 100%;\n        width: auto;\n        float: none;\n    }\n.photo-carousel-modal .active-photo-container,\n    .photo-carousel-modal .inactive-photo-container {\n        width: 90%;\n        padding-left: 5%;\n    }\n.photo-carousel-modal .icon-arrow-left {\n        left: 0;\n    }\n.photo-carousel-modal .icon-arrow-left,\n    .photo-carousel-modal .icon-arrow-right {\n        font-size: 55px;\n    }\n.photo-carousel-modal .photo {\n        cursor: auto;\n        cursor: initial;\n    }\n.photo-carousel-modal .slides {\n        margin-bottom: 35px;\n    }\n.photo-carousel-modal .scroll-circle {\n        height: 12px;\n        width: 12px;\n        margin: 0 10px 0 10px;\n    }\n.photo-carousel-modal .close {\n        font-size: 35px;\n        color: #ffffff;\n        margin-top: 15px;\n        line-height: 20px;\n        margin-right: 5px;\n    }\n.modal-backdrop.lightbox {\n        background-color: black;\n    }\n/*  ======================\n    Photo Upload\n    ======================  */\n.photo-upload {\n        margin-bottom: 2px;\n    }\n/* Dropzone instruction text */\n.photo-upload .dz-message {\n        margin: 0;\n    }\n/* Upload bar */\n.photo-upload .dz-preview .dz-progress {\n        left: 0;\n        margin-left: 20px;\n        top: 60%;\n        background: #ffffff;\n        border: 1px solid #11a8ec;\n        width: 60px;\n        height: 9px;\n    }\n.photo-upload .dz-preview .dz-progress .dz-upload {\n        background: #11a8ec;\n    }\n/* Filename */\n.photo-upload .dz-preview .dz-filename {\n        width: 77px;\n        font-size: 12px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n    }\n/* Override default Dropzone CSS */\n.photo-upload .dropzone.dropzone-upload-box {\n        position: relative;\n    }\n.photo-upload .dropzone.dropzone-upload-box.dz-clickable {\n        font-weight: 400;\n        border: none;\n        padding: 0;\n        margin: 0;\n        font-size: 14px;\n        min-height: 0;\n    }\n.photo-upload .dropzone.dropzone-upload-box.dz-max-files-reached {\n        opacity: 1;\n    }\n/* Dropzone uses an * selector that can only be overridden by another * selector */\n.photo-upload .dropzone.dropzone-upload-box * {\n        box-sizing: content-box;\n    }\n/* Drag files */\n.photo-upload .dropzone.dropzone-upload-box.dz-clickable.drag-file-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.drop-file-hover {\n        border: 2px dashed " + i(243).locals.blue_primary + ";\n    }\n.photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section,\n    .photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        font-size: 21px;\n        background-color: rgba(255, 255, 255, 0.95);\n    }\n.photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section {\n        display: none;\n        color: " + i(243).locals.blue_primary + ";\n    }\n.photo-upload .exceeds-limit-section {\n        display: none;\n    }\n.photo-upload .dropzone.dropzone-upload-box.dz-clickable.exceeds-limit-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.dropzone-exceeds-limit-hover {\n        border: 2px dashed #ff0035;\n    }\n.photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        display: block;\n        color: #ff0035;\n    }\n.photo-upload .description {\n        position: relative;\n        text-align: center;\n        top: 50%;\n        margin: 0;\n    }\n/* Growler */\n.photo-upload-growl {\n        display: none;\n    }\n/*  ======================\n    Photo Upload Growl\n    ======================  */\n.photo-upload-growl .alert-growl-bottom-right {\n        z-index: 10;\n        width: 610px;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n        max-height: 500px;\n        overflow-y: auto;\n        overflow-x: hidden;\n    }\n.photo-upload-growl .alert-growl-bottom-right .alert-upload {\n        color: #121212;\n        background-color: #ffffff;\n        border: 3px solid #f2f2f2;\n        padding: 10px 25px 10px 25px;\n    }\n.photo-upload-growl .upload-text {\n        margin-bottom: 5px;\n        display: block;\n        font-size: 14px;\n    }\n.photo-upload-growl .upload-progress-section {\n        padding-top: 10px;\n        padding-bottom: 10px;\n    }\n.photo-upload-growl .upload-progress-bar {\n        display: -webkit-inline-flex;\n        display: inline-flex;\n        width: 85%;\n        height: 15px;\n        background-color: " + i(243).locals.white + ";\n        border: 1px solid " + i(243).locals.blue_primary + ";\n        border-radius: 48px;\n        vertical-align: middle;\n    }\n.photo-upload-growl .total-upload-progress {\n        width: 0%;\n        background-color: " + i(243).locals.blue_primary + ";\n        border-radius: 48px;\n        height: 100%;\n    }\n.photo-upload-growl .cancel-upload,\n    .photo-upload-growl .dismiss-growl {\n        font-size: 14px;\n        color: " + i(243).locals.blue_dark_1 + ";\n        display: inline;\n        padding-left: 4%;\n        vertical-align: middle;\n        cursor: pointer;\n    }\n.photo-upload-growl .dismiss-growl {\n        display: none;\n    }\n/* Upload Error Banner */\n.photo-upload-growl .upload-error-section {\n        display: none;\n        width: 604px;\n        margin-left: -26px;\n    }\n.photo-upload-growl .upload-error-information {\n        background-color: #ffc5d2;\n        border: 1px solid #bf0f24;\n        width: 100%;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n        height: 35px;\n        margin-top: 10px;\n        margin-bottom: 10px;\n    }\n.photo-upload-growl .upload-error-summary,\n    .photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        font-size: 14px;\n        color: #b81623;\n        letter-spacing: 0;\n        margin-top: 8px;\n    }\n.photo-upload-growl .upload-error-summary {\n        margin-left: 25px;\n    }\n.photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        text-decoration: underline;\n        cursor: pointer;\n    }\n.photo-upload-growl .upload-error-dismiss {\n        margin-left: 300px;\n    }\n.photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        margin-left: 15px;\n    }\n.photo-upload-growl .upload-error-minimize {\n        display: none;\n    }\n/* Upload Error List */\n.photo-upload-growl .upload-error-list {\n        display: none;\n    }\n.photo-upload-growl .dz-file-preview {\n        display: none;\n    }\n.photo-upload-growl .dz-file-preview.dz-error.dz-complete {\n        display: block;\n    }\n.photo-upload-growl .file-error {\n        margin: 10px 25px 0 25px;\n    }\n.photo-upload-growl .file-name,\n    .photo-upload-growl .file-size,\n    .photo-upload-growl .file-error-message {\n        display: inline-block;\n        font-size: 14px;\n        margin-bottom: 0;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n.photo-upload-growl .file-name {\n        width: 200px;\n    }\n.photo-upload-growl .file-size {\n        position: absolute;\n        width: 100px;\n        left: 45%;\n    }\n.photo-upload-growl .file-error-message {\n        position: absolute;\n        width: 175px;\n        right: 25px;\n        color: #ff0035;\n    }\n/* Generic Upload Error */\n.photo-upload-error-growl {\n        display: none;\n    }\n.photo-upload-error-growl .alert-growl-bottom-right {\n        width: 475px;\n        z-index: 500;\n        margin: auto;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n    }\n.photo-upload-error-growl .alert-growl-bottom-right .alert-error {\n        background: #fbccd8;\n        border: 1px solid #c91a33;\n        border-radius: 6px;\n        padding: 10px 25px 10px 25px;\n    }\n.photo-upload-error-growl .error-text,\n    .photo-upload-error-growl .dismiss-error-growl {\n        display: block;\n        font-size: 14px;\n    }\n.photo-upload-error-growl .error-text {\n        margin-bottom: 0;\n    }\n.photo-upload-error-growl .dismiss-error-growl {\n        cursor: pointer;\n        text-decoration: underline;\n        margin-left: 380px;\n        margin-bottom: 0;\n    }\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/styles/photo-gallery.css"],
            names: [],
            mappings: "AAEI;;gCAE2B;AAE3B;QACI,mBAAkB;KACtB;AAEA;QACI,YAAW;QACX,oBAAmB;QACnB,mBAAkB;QAClB,gBAAe;KACnB;AAEA;QACI,gBAAe;QACf,eAAc;QACd,kBAAiB;QACjB,UAAS;QACT,6BAAoB;QAApB,qBAAoB;QACpB,6BAA4B;QAC5B,gBAAe;KACnB;AAEA;QACI,oBAAmB;QACnB,kBAAiB;QACjB,aAAY;QACZ,YAAW;QACX,gBAAe;KACnB;AAAE;;8BAEuB;AAEzB;QACI,0BAAyB;QACzB,uBAAsB;QACtB,sBAAqB;QACrB,kBAAiB;KACrB;AAEA;QACI,mBAAkB;QAClB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,aAAY;KAChB;AAEA;QACI,cAAa;QACb,mBAAkB;QAClB,YAAW;QACX,YAAW;QACX,mBAAkB;KACtB;AAEA,sBAAqB;AACrB;;QAEI,aAAY;QACZ,sBAAa;QAAb,cAAa;QACb,4BAAmB;gBAAnB,oBAAmB;QACnB,WAAU;QACV,kBAAiB;KACrB;AAEA;QACI,cAAa;KACjB;AAEA,YAAW;AACX;QACI,iBAAgB;QAChB,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,mBAAkB;QAClB,gBAAe;KACnB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,cAAa;KACjB;AAEA,YAAW;AACX;;;;QAII,cAAa;QACb,mBAAkB;QAClB,OAAM;QACN,UAAS;QACT,QAAO;QACP,SAAQ;QACR,aAAY;QACZ,YAAW;QACX,WAAU;KACd;AAEA;;QAEI,4BAAmB;gBAAnB,oBAAmB;KACvB;AAEA;;QAEI,sBAAqB;QACrB,0BAAyB;KAC7B;AACA;QACI,uBAAsB;KAC1B;AACA;QACI,eAAc;QACd,wDAAuD;QACvD,WAAU;QACV,YAAW;QACX,mBAAkB;QAClB,cAAa;KACjB;AACA;QACI,aAAY;KAChB;AACA;QACI,YAAW;KACf;AACA;QACI,kBAAiB;KACrB;AAEA;QACI,sBAAqB;QACrB,0BAAyB;KAC7B;AAEA;QACI,YAAW;QACX,mBAAkB;KACtB;AAEA;QACI,oBAAmB;QACnB,0BAAyB;QACzB,uBAAsB;QACtB,sBAAqB;QACrB,kBAAiB;KACrB;AAEA;QACI,YAAW;QACX,aAAY;QACZ,cAAa;QACb,YAAW;QACX,mBAAkB;QAClB,oCAAmC;QACnC,uBAAsB;KAC1B;AAEA;QACI,mBAAkB;QAClB,YAAW;QACX,WAAU;QACV,eAAc;QACd,UAAS;QACT,WAAU;QACV,YAAW;QACX,aAAY;QACZ,eAAc;QACd,gBAAe;QACf,mBAAkB;QAClB,uBAAsB;QACtB,iBAAgB;QAChB,mBAAkB;QAClB,aAAY;KAChB;AAEA;QACI,kBAAiB;QACjB,oBAAmB;KACvB;AAEA;;;QAGI,aAAY;QACZ,cAAa;QACb,kBAAiB;QACjB,mBAAkB;QAClB,oBAAmB;KACvB;AAEA;QACI,gBAAe;KACnB;AAEA;;QAEI,YAAW;QACX,gBAAe;KACnB;AAEA,mBAAkB;AAClB;;QAEI,aAAY;QACZ,WAAU;QACV,mBAAkB;KACtB;AAEA;QACI,QAAO;KACX;AAEA;QACI,SAAQ;KACZ;AAEA;;QAEI,gBAAe;QACf,YAAW;QACX,UAAS;QACT,aAAY;QACZ,eAAc;QACd,aAAY;QACZ,mBAAkB;QAClB,SAAQ;QACR,gBAAe;KACnB;AAEA;QACI,WAAU;KACd;AAEA;QACI,UAAS;KACb;AAEA;;QAEI,mBAAkB;KACtB;AAEA,SAAQ;AACR;QACI,gBAAe;QACf,mCAAkB;QAClB,gBAAe;KACnB;AAEA;;QAEI,kBAAiB;QACjB,kBAAiB;KACrB;AAEA;QACI,gBAAe;QACf,eAAc;QACd,aAAY;KAChB;AAEA;QACI,aAAY;QACZ,cAAa;QACb,YAAW;QACX,YAAW;QACX,+CAA+B;QAC/B,uBAAsB;KAC1B;AAEA,YAAW;AACX;;QAEI,gBAAe;QACf,mCAAkB;QAClB,aAAY;QACZ,gBAAe;QACf,gBAAe;QACf,kBAAiB;KACrB;AACA;;;;;;QAMI,2BAA0B;QAC1B,mCAAkB;KACtB;AACA;QACI,mBAAkB;KACtB;AAEA;;QAEI,aAAY;QACZ,aAAY;QACZ,gBAAe;KACnB;AAEA,oBAAmB;AACnB;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,oBAAmB;QACnB,0BAAyB;QACzB,0BAAyB;QACzB,mBAAkB;QAClB,sBAAqB;QACrB,uCAAsC;KAC1C;AAEA;;QAEI,8CAAiC;QACjC,8CAAiC;KACrC;AAEA,WAAU;AACV;QACI,YAAW;QACX,wBAAuB;QACvB,cAAa;QACb,WAAU;QACV,WAAU;QACV,UAAS;QACT,SAAQ;QACR,UAAS;KACb;AAEA;QACI,YAAW;KACf;AAEA;QACI,YAAW;KACf;AAEA;QACI,oBAAmB;QACnB,wBAAuB;KAC3B;AAEA;;;QAGI,aAAY;QACZ,YAAW;QACX,YAAW;KACf;AAEA;;QAEI,WAAU;QACV,iBAAgB;KACpB;AAEA;QACI,QAAO;KACX;AAEA;;QAEI,gBAAe;KACnB;AAEA;QACI,aAAe;QAAf,gBAAe;KACnB;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI,aAAY;QACZ,YAAW;QACX,sBAAqB;KACzB;AAEA;QACI,gBAAe;QACf,eAAc;QACd,iBAAgB;QAChB,kBAAiB;QACjB,kBAAiB;KACrB;AAEA;QACI,wBAAuB;KAC3B;AAAE;;8BAEuB;AAEzB;QACI,mBAAkB;KACtB;AAEA,+BAA8B;AAC9B;QACI,UAAS;KACb;AAEA,gBAAe;AACf;QACI,QAAO;QACP,kBAAiB;QACjB,SAAQ;QACR,oBAAmB;QACnB,0BAAyB;QACzB,YAAW;QACX,YAAW;KACf;AAEA;QACI,oBAAmB;KACvB;AAEA,cAAa;AACb;QACI,YAAW;QACX,gBAAe;QACf,wBAAuB;QACvB,iBAAgB;QAChB,oBAAmB;KACvB;AAEA,mCAAkC;AAClC;QACI,mBAAkB;KACtB;AAEA;QACI,iBAAgB;QAChB,aAAY;QACZ,WAAU;QACV,UAAS;QACT,gBAAe;QACf,cAAa;KACjB;AAEA;QACI,WAAU;KACd;AAEA,mFAAkF;AAClF;QACI,wBAAuB;KAC3B;AAEA,gBAAe;AACf;;QAEI,+CAA+B;KACnC;AAEA;;;;QAII,mBAAkB;QAClB,YAAW;QACX,aAAY;QACZ,OAAM;QACN,QAAO;QACP,SAAQ;QACR,UAAS;QACT,gBAAe;QACf,4CAA2C;KAC/C;AAEA;;QAEI,cAAa;QACb,mCAAmB;KACvB;AAEA;QACI,cAAa;KACjB;AAEA;;QAEI,2BAA0B;KAC9B;AAEA;;QAEI,eAAc;QACd,eAAc;KAClB;AAEA;QACI,mBAAkB;QAClB,mBAAkB;QAClB,SAAQ;QACR,UAAS;KACb;AAIA,aAAY;AACZ;QACI,cAAa;KACjB;AAPE;;8BAEuB;AAOzB;QACI,YAAW;QACX,aAAY;QACZ,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,mBAAkB;KACtB;AAEA;QACI,eAAc;QACd,0BAAyB;QACzB,0BAAyB;QACzB,6BAA4B;KAChC;AAEA;QACI,mBAAkB;QAClB,eAAc;QACd,gBAAe;KACnB;AAEA;QACI,kBAAiB;QACjB,qBAAoB;KACxB;AAEA;QACI,6BAAoB;QAApB,qBAAoB;QACpB,WAAU;QACV,aAAY;QACZ,8CAAuB;QACvB,8CAA8B;QAC9B,oBAAmB;QACnB,uBAAsB;KAC1B;AAEA;QACI,UAAS;QACT,8CAA8B;QAC9B,oBAAmB;QACnB,aAAY;KAChB;AAEA;;QAEI,gBAAe;QACf,mCAAkB;QAClB,gBAAe;QACf,iBAAgB;QAChB,uBAAsB;QACtB,gBAAe;KACnB;AAEA;QACI,cAAa;KACjB;AAEA,yBAAwB;AACxB;QACI,cAAa;QACb,aAAY;QACZ,mBAAkB;KACtB;AAEA;QACI,0BAAyB;QACzB,0BAAyB;QACzB,YAAW;QACX,6BAAoB;QAApB,qBAAoB;QACpB,aAAY;QACZ,iBAAgB;QAChB,oBAAmB;KACvB;AAEA;;;;QAII,gBAAe;QACf,eAAc;QACd,kBAAiB;QACjB,gBAAe;KACnB;AAEA;QACI,kBAAiB;KACrB;AAEA;;;QAGI,2BAA0B;QAC1B,gBAAe;KACnB;AAEA;QACI,mBAAkB;KACtB;AAEA;;QAEI,kBAAiB;KACrB;AAEA;QACI,cAAa;KACjB;AAEA,uBAAsB;AACtB;QACI,cAAa;KACjB;AAEA;QACI,cAAa;KACjB;AAEA;QACI,eAAc;KAClB;AAEA;QACI,yBAAwB;KAC5B;AAEA;;;QAGI,sBAAqB;QACrB,gBAAe;QACf,iBAAgB;QAChB,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;KACvB;AAEA;QACI,aAAY;KAChB;AAEA;QACI,mBAAkB;QAClB,aAAY;QACZ,UAAS;KACb;AAEA;QACI,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,eAAc;KAClB;AAEA,0BAAyB;AACzB;QACI,cAAa;KACjB;AAEA;QACI,aAAY;QACZ,aAAY;QACZ,aAAY;QACZ,gBAAe;QACf,YAAW;QACX,aAAY;KAChB;AAEA;QACI,oBAAmB;QACnB,0BAAyB;QACzB,mBAAkB;QAClB,6BAA4B;KAChC;AAEA;;QAEI,eAAc;QACd,gBAAe;KACnB;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,gBAAe;QACf,2BAA0B;QAC1B,mBAAkB;QAClB,iBAAgB;KACpB",
            file: "photo-gallery.css",
            sourcesContent: ["@value ( blue_primary, blue_dark_1, blue_dark_2, white, darkui_accent_1) from 'ui-connect/styles/colors.module.css';\n:global {\n    /*  ======================\n      Photo Empty State\n      ======================  */\n\n    .photo-empty-state .photos-header {\n        margin-bottom: 8px;\n    }\n\n    .photo-empty-state .add-photos {\n        width: 100%;\n        margin-bottom: 10px;\n        text-align: center;\n        cursor: pointer;\n    }\n\n    .photo-empty-state .add-photos-message {\n        font-size: 18px;\n        color: #121212;\n        letter-spacing: 0;\n        margin: 0;\n        display: inline-flex;\n        padding: 21px 10px 21px 10px;\n        cursor: pointer;\n    }\n\n    .photo-empty-state .icon-add-photo {\n        padding-right: 10px;\n        line-height: 23px;\n        height: auto;\n        width: auto;\n        cursor: pointer;\n    } /*  ======================\n    Photo Carousel\n    ======================  */\n\n    .photo-carousel-section {\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n\n    .photo-carousel {\n        text-align: center;\n        position: relative;\n        margin: auto;\n        width: 100%;\n        height: 100%;\n    }\n\n    .photo-carousel .slides {\n        height: 270px;\n        margin-bottom: 5px;\n        float: left;\n        width: 100%;\n        position: relative;\n    }\n\n    /* Photo Containers */\n    .photo-carousel .active-photo-container,\n    .photo-carousel .inactive-photo-container {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        width: 80%;\n        padding-left: 10%;\n    }\n\n    .photo-carousel .inactive-photo-container {\n        display: none;\n    }\n\n    /* Photos */\n    .photo-carousel .photo {\n        max-height: 100%;\n        max-width: 100%;\n        height: auto;\n        width: auto;\n        margin-left: auto;\n        margin-right: auto;\n        cursor: pointer;\n    }\n\n    .photo-carousel .active-photo {\n        display: inline;\n    }\n\n    .photo-carousel .inactive-photo {\n        display: none;\n    }\n\n    /* Delete */\n    .photo-carousel .delete-content,\n    .photo-carousel .delete-overlay,\n    photo-carousel .edit-carousel-content,\n    .photo-carousel .edit-carousel-overlay {\n        display: none;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 100%;\n        width: 100%;\n        z-index: 1;\n    }\n\n    .photo-carousel .delete-content,\n    .photo-carousel .edit-carousel-content {\n        align-items: center;\n    }\n\n    .photo-carousel .delete-overlay,\n    .photo-carousel {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n    .modal .photo-carousel {\n        background-color: #000;\n    }\n    .slider-control-section-container {\n        padding: 0 10%;\n        /*is 80% because it inherits  box-sizing: content-box;*/\n        width: 80%;\n        float: left;\n        text-align: center;\n        margin: 5px 0;\n    }\n    .slider-control-section-container .slider-control-buttons {\n        float: right;\n    }\n    .slider-control-section-container .add-area {\n        float: left;\n    }\n    .icon-photo-add {\n        margin-right: 5px;\n    }\n\n    .edit-carousel-content {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n\n    .edit-carousel-overlay {\n        margin: 5px;\n        text-align: center;\n    }\n\n    .edit-carousel-content .js-edit-images {\n        margin-bottom: 10px;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n\n    .edit-carousel-content .edit-image-div {\n        margin: 5px;\n        width: 100px;\n        height: 100px;\n        float: left;\n        position: relative;\n        background: no-repeat center center;\n        background-size: cover;\n    }\n\n    .edit-carousel-content .delete-photo-icon {\n        position: absolute;\n        bottom: 5px;\n        right: 5px;\n        display: block;\n        margin: 0;\n        padding: 0;\n        width: 25px;\n        height: 25px;\n        line-height: 1;\n        font-size: 20px;\n        text-align: center;\n        border: 1px solid #888;\n        background: #fff;\n        border-radius: 50%;\n        opacity: 0.8;\n    }\n\n    .edit-carousel-content .overlay-edit-btn {\n        text-align: right;\n        margin-bottom: 15px;\n    }\n\n    .photo-carousel .delete-message,\n    .photo-carousel .delete-error-message,\n    .photo-carousel .edit-carousel-content {\n        z-index: 100;\n        display: none;\n        margin-left: auto;\n        margin-right: auto;\n        visibility: visible;\n    }\n\n    .photo-carousel .delete-error-message .dismiss-delete-error {\n        cursor: pointer;\n    }\n\n    .photo-carousel .delete-content .keep-photo,\n    .photo-carousel .delete-content .confirm-remove-photo {\n        margin: 5px;\n        cursor: pointer;\n    }\n\n    /* Scroll arrows */\n    .photo-carousel .arrow-bar-left,\n    .photo-carousel .arrow-bar-right {\n        height: 100%;\n        width: 10%;\n        position: absolute;\n    }\n\n    .photo-carousel .arrow-bar-left {\n        left: 0;\n    }\n\n    .photo-carousel .arrow-bar-right {\n        right: 0;\n    }\n\n    .photo-carousel .icon-arrow-left,\n    .photo-carousel .icon-arrow-right {\n        font-size: 30px;\n        width: auto;\n        margin: 0;\n        height: auto;\n        color: #c7c7c7;\n        opacity: 0.7;\n        position: absolute;\n        top: 50%;\n        cursor: pointer;\n    }\n\n    .photo-carousel .icon-arrow-right {\n        right: 25%;\n    }\n\n    .photo-carousel .icon-arrow-left {\n        left: 25%;\n    }\n\n    .photo-carousel .icon-arrow-right.hidden-arrow,\n    .photo-carousel .icon-arrow-left.hidden-arrow {\n        visibility: hidden;\n    }\n\n    /* Add */\n    .photo-carousel .add-photo-text {\n        font-size: 12px;\n        color: blue_dark_1;\n        cursor: pointer;\n    }\n\n    .photo-carousel .add-photo-icon,\n    .photo-carousel .add-icon-text-disabled {\n        margin-right: 5px;\n        line-height: 15px;\n    }\n\n    .photo-carousel .add-photo-text-disabled {\n        font-size: 12px;\n        color: #c7c7c7;\n        cursor: text;\n    }\n\n    .drag-drop-placeholder {\n        width: 100px;\n        height: 100px;\n        margin: 5px;\n        float: left;\n        border: 2px dashed blue_primary;\n        box-sizing: border-box;\n    }\n\n    /* Remove */\n    .photo-carousel .delete-photo,\n    .photo-carousel .edit-carousel {\n        font-size: 12px;\n        color: blue_dark_1;\n        float: right;\n        cursor: pointer;\n        display: inline;\n        margin-right: 2px;\n    }\n    .photo-carousel .add-photo-text:hover,\n    .photo-carousel .add-photo-text:focus,\n    .photo-carousel .delete-photo:hover,\n    .photo-carousel .delete-photo:focus,\n    .photo-carousel .edit-carousel:hover,\n    .photo-carousel .edit-carousel:focus {\n        text-decoration: underline;\n        color: blue_dark_2;\n    }\n    .photo-carousel .delete-photo + .edit-carousel {\n        margin-right: 10px;\n    }\n\n    .photo-carousel .delete-image,\n    .photo-carousel .delete-error-message {\n        cursor: hand;\n        z-index: 100;\n        margin-top: 20%;\n    }\n\n    /* Scroll circles */\n    .photo-carousel .scroll-circle {\n        cursor: pointer;\n        height: 10px;\n        width: 10px;\n        margin: 0 4px 0 4px;\n        background-color: #c7c7c7;\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        display: inline-block;\n        transition: background-color 0.5s ease;\n    }\n\n    .photo-carousel .active-circle,\n    .photo-carousel .scroll-circle:hover {\n        background-color: darkui_accent_1;\n        border: 1px solid darkui_accent_1;\n    }\n\n    /* Modal */\n    .photo-carousel-modal {\n        height: 90%;\n        background-color: black;\n        border: black;\n        width: 90%;\n        padding: 0;\n        margin: 0;\n        left: 5%;\n        right: 5%;\n    }\n\n    .photo-carousel-modal .photo-carousel-section {\n        height: 85%;\n    }\n\n    .photo-carousel-modal .photo-carousel {\n        height: 95%;\n    }\n\n    .photo-carousel-modal .modal-body {\n        overflow-y: inherit;\n        padding: 45px 5px 0 5px;\n    }\n\n    .photo-carousel-modal .slides,\n    .photo-carousel-modal .arrow-bar-left,\n    .photo-carousel-modal .arrow-bar-right {\n        height: 100%;\n        width: auto;\n        float: none;\n    }\n\n    .photo-carousel-modal .active-photo-container,\n    .photo-carousel-modal .inactive-photo-container {\n        width: 90%;\n        padding-left: 5%;\n    }\n\n    .photo-carousel-modal .icon-arrow-left {\n        left: 0;\n    }\n\n    .photo-carousel-modal .icon-arrow-left,\n    .photo-carousel-modal .icon-arrow-right {\n        font-size: 55px;\n    }\n\n    .photo-carousel-modal .photo {\n        cursor: initial;\n    }\n\n    .photo-carousel-modal .slides {\n        margin-bottom: 35px;\n    }\n\n    .photo-carousel-modal .scroll-circle {\n        height: 12px;\n        width: 12px;\n        margin: 0 10px 0 10px;\n    }\n\n    .photo-carousel-modal .close {\n        font-size: 35px;\n        color: #ffffff;\n        margin-top: 15px;\n        line-height: 20px;\n        margin-right: 5px;\n    }\n\n    .modal-backdrop.lightbox {\n        background-color: black;\n    } /*  ======================\n    Photo Upload\n    ======================  */\n\n    .photo-upload {\n        margin-bottom: 2px;\n    }\n\n    /* Dropzone instruction text */\n    .photo-upload .dz-message {\n        margin: 0;\n    }\n\n    /* Upload bar */\n    .photo-upload .dz-preview .dz-progress {\n        left: 0;\n        margin-left: 20px;\n        top: 60%;\n        background: #ffffff;\n        border: 1px solid #11a8ec;\n        width: 60px;\n        height: 9px;\n    }\n\n    .photo-upload .dz-preview .dz-progress .dz-upload {\n        background: #11a8ec;\n    }\n\n    /* Filename */\n    .photo-upload .dz-preview .dz-filename {\n        width: 77px;\n        font-size: 12px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n    }\n\n    /* Override default Dropzone CSS */\n    .photo-upload .dropzone.dropzone-upload-box {\n        position: relative;\n    }\n\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable {\n        font-weight: 400;\n        border: none;\n        padding: 0;\n        margin: 0;\n        font-size: 14px;\n        min-height: 0;\n    }\n\n    .photo-upload .dropzone.dropzone-upload-box.dz-max-files-reached {\n        opacity: 1;\n    }\n\n    /* Dropzone uses an * selector that can only be overridden by another * selector */\n    .photo-upload .dropzone.dropzone-upload-box * {\n        box-sizing: content-box;\n    }\n\n    /* Drag files */\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.drag-file-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.drop-file-hover {\n        border: 2px dashed blue_primary;\n    }\n\n    .photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section,\n    .photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        font-size: 21px;\n        background-color: rgba(255, 255, 255, 0.95);\n    }\n\n    .photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section {\n        display: none;\n        color: blue_primary;\n    }\n\n    .photo-upload .exceeds-limit-section {\n        display: none;\n    }\n\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.exceeds-limit-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.dropzone-exceeds-limit-hover {\n        border: 2px dashed #ff0035;\n    }\n\n    .photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        display: block;\n        color: #ff0035;\n    }\n\n    .photo-upload .description {\n        position: relative;\n        text-align: center;\n        top: 50%;\n        margin: 0;\n    } /*  ======================\n    Photo Upload Growl\n    ======================  */\n\n    /* Growler */\n    .photo-upload-growl {\n        display: none;\n    }\n\n    .photo-upload-growl .alert-growl-bottom-right {\n        z-index: 10;\n        width: 610px;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n        max-height: 500px;\n        overflow-y: auto;\n        overflow-x: hidden;\n    }\n\n    .photo-upload-growl .alert-growl-bottom-right .alert-upload {\n        color: #121212;\n        background-color: #ffffff;\n        border: 3px solid #f2f2f2;\n        padding: 10px 25px 10px 25px;\n    }\n\n    .photo-upload-growl .upload-text {\n        margin-bottom: 5px;\n        display: block;\n        font-size: 14px;\n    }\n\n    .photo-upload-growl .upload-progress-section {\n        padding-top: 10px;\n        padding-bottom: 10px;\n    }\n\n    .photo-upload-growl .upload-progress-bar {\n        display: inline-flex;\n        width: 85%;\n        height: 15px;\n        background-color: white;\n        border: 1px solid blue_primary;\n        border-radius: 48px;\n        vertical-align: middle;\n    }\n\n    .photo-upload-growl .total-upload-progress {\n        width: 0%;\n        background-color: blue_primary;\n        border-radius: 48px;\n        height: 100%;\n    }\n\n    .photo-upload-growl .cancel-upload,\n    .photo-upload-growl .dismiss-growl {\n        font-size: 14px;\n        color: blue_dark_1;\n        display: inline;\n        padding-left: 4%;\n        vertical-align: middle;\n        cursor: pointer;\n    }\n\n    .photo-upload-growl .dismiss-growl {\n        display: none;\n    }\n\n    /* Upload Error Banner */\n    .photo-upload-growl .upload-error-section {\n        display: none;\n        width: 604px;\n        margin-left: -26px;\n    }\n\n    .photo-upload-growl .upload-error-information {\n        background-color: #ffc5d2;\n        border: 1px solid #bf0f24;\n        width: 100%;\n        display: inline-flex;\n        height: 35px;\n        margin-top: 10px;\n        margin-bottom: 10px;\n    }\n\n    .photo-upload-growl .upload-error-summary,\n    .photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        font-size: 14px;\n        color: #b81623;\n        letter-spacing: 0;\n        margin-top: 8px;\n    }\n\n    .photo-upload-growl .upload-error-summary {\n        margin-left: 25px;\n    }\n\n    .photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        text-decoration: underline;\n        cursor: pointer;\n    }\n\n    .photo-upload-growl .upload-error-dismiss {\n        margin-left: 300px;\n    }\n\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        margin-left: 15px;\n    }\n\n    .photo-upload-growl .upload-error-minimize {\n        display: none;\n    }\n\n    /* Upload Error List */\n    .photo-upload-growl .upload-error-list {\n        display: none;\n    }\n\n    .photo-upload-growl .dz-file-preview {\n        display: none;\n    }\n\n    .photo-upload-growl .dz-file-preview.dz-error.dz-complete {\n        display: block;\n    }\n\n    .photo-upload-growl .file-error {\n        margin: 10px 25px 0 25px;\n    }\n\n    .photo-upload-growl .file-name,\n    .photo-upload-growl .file-size,\n    .photo-upload-growl .file-error-message {\n        display: inline-block;\n        font-size: 14px;\n        margin-bottom: 0;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    .photo-upload-growl .file-name {\n        width: 200px;\n    }\n\n    .photo-upload-growl .file-size {\n        position: absolute;\n        width: 100px;\n        left: 45%;\n    }\n\n    .photo-upload-growl .file-error-message {\n        position: absolute;\n        width: 175px;\n        right: 25px;\n        color: #ff0035;\n    }\n\n    /* Generic Upload Error */\n    .photo-upload-error-growl {\n        display: none;\n    }\n\n    .photo-upload-error-growl .alert-growl-bottom-right {\n        width: 475px;\n        z-index: 500;\n        margin: auto;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n    }\n\n    .photo-upload-error-growl .alert-growl-bottom-right .alert-error {\n        background: #fbccd8;\n        border: 1px solid #c91a33;\n        border-radius: 6px;\n        padding: 10px 25px 10px 25px;\n    }\n\n    .photo-upload-error-growl .error-text,\n    .photo-upload-error-growl .dismiss-error-growl {\n        display: block;\n        font-size: 14px;\n    }\n\n    .photo-upload-error-growl .error-text {\n        margin-bottom: 0;\n    }\n\n    .photo-upload-error-growl .dismiss-error-growl {\n        cursor: pointer;\n        text-decoration: underline;\n        margin-left: 380px;\n        margin-bottom: 0;\n    }\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            blue_primary: "" + i(243).locals.blue_primary,
            blue_dark_1: "" + i(243).locals.blue_dark_1,
            blue_dark_2: "" + i(243).locals.blue_dark_2,
            white: "" + i(243).locals.white,
            darkui_accent_1: "" + i(243).locals.darkui_accent_1
        }
    },
    4565: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(7)
              , o = i(0)
              , s = i.n(o)
              , l = i(198)
              , c = i(31)
              , h = i(463)
              , p = i(4566)
              , d = i(4568)
              , u = i(4569)
              , g = i.n(u)
              , m = {
                ELEV_CORRECTION_CHANGED: "ELEV_CORRECTION_CHANGED"
            }
              , f = ["forerunner10", "foreathlete10", "foreathlete15", "forerunner15", "forerunner35"]
              , y = s.a.View.extend({
                template: n.a.template(g.a),
                events: {
                    "click li:not(.active) a": "onElevCorrectionClicked",
                    "click li.active a": "onElevCorrectionDisabledClicked",
                    "click .help-gps-source": "onGpsSourceHelpClicked"
                },
                initialize: function(e) {
                    return this.activity = e.activity,
                    this.device = e.device,
                    this.viewerIsAuthenticated = e.viewerIsAuthenticated,
                    this.viewerIsOwner = e.viewerIsOwner,
                    this
                },
                render: function() {
                    return this.shouldDisplayDeviceInfo() && (this.$el.html(this.template({
                        Localizer: r.a,
                        device: this.device.toJSON(),
                        metadata: this.activity.get("metadataDTO"),
                        displayToggleEvelationCorrection: this.canToggleEvelationCorrections(),
                        gpsSource: this.getGPSSource(),
                        viewerIsAuthenticated: this.viewerIsAuthenticated,
                        viewerIsOwner: this.viewerIsOwner
                    })),
                    l.a.renderTooltips.call(this)),
                    this
                },
                getGPSSource: function() {
                    return this.activity.getConnectedGPSSensor() && this.activity.getConnectedGPSSensor().productName ? this.getFormattedProductName(this.activity.getConnectedGPSSensor().productName) : ""
                },
                getFormattedProductName: function(e) {
                    return -1 !== e.indexOf("iPhone") ? "Apple " + e : d.a.titleCase(e) + " " + r.a.localize("activity.gps.source.phone")
                },
                shouldDisplayDeviceInfo: function() {
                    return !this.activity.get("manualActivity")
                },
                canToggleEvelationCorrections: function() {
                    if (this.device.get("applicationKey")) {
                        var e = this.device.get("applicationKey").trim();
                        return !n.a.contains(f, e)
                    }
                    return !0
                },
                onElevCorrectionClicked: function(t) {
                    t.preventDefault();
                    var i = this.activity.get("elevationCorrected");
                    this.activity.set("elevationCorrected", !i);
                    var a = {
                        type: "post",
                        data: {
                            elevationCorrected: i
                        },
                        url: "/modern/proxy/activity-service/activity/toggleElevationCorrection/" + this.activity.id,
                        success: n.a.bind(this.onSuccessSave, this),
                        error: this.onErrorSave
                    };
                    e.ajax(a)
                },
                onGpsSourceHelpClicked: function(e) {
                    e.preventDefault();
                    var t = new p.a({});
                    new c.a({
                        view: t,
                        showFooter: !1,
                        modalTitle: r.a.localize("help.title")
                    }).render()
                },
                onElevCorrectionDisabledClicked: function(e) {
                    e.preventDefault()
                },
                onSuccessSave: function(e, t, i) {
                    this.trigger(m.ELEV_CORRECTION_CHANGED, this.activity.get("metadataDTO").elevationCorrected),
                    this.render()
                },
                onErrorSave: function(e, t, i) {
                    new h.a({
                        message: r.a.localize("enable_elevation_toggle_error")
                    }).render()
                }
            });
            y.Events = m,
            t.a = y
        }
        ).call(this, i(9))
    },
    4566: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(4567)
          , c = i.n(l);
        t.a = o.a.View.extend({
            template: n.a.template(c.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a
                }))
            }
        })
    },
    4567: function(e, t) {
        e.exports = "<div class=\"gps-source-help\">\n    <h4><%- Localizer.localize('connected.gps') %></h4>\n    <h5><%- Localizer.localize('connected.gps.info.summary') %></h5>\n    <h5><%- Localizer.localize('connected.gps.how.it.works') %></h5>\n    <p><%- Localizer.localize('connected.gps.how.it.works.message') %></p>\n    <h5><%- Localizer.localize('connected.gps.viewing.activities') %></h5>\n    <p><%- Localizer.localize('connected.gps.viewing.activities.message') %></p>\n</div>\n"
    },
    4568: function(e, t, i) {
        "use strict";
        t.a = {
            titleCase: function(e) {
                return e ? e.split(" ").map(function(e) {
                    return e.charAt(0).toUpperCase() + e.substr(1).toLowerCase()
                }).join(" ") : ""
            }
        }
    },
    4569: function(e, t) {
        e.exports = '<div class="device-image bottom-xs">\n    <img role="presentation" src="<%- device.imageUrl || \'//static.garmincdn.com/com.garmin.connect/content/images/device-images/default-device.png\' %>">\n</div>\n<div class="device-name"><%- device.productDisplayName %></div>\n<div class="software-version"><%- Localizer.localize(\'software\') %>: <%- device.versionString %></div>\n\n<% if (viewerIsAuthenticated) { %>\n    <div class="elevation-corrections"><%- Localizer.localize(\'additional.elev.corrections\') %>\n        <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.add.info.elev.correction.label\') %>" aria-label="<%- Localizer.localize(\'help.add.info.elev.correction.label\') %>"></i></span>:\n        <% if(displayToggleEvelationCorrection && viewerIsOwner)  { %>\n            <span class="dropdown" style="display: inline">\n                <span class="dropdown-trigger" data-toggle="dropdown"><%- Localizer.localize(metadata.elevationCorrected ? \'additional.elevation.correction.enabled\' : \'additional.elevation.correction.disabled\') %><i class="icon-pointer-down"></i></span>\n                <ul class="dropdown-menu text-left pull-left">\n                    <li class="<%- metadata.elevationCorrected ? \'active\' : \'\' %>">\n                        <a href="#"><%- Localizer.localize(\'additional.elevation.correction.enabled\') %></a>\n                    </li>\n                    <li class="<%- metadata.elevationCorrected ? \'\' : \'active\' %>">\n                        <a href="#"><%- Localizer.localize(\'additional.elevation.correction.disabled\') %></a>\n                    </li>\n                </ul>\n            </span>\n        <% } else { %>\n            <span style="display: inline"><%- Localizer.localize(metadata.elevationCorrected ? \'additional.elevation.correction.enabled\' : \'additional.elevation.correction.disabled\') %></span>\n        <% } %>\n    </div>\n<% } %>\n\n<div class="summary-data"><%- Localizer.localize(\'additional.activity.summary\') %>: <%- Localizer.localize(metadata.isOriginal ? \'additional.original\' : \'additional.edited\') %></div>\n<% if (gpsSource) { %>\n    <div class="gps-source"><%- Localizer.localize(\'activity.gps.source\') %>\n        <a href="#" aria-label="<%- Localizer.localize(\'help.title\') %>" class="help-icon has-tooltip help-gps-source"><i class="icon-help"></i></a>:\n        <%- Localizer.localize(\'activity.gps.source.from\', gpsSource) %>\n    </div>\n<% } %>'
    },
    4570: function(e, t) {
        e.exports = '<div class="device-image bottom-xs">\n    <% if (model.imageUrl) { %>\n        <img src="<%- model.imageUrl %>" alt="<%- model.displayName %>">\n    <% } %>\n</div>\n<div class="device-name"><%- Localizer.localize(\'third_party_partner_label\', model.displayName) %></div>'
    },
    4571: function(e, t) {
        e.exports = '<% if (displayPowerAvgCalInfo) { %>\n    <div class="power-avg-calc"><%- Localizer.localize(\'additional.power.avg.cal\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.add.info.power.avg.calc.label\') %>" onclick="event.preventDefault();" aria-label="<%- Localizer.localize(\'help.add.info.power.avg.calc.label\') %>"><i class="icon-help"></i></a>: <%- Localizer.localize(\'additional.power.calculation.use.zeroes\') %></div>\n<% } %>\n<% if (displayAgentInfo) { %>\n    <div class="agent admin"><%- Localizer.localize(\'additional.agentType\') %>: <%- agent.productDisplayName %> + <%- agent.versionString %></div>\n    <div class="uploaded admin"><%- Localizer.localize(\'additional.uploadDate\') %>: <%- DateFormatter.formatDateAndTime(new Date(metadata.uploadedDate)) %></div>\n<% } %>'
    },
    4572: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(4573)
          , c = i.n(l)
          , h = i(449)
          , p = o.a.View.extend({
            template: n.a.template(c.a),
            initialize: function(e) {},
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    userInChina: h.a.userInChina()
                }))
            }
        });
        t.a = p
    },
    4573: function(e, t) {
        e.exports = '<div>\n    <img class="dive-app-icon bottom-xs" src="/web-images/dive/dive-app-icon.png" alt="" />\n    <div class="garmin-dive"><%- Localizer.localize(\'activity_garmin_dive\') %></div>\n    <div class="dive-data-info"><%- Localizer.localize(\'activity_garmin_dive_info\') %></div>\n    <div class="dive-app-store">\n        <% if (userInChina) { %>\n        <a class="store-apple-cn dive-store-apple" href="https://apps.apple.com/cn/app/garmin-dive/id1461262794"\n            title="Garmin Dive" target="itunes_store" rel="noopener"></a>\n        <a class="store-android-cn" href="http://download.garmin.cn/cn/download/CH_SW_UPGRADE/Android/garmin-dive.apk"\n            title="Garmin Dive" target="play_store" rel="noopener"></a>\n        <% } else { %>\n        <a class="store-apple dive-store-apple" href="https://apps.apple.com/us/app/Dive/id1461262794?ls=1"\n            title="Garmin Dive" target="itunes_store" rel="noopener"></a>\n        <a class="store-google" href="https://play.google.com/store/apps/details?id=com.garmin.android.apps.dive"\n            title="Garmin Dive" target="play_store" rel="noopener"></a>\n        <% } %>\n    </div>\n</div>'
    },
    4574: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(7)
              , o = i(0)
              , s = i.n(o)
              , l = i(4575)
              , c = i(198)
              , h = i(4577)
              , p = i.n(h)
              , d = i(5403)
              , u = {
                ascending: "ascending",
                descending: "descending"
            }
              , g = s.a.View.extend({
                template: n.a.template(p.a),
                events: {
                    "click #time-in-zones-help": "onHelpClicked"
                },
                defaultOptions: {
                    chartTitle: null,
                    containerClass: null,
                    tableClass: null,
                    trClass: null,
                    rowTemplate: null,
                    rowTooltipTextFunction: null,
                    resizeChart: null,
                    nonPercentageColumnMinWidth: "",
                    nonPercentageColumnMaxWidth: "",
                    fieldOptions: [{
                        fieldName: "",
                        formatter: null,
                        tooltipFunction: null
                    }, {
                        fieldName: "",
                        formatter: null,
                        tooltipFunction: null
                    }, {
                        fieldName: "",
                        formatter: null,
                        tooltipFunction: null
                    }],
                    sortComparator: null,
                    sortDirection: u.ascending,
                    maxRowsToShow: null,
                    zoneUtil: null
                },
                initialize: function(e) {
                    return e.options ? this.options = n.a.extend({}, this.defaultOptions, e.options) : this.options = n.a.extend({}, this.defaultOptions),
                    this.rowCollection = [],
                    this.isResizing = !1,
                    this.setAttributes(),
                    this
                },
                setAttributes: function() {
                    var e = n.a.has(this.options, "containerClass") ? this.options.containerClass : "";
                    e && "" !== e && this.$el.addClass(e)
                },
                render: function() {
                    this.unbindWindowResize(),
                    this.rowCollection = [],
                    this.$el.html(this.template({
                        Localizer: r.a,
                        options: this.options
                    }));
                    var e = this.collection.toJSON();
                    this.options.sortComparator && "function" === typeof this.options.sortComparator && e.sort(this.options.sortComparator);
                    var t = this.options.maxRowsToShow && this.options.maxRowsToShow > 0 ? this.options.maxRowsToShow - 1 : e.length;
                    if (this.options.sortDirection === u.ascending)
                        for (var i = 0; i < t; i++)
                            e[i] && this.renderRowView(i, e[i]);
                    else
                        for (i = t; i >= 0; i--)
                            e[i] && this.renderRowView(i, e[i]);
                    return c.a.renderTooltips.call(this),
                    this.resizeChart(),
                    this.bindWindowResize(),
                    this
                },
                renderRowView: function(e, t) {
                    var i = new l.a({
                        index: e,
                        context: this,
                        model: t,
                        options: this.options
                    });
                    this.rowCollection.push(i),
                    this.$("tbody", this.$el).append(i.render().el)
                },
                destroy: function() {
                    for (var e = 0; e < this.rowCollection.length; e++)
                        this.rowCollection[e] && "function" === typeof this.rowCollection[e].destroy && this.rowCollection[e].destroy();
                    this.unbindWindowResize(),
                    this.remove()
                },
                resizeChart: function() {
                    this.isResizing || (this.isResizing = !0,
                    this._resize(),
                    this.options && this.options.resizeChart && "function" === typeof this.options.resizeChart && this.options.resizeChart.apply(this),
                    this.isResizing = !1)
                },
                _resize: function() {
                    var t = 80
                      , i = 0;
                    e("td.zone-percent > div", this.$el).each(function(a, n) {
                        var r = parseInt(e(n).text())
                          , o = 80 - r;
                        o < t && (t = o,
                        i = 80 / r)
                    }),
                    e("td.zone-percent > div", this.$el).each(function(t, a) {
                        var n = parseInt(e(a).text()) * i;
                        e(a).width(n + "%")
                    })
                },
                bindWindowResize: function() {
                    e(window).on("resize.stackedBarChart", n.a.bind(this.resizeChart, this))
                },
                unbindWindowResize: function() {
                    e(window).off("resize.stackedBarChart")
                },
                onHelpClicked: function(e) {
                    (e.preventDefault(),
                    this.options.isPowerZonesChart) && new d.a({}).render()
                }
            });
            g.SortDirection = u,
            t.a = g
        }
        ).call(this, i(9))
    },
    4575: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(4576)
          , l = i.n(s)
          , c = o.a.View.extend({
            template: n.a.template(l.a),
            tagName: "tr",
            initialize: function(e) {
                if (!e.model)
                    throw "a model is required";
                return this.options = e.options,
                this.options.rowTemplate && (this.template = n.a.template(this.options.rowTemplate)),
                this.index = e.index,
                this.context = e.context,
                this.setAttributes(),
                this
            },
            setAttributes: function() {
                var e = ""
                  , t = ""
                  , i = ""
                  , a = this.options
                  , r = n.a.has(a, "trClass") ? a.trClass : "";
                if (r && "function" === typeof r) {
                    var o = this.index || 1;
                    e = r.apply(this, [{
                        index: o,
                        model: this.model
                    }])
                } else
                    e = r;
                n.a.has(a, "rowTooltipTextFunction") && "function" === typeof a.rowTooltipTextFunction && (t = "tooltip",
                i = a.rowTooltipTextFunction.call(this),
                e += " has-tooltip"),
                e && "" !== e && this.$el.addClass(e),
                t && "" !== t && this.$el.attr("data-toggle", t),
                i && "" !== i && this.$el.attr("data-original-title", i)
            },
            render: function() {
                return this.$el.html(this.template(this.getVisual())),
                this
            },
            destroy: function() {
                this.remove()
            },
            getVisual: function() {
                return {
                    columnCss: this.getColumnCss(),
                    nameColumn: this.getColumnVisual(0),
                    timeColumn: this.getColumnVisual(1),
                    percentageColumn: this.getColumnVisual(2)
                }
            },
            getColumnCss: function() {
                var e = "";
                return this.options.nonPercentageColumnMinWidth && (e += "min-width: " + this.options.nonPercentageColumnMinWidth),
                this.options.nonPercentageColumnMaxWidth && (e += "; max-width:" + this.options.nonPercentageColumnMaxWidth + ";"),
                e
            },
            getColumnVisual: function(e) {
                var t, i = this.model[this.options.fieldOptions[e].fieldName];
                return this.options.fieldOptions[e].formatter && "function" === typeof this.options.fieldOptions[e].formatter && (i = this.options.fieldOptions[e].formatter.call(this.context, i)),
                this.options.fieldOptions[e].tooltipFunction && "function" === typeof this.options.fieldOptions[e].tooltipFunction && (t = this.options.fieldOptions[e].tooltipFunction.apply(this, [{
                    model: this.model,
                    index: this.index,
                    util: this.options.zoneUtil
                }])),
                {
                    value: i,
                    tooltipText: t
                }
            }
        });
        t.a = c
    },
    4576: function(e, t) {
        e.exports = '<td class="zone-name" style="<%- columnCss %>">\n    <% if (nameColumn && nameColumn.tooltipText) { %>\n        <div class="has-tooltip" data-placement="right" data-original-title="<%- nameColumn.tooltipText %>" title="<%- nameColumn.tooltipText %>"><%- nameColumn.value %></div>\n    <% } else { %>\n        <div><%- nameColumn.value %></div>\n    <% } %>\n</td>\n<td class="zone-time" style="<%- columnCss %>">\n    <% if (timeColumn && timeColumn.tooltipText) { %>\n        <div class="has-tooltip" title="<%- timeColumn.tooltipText %>"><%- timeColumn.value %></div>\n    <% } else { %>\n        <div><%- timeColumn.value %></div>\n    <% } %>\n</td>\n<td class="zone-percent">\n    <% if (percentageColumn && percentageColumn.tooltipText) { %>\n        <div class="has-tooltip" title="<%- percentageColumn.tooltipText %>">\n            <span><%- percentageColumn.value %></span>\n        </div>\n    <% } else { %>\n        <div><span><%- percentageColumn.value %></span></div>\n    <% } %>\n</td>'
    },
    4577: function(e, t) {
        e.exports = '<% if (options.chartTitle) { %>\n    <h3>\n        <%- Localizer.localize(options.chartTitle) %>\n        <% if (options.isPowerZonesChart) { %>\n            <span\n                    id="time-in-zones-help"\n                    class="help-icon has-tooltip"\n                    title="<%- Localizer.localize(\'label.te.tip\') %>"\n                    aria-label="<%- Localizer.localize(\'label.te.tip\') %>"\n            ><i class="icon-help"></i>\n            </span>\n        <% } %>\n    </h3>\n<% } %>\n<table class="<% if (options.tableClass) { print(options.tableClass); } %>" >\n    <tbody></tbody>\n</table>\n'
    },
    4578: function(e, t) {
        e.exports = '<div class="spinner-container">\n    <div class="text-center">\n        <div class="large spinner"><div></div></div>\n    </div>\n    <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div>\n</div>'
    },
    4579: function(e, t) {
        e.exports = "<div class=\"tab-pane tab-overflow\">\n    <div class=\"tab-content\">\n        <div class=\"tab-pane active\">\n            <table class=\"table gases-and-tanks-table\">\n                <thead>\n                <tr>\n                    <th></th>\n                    <th><%- Localizer.localize('diving_tank_type') %></th>\n                    <th><%- Localizer.localize('diving_tank_gas') %></th>\n                    <th><%- Localizer.localize('diving_tank_gas_mixture') %></th>\n                    <th><%- Localizer.localize('diving_tank_type_long') %></th>\n                    <th><%- Localizer.localize('diving_tank_size_long') %></th>\n                    <th><%- Localizer.localize('diving_tank_starting_pressure') %></th>\n                    <th><%- Localizer.localize('diving_tank_ending_pressure') %></th>\n                    <th><%- Localizer.localize('diving_tank_pressure_used') %></th>\n                    <th><%- Localizer.localize('diving_tank_gas_pressure_rate') %></th>\n                </tr>\n                </thead>\n                <tbody>\n                <% for (var i = 0; i < tanksArray.length; i++) { %>\n                    <tr>\n                        <td><%- (tanksArray[i].gasIndex + 1) %></td>\n                        <td><%- Personalizer.personalizeTankStatus(tanksArray[i].gasIndex, tanksArray[i].status, diveType, Localizer) %></td>\n                        <td><%- Personalizer.personalizeDiveGas(tanksArray[i].heliumContent, tanksArray[i].oxygenContent, Localizer) %></td>\n                        <td><%- getGasMixtureString(tanksArray[i].oxygenContent, tanksArray[i].heliumContent) %></td>\n                        <td><%- (tanksArray[i].tankType ? tanksArray[i].tankType : '--') %></td>\n                        <td><%- Personalizer.personalizeVolume(tanksArray[i].tankSize) %> <%-Personalizer.personalizeVolumeUnit(tanksArray[i].tankSizeUnit, Localizer) %></td>\n                        <td><%- Personalizer.personalizePressure(tanksArray[i].tankStartingPressure) %> <%-Personalizer.personalizePressureUnit(tanksArray[i].tankStartingPressureUnit, Localizer) %></td>\n                        <td><%- Personalizer.personalizePressure(tanksArray[i].tankEndingPressure) %> <%-Personalizer.personalizePressureUnit(tanksArray[i].tankEndingPressureUnit, Localizer) %></td>\n                        <td><%- getPressureUsedString(tanksArray[i].tankStartingPressure, tanksArray[i].tankEndingPressure, tanksArray[i].tankStartingPressureUnit) %></td>\n                        <td><%- Personalizer.personalizeSacRate(tanksArray[i].sacRate) %> <%-Personalizer.personalizeSacRateUnit(tanksArray[i].sacRate, tanksArray[i].tankStartingPressureUnit, Localizer)%></td>\n                    </tr>\n                <% } %>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>"
    },
    4580: function(e, t) {
        e.exports = "<div class='react-pacepro-strategy'></div>"
    },
    4581: function(e, t, i) {
        var a = i(4582);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    4582: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, ".PaceProStrategy_redPaceIcon__2cwCS {\n    height: 8px;\n    width: 8px;\n    background-color: " + i(243).locals.red_primary + ";\n    border-radius: 50%;\n    display: inline-block;\n    margin-right: 5px;\n}\n.PaceProStrategy_greenPaceIcon__15QO_ {\n    height: 8px;\n    width: 8px;\n    background-color: " + i(243).locals.green_primary + ";\n    border-radius: 50%;\n    display: inline-block;\n    margin-right: 5px;\n}\n.PaceProStrategy_yellowPaceIcon__nD_Ke {\n    height: 8px;\n    width: 8px;\n    background-color: " + i(243).locals.yellow_primary + ";\n    border-radius: 50%;\n    display: inline-block;\n    margin-right: 5px;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/PacePro/activityTab/PaceProStrategy.css"],
            names: [],
            mappings: "AAEA;IACI,YAAW;IACX,WAAU;IACV,8CAA6B;IAC7B,mBAAkB;IAClB,sBAAqB;IACrB,kBAAiB;CACrB;AAEA;IACI,YAAW;IACX,WAAU;IACV,8CAA+B;IAC/B,mBAAkB;IAClB,sBAAqB;IACrB,kBAAiB;CACrB;AAEA;IACI,YAAW;IACX,WAAU;IACV,8CAAgC;IAChC,mBAAkB;IAClB,sBAAqB;IACrB,kBAAiB;CACrB",
            file: "PaceProStrategy.css",
            sourcesContent: ["@value (red_primary, green_primary, yellow_primary) from 'ui-connect/styles/colors.module.css';\n\n.redPaceIcon {\n    height: 8px;\n    width: 8px;\n    background-color: red_primary;\n    border-radius: 50%;\n    display: inline-block;\n    margin-right: 5px;\n}\n\n.greenPaceIcon {\n    height: 8px;\n    width: 8px;\n    background-color: green_primary;\n    border-radius: 50%;\n    display: inline-block;\n    margin-right: 5px;\n}\n\n.yellowPaceIcon {\n    height: 8px;\n    width: 8px;\n    background-color: yellow_primary;\n    border-radius: 50%;\n    display: inline-block;\n    margin-right: 5px;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            red_primary: "" + i(243).locals.red_primary,
            green_primary: "" + i(243).locals.green_primary,
            yellow_primary: "" + i(243).locals.yellow_primary,
            redPaceIcon: "PaceProStrategy_redPaceIcon__2cwCS",
            greenPaceIcon: "PaceProStrategy_greenPaceIcon__15QO_",
            yellowPaceIcon: "PaceProStrategy_yellowPaceIcon__nD_Ke"
        }
    },
    4583: function(e, t) {
        e.exports = "<div class=\"tab-pane\">\n    <div class=\"tab-content\">\n        <div class=\"tab-pane active\">\n            <table class=\"table apnea-dives-table\">\n                <thead>\n                <tr>\n                    <th></th>\n                    <th></th>\n                    <th><%- Localizer.localize('max_depth') %></th>\n                    <th><%- Localizer.localize('bottom_time') %></th>\n                    <th><%- Localizer.localize('surface_interval') %></th>\n                    <th><%- Localizer.localize('entry_location') %></th>\n                    <th><%- Localizer.localize('min_water_temperature') %></th>\n                    <th><%- Localizer.localize('label_avg_HR') %></th>\n                    <th><%- Localizer.localize('label_max_HR') %></th>\n                </tr>\n                </thead>\n                <tbody>\n                \x3c!-- ApneaDivesTabItemView.html --\x3e\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>"
    },
    4584: function(e, t) {
        e.exports = "\n    <td><%- (index + 1) %></td>\n    <td><div class=\"apnea-map\">\x3c!-- mapView --\x3e</div></td>\n    <td><%- Personalizer.personalizeDepth(apneaDive.maxDepth) %> <%- Localizer.localize(Personalizer.getDepthUnitKey()) %></td>\n    <td><%- Personalizer.personalizeDuration(apneaDive.bottomTime, false) %></td>\n    <td><%- Personalizer.personalizeDuration(apneaDive.surfaceInterval, false) %></td>\n    <td><%- Personalizer.personalizeLatLon(apneaDive.startLatitude, apneaDive.startLongitude) %></td>\n    <td><%- Personalizer.personalizeTemperature(apneaDive.minTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></td>\n    <td><%- Personalizer.personalizeHeartRate(apneaDive.averageHR) %> <%- Localizer.localize('heart_rate_unit') %></td>\n    <td><%- Personalizer.personalizeHeartRate(apneaDive.maxHR) %> <%- Localizer.localize('heart_rate_unit') %></td>\n"
    },
    4585: function(e, t) {
        e.exports = '<div class="spinner-container">\n    <div class="text-center">\n        <div class="large spinner"><div></div></div>\n    </div>\n    <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div>\n</div>\n<div id="max-avg-power-controls" class="row-fluid cycling-tab-controls bottom-s"></div>\x3c!-- /.cycling-tab-controls --\x3e\n<div class="row-fluid">\n    <div id="power-phase-container" class="span12 power-phase centered"></div>\x3c!-- /.power-phase --\x3e\n    <div class="row-fluid top-m">\n        <div class="span6 centered">\n            <div id="pco-container" class="pco-content"></div>\x3c!-- /.pco-content --\x3e\n        </div>\n        <div class="span6 centered">\n            <div id="position-container" class="seated-standing"></div>\x3c!-- /.seated-standing --\x3e\n        </div>\n    </div>\n</div>'
    },
    4586: function(e, t) {
        e.exports = '<h5><%- Localizer.localize(\'cycling_dynamics_position\') %></h5>\n\n<div class="row">\n    <div class="span6 position-seated">\n        <span></span>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- totalSeatedTime %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_seated_time\') %></span>\n        </div>\n    </div>\n\n    <div class="span6 position-standing">\n        <span></span>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- totalStandingTime %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_standing_time\') %></span>\n        </div>\n    </div>\n\n</div>\x3c!-- /.row --\x3e'
    },
    4587: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(4588)
              , o = i.n(r)
              , s = i(1296)
              , l = i(11)
              , c = i(7)
              , h = i(0)
              , p = i.n(h)
              , d = s.a.Colors
              , u = p.a.View.extend({
                initialize: function(e) {
                    this.template = n.a.template(o.a),
                    this.leftPlatformCenterOffset = this.fitValueToChart(e.platformCenterOffsetData.leftPlatformCenterOffset),
                    this.rightPlatformCenterOffset = this.fitValueToChart(e.platformCenterOffsetData.rightPlatformCenterOffset)
                },
                setLeftPlatformCenterOffset: function(e) {
                    this.leftPlatformCenterOffset = e
                },
                setRightPlatformCenterOffset: function(e) {
                    this.rightPlatformCenterOffset = e
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: c.a,
                        Personalizer: l.a,
                        leftPlatformCenterOffset: this.leftPlatformCenterOffset,
                        rightPlatformCenterOffset: this.rightPlatformCenterOffset,
                        formatPCOValue: this.formatPCOValue
                    })),
                    this.drawPCO(),
                    this.bindWindowResize(),
                    this
                },
                drawPCO: function() {
                    var e = this.$("#leftCanvas")[0]
                      , t = this.$("#rightCanvas")[0]
                      , i = Math.min(e.parentElement.clientHeight, e.parentElement.clientWidth, t.parentElement.clientHeight, t.parentElement.clientWidth) || this.getCanvasDefaultSize();
                    e.width = i,
                    e.height = i,
                    t.width = i,
                    t.height = i;
                    var a = e.getContext("2d")
                      , n = t.getContext("2d");
                    a.clearRect(0, 0, e.width, e.height),
                    n.clearRect(0, 0, t.width, t.height),
                    this.drawOffsetLine(e, a, "left"),
                    this.drawOffsetLine(t, n, "right")
                },
                drawBounds: function(e, t, i) {
                    var a;
                    t.fillStyle = d.babyBlue,
                    t.globalAlpha = .4;
                    var n = this.verticalStartPoint(e.width)
                      , r = 2 * this.pedalEdgeCenterOffset(e.width) * .6
                      , o = this.verticalEndPoint(e.width) - this.verticalStartPoint(e.width);
                    a = this.horizontalCenter(e.width) - .6 * this.pedalEdgeCenterOffset(e.width),
                    t.fillRect(a, n, r, o),
                    t.globalAlpha = 1
                },
                drawOffsetLine: function(e, t, i) {
                    var a, n = [], r = [], o = this.verticalStartPoint(e.width), s = this.verticalEndPoint(e.width);
                    "left" === i ? (n = [a = this.horizontalCenter(e.width) - this.offsetPixels(this.leftPlatformCenterOffset, this.pedalEdgeCenterOffset(e.width)), o],
                    r = [a, s]) : (n = [a = this.horizontalCenter(e.width) + this.offsetPixels(this.rightPlatformCenterOffset, this.pedalEdgeCenterOffset(e.width)), o],
                    r = [a, s]),
                    this.drawStroke(n, r, this.verticalLineWidth(e.width), d.royalRed, t)
                },
                drawStroke: function(e, t, i, a, n) {
                    n.strokeStyle = a,
                    n.beginPath(),
                    n.moveTo(e[0], e[1]),
                    n.lineTo(t[0], t[1]),
                    n.lineWidth = i,
                    n.stroke()
                },
                horizontalCenter: function(e) {
                    return e / 2
                },
                offsetPixels: function(e, t) {
                    return e / 30 * t
                },
                pedalEdgeCenterOffset: function(e) {
                    return e / 4 + 1
                },
                verticalStartPoint: function(e) {
                    return e / 10
                },
                verticalEndPoint: function(e) {
                    return .9 * e + 1
                },
                verticalLineWidth: function(e) {
                    return e / 30
                },
                formatPCOValue: function(e) {
                    var t = "";
                    return e > 0 ? t = "+" : e < 0 && (t = "-"),
                    t + " " + Math.abs(e).toFixed(1)
                },
                getCanvasDefaultSize: function() {
                    return e(window).width() < 768 ? 300 : 160
                },
                fitValueToChart: function(e) {
                    return Math.abs(e) > 30 ? 30 * Math.sign(e) : e
                },
                resizeCanvas: function() {
                    this.drawPCO()
                },
                bindWindowResize: function() {
                    e(window).on("resize.pcoChart", n.a.bind(this.resizeCanvas, this))
                },
                unbindWindowResize: function() {
                    e(window).off("resize.pcoChart", this.resizeCanvas)
                },
                destroy: function() {
                    this.unbindWindowResize(),
                    this.remove()
                }
            });
            t.a = u
        }
        ).call(this, i(9))
    },
    4588: function(e, t) {
        e.exports = '\n<h5><%- Localizer.localize(\'label_cd_tab_pco\') %></h5>\n\n<div class="row">\n    <div class="span6">\n        <div class="chart-container platform-center-offset platform-center-offset-left">\n            <canvas id="leftCanvas"></canvas>\n        </div>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- formatPCOValue(leftPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_tab_pco_left\') %></span>\n        </div>\n    </div>\n\n    <div class="span6">\n        <div class="chart-container platform-center-offset platform-center-offset-right">\n            <canvas id="rightCanvas"></canvas>\n        </div>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- formatPCOValue(rightPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_tab_pco_right\') %></span>\n        </div>\n    </div>\n</div>\n'
    },
    4589: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(4590)
              , o = i.n(r)
              , s = i(4591)
              , l = i(1296)
              , c = i(7)
              , h = i(0)
              , p = i.n(h).a.View.extend({
                ChartSize: {
                    SMALL: {
                        chart_width: "195px",
                        chart_height: "195px",
                        chart_size: "100%",
                        inner_chart_size: "89%",
                        peak_multiplier: 6
                    },
                    MEDIUM: {
                        chart_width: "240px",
                        chart_height: "240px",
                        chart_size: "100%",
                        inner_chart_size: "89%",
                        peak_multiplier: 6
                    }
                },
                initialize: function() {
                    this.template = n.a.template(o.a)
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: c.a
                    })),
                    this.showChart(),
                    this.bindWindowResize(),
                    this
                },
                showChart: function() {
                    var e = this.resizeChart()
                      , t = this.model.leftPowerPhaseStart
                      , i = this.model.leftPowerPhasePeakStart
                      , a = this.model.leftPowerPhasePeakEnd
                      , n = this.model.leftPowerPhaseEnd
                      , r = Math.round(this.model.leftBalance)
                      , o = this.normalizeData(t, n);
                    t = o.powerPhaseStart,
                    n = o.powerPhaseEnd;
                    var h = this.createLabels(t, i, a, n)
                      , p = this.model.rightPowerPhaseStart
                      , d = this.model.rightPowerPhasePeakStart
                      , u = this.model.rightPowerPhasePeakEnd
                      , g = this.model.rightPowerPhaseEnd
                      , m = Math.round(this.model.rightBalance);
                    p = (o = this.normalizeData(p, g)).powerPhaseStart,
                    g = o.powerPhaseEnd;
                    var f = this.createLabels(p, d, u, g)
                      , y = this.calculateYData(t, i, a, n)
                      , v = this.calculateYData(p, d, u, g)
                      , b = this.ChartSize[e].peak_multiplier
                      , A = [{
                        y: y.prePeakPower,
                        color: l.a.Colors.lightGreen
                    }, {
                        y: y.peakPower,
                        color: l.a.Colors.peakGreen,
                        selected: !0
                    }, {
                        y: y.postPeakPower,
                        color: l.a.Colors.lightGreen
                    }, {
                        y: y.other,
                        color: l.a.Colors.baseGrey
                    }]
                      , C = [{
                        y: v.prePeakPower,
                        color: l.a.Colors.lightBlue
                    }, {
                        y: v.peakPower,
                        color: l.a.Colors.blue,
                        selected: !0
                    }, {
                        y: v.postPeakPower,
                        color: l.a.Colors.lightBlue
                    }, {
                        y: v.other,
                        color: l.a.Colors.baseGrey
                    }]
                      , w = this.buildSeries(A)
                      , _ = this.buildSeries(C)
                      , x = {
                        chart: {
                            type: "pie",
                            plotBorderWidth: 0,
                            plotShadow: !1,
                            backgroundColor: "transparent",
                            events: {
                                load: function() {
                                    var e = this.series[0].data[1].graphic;
                                    setTimeout(function() {
                                        var t = e.r;
                                        e.attr({
                                            r: t + b
                                        })
                                    }, 1020)
                                },
                                redraw: function() {
                                    var e = this.series[0].data[1].graphic
                                      , t = e.r;
                                    e.attr({
                                        r: t + b
                                    })
                                }
                            }
                        },
                        title: {
                            text: r + "<sup>%</sup>",
                            verticalAlign: "middle",
                            style: {
                                color: "#595959",
                                font: "40px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif",
                                "z-index": "-999"
                            },
                            floating: !0,
                            y: 0,
                            useHTML: !0
                        },
                        subtitle: {
                            text: c.a.localize("left_balance"),
                            verticalAlign: "middle",
                            style: {
                                color: "#888",
                                font: "400 14px/22px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"
                            },
                            y: 30
                        },
                        credits: {
                            enabled: !1
                        },
                        plotOptions: {
                            pie: {
                                shadow: !1,
                                center: ["50%", "50%"],
                                dataLabels: {
                                    enabled: !1
                                }
                            }
                        },
                        tooltip: {
                            formatter: function() {
                                return this.y === y.prePeakPower ? h.prePeakLabel : this.y === y.postPeakPower ? h.postPeakLabel : this.y === y.peakPower && h.peakPowerPhaseLabel
                            }
                        },
                        series: [{
                            name: "Left Power Phase",
                            data: w,
                            size: this.ChartSize[e].chart_size,
                            innerSize: this.ChartSize[e].inner_chart_size,
                            borderWidth: 0,
                            startAngle: t
                        }]
                    }
                      , S = {
                        chart: {
                            type: "pie",
                            plotBorderWidth: 0,
                            plotShadow: !1,
                            backgroundColor: "transparent",
                            events: {
                                load: function() {
                                    var e = this.series[0].data[1].graphic;
                                    setTimeout(function() {
                                        var t = e.r;
                                        e.attr({
                                            r: t + b
                                        })
                                    }, 1020)
                                },
                                redraw: function() {
                                    var e = this.series[0].data[1].graphic
                                      , t = e.r;
                                    e.attr({
                                        r: t + b
                                    })
                                }
                            }
                        },
                        title: {
                            text: m + "<sup>%</sup>",
                            verticalAlign: "middle",
                            style: {
                                color: "#595959",
                                font: "40px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif",
                                "z-index": "-999"
                            },
                            floating: !0,
                            y: 0,
                            useHTML: !0
                        },
                        subtitle: {
                            text: c.a.localize("right_balance"),
                            verticalAlign: "middle",
                            style: {
                                color: "#888",
                                font: "400 14px/22px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"
                            },
                            y: 30
                        },
                        credits: {
                            enabled: !1
                        },
                        plotOptions: {
                            pie: {
                                shadow: !1,
                                center: ["50%", "50%"],
                                dataLabels: {
                                    enabled: !1
                                }
                            }
                        },
                        tooltip: {
                            formatter: function() {
                                return this.y === v.prePeakPower ? f.prePeakLabel : this.y === v.postPeakPower ? f.postPeakLabel : this.y === v.peakPower && f.peakPowerPhaseLabel
                            }
                        },
                        series: [{
                            name: "Right Power Phase",
                            data: _,
                            size: this.ChartSize[e].chart_size,
                            innerSize: this.ChartSize[e].inner_chart_size,
                            borderWidth: 0,
                            startAngle: p
                        }]
                    };
                    this.PowerPhaseChartLeft = new s.a({
                        options: x,
                        el: this.$("#pp-left")
                    }),
                    this.PowerPhaseChartRight = new s.a({
                        options: S,
                        el: this.$("#pp-right")
                    }),
                    this.$("#left-pp-container").append(this.PowerPhaseChartLeft.render().el),
                    this.$("#right-pp-container").append(this.PowerPhaseChartRight.render().el)
                },
                adjustChart: function(t, i) {
                    var a = e(window).width()
                      , n = null;
                    return n = a > 640 || a <= 520 ? "MEDIUM" : "SMALL",
                    ("left" === i ? this.$("#pp-left") : this.$("#pp-right")).css({
                        height: this.ChartSize[n].chart_height,
                        width: this.ChartSize[n].chart_width
                    }),
                    t && t.options.series && t.options.series.length > 0 && (t.options.series[0].size = this.ChartSize[n].chart_size,
                    t.options.series[0].innerSize = this.ChartSize[n].inner_chart_size),
                    n
                },
                resizeChart: function() {
                    this.adjustChart(this.PowerPhaseChartLeft, "left");
                    return this.adjustChart(this.PowerPhaseChartRight, "right")
                },
                createLabels: function(e, t, i, a) {
                    return e < 0 && (e = 360 + e),
                    {
                        prePeakLabel: "<strong>" + c.a.localize("power_phase_tip_pre_peak") + "</strong><br>" + Math.round(100 * e) / 100 + "\xb0",
                        postPeakLabel: "<strong>" + c.a.localize("power_phase_tip_post_peak") + "</strong><br>" + Math.round(100 * a) / 100 + "\xb0",
                        peakPowerPhaseLabel: "<strong>" + c.a.localize("power_phase_tip_peak") + "</strong><br>" + c.a.localize("power_phase_tip_peak_start") + ": " + Math.round(100 * t) / 100 + "\xb0 <br>" + c.a.localize("power_phase_tip_peak_end") + ": " + Math.round(100 * i) / 100 + "\xb0"
                    }
                },
                calculateYData: function(e, t, i, a) {
                    return {
                        prePeakPower: (t - e) / 360,
                        peakPower: (i - t) / 360,
                        postPeakPower: (a - i) / 360,
                        other: (360 - a + e) / 360
                    }
                },
                buildSeries: function(e) {
                    var t, i = [], a = e.length, n = ["PrePower", "PowerPhase", "PostPower", "Non-PowerPhase"];
                    for (t = 0; t < a; t += 1)
                        i.push({
                            name: n[t],
                            y: e[t].y,
                            color: e[t].color
                        }),
                        n[t].selected && (i[n[t]].selected = n[t].selected);
                    return i
                },
                normalizeData: function(e, t) {
                    return t < 0 && (t = 360 + t),
                    e > t && (e -= 360),
                    {
                        powerPhaseStart: e,
                        powerPhaseEnd: t
                    }
                },
                destroy: function() {
                    this.unbindWindowResize(),
                    this.remove()
                },
                bindWindowResize: function() {
                    e(window).on("resize.powerPhasePieChart", n.a.bind(this.resizeChart, this))
                },
                unbindWindowResize: function() {
                    e(window).off("resize.powerPhasePieChart", this.resizeChart)
                }
            });
            t.a = p
        }
        ).call(this, i(9))
    },
    4590: function(e, t) {
        e.exports = '<h5><%- Localizer.localize(\'label_cd_tab_power_phase\') %></h5>\n<div class="power-phase-charts">\n\n    <div id="left-pp-container">\n        <div id="pp-left" class="chart-container"></div>\n        <div class="bottom-m power-phase-graphic"></div>\n    </div>\n\n    <div id="right-pp-container">\n        <div id="pp-right" class="chart-container"></div>\n        <div class="bottom-m power-phase-graphic"></div>\n    </div>\n\n</div>'
    },
    4591: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r).a.View.extend({
            defaultOptions: {
                chart: {
                    type: "pie",
                    plotBackgroundColor: null,
                    plotBorderWidth: 0,
                    plotShadow: !1,
                    backgroundColor: "transparent",
                    events: null
                },
                title: {
                    text: " ",
                    verticalAlign: "middle"
                },
                subtitle: {
                    text: "",
                    verticalAlign: "middle"
                },
                credits: {
                    enabled: !1
                },
                plotOptions: {
                    pie: {
                        shadow: !1,
                        center: ["50%", "50%"],
                        dataLabels: {
                            enabled: !0
                        }
                    }
                },
                exporting: {
                    enabled: !1
                },
                tooltip: {
                    formatter: null
                }
            },
            initialize: function(e) {
                e.options ? this.options = n.a.extend({}, this.defaultOptions, e.options) : this.options = n.a.extend({}, this.defaultOptions)
            },
            render: function() {
                return this.$el.highcharts(this.options),
                this
            }
        });
        t.a = o
    },
    4592: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(8)
              , r = i.n(n)
              , o = i(0)
              , s = i.n(o)
              , l = i(7)
              , c = i(1572)
              , h = i(1294)
              , p = i(193)
              , d = i(438)
              , u = i(4593)
              , g = i.n(u)
              , m = {
                PowerRangeChanged: "PowerRangeChanged",
                ChartRangeChanged: "ChartRangeChanged",
                ResetZoom: "ResetZoom"
            }
              , f = s.a.View.extend({
                events: {
                    "mouseover #power-pill-btn": "onGoHovered",
                    "click .range-item": "onRangeItemClicked",
                    "click .custom-max-avg-power-button": "onCustomRangeClicked",
                    "click #power-pill-btn": "onGoBtnClicked"
                },
                initialize: function(e) {
                    this.template = r.a.template(g.a),
                    this.powerRange = e.powerRange,
                    this.duration = e.duration
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: l.a,
                        avgValue: ""
                    })),
                    this.disableRanges(this.duration),
                    this.selectRange(this.powerRange),
                    this.numberValidator = new h.a({
                        typeFormat: "integer",
                        minValue: 1,
                        maxValue: this.duration,
                        element: this.$(".time-input-field"),
                        required: !0,
                        reporter: new p.a({
                            message: function(e, t) {
                                return l.a.localize("error.custom.max.avg.invalid")
                            },
                            position: "top",
                            element: this.$(".time-input-field"),
                            container: this.$el
                        })
                    }),
                    this
                },
                disableRanges: function(t) {
                    if (t) {
                        var i, a = this;
                        this.$(".range-item").each(function() {
                            (i = e(this).attr("data-timerange")) > t && a.$('.range-item[data-timerange="' + i + '"]').hide()
                        })
                    }
                },
                selectRange: function(e, t) {
                    e && (-1 !== e && this.$('.range-item[data-timerange="-1"]').removeClass("active"),
                    c.a.isCustomRange(e) ? (t || this.$(".custom-max-avg-power").hide(),
                    this.$('.range-item[data-timerange="' + this.powerRange + '"]').removeClass("active"),
                    this.$(".custom-max-avg-power-button").addClass("active")) : (this.$(".custom-max-avg-power").hide(),
                    this.$(".custom-max-avg-power-button").removeClass("active"),
                    this.$('.range-item[data-timerange="' + this.powerRange + '"]').removeClass("active"),
                    this.$('.range-item[data-timerange="' + e + '"]').addClass("active")),
                    this.powerRange = e)
                },
                onRangeItemClicked: function(e) {
                    e.preventDefault();
                    this.$(".custom-max-avg-power").hide(),
                    this.numberValidator && this.numberValidator.clearReport();
                    var t = +a(e.currentTarget).attr("data-timeRange");
                    if (-1 === t)
                        return this.clearLabel(),
                        void this.trigger(m.ResetZoom, t, !0);
                    this.trigger(m.PowerRangeChanged, t, !0),
                    this.pushChangeMaxAvgPowerAnalyticsEvents()
                },
                onCustomRangeClicked: function(e) {
                    e.preventDefault(),
                    this.$(".custom-max-avg-power").show(),
                    this.pushChangeMaxAvgPowerAnalyticsEvents()
                },
                pushChangeMaxAvgPowerAnalyticsEvents: function() {
                    d.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Change Max Avg Power For Cycling Dynamics"
                    })
                },
                onGoBtnClicked: function(e) {
                    if (e.preventDefault(),
                    !this.$("#power-pill-btn").is("[disabled=disabled]")) {
                        var t = this.$(".time-input-field").val();
                        if (t) {
                            var i = t = +t;
                            "min" === this.$(".min-sec-selection").val() && (i *= 60),
                            this.trigger(m.PowerRangeChanged, i, !0)
                        }
                    }
                },
                setMaxAvgLabel: function(e) {
                    "sumDuration" === e.axisType ? this.$("#avg-power-range-value").text(c.a.formatAvgTimeValue(e.startTime, e.endTime, e.powerValue)) : this.$("#avg-power-range-value").text(c.a.formatAvgDistanceValue(e.startDistance, e.endDistance, e.powerValue))
                },
                clearLabel: function() {
                    this.$("#avg-power-range-value").text("")
                },
                onGoHovered: function() {
                    var e = +this.$(".time-input-field").val()
                      , t = this.$("select.input-small.min-sec-selection").val()
                      , i = this.$("#power-pill-btn")
                      , a = 1;
                    "min" === t && (a = 60),
                    (e *= a) > this.duration ? this.numberValidator.report(e, h.a.Errors.OutOfRange) : this.numberValidator.clearReport(),
                    0 !== this.$(".tooltip-error:visible").length || 0 === e ? i.addClass("disabled").attr("disabled", "disabled") : i.removeClass("disabled").removeAttr("disabled")
                }
            });
            f.Events = m,
            t.a = f
        }
        ).call(this, i(9), i(9))
    },
    4593: function(e, t) {
        e.exports = '<div class="span12">\n    <span class="data-label max-avg-label"><%- Localizer.localize(\'max_avg_power\') %></span>\n    <div class="btn-group btn-group-pill" data-toggle="buttons-radio">\n        \x3c!-- NONE IS THE DEFAULT --\x3e\n        <button data-timerange="-1" class="btn btn-small active range-item"><%- Localizer.localize(\'avg_power_range_none\') %></button>\n        <button data-timerange="5" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_customsec\', 5) %></button>\n        <button data-timerange="60" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_custommin\', 1) %></button>\n        <button data-timerange="300" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_custommin\', 5) %></button>\n        <button data-timerange="1200" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_custommin\', 20) %></button>\n        <button class="btn btn-small custom-max-avg-power-button"><%- Localizer.localize(\'avg_power_range_custom\') %></button>\n    </div>\n\n    <div class="custom-max-avg-power" style="display:none;">\n        <input type="text" class="input-mini time-input-field" maxlength="3">\n        <select class="input-small  min-sec-selection">\n            <option value="min"><%- Localizer.localize(\'avg_power_range_unit_min\') %></option>\n            <option value="sec"><%- Localizer.localize(\'avg_power_range_unit_sec\') %></option>\n        </select>\n        <div id="power-pill-btn" class="btn btn-form"><%- Localizer.localize(\'avg_power_calculate_btn\') %></div>\n    </div>\n    <span id="avg-power-range-value" class="data-label pull-right"><%- avgValue %></span>\n</div>'
    },
    4594: function(e, t) {
        e.exports = '<% if (showStatsTab) { %>\n<li class="active">\n    <a id="tabStatsId" href="#tab-stats" data-toggle="tab"><%- Localizer.localize(\'activity_stats\') %></a>\n</li>\n<% } %>\n<% if (showSplitsTab) { %>\n<li>\n    <a id="tabSplitsId" href="#tab-splits" data-toggle="tab"><%- splitsTab %></a>\n</li>\n<% } %>\n<% if (showPaceProStrategyTab) { %>\n<li>\n    <a id="tabPaceProStrategy" href="#tab-pacepro-strategy" data-toggle="tab"><%- Localizer.localize(\'show_pacepro_strategy\') %></a>\n</li>\n<% } %>\n<% if (canShowMtbMetricsTab) { %>\n    <li>\n        <a id="tabMtbMetricsId" href="#tab-mtb" data-toggle="tab"><%- Localizer.localize(\'activity_mtb_metrics\') %></a>\n    </li>\n<% } %>\n<% if (showGasesAndTanksTab) { %>\n<li>\n    <a id="tabGasesAndTanksId" href="#tab-gases-and-tanks" data-toggle="tab"><%- Localizer.localize(\'tanks_and_gases\') %></a>\n</li>\n<% } %>\n<% if (showApneaDivesTab) { %>\n<li>\n    <a id="tabApneaDives" href="#tab-apnea-dives" data-toggle="tab"><%- Localizer.localize(\'apnea_dives_label\') %></a>\n</li>\n<% } %>\n<% if (showSegmentTab) { %>\n<li>\n    <a id="tabSegmentsId" href="#tab-segments" data-toggle="tab"><%- Localizer.localize(\'segments\') %>\n        <% if (segmentCount > 0 && shouldShowSegmentCounter) { %>\n            <span class="notification-count"><%- segmentCount %></span>\n        <% } %>\n    </a>\n</li>\n<% } %>\n<% if (showTimeInZones) { %>\n<li>\n    <a id="tabTimeInZonesId" href="#tab-time-in-zones" data-toggle="tab"><%- Localizer.localize(\'time.in.zones\') %></a>\n</li>\n<% } %>\n<% if (showCyclingDynamics) { %>\n<li>\n    <a id="tabCyclingDynamics" href="#tab-cycling-dynamics" data-toggle="tab"><%- Localizer.localize(\'cycling_dynamics\') %></a>\n</li>\n<% } %>\n<% if (showPowerCurve) { %>\n<li>\n    <a id="tabPowerCurve" href="#tab-power-curve" data-toggle="tab"><%- Localizer.localize(\'power_curve_title\') %></a>\n</li>\n<% } %>'
    },
    4595: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(2648)
              , h = i(2747)
              , p = i(1309)
              , d = i(4596)
              , u = i.n(d)
              , g = {
                ActivityChanged: "ActivityChanged"
            }
              , m = o.a.View.extend({
                template: n.a.template(u.a),
                events: {
                    "click .activity-tab": "onActivityTabClicked"
                },
                initialize: function(e) {
                    if (this.parentActivity = e.parentActivity,
                    this.childActivities = e.childActivities,
                    !this.parentActivity)
                        throw "parentActivity required for MultisportNavView";
                    this.childActivities || (this.childActivities = new c.a)
                },
                selectTab: function(t) {
                    this.$("li").removeClass("active"),
                    e(this.$("li")[t]).addClass("active")
                },
                render: function() {
                    var e = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        parent: this.parentActivity.toJSON(),
                        children: this.childActivities.toJSON(),
                        cm: p.a
                    });
                    this.$el.css("display", ""),
                    this.$el.html(e),
                    this.childActivities.each(function(e) {
                        this.renderPrTrophy(e)
                    }, this)
                },
                renderPrTrophy: function(t) {
                    t.get("personalRecord") && (this.$("#prPlaceholder-" + t.id).replaceWith(e('<i class="icon-personal-records has-tooltip" id="prPlaceholder-' + t.id + '" data-placement="bottom" data-html="true" title=""></i>')),
                    this.prsTooltipView = new h.a({
                        el: this.$("#prPlaceholder-" + t.id),
                        activityId: t.id
                    }))
                },
                onActivityTabClicked: function(t) {
                    this.trigger(g.ActivityChanged, e(t.currentTarget).attr("data-id"))
                }
            });
            m.Events = g,
            t.a = m
        }
        ).call(this, i(9))
    },
    4596: function(e, t) {
        e.exports = '<li class="active">\n    <a class="activity-tab" data-id="<%- parent.activityId %>" href="#tab-multisport-overview" data-toggle="tab">\n        <div class="icon"><i class="icon-activity-multisport"></i></div>\n        <div class="time"><%- Personalizer.personalizeDuration(parent.duration) %></div>\n        <div class="avg-stat"></div>\n    </a>\n</li>\n<% for (var i = 0; i < children.length; i++) { %>\n<%     var activity = children[i];            %>\n    <li>\n        <a class="activity-tab" data-id="<%- activity.activityId %>" href="#" data-toggle="tab">\n            <div class="icon"><i class="icon-activity-<%- cm.map(activity.activityTypeDTO.typeKey) %>"></i></div>\n            <div class="time"><%- Personalizer.personalizeDuration(activity.duration) %>\n                <i id="prPlaceholder-<%- activity.activityId %>" style="display:none;"></i>\n            </div>\n            <% var poolUnit = activity.unitOfPoolLength ? activity.unitOfPoolLength.unitKey : null; %>\n            <div class="avg-stat"><%- Personalizer.personalizeSpeed(activity.averageSpeed, activity.activityTypeDTO.typeKey, poolUnit) %> <%- Localizer.localize(Personalizer.getSpeedTypeKey(activity.activityTypeDTO.typeKey, null, poolUnit)) %></div>\n        </a>\n    </li>\n<% } %>\n\n\n'
    },
    4597: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(438)
          , h = i(31)
          , p = i(2004)
          , d = i(1389)
          , u = i(4598)
          , g = i.n(u);
        t.a = o.a.View.extend({
            template: n.a.template(g.a),
            events: {
                "click .toggle-add-gear": "onAddGearBtnClicked"
            },
            initialize: function(e) {
                this.selectedGear = e.selectedGear,
                this.readOnly = e.readOnly
            },
            updateModels: function(e, t) {
                this.selectedGear && this.stopListening(),
                this.model = e,
                this.selectedGear = t,
                this.selectedGear && (this.listenTo(this.selectedGear, "add", this.render),
                this.listenTo(this.selectedGear, "remove", this.render))
            },
            render: function() {
                var e = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    selectedGear: this.getGearModels(),
                    isReadOnly: this.readOnly
                });
                this.$el.html(e)
            },
            getGearModels: function() {
                return this.selectedGear ? this.selectedGear.map(function(e) {
                    return {
                        fullDisplayName: d.a.getFullGearDisplayNameByModel(e),
                        gearClass: this.mapGearTypeToClass(e.get("gearTypeName"))
                    }
                }, this) : []
            },
            mapGearTypeToClass: function(e) {
                var t = e.toLocaleLowerCase();
                return "bike" === t ? "bike" : "shoes" === t ? "steps" : "gear"
            },
            onAddGearBtnClicked: function() {
                this.pushClickChangeGearAnalyticsEvents();
                var e = new p.a({
                    model: this.model,
                    selectedGear: this.selectedGear
                })
                  , t = new h.a({
                    modalTitle: s.a.localize("label_edit_gear"),
                    view: e,
                    showFooter: !1
                });
                e.on("ON_DEPENDENCIES_LOADED", function() {
                    e.render(),
                    t.render()
                }, this),
                e.load()
            },
            pushClickChangeGearAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Click Change Gear From Sidebar"
                })
            }
        })
    },
    4598: function(e, t) {
        e.exports = '<% if (selectedGear && selectedGear.length) { %>\n<div class="gear-images">\n    <% for (var i = 0; i < selectedGear.length; i++) {  %>\n    <%  var gear = selectedGear[i];                     %>\n        <i class="avatar avatar-medium icon-<%- gear.gearClass %>"></i>\n    <% }                                                %>\n</div>\n<ul class="gear-names">\n    <% for (i = 0; i < selectedGear.length; i++) {  %>\n    <%  gear = selectedGear[i];                     %>\n        <li><%- gear.fullDisplayName %></li>\n    <% }                                                %>\n\n    <% if (!isReadOnly) { %>\n    <li><a href="#gear-edit-modal" data-toggle="modal" class="toggle-add-gear colored"><%- Localizer.localize(\'label_change_gear\') %></a></li>\n    <% } %>\n</ul>\n<% } %>'
    },
    4599: function(e, t) {
        e.exports = '<td data-title-1="<%- labels.setNumberTitle %>"><p><%- rowNumber %></p></td>\n\n<td data-title-2="<%- labels.setName %>" class="workout-name">\n    <% if(!linkNameToEdit) { %>\n    <%- Localizer.localize(exerciseType) %>\n\n    <% } else { %>\n    <a href="#" class="edit-activity colored">\n        <%- Localizer.localize(labels.chooseSetLabelKey || exerciseType) %>\n    </a>\n    <% } %>\n</td>\n\n<td data-title-3="<%- Localizer.localize(\'label.time\') %>">\n    <%- time %>\n</td>\n\n<% if(!isPilatesActivity && !isYogaActivity) { %>\n<td data-title-4="<%- Localizer.localize(\'label_rest\') %>">\n    <%- rest %>\n</td>\n<% } %>\n\n<% if(!isYogaActivity) { %>\n<td data-title-5="<%- Localizer.localize(\'label_reps\') %>">\n    <%- reps %>\n</td>\n<% } %>\n\n<% if(!isPilatesActivity && !isYogaActivity) { %>\n<td data-title-6="<%- Localizer.localize(\'label_weight\') %>">\n    <% if(weightIsNumber || isReadOnly) { %>\n\n        <%- weight %>\n\n        <% if(isMetric) { %>\n            <%- Localizer.localize(\'weight_unit_metric\') %>\n        <% } else { %>\n            <%- Localizer.localize(\'weight_unit_statute\') %>\n        <% } %>\n\n    <% } else { %>\n    <a href="#" class="colored edit-activity"><%- weight %></a>\n    <% } %>\n</td>\n<% } %>'
    },
    4600: function(e, t) {
        e.exports = "<table class=\"table table-hover table-responsive rep-counting-table\">\n    <thead>\n        <tr>\n            <th><%- labels.setNumberTitle %></th>\n            <th><%- labels.setName %></th>\n            <th><%- Localizer.localize('label.time') %></th>\n\n            <% if(!isPilatesActivity && !isYogaActivity) { %>\n            <th><%- Localizer.localize('label_rest') %></th>\n            <% } %>\n\n            <% if(!isYogaActivity) { %>\n            <th><%- Localizer.localize('label_reps') %></th>\n            <% } %>\n\n            <% if(!isPilatesActivity && !isYogaActivity) { %>\n            <th><%- Localizer.localize('label_weight') %></th>\n            <% } %>\n        </tr>\n    </thead>\n\n    <tbody id=\"setsContainer\"></tbody>\n</table>"
    },
    4601: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(4602)
              , h = i.n(c)
              , p = o.a.View.extend({
                tagName: "tr",
                className: "rounds",
                template: n.a.template(h.a),
                events: {
                    "click .parent-round": "onRoundClicked"
                },
                initialize: function(e) {
                    this.rowNumber = e.rowNumber,
                    this.isEvenRow = e.isEvenRow,
                    this.roundTime = e.roundTime,
                    this.roundRestTime = e.roundRestTime,
                    this.roundTotalReps = e.roundTotalReps
                },
                render: function() {
                    this.$el.html(this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        isMetric: l.a.measurementSystem === l.a.MeasurementSystems.METRIC,
                        rowNumber: this.rowNumber,
                        roundTime: l.a.personalizeDuration(this.roundTime),
                        roundRestTime: l.a.personalizeDuration(this.roundRestTime),
                        roundTotalReps: this.roundTotalReps,
                        labels: this.getLabels()
                    })),
                    this.isEvenRow && this.$el.addClass("roundsAlternatingRow")
                },
                onRoundClicked: function(t) {
                    e(t.target).closest("tr").nextUntil("tr:has(.parent-round)").toggle(0),
                    e(t.target).closest("tr").find("span.caret").toggleClass("collapsed")
                },
                getLabels: function() {
                    return {
                        setNumberTitle: s.a.localize("label_set"),
                        setName: s.a.localize("label_exercise_name"),
                        chooseSetLabelKey: null
                    }
                }
            });
            t.a = p
        }
        ).call(this, i(9))
    },
    4602: function(e, t) {
        e.exports = '<td class="parent-round"><%- rowNumber %><span data-toggle="collapse" class="caret"></span></td>\n<td class="parent-round">Round <%- rowNumber %></td>\n<td class="parent-round"><%- roundTime %></td>\n<td class="parent-round"><%- roundRestTime %></td>\n<td class="parent-round"><%- roundTotalReps %></td>\n<td class="parent-round"></td>'
    },
    4603: function(e, t) {
        e.exports = '<td><%- rowNumber %>-<%- exerciseRowNumber %></td>\n<td>\n    <% if(!linkNameToEdit) { %>\n        <%- Localizer.localize(exerciseName) %>\n    \n    <% } else { %>\n        <a href="#" class="colored edit-activity">\n            <%- Localizer.localize(labels.chooseSetLabelKey || exerciseType) %>\n        </a>\n    <% } %>\n</td>\n<td><%- exerciseTime %></td>\n<td><%- exerciseRestTime %></td>\n<td><%- exerciseRepCount %></td>\n<td>\n    <% if(weightIsNumber || isReadOnly) { %>\n\n        <%- exerciseWeight %>\n\n        <% if(isMetric) { %>\n            <%- Localizer.localize(\'weight_unit_metric\') %>\n        <% } else { %>\n            <%- Localizer.localize(\'weight_unit_statute\') %>\n        <% } %>\n\n    <% } else { %>\n        <a href="#" class="colored edit-activity"><%- exerciseWeight %></a>\n    <% } %>\n</td>'
    },
    4604: function(e, t) {
        e.exports = "<table class=\"table table-hover table-responsive rep-counting-table\">\n    <thead>\n        <tr>\n            <th><%- Localizer.localize('activity_rounds') %></th>\n            <th><%- labels.setName %></th>\n            <th><%- Localizer.localize('label.time') %></th>\n            <th><%- Localizer.localize('label_rest') %></th>\n            <th><%- Localizer.localize('label_reps') %></th>\n            <th><%- Localizer.localize('label_weight') %></th>\n        </tr>\n    </thead>\n\n    <tbody id=\"setsRoundExercise\"></tbody>\n</table>"
    },
    4605: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(433)
              , l = i(1793);
            t.a = o.a.View.extend({
                initialize: function(e) {
                    s.a.setExpandCollapseHandler(function() {
                        this.resizeCanvas()
                    }
                    .bind(this))
                },
                render: function() {
                    var e = this.model.activity.toJSON();
                    this.diveLogView = new l.a({
                        model: this.model.activity,
                        surfaceInterval: e.surfaceInterval,
                        timeIn: e.startTimeLocal,
                        maxDepth: e.maxDepth,
                        avgDepth: e.averageDepth,
                        bottomTime: e.bottomTime,
                        isDecoDive: e.isDecoDive
                    }).render();
                    var t = this.diveLogView.el;
                    this.$el.html(t),
                    this.bindWindowResize(),
                    this.diveLogView.render()
                },
                resizeCanvas: function() {
                    this.diveLogView.renderCanvas()
                },
                bindWindowResize: function() {
                    e(window).on("resize.diveLog", n.a.bind(this.resizeCanvas, this))
                },
                unbindWindowResize: function() {
                    e(window).off("resize.diveLog", this.resizeCanvas)
                },
                destroy: function() {
                    this.unbindWindowResize(),
                    this.diveLogView.remove(),
                    this.remove()
                }
            })
        }
        ).call(this, i(9))
    },
    4606: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(438)
              , h = i(198)
              , p = i(4607)
              , d = i.n(p)
              , u = "bpm"
              , g = "percentMax"
              , m = "zones";
            t.a = o.a.View.extend({
                template: n.a.template(d.a),
                events: {
                    "click #btn-heart-rate": "handleToggle",
                    "click #btn-percent-max": "handleToggle",
                    "click #btn-zones": "handleToggle"
                },
                initialize: function(e) {
                    this.heartRateZones = e.heartRateZones,
                    this.enableToggle = e.enableToggle,
                    this.mode = u,
                    this.isYoga = e.isYoga,
                    this.isFloorClimbingActivity = e.isFloorClimbingActivity,
                    this.isPilatesActivity = e.isPilatesActivity,
                    this.isAutoRacingActivity = e.isAutoRacingActivity,
                    this.isBreathworkActivity = e.isBreathworkActivity,
                    this.isEsportActivity = e.isEsportActivity
                },
                handleToggle: function(t) {
                    t.preventDefault(),
                    this.$(".btn-small").removeClass("active");
                    var i = e(t.currentTarget).attr("id");
                    this.mode = "btn-heart-rate" == i ? u : "btn-percent-max" == i ? g : m,
                    this.pushHeartRateToggleAnalyticsEvents(),
                    this.render()
                },
                pushHeartRateToggleAnalyticsEvents: function() {
                    c.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Stats Tab - Heart Rate Toggle"
                    })
                },
                render: function() {
                    var e = this.model.get("averageHR")
                      , t = this.model.get("maxHR");
                    if (e)
                        var i = l.a.personalizeHeartRate(e);
                    if (t)
                        var a = l.a.personalizeHeartRate(t);
                    var n = s.a.localize(l.a.getHeartRateUnitKey());
                    if (this.mode === g && this.heartRateZones) {
                        var r = this.heartRateZones.maxHeartRateUsed;
                        e && (i = Math.round(e / r * 100)),
                        t && (a = Math.round(t / r * 100)),
                        n = s.a.localize(l.a.getPercentMaxHeartRateUnitKey())
                    } else if (this.mode === m && this.heartRateZones) {
                        var o = this.findZone(e)
                          , c = this.findZone(t);
                        o && c && (e && (i = this.formatZone(e, o)),
                        t && (a = this.formatZone(t, c)),
                        n = s.a.localize(l.a.getHeartRateZoneUnitKey()))
                    }
                    var p = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        model: {
                            heartRateValue: i,
                            maxHeartRateValue: a,
                            heartRateUnit: n
                        },
                        enableToggle: this.shouldEnableToggle()
                    });
                    this.$el.html(p),
                    this.mode == u ? this.$("#btn-heart-rate").addClass("active") : this.mode == g ? this.$("#btn-percent-max").addClass("active") : this.$("#btn-zones").addClass("active"),
                    h.a.renderTooltips.call(this)
                },
                findZone: function(e) {
                    var t = this.heartRateZones.zone1Floor
                      , i = this.heartRateZones.zone2Floor
                      , a = this.heartRateZones.zone3Floor
                      , n = this.heartRateZones.zone4Floor
                      , r = this.heartRateZones.zone5Floor
                      , o = {
                        floor: r,
                        ceiling: this.heartRateZones.maxHeartRateUsed,
                        number: 5
                    };
                    return e <= t ? o = {
                        floor: 0,
                        ceiling: t,
                        number: 0
                    } : t < e && i >= e ? o = {
                        floor: t,
                        ceiling: i,
                        number: 1
                    } : i < e && a >= e ? o = {
                        floor: i,
                        ceiling: a,
                        number: 2
                    } : a < e && n >= e ? o = {
                        floor: a,
                        ceiling: n,
                        number: 3
                    } : n < e && r >= e ? o = {
                        floor: n,
                        ceiling: r,
                        number: 4
                    } : r < e && this.heartRateZones.maxHeartRateUsed >= e && (o = {
                        floor: r,
                        ceiling: this.heartRateZones.maxHeartRateUsed,
                        number: 5
                    }),
                    o
                },
                formatZone: function(e, t) {
                    if (t.ceiling < e)
                        return l.a.formatDecimalNumber(t.number + 1, 1);
                    var i = t.number + (e - t.floor) / (t.ceiling - t.floor);
                    return l.a.formatDecimalNumber(i, 1)
                },
                shouldEnableToggle: function() {
                    return this.enableToggle && this.heartRateZones && !this.isYoga && !this.isFloorClimbingActivity && !this.isAutoRacingActivity && !this.isBreathworkActivity && !this.isEsportActivity
                }
            })
        }
        ).call(this, i(9))
    },
    4607: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_heart_rate\') %></h3>\n    <% if (enableToggle) { %>\n    <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n        <button id="btn-heart-rate" class="btn btn-small"><%- Localizer.localize(\'heart_rate_unit\') %></button>\n        <button id="btn-percent-max" class="btn btn-small"><%- Localizer.localize(\'percent_of_max\') %></button>\n        <button id="btn-zones" class="btn btn-small"><%- Localizer.localize(\'label_zones\') %></button>\n    </div>\n    <% } %>\n\n    <% if (model.heartRateValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.heartRateValue %> <%- model.heartRateUnit %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_HR\') %></span>\n    </div>\n    <% } %>\n\n    <% if (model.maxHeartRateValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.maxHeartRateValue %> <%- model.heartRateUnit %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_HR\') %></span>\n    </div>\n    <% } %>\n</div>'
    },
    4608: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_climb_ascent\') %></h3>\n    \x3c!-- Indoor Climb Ascent Metrics --\x3e\n    <% if (isIndoorClimbingActivity) { %>\n        <% if (indoorClimbAvgAscent) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(indoorClimbAvgAscent) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'climb_avg_ascent\') %></span>\n            </div>\n        <% } %>\n        <% if (indoorClimbMaxAscent) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(indoorClimbMaxAscent) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'climb_max_ascent\') %></span>\n            </div>\n        <% } %>\n        <% if (indoorClimbElevationGain) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(indoorClimbElevationGain) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'activity_total_ascent\') %></span>\n            </div>\n        <% } %>\n    <% } else { %>\n        <% if (ascent) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeFloors(ascent) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_ascent\') %></span>\n        </div>\n        <% } %>\n\n        <% if (descent) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeFloors(descent) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_descent\') %></span>\n        </div>\n        <% } %>\n\n        <% if (minElevation) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeElevation(minElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_min_elevation\') %></span>\n        </div>\n        <% } %>\n\n        <% if (maxElevation) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeElevation(maxElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_max_elevation\') %></span>\n        </div>\n        <% } %>\n    <% } %>\n</div>'
    },
    4609: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(7)
              , l = i(11)
              , c = i(438)
              , h = i(42)
              , p = i(31)
              , d = i(4610)
              , u = i(4612)
              , g = i.n(u)
              , m = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromPowerStats: "WeightChangedFromPowerStats"
            }
              , f = "zones"
              , y = "watts"
              , v = "kg"
              , b = o.a.View.extend({
                template: n.a.template(g.a),
                events: {
                    "click #btn-watts": "handleToggle",
                    "click #btn-zones": "handleToggle",
                    "click #btn-kg": "handleToggle",
                    "click .help-power": "onPowerHelpClicked"
                },
                initialize: function(e) {
                    this.powerZones = e.powerZones,
                    this.enableToggle = e.enableToggle,
                    this.usersWeight = e.usersWeight,
                    this.mode = y,
                    this.needToSelectKg = !1
                },
                onPowerHelpClicked: function(e) {
                    e.preventDefault();
                    var t = new d.a({});
                    new p.a({
                        view: t,
                        showFooter: !1,
                        modalTitle: s.a.localize("help.title")
                    }).render()
                },
                handleToggle: function(t) {
                    t.stopPropagation();
                    var i = e(t.currentTarget);
                    switch (this.needToSelectKg = !1,
                    i.attr("id")) {
                    case "btn-zones":
                        this.mode = f;
                        break;
                    case "btn-kg":
                        this.usersWeight ? this.mode = v : (this.needToSelectKg = !0,
                        this.trigger(m.DisplayWeightEntryPopup, {
                            context: this,
                            successCallback: this.weightPopupCallback
                        }, this));
                        break;
                    case "btn-watts":
                        this.mode = y
                    }
                    this.pushPowerToggleAnalyticsEvents(),
                    this.render()
                },
                pushPowerToggleAnalyticsEvents: function() {
                    c.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Stats Tab - Power Toggle"
                    })
                },
                render: function() {
                    var e = this.model.get("averagePower")
                      , t = this.model.get("maxPower");
                    if (e)
                        var i = l.a.personalizePower(e);
                    if (t)
                        var a = l.a.personalizePower(t);
                    var n = s.a.localize(l.a.getPowerUnitKey());
                    if (this.mode == f && this.powerZones) {
                        var r = this.findZone(e)
                          , o = this.findZone(t);
                        r && (i = this.formatZone(e, r),
                        n = s.a.localize(l.a.getHeartRateZoneUnitKey())),
                        o && (a = this.formatZone(t, o),
                        n = s.a.localize(l.a.getHeartRateZoneUnitKey()))
                    }
                    if (this.mode === v && this.usersWeight) {
                        var c = this.usersWeight;
                        i = l.a.personalizePowerKg(e / c),
                        t && (a = l.a.personalizePowerKg(t / c)),
                        n = s.a.localize("label_power_kg")
                    }
                    var p = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        activity: this.model.toJSON(),
                        powerData: {
                            averagePowerValue: i,
                            powerUnit: n,
                            maxPowerValue: a
                        },
                        activityType: this.model.get("activityTypeDTO").typeKey,
                        enableToggle: this.enableToggle && this.powerZones && (e || t),
                        isCrossCountrySkiActivity: h.h.isCrosscountrySkiActivity(this.model.get("activityTypeDTO").typeKey) || h.h.isSkateSkiActivity(this.model.get("activityTypeDTO").typeKey)
                    });
                    switch (this.$el.html(p),
                    this.mode) {
                    case f:
                        this.$("#btn-zones").addClass("active");
                        break;
                    case y:
                        this.$("#btn-watts").addClass("active");
                        break;
                    case v:
                        this.usersWeight && this.$("#btn-kg").addClass("active")
                    }
                },
                findZone: function(e) {
                    return n.a.find(this.powerZones, function(t) {
                        return t.floor < e && t.ceiling > e
                    })
                },
                formatZone: function(e, t) {
                    var i = +t.number
                      , a = i + (e - t.floor) / (t.ceiling - t.floor);
                    return 7 === i && a > 7 && (a = 7),
                    l.a.formatDecimalNumber(a, 1)
                },
                setAndApplyWeight: function(e) {
                    this.usersWeight && this.usersWeight === e || (this.usersWeight = e,
                    this.needToSelectKg && this.$("#btn-kg").click())
                },
                weightPopupCallback: function(e) {
                    this.setAndApplyWeight(e),
                    this.trigger(m.WeightChangedFromPowerStats, e)
                }
            });
            b.Events = m,
            t.a = b
        }
        ).call(this, i(9))
    },
    4610: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(4611)
          , c = i.n(l);
        t.a = o.a.View.extend({
            template: n.a.template(c.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a
                }))
            }
        })
    },
    4611: function(e, t) {
        e.exports = "<div class=\"power-load-help\">\n    <h4><%- Localizer.localize('label_ski_power') %></h4>\n    <h5><%- Localizer.localize('ski_power_message1') %></h5>\n    <h5><%- Localizer.localize('label_ski_train') %></h5>\n    <p><%- Localizer.localize('ski_train_message') %></p>\n    <h5><%- Localizer.localize('label_ski_cycling_ftp') %></h5>\n    <p><%- Localizer.localize('label_ski_cycling_message') %></p>\n</div>\n"
    },
    4612: function(e, t) {
        e.exports = '<%\n\nvar leftBalance = Personalizer.personalizeLeftRightBalance(activity.leftBalance);\nvar rightBalance = Personalizer.personalizeLeftRightBalance(100 - leftBalance);\n\nvar leftEffectiveness = Personalizer.personalizeTorqueEffectiveness(activity.leftTorqueEffectiveness);\nvar rightEffectiveness = Personalizer.personalizeTorqueEffectiveness(activity.rightTorqueEffectiveness);\n\nvar leftSmoothness = Personalizer.personalizePedalSmoothness(activity.leftPedalSmoothness);\nvar rightSmoothness = Personalizer.personalizePedalSmoothness(activity.rightPedalSmoothness);\n\n%>\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_power\') %>\n        <% if (isCrossCountrySkiActivity) { %>\n            <span class="help-icon has-tooltip help-power" title="<%- Localizer.localize(\'label.te.tip\') %>">\n                <i class="icon-help"></i>\n            </span>\n        <% } %>\n    </h3>\n    <% if (enableToggle) { %>\n    <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n        <button id="btn-watts" class="btn btn-small"><%- Localizer.localize(\'label_power_unit\') %></button>\n        <button id="btn-kg" class="btn btn-small"><%- Localizer.localize(\'label_power_kg\') %></button>\n        <button id="btn-zones" class="btn btn-small"><%- Localizer.localize(\'label_zones\') %></button>\n    </div>\n    <% } %>\n\n    <% if (powerData.averagePowerValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- powerData.averagePowerValue %> <%- powerData.powerUnit %></div>\n        <span class="data-label"><%- Localizer.localize(Personalizer.getAvgPowerLabelKey(activityType)) %></span>\n    </div>\n    <% } %>\n\n    <% if (powerData.maxPowerValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- powerData.maxPowerValue %>  <%- powerData.powerUnit %></div>\n        <span class="data-label"><%- Localizer.localize(Personalizer.getMaxPowerLabelKey(activityType)) %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.maxPowerTwentyMinutes) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizePower(activity.maxPowerTwentyMinutes || 0) %>  <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_avg_power\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.leftBalance) {      %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), leftBalance, rightBalance) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_left_right_balance\') %></span>\n    </div>\n    <% }                                                                %>\n\n    <% if (activity.leftTorqueEffectiveness) {   %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), leftEffectiveness, rightEffectiveness) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_left_right_torque_eff\') %></span>\n    </div>\n    <% }                                                                        %>\n\n    <% if (activity.leftPedalSmoothness) {   %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), leftSmoothness, rightSmoothness) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_left_right_pedal_smoothness\') %> </span>\n    </div>\n    <% }                                                                    %>\n\n    <% if (activity.normalizedPower) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizePower(activity.normalizedPower || 0) %>  <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_normalized_power\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.intensityFactor) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeIntensityFactor(activity.intensityFactor || 0) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_intensity_factor\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.trainingStressScore) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeTSS(activity.trainingStressScore || 0) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_training_stress_score\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.functionalThresholdPower) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizePower(activity.functionalThresholdPower || 0) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_ftp_setting\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.totalWork) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeWork(activity.totalWork || 0) %> <%- Localizer.localize(Personalizer.getWorkUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_work\') %></span>\n    </div>\n    <% } %>\n\n</div>'
    },
    4613: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(8)
              , r = i.n(n)
              , o = i(0)
              , s = i.n(o)
              , l = i(7)
              , c = i(11)
              , h = i(1331)
              , p = i(438)
              , d = i(42)
              , u = i(4614)
              , g = i.n(u)
              , m = i(248)
              , f = {
                SpeedPaceToggled: "SpeedPaceToggled"
            }
              , y = "Speed"
              , v = "Pace"
              , b = s.a.View.extend({
                template: r.a.template(g.a),
                events: {
                    "click #btn-speed": "handleToggle",
                    "click #btn-pace": "handleToggle"
                },
                initialize: function(e) {
                    var t = this.model.get("activityTypeDTO").typeKey
                      , i = c.a.getSpeedTypeFromActivityType(t);
                    i == c.a.SpeedTypes.Speed || i === c.a.SpeedTypes.Flying ? this.mode = y : this.mode = v
                },
                handleToggle: function(t) {
                    if (t.preventDefault(),
                    !e(t.currentTarget).hasClass("active")) {
                        this.$(".btn-small").removeClass("active");
                        var i = a(t.currentTarget).attr("id");
                        this.mode = "btn-speed" == i ? y : v,
                        this.render(),
                        this.signalModeChange(),
                        this.pushTimingToggleAnalyticsEvents()
                    }
                },
                pushTimingToggleAnalyticsEvents: function() {
                    p.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Stats Tab - Timing Toggle"
                    })
                },
                signalModeChange: function() {
                    var e = this.model.get("activityTypeDTO").typeKey
                      , t = c.a.getSpeedTypeFromActivityType(e)
                      , i = c.a.isLapSwimmingActivity(e)
                      , a = c.a.isSwimmingActivity(e)
                      , n = c.a.isRowingActivity(e);
                    this.mode === v ? a ? this.triggerEvent(c.a.SpeedTypes.SwimPace) : n ? this.triggerEvent(c.a.SpeedTypes.RowingPace) : this.triggerEvent(c.a.SpeedTypes.Pace) : i ? this.triggerEvent(c.a.SpeedTypes.SwimSpeed) : t === c.a.SpeedTypes.Flying ? this.triggerEvent(c.a.SpeedTypes.Flying) : n ? this.triggerEvent(c.a.SpeedTypes.RowingSpeed) : this.triggerEvent(c.a.SpeedTypes.Speed)
                },
                triggerEvent: function(e) {
                    this.trigger(f.SpeedPaceToggled, e, this.mode)
                },
                render: function() {
                    var e = this.model.toJSON()
                      , t = e.activityTypeDTO.typeKey
                      , i = c.a.getSpeedTypeFromActivityType(t)
                      , a = c.a.isLapSwimmingActivity(t)
                      , n = c.a.isSwimmingActivity(t)
                      , r = c.a.isRowingActivity(t)
                      , o = c.a.isNauticalActivity(t)
                      , s = c.a.getDurationLabelKey(t)
                      , p = {};
                    h.a.setActivity(e),
                    (p = this.mode === v ? n ? h.a.getSwimPaceModel() : r ? h.a.getRowingPaceModel() : o ? h.a.getNauticalPaceModel() : h.a.getPaceModel() : a ? h.a.getSwimSpeedModel() : i === c.a.SpeedTypes.Flying ? h.a.getFlyingModel() : r ? h.a.getRowingSpeedModel() : o ? h.a.getNauticalSpeedModel() : h.a.getSpeedModel()).showMaxSpeed = this.shouldDiplayMaxSpeed(),
                    p.isSwimmingActivity = this.model.isSwimming(),
                    p.isSurfingActivity = d.h.isSurfingActivity(t),
                    p.surfTime = d.h.getSplitSummary(this.model.get("splitSummaries"), "SURF_ACTIVE").duration,
                    p.restTime = d.h.getSplitSummary(this.model.get("splitSummaries"), m.c).duration,
                    p.runTime = d.h.getSplitSummary(this.model.get("splitSummaries"), m.b).duration;
                    var u = this.template({
                        Localizer: l.a,
                        Personalizer: c.a,
                        activity: e,
                        model: p,
                        timeLabelKey: s
                    });
                    this.$el.html(u),
                    this.mode === y ? this.$("#btn-speed").addClass("active") : this.$("#btn-pace").addClass("active")
                },
                shouldDiplayMaxSpeed: function() {
                    return !("open_water_swimming" === this.model.getActivityTypeKey())
                }
            });
            b.Events = f,
            t.a = b
        }
        ).call(this, i(9), i(9))
    },
    4614: function(e, t) {
        e.exports = '<%\nvar labelPace = model.isSwimmingActivity ? \'label_swim_pace\' : \'label_pace\';\n%>\n\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n        <button id="btn-pace" class="btn btn-small"><%- Localizer.localize(labelPace) %></button>\n        <button id="btn-speed" class="btn btn-small"><%- Localizer.localize(\'label_speed\') %></button>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.time %></div>\n        <% if (model.isSurfingActivity) { %>\n            <span class="data-label"><%- Localizer.localize(\'session_time_surf\') %></span>\n        <% } else { %>\n            <span class="data-label"><%- Localizer.localize(timeLabelKey) %></span>\n        <% } %>\n    </div>\n    <% if (model.isSurfingActivity) { %>\n    <div class="data-block small">\n        <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(model.surfTime, false) %></div>\n        <span class="data-label"><%- Localizer.localize(\'surf_time_label\') %></span>\n    </div>\n    <% } %>\n    <% if (model.restTime) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDuration(model.restTime, false) %></div>\n        <span class="data-label"><%- Localizer.localize(\'manualActivity.restTime\') %></span>\n    </div>\n    <% } %>\n    <% if (model.runTime) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDuration(model.runTime, false) %></div>\n        <span class="data-label"><%- Localizer.localize(\'manualActivity.runTime\') %></span>\n    </div>\n    <% } %>\n    <% if (!model.isSurfingActivity && activity.movingDuration) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.movingTime %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_moving_time\') %></span>\n    </div>\n    <% }                                                    %>\n    <% if (model.elapsedTime) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.elapsedTime %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_elapsed_time\') %></span>\n    </div>\n    <% } %>\n    <% if (!model.isSurfingActivity) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.avgSpeedOrPace %> <%- model.avgSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- model.avgSpeedOrPaceLabel %></span>\n    </div>\n    <% }                                                    %>\n    <% if (activity.averageMovingSpeed) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.avgMovingSpeedOrPace %> <%- model.avgMovingSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- model.avgMovingSpeedOrPaceLabel %></span>\n    </div>\n    <% }                                                    %>\n    <% if (model.showMaxSpeed && model.maxSpeedOrPace) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.maxSpeedOrPace %> <%- model.maxSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- model.maxSpeedOrPaceLabel %></span>\n    </div>\n    <% } %>\n</div>\n'
    },
    4615: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(time) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_time\') %></span>\n    </div>\n</div>'
    },
    4616: function(e, t) {
        e.exports = '<div class="stat-block" style="<% if (!showStats) { print(\'display: none;\'); } %>">\n    <h3><%- statsLabel %></h3>\n\n    <% for (var i = 0; i < stats.length; i++) { %>\n        <% if (stats[i].data) {\n            var unit = stats[i].dataUnit ? stats[i].dataUnit : \'\';\n        %>\n            <div class="data-block small">\n                <div class="data-bit total-time-value"><%- stats[i].data + \' \' + unit %></div>\n                <span class="data-label"><%- stats[i].dataLabel %></span>\n                <% if (stats[i].tooltipHelpIconMessage) { %>\n                    <span class="colored has-tooltip help-icon" data-placement="right" title="<%- stats[i].tooltipHelpIconMessage %>" aria-label="<%- stats[i].tooltipHelpIconMessage %>"><i class="icon-help"></i></span>\n                <% } %>\n            </div>\n        <% } %>\n    <% } %>\n</div>\n'
    },
    4617: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <% if (time) { %>\n        <div class="data-block small">\n            <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(time) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_time\') %></span>\n        </div>\n    <% } %>\n\n    <% if (elapsedTime) { %>\n        <div class="data-block small">\n            <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(elapsedTime) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_elapsed_time\') %></span>\n        </div>\n    <% } %>\n\n    <% if (avgFloorsPerMin || avgFloorsPerMin === 0) { %>\n        <div class="data-block small">\n            <div class="data-bit duration-time-value"><%- avgFloorsPerMin %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_avg_floors_per_minute\') %></span>\n        </div>\n    <% } %>\n\n    <% if (maxFloorsPerMin || maxFloorsPerMin === 0) { %>\n        <div class="data-block small">\n            <div class="data-bit duration-time-value"><%- maxFloorsPerMin %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_max_floors_per_minute\') %></span>\n        </div>\n    <% } %>\n</div>'
    },
    4618: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n        <% if (activeClimbDuration) { %>\n            <div class="data-block small">\n                <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(activeClimbDuration, false) %></div>\n                <span class="data-label"><%- Localizer.localize(\'climb_active_time\') %></span>\n            </div>\n        <% } %>\n        <% if (restClimbDuration) { %>\n            <div class="data-block small">\n                <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(restClimbDuration, false) %></div>\n                <span class="data-label"><%- Localizer.localize(\'climb_rest_time\') %></span>\n            </div>\n        <% } %>\n        <% if (totalClimbTime) { %>\n            <div class="data-block small">\n                <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(totalClimbTime, false) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_time_total\') %></span>\n            </div>\n        <% } %>\n</div>\n'
    },
    4619: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(time) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_time\') %></span>\n    </div>\n</div>'
    },
    4620: function(e, t) {
        e.exports = '<h3><%- Localizer.localize(\'cycling_dynamics\') %> <a href="javascript:void(0);" class="help-icon has-tooltip"\n                                                      data-html="true"\n                                                     title="<%- showPositionTab ? Localizer.localize(\'help.cycling.dynamics.position.title\')  + \'<br><br>\' : \'\' %><%- Localizer.localize(\'help.cycling.dynamics.power.phase.title\') %><br><br><%- Localizer.localize(\'help.cycling.dynamics.platform.center.offset.title\') %>"><i\n        class="icon-help"></i></a></h3>\n<div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n    <% if (showPositionTab) { %>\n    <button id="btn-position" class="btn btn-small cycling-dynamics active" data-toggle="tab" data-target="#position-data"><%- Localizer.localize(\'cycling_dynamics_position\') %></button>\n    <% } %>\n    <button id="btn-power-phase" class="btn btn-small cycling-dynamics <%- !showPositionTab ? \'active\' : \'\' %>" data-toggle="tab" data-target="#power-phase-data"><%- Localizer.localize(\'cycling_dynamics_power_phase_abbr\') %></button>\n    <button id="btn-pco" class="btn btn-small cycling-dynamics" data-toggle="tab" data-target="#pco-data"><%- Localizer.localize(\'cycling_dynamics_pco_abbr\') %></button>\n</div>\n\x3c!--Position Data--\x3e\n<div class="tab-content">\n    <% if (showPositionTab) { %>\n    <div id="position-data" class="tab-pane active">\n\n\n        <% if (!_.isUndefined(activity.standingTime)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeStandingTime(activity.standingTime) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_total_standing_time\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.averageStandingPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.averageStandingPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_avg_standing_power\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.maxStandingPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.maxStandingPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_max_standing_power\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.seatedTime)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeStandingTime(activity.seatedTime) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_total_seated_time\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.averageSeatedPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.averageSeatedPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_avg_seated_power\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.maxSeatedPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.maxSeatedPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_max_seated_power\') %></span>\n        </div>\n        <% } %>\n\n    </div>\n    <% } %>\n    \x3c!--Power-Phase Data--\x3e\n    <div id="power-phase-data" class="tab-pane <%- !showPositionTab ? \'active\' : \'\' %>">\n\n        \x3c!-- Left Power Phase --\x3e\n        <% if (!_.isUndefined(activity.leftPowerPhaseStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhaseStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhaseEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_power_phase\') %> <a href="#" class="help-icon has-tooltip" data-html="true" title="<%- Localizer.localize(\'help.cycling.dynamics.power.phase.start.angle\') %><br/><br/><%- Localizer.localize(\'help.cycling.dynamics.power.phase.end.angle\') %><br/><br/><%- Localizer.localize(\'help.cycling.dynamics.power.phase.description\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        \x3c!-- Right Power Phase --\x3e\n        <% if (!_.isUndefined(activity.rightPowerPhaseStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhaseStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhaseEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_power_phase\') %></span>\n        </div>\n        <br/>\n        <% } %>\n\n\n\n        <% if (!_.isUndefined(activity.leftPowerPhaseArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.leftPowerPhaseArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_power_phase_arc_length\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.cycling.dynamics.power.phase.arc.length\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.rightPowerPhaseArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.rightPowerPhaseArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_power_phase_arc_length\') %></span>\n        </div>\n        <br/>\n        <% } %>\n\n\n\n        \x3c!-- Left Peak Power Phase --\x3e\n        <% if (!_.isUndefined(activity.leftPowerPhasePeakStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhasePeakStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhasePeakEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_peak_power_phase\') %> <a href="#" class="help-icon has-tooltip" data-html="true" title="<%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.start.angle\') %><br><br><%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.end.angle\') %><br><br><%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.description\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        \x3c!-- Right Peak Power Phase --\x3e\n        <% if (!_.isUndefined(activity.rightPowerPhasePeakStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhasePeakStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhasePeakEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_peak_power_phase\') %></span>\n        </div>\n        <br/>\n        <% } %>\n\n\n\n        <% if (!_.isUndefined(activity.leftPowerPhasePeakArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.leftPowerPhasePeakArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_peak_power_phase_arc_length\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.arc.length\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.rightPowerPhasePeakArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.rightPowerPhasePeakArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_peak_power_phase_arc_length\') %></span>\n        </div>\n        <% } %>\n\n\n    </div>\n    \x3c!--Platform Center Offset Data--\x3e\n    <div id="pco-data" class="tab-pane">\n\n        <% if (!_.isUndefined(activity.leftPlatformCenterOffset)) { %>\n        <div class="pco data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePlatformCenterOffset(activity.leftPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_pco_average\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.cycling.dynamics.platform.center.offset\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.rightPlatformCenterOffset)) { %>\n        <div class="pco data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePlatformCenterOffset(activity.rightPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_pco_average\') %> </span>\n        </div>\n        <% } %>\n    </div>\n</div>\n'
    },
    4621: function(e, t) {
        e.exports = '    <h3><%- Localizer.localize(Personalizer.getStrokesLabelKey(activity.activityTypeDTO.typeKey)) %></h3>\n\n    <% if (activity.summaryDTO.totalNumberOfStrokes) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.summaryDTO.totalNumberOfStrokes %></div>\n        <span class="data-label"><%- Localizer.localize(Personalizer.getTotalStrokesLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n    </div>\n    <% }                                                     %>\n\n    <% if (activity.summaryDTO.averageStrokeCadence) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.summaryDTO.averageStrokeCadence %> <%- Localizer.localize(\'rowing_cadence_unit\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stroke_rate\') %></span>\n    </div>\n    <% }                                                     %>\n\n    <% if (activity.summaryDTO.maxStrokeCadence) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.summaryDTO.maxStrokeCadence %> <%- Localizer.localize(\'rowing_cadence_unit\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_stroke_rate\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.summaryDTO.averageStrokeDistance && activity.summaryDTO.averageStrokeDistance > 0) {    %>\n    <% if (useUsersUnitSetting) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistanceValue(Personalizer.getAverageStrokeDistance(activity.summaryDTO.averageStrokeDistance)) %> <%- Localizer.localize(Personalizer.getStrokeDistanceUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_distance_per_stroke\') %></span>\n    </div>\n    <% } else {  %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistanceValue(activity.summaryDTO.averageStrokeDistance) %> <%- Localizer.localize(\'distance.meter\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_distance_per_stroke\') %></span>\n    </div>\n    <% } %>\n    <% } %>'
    },
    4622: function(e, t) {
        e.exports = "<% if (model) { %>\n<div class=\"data-bit\"><%- Personalizer.formatValueByPrecision(model.value, presentationData.precision) %> <%-\n    Localizer.localize(getLocalizerString(presentationData['unit-label-key'])) %>\n</div>\n<span class=\"data-label\"><%- Localizer.localize(getLocalizerString(presentationData['label-key'])) %>\n    <%= tooltipTemplate %>\n</span>\n<% } %>"
    },
    4623: function(e, t) {
        e.exports = "<h3><%- Localizer.localize('label_connect_iq') %>&#8482;</h3>"
    },
    4624: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_vector_air_aerodynamics\') %></h3>\n\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.formatVectorAirCdA(model.avgCda) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_cda\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit "><%- Personalizer.formatVectorAirCdA(model.minCda) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_best_cda\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.formatWholeNumber(model.avgWattsPerCda) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_watts_per_cda\') %></span>\n    </div>\n</div>'
    },
    4625: function(e, t) {
        e.exports = '<% if (hasNutritionAndHydrationData) { %>\n    <h3><%- Localizer.localize(\'label_nutrition_hydration\') %>\n        <span \n            id="nutrition-hydration-help" \n            class="help-icon has-tooltip" \n            title="<%- Localizer.localize(\'label.te.tip\') %>" \n            aria-label="<%- Localizer.localize(\'label.te.tip\') %>"\n        ><i class="icon-help"></i>\n        </span>\n    </h3>\n\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.caloriesEstimated || 0 %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_caloriesBurned\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.caloriesConsumed || 0 %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_caloriesConsumed\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.caloriesNet || 0 %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_caloriesNet\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.waterEstimated || 0 %> <%- Localizer.localize(\'label_ml\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_waterLoss\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.waterConsumed || 0 %> <%- Localizer.localize(\'label_ml\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_waterConsumed\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.waterNet || 0 %> <%- Localizer.localize(\'label_ml\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_waterNet\') %></span>\n    </div>\n<% } else { %>\n    <h3><%- Localizer.localize(\'label_calories\') %></h3>\n\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.formatWholeNumber(activity.calories) %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_calories\') %></span>\n    </div>\n<% } %>'
    },
    4626: function(e, t) {
        e.exports = "<div class=\"exercise-load-help\">\n    <h4><%- Localizer.localize('exercise_load') %></h4>\n    <h5><%- Localizer.localize('exercise_load_header_message1') %></h5>\n    <h5><%- Localizer.localize('exercise_load_header_message2') %></h5>\n    <p><%- Localizer.localize('exercise_load_message1') %></p>\n    <h5><%- Localizer.localize('exercise_load_header_message3') %></h5>\n    <p><%- Localizer.localize('exercise_load_message2') %></p>\n</div>\n"
    },
    4627: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label.trainingEffect\') %>\n        <span class="help-icon has-tooltip training-effect-help" title="<%- Localizer.localize(\'label.te.tip\') %>" aria-label="<%- Localizer.localize(\'label.te.tip\') %>">\n            <i class="icon-help"></i>\n        </span>\n    </h3>\n\n    <% _.each(trainingEffectStats, function(trainingEffectStat) { %>\n        <div class="data-block small">\n            <% if(trainingEffectStat.hasChip) { %>\n                <div class="trainingEffectLabelContainer">\n                    <div class="trainingEffectStatChip" style="background:<%- trainingEffectStat.hasChip %>"></div>\n                    <div class="data-bit">\n                        <%- trainingEffectStat.metric %>\n                    </div>\n                </div>\n            <% } else { %>\n                <div class="data-bit">\n                    <%- trainingEffectStat.metric %>\n                </div>\n            <% } %>\n            <span class="data-label"><%- trainingEffectStat.label %>\n                <% if(trainingEffectStat.hasHelpIcon) { %>\n                    <span class="help-icon has-tooltip <%- trainingEffectStat.hasHelpIcon.selectByClass %>" title="<%- Localizer.localize(\'label.te.tip\') %>" aria-label="<%- Localizer.localize(\'label.te.tip\') %>">\n                        <i class="icon-help"></i>\n                    </span>\n                <% } %>\n            </span>\n        </div>\n    <% }) %>\n</div>\n'
    },
    4628: function(e, t) {
        e.exports = '\x3c!-- Speed Stats --\x3e\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_speed\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit"><%- speedModel.maxSpeedOrPace %> <%- speedModel.maxSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_speed\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- speedModel.avgSpeedOrPace %> <%- speedModel.avgSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- speedModel.avgSpeedOrPaceLabel %></span>\n    </div>\n</div>\n\x3c!-- Distance Stats --\x3e\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_distance\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.lapCount %></div>\n        <span class="data-label"><%- Localizer.localize(\'marq_number_laps\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistance(activity.distance, activity.activityTypeDTO.typeKey, activity.unitOfPoolLength) %> <%- Localizer.localize(Personalizer.getDistanceUnitKey(activity.activityTypeDTO.typeKey, activity.distance, activity.unitOfPoolLength)) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_distance_total\') %></span>\n    </div>\n</div>'
    },
    4629: function(e, t) {
        e.exports = '\x3c!-- Speed Stats --\x3e\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_speed\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeSpeed(maxSpeed, activity.activityTypeDTO.typeKey) %> <%- Localizer.localize(Personalizer.getSpeedTypeKey(activity.activityTypeDTO.typeKey, maxSpeed)) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_speed\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeSpeed(avgSpeed, activity.activityTypeDTO.typeKey) %> <%- Localizer.localize(Personalizer.getSpeedTypeKey(activity.activityTypeDTO.typeKey, avgSpeed)) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_speed\') %></span>\n    </div>\n</div>\n'
    },
    4630: function(e, t) {
        e.exports = '\x3c!-- Climb Routes Stats --\x3e\n<div class="stat-block">\n    <% if (splitSummaries) { %>\n    <h3><%- Localizer.localize(\'splits.routes\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit"><%- splitSummaries.noOfSplits %></div>\n        <span class="data-label"><%- Localizer.localize(\'total_climb_routes\') %></span>\n    </div>\n    <% if (splitSummaries.numClimbsAttempted) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- splitSummaries.numClimbsAttempted %></div>\n        <span class="data-label"><%- Localizer.localize(\'climb_attempted\') %></span>\n    </div>\n    <% } %> <% if (splitSummaries.numClimbsCompleted) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- splitSummaries.numClimbsCompleted %></div>\n        <span class="data-label"><%- Localizer.localize(\'climb_completed\') %></span>\n    </div>\n    <% } %> <% if (splitSummaries.numClimbSends) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- splitSummaries.numClimbSends %></div>\n        <span class="data-label"><%- Localizer.localize(\'climb_sends\') %></span>\n    </div>\n    <% } %> <% if (splitSummaries.numFalls) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- splitSummaries.numFalls %></div>\n        <span class="data-label"><%- Localizer.localize(\'climb_falls\') %></span>\n    </div>\n    <% } %> <% if (routeMaxDifficulty) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- routeMaxDifficulty %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_difficulty\') %></span>\n    </div>\n    <% } %> <% } %>\n</div>\n'
    },
    4631: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label.workout.intervals\') %></h3>\n    <% if (time) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDuration(time) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label.workout.intervals.work.time\', Localizer.localize(activityType)) %></span>\n    </div>\n    <% } %>\n\n    <% if (distance) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistance(distance, activity.activityTypeDTO.typeKey, activity.unitOfPoolLength) %> <%- Localizer.localize(Personalizer.getDistanceUnitKey(activity.activityTypeDTO.typeKey, activity.distance, activity.unitOfPoolLength)) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label.workout.intervals.work.distance\', Localizer.localize(activityType)) %></span>\n    </div>\n    <% } %>\n\n    <% if (pace) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeSpeed(pace, activity.activityTypeDTO.typeKey) %> <%- Localizer.localize(Personalizer.getPaceUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label.workout.intervals.work.pace\', Localizer.localize(activityType), speedPacelabel) %></span>\n    </div>\n    <% } %>\n</div>'
    },
    4632: function(e, t, i) {
        (t = e.exports = i(34)(!0)).push([e.i, "\n\n.SkiHelp_title__R0y_e {\n    font-size: 20px;\n    font-weight: 600;\n}\n\n.SkiHelp_bodyOne__ah8GH {\n    font-size: 16px;\n}\n\n.SkiHelp_titleTwo__3oZxy {\n    font-size: 18px;\n}\n\n.SkiHelp_bodyTwo__3pOA1 {\n    font-size: 14px;\n}\n\n.SkiHelp_bottomMargin__2mQHV {\n    margin-bottom: 20px;\n}\n\n.SkiHelp_colorCircle__XD9KT {\n    padding-top: 2px;\n}\n\n.SkiHelp_colorCircle__XD9KT span {\n    border-radius: 50%;\n    display: block;\n    height: 16px;\n    width: 16px;\n}\n\n.SkiHelp_descriptionContainer__1WkeT {\n    display: -webkit-flex;\n    display: flex;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/components/Ski/SkiHelp.css"],
            names: [],
            mappings: ";;AAAA;IACI,gBAAe;IACf,iBAAgB;CACpB;;AAEA;IACI,gBAAe;CACnB;;AAEA;IACI,gBAAe;CACnB;;AAEA;IACI,gBAAe;CACnB;;AAEA;IACI,oBAAmB;CACvB;;AAEA;IACI,iBAAgB;CACpB;;AAEA;IACI,mBAAkB;IAClB,eAAc;IACd,aAAY;IACZ,YAAW;CACf;;AAEA;IACI,sBAAa;IAAb,cAAa;CACjB",
            file: "SkiHelp.css",
            sourcesContent: [".title {\n    font-size: 20px;\n    font-weight: 600;\n}\n\n.bodyOne {\n    font-size: 16px;\n}\n\n.titleTwo {\n    font-size: 18px;\n}\n\n.bodyTwo {\n    font-size: 14px;\n}\n\n.bottomMargin {\n    margin-bottom: 20px;\n}\n\n.colorCircle {\n    padding-top: 2px;\n}\n\n.colorCircle span {\n    border-radius: 50%;\n    display: block;\n    height: 16px;\n    width: 16px;\n}\n\n.descriptionContainer {\n    display: flex;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            title: "SkiHelp_title__R0y_e",
            bodyOne: "SkiHelp_bodyOne__ah8GH",
            titleTwo: "SkiHelp_titleTwo__3oZxy",
            bodyTwo: "SkiHelp_bodyTwo__3pOA1",
            bottomMargin: "SkiHelp_bottomMargin__2mQHV",
            colorCircle: "SkiHelp_colorCircle__XD9KT",
            descriptionContainer: "SkiHelp_descriptionContainer__1WkeT"
        }
    },
    4633: function(e, t) {
        e.exports = '<%\n    var activityType = activity.activityTypeDTO.typeKey;\n%>\n<div class="row-fluid">\n    <div class="span3">\n        <div id="timingStatsBreathworkPlaceholder"></div>\n        <div id="timingStatsRepCountingPlaceholder"></div>\n        <div id="divingConservatismStatsPlaceholder"></div>\n        <div id="sessionTotalsStatsPlaceholder"></div>\n        <div id="divingDepthStatsPlaceholder"></div>\n        <div id="divingBottomTimeStatsPlaceholder"></div>\n        <div id="divingN2LoadingStatsPlaceholder"></div>\n        <div id="divingCnsLoadingStatsPlaceholder"></div>\n\n        <div id="autoRacingStatsPlaceholder"></div>\n        <div id="indoorClimbRoutesPlaceholder"></div>\n\n        <% if (showDistanceData) { %>\n        <div class="stat-block activity-distance">\n            <h3><%- Localizer.localize(\'label_distance\') %></h3>\n            <div class="data-block small">\n                <% if (isSurfingActivity) { %>\n                    <div class="data-bit"><%- Personalizer.personalizeWaveDistance(activity.distance, activity.activityTypeDTO.typeKey, activity.unitOfPoolLength) %> <%- Localizer.localize(Personalizer.getWaveDistanceUnitKey(activity.activityTypeDTO.typeKey, activity.distance, activity.unitOfPoolLength)) %></div>\n                    <span class="data-label"><%- Localizer.localize(\'label_distance\') %></span>\n                <% } else { %>\n                <div class="data-bit"><%- Personalizer.personalizeDistance(activity.distance, activity.activityTypeDTO.typeKey, activity.unitOfPoolLength) %> <%- Localizer.localize(Personalizer.getDistanceUnitKey(activity.activityTypeDTO.typeKey, activity.distance, activity.unitOfPoolLength)) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_distance\') %></span>\n                <% } %>\n            </div>\n            <% if (activity.poolLength) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizePoolLength(activity.poolLength) %> <%- Localizer.localize(Personalizer.getPoolLengthUnitKey(activity.unitOfPoolLength.unitKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(\'workout.pool.size\') %></span>\n            </div>\n            <% } %>\n            <% if (isSurfingActivity && hasTypedSplits) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeWaveDistance(activity.splitSummaries[0].distance) %> <%- Localizer.localize(Personalizer.getWaveDistanceUnitKey(activityType)) %></div>\n                <span class="data-label"><%- Localizer.localize(\'total_surf_distance\') %></span>\n            </div>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeWaveDistance(activity.splitSummaries[0].maxDistance) %> <%- Localizer.localize(Personalizer.getWaveDistanceUnitKey(activityType)) %></div>\n                <span class="data-label"><%- Localizer.localize(\'surf_longest_wave_label\') %></span>\n            </div>\n            <% } %>\n        </div>\n        <% } %>\n\n        <div id="speedStatsSurfingPlaceholder"></div>\n\n        <% if (hasCalories) { %>\n            <div id="caloriesPlaceholder"></div>\n        <% } %>\n\n        <% if(showRespirationRateData) { %>\n            <div class="stat-block respiration-block">\n                <h3><%- Localizer.localize(\'label_respiration_rate\') %></h3>\n                <div class="data-block small">\n                    <div class="data-bit"><%- Personalizer.personalizeRespiration(activity.avgRespirationRate) %> <%- Localizer.localize(Personalizer.getRespirationUnitKey()) %></div>\n                    <span class="data-label"><%- Localizer.localize(\'label_average_respiration_rate\') %></span>\n                </div>\n                <% if (filteredRespirationRateData.minRespirationRate) { %>\n                    <div class="data-block small">\n                        <div class="data-bit"><%- Personalizer.personalizeRespiration(activity.minRespirationRate) %> <%- Localizer.localize(Personalizer.getRespirationUnitKey()) %></div>\n                        <span class="data-label"><%- Localizer.localize(\'label_min_respiration_rate\') %></span>\n                    </div>\n                <% } %>\n                <% if (filteredRespirationRateData.maxRespirationRate) { %>\n                    <div class="data-block small">\n                        <div class="data-bit"><%- Personalizer.personalizeRespiration(activity.maxRespirationRate) %> <%- Localizer.localize(Personalizer.getRespirationUnitKey()) %></div>\n                        <span class="data-label"><%- Localizer.localize(\'label_max_respiration_rate\') %></span>\n                    </div>\n                <% } %>\n            </div>\n        <% } %>\n\n        <div id="divingSetPointStatsPlaceholder"></div>\n\n        <% if (adaptiveRating && activity.summaryDTO.atpPlanId) { %>\n            <div class="stat-block">\n                <h3><a class="colored" href="<%- url(\'/training-plans/plan/\' + activity.summaryDTO.atpPlanId) %>"><%- Localizer.localize(\'training_plan_title\') %></a></h3>\n                <div class="data-block small">\n                    <div class="data-bit"><%- Localizer.localize(adaptiveRating) %></div>\n                    <span class="data-label"><%- Localizer.localize(\'training_plan_rating_title\') %></span>\n                </div>\n            </div>\n        <% } %>\n\n        <% if (activity.maxGforce) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(\'label_g_force\') %></h3>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.formatDecimalNumber(activity.maxGforce, 1, false) %> <%- Localizer.localize(\'g_force_unit\') %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_max_g_force\') %></span>\n            </div>\n        </div>\n        <% } %>\n        <div id="connectIQMeasurementPlaceholder"></div>\n        <div id="vectorAirMeasurementPlaceholder"></div>\n        <div id="executionScoreInfo" class="stat-block"></div>\n        <div id="selfEvaluation"></div>\n    </div>\n    <div class="span3">\n        <div id="trainingEffectStatsPlaceholder"></div>\n        <div id="heartRateStatsPlaceholder"></div>\n        <div id="timingStatsPlaceholder"></div>\n        <div id="divingConditionsPlaceholder"></div>\n    </div>\n    <div class="span3">\n        <div id="waterTemperaturePlaceholder"></div>\n        <div id="divingWeightPlaceholder"></div>\n        <div id="divingExposureSuitPlaceholder"></div>\n        <div id="timingStatsYogaPlaceholder"></div>\n        <div id="timingStatsFloorClimbingPlaceholder"></div>\n        <div id="timingStatsIndoorClimbPlaceholder"></div>\n        <div id="timingStatsSurfingPlaceholder"></div>\n        <div id="timingSurfClimbPlaceholder"></div>\n        <div id="workoutDetailsStatsPlaceholder"></div>\n        <div id="powerStatsPlaceholder"></div>\n        <div id="stressStatsPlaceholder"></div>\n        <% if (activity.elevationGain || activity.elevationLoss) {    %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(Personalizer.getElevationLabelKey(activityType)) %></h3>\n            <% if (showElevationGain) { %>\n                <div class="data-block small">\n                    <div class="data-bit"><%- Personalizer.personalizeElevation(activity.elevationGain) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                    <span class="data-label"><%- Localizer.localize(Personalizer.getElevGainLabelKey(activityType)) %></span>\n                </div>\n            <% } %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(activity.elevationLoss) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getElevLossLabelKey(activityType)) %></span>\n\n            </div>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(activity.minElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getElevMinLabelKey(activityType)) %></span>\n            </div>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(activity.maxElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getElevMaxLabelKey(activityType)) %></span>\n            </div>\n        </div>\n        <% } %>\n        <div id="workoutIntervalsStatsPlaceholder"></div>\n    </div>\n    <div class="span3">\n        <div id="ascentStatsView"></div>\n        <% if (activity.averageBikeCadence || activity.maxBikeCadence) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(Personalizer.getCadenceTypeLabelKey(activityType)) %></h3>\n            <% if (activity.averageBikeCadence) { %>\n            <div class="data-block small">\n\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.averageBikeCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getAvgCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n            <% } %>\n            <% if (activity.maxBikeCadence) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.maxBikeCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getMaxCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n            <% } %>\n        </div>\n        <% } %>\n\n        <% if (showCyclingDynamics) { %>\n            <div id="cyclingDynamicsPlaceholder" class="stat-block">\n\n            </div>\n        <% } %>\n\n        <% if (activity.averageRunCadence && !skiDynamics) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(Personalizer.getDynamicsLabelKey(activityType)) %>\n                <% if (activity.verticalOscillation || activity.groundContactTime) { %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.label\') %>" aria-label="<%- Localizer.localize(\'help.running.dynamics.label\') %>"></i></span>\n                <% } %>\n            </h3>\n\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.averageRunCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <% var cadenceLabel = Localizer.localize(Personalizer.getAvgCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)); %>\n                <span class="data-label"><%- cadenceLabel %>\n                    <span class="help-icon avg-cadence-help"><i class="icon-help has-tooltip" title="<%- getAvgCadenceHelpTooltipText(activity) %>" aria-label="<%- getAvgCadenceHelpTooltipText(activity) %>"></i></span>\n                </span>\n            </div>\n\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.maxRunCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getMaxCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n\n            <% if (activity.strideLength) {          %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeAvgStrideLength(activity.strideLength) %> <%- Localizer.localize(Personalizer.getAvgStrideLengthUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_stride_length\') %></span>\n                <span class="help-icon avg-stride-length-help"><i class="icon-help has-tooltip" title="<%- getAvgStrideLengthHelpTooltipText(activity) %>" aria-label="<%- getAvgStrideLengthHelpTooltipText(activity) %>"></i></span>\n            </div>\n            <% } %>\n\n            <% if (activity.verticalRatio) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeVerticalRatio(activity.verticalRatio) %> <%- Localizer.localize(Personalizer.getVerticalRatioUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_vertical_ratio\') %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.avg.ratio.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing\', Localizer.localize(\'label_avg_vertical_ratio\')) %>" aria-label="<%- Localizer.localize(\'help.running.dynamics.avg.ratio.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing\', Localizer.localize(\'label_avg_vertical_ratio\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n            <% if (activity.verticalOscillation) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeVerticalOscillation(activity.verticalOscillation) %> <%- Localizer.localize(Personalizer.getVerticalOscillationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_vertical_oscillation\') %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.avg.oscillation.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing\', Localizer.localize(\'label_avg_vertical_oscillation\')) %>" aria-label="<%- Localizer.localize(\'help.running.dynamics.avg.oscillation.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing\', Localizer.localize(\'label_avg_vertical_oscillation\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n            <% if (activity.groundContactBalanceLeft) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), Personalizer.formatDecimalNumber(activity.groundContactBalanceLeft, 1), Personalizer.formatDecimalNumber(100 - activity.groundContactBalanceLeft, 1)) %></div>\n                <span class="data-label"><%= Localizer.localize(\'label_avg_gct_balance\') %></span>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.gct.balance.tooltip\') %> <%= Localizer.localize(\'help_running_dynamics_not_including_zeros_standing_walking\', Localizer.localize(\'help.running.dynamics.gct.balance\')) %>" aria-label="<%- Localizer.localize(\'help.running.dynamics.gct.balance.tooltip\') %> <%= Localizer.localize(\'help_running_dynamics_not_including_zeros_standing_walking\', Localizer.localize(\'help.running.dynamics.gct.balance\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n            <% if (activity.groundContactTime) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeGroundContactTime(activity.groundContactTime) %> <%- Localizer.localize(Personalizer.getGroundContactTimeUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_ground_contact_time\') %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.avg.ground.contact.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing_walking\', Localizer.localize(\'help.running.dynamics.gct\')) %>" aria-label="<%- Localizer.localize(\'help.running.dynamics.avg.ground.contact.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing_walking\', Localizer.localize(\'help.running.dynamics.gct\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n        </div>\n        <% }                    %>\n\n\n        <% if (activity.averageSwimCadence || activity.strokeRate) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(\'label_swimming_dynamics\') %></h3>\n\n            <% if (activity.totalNumberOfStrokes) {      %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeStrokes(activity.totalNumberOfStrokes) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_total_swim_strokes\') %></span>\n            </div>\n            <% }                                                    %>\n\n            <% if (activity.averageSwimCadence) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeStrokes(activity.averageSwimCadence) %> <%- Localizer.localize(Personalizer.getStrokeRateUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_stroke_rate\') %></span>\n            </div>\n            <% }                                                    %>\n\n            <% if (activity.maxSwimCadence) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeStrokes(activity.maxSwimCadence) %> <%- Localizer.localize(Personalizer.getStrokeRateUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_max_stroke_rate\') %></span>\n            </div>\n            <% }                                                    %>\n\n            <% if (activity.averageStrokes) {        %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.averageStrokes, activityType) %>/<%- Localizer.localize(\'average_swim_strokes_unit\') %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getAvgCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n            <% }                                                    %>\n\n\n            <% if (activity.averageSWOLF) {      %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeSwolf(activity.averageSWOLF) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_swolf\') %>\n                    <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.stats.avgSWOLF.label\') %>" aria-label="<%- Localizer.localize(\'help.stats.avgSWOLF.label\') %>"></i></span>\n                </span>\n            </div>\n            <% }                                            %>\n\n        </div>\n        <% }                                                %>\n\n\n        <% if (activity.averageTemperature != null && !isDivingActivity && !isBreathworkActivity && !isEsportActivity) {    %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(\'label_temperature\') %></h3>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeTemperature(activity.averageTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_temp\') %></span>\n            </div>\n\n            <% if (activity.minTemperature != null) {    %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeTemperature(activity.minTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_min_temp\') %></span>\n            </div>\n            <% }                                                     %>\n\n            <% if (activity.maxTemperature != null) {    %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeTemperature(activity.maxTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_max_temp\') %></span>\n            </div>\n            <% }                                                    %>\n        </div>\n        <% }                                                        %>\n\n        <% if (hasStrokesData) { %>\n        <div id="strokesPlaceholder" class="stat-block"></div>\n        <% }  %>\n    </div>\n</div>\n'
    },
    4634: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_stress\') %></h3>\n    <% if (isEsportActivity) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeStress(avgStress) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_stress\') %></span>\n    </div>\n    <% } else { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeStress(stressChange) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stress_change\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeStress(startStress) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stress_start_level\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeStress(endStress) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stress_end_level\') %></span>\n    </div>\n    <% }  %>\n</div>'
    },
    4635: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(3)
              , r = i(8)
              , o = i.n(r)
              , s = i(0)
              , l = i.n(s)
              , c = i(7)
              , h = i(11)
              , p = i(2659)
              , d = i(2660)
              , u = i(2661)
              , g = i(5395)
              , m = i(5356)
              , f = i(5343)
              , y = i(4644)
              , v = i(2666)
              , b = i(198)
              , A = i(1742)
              , C = i(2664)
              , w = i(1325)
              , _ = i(1409)
              , x = i(42)
              , S = i(248)
              , T = i(4647)
              , E = i(4648)
              , k = i.n(E)
              , L = i(1731)
              , P = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromSplits: "WeightChangedFromSplits"
            }
              , z = function(e, t) {
                return e.order < t.order ? -1 : e.order > t.order ? 1 : 0
            }
              , I = function(e, t) {
                return void 0 !== o.a.find(t, function(t) {
                    return t.fieldName === e
                })
            }
              , D = function(e) {
                return o.a.max(e, function(e) {
                    return e.order
                }).order
            }
              , B = function(e, t) {
                return o.a.has(e, t) ? o.a.omit(e, t) : o.a.omit(e, function(e, i, a) {
                    return e === t
                })
            }
              , M = function(t) {
                var i = 0
                  , a = t ? t.length : 0;
                if (t && a > 0) {
                    for (var n = o.a.has(t[0], "swimStroke") ? t[0].swimStroke : ""; i < a; i += 1)
                        if (t[i])
                            for (var r in t[i])
                                if ("swimStroke" === r) {
                                    var s = e.trim(t[i][r]).toUpperCase();
                                    if (null !== s && s !== e.trim(n).toUpperCase())
                                        return "MIXED"
                                }
                    return n
                }
                return null
            }
              , O = function(e) {
                return 0 === e.numberOfActiveLengths && 1 === e.lengthDTOs.length
            }
              , R = {
                getActivityTypeString: function(e) {
                    return h.a.getSpeedTypeFromActivityType(e).toUpperCase()
                },
                getSpeedParams: function(e, t, i) {
                    return [e, t, o.a.has(i || {}, "unitKey") ? i.unitKey : null]
                },
                getDistanceParams: function(e, t, i) {
                    return [e, t, i]
                },
                getCadence: function(e, t) {
                    return [e, t]
                },
                getSwimSpeedParams: function(e, t, i) {
                    var a = o.a.has(i || {}, "unitKey") ? i.unitKey : "none";
                    return [e, "meter" === a ? h.a.MeasurementSystems.METRIC : "yard" === a ? h.a.MeasurementSystems.STATUTE_US : void 0]
                }
            }
              , N = {
                splits: {
                    headerClass: "sortable-header-row"
                },
                intervals: {
                    isParent: !0,
                    isParentExpanded: !1,
                    isChildSelected: !1,
                    parentClass: "table-row-parent interval interval-",
                    childClass: "table-row-child length interval-",
                    toggleOpenClass: "table-row-parent-toggle-open",
                    toggleCloseClass: "table-row-parent-toggle-close",
                    subGridModelkey: "lengthDTOs",
                    isRest: !1,
                    restClass: "rest rest-",
                    lapIndex: 0,
                    restIndex: 0
                }
            }
              , V = function(t, i) {
                for (var a = 0, n = [], r = t.length; a < r; a += 1) {
                    var o = t[a];
                    o && o.order > 0 ? n.push(o) : I(o.fieldName, i) && n.push(e.extend(o, {
                        order: D(n) + 1
                    }))
                }
                return n.sort(z),
                n
            }
              , j = function(e) {
                return e ? '<a class="colored" href="#weight-popup" data-toggle="modal">' + c.a.localize("no_weight") + "</a>" : null
            }
              , F = function(e) {
                var t = [];
                if (e)
                    for (var i in e) {
                        var a = e[i];
                        if (a && a.data)
                            for (var n = 0, r = a.data.length; n < r; n += 1)
                                if (a.data[n]) {
                                    var s = o.a.find(a.fitContributionsJSON.datafields, function(e) {
                                        return e.id === a.data[n].developerFieldNumber
                                    })
                                      , l = new v.a(a.data[n]);
                                    s && t.push({
                                        order: -1,
                                        fieldName: a.data[n].developerFieldNumber,
                                        displayLabel: a.getLocalizerString(s["label-key"]),
                                        class: "",
                                        showSortIcon: !1,
                                        personalizer: h.a.formatValueByPrecision,
                                        displayInfo: s,
                                        helpTooltipTemplate: l.getHelpTooltipTemplate(a)
                                    })
                                }
                    }
                return t
            }
              , G = function(t, i, a, n) {
                var r = {}
                  , s = {};
                for (var l in t)
                    if (l || t[l]) {
                        var c = o.a.filter(i, function(e) {
                            return e.fieldName === l
                        });
                        if (c && c.length > 0)
                            for (var p = 0; p < c.length; p += 1)
                                if (c[p].fieldName !== N.intervals.subGridModelkey) {
                                    var d = null;
                                    d = o.a.has(t, c[p].displayLabel) ? t[c[p].displayLabel] : t[l],
                                    c[p].personalizer && d ? r[c[p].displayLabel] = c[p].personalizer.apply(h.a, c[p].personalizerParams ? c[p].personalizerParams(d, a) : [d]) : null === d && c[p].nullCallback && "function" === typeof c[p].nullCallback ? r[c[p].displayLabel] = c[p].nullCallback.call(this, n) : r[c[p].displayLabel] = d
                                }
                    }
                p = 0;
                for (var u = !1, g = i.length; p < g; p += 1)
                    if (i[p]) {
                        for (var m in r)
                            m && e.trim(m).toUpperCase() === e.trim(i[p].displayLabel).toUpperCase() && (s[m] = r[m],
                            u = !0);
                        u || (s[i[p].displayLabel] = null),
                        u = !1
                    }
                return s
            }
              , U = function(t) {
                for (var i = 0, a = t.colModel.length, n = {}, r = !1; i < a; i += 1) {
                    for (var s in t.list) {
                        var l = t.colModel[i].fieldName
                          , c = t.colModel[i].displayLabel
                          , p = e.trim(s).toUpperCase();
                        if (p === e.trim(l).toUpperCase() || p === e.trim(c).toUpperCase())
                            if (r = !0,
                            t.colModel[i].personalizer && t.list[s] > 0)
                                n[c] = t.colModel[i].personalizer.apply(h.a, t.colModel[i].personalizerParams ? t.colModel[i].personalizerParams(t.list[s], t.activityTypeKey, t.poolUnit) : [t.list[s]]);
                            else if (t.isChild && null === t.list[s])
                                switch (s) {
                                case "numberOfActiveLengths":
                                    n.numberOfActiveLengths = 1;
                                    break;
                                default:
                                    c && (n[c] = t.list[s])
                                }
                            else
                                switch (s) {
                                case "lapIndex":
                                    n[l] = t.lapIndex ? t.lapIndex : t.list[s];
                                    break;
                                case "numberOfActiveLengths":
                                    0 !== t.list[s] && null !== t.list[s] || (n.lapIndex = t.restIndex),
                                    c && (n[c] = t.list[s]);
                                    break;
                                case "lengthDTOs":
                                    n.lengthDTOs = t.list[s];
                                    break;
                                default:
                                    c && (n[c] = t.list[s])
                                }
                    }
                    r || (t.isChild ? o.a.contains(["lapIndex", "lengthDTOs"], l) || (n[l] = null) : "swimStroke" !== l || t.isRest ? c && (n[c] = null) : n.swimStroke = t.swimStroke),
                    r = !1
                }
                return n
            }
              , H = function(e, t) {
                var i = 0;
                if (e instanceof Array) {
                    for (var a = 0; a < e.length; a += 1)
                        if (e[a]) {
                            var n = e[a];
                            n.label_cum_time = i + n.duration,
                            i = n.label_cum_time,
                            K(n, t)
                        }
                } else
                    e.label_cum_time = e.duration,
                    t && t > 0 ? (e.label_avg_power_kg = h.a.personalizePowerKg(e.averagePower / t),
                    e.label_max_power_kg = h.a.personalizePowerKg(e.maxPower / t)) : (e.label_avg_power_kg = null,
                    e.label_max_power_kg = null)
            }
              , K = function(e, t) {
                t && t > 0 ? (e.averagePower && e.averagePower > 0 && (e.label_avg_power_kg = h.a.personalizePowerKg(e.averagePower / t),
                "" === e.label_avg_power_kg && (e.label_avg_power_kg = 0)),
                e.maxPower && e.maxPower > 0 && (e.label_max_power_kg = h.a.personalizePowerKg(e.maxPower / t),
                "" === e.label_max_power_kg && (e.label_max_power_kg = 0))) : (e.label_avg_power_kg = null,
                e.label_max_power_kg = null)
            }
              , W = function(e, t) {
                var i = o.a.find(t, function(e) {
                    return o.a.has(e, "showSortIcon") && e.showSortIcon
                });
                if (i) {
                    e.sort(function(e, t) {
                        var a = i.fieldName;
                        if (i.class.indexOf("ascending") > -1) {
                            if (e[a] < t[a])
                                return -1;
                            if (e[a] > t[a])
                                return 1
                        } else {
                            if (e[a] > t[a])
                                return -1;
                            if (e[a] < t[a])
                                return 1
                        }
                        return 0
                    })
                }
                return e
            }
              , Q = l.a.View.extend({
                template: o.a.template(k.a),
                events: {
                    "click thead tr.sortable-header-row > th": "onSplitColumnHeaderClicked",
                    "click tbody > tr": "onRowClicked",
                    "click .table-row-parent-toggle": "onIntervalClicked",
                    'click a[href="#weight-popup"]': "onNoWeightLinkInFooterClicked"
                },
                defaultSettings: {
                    activitySummary: null,
                    isLapSwimming: !1,
                    isSwimmingActivity: !1,
                    isStrengthTrainingActivity: !1,
                    isAutoRacingActivity: !1,
                    isResortSkiActivity: !1,
                    isCrosscountrySkiActivity: !1,
                    lapIndexLabel: "splits",
                    activityTypeKey: null,
                    poolUnit: null,
                    columns: {},
                    colModel: [],
                    footerModel: {},
                    data: [],
                    activityTypedSplits: []
                },
                initialize: function(e) {
                    return this.isOwner = e.isOwner,
                    this.usersWeight = this.isOwner ? e.usersWeight : null,
                    this.connectIQPresentationUtil = null,
                    this.canDisplayVectorAirInfo = e.canDisplayVectorAirInfo,
                    this.parentType = e.parentType,
                    this.hasIntensityIntervals = e.hasIntensityIntervals,
                    this.hasTypedSplits = e.hasTypedSplits,
                    this.isUltraRunActivity = e.isUltraRunActivity,
                    this.indoorClimbDifficulty = e.indoorClimbDifficulty,
                    this
                },
                setData: function(t) {
                    this.settings = e.extend(!0, {}, this.defaultSettings);
                    var i = this.settings;
                    i.activityTypeKey = t.activityTypeKey,
                    i.activitySummary = t.activitySummary.attributes,
                    i.isLapSwimming = i.activitySummary.poolLength || i.activitySummary.poolLength > 0,
                    i.poolUnit = i.activitySummary.unitOfPoolLength ? i.activitySummary.unitOfPoolLength : null,
                    i.lapIndexLabel = i.isLapSwimming ? "intervals" : "splits.laps",
                    i.isSwimmingActivity = t.activitySummary.isSwimming(),
                    i.isStrengthTrainingActivity = x.h.isStrengthTrainingActivity(t.activityTypeKey),
                    i.isAutoRacingActivity = x.h.isAutoRacingActivity(t.activityTypeKey),
                    i.isResortSkiActivity = x.h.isResortSkiActivity(t.activityTypeKey),
                    i.isOnShoreGrindingActivity = x.h.isOnShoreGrindingActivity(t.activityTypeKey),
                    i.isOffShoreGrindingActivity = x.h.isOffShoreGrinding(t.activityTypeKey),
                    i.isCrosscountrySkiActivity = x.h.isCrosscountrySkiActivity(t.activityTypeKey) || x.h.isSkateSkiActivity(t.activityTypeKey),
                    i.isUltraRunActivity = x.h.isUltraRunActivity(t.activityTypeKey),
                    this.activitySummary = t.activitySummary,
                    this.model = e.extend(!0, {}, t.model),
                    this.activityWorkouts = t.activityWorkouts,
                    this.activityTypedSplits = t.activityTypedSplits,
                    this.splitSummaries = t.splitSummaries,
                    this.hasLapIntensityType() ? this.updateModelWithFormattedLapIntensity() : this.updateModelWithActivityWorkouts(this.model, this.activityWorkouts),
                    this.init(this.model.get("lapDTOs")),
                    this.parentType = t.parentType
                },
                hasLapIntensityType: function() {
                    return this.model.get("lapDTOs").find(function(e) {
                        return e.intensityType
                    })
                },
                updateModelWithActivityWorkouts: function(e, t) {
                    t && t.length > 0 && o.a.each(e.get("lapDTOs"), function(e) {
                        var i = e.wktIndex
                          , a = o.a.find(t, function(e) {
                            return e.index === i
                        });
                        if (a) {
                            var n = o.a.find(a.steps, function(t) {
                                return t.stepIndex === e.wktStepIndex
                            });
                            n && (e.intensityType = this.getIntensityLabel(n.intensity))
                        }
                    }, this)
                },
                getIntensityLabel: function(e) {
                    var t = "";
                    if ("ACTIVE" === e && w.a.IntensityTypes[_.a.titleCaseWord(e)])
                        switch (this.parentType) {
                        case w.a.SportTypes.Running:
                        case w.a.SportTypes.Cycling:
                        case w.a.SportTypes.Swimming:
                        case w.a.SportTypes.Strength_Training:
                            t = "sport.type." + this.parentType;
                            break;
                        default:
                            t = "sport.type.other"
                        }
                    else
                        t = "workout.step.type.".concat(e.toLowerCase());
                    return c.a.localize(t)
                },
                updateModelWithFormattedLapIntensity: function() {
                    var e = this;
                    this.model.get("lapDTOs").forEach(function(t) {
                        var i = t.intensityType;
                        t.intensityType = A.a.getIntervalType("INTERVAL_".concat(i), e.parentType)
                    })
                },
                render: function() {
                    (this.$el.html(this.template({
                        Localizer: c.a,
                        colModel: this.settings.colModel,
                        isLapSwimming: this.settings.isLapSwimming,
                        hasIntensityIntervals: this.hasIntensityIntervals,
                        hasTypedSplits: this.hasTypedSplits
                    })),
                    this.renderHeader(),
                    this.renderBody(),
                    this.renderFooter(),
                    this.settings.isLapSwimming) && new y.a({
                        model: this.model,
                        activitySummary: this.activitySummary,
                        el: this.$("#intervals-graphical")
                    }).render();
                    return this.hasTypedSplits ? this.getTypeOfSplitTable() : this.hasIntensityIntervals && this.renderIntervals(),
                    this
                },
                getTypeOfSplitTable: function() {
                    return this.isUltraRunActivity ? this.renderActivityFilterTable() : this.renderSplits()
                },
                renderIntervals: function() {
                    this.activityIntervalsTabView = new g.a({
                        el: this.$(".typed-splits-intervals-placeholder"),
                        colModel: this.settings.colModel,
                        data: this.getSplitIntervalsTableData(this.settings.data),
                        footerModel: this.settings.footerModel,
                        splitSummaries: this.getSplitSummaries(),
                        activityTypedSplits: this.getSplitIntervalsTableData(this.settings.activityTypedSplits),
                        activityTypeKey: this.settings.activityTypeKey,
                        parentActivityType: this.parentType
                    }).render()
                },
                renderActivityFilterTable: function() {
                    var e = this;
                    this.activityFilteredSplitsTable = new m.a({
                        el: this.$(".typed-splits-placeholder"),
                        colModel: this.settings.colModel,
                        data: this.getSplitIntervalsTableData(this.settings.data),
                        splitSummaries: this.getSplitSummaries(),
                        activityTypedSplits: this.getSplitIntervalsTableData(this.settings.activityTypedSplits),
                        activityTypeKey: this.settings.activityTypeKey,
                        parentActivityType: this.parentType
                    }),
                    this.listenTo(this.activityFilteredSplitsTable, m.a.Events.onFilterChanged, function(t) {
                        e.getCIQFilteredData(t)
                    }, this),
                    this.activityFilteredSplitsTable.render()
                },
                renderSplits: function() {
                    this.activityTypedSplitsView = new f.a({
                        el: this.$(".typed-splits-placeholder"),
                        activityTypeKey: this.settings.activityTypeKey,
                        activitySummary: this.settings.activitySummary,
                        activitySplits: this.activityTypedSplits.toJSON(),
                        indoorClimbDifficulty: this.indoorClimbDifficulty
                    }).render()
                },
                getSplitIntervalsTableData: function(e) {
                    var t = this
                      , i = []
                      , a = W(e, this.settings.colModel);
                    return H(a, this.usersWeight),
                    e.forEach(function(e) {
                        i.push(G(e, t.settings.colModel, t.settings.activityTypeKey, t.isOwner))
                    }),
                    i
                },
                getSplitSummaries: function() {
                    var e = this
                      , t = {};
                    return this.splitSummaries.forEach(function(i) {
                        var a = i.toJSON()
                          , n = a.splitType;
                        a.intervalIndex = c.a.localize("label_summary"),
                        a.lapIndex = "--",
                        a.type = "--",
                        t[n] = G(a, e.settings.colModel, e.settings.activityTypeKey, e.isOwner)
                    }),
                    t
                },
                getCIQFilteredData: function(t) {
                    var i = this.connectIQPresentationUtil && this.connectIQPresentationUtil.getVisibleAndSortedCollection(this.model.get("lapDTOs"), this.connectIQPresentationUtil.VisibilityArea.lap);
                    if (this.activityFilteredSplitsTable.render(),
                    i && !o.a.isEmpty(i)) {
                        var a = F(i);
                        if (a && a.length > 0)
                            for (var n = this.$("thead tr"), r = this.$("tbody"), s = 0, l = a.length; s < l; s += 1)
                                if (a[s]) {
                                    t.filterValue;
                                    var h = e("<th>" + c.a.localize(a[s].displayLabel) + a[s].helpTooltipTemplate + "</th>").addClass("".concat(t.filterValue));
                                    n.append(h),
                                    this.activityFilterRenderCIQBody(i, a[s], r, t)
                                }
                        b.a.renderTooltips.call(this)
                    }
                },
                init: function(e) {
                    var t, i = this.settings, a = this.activityWorkouts && this.activityWorkouts.length > 0;
                    for (var n in i.footerModel.lapIndex = "label_summary",
                    a && (i.footerModel.intensityType = c.a.localize("workout.stepType.workout")),
                    this.hasIntensityIntervals && (i.footerModel.intervalIndex = c.a.localize("label_summary"),
                    i.footerModel.lapIndex = "--",
                    i.footerModel.type = "--"),
                    i.activitySummary)
                        n && null !== i.activitySummary[n] && (i.columns[n] = {
                            order: -1,
                            fieldName: t = n,
                            displayLabel: t,
                            class: "",
                            showSortIcon: !1,
                            personalizer: null
                        },
                        i.footerModel[n] = i.activitySummary[n]);
                    e && (this.parseDataFromAPI(e),
                    this.hasIntensityIntervals ? this.parseTypedSplitsData() : this.hasTypedSplits && this.parseSplitsRemovePaceProData()),
                    this.hasIntensityIntervals ? i.colModel = V(A.a.getMasterColumnConfig({
                        isSwimmingActivity: i.isSwimmingActivity,
                        activityTypeKey: this.settings.activityTypeKey,
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo,
                        personalizerParams: R,
                        getWeightLink: j()
                    }), i.columns) : this.hasTypedSplits ? i.colModel = V(C.a.getMasterColumnConfig({
                        isSwimmingActivity: i.isSwimmingActivity,
                        activityTypeKey: this.settings.activityTypeKey,
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo,
                        personalizerParams: R,
                        getWeightLink: j()
                    }), i.columns) : i.colModel = V(function(e) {
                        var t = h.a.getSpeedTypeFromActivityType(e.activityTypeKey)
                          , i = h.a.getAvgSpeedTypeLabelKey(e.activityTypeKey)
                          , a = h.a.getAvgMovingSpeedTypeLabelKey(e.activityTypeKey)
                          , n = h.a.getMaxSpeedTypeLabelKey(e.activityTypeKey)
                          , r = [];
                        if (e.isLapSwimming)
                            r = T.a.getLapSwimming(e, R, t, i, n);
                        else if (e.isStrengthTrainingActivity)
                            r = T.a.getStrengthTraining(e);
                        else if (e.isAutoRacingActivity)
                            r = T.a.getAutoRacing();
                        else if (e.isResortSkiActivity)
                            r = T.a.getResortSki(e, R);
                        else if (e.isCrosscountrySkiActivity)
                            r = T.a.getCrossCountrySki(e, R);
                        else if (e.isOnShoreGrindingActivity)
                            r = T.a.getOnShoreGrinding(e, R);
                        else if (e.isOffShoreGrindingActivity)
                            r = T.a.getOffShoreGrinding(e, R);
                        else {
                            var o = h.a.getElevGainLabelKey(e.activityTypeKey)
                              , s = h.a.getElevLossLabelKey(e.activityTypeKey);
                            (r = [{
                                order: 1,
                                fieldName: "lapIndex",
                                displayLabel: e.lapIndexLabel,
                                class: "ascending",
                                showSortIcon: !0,
                                personalizer: null
                            }, {
                                order: 2,
                                fieldName: "duration",
                                displayLabel: "label_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 3,
                                fieldName: "duration",
                                displayLabel: "label_cum_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 4,
                                fieldName: "distance",
                                displayLabel: "label_distance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDistance,
                                personalizerParams: R.getDistanceParams
                            }, {
                                order: -1,
                                fieldName: "averageSpeed",
                                displayLabel: i,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeSpeed,
                                personalizerParams: R.getSpeedParams
                            }, {
                                order: -1,
                                fieldName: "averageHR",
                                displayLabel: "label_avg_HR",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: -1,
                                fieldName: "maxHR",
                                displayLabel: "label_max_HR",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: -1,
                                fieldName: "elevationGain",
                                displayLabel: o,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeElevation
                            }, {
                                order: -1,
                                fieldName: "elevationLoss",
                                displayLabel: s,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeElevation
                            }, {
                                order: -1,
                                fieldName: "averageRunCadence",
                                displayLabel: "label_avg_run_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: R.getCadence
                            }, {
                                order: -1,
                                fieldName: "groundContactTime",
                                displayLabel: "label_avg_ground_contact_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeGroundContactTime
                            }, {
                                order: -1,
                                fieldName: "groundContactBalanceLeft",
                                displayLabel: "label_avg_gct_balance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: function(e) {
                                    var t = e
                                      , i = 100 - t;
                                    return c.a.localize(h.a.getPowerBalanceUnitKey(), h.a.formatDecimalNumber(t, 1), h.a.formatDecimalNumber(i, 1))
                                }
                            }, {
                                order: -1,
                                fieldName: "strideLength",
                                displayLabel: "label_avg_stride_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeAvgStrideLength
                            }, {
                                order: -1,
                                fieldName: "verticalOscillation",
                                displayLabel: "label_avg_vertical_oscillation",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeVerticalOscillation
                            }, {
                                order: -1,
                                fieldName: "verticalRatio",
                                displayLabel: "label_avg_vertical_ratio",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeVerticalRatio
                            }, {
                                order: -1,
                                fieldName: "averageStrokeCadence",
                                displayLabel: "label_avg_stroke_rate",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null
                            }, {
                                order: -1,
                                fieldName: "maxStrokeCadence",
                                displayLabel: "label_max_stroke_rate",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null
                            }, {
                                order: -1,
                                fieldName: "averageStrokeDistance",
                                displayLabel: "label_avg_distance_per_stroke",
                                class: "",
                                showSortIcon: !1,
                                personalizer: function(t) {
                                    return h.a.personalizeDistanceValue(h.a.isPaddleBoardingActivity(e.activityTypeKey) ? h.a.convertDistancePerStroke(t) : t)
                                }
                            }]).push({
                                order: -1,
                                fieldName: "averageBikeCadence",
                                displayLabel: "label_avg_bike_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: R.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxBikeCadence",
                                displayLabel: "label_max_bike_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: R.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageSwimCadence",
                                displayLabel: "label_avg_swim_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: R.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "minSwimCadence",
                                displayLabel: "label_max_swim_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: R.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "normalizedPower",
                                displayLabel: "label_normalized_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftBalance",
                                displayLabel: "label_left_balance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeLeftRightBalance
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightBalance",
                                displayLabel: "label_right_balance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeLeftRightBalance
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftTorqueEffectiveness",
                                displayLabel: "label_left_torque_eff",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTorqueEffectiveness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightTorqueEffectiveness",
                                displayLabel: "label_right_torque_eff",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTorqueEffectiveness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPedalSmoothness",
                                displayLabel: "label_left_pedal_smoothness",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePedalSmoothness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPedalSmoothness",
                                displayLabel: "label_right_pedal_smoothness",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePedalSmoothness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averagePower",
                                displayLabel: "label_avg_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averagePower",
                                displayLabel: "label_avg_power_kg",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null,
                                nullCallback: j
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxPower",
                                displayLabel: "label_max_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxPower",
                                displayLabel: "label_max_power_kg",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null,
                                nullCallback: j
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxPowerTwentyMinutes",
                                displayLabel: "label_max_avg_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "standingTime",
                                displayLabel: "label_cd_total_standing_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeStandingTime
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageStandingPower",
                                displayLabel: "label_cd_avg_standing_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxStandingPower",
                                displayLabel: "label_cd_max_standing_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "seatedTime",
                                displayLabel: "label_cd_total_seated_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeStandingTime
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageSeatedPower",
                                displayLabel: "label_cd_avg_seated_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxSeatedPower",
                                displayLabel: "label_cd_max_seated_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhaseStart",
                                displayLabel: "label_cd_l_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhaseEnd",
                                displayLabel: "label_cd_l_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhaseStart",
                                displayLabel: "label_cd_r_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhaseEnd",
                                displayLabel: "label_cd_r_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhaseArcLength",
                                displayLabel: "label_cd_l_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhaseArcLength",
                                displayLabel: "label_cd_r_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhasePeakStart",
                                displayLabel: "label_cd_l_peak_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhasePeakEnd",
                                displayLabel: "label_cd_l_peak_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhasePeakStart",
                                displayLabel: "label_cd_r_peak_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhasePeakEnd",
                                displayLabel: "label_cd_r_peak_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhasePeakArcLength",
                                displayLabel: "label_cd_l_peak_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhasePeakArcLength",
                                displayLabel: "label_cd_r_peak_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPlatformCenterOffset",
                                displayLabel: "label_cd_l_pco_average",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePlatformCenterOffset
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPlatformCenterOffset",
                                displayLabel: "label_cd_r_pco_average",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePlatformCenterOffset
                            }),
                            r.push({
                                order: -1,
                                fieldName: "calories",
                                displayLabel: "label_calories",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.formatWholeNumber
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageTemperature",
                                displayLabel: "label_avg_temperature",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTemperature
                            }),
                            "open_water_swimming" !== e.activityTypeKey && r.push({
                                order: -1,
                                fieldName: "maxSpeed",
                                displayLabel: n,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeSpeed,
                                personalizerParams: R.getSpeedParams
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxRunCadence",
                                displayLabel: "label_max_run_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: R.getCadence
                            }),
                            e.canDisplayVectorAirInfo && (r.push({
                                order: -1,
                                fieldName: "avgCda",
                                displayLabel: "cda_unit",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.formatVectorAirCdA
                            }),
                            r.push({
                                order: -1,
                                fieldName: "avgWattsPerCda",
                                displayLabel: "wcda_unit",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.formatWholeNumber
                            })),
                            r.push({
                                order: -1,
                                fieldName: "avgFlow",
                                displayLabel: "label_flow",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.peronalizeMTBFlow
                            }),
                            r.push({
                                order: -1,
                                fieldName: "grit",
                                displayLabel: "label_grit",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.peronalizeMTBGrit
                            }),
                            r.push({
                                order: -1,
                                fieldName: "movingDuration",
                                displayLabel: "label_moving_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageMovingSpeed",
                                displayLabel: a,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeSpeed,
                                personalizerParams: R.getSpeedParams
                            })
                        }
                        return r
                    }({
                        isLapSwimming: i.isLapSwimming,
                        isSwimmingActivity: i.isSwimmingActivity,
                        isStrengthTrainingActivity: i.isStrengthTrainingActivity,
                        isAutoRacingActivity: i.isAutoRacingActivity,
                        isResortSkiActivity: i.isResortSkiActivity,
                        isCrosscountrySkiActivity: i.isCrosscountrySkiActivity,
                        isOnShoreGrindingActivity: i.isOnShoreGrindingActivity,
                        isOffShoreGrindingActivity: i.isOffShoreGrindingActivity,
                        lapIndexLabel: i.lapIndexLabel,
                        activityTypeKey: i.activityTypeKey,
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo,
                        hasWorkoutSplits: a,
                        hasLapIntensityType: this.hasLapIntensityType()
                    }), i.columns),
                    i.cellClasses = this.getCellClass(i.colModel),
                    H(i.footerModel, this.usersWeight),
                    i.footerModel = this.getModel(i.footerModel, !1, !1, null, null),
                    i.footerCellClass = this.getFooterCellClass(i.colModel)
                },
                parseDataFromAPI: function(e) {
                    for (var t = 0, i = null, a = null, n = null, r = e.length, s = {}; t < r; t += 1)
                        if (i = e[t] && "function" === typeof e[t].toJSON ? e[t].toJSON() : e[t]) {
                            for (a in i)
                                o.a.has(i, a) && (n = i[a],
                                s[a] = n);
                            this.settings.data.push(s),
                            s = {}
                        }
                },
                parseTypedSplitsData: function() {
                    var e = this;
                    this.activityTypedSplits.forEach(function(t) {
                        e.settings.activityTypedSplits.push(Object(n.a)({}, t.toJSON()))
                    })
                },
                parseSplitsRemovePaceProData: function() {
                    var e = this;
                    this.activityTypedSplits.toJSON().filter(function(e) {
                        return e.type !== S.a
                    }).forEach(function(t) {
                        e.settings.activityTypedSplits.push(Object(n.a)({}, t))
                    })
                },
                onSplitColumnHeaderClicked: function(t) {
                    t.preventDefault();
                    var i = o.a.find(this.settings.colModel, function(e) {
                        return e.showSortIcon
                    })
                      , n = e("i", t.currentTarget);
                    if (n && n.length > 0 && i) {
                        var r = n.hasClass("icon-pointer-up") ? "descending" : "ascending";
                        i.class += (-1 === i.class.indexOf(" ") ? " " : "") + r,
                        i.class = "ascending" === r ? i.class.replace("descending", "") : i.class.replace("ascending", "")
                    } else {
                        i && (i.class = i.class.replace("descending", "").replace("ascending", ""),
                        i.showSortIcon = !1);
                        var s = o.a.find(this.settings.colModel, function(i) {
                            return e.trim(c.a.localize(i.displayLabel)) === e.trim(e(t.currentTarget).text())
                        });
                        s && (a(s).removeClass("ascending").addClass("ascending"),
                        s.showSortIcon = !0)
                    }
                    this.renderHeader(),
                    this.renderBody(),
                    this.connectIQPresentationUtil && this.renderConnectIQView(this.connectIQPresentationUtil, !0)
                },
                onRowClicked: function(t) {
                    e(t.currentTarget).hasClass("active") ? e(t.currentTarget).removeClass("active") : e(t.currentTarget).addClass("active")
                },
                onIntervalClicked: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget)
                      , a = i.hasClass(N.intervals.toggleOpenClass)
                      , n = "";
                    n = n.concat(".", a ? N.intervals.toggleCloseClass : N.intervals.toggleOpenClass);
                    var r = e(n, i.parent());
                    i.css({
                        display: "none"
                    }),
                    r.css({
                        display: "inline-block"
                    }),
                    function(t, i) {
                        var a = t.parent().parent()
                          , n = a.attr("class").match(/\binterval-(\d+)\b/)[0];
                        if (n) {
                            var r = e(".table-row-child." + n, a.parent());
                            r && o.a.each(r, function(t) {
                                e(t).css({
                                    display: i
                                });
                                var a = e("td", t);
                                a && o.a.each(a, function(t) {
                                    e(t).css({
                                        display: "none" === i ? i : "table-cell"
                                    })
                                })
                            })
                        }
                    }(i, a ? "table-row" : "none")
                },
                renderHeader: function() {
                    var e = this.$("thead", this.$el);
                    if (e && e.length > 0) {
                        e.empty();
                        var t = new p.a({
                            model: this.settings.colModel,
                            isLapSwimming: this.settings.isLapSwimming,
                            settings: this.settings.isLapSwimming ? N.intervals : N.splits
                        });
                        e.append(t.render().el)
                    }
                },
                renderBody: function() {
                    var t = this.$("tbody");
                    if (t && t.length) {
                        this.stopListening(),
                        e("tr", t).remove();
                        var i = W(this.settings.data, this.settings.colModel)
                          , a = 0
                          , n = 1
                          , r = 1
                          , s = {}
                          , l = i.length;
                        for (H(i, this.usersWeight); a < l; a += 1) {
                            var c = i[a]
                              , h = O(c)
                              , p = this.getModel(c, !1, h, n, r);
                            h ? (r += 1,
                            s = e.extend({}, N.intervals, {
                                isRest: !0,
                                restIndex: r,
                                lapIndex: n
                            }),
                            p.label_swim_stroke = "REST",
                            p.lapIndex = "") : (n += 1,
                            s = e.extend({}, N.intervals, {
                                restIndex: r,
                                lapIndex: n
                            }));
                            var d = this.getRow(B(p, N.intervals.subGridModelkey), this.settings.isLapSwimming ? s : N.splits);
                            t.append(d.render().el),
                            !h && this.settings.isLapSwimming && o.a.has(p, N.intervals.subGridModelkey) && this.renderIntervalChildRow(p, t, n)
                        }
                    }
                },
                renderFooter: function() {
                    if (this.settings.footerModel) {
                        var e = this.$("tfoot");
                        e && e.length && e.remove();
                        var t = this.$("table");
                        t && t.length && t.append(new u.a({
                            model: B(this.settings.footerModel, N.intervals.subGridModelkey),
                            isLapSwimming: this.settings.isLapSwimming,
                            isAutoRacingActivity: this.settings.isAutoRacingActivity,
                            isResortSkiActivity: this.settings.isResortSkiActivity,
                            isOnShoreGrindingActivity: this.settings.isOnShoreGrindingActivity,
                            isOffShoreGrindingActivity: this.settings.isOffShoreGrindingActivity,
                            isCrosscountrySkiActivity: this.settings.isCrosscountrySkiActivity,
                            cellClass: this.settings.footerCellClass
                        }).render().el)
                    }
                },
                setAndApplyWeight: function(e) {
                    this.usersWeight && this.usersWeight === e || (this.usersWeight = e,
                    this.init(),
                    this.renderBody(),
                    this.renderFooter(),
                    this.renderIntervals())
                },
                noWeightCallback: function(e) {
                    this.setAndApplyWeight(e),
                    this.trigger(P.WeightChangedFromSplits, e)
                },
                onNoWeightLinkInFooterClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation(),
                    this.trigger(P.DisplayWeightEntryPopup, {
                        context: this,
                        successCallback: this.noWeightCallback
                    }, this)
                },
                getModel: function(e, t, i, a, n) {
                    return this.settings.isLapSwimming ? U({
                        list: e,
                        colModel: this.settings.colModel,
                        activityTypeKey: this.settings.activityTypeKey,
                        isChild: t || !1,
                        isRest: i || !1,
                        swimStroke: i ? "" : M(e.lengthDTOs),
                        lapIndex: a,
                        restIndex: n,
                        poolUnit: this.settings.poolUnit
                    }) : G(e, this.settings.colModel, this.settings.activityTypeKey, this.isOwner)
                },
                getRow: function(e, t) {
                    var i = new d.a({
                        model: e,
                        isLapSwimming: this.settings.isLapSwimming,
                        settings: t,
                        cellClass: this.settings.cellClasses
                    });
                    return this.listenTo(i, d.a.Events.DisplayWeightEntryPopup, function(e) {
                        this.trigger(P.DisplayWeightEntryPopup, e)
                    }, this),
                    this.listenTo(i, d.a.Events.WeightChangedFromSplitsRow, function(e) {
                        this.noWeightCallback(e)
                    }, this),
                    i
                },
                getCellClass: function() {
                    for (var e = {}, t = this.settings.colModel.length, i = 0; i < t; i++)
                        this.settings.colModel[i].cellClass && (e["" + i] = this.settings.colModel[i].cellClass);
                    return e
                },
                getFooterCellClass: function() {
                    for (var e = {}, t = this.settings.colModel.length, i = 0; i < t; i++)
                        this.settings.colModel[i].footerCellClass && (e["" + i] = this.settings.colModel[i].footerCellClass);
                    return e
                },
                renderIntervalChildRow: function(e, t, i) {
                    var a = {
                        isParent: !1,
                        isParentExpanded: !1,
                        isChildSelected: !1,
                        childClass: N.intervals.childClass,
                        parentIndex: i,
                        childCount: e.lengthDTOs.length - 1,
                        childIndex: 0
                    }
                      , r = null
                      , o = e.lengthDTOs
                      , s = 0
                      , l = o.length;
                    for (H(o, this.usersWeight),
                    o = o.map(function(t, i) {
                        return Object(n.a)({}, t, {
                            lapIndex: "".concat(e.lapIndex, ".").concat(i + 1),
                            numberOfActiveLengths: 1
                        })
                    }); s < l; s += 1)
                        if (o[s]) {
                            a.childIndex = s,
                            r = U({
                                list: o[s],
                                colModel: this.settings.colModel,
                                activityTypeKey: this.settings.activitySummary,
                                isChild: !0,
                                poolUnit: this.settings.poolUnit
                            });
                            var c = this.getRow(r, a);
                            t.append(c.render().el)
                        }
                },
                renderConnectIQView: function(t, i) {
                    this.connectIQPresentationUtil = t;
                    var a = this.connectIQPresentationUtil.getVisibleAndSortedCollection(this.model.get("lapDTOs"), this.connectIQPresentationUtil.VisibilityArea.lap);
                    if (a && !o.a.isEmpty(a)) {
                        var n = F(a);
                        if (n && n.length > 0)
                            for (var r = this.$("thead tr"), s = this.$("tbody"), l = this.$("tfoot tr"), h = 0, p = n.length; h < p; h += 1)
                                if (n[h]) {
                                    var d = e("<th>" + c.a.localize(n[h].displayLabel) + n[h].helpTooltipTemplate + "</th>").addClass("ciq-headers");
                                    r.append(d),
                                    this.renderCIQBody(a, n[h], s),
                                    i || l.append("<td>--</td>")
                                }
                        b.a.renderTooltips.call(this)
                    }
                },
                renderCIQBody: function(t, i, a) {
                    var n, r, s = e("tr:first", a);
                    if (a && a.length > 0 && (n = o.a.find(t, function(e) {
                        return i.displayLabel.indexOf(e.getAppId()) > -1
                    }),
                    n = o.a.find(n.data, function(e) {
                        return !(!e || !e.developerFieldNumber) && e.developerFieldNumber === i.fieldName
                    })))
                        for (var l = 0, c = n.values.length; l < c; l += 1)
                            if ((r = n.values[l]) && s && s.length > 0) {
                                var p = e("<td>" + i.personalizer.apply(h.a, [r, i.displayInfo.precision]) + "</td>").addClass("ciq-body");
                                s.append(p),
                                s = s.next()
                            }
                },
                activityFilterRenderCIQBody: function(t, i, a, n) {
                    var r, s, l = e("tr:first", a);
                    if (a && a.length > 0 && (r = o.a.find(t, function(e) {
                        return i.displayLabel.indexOf(e.getAppId()) > -1
                    }),
                    r = o.a.find(r.data, function(e) {
                        return !(!e || !e.developerFieldNumber) && e.developerFieldNumber === i.fieldName
                    })))
                        for (var c = r.values.filter(function(e, t) {
                            return n.ciqIndexes.indexOf(t) > -1
                        }), p = 0, d = r.values.length; p < d; p += 1)
                            if (s = c[p]) {
                                n.filterValue;
                                var u = e("<td>" + i.personalizer.apply(h.a, [s, i.displayInfo.precision]) + "</td>").addClass("".concat(n.filterValue));
                                l.append(u),
                                l = l.next()
                            }
                },
                exportToCSV: function() {
                    var e = this.$("table")[0];
                    Object(L.a)(e, "activity_".concat(this.settings.activitySummary.activityId, ".csv"))
                }
            });
            Q.Events = P,
            t.a = Q
        }
        ).call(this, i(9), i(9))
    },
    4636: function(e, t) {
        e.exports = "<% if (model && model.length > 0) { %>\n    <% if (isLapSwimming) { %>\n        <th>&nbsp;</th>\n    <% } %>\n    <% var i = 0, max = model.length; %>\n    <% for (i; i < max; i += 1) { %>\n        <% if (model[i]) { %>\n            <% if (isLapSwimming && model[i].hasOwnProperty('displayLabel')) { %>\n               <th><%= Localizer.localize(model[i].displayLabel) %></th>\n            <% } else if (!isLapSwimming) { %>\n                <th class=\"<%- model[i].class %>\"><%= Localizer.localize(model[i].displayLabel) %>\n                <% if (model[i].showSortIcon) { %>\n                    <i class=\"<%- (model[i].class === 'ascending' || model[i].class.indexOf('ascending') > -1) ? 'icon-pointer-up' : 'icon-pointer-down' %>\"></i>\n                <% } %>\n                </th>\n            <% } %>\n        <% } %>\n    <% } %>\n<% } %>"
    },
    4637: function(e, t) {
        e.exports = '<% if (isLapSwimming) { %>\n    <% if (settings.isParent) { %>\n        <% if (settings.isRest || model[\'swimStroke\'] == "DRILL") { %>\n            <td>&nbsp;</td>\n        <% } else { %>\n        <td>\n            <button class="table-row-parent-toggle table-row-parent-toggle-open" \n                    aria-label="<%- Localizer.localize(\'icon_toggle\') %>" \n                    style="display: inline-block;"\n            ><i class="icon-pointer-right"></i></button>\n            <button class="table-row-parent-toggle table-row-parent-toggle-close" \n                    aria-label="<%- Localizer.localize(\'icon_toggle\') %>" \n                    style="display: none;"\n            ><i class="icon-pointer-down"></i></button>\n        </td>\n        <% } %>\n    <% } else { %>\n         <td>&nbsp;</td>\n   <% } %>\n<% } %>\n<% var index = 0; %>\n<% for (var i in model) { %>\n    <td class="<%- cellClass[index] ? cellClass[index] : \'\' %>">\n        <% if (_.isArray(model[i])) { %>\n            <% for (var c in model[i]) { %>\n                <% if (model[i][c]) { %>\n                    <%= model[i][c] %>\n                <% } else if (model[i][c] === null) { %>\n                    --\n                <% } %>\n            <% } %>\n        <% } else if (model[i] === null || (settings.isRest && columnHiddenForRest(i))) { %>\n            --\n        <% } else { %>\n            <%= ((i === \'swimStroke\' || i === \'label_swim_stroke\') ? Localizer.localize(sm.mapKey(model[i])) : model[i]) %>\n        <% } %>\n    </td>\n    <% index++; %>\n<% } %>'
    },
    4638: function(e, t) {
        e.exports = "<tr>\n    <% if (isLapSwimming) { %>\n        <td>&nbsp;</td>\n    <% } %>\n    <% var index = 0; %>\n    <% for(var f in model) { %>\n        <%if (isLapSwimming && f === 'lapIndex') { %>\n            <td><%- Localizer.localize(model[f]) %></td>\n        <% } else if (isLapSwimming && f === 'swimStroke') { %>\n            <td></td>\n        <% } else if (model[f] === null) { %>\n            <td></td>\n        <% } else if (isAutoRacingActivity) { %>\n            <td><%- f === 'auto_racing_lap_label' ? Localizer.localize(model[f]) : model[f] === null ? '--' : model[f] %></td>\n        <% } else if (isResortSkiActivity) { %>\n            <td><%- f === 'splits.runs' ? Localizer.localize(model[f]) : model[f] === null ? '--' : model[f] %></td>\n        <% } else { %>\n            <td class=\"<%- cellClass[index] ? cellClass[index] : '' %>\">\n                <%= f === 'splits.laps' ? Localizer.localize(model[f]) : model[f] === null ? '--' : model[f] %></td>\n        <% } %>\n        <% index++; %>\n    <% } %>\n</tr>\n"
    },
    4639: function(e, t, i) {
        (t = e.exports = i(34)(!0)).push([e.i, "\n\n.ActivityIntervals_intervalsFilterContainer__3CfIf {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n    width: 200px;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n}\n\n.ActivityIntervals_intervalsFilter__2dpeE {\n    width: 60%;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Activity/ActivityIntervals/ActivityIntervals.css"],
            names: [],
            mappings: ";;AAAA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;IACnB,aAAY;IACZ,uCAA8B;YAA9B,+BAA8B;CAClC;;AAEA;IACI,WAAU;CACd",
            file: "ActivityIntervals.css",
            sourcesContent: [".intervalsFilterContainer {\n    display: flex;\n    align-items: center;\n    width: 200px;\n    justify-content: space-between;\n}\n\n.intervalsFilter {\n    width: 60%;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            intervalsFilterContainer: "ActivityIntervals_intervalsFilterContainer__3CfIf",
            intervalsFilter: "ActivityIntervals_intervalsFilter__2dpeE"
        }
    },
    4640: function(e, t) {
        e.exports = '<div class="activity-intervals-tab-content-placeholder"></div>'
    },
    4641: function(e, t) {
        e.exports = '<div class="activity-filter-table-tab-content"></div>'
    },
    4642: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, ".ActivitySplits_splitsTab__2VXUW {\n    display: block;\n    width: 100%;\n    overflow-x: scroll;\n    padding-bottom: 10px;\n}\n.ActivitySplits_ascent__2yntW {\n    display: inline-block;\n    padding: 0 20px;\n}\n.ActivitySplits_ascent__2yntW:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid " + i(243).locals.red_primary + ";\n    border-right: 0.3em solid " + i(243).locals.red_primary + ";\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg);\n}\n.ActivitySplits_descent__2thC6 {\n    display: inline-block;\n    padding: 0 20px;\n}\n.ActivitySplits_descent__2thC6:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid " + i(243).locals.blue_primary + ";\n    border-right: 0.3em solid " + i(243).locals.blue_primary + ";\n    -webkit-transform: rotate(135deg);\n            transform: rotate(135deg);\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Activity/ActivitySplits/ActivitySplits.css"],
            names: [],
            mappings: "AAEA;IACI,eAAc;IACd,YAAW;IACX,mBAAkB;IAClB,qBAAoB;CACxB;AAEA;IACI,sBAAqB;IACrB,gBAAe;CACnB;AAEA;IACI,YAAW;IACX,sBAAqB;IACrB,kBAAiB;IACjB,aAAY;IACZ,cAAa;IACb,oDAAmC;IACnC,sDAAqC;IACrC,kCAAyB;YAAzB,0BAAyB;CAC7B;AAEA;IACI,sBAAqB;IACrB,gBAAe;CACnB;AAEA;IACI,YAAW;IACX,sBAAqB;IACrB,kBAAiB;IACjB,aAAY;IACZ,cAAa;IACb,oDAAoC;IACpC,sDAAsC;IACtC,kCAAyB;YAAzB,0BAAyB;CAC7B",
            file: "ActivitySplits.css",
            sourcesContent: ["@value (red_primary, blue_primary) from 'ui-connect/styles/colors.module.css';\n\n.splitsTab {\n    display: block;\n    width: 100%;\n    overflow-x: scroll;\n    padding-bottom: 10px;\n}\n\n.ascent {\n    display: inline-block;\n    padding: 0 20px;\n}\n\n.ascent:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid red_primary;\n    border-right: 0.3em solid red_primary;\n    transform: rotate(-45deg);\n}\n\n.descent {\n    display: inline-block;\n    padding: 0 20px;\n}\n\n.descent:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid blue_primary;\n    border-right: 0.3em solid blue_primary;\n    transform: rotate(135deg);\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            red_primary: "" + i(243).locals.red_primary,
            blue_primary: "" + i(243).locals.blue_primary,
            splitsTab: "ActivitySplits_splitsTab__2VXUW",
            ascent: "ActivitySplits_ascent__2yntW",
            descent: "ActivitySplits_descent__2thC6"
        }
    },
    4643: function(e, t) {
        e.exports = '<div class="react-activity-splits"></div>'
    },
    4644: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(2752)
          , h = i(4645)
          , p = i(4646)
          , d = i.n(p);
        t.a = o.a.View.extend({
            template: n.a.template(d.a),
            events: {},
            initialize: function(e) {
                if (this.activitySummary = e.activitySummary,
                !this.activitySummary)
                    throw "activitySummary required for ExpandedSwimView"
            },
            render: function() {
                var e = h.a.getIntervals(this.activitySummary, this.model);
                this.$el.html(this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    intervals: e,
                    sm: c.a
                }))
            }
        })
    },
    4645: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i(11);
            t.a = {
                getLengths: function(t) {
                    var i = t.get("lapDTOs")
                      , a = [];
                    return e.each(i, function(e) {
                        e.numberOfActiveLengths && (a = a.concat(e.lengthDTOs))
                    }, this),
                    a
                },
                getIntervals: function(t, i) {
                    var r = 0
                      , o = i.get("lapDTOs")
                      , s = [];
                    return e.each(o, function(i) {
                        var o = this.createNewInterval();
                        s.push(o);
                        var l = t.get("unitOfPoolLength").unitKey
                          , c = n.a.poolUnitKeyToMeasurementSystem(l);
                        o.lengthCount = i.numberOfActiveLengths,
                        o.type = i.distance ? "interval" : "rest",
                        o.duration = n.a.personalizeDuration(i.duration),
                        o.distance = n.a.personalizeSwimDistance(i.distance, c),
                        o.unit = a.a.localize(l),
                        o.lengths = i.lengthDTOs,
                        e.each(i.lengthDTOs, function(e) {
                            e.interval = o
                        }, this),
                        "interval" == o.type && (o.index = r++)
                    }, this),
                    s
                },
                createNewInterval: function() {
                    return {
                        type: null,
                        index: null,
                        duration: null,
                        lengthCount: 0,
                        lengths: []
                    }
                }
            }
        }
        ).call(this, i(8))
    },
    4646: function(e, t) {
        e.exports = '<% for (var i = 0, len = intervals.length; i < len; i++) {     %>\n<%  var interval = intervals[i];                    %>\n    <%  if (interval.type != \'rest\') {                  %>\n    <div class="swim-interval clearfix">\n        <h5 class="top-s interval-title"><%- Localizer.localize(\'swim_interval_num\', interval.index + 1) %><span class="distance"><%- interval.distance %> <%- interval.unit %></span><span class="time"><%- interval.duration %></span></h5>\n        \x3c!--Drill should only have one bubble with total time displayed in it--\x3e\n        <% var swimStroke = interval.lengths[0] ? interval.lengths[0].swimStroke : null %>\n        <%   if (swimStroke === \'DRILL\') {       %>\n        <div class="swim-length drill first last" title="<%- Localizer.localize(sm.mapKey(swimStroke)) %>">\n            <div class="type"><%- Localizer.localize(sm.mapKey(swimStroke)) %></div>\n            <span class="time"><%- interval.duration %></span>\n        </div>\n        <% } else { %>\n        <% var len2 = interval.lengths.length; %>\n        <% for (var j = 0; j < len2; j++) { %>\n        <%  var length = interval.lengths[j];           \n            if(length) { %>\n        <div class="swim-length <%- sm.mapClass(length.swimStroke) %> <%- j == 0 ? \'first\' : \'\' %>  <%- j == len2 - 1 ? \'last\' : \'\' %>" title="<%- Localizer.localize(sm.mapKey(length.swimStroke)) %>">\n            <div class="type"><%- Localizer.localize(sm.mapKey(length.swimStroke)) %></div>\n            <span class="number"><%- j + 1 %></span>\n            <span class="time"><%- Personalizer.formatDecimalNumber(length.duration, 1, false) %></span>\n        </div>\n        <% } %>\n        <% } %>\n        <% } %>\n        <% if (i + 1 < intervals.length && intervals[i + 1].type == \'rest\') {   %>\n        <%  var restInterval = intervals[++i];                                  %>\n        <div class="swim-rest" title="<%- Localizer.localize(\'swim.rest\') %>">\n            <div class="type"><%- Localizer.localize(\'swim.rest\') %></div>\n            <div class="time"><%- restInterval.duration %></div>\n        </div>\n        <% } %>\n\n    </div>\n    <% } %>\n<% } %>'
    },
    4647: function(e, t, i) {
        "use strict";
        var a = i(11)
          , n = function(e) {
            return a.a.getDurationLabelKey(e)
        }
          , r = function(e) {
            return a.a.getAvgCadenceTypeLabelKey(e)
        }
          , o = function(e) {
            return a.a.getMaxCadenceTypeLabelKey(e)
        }
          , s = function(e) {
            return a.a.getMaxSpeedTypeLabelKey(e)
        };
        t.a = {
            getOnShoreGrinding: function(e, t) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: e.lapIndexLabel,
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "duration",
                    displayLabel: n(e.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "averageBikeCadence",
                    displayLabel: r(e.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.getCadence
                }, {
                    order: -1,
                    fieldName: "maxBikeCadence",
                    displayLabel: o(e.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.getCadence
                }, {
                    order: -1,
                    fieldName: "normalizedPower",
                    displayLabel: "label_normalized_power",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "leftBalance",
                    displayLabel: "label_left_balance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeLeftRightBalance
                }, {
                    order: -1,
                    fieldName: "rightBalance",
                    displayLabel: "label_right_balance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeLeftRightBalance
                }, {
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temperature",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }, {
                    order: -1,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }, {
                    order: -1,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: t.getDistanceParams
                }]
            },
            getOffShoreGrinding: function(e, t) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: e.lapIndexLabel,
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "averageSpeed",
                    displayLabel: (i = e.activityTypeKey,
                    a.a.getAvgSpeedTypeLabelKey(i)),
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: t.getSpeedParams
                }, {
                    order: -1,
                    fieldName: "maxSpeed",
                    displayLabel: s(e.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: t.getSpeedParams
                }, {
                    order: -1,
                    fieldName: "duration",
                    displayLabel: n(e.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "averageBikeCadence",
                    displayLabel: r(e.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.getCadence
                }, {
                    order: -1,
                    fieldName: "maxBikeCadence",
                    displayLabel: o(e.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.getCadence
                }, {
                    order: -1,
                    fieldName: "normalizedPower",
                    displayLabel: "label_normalized_power",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "leftBalance",
                    displayLabel: "label_left_balance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeLeftRightBalance
                }, {
                    order: -1,
                    fieldName: "rightBalance",
                    displayLabel: "label_right_balance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeLeftRightBalance
                }, {
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temperature",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }, {
                    order: -1,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }, {
                    order: -1,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: t.getDistanceParams
                }];
                var i
            },
            getStrengthTraining: function(e) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: e.lapIndexLabel,
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "duration",
                    displayLabel: n(e.activityTypeKey),
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 3,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 4,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 5,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 6,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }]
            },
            getAutoRacing: function() {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: "auto_racing_lap_label",
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "duration",
                    displayLabel: "auto_racing_lap_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.fromSecondsToDuration
                }, {
                    order: 3,
                    fieldName: "maxSpeed",
                    displayLabel: "label_max_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: 4,
                    fieldName: "averageSpeed",
                    displayLabel: "label_avg_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: 5,
                    fieldName: "distance",
                    displayLabel: "auto_racing_lap_distance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDistance
                }]
            },
            getResortSki: function(e, t) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: "splits.runs",
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "duration",
                    displayLabel: "label_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 3,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: t.getDistanceParams
                }, {
                    order: 4,
                    fieldName: "elevationLoss",
                    displayLabel: "label_elevation_loss",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeElevation
                }, {
                    order: 5,
                    fieldName: "maxSpeed",
                    displayLabel: "label_max_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: 6,
                    fieldName: "averageSpeed",
                    displayLabel: "label_avg_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: 7,
                    fieldName: "averageMovingSpeed",
                    displayLabel: "label_avg_moving_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: t.getSpeedParams
                }, {
                    order: 8,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }, {
                    order: 9,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 10,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 11,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 12,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 13,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temperature",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }]
            },
            getCrossCountrySki: function(e, t) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: "splits.laps",
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "duration",
                    displayLabel: "label_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: t.getDistanceParams
                }, {
                    order: -1,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "elevationGain",
                    displayLabel: "label_elevation_gain",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "elevationLoss",
                    displayLabel: "label_elevation_loss",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "averageSpeed",
                    displayLabel: "label_avg_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: -1,
                    fieldName: "averageMovingSpeed",
                    displayLabel: "label_avg_moving_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: t.getSpeedParams
                }, {
                    order: -1,
                    fieldName: "maxSpeed",
                    displayLabel: "label_max_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: -1,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "averageRunCadence",
                    displayLabel: "label_avg_ski_cadence",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.getCadence
                }, {
                    order: -1,
                    fieldName: "maxRunCadence",
                    displayLabel: "label_max_ski_cadence",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.getCadence
                }, {
                    order: -1,
                    fieldName: "strideLength",
                    displayLabel: "label_avg_stride_length",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeAvgStrideLength
                }, {
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "minTemperature",
                    displayLabel: "label_min_temp",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }, {
                    order: -1,
                    fieldName: "maxTemperature",
                    displayLabel: "label_max_temp",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }, {
                    order: -1,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temp",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }, {
                    order: -1,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }]
            },
            getLapSwimming: function(e, t, i, n, r) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: e.lapIndexLabel,
                    class: "",
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "swimStroke",
                    displayLabel: "label_swim_stroke",
                    class: ""
                }, {
                    order: 3,
                    fieldName: "numberOfActiveLengths",
                    displayLabel: "label_num_active_length",
                    class: "",
                    personalizer: a.a.personalizePoolLength
                }, {
                    order: 4,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: t.getDistanceParams
                }, {
                    order: 5,
                    fieldName: "duration",
                    displayLabel: "label_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 6,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 7,
                    fieldName: "averageSpeed",
                    displayLabel: n,
                    class: "",
                    personalizer: i === a.a.SpeedTypes.Speed ? a.a.personalizeSwimSpeed : a.a.personalizeSwimPace,
                    personalizerParams: t.getSwimSpeedParams
                }, {
                    order: 8,
                    fieldName: "maxSpeed",
                    displayLabel: r,
                    class: "",
                    personalizer: i === a.a.SpeedTypes.Speed ? a.a.personalizeSwimSpeed : a.a.personalizeSwimPace,
                    personalizerParams: t.getSwimSpeedParams
                }, {
                    order: 9,
                    fieldName: "averageSWOLF",
                    displayLabel: "label_avg_swolf",
                    class: "",
                    personalizer: a.a.personalizeSwolf
                }, {
                    order: 11,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 12,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 13,
                    fieldName: "totalNumberOfStrokes",
                    displayLabel: "label_total_swim_strokes",
                    class: "",
                    personalizer: a.a.personalizeStrokes
                }, {
                    order: 14,
                    fieldName: "averageStrokes",
                    displayLabel: "label_avg_swim_strokes",
                    class: "",
                    personalizer: a.a.personalizeStrokes
                }, {
                    order: 16,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }, {
                    order: 17,
                    fieldName: "lengthDTOs"
                }]
            }
        }
    },
    4648: function(e, t) {
        e.exports = '<% if (hasTypedSplits) { %>\n    <div class="typed-splits-placeholder"></div>\n<% } else if (hasIntensityIntervals) { %>\n    <div class="typed-splits-intervals-placeholder"></div>\n<% } else if (colModel && colModel.length > 0) { %>\n<div id="<%- isLapSwimming? \'tab-intervals\' : \'tab-table\' %>" class="tab-pane tab-overflow" tabindex="0">\n\n    <% if (isLapSwimming) { %>\n    <div class="btn-group btn-group-pill bottom-s" data-toggle="buttons-radio">\n        <button class="btn btn-small active ga-label" data-toggle="tab" data-target="#intervals-table"><%-Localizer.localize(\'label_table\')%></button>\n        <button class="btn btn-small ga-label" data-toggle="tab" data-target="#intervals-graphical"><%-Localizer.localize(\'label_graphical\')%></button>\n    </div>\n    <% } %>\n\n    <div class="tab-content">\n        <div id="intervals-table" class="tab-pane active">\n            <table class="table clickable-table <%- isLapSwimming? \'intervals-table\' : \'splits-table\' %>">\n                <thead>\n                </thead>\n                <tbody>\n                </tbody>\n            </table>\n        </div>\n\n    <% if (isLapSwimming) { %>\n        <div id="intervals-graphical" class="tab-pane">\n        </div>\n    <% } %>\n\n\n    </div>\n\n</div>\n<% } else { %>\n<div class="h5 font-thin text-center"><%- Localizer.localize(\'splits.noLaps\') %></div>\n<% } %>\n'
    },
    4649: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(11)
              , l = i(7)
              , c = i(4650)
              , h = i(2088)
              , p = i(4652)
              , d = i(25)
              , u = i(37)
              , g = i(4653)
              , m = i.n(g)
              , f = i(4654)
              , y = i.n(f)
              , v = {
                ViewSegmentToggled: "ViewSegmentToggled",
                RequestedSegmentMatch: "RequestedSegmentMatch"
            }
              , b = o.a.View.extend({
                template: n.a.template(m.a),
                events: {
                    "click .create-segment": "onCreateSegmentClicked",
                    "click .match-segment > .match-link:not(.disabled)": "onFindSegmentClicked",
                    "click .segment-match-refresh": "onSegmentMatchRefreshClicked"
                },
                initialize: function(e) {
                    this.activity = e.activity,
                    this.isOwner = e.isOwner,
                    this.segmentMatchTemplate = n.a.template(y.a)
                },
                getIsSegmentMatchActive: function(e) {
                    var t = !1;
                    sessionStorage[e] && (JSON.parse(sessionStorage.getItem(e)).activityId === e && (this.getIsSessionNew(e) ? t = !0 : sessionStorage.removeItem(e)));
                    return t
                },
                getIsSessionNew: function(e) {
                    return Date.now() - JSON.parse(sessionStorage.getItem(e)).start < 3e5
                },
                setData: function(e, t) {
                    this.collection = t,
                    this.activity = {
                        displayName: e.get("metadataDTO").userInfoDto.displayname,
                        privacyTypeKey: e.get("accessControlRuleDTO").typeKey,
                        activityTypeKey: e.get("activityTypeDTO").typeKey,
                        activityId: e.get("activityId")
                    },
                    this.isSegmentMatchActive = this.getIsSegmentMatchActive(this.activity.activityId)
                },
                render: function() {
                    this.isSegmentMatchActive ? this.renderSegmentMatchTemplate() : this.renderActivitySegments()
                },
                renderActivitySegments: function() {
                    if (this.activity && this.activity.activityTypeKey) {
                        var e = this.activity
                          , t = this.isOwner;
                        if (this.collection.length > 0) {
                            var i = []
                              , a = new d.a;
                            this.collection.each(function(t) {
                                var n = new h.a({
                                    activityId: e.activityId,
                                    segmentUuid: t.get("segmentUuid"),
                                    displayName: e.displayName
                                });
                                i.push(n),
                                a.addModel({
                                    model: n,
                                    required: !0
                                })
                            }, this),
                            this.listenTo(a, d.a.Events.SYNCHRONIZED, function() {
                                this.renderSegmentRowViews(this.collection, i, e, t)
                            }),
                            a.fetchModels()
                        } else
                            this.renderSegmentRowViews(this.collection, [], e, t)
                    } else
                        this.$el.html(this.template({
                            Localizer: l.a,
                            Personalizer: s.a,
                            collection: null,
                            isOwner: this.isOwner
                        }))
                },
                renderSegmentMatchTemplate: function() {
                    this.$el.html(this.segmentMatchTemplate({
                        Localizer: l.a,
                        isOwner: this.isOwner
                    }))
                },
                onSegmentMatchRefreshClicked: function() {
                    window.location.reload()
                },
                renderSegmentRowViews: function(t, i, a, r) {
                    this.$el.html(this.template({
                        Localizer: l.a,
                        Personalizer: s.a,
                        collection: this.collection.toJSON() || {},
                        activityTypeKey: this.activity.activityTypeKey,
                        isOwner: this.isOwner,
                        createSegmentUrl: u.default.url("/segment/createFromActivity/".concat(this.activity.activityId))
                    }));
                    var o = e("tbody", this.$el);
                    o && o.length > 0 && n.a.each(i, function(e, i) {
                        var n = new c.a({
                            model: t.at(i),
                            activity: a,
                            isOwner: r,
                            segmentUserLeaderboardModel: e
                        });
                        this.listenTo(n, c.a.Events.ViewSegmentToggled, this.onViewSegmentToggled),
                        o.append(n.render().el)
                    }, this)
                },
                onCreateSegmentClicked: function(e) {
                    e.preventDefault(),
                    o.a.history.navigate("segment/createFromActivity/" + this.activity.activityId, {
                        trigger: !0
                    })
                },
                onFindSegmentClicked: function(e) {
                    var t = this;
                    e.preventDefault();
                    var i = this.activity.activityId;
                    this.segmentMatch = new p.a({
                        activityId: i
                    });
                    var a = {
                        activityId: i,
                        start: Date.now()
                    };
                    sessionStorage.setItem(i, JSON.stringify(a)),
                    this.segmentMatch.save(null, {
                        type: "PUT",
                        error: function() {
                            return t.onRequestSegmentMatch()
                        },
                        success: function() {
                            return t.onRequestSegmentMatch()
                        }
                    })
                },
                onRequestSegmentMatch: function() {
                    this.$(".match-segment").removeClass("colored"),
                    this.$(".match-segment").addClass("disabled"),
                    this.trigger(v.RequestedSegmentMatch, this.getIsSegmentMatchActive(this.activity.activityId)),
                    this.renderSegmentMatchTemplate()
                },
                onViewSegmentToggled: function(e, t) {
                    this.trigger(v.ViewSegmentToggled, e, t)
                }
            });
            b.Events = v,
            t.a = b
        }
        ).call(this, i(9))
    },
    4650: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(8)
              , r = i.n(n)
              , o = i(0)
              , s = i.n(o)
              , l = i(11)
              , c = i(7)
              , h = i(4651)
              , p = i.n(h)
              , d = {
                ViewSegmentToggled: "ViewSegmentToggled"
            }
              , u = s.a.View.extend({
                template: r.a.template(p.a),
                tagName: "tr",
                events: {
                    "click .favorite-segment-trigger": "onFavoriteClicked",
                    "click .segment-visible": "onViewSegmentToggled"
                },
                initialize: function(e) {
                    this.activity = e.activity,
                    this.isOwner = e.isOwner,
                    this.segmentUserLeaderboardModel = e.segmentUserLeaderboardModel
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: c.a,
                        model: this.getModel(this)
                    })),
                    this
                },
                getModel: function() {
                    var t = this.segmentUserLeaderboardModel.toJSON() || {}
                      , i = this.model || {}
                      , a = this.activity.privacyTypeKey
                      , n = this.activity.activityTypeKey
                      , r = t.bestActivityElapsedTime || void 0
                      , o = t.bestElapsedTime || null;
                    return e.extend({
                        isOwner: this.isOwner,
                        showRank: !0
                    }, function() {
                        if ("public" !== a)
                            return {
                                rank: "",
                                rankCss: "not-qualified icon-locked",
                                rankTooltip: "segment_has_no_public_activity"
                            };
                        var e = t.bestUserRank || null;
                        return null === e || void 0 === e ? {
                            rank: "--",
                            rankCss: "not-qualified",
                            rankTooltip: "segment_not_fastest_time"
                        } : r === o ? e < 4 && r > 0 ? {
                            rank: e,
                            rankCss: "top-three",
                            rankTooltip: "segment_overall_rank"
                        } : {
                            rank: e,
                            rankCss: "",
                            rankTooltip: "segment_overall_rank"
                        } : {
                            showRank: !1
                        }
                    }(), {
                        name: i.get("segmentName"),
                        url: i.get("segmentUuid") || "#",
                        pk: i.get("segmentPk"),
                        fav: i.get("favorite")
                    }, {
                        time: o ? l.a.personalizeDuration(r / 1e3) : "--:--",
                        timeLabel: "activity_duration_unit"
                    }, function() {
                        var e = i.get("segmentDistance") || 0
                          , t = "SPEED" === l.a.getSpeedTypeFromActivityType(n).toUpperCase() ? l.a.getSpeedUnitKey() : l.a.getPaceUnitKey()
                          , a = l.a.calculateSpeed(1e3 * e, r / 1e3);
                        return {
                            pace: l.a.personalizeSpeed(a, n, null) || "--:--",
                            paceLabel: t
                        }
                    }())
                },
                onFavoriteClicked: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget)
                      , a = this.model.get("favorite");
                    this.model.set("favorite", !a),
                    a ? (this.model.destroy(),
                    i.removeClass("active")) : (this.model.save(),
                    i.addClass("active"))
                },
                onViewSegmentToggled: function(e) {
                    var t = a(e.currentTarget).find("i")
                      , i = !t.hasClass("active");
                    t.toggleClass("active");
                    var n = t.attr("data-segmentId");
                    this.trigger(d.ViewSegmentToggled, n, i)
                }
            });
            u.Events = d,
            t.a = u
        }
        ).call(this, i(9), i(9))
    },
    4651: function(e, t) {
        e.exports = '    <td class="segment-rank">\n        <% if(model.showRank) { %>\n            <span class="segment-pill has-tooltip <%- model.rankCss %>" title="<%- Localizer.localize(model.rankTooltip, model.rank) %>" data-placement="right"><%- model.rank %></span>\n        <% } else { %>\n            <span class="segment-pill not-qualified has-tooltip" data-placement="right" title="<%- Localizer.localize(\'segment_not_fastest_time\') %>">--</span>\n        <% } %>\n    </td>\n    <td class="segment-name"><a href="/modern/segment/<%- model.url %>" class="colored"><%- model.name %></a></td>\n    <td class="segment-time"><%- model.time + \' \' + Localizer.localize(model.timeLabel) %></td>\n    <td class="segment-pace"><%- model.pace + \' \' + Localizer.localize(model.paceLabel) %></td>\n    <td class="segment-fav">\n        <% if( model.isOwner) { %>\n            <i href="#" class="favorite-segment-trigger icon-star fav <%- model.fav ? \'active\' : \'\' %>" data-segmentpk="<%- model.pk %>"></i>\n        <% } %>\n    </td>\n    <td class="segment-visible"><i class="icon-eye has-tooltip" data-segmentId="<%- model.url %>" title="<%- Localizer.localize(\'activity_show_on_the_map\') %>"></i></td>'
    },
    4652: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/segment/" + this.activityId
            },
            initialize: function(e) {
                if ("undefined" === typeof e.activityId)
                    throw "Segment Match requires an activity ID";
                this.activityId = e.activityId
            }
        });
        t.a = n
    },
    4653: function(e, t) {
        e.exports = '<div class="activity-segments-container">\n    <% if (!collection) { %>\n    <div class="spinner-container">\n        <div class="text-center">\n            <div class="large spinner"><div></div></div>\n        </div>\n        <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div>\n    </div>\n    <% } else { %>\n    <% if (isOwner) { %>\n        <div class="activity-segment-actions">\n            <div class="pull-right create-segment left-s bottom-xs"><a href="<%- createSegmentUrl %>" class="colored"><i class="icon-add"></i><%- Localizer.localize(\'create_segment\') %></a></div>\n            <div class="pull-right match-segment bottom-xs"><a href="#" class="match-link colored"><%- Localizer.localize(\'match_segment\') %></a></div>\n        </div>\n    <% } %>\n    <% if (collection && collection.length > 0){ %>\n    <table class="table segments-table">\n        <thead>\n            <tr>\n                <th class="segment-rank"><%- Localizer.localize(\'rank\') %></th>\n                <th class="segment-name"><%- Localizer.localize(\'segment_name\') %></th>\n                <th class="segment-time"><%- Localizer.localize(\'segment_time_label\') %></th>\n                <th class="segment-pace">\n                    <% if(collection.length > 0 && Personalizer.getSpeedTypeFromActivityType(activityTypeKey).toUpperCase() === \'SPEED\') { %>\n                        <%- Localizer.localize(Personalizer.getSpeedLabelKey()) %>\n                    <% } else { %>\n                        <%- Localizer.localize(Personalizer.getPaceLabelKey()) %>\n                    <% } %>\n                </th>\n                <th class="segment-fav">&nbsp;</th>\n                <th class="segment-visible">&nbsp;</th>\n            </tr>\n        </thead>\n        <tbody>\n        </tbody>\n    </table>\n    <% } else { %>\n        <div class="h5 font-thin text-center"><%- Localizer.localize(\'no_segment_text\') %></div>\n    <% } %>\n    <% } %>\n</div>'
    },
    4654: function(e, t) {
        e.exports = '<div class="segment-match-container">\n    <div class="segment-match-actions">\n        <% if (isOwner) { %>\n            <div class="match-segment"><a href="#" class="match-link disabled"><%- Localizer.localize(\'match_segment\') %></a></div>\n            <div class="create-segment left-s bottom-xs"><a href="#" class="colored"><i class="icon-add"></i><%- Localizer.localize(\'create_segment\') %></a></div>\n        <% } %>\n    </div>\n    <div class="segment-match-message">\n        <h5 class="font-thin text-center top-s"><%= Localizer.localize(\'segment_match_message\') %></h5>\n    </div>\n</div>'
    },
    4655: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(11)
              , o = i(7)
              , s = i(0)
              , l = i.n(s)
              , c = i(2659)
              , h = i(2660)
              , p = i(2661)
              , d = i(4656)
              , u = i.n(d);
            t.a = l.a.View.extend({
                template: n.a.template(u.a),
                className: "mtbStat",
                events: {
                    "click #mtb-jumps-grid th": "onSplitColumnHeaderClicked",
                    "click tbody > tr": "onRowClicked"
                },
                initialize: function(e) {
                    return this.jumps = e.jumps,
                    this.activity = e.activity,
                    this.models = this.getCollection(),
                    this.colModel = this.getColumnFile(),
                    this.footerModel = this.getFooterModel(),
                    this.highestScore = this.getHighestScore(),
                    this
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: o.a,
                        colModel: this.models
                    })),
                    this.renderHeader(),
                    this.renderBody(),
                    this.renderFooter(),
                    this
                },
                renderHeader: function() {
                    var e = this.$("thead", this.$el);
                    if (e && e.length > 0) {
                        e.empty();
                        var t = new c.a({
                            model: this.colModel,
                            isLapSwimming: !1,
                            settings: this.getSettings().splits
                        });
                        e.append(t.render().el)
                    }
                },
                renderBody: function() {
                    var t = this.$("tbody")
                      , i = !1;
                    if (t && t.length) {
                        this.stopListening(),
                        e("tr", t).remove();
                        for (var a = this.sortData(this.models, this.colModel), n = 0, r = a.length; n < r; n += 1) {
                            var o = a[n]
                              , s = this.getRow(o, this.getSettings().splits);
                            t.append(s.render().el),
                            o.label_jumps_score === this.highestScore && !1 === i && (s.setActive(o.label_jumps_score === this.highestScore),
                            i = !0)
                        }
                        this.renderTrophy()
                    }
                },
                renderFooter: function() {
                    if (this.footerModel) {
                        var e = this.$("tfoot");
                        e && e.length && e.remove();
                        var t = this.$("table");
                        t && t.length && t.append(new p.a({
                            model: this.footerModel,
                            isLapSwimming: !1
                        }).render().el)
                    }
                },
                renderTrophy: function() {
                    this.$("tr.active").find("td:first").prepend('<div class="trophy-container"><span class="icon-personal-records"></span></div>')
                },
                getRow: function(e, t) {
                    for (var i = {}, a = Object.keys(e), n = 0; n < a.length; n++)
                        for (var s = a[n], l = 0; l < this.colModel.length; l++) {
                            var c = this.colModel[l];
                            c.displayLabel === s && (c.personalizer ? c.typeKey ? i[s] = c.personalizer.apply(r.a, [e[s], c.typeKey, o.a]) : i[s] = c.personalizer.apply(r.a, [e[s], o.a]) : i[s] = e[s])
                        }
                    return new h.a({
                        model: i,
                        isLapSwimming: !1,
                        settings: t
                    })
                },
                getSettings: function() {
                    return {
                        splits: {
                            headerClass: "sortable-header-row"
                        }
                    }
                },
                getColumnFile: function() {
                    return [{
                        order: 1,
                        fieldName: "jump",
                        displayLabel: "label_jumps",
                        class: "ascending",
                        showSortIcon: !0,
                        personalizer: null
                    }, {
                        order: 2,
                        fieldName: "score",
                        displayLabel: "label_jumps_score",
                        class: "",
                        showSortIcon: !1
                    }, {
                        order: 3,
                        fieldName: "distance",
                        displayLabel: "label_jumps_distance",
                        class: "",
                        showSortIcon: !1,
                        personalizer: r.a.personalizeMTBHeight
                    }, {
                        order: 4,
                        fieldName: "hangtime",
                        displayLabel: "label_jumps_hangtime",
                        class: "",
                        showSortIcon: !1,
                        personalizer: r.a.personalizeMTBSeconds
                    }, {
                        order: 5,
                        fieldName: "speed",
                        displayLabel: "label_jumps_speed",
                        class: "",
                        showSortIcon: !1,
                        personalizer: r.a.personalizeMTBSpeed,
                        typeKey: this.activity.get("activityTypeDTO").typeKey
                    }]
                },
                sortData: function(e, t) {
                    var i = n.a.find(t, function(e) {
                        return n.a.has(e, "showSortIcon") && e.showSortIcon
                    });
                    if (i) {
                        e.sort(function(e, t) {
                            var a = i.displayLabel;
                            if ("ascending" === i.class) {
                                if (e[a] < t[a])
                                    return -1;
                                if (e[a] > t[a])
                                    return 1
                            } else {
                                if (e[a] > t[a])
                                    return -1;
                                if (e[a] < t[a])
                                    return 1
                            }
                            return 0
                        })
                    }
                    return e
                },
                getCollection: function() {
                    for (var e = [], t = null, i = this.jumps.toJSON(), a = 0; a < i.length; a++)
                        t = i[a],
                        e.push({
                            label_jumps: a + 1,
                            label_jumps_score: t.score,
                            label_jumps_distance: t.distance,
                            label_jumps_hangtime: t.hangTime,
                            label_jumps_speed: t.speed
                        });
                    return e
                },
                getHighestScore: function() {
                    for (var e = 0, t = 0; t < this.models.length; t++)
                        this.models[t].label_jumps_score > e && (e = this.models[t].label_jumps_score);
                    return e
                },
                getFooterModel: function() {
                    for (var e = {
                        splits: o.a.localize("label_summary"),
                        label_jumps_score: null,
                        label_jumps_distance: 0,
                        label_jumps_hangtime: 0,
                        label_jumps_speed: null
                    }, t = 0; t < this.models.length; t++)
                        for (var i = this.models[t], a = Object.keys(i), n = 0; n < a.length; n++) {
                            null !== e[s = a[n]] && "undefined" != typeof e[s] && (e[s] += i[s])
                        }
                    for (a = Object.keys(e),
                    t = 0; t < a.length; t++) {
                        var s = a[t];
                        for (n = 0; n < this.colModel.length; n++) {
                            var l = this.colModel[n];
                            null !== e[s] && l.displayLabel === s && l.personalizer && (l.typeKey ? e[s] = l.personalizer.apply(r.a, [e[s], l.typeKey, o.a]) : e[s] = l.personalizer.apply(r.a, [e[s], o.a]))
                        }
                    }
                    return e
                },
                onSplitColumnHeaderClicked: function(t) {
                    t.preventDefault();
                    var i = n.a.find(this.colModel, function(e) {
                        return e.showSortIcon
                    })
                      , a = e("i", t.currentTarget);
                    if (a && a.length > 0 && i)
                        i.class = a.hasClass("icon-pointer-up") ? "descending" : "ascending";
                    else {
                        i && (i.class = "",
                        i.showSortIcon = !1);
                        var r = n.a.find(this.colModel, function(i) {
                            return e.trim(o.a.localize(i.displayLabel)) === e.trim(e(t.currentTarget).text())
                        });
                        r && (r.class = "ascending",
                        r.showSortIcon = !0)
                    }
                    this.renderHeader(),
                    this.renderBody()
                }
            })
        }
        ).call(this, i(9))
    },
    4656: function(e, t) {
        e.exports = '<% if (colModel && colModel.length > 0) { %>\n    <div id="mtb-jumps-grid" class="tab-pane tab-overflow">\n        <div class="tab-content">\n            <div id="intervals-table" class="tab-pane active">\n                <table class="table clickable-table splits-table">\n                    <thead>\n                    </thead>\n                    <tbody>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n<% } %>'
    },
    4657: function(e, t) {
        e.exports = "<h2><%- Localizer.localize('label_jumps') %></h2>\n<p><%- Localizer.localize('jumps_help') %></p>\n\n<h4><%- Localizer.localize('label_jumps_in_connect') %></h4>\n<p><%- Localizer.localize('jumps_in_connect') %></p>"
    },
    4658: function(e, t) {
        e.exports = '<div class="data-block">\n    <div><%- Personalizer.peronalizeMTBFlow(summaryDTO.avgFlow) %></div>\n    <div class="fine-print"><%- Localizer.localize(\'label_flow\') %></div>\n</div>\n<div class="data-block">\n    <div><%- Personalizer.peronalizeMTBGrit(summaryDTO.grit) %></div>\n    <div class="fine-print"><%- Localizer.localize(\'label_grit\') %></div>\n</div>\n<div class="data-block">\n    <div><%- Math.round(jumps.length) %></div>\n    <div class="fine-print">\n        <%- Localizer.localize(\'label_total_jumps\') %>\n        <a href="#help-jumps" data-toggle="modal">\n            <span title="<%- Localizer.localize(\'label.te.tip\') %>" class="help-icon jumps-help">\n                <span class="icon-help"></span>\n            </span>\n        </a>\n    </div>\n</div>\n\n<div class="mtb-jumps-grid"></div>'
    },
    4659: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(7)
              , o = i(0)
              , s = i.n(o)
              , l = i(25)
              , c = i(13)
              , h = i.n(c)
              , p = i(330)
              , d = i(2178)
              , u = i(2185)
              , g = i(37)
              , m = i(4660)
              , f = i.n(m)
              , y = {
                Error: "Error"
            }
              , v = s.a.View.extend({
                template: n.a.template(f.a),
                events: {
                    "click #power-curve-4-weeks": "on4WeeksClicked",
                    "click #power-curve-3-months": "on3MonthsClicked",
                    "click #power-curve-12-months": "on12MonthsClicked",
                    "click #power-curve-lifetime": "onLifetimeTotalsClicked"
                },
                initialize: function(e) {
                    return this.activityPowerCurve = this.convert(e.activityPowerCurve),
                    this.startDate = (new h.a).subtract(4, "w").format("YYYY-MM-DD"),
                    this.mode = "power-curve-4-weeks",
                    this.lastMode = this.mode,
                    this
                },
                _render: function() {
                    if (0 === this.lifeTimePowerCurveTotals.get("entries").length) {
                        var e = "";
                        switch (this.mode) {
                        case "power-curve-4-weeks":
                            e = r.a.localize("four_weeks");
                            break;
                        case "power-curve-3-months":
                            e = r.a.localize("three_months");
                            break;
                        case "power-curve-12-months":
                            e = r.a.localize("twelve_months");
                            break;
                        default:
                            e = ""
                        }
                        var t = r.a.localize("no_power_data_for_period", e);
                        this.$(".power-curve-message").html(t).show()
                    } else
                        this.$(".power-curve-message").html("").hide();
                    this.reportChartView = new d.a({
                        report: {
                            metricName: ""
                        },
                        metricList: this.activityPowerCurve,
                        lifeTimePowerCurveTotals: this.lifeTimePowerCurveTotals,
                        chartType: "areaspline",
                        chartFormat: "page",
                        wattsToggle: "watts-trend",
                        metricPeriod: r.a.localize("activity"),
                        userPreferences: null,
                        viewerUserBiometrics: p.a.toJSON(),
                        startDate: null,
                        el: this.$(".power-curve-chartPlaceholder")
                    }),
                    this.reportChartView.render()
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: r.a,
                        mode: this.mode,
                        url: g.default.url
                    })),
                    this.loadLifeTimeTotals(),
                    this
                },
                loadLifeTimeTotals: function() {
                    var e = (new h.a).add(1, "d").format("YYYY-MM-DD")
                      , t = new l.a;
                    this.lifeTimePowerCurveTotals = new u.a({
                        dataType: "powerCurve",
                        startDate: this.startDate,
                        endDate: this.startDate ? e : null
                    }),
                    t.addModel({
                        model: this.lifeTimePowerCurveTotals,
                        required: !0
                    }),
                    this.$(".power-curve-loading-spinner").show(),
                    this.listenTo(t, l.a.Events.SYNCHRONIZED, function() {
                        this._render(),
                        this.$(".power-curve-loading-spinner").hide()
                    }),
                    t.bind(l.a.Events.SYNCHRONIZE_FAILED, function() {
                        this.trigger(y.Error, r.a.localize("power_curve_retry"))
                    }, this),
                    t.fetchModels()
                },
                handleClick: function(t) {
                    t.preventDefault(),
                    this.$(".btn-small").removeClass("active");
                    var i = e(t.currentTarget);
                    this.lastMode = this.mode,
                    this.mode = i.attr("id")
                },
                convert: function(e) {
                    var t = {
                        get: function(e) {
                            return this.entries
                        },
                        entries: []
                    }
                      , i = h()().format("YYYY-MM-DD");
                    return n.a.each(n.a.keys(e.attributes), function(a) {
                        var n = a.indexOf("_")
                          , r = 0;
                        n > -1 && (r = a.substring(n + 1),
                        t.entries.push({
                            duration: r,
                            power: e.get(a),
                            activityDate: i
                        }))
                    }),
                    t
                },
                on4WeeksClicked: function(e) {
                    this.handleClick(e),
                    this.lastMode !== this.mode && (this.startDate = (new h.a).subtract(4, "w").format("YYYY-MM-DD"),
                    this.loadLifeTimeTotals())
                },
                on3MonthsClicked: function(e) {
                    this.handleClick(e),
                    this.lastMode !== this.mode && (this.startDate = (new h.a).subtract(3, "months").format("YYYY-MM-DD"),
                    this.loadLifeTimeTotals())
                },
                on12MonthsClicked: function(e) {
                    this.handleClick(e),
                    this.lastMode !== this.mode && (this.startDate = (new h.a).subtract(1, "y").format("YYYY-MM-DD"),
                    this.loadLifeTimeTotals())
                },
                onLifetimeTotalsClicked: function(e) {
                    this.handleClick(e),
                    this.lastMode !== this.mode && (this.startDate = null,
                    this.loadLifeTimeTotals())
                }
            });
            v.Events = y,
            t.a = v
        }
        ).call(this, i(9))
    },
    4660: function(e, t) {
        e.exports = '<div class="tab-content">\n    <div class="power-curve-buttons">\n        <p><%- Localizer.localize(\'power_curve_compare_info\') %></p>\n        <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n            <button id="power-curve-4-weeks" class="btn btn-small <%- mode === \'power-curve-4-weeks\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'four_weeks\') %></button>\n            <button id="power-curve-3-months" class="btn btn-small <%- mode === \'power-curve-3-months\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'three_months\') %></button>\n            <button id="power-curve-12-months" class="btn btn-small <%- mode === \'power-curve-12-months\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'twelve_months\') %></button>\n            <button id="power-curve-lifetime" class="btn btn-small <%- mode === \'power-curve-lifetime\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'power_curve_all\') %></button>\n        </div>\n        <a class="pull-right colored" href="<%- url(\'/report/-6/cycling/last_four_weeks\') %>"><%- Localizer.localize(\'power_curve_view_report\') %></a>\n    </div>\n    <div class="power-curve-message centered" style="display: hidden;">\n    </div>\n    <span class="power-curve-loading-spinner text-center" style="display: none">\n        <div class="text-center">\n            <div class="large spinner" title=""><div></div></div>\n        </div>\n        \x3c!-- <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div> --\x3e\n    </span>\n    <div class="power-curve-chartPlaceholder"></div>\n</div>'
    },
    4661: function(e, t) {
        e.exports = '<div class="pull-left">\n    <div class="list-number"><%- trackNum %></div>\n</div>\n<div class="media-body">\n    <h6 class="media-heading"><%- title %></h6>\n    <span class="data-label bottom-none"><%- songInfoString %></span>\n</div>'
    },
    4662: function(e, t) {
        e.exports = '<h5 class="bottom-xs"><%- Localizer.localize(\'playlist_title\') %></h5>\n<div class="playlist-card">\n    <ul class="media-list"></ul>\n</div>\n<div class="playlist-privacy"><%- Localizer.localize(\'visible_only_you\') %></div>'
    },
    4663: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(4664)
          , c = i.n(l);
        t.a = o.a.View.extend({
            template: n.a.template(c.a),
            renderWithPrecentationData: function(e) {
                this.model = e,
                this.render()
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    apps: this.model.data
                }))
            }
        })
    },
    4664: function(e, t) {
        e.exports = '<% if (apps) { %>\n    <% for (var i = 0; i < apps.length; i++) { %>\n        <div class="aspect">\n            <div class="aspect-square"></div>\n            <a target="_blank" href="https://apps.garmin.com/en-US/apps/<%- apps[i].appId %>" title="<%- Localizer.localize(\'recorded_with\') %>: <%- apps[i].name %>">\n                <img class="img-responsive aspect-element" alt="<%- apps[i].name %>" src="<%- apps[i].iconUrl %>">\n            </a>\n        </div>\n        <div class="app-name centered">\n            <a href="https://apps.garmin.com/en-US/apps/<%- apps[i].appId %>" target="_blank" class="colored"><%- apps[i].name %></a>\n            \x3c!--<div class="software-version">Software: 2.70.0.0</div> we don\'t have a software version for the app. --\x3e\n            <div class="software-developer"><%- apps[i].developerDisplayName %></div>\n        </div>\n    <% } %>\n<% } %>\n'
    },
    4665: function(e, t) {
        e.exports = '<div class="battery-status">\n    <%- status %>\n    <span class="<%- icon %>"></span>\n</div>'
    },
    4666: function(e, t) {
        e.exports = ""
    },
    4667: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: "/modern/preference/enable-vector-air-feature"
        })
    },
    4668: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(3)
              , n = i(0)
              , r = i.n(n)
              , o = i(4669)
              , s = i(449)
              , l = i(1506)
              , c = i.n(l);
            t.a = r.a.Collection.extend({
                model: o.a,
                url: function() {
                    return "/proxy/activity-service/activity/" + this.activityId + "/jumpDetails"
                },
                initialize: function(e, t) {
                    if ("undefined" === typeof t.activityId)
                        throw "ActivityJumps requires an activity ID";
                    this.activityId = t.activityId
                },
                parse: function(t) {
                    if (this.convertedJumps = [],
                    t && s.a.userInChina()) {
                        var i = this;
                        e.each(t, function(e) {
                            c.a.convert({
                                lng: e.longitude,
                                lat: e.latitude
                            }, function(t) {
                                i.convertedJumps.push(Object(a.a)({}, e, {
                                    latitude: t.lat,
                                    longitude: t.lon
                                }))
                            })
                        })
                    }
                    return t
                },
                getConvertedJumps: function() {
                    return this.convertedJumps
                }
            })
        }
        ).call(this, i(8))
    },
    4669: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            initialize: function() {}
        })
    },
    4670: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/powerCurve"
            },
            initialize: function(e) {
                if ("undefined" === typeof e.activityId)
                    throw "PowerCurve requires an activity ID";
                this.activityId = e.activityId
            }
        })
    },
    4671: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(0)
          , s = i.n(o)
          , l = i(31)
          , c = i(1368)
          , h = i(4672)
          , p = i.n(h)
          , d = s.a.View.extend({
            template: n.a.template(p.a),
            events: {
                "click #re-include": "onIncludeClick",
                "click #powerCurveModal": "onPowerCurveModalClicked"
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a
                })),
                this
            },
            onIncludeClick: function(e) {
                e.preventDefault(),
                this.trigger(u.INCLUDE_ACTIVITY)
            },
            onPowerCurveModalClicked: function(e) {
                e.preventDefault();
                var t = new c.a({
                    content: r.a.localize("power_curve_description") + "<br/><br/>" + r.a.localize("power_curve_description_2") + "<br/><br/>"
                });
                new l.a({
                    view: t,
                    showFooter: !1,
                    showCancelButton: !1,
                    modalTitle: r.a.localize("power_curve_title")
                }).render()
            }
        })
          , u = {
            INCLUDE_ACTIVITY: "INCLUDE_ACTIVITY"
        };
        d.Events = u,
        t.a = d
    },
    4672: function(e, t) {
        e.exports = '<div class="tab-content power-curve-excluded">\n    <div class="text-align-center heading">\n        <%- Localizer.localize(\'power_curve_removed_info\') %>\n        <span class="help-icon">\n            <a id="powerCurveModal" class="colored" data-toggle="modal">\n                <i class="icon-info"></i>\n            </a>\n        </span>\n    </div>\n    <div class="text-align-center sub-heading">\n        <%- Localizer.localize(\'power_curve_re_include\') %>\n    </div>\n    <div class="text-align-center">\n        <button type="button" id="re-include" class="btn btn-small btn-secondary"><%- Localizer.localize(\'power_curve_re_include_label\') %></button>\n    </div>\n</div>'
    },
    4673: function(e, t, i) {
        (t = e.exports = i(34)(!0)).push([e.i, "\n\n.AutoRaceLapTimeChart_componentContainer__3gkcS {\n    padding: 1em;\n    /* max-width: 1080px; */\n}\n\n.AutoRaceLapTimeChart_chartContainer__dizsK {\n    width: 100%;\n    height: 250px;\n}\n\n.AutoRaceLapTimeChart_lapTimeTitle__1LOLC {\n    font-size: 16px;\n    margin-right: 8px;\n}\n\n.AutoRaceLapTimeChart_button__27Ne8 {\n    float: right;\n}\n\n/* Modal */\n\n.AutoRaceLapTimeChart_modalChartContainer__2GSeJ {\n    width: 100%;\n    height: 600;\n}\n\n/* Legend */\n\n.AutoRaceLapTimeChart_legendContainer__3tJrD {\n    white-space: nowrap;\n}\n\n.AutoRaceLapTimeChart_legendLabel__1BNg6 {\n    margin: 5px;\n}\n\n/* Tooltip */\n\n.AutoRaceLapTimeChart_statValue__2IGlW {\n    font-weight: bold;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/components/AutoRaceLapTimeChart/AutoRaceLapTimeChart.css"],
            names: [],
            mappings: ";;AAAA;IACI,aAAY;IACZ,wBAAuB;CAC3B;;AAEA;IACI,YAAW;IACX,cAAa;CACjB;;AAEA;IACI,gBAAe;IACf,kBAAiB;CACrB;;AAEA;IACI,aAAY;CAChB;;AAEA,WAAU;;AAEV;IACI,YAAW;IACX,YAAW;CACf;;AAEA,YAAW;;AAEX;IACI,oBAAmB;CACvB;;AAEA;IACI,YAAW;CACf;;AAEA,aAAY;;AAEZ;IACI,kBAAiB;CACrB",
            file: "AutoRaceLapTimeChart.css",
            sourcesContent: [".componentContainer {\n    padding: 1em;\n    /* max-width: 1080px; */\n}\n\n.chartContainer {\n    width: 100%;\n    height: 250px;\n}\n\n.lapTimeTitle {\n    font-size: 16px;\n    margin-right: 8px;\n}\n\n.button {\n    float: right;\n}\n\n/* Modal */\n\n.modalChartContainer {\n    width: 100%;\n    height: 600;\n}\n\n/* Legend */\n\n.legendContainer {\n    white-space: nowrap;\n}\n\n.legendLabel {\n    margin: 5px;\n}\n\n/* Tooltip */\n\n.statValue {\n    font-weight: bold;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            componentContainer: "AutoRaceLapTimeChart_componentContainer__3gkcS",
            chartContainer: "AutoRaceLapTimeChart_chartContainer__dizsK",
            lapTimeTitle: "AutoRaceLapTimeChart_lapTimeTitle__1LOLC",
            button: "AutoRaceLapTimeChart_button__27Ne8",
            modalChartContainer: "AutoRaceLapTimeChart_modalChartContainer__2GSeJ",
            legendContainer: "AutoRaceLapTimeChart_legendContainer__3tJrD",
            legendLabel: "AutoRaceLapTimeChart_legendLabel__1BNg6",
            statValue: "AutoRaceLapTimeChart_statValue__2IGlW"
        }
    },
    4674: function(e, t, i) {
        var a = i(4675);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    4675: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, ".SurfWaveChart_button__3LMoZ {\n    float: right;\n}\n.SurfWaveChart_waveHelpIcon__1zRxg {\n    margin-left: 5px;\n}\n.SurfWaveChart_waveDistanceTitle__1f-ch {\n    width: 145px;\n    height: 33px;\n    color: " + i(243).locals.textDark + ";\n    font-size: 22px;\n    font-weight: 300;\n    letter-spacing: 0px;\n    line-height: 33px;\n}\n.SurfWaveChart_waveDistanceText__X-GCA {\n    width: 512px;\n    height: 81px;\n    color: " + i(243).locals.textMedium + ";\n    font-size: 18px;\n    font-weight: 300;\n    letter-spacing: 0px;\n    line-height: 27px;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/components/SurfWaveChart/SurfWaveChart.css"],
            names: [],
            mappings: "AAEA;IACI,aAAY;CAChB;AAEA;IACI,iBAAgB;CACpB;AAEA;IACI,aAAY;IACZ,aAAY;IACZ,mCAAe;IACf,gBAAe;IACf,iBAAgB;IAChB,oBAAmB;IACnB,kBAAiB;CACrB;AAEA;IACI,aAAY;IACZ,aAAY;IACZ,mCAAiB;IACjB,gBAAe;IACf,iBAAgB;IAChB,oBAAmB;IACnB,kBAAiB;CACrB",
            file: "SurfWaveChart.css",
            sourcesContent: ["@value (textMedium, textDark) from 'ui-connect/styles/colors.module.css';\n\n.button {\n    float: right;\n}\n\n.waveHelpIcon {\n    margin-left: 5px;\n}\n\n.waveDistanceTitle {\n    width: 145px;\n    height: 33px;\n    color: textDark;\n    font-size: 22px;\n    font-weight: 300;\n    letter-spacing: 0px;\n    line-height: 33px;\n}\n\n.waveDistanceText {\n    width: 512px;\n    height: 81px;\n    color: textMedium;\n    font-size: 18px;\n    font-weight: 300;\n    letter-spacing: 0px;\n    line-height: 27px;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            textMedium: "" + i(243).locals.textMedium,
            textDark: "" + i(243).locals.textDark,
            button: "SurfWaveChart_button__3LMoZ",
            waveHelpIcon: "SurfWaveChart_waveHelpIcon__1zRxg",
            waveDistanceTitle: "SurfWaveChart_waveDistanceTitle__1f-ch",
            waveDistanceText: "SurfWaveChart_waveDistanceText__X-GCA"
        }
    },
    4676: function(e, t, i) {
        "use strict";
        var a = i(436)
          , n = i(437)
          , r = i(81)
          , o = i(80)
          , s = i(82)
          , l = i(10)
          , c = i.n(l)
          , h = i(89)
          , p = i(66)
          , d = i(4677)
          , u = i.n(d)
          , g = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(o.a)(t).apply(this, arguments))
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "render",
                value: function() {
                    return c.a.createElement(c.a.Fragment, null, c.a.createElement(p.Flexbox, {
                        container: !0,
                        end: !0
                    }, c.a.createElement(p.Flexbox, {
                        collapse: !0
                    }, c.a.createElement("div", {
                        className: u.a.legendContainer
                    }, c.a.createElement("div", {
                        className: "".concat(u.a.waveLegendLine, " ").concat(u.a.selectedWaveLegendLine)
                    }), c.a.createElement("div", {
                        className: u.a.legendText
                    }, c.a.createElement(h.a, {
                        key: "surf_selected_legend",
                        ns: "activity",
                        content: "surf_selected_legend"
                    })), c.a.createElement("div", {
                        className: "".concat(u.a.waveLegendLine, " ").concat(u.a.surfedWaveLegendLine)
                    }), c.a.createElement("div", {
                        className: u.a.legendText
                    }, c.a.createElement(h.a, {
                        key: "surf_surfed_legend",
                        ns: "activity",
                        content: "surf_surfed_legend"
                    })), c.a.createElement("div", {
                        className: "".concat(u.a.waveLegendLine, " ").concat(u.a.longestWaveLegendLine)
                    }), c.a.createElement("div", {
                        className: u.a.legendText
                    }, c.a.createElement(h.a, {
                        key: "surf_longest_legend",
                        ns: "activity",
                        content: "surf_longest_legend"
                    }))))))
                }
            }]),
            t
        }(c.a.Component);
        t.a = g
    },
    4677: function(e, t, i) {
        var a = i(4678);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    4678: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(243), void 0),
        t.push([e.i, ".SurfWaveMapLegend_legendContainer__1pELf {\n    position: relative;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-justify-content: flex-end;\n            justify-content: flex-end;\n    top: -15px;\n}\n.SurfWaveMapLegend_legendText__26AUA {\n    padding-left: 13px;\n    padding-right: 15px;\n    font-weight: normal;\n    font-size: 11px;\n}\n.SurfWaveMapLegend_legendContainer__1pELf > .SurfWaveMapLegend_legendText__26AUA:last-child {\n    padding-right: 0px;\n}\n.SurfWaveMapLegend_waveLegendLine__P_Nt4 {\n    width: 32px;\n    position: relative;\n    top: 10px;\n}\n.SurfWaveMapLegend_waveLegendLine__P_Nt4:before {\n    content: '';\n    position: absolute;\n    z-index: 2;\n    left: 0px;\n    width: 7px;\n    height: 7px;\n    border-style: solid;\n    border-color: " + i(243).locals.white + ";\n    border-width: 1px;\n    border-radius: 50%;\n    top: -5px;\n}\n.SurfWaveMapLegend_waveLegendLine__P_Nt4:after {\n    content: '';\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: " + i(243).locals.white + ";\n    box-shadow: 0px 0px 2px 0px rgba(0, 0, 0, 0.27);\n    top: -5px;\n}\n.SurfWaveMapLegend_longestWaveLegendLine__X50-t {\n    border-top: solid 1px " + i(243).locals.red_primary + ";\n}\n.SurfWaveMapLegend_longestWaveLegendLine__X50-t:before,\n.SurfWaveMapLegend_longestWaveLegendLine__X50-t:after {\n    color: " + i(243).locals.red_primary + ";\n    background: " + i(243).locals.red_primary + ";\n}\n.SurfWaveMapLegend_selectedWaveLegendLine__11Rxp {\n    border-top: solid 1px " + i(243).locals.yellow_dark_3 + ";\n}\n.SurfWaveMapLegend_selectedWaveLegendLine__11Rxp:before,\n.SurfWaveMapLegend_selectedWaveLegendLine__11Rxp:after {\n    color: " + i(243).locals.yellow_dark_3 + ";\n    background: " + i(243).locals.yellow_dark_3 + ";\n}\n.SurfWaveMapLegend_surfedWaveLegendLine__1_Blb {\n    border-top: solid 1px " + i(243).locals.blue_dark_3 + ";\n}\n.SurfWaveMapLegend_surfedWaveLegendLine__1_Blb:before,\n.SurfWaveMapLegend_surfedWaveLegendLine__1_Blb:after {\n    color: " + i(243).locals.blue_dark_3 + ";\n    background: " + i(243).locals.blue_dark_3 + ";\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/MapComponent/SurfWaveMapLegend/SurfWaveMapLegend.css"],
            names: [],
            mappings: "AAEA;IACI,mBAAkB;IAClB,sBAAa;IAAb,cAAa;IACb,kCAAyB;YAAzB,0BAAyB;IACzB,WAAU;CACd;AAEA;IACI,mBAAkB;IAClB,oBAAmB;IACnB,oBAAmB;IACnB,gBAAe;CACnB;AAEA;IACI,mBAAkB;CACtB;AAEA;IACI,YAAW;IACX,mBAAkB;IAClB,UAAS;CACb;AAEA;IACI,YAAW;IACX,mBAAkB;IAClB,WAAU;IACV,UAAS;IACT,WAAU;IACV,YAAW;IACX,oBAAmB;IACnB,0CAAmB;IACnB,kBAAiB;IACjB,mBAAkB;IAClB,UAAS;CACb;AAEA;IACI,YAAW;IACX,mBAAkB;IAClB,WAAU;IACV,YAAW;IACX,kBAAiB;IACjB,oBAAmB;IACnB,0CAAmB;IACnB,gDAA+C;IAC/C,UAAS;CACb;AAEA;IACI,kDAAiC;CACrC;AAEA;;IAEI,mCAAkB;IAClB,wCAAuB;CAC3B;AAEA;IACI,kDAAmC;CACvC;AAEA;;IAEI,mCAAoB;IACpB,wCAAyB;CAC7B;AAEA;IACI,kDAAiC;CACrC;AAEA;;IAEI,mCAAkB;IAClB,wCAAuB;CAC3B",
            file: "SurfWaveMapLegend.css",
            sourcesContent: ["@value (blue_dark_3, red_primary, white, yellow_dark_3) from 'ui-connect/styles/colors.module.css';\n\n.legendContainer {\n    position: relative;\n    display: flex;\n    justify-content: flex-end;\n    top: -15px;\n}\n\n.legendText {\n    padding-left: 13px;\n    padding-right: 15px;\n    font-weight: normal;\n    font-size: 11px;\n}\n\n.legendContainer > .legendText:last-child {\n    padding-right: 0px;\n}\n\n.waveLegendLine {\n    width: 32px;\n    position: relative;\n    top: 10px;\n}\n\n.waveLegendLine:before {\n    content: '';\n    position: absolute;\n    z-index: 2;\n    left: 0px;\n    width: 7px;\n    height: 7px;\n    border-style: solid;\n    border-color: white;\n    border-width: 1px;\n    border-radius: 50%;\n    top: -5px;\n}\n\n.waveLegendLine:after {\n    content: '';\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: white;\n    box-shadow: 0px 0px 2px 0px rgba(0, 0, 0, 0.27);\n    top: -5px;\n}\n\n.longestWaveLegendLine {\n    border-top: solid 1px red_primary;\n}\n\n.longestWaveLegendLine:before,\n.longestWaveLegendLine:after {\n    color: red_primary;\n    background: red_primary;\n}\n\n.selectedWaveLegendLine {\n    border-top: solid 1px yellow_dark_3;\n}\n\n.selectedWaveLegendLine:before,\n.selectedWaveLegendLine:after {\n    color: yellow_dark_3;\n    background: yellow_dark_3;\n}\n\n.surfedWaveLegendLine {\n    border-top: solid 1px blue_dark_3;\n}\n\n.surfedWaveLegendLine:before,\n.surfedWaveLegendLine:after {\n    color: blue_dark_3;\n    background: blue_dark_3;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            blue_dark_3: "" + i(243).locals.blue_dark_3,
            red_primary: "" + i(243).locals.red_primary,
            white: "" + i(243).locals.white,
            yellow_dark_3: "" + i(243).locals.yellow_dark_3,
            legendContainer: "SurfWaveMapLegend_legendContainer__1pELf",
            legendText: "SurfWaveMapLegend_legendText__26AUA",
            waveLegendLine: "SurfWaveMapLegend_waveLegendLine__P_Nt4",
            longestWaveLegendLine: "SurfWaveMapLegend_longestWaveLegendLine__X50-t",
            selectedWaveLegendLine: "SurfWaveMapLegend_selectedWaveLegendLine__11Rxp",
            surfedWaveLegendLine: "SurfWaveMapLegend_surfedWaveLegendLine__1_Blb"
        }
    },
    4679: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(33);
        t.a = n.a.Model.extend({
            initialize: function(e, t) {
                this.activityId = e.activityId
            },
            url: function() {
                var e = Object(r.a)({
                    connectActivityId: this.activityId
                });
                return "/proxy/diving/v1/dive/detail/tanksensor".concat(e)
            }
        })
    },
    4680: function(e, t, i) {
        "use strict";
        var a = i(436)
          , n = i(437)
          , r = i(81)
          , o = i(80)
          , s = i(82)
          , l = i(10)
          , c = i.n(l)
          , h = i(1310)
          , p = i(199)
          , d = i(322)
          , u = i(194)
          , g = i(40)
          , m = i(21)
          , f = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(o.a)(t).apply(this, arguments))
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.typedSplits
                      , i = e.indoorClimbDifficulty
                      , a = Object(d.d)(t)
                      , n = []
                      , r = []
                      , o = []
                      , s = [];
                    a.forEach(function(e) {
                        n.push(e.sends),
                        r.push(e.completed),
                        o.push(e.attempted),
                        s.push("")
                    });
                    var l = {
                        tooltip: {
                            enabled: !1
                        },
                        chart: {
                            type: "bar",
                            animation: !1
                        },
                        title: {
                            text: ""
                        },
                        xAxis: {
                            categories: s
                        },
                        yAxis: {
                            min: 0,
                            title: {
                                text: Object(g.b)("activity:routes_climbed"),
                                style: {
                                    color: m.darkui_accent_3
                                }
                            },
                            tickInterval: 1,
                            stackLabels: {
                                enabled: !0,
                                formatter: function() {
                                    var e = a[this.x].gradeValue;
                                    return Object(d.c)(e.scale, e.valueKey, i)
                                },
                                style: {
                                    color: m.darkui_accent_3,
                                    fontWeight: "normal"
                                },
                                x: 10
                            },
                            gridLineColor: m.darkui_surface_1,
                            labels: {
                                style: {
                                    color: m.darkui_accent_3
                                }
                            }
                        },
                        legend: {
                            reversed: !0,
                            itemStyle: {
                                color: m.darkui_accent_3,
                                fontWeight: "normal",
                                cursor: "default"
                            },
                            itemHoverStyle: {
                                color: m.darkui_accent_3
                            }
                        },
                        plotOptions: {
                            series: {
                                stacking: "normal",
                                states: {
                                    inactive: {
                                        opacity: 1
                                    },
                                    hover: {
                                        enabled: !1
                                    }
                                },
                                events: {
                                    legendItemClick: function() {
                                        return !1
                                    }
                                }
                            }
                        },
                        series: [{
                            name: Object(g.b)("activity:climb_send"),
                            data: n,
                            color: m.green_light_2
                        }, {
                            name: Object(g.b)("activity:climb_complete_falls"),
                            data: r,
                            color: m.orange_light_2
                        }, {
                            name: Object(g.b)("activity:climb_attempted"),
                            data: o,
                            color: m.red_light_2
                        }],
                        exporting: {
                            enabled: !1
                        },
                        credits: {
                            enabled: !1
                        }
                    };
                    return c.a.createElement(p.a, this.props, c.a.createElement("div", {
                        className: "padYAxisXS"
                    }, c.a.createElement(h.a, {
                        config: l
                    })))
                }
            }]),
            t
        }(c.a.Component);
        t.a = Object(u.d)(["activity"])(f)
    },
    4681: function(e, t, i) {
        "use strict";
        var a = i(436)
          , n = i(437)
          , r = i(81)
          , o = i(80)
          , s = i(82)
          , l = i(10)
          , c = i.n(l)
          , h = i(1310)
          , p = i(89)
          , d = i(199)
          , u = i(322)
          , g = i(194)
          , m = i(40)
          , f = i(21)
          , y = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(o.a)(t).apply(this, arguments))
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.typedSplits
                      , i = e.indoorClimbDifficulty
                      , a = Object(u.d)(t)
                      , n = []
                      , r = []
                      , o = []
                      , s = [];
                    a.forEach(function(e) {
                        n.push(e.sends),
                        r.push(e.completed),
                        o.push(e.attempted),
                        s.push(Object(u.c)(e.gradeValue.scale, e.gradeValue.valueKey, i))
                    });
                    var l = {
                        tooltip: {
                            enabled: !1
                        },
                        chart: {
                            type: "column",
                            animation: !1
                        },
                        title: {
                            text: ""
                        },
                        xAxis: {
                            title: {
                                text: Object(m.b)("activity:routes_climbed"),
                                style: {
                                    color: f.darkui_accent_3
                                }
                            },
                            categories: s
                        },
                        yAxis: {
                            title: {
                                text: ""
                            },
                            min: 0,
                            tickInterval: 2,
                            stackLabels: {
                                enabled: !1,
                                formatter: function() {
                                    var e = a[this.x].gradeValue;
                                    return Object(u.c)(e.scale, e.valueKey, i)
                                },
                                style: {
                                    color: f.darkui_accent_3,
                                    fontWeight: "normal"
                                },
                                x: 10
                            },
                            gridLineColor: f.darkui_surface_1,
                            labels: {
                                style: {
                                    color: f.darkui_accent_3
                                }
                            }
                        },
                        legend: {
                            reversed: !0,
                            itemStyle: {
                                color: f.darkui_accent_3,
                                fontWeight: "normal",
                                cursor: "default"
                            },
                            itemHoverStyle: {
                                color: f.darkui_accent_3
                            }
                        },
                        plotOptions: {
                            series: {
                                stacking: "normal",
                                states: {
                                    inactive: {
                                        opacity: 1
                                    },
                                    hover: {
                                        enabled: !1
                                    }
                                },
                                events: {
                                    legendItemClick: function() {
                                        return !1
                                    }
                                }
                            }
                        },
                        series: [{
                            name: Object(m.b)("activity:climb_completed"),
                            data: r,
                            color: f.green_primary
                        }, {
                            name: Object(m.b)("activity:climb_attempted"),
                            data: o,
                            color: f.red_light_2
                        }],
                        exporting: {
                            enabled: !1
                        },
                        credits: {
                            enabled: !1
                        }
                    };
                    return c.a.createElement(d.a, this.props, c.a.createElement("div", {
                        className: "padXAxisXS"
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "climb_route_difficulty"
                    })), c.a.createElement("div", {
                        className: "padYAxisXS"
                    }, c.a.createElement(h.a, {
                        config: l
                    })))
                }
            }]),
            t
        }(c.a.Component);
        t.a = Object(g.d)(["activity"])(y)
    },
    4682: function(e, t, i) {
        var a = i(4683);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(36)(a, n);
        a.locals && (e.exports = a.locals)
    },
    4683: function(e, t, i) {
        (t = e.exports = i(34)(!0)).i(i(1291), void 0),
        t.push([e.i, ".ActivitySmallStats_activitySmallStat__6RAAe {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-flex-wrap: wrap;\n            flex-wrap: wrap;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    max-width: 800px;\n}\n.ActivitySmallStats_activityStat__14b0J {\n    -webkit-flex: 0 1 50%;\n            flex: 0 1 50%;\n    padding-top: 5px;\n    white-space: nowrap;\n}\n@media (min-width: " + i(1291).locals.endMD + ") {\n    .ActivitySmallStats_activityStat__14b0J {\n        -webkit-flex: 0 1 auto;\n                flex: 0 1 auto;\n        padding: 5px;\n        white-space: nowrap;\n    }\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.37/src/Activity/ActivityDetailSmallStats/ActivitySmallStats.css"],
            names: [],
            mappings: "AAEA;IACI,sBAAa;IAAb,cAAa;IACb,wBAAe;YAAf,gBAAe;IACf,uCAA8B;YAA9B,+BAA8B;IAC9B,iBAAgB;CACpB;AAEA;IACI,sBAAW;YAAX,cAAW;IACX,iBAAgB;IAChB,oBAAmB;CACvB;AAEA;IACI;QACI,uBAAc;gBAAd,eAAc;QACd,aAAY;QACZ,oBAAmB;KACvB;CACJ",
            file: "ActivitySmallStats.css",
            sourcesContent: ["@value (endMD) from 'ui-connect/styles/variables.module.css';\n\n.activitySmallStat {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    max-width: 800px;\n}\n\n.activityStat {\n    flex: 0 50%;\n    padding-top: 5px;\n    white-space: nowrap;\n}\n\n@media (min-width: endMD) {\n    .activityStat {\n        flex: 0 1 auto;\n        padding: 5px;\n        white-space: nowrap;\n    }\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            endMD: "" + i(1291).locals.endMD,
            activitySmallStat: "ActivitySmallStats_activitySmallStat__6RAAe",
            activityStat: "ActivitySmallStats_activityStat__14b0J"
        }
    },
    4684: function(e, t) {
        e.exports = '<div class="react-activity-small-stats"></div>'
    },
    4685: function(e, t) {
        e.exports = '\x3c!--Page Top--\x3e\n<div class="spinner-container loading-overlay" style="display: none;">\n    <div class="absolute-center">\n        <div class="text-center">\n            <div class="large spinner"><div></div></div>\n        </div>\n        <div class="h5 text-center font-thin"></div>\n    </div>\n</div>\n\n<span id="notification-placeholder"></span>\n\n<div class="activity-page-header row-fluid page-top">\n\n    \x3c!--Page Intro--\x3e\n    <div id="activityIntroViewPlaceholder" class="span8 page-intro"></div>\n\n    \x3c!--Page Navigation--\x3e\n    <div id="activityToolbarViewPlaceholder" class="span4 page-navigation"></div>\n</div>\n\n\x3c!--Page Content--\x3e\n<div class="row-fluid page-content">\n\n    \x3c!--Left Column--\x3e\n\n    <div class="span8">\n\n        \x3c!-- Multisport Nav --\x3e\n        <ul id="multisportNavPlaceholder" class="nav nav-tabs multisport-nav" style="display: none"/>\n\n        \x3c!-- React ActivitySmallStats Summary --\x3e\n        <div id="react-activitySmallStats"></div>\n\n        \x3c!-- Diving --\x3e\n        <div id="divingLogViewPlaceholder" class="row-fluid"></div>\n\n        \x3c!-- Rep Counting Activities --\x3e\n        <div id="repCountingActivityViewPlaceholder" class="row-fluid bottom-s" style="display: none"></div>\n\n        \x3c!-- Rounds Activities --\x3e\n        <div id="roundsViewPlaceholder" class="row-fluid bottom-s" style="display: none"></div>\n\n        \x3c!--React Map --\x3e\n        <div class="activity-react-map" class="row-fluid bottom-s activity-map"></div>\n\n        \x3c!-- Map --\x3e\n        <div id="activityMapViewPlaceholder" class="row-fluid bottom-s activity-map"></div>\n\n        \x3c!-- Auto Racing Lap Chart - Is separate from the other charts --\x3e\n        <div id="autoRacingLapChartPlaceholder" class="row-fluid" style="display: none"></div>\n\n        \x3c!-- Climbing Difficulty Chart - Is separate from the other charts --\x3e\n        <div id="climbingDifficultyChartPlaceholder" class="row-fluid" style="display: none"></div>\n\n        <div id="surfWaveMapLegendPlaceholder" class="row-fluid" style="display: none"></div>\n\n        <div id="surfWaveChartPlaceholder" class="row-fluid" style="display: none"></div>\n\n        \x3c!-- Charts --\x3e\n        <div id="activityChartsViewPlaceholder" class="row-fluid bottom-s"></div>\n\n        <div class="row-fluid">\n\n            <div class="span12">\n\n                \x3c!--tabs--\x3e\n                <ul id="activityTabsViewPlaceholder"></ul>\n\n                \x3c!--tab content--\x3e\n                <div class="tab-content">\n                    <div id="tab-stats" class="tab-pane active activity stats"></div>\n                    <div id="tab-splits" class="tab-pane"></div>\n                    <div id="tab-mtb" class="tab-pane"></div>\n                    <div id="tab-gases-and-tanks" class="tab-pane"></div>\n                    <div id="tab-pacepro-strategy" class="tab-pane"></div>\n                    <div id="tab-apnea-dives" class="tab-pane"></div>\n                    <div id="tab-segments" class="tab-pane"></div>\n                    <div id="tab-time-in-zones" class="tab-pane"></div>\n                    <div id="tab-cycling-dynamics" class="tab-pane cycling-dynamics"></div>\n                    <div id="tab-power-curve" class="tab-pane"></div>\n                    <div id="tab-playlist" class="tab-pane"></div>\n                </div>\n            </div>\n\n        </div>\n\n    </div>\n\n    \x3c!--Right Column--\x3e\n    <div class="span4">\n\n        <div class="page-sidebar">\n            <div id="activityYouTubePlaceholder" class="video-container" style="display: none;">\n                <div class="video-outer">\n                </div>\n            </div>\n\n            <div id="activityPhotosPlaceholder"></div>\n\n            <div class="executionScore"></div>\n\n            <div class="react-activity-badges"></div>\n\n            \x3c!-- Activity Playlist --\x3e\n            <div id="activityPlaylistPlaceholder"></div>\n\n            <div class="wrapper-top-container border-wrapper"></div>\n\n            <div id="activityLocationViewPlaceholder"></div>\n\n            \x3c!-- Diving Entry / Exit Lat Long  --\x3e\n            <div id ="entryLocationViewPlaceholder"></div>\n\n            <div id="exitLocationViewPlaceholder"></div>\n\n            <div id="activityBuddyViewPlaceholder"></div>\n\n            <div id="activityEquipmentViewPlaceholder"></div>\n\n            \x3c!-- Daily Note --\x3e\n            <div id="activityNoteViewPlaceholder"></div>\n\n            \x3c!--comment container--\x3e\n            <div id="activityCommentsViewPlaceholder" class="comment-container"></div>\n            \x3c!--end .comment-container--\x3e\n\n            <div id="device-info" class="additional-info top-m device-info"></div>\n\n            <div class="dive-app-link-info" class="additional-info top-m device-info"></div>\n\n            <div id="accessory-info" class="additional-info top-m accessory-info"></div>\n\n            <div class="ciq-info top-m"></div>\n\n            <div class="attached-gear top-m text-center" id="attached-gear"></div>\n\n            \x3c!-- Legal --\x3e\n            <div class="legal dense muted top-m" style="display: none;">\n                <p><%- Localizer.localize(\'normalized_power_legal_notice\') %> <a href="http://trainingpeaks.com/"\n                                                                                 class="colored" target="_blank">Peaksware,\n                    LLC</a>.</p>\n            </div>\n            \x3c!-- end Legal --\x3e\n        </div>\n\n    </div>\n\n</div>\n\n<div class="alert bottom-xs alert-error" style="display: none;">\n\n</div>'
    },
    5309: function(e, t, i) {
        "use strict";
        var a = i(2649)
          , n = i(8)
          , r = i.n(n)
          , o = i(0)
          , s = i.n(o)
          , l = i(7)
          , c = i(11)
          , h = i(20)
          , p = i(4606)
          , d = i(42)
          , u = i(322)
          , g = i(4608)
          , m = i.n(g)
          , f = s.a.View.extend({
            template: r.a.template(m.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    ascent: this.model.get("summaryDTO").floorsClimbed,
                    descent: this.model.get("summaryDTO").floorsDescended,
                    minElevation: this.model.get("summaryDTO").minElevation,
                    maxElevation: this.model.get("summaryDTO").maxElevation,
                    indoorClimbElevationGain: d.h.getSplitSummary(this.model.get("splitSummaries"), u.b.CLIMB_ACTIVE).elevationGain,
                    indoorClimbMaxAscent: d.h.getSplitSummary(this.model.get("splitSummaries"), u.b.CLIMB_ACTIVE).maxElevationGain,
                    indoorClimbAvgAscent: d.h.getSplitSummary(this.model.get("splitSummaries"), u.b.CLIMB_ACTIVE).averageElevationGain,
                    isIndoorClimbingActivity: d.h.isIndoorClimbingActivity(this.model.get("activityTypeDTO").typeKey) || d.h.isBoulderingActivity(this.model.get("activityTypeDTO").typeKey)
                }))
            }
        })
          , y = i(4609)
          , v = i(4613)
          , b = i(2371)
          , A = i(4615)
          , C = i.n(A)
          , w = s.a.View.extend({
            template: r.a.template(C.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: this.model.get("duration"),
                    elapsedTime: this.model.get("elapsedDuration")
                }))
            }
        })
          , _ = i(4616)
          , x = i.n(_)
          , S = s.a.View.extend({
            template: r.a.template(x.a),
            initialize: function(e) {
                this.stats = e.stats,
                this.statsLabel = e.statsLabel,
                this.showStats = !1;
                for (var t = 0; t < this.stats.length; t++)
                    this.stats[t].data && (this.showStats = !0)
            },
            render: function() {
                this.$el.html(this.template({
                    stats: this.stats,
                    statsLabel: this.statsLabel,
                    showStats: this.showStats
                }))
            }
        })
          , T = i(4617)
          , E = i.n(T)
          , k = s.a.View.extend({
            template: r.a.template(E.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: this.model.get("duration"),
                    elapsedTime: this.model.get("elapsedDuration"),
                    avgFloorsPerMin: c.a.personalizeFloorClimbingPace(this.model.get("summaryDTO").avgVerticalSpeed),
                    maxFloorsPerMin: c.a.personalizeFloorClimbingPace(this.model.get("summaryDTO").maxVerticalSpeed)
                }))
            }
        })
          , L = i(4618)
          , P = i.n(L)
          , z = s.a.View.extend({
            template: r.a.template(P.a),
            initialize: function(e) {
                this.activity = e.model
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    activeClimbDuration: d.h.getSplitSummary(this.activity.splitSummaries, u.b.CLIMB_ACTIVE).duration,
                    restClimbDuration: d.h.getSplitSummary(this.activity.splitSummaries, u.b.CLIMB_REST).duration,
                    totalClimbTime: this.activity && this.activity.duration
                })),
                this
            },
            destroy: function() {
                this.off()
            }
        })
          , I = i(4619)
          , D = i.n(I)
          , B = s.a.View.extend({
            template: r.a.template(D.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: this.model.get("duration")
                }))
            }
        })
          , M = i(2373)
          , O = i(4620)
          , R = i.n(O)
          , N = s.a.View.extend({
            template: r.a.template(R.a),
            initialize: function(e) {},
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    activity: this.model.toJSON(),
                    Personalizer: c.a,
                    showPositionTab: this.shouldShowPositionTab()
                }))
            },
            shouldShowPositionTab: function() {
                return !("undefined" === typeof this.model.get("standingTime"))
            }
        })
          , V = i(4621)
          , j = i.n(V)
          , F = s.a.View.extend({
            template: r.a.template(j.a),
            initialize: function(e) {
                return this.activity = e.activity,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    activity: this.activity,
                    useUsersUnitSetting: this.useUsersUnitSetting()
                })),
                this
            },
            useUsersUnitSetting: function() {
                return "stand_up_paddleboarding" === this.activity.activityTypeDTO.typeKey
            }
        })
          , G = i(198)
          , U = i(4622)
          , H = i.n(U)
          , K = s.a.View.extend({
            template: r.a.template(H.a),
            attributes: function() {
                return {
                    class: function() {
                        return "data-block small"
                    }
                }
            },
            initialize: function(e) {
                this.presentationData = e.presentationData,
                this.getLocalizerString = e.getLocalizerString,
                this.tooltipTemplate = e.tooltipTemplate
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    model: this.model,
                    getLocalizerString: this.getLocalizerString,
                    presentationData: this.presentationData,
                    tooltipTemplate: this.tooltipTemplate
                })),
                G.a.renderTooltips.call(this),
                this
            }
        })
          , W = i(4623)
          , Q = i.n(W)
          , Y = s.a.View.extend({
            template: r.a.template(Q.a),
            attributes: function() {
                return {
                    class: function() {
                        return "stat-block"
                    }
                }
            },
            initialize: function(e) {
                return this.connectIQPresentationUtil = e.connectIQPresentationUtil,
                this
            },
            render: function() {
                var e, t, i;
                if (this.$el.html(this.template({
                    Localizer: l.a
                })),
                this.collection)
                    for (var a in this.collection)
                        if (e = this.collection[a])
                            for (var n = 0, o = e.data.length; n < o; n += 1)
                                (i = e.data[n]) && (t = r.a.find(e.fitContributionsJSON.datafields, function(e) {
                                    return e.id === i.developerFieldNumber
                                })) && this.$el.append(new K({
                                    model: i,
                                    presentationData: t,
                                    getLocalizerString: r.a.bind(e.getLocalizerString, e),
                                    tooltipTemplate: this.connectIQPresentationUtil.getHelpTooltipTemplate(e)
                                }).render().el);
                return this
            }
        })
          , $ = i(4624)
          , Z = i.n($)
          , q = s.a.View.extend({
            template: r.a.template(Z.a),
            initialize: function() {
                return this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    model: this.model
                })),
                this
            }
        })
          , X = i(1412)
          , J = i(31)
          , ee = s.a.View.extend({
            initialize: function(e) {},
            render: function() {
                this.helpModalView && this.helpModalView.destroy(),
                this.helpModalView = new X.a({
                    reactComponent: window.NutritionHydrationModal,
                    props: {}
                }),
                new J.a({
                    view: this.helpModalView,
                    showFooter: !1,
                    customClasses: "",
                    modalTitle: l.a.localize("help.title")
                }).render()
            }
        })
          , te = i(4625)
          , ie = i.n(te)
          , ae = s.a.View.extend({
            template: r.a.template(ie.a),
            className: "stat-block",
            events: {
                "click #nutrition-hydration-help": "onNutritionHydrationHelpClicked"
            },
            initialize: function(e) {
                return this.activity = e.activity,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    activity: this.activity,
                    Personalizer: c.a,
                    Localizer: l.a,
                    hasNutritionAndHydrationData: this.hasNutritionAndHydrationData(),
                    nutritionAndHydrationData: this.getNutritionAndHydrationData()
                })),
                this
            },
            getNutritionAndHydrationData: function() {
                var e = "--"
                  , t = "--"
                  , i = "--"
                  , a = "--"
                  , n = "--"
                  , r = "--";
                return (null !== this.activity.calories || void 0 !== this.activity.calories) && this.activity.calories >= 0 && (e = this.activity.calories),
                null !== this.activity.caloriesConsumed && void 0 !== this.activity.caloriesConsumed && this.activity.caloriesConsumed >= 0 && (t = this.activity.caloriesConsumed),
                (null !== this.activity.waterEstimated || void 0 !== this.activity.waterEstimated) && this.activity.waterEstimated >= 0 && (a = this.activity.waterEstimated),
                (null !== this.activity.waterConsumed || void 0 !== this.activity.waterConsumed) && this.activity.waterConsumed >= 0 && (n = this.activity.waterConsumed),
                i = "--" === e ? t : ("--" === t ? 0 : t) - e,
                r = "--" === a ? n : ("--" === n ? 0 : n) - a,
                {
                    caloriesEstimated: this.formatWholeNumber(e),
                    caloriesConsumed: this.formatWholeNumber(t),
                    caloriesNet: this.formatWholeNumber(i),
                    waterEstimated: a,
                    waterConsumed: n,
                    waterNet: r
                }
            },
            formatWholeNumber: function(e) {
                return "--" === e ? e : c.a.formatWholeNumber(e)
            },
            onNutritionHydrationHelpClicked: function(e) {
                e.preventDefault(),
                new ee({}).render()
            },
            hasNutritionAndHydrationData: function() {
                return this.activity.caloriesConsumed || this.activity.waterEstimated || this.activity.waterConsumed
            }
        })
          , ne = (i(2426),
        i(2184))
          , re = i(37)
          , oe = i(2074)
          , se = i(4626)
          , le = i.n(se)
          , ce = s.a.View.extend({
            template: r.a.template(le.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    NavigationUtil: re.default
                })),
                this.renderVideoPlayer()
            },
            renderVideoPlayer: function() {
                new oe.a({
                    width: "100%",
                    sources: [{
                        src: "https://connectvideo.garmin.com/training-plans/amy-parkerson/37516ceb3240.mp4",
                        type: "video/mp4"
                    }],
                    subtitles: []
                })
            }
        })
          , he = i(1415)
          , pe = i(4627)
          , de = i.n(pe)
          , ue = s.a.View.extend({
            template: r.a.template(de.a),
            events: {
                "click .training-effect-help": "onTrainingEffectHelpClicked",
                "click .help-exercise-load": "onExerciseLoadHelpClicked"
            },
            initialize: function(e) {
                this.isYoga = e.isYoga,
                this.isFloorClimbingActivity = e.isFloorClimbingActivity,
                this.isPilatesActivity = e.isPilatesActivity
            },
            render: function() {
                var e = this.template({
                    Localizer: l.a,
                    trainingEffectStats: this.getTrainingEffectStats()
                });
                this.$el.html(e)
            },
            getTrainingEffectStats: function() {
                var e = [];
                if (this.model.has("trainingEffectLabel")) {
                    var t = he.a.getPrimaryBenefit(this.model.get("trainingEffectLabel"));
                    t && t.label && e.push({
                        metric: l.a.localize(t.label),
                        label: l.a.localize("label.te.primary_benefit"),
                        hasChip: t.color,
                        hasHelpIcon: !1
                    })
                }
                if (this.canShowTrainingEffect("trainingEffect")) {
                    var i = c.a.personalizeTrainingEffect(this.model.get("trainingEffect"))
                      , a = (this.model.get("aerobicTrainingEffectMessage"),
                    he.a.getShortFeedbackTitle(this.model.get("trainingEffect")));
                    e.push({
                        metric: i + " " + a,
                        label: l.a.localize("label.aerobic.te"),
                        hasHelpIcon: !1,
                        hasChip: !1
                    })
                }
                if (this.canShowTrainingEffect("anaerobicTrainingEffect")) {
                    var n = c.a.personalizeTrainingEffect(this.model.get("anaerobicTrainingEffect"));
                    this.model.get("anaerobicTrainingEffectMessage"),
                    a = he.a.getShortFeedbackTitle(this.model.get("anaerobicTrainingEffect"));
                    e.push({
                        metric: n + " " + a,
                        label: l.a.localize("label.anaerobic.te"),
                        hasHelpIcon: !1,
                        hasChip: !1
                    })
                }
                return this.model.has("activityTrainingLoad") && e.push({
                    metric: c.a.formatDecimalNumber(this.model.get("activityTrainingLoad")),
                    label: l.a.localize("exercise_load"),
                    hasHelpIcon: {
                        selectByClass: "help-exercise-load"
                    },
                    hasChip: !1
                }),
                e
            },
            canShowTrainingEffect: function(e) {
                return this.model.has(e) && (!this.isYoga || !this.isFloorClimbingActivity || !this.isPilatesActivity)
            },
            onExerciseLoadHelpClicked: function(e) {
                e.preventDefault();
                var t = new ce({});
                new J.a({
                    view: t,
                    showFooter: !1,
                    modalTitle: l.a.localize("epoc_abbr")
                }).render()
            },
            onTrainingEffectHelpClicked: function(e) {
                e.preventDefault(),
                new ne.a({
                    aerobicScore: this.canShowTrainingEffect("trainingEffect") ? this.model.get("trainingEffect") : null,
                    aerobicScoreMessage: this.model.has("aerobicTrainingEffectMessage") ? this.model.get("aerobicTrainingEffectMessage") : null,
                    anaerobicScore: this.canShowTrainingEffect("anaerobicTrainingEffect") ? this.model.get("anaerobicTrainingEffect") : null,
                    anaerobicScoreMessage: this.model.has("anaerobicTrainingEffectMessage") ? this.model.get("anaerobicTrainingEffectMessage") : null,
                    primaryBenefit: this.model.has("trainingEffectLabel") ? he.a.getPrimaryBenefit(this.model.get("trainingEffectLabel")) : null,
                    isWidget: !1
                }).render()
            }
        })
          , ge = i(4628)
          , me = i.n(ge)
          , fe = s.a.View.extend({
            template: r.a.template(me.a),
            initialize: function(e) {
                this.speedModel = e.speedModel,
                this.activity = e.activity
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    speedModel: this.speedModel,
                    activity: this.activity
                })),
                this
            },
            destroy: function() {
                this.off()
            }
        })
          , ye = i(4629)
          , ve = i.n(ye)
          , be = s.a.View.extend({
            template: r.a.template(ve.a),
            initialize: function(e) {
                this.splitSummaries = this.model.get("splitSummaries")
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    activity: this.model.toJSON(),
                    maxSpeed: d.h.getSplitSummary(this.splitSummaries, "SURF_ACTIVE").maxSpeed,
                    avgSpeed: d.h.getSplitSummary(this.splitSummaries, "SURF_ACTIVE").averageSpeed
                })),
                this
            },
            destroy: function() {
                this.off()
            }
        })
          , Ae = i(4630)
          , Ce = i.n(Ae)
          , we = s.a.View.extend({
            template: r.a.template(Ce.a),
            initialize: function(e) {
                this.splitSummaries = Object(u.e)(e.splitSummaries),
                this.indoorClimbDifficulty = e.indoorClimbDifficulty,
                this.splitSummaries[u.b.CLIMB_ACTIVE] && (this.routeMaxDifficulty = Object(u.c)(this.splitSummaries[u.b.CLIMB_ACTIVE].maxGradeValue.scale, this.splitSummaries[u.b.CLIMB_ACTIVE].maxGradeValue.valueKey, this.indoorClimbDifficulty))
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    splitSummaries: this.splitSummaries[u.b.CLIMB_ACTIVE],
                    routeMaxDifficulty: this.routeMaxDifficulty
                })),
                this
            },
            destroy: function() {
                this.off()
            }
        })
          , _e = i(4631)
          , xe = i.n(_e)
          , Se = {
            running: "interval_active_type_running",
            cycling: "interval_active_type_cycling",
            swimming: "interval_active_type_swimming"
        }
          , Te = s.a.View.extend({
            template: r.a.template(xe.a),
            initialize: function(e) {
                this.activityModel = e.activity,
                this.activityTypes = e.activityTypes,
                this.activityTypeKey = this.activityModel.get("activityTypeDTO").typeKey
            },
            render: function() {
                var e = this.model.getActiveIntervalSummary();
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: e.get("duration"),
                    distance: e.get("distance"),
                    pace: e.get("averageSpeed"),
                    speedPacelabel: this.getSpeedPaceLabel(),
                    activity: this.activityModel.toJSON(),
                    activityType: this.getParentActivityType()
                }))
            },
            getSpeedPaceLabel: function() {
                return l.a.localize(c.a.getSpeedTypeLabelKey(this.activityTypeKey))
            },
            getParentActivityType: function() {
                var e = this.activityTypes.getParentType(this.activityTypeKey);
                return Se[e.get("typeKey")] || "activity_type_other"
            }
        })
          , Ee = i(442)
          , ke = i(436)
          , Le = i(437)
          , Pe = i(81)
          , ze = i(80)
          , Ie = i(82)
          , De = i(10)
          , Be = i.n(De)
          , Me = i(89)
          , Oe = i(2658)
          , Re = i.n(Oe)
          , Ne = i(21)
          , Ve = function(e) {
            function t() {
                return Object(ke.a)(this, t),
                Object(Pe.a)(this, Object(ze.a)(t).apply(this, arguments))
            }
            return Object(Ie.a)(t, e),
            Object(Le.a)(t, [{
                key: "getCadenceRanges",
                value: function() {
                    return [{
                        color: Ne.color_705,
                        description: "> 120"
                    }, {
                        color: Ne.color_223,
                        description: "90 - 120"
                    }, {
                        color: Ne.color_401,
                        description: "60 - 90"
                    }, {
                        color: Ne.color_601,
                        description: "30 - 60"
                    }, {
                        color: Ne.color_301,
                        description: "0 - 30"
                    }]
                }
            }, {
                key: "render",
                value: function() {
                    return Be.a.createElement(Be.a.Fragment, null, Be.a.createElement("div", {
                        className: "".concat(Re.a.title, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_cadence_help_heading"
                    })), Be.a.createElement("div", {
                        className: "".concat(Re.a.bodyOne, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_cadence_help_description"
                    })), Be.a.createElement("div", {
                        className: "".concat(Re.a.titleTwo, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_zones_heading"
                    })), Be.a.createElement("div", {
                        className: "".concat(Re.a.bodyTwo, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_zones_description"
                    })), this.cadenceRanges(), Be.a.createElement("div", {
                        className: "".concat(Re.a.titleTwo, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_importance_heading"
                    })), Be.a.createElement("div", {
                        className: "".concat(Re.a.bodyTwo, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_importance_description_1"
                    })), Be.a.createElement("div", {
                        className: "".concat(Re.a.bodyTwo, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_importance_description_2"
                    })))
                }
            }, {
                key: "cadenceRanges",
                value: function() {
                    var e = this.getCadenceRanges()
                      , t = e.map(function(e) {
                        return Be.a.createElement("tr", {
                            key: e.color
                        }, Be.a.createElement("td", null, Be.a.createElement("div", {
                            className: Re.a.colorCircle
                        }, Be.a.createElement("span", {
                            style: {
                                backgroundColor: e.color
                            }
                        }))), Be.a.createElement("td", null, e.description))
                    });
                    return Be.a.createElement("table", {
                        className: "marBottomSM"
                    }, Be.a.createElement("thead", null, Be.a.createElement("tr", null, Be.a.createElement("th", {
                        className: "padRightSM"
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_zone"
                    })), Be.a.createElement("th", null, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_range"
                    })))), Be.a.createElement("tbody", null, t))
                }
            }]),
            t
        }(Be.a.Component)
          , je = s.a.View.extend({
            template: r.a.template("<div></div>"),
            render: function() {
                this.$el.html(this.template({})),
                (new Ee.a).renderComponent(Ve, this.$("div")[0], {})
            }
        })
          , Fe = function(e) {
            function t() {
                return Object(ke.a)(this, t),
                Object(Pe.a)(this, Object(ze.a)(t).apply(this, arguments))
            }
            return Object(Ie.a)(t, e),
            Object(Le.a)(t, [{
                key: "render",
                value: function() {
                    return Be.a.createElement(Be.a.Fragment, null, Be.a.createElement("div", {
                        className: "".concat(Re.a.title, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_heading"
                    })), Be.a.createElement("div", {
                        className: "".concat(Re.a.bodyOne, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_description"
                    })), Be.a.createElement("div", {
                        className: "".concat(Re.a.titleTwo, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_how_heading"
                    })), Be.a.createElement("div", {
                        className: "".concat(Re.a.bodyTwo, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_how_description"
                    })), Be.a.createElement("div", {
                        className: "".concat(Re.a.titleTwo, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_value_heading"
                    })), Be.a.createElement("div", {
                        className: "".concat(Re.a.bodyTwo, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_value_description_1"
                    })), Be.a.createElement("div", {
                        className: "".concat(Re.a.bodyTwo, " marBottomSM")
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_value_description_2"
                    })))
                }
            }]),
            t
        }(Be.a.Component)
          , Ge = s.a.View.extend({
            template: r.a.template("<div></div>"),
            render: function() {
                this.$el.html(this.template({})),
                (new Ee.a).renderComponent(Fe, this.$("div")[0], {})
            }
        })
          , Ue = i(1331)
          , He = i(1309)
          , Ke = i(57)
          , We = i(4633)
          , Qe = i.n(We)
          , Ye = i(4634)
          , $e = i.n(Ye)
          , Ze = s.a.View.extend({
            template: r.a.template($e.a),
            initialize: function(e) {
                this.isEsportActivity = e.isEsportActivity
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    isEsportActivity: this.isEsportActivity,
                    startStress: this.model.get("startStress"),
                    endStress: this.model.get("endStress"),
                    stressChange: this.model.get("differenceStress"),
                    avgStress: this.model.get("avgStress")
                }))
            }
        })
          , qe = i(2375)
          , Xe = i(1386)
          , Je = i(99)
          , et = i(413)
          , tt = i(66)
          , it = i(1999)
          , at = i(1685)
          , nt = i.n(at)
          , rt = {
            fetchSelfEvaluationIcons: qe.a
        }
          , ot = function(e) {
            function t(e) {
                var i;
                return Object(ke.a)(this, t),
                (i = Object(Pe.a)(this, Object(ze.a)(t).call(this, e))).onHelpClicked = function() {
                    i.setState({
                        showHelpModal: !0
                    })
                }
                ,
                i.closeModal = function() {
                    i.setState({
                        showHelpModal: !1
                    })
                }
                ,
                i.state = {
                    showHelpModal: !1
                },
                i
            }
            return Object(Ie.a)(t, e),
            Object(Le.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    this.props.fetchSelfEvaluationIcons()
                }
            }, {
                key: "getFeel",
                value: function() {
                    var e = {}
                      , t = this.props.feel;
                    switch (!0) {
                    case 100 === t:
                        e = {
                            icon: "very_strong",
                            text: "very_strong"
                        };
                        break;
                    case t > 74:
                        e = {
                            icon: "strong",
                            text: "strong"
                        };
                        break;
                    case t > 49:
                        e = {
                            icon: "normal",
                            text: "normal"
                        };
                        break;
                    case t > 24:
                        e = {
                            icon: "weak",
                            text: "weak"
                        };
                        break;
                    case t < 25:
                        e = {
                            icon: "very_weak",
                            text: "very_weak"
                        };
                        break;
                    default:
                        e = void 0
                    }
                    return e
                }
            }, {
                key: "getPerceivedEffort",
                value: function() {
                    var e = {}
                      , t = this.props.rpe;
                    switch (!0) {
                    case 100 === t:
                        e = {
                            score: 10,
                            text: "maximum"
                        };
                        break;
                    case t > 89:
                        e = {
                            score: 9,
                            text: "extremely_hard"
                        };
                        break;
                    case t > 79:
                        e = {
                            score: 8,
                            text: "very_hard"
                        };
                        break;
                    case t > 69:
                        e = {
                            score: 7,
                            text: "very_hard"
                        };
                        break;
                    case t > 59:
                        e = {
                            score: 6,
                            text: "hard"
                        };
                        break;
                    case t > 49:
                        e = {
                            score: 5,
                            text: "hard"
                        };
                        break;
                    case t > 39:
                        e = {
                            score: 4,
                            text: "somewhat_hard"
                        };
                        break;
                    case t > 29:
                        e = {
                            score: 3,
                            text: "moderate"
                        };
                        break;
                    case t > 19:
                        e = {
                            score: 2,
                            text: "light"
                        };
                        break;
                    case t > 0:
                        e = {
                            score: 1,
                            text: "very_light"
                        };
                        break;
                    case 0 === t:
                        e = {
                            score: 0,
                            text: "none"
                        };
                        break;
                    default:
                        e = void 0
                    }
                    return e
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.getFeel()
                      , t = this.getPerceivedEffort()
                      , i = this.props.selfEvaluationIcons
                      , a = i && e && e.text ? i[e.text.toUpperCase()] : null;
                    return Be.a.createElement(Be.a.Fragment, null, Be.a.createElement("h3", null, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "self_evaluation"
                    }), Be.a.createElement("span", {
                        className: nt.a.helpIcon
                    }, Be.a.createElement(tt.HelpIcon, {
                        onClick: this.onHelpClicked
                    }))), Be.a.createElement(tt.DataBlock, {
                        size: "small"
                    }, Be.a.createElement(tt.DataField, null, e ? Be.a.createElement("div", {
                        className: nt.a.feelCheckboxLabel
                    }, Be.a.createElement("span", {
                        className: "".concat(nt.a.feelIconContainer, " ").concat(nt.a.feelStaticIconContainer)
                    }, a ? Be.a.createElement(Xe.a, {
                        animateToFrameOnLoad: 60,
                        animationData: a
                    }) : null), Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: e.text
                    })) : "--"), Be.a.createElement(tt.DataLabel, null, Be.a.createElement("div", {
                        className: nt.a.clear
                    }, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "how_did_you_feel"
                    })))), Be.a.createElement("div", {
                        className: "marBottomXS"
                    }), Be.a.createElement(tt.DataBlock, {
                        size: "small"
                    }, Be.a.createElement(tt.DataField, null, t ? Be.a.createElement(Be.a.Fragment, null, t.score, "/10\xa0", Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: t.text
                    })) : "--"), Be.a.createElement(tt.DataLabel, null, Be.a.createElement(Me.a, {
                        ns: "activity",
                        content: "perceived_effort"
                    }))), Be.a.createElement(it.a, {
                        openModal: this.state.showHelpModal,
                        onCloseModal: this.closeModal,
                        content: "self-evaluation"
                    }))
                }
            }]),
            t
        }(Be.a.Component)
          , st = Object(Je.b)(function(e) {
            return {
                selfEvaluationIcons: Object(et.b)(e)
            }
        }, rt)(ot)
          , lt = {
            SpeedPaceToggled: "SpeedPaceToggled",
            DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
            WeightChangedFromPowerStats: "WeightChangedFromPowerStats"
        }
          , ct = {
            0: "activity_rating_too_easy",
            25: "activity_rating_easy",
            50: "activity_rating_moderate",
            75: "activity_rating_hard",
            100: "activity_rating_very_hard"
        }
          , ht = s.a.View.extend({
            template: r.a.template(Qe.a),
            events: {
                "click .avg-cadence-help": "onClickAvgCadenceHelp",
                "click .avg-stride-length-help": "onClickAvgStrideLengthHelp"
            },
            initialize: function(e) {
                this.powerZones = e.powerZones,
                this.heartRateZones = e.heartRateZones,
                this.canDisplayVectorAirInfo = e.canDisplayVectorAirInfo,
                this.hasWorkoutExecutionScore = e.hasWorkoutExecutionScore,
                this.getAvgCadenceHelpTooltipText = this.getAvgCadenceHelpTooltipText.bind(this),
                this.getAvgStrideLengthHelpTooltipText = this.getAvgStrideLengthHelpTooltipText.bind(this)
            },
            setData: function(e, t, i, a, n, r, o, s) {
                this.model = e,
                this.splitSummaries = t,
                this.hasPowerData = i,
                this.usersWeight = a,
                this.repCountingActivity = n,
                this.splits = r,
                this.indoorClimbDifficulty = o,
                this.hasTypedSplits = s
            },
            render: function() {
                try {
                    var e = h.a.getDisplayName() === this.model.get("userInfoDto").displayname
                      , t = this.model.hasCyclingDynamicsData()
                      , i = this.hasStrokesData()
                      , a = this.hasStressData()
                      , n = this.isStrengthTrainingActivity()
                      , o = this.isHiitActivity()
                      , s = d.h.isPilatesActivity(this.model.get("activityTypeDTO").typeKey)
                      , u = d.h.isAutoRacingActivity(this.model.get("activityTypeDTO").typeKey)
                      , g = d.h.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey)
                      , m = d.h.isIndoorClimbingActivity(this.model.get("activityTypeDTO").typeKey) || d.h.isBoulderingActivity(this.model.get("activityTypeDTO").typeKey)
                      , A = (this.isBackCountrySkiActivity(),
                    this.isSkateSkiActivity())
                      , C = this.isYogaActivity()
                      , _ = this.isFloorClimbingActivity()
                      , x = this.isDivingActivity()
                      , S = this.isCrossCountrySkiActivity()
                      , T = d.h.isSurfingActivity(this.model.get("activityTypeDTO").typeKey)
                      , E = d.h.isEsportActivity(this.model.get("activityTypeDTO").typeKey)
                      , L = this.model.toJSON()
                      , P = this.hasCalories()
                      , I = this.template({
                        Localizer: l.a,
                        Personalizer: c.a,
                        activity: L,
                        showElevationGain: !c.a.isSwimmingActivity(L.activityTypeDTO.typeKey),
                        showCyclingDynamics: t,
                        hasStrokesData: i,
                        isDivingActivity: x,
                        isBreathworkActivity: g,
                        isEsportActivity: E,
                        isYogaActivity: C,
                        isSurfingActivity: T,
                        showDistanceData: this.showDistanceData(),
                        showRespirationRateData: this.showRespirationRateData(),
                        filteredRespirationRateData: this.filterRespirationRateData(),
                        adaptiveRating: ct[L.summaryDTO.perceivedWorkoutEffort] || null,
                        url: re.default.url,
                        hasCalories: P,
                        getAvgCadenceHelpTooltipText: this.getAvgCadenceHelpTooltipText,
                        getAvgStrideLengthHelpTooltipText: this.getAvgStrideLengthHelpTooltipText,
                        hasTypedSplits: this.hasTypedSplits,
                        skiDynamics: S || A
                    });
                    if (this.$el.html(I),
                    P && this.$("#caloriesPlaceholder").html(new ae({
                        activity: L
                    }).render().el),
                    this.hasTrainingEffectData())
                        new ue({
                            el: this.$("#trainingEffectStatsPlaceholder"),
                            model: this.model,
                            isYoga: C,
                            isFloorClimbingActivity: _,
                            isPilatesActivity: s
                        }).render();
                    if (L.averageHR || L.maxHR) {
                        var D = He.a.map(this.model.getActivityTypeKey())
                          , O = null;
                        this.heartRateZones && (O = this.heartRateZones.findBySport(D.toUpperCase()),
                        (r.a.isUndefined(O) || r.a.isNull(O)) && (O = this.heartRateZones.findBySport("DEFAULT"))),
                        new p.a({
                            el: this.$("#heartRateStatsPlaceholder"),
                            heartRateZones: O,
                            model: this.model,
                            enableToggle: e,
                            isYoga: C,
                            isFloorClimbingActivity: _,
                            isPilatesActivity: s,
                            isAutoRacingActivity: u,
                            isBreathworkActivity: g,
                            isEsportActivity: E
                        }).render()
                    }
                    if (this.hasPowerData && (this.powerStatsView = new y.a({
                        el: this.$("#powerStatsPlaceholder"),
                        powerZones: this.powerZones ? this.powerZones.getZonesWithCeilingDefined() : null,
                        model: this.model,
                        enableToggle: e,
                        usersWeight: this.usersWeight
                    }),
                    e && (this.listenTo(this.powerStatsView, y.a.Events.DisplayWeightEntryPopup, function(e) {
                        this.trigger(lt.DisplayWeightEntryPopup, e)
                    }, this),
                    this.listenTo(this.powerStatsView, y.a.Events.WeightChangedFromPowerStats, function(e) {
                        this.setAndApplyWeight(e),
                        this.trigger(lt.WeightChangedFromPowerStats, e)
                    }, this)),
                    this.powerStatsView.render()),
                    u)
                        new fe({
                            el: this.$("#autoRacingStatsPlaceholder"),
                            activity: L,
                            speedModel: Ue.a.getSpeedModelforActivity(L)
                        }).render(),
                        this.$(".activity-distance").hide(),
                        this.$("#trainingEffectStatsPlaceholder").hide(),
                        this.$("#timingStatsPlaceholder").hide();
                    if (m)
                        new we({
                            el: this.$("#indoorClimbRoutesPlaceholder"),
                            splitSummaries: this.splitSummaries.toJSON(),
                            indoorClimbDifficulty: this.indoorClimbDifficulty
                        }).render();
                    if (t)
                        new N({
                            el: this.$("#cyclingDynamicsPlaceholder"),
                            model: this.model
                        }).render();
                    if (i && new F({
                        el: this.$("#strokesPlaceholder"),
                        activity: L
                    }).render(),
                    _ || m)
                        new f({
                            el: this.$("#ascentStatsView"),
                            model: this.model
                        }).render();
                    if (C)
                        new w({
                            el: this.$("#timingStatsYogaPlaceholder"),
                            model: this.model
                        }).render(),
                        (V = new M.a({
                            el: this.$("#workoutDetailsStatsPlaceholder"),
                            model: this.model,
                            repCountingActivity: this.repCountingActivity,
                            isYogaActivity: C
                        })).render();
                    else if (_) {
                        new k({
                            el: this.$("#timingStatsFloorClimbingPlaceholder"),
                            model: this.model
                        }).render()
                    } else if (m) {
                        new z({
                            el: this.$("#timingStatsIndoorClimbPlaceholder"),
                            model: this.model.toJSON()
                        }).render()
                    } else if (x)
                        this.renderDivingStatsViews(e);
                    else if (n || s || o) {
                        var R = new b.a({
                            el: this.$("#timingStatsRepCountingPlaceholder"),
                            model: this.model.toJSON(),
                            repCountingActivity: this.repCountingActivity,
                            splits: this.splits,
                            isPilatesActivity: s
                        })
                          , V = new M.a({
                            el: this.$("#workoutDetailsStatsPlaceholder"),
                            model: this.model,
                            repCountingActivity: this.repCountingActivity,
                            isPilatesActivity: s
                        });
                        R.render(),
                        V.render()
                    } else if (g || E) {
                        new B({
                            el: this.$("#timingStatsBreathworkPlaceholder"),
                            model: this.model
                        }).render()
                    } else {
                        var j = new v.a({
                            el: this.$("#timingStatsPlaceholder"),
                            model: this.model
                        });
                        this.listenTo(j, v.a.Events.SpeedPaceToggled, this.onSpeedPageToggled),
                        j.render()
                    }
                    if (T)
                        new be({
                            el: this.$("#speedStatsSurfingPlaceholder"),
                            model: this.model
                        }).render();
                    if (a)
                        new Ze({
                            el: this.$("#stressStatsPlaceholder"),
                            model: this.model,
                            isEsportActivity: E
                        }).render();
                    if (this.canDisplayVectorAirInfo && this.hasVectorAirCdAData() && this.$("#vectorAirMeasurementPlaceholder").html(new q({
                        model: L
                    }).render().el),
                    this.hasIntensityIntervals())
                        new Te({
                            el: this.$("#workoutIntervalsStatsPlaceholder"),
                            model: this.splitSummaries,
                            activity: this.model,
                            activityTypes: this.activityTypes
                        }).render();
                    if (this.renderStatsBasedOnActivityType(),
                    G.a.renderTooltips.call(this),
                    this.shouldDisplayExecutionMetrics())
                        (ct[L.summaryDTO.perceivedWorkoutEffort] || null) && L.summaryDTO.atpPlanId || (this.displaySelfEvaluation(),
                        this.hasWorkoutExecutionScore && this.hasWorkoutExecutionScore > 0 && this.displayExecutionScore())
                } catch (U) {
                    console && console.log(U)
                }
            },
            renderStatsBasedOnActivityType: function() {
                var e = this.$(".span3:first-child")
                  , t = this.$(".span3:nth-child(2)")
                  , i = this.$(".span3:nth-child(4)");
                if (this.isBreathworkActivity() && (this.$(".respiration-block").prependTo(t),
                this.$("#heartRateStatsPlaceholder").prependTo(i)),
                this.isEsportActivity()) {
                    var a = this.$(".span3:nth-child(3)");
                    this.$("#heartRateStatsPlaceholder").prependTo(t),
                    this.$("#stressStatsPlaceholder").appendTo(a)
                }
                this.isYogaActivity() && (this.$("#stressStatsPlaceholder").appendTo(e),
                this.$("#workoutDetailsStatsPlaceholder").prependTo(i),
                this.$(".respiration-block").appendTo(t))
            },
            renderConnectIQView: function(e) {
                if (this.model) {
                    var t, i = this.model.get("connectIQMeasurements");
                    i && (t = e.getVisibleAndSortedCollection(i, e.VisibilityArea.stats)) && !r.a.isEmpty(t) && this.$("#connectIQMeasurementPlaceholder").html(new Y({
                        collection: t,
                        connectIQPresentationUtil: e
                    }).render().el)
                }
            },
            hasStrokesData: function() {
                return this.model.hasStrokeData()
            },
            hasStressData: function() {
                return !!(this.isBreathworkActivity() || this.isYogaActivity() || this.isEsportActivity()) && (this.model.has("startStress") || this.model.has("endStress") || this.model.has("differenceStress") || this.model.has("avgStress"))
            },
            isStrengthTrainingActivity: function() {
                return d.h.isStrengthTrainingActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isHiitActivity: function() {
                return d.h.isHiitActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isYogaActivity: function() {
                return this.model.get("activityTypeDTO").typeKey === Ke.a.Yoga
            },
            isBackCountrySkiActivity: function() {
                return d.h.isBackcountrySkiActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isCrossCountrySkiActivity: function() {
                return d.h.isCrosscountrySkiActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isSkateSkiActivity: function() {
                return d.h.isSkateSkiActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isFloorClimbingActivity: function() {
                return this.model.isFloorClimbing()
            },
            isDivingActivity: function() {
                return d.h.isDivingActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isBreathworkActivity: function() {
                return d.h.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isEsportActivity: function() {
                return d.h.isEsportActivity(this.model.get("activityTypeDTO").typeKey)
            },
            onSpeedPageToggled: function(e, t) {
                this.trigger(lt.SpeedPaceToggled, e, t)
            },
            setAndApplyWeight: function(e) {
                this.usersWeight && this.usersWeight === e || (this.usersWeight = e,
                this.powerStatsView && "function" === typeof this.powerStatsView.setAndApplyWeight && this.powerStatsView.setAndApplyWeight(e))
            },
            showDistanceData: function() {
                var e = this.model.get("activityTypeDTO").typeKey;
                return "strength_training" !== e && "pilates" !== e && "yoga" !== e && "floor_climbing" !== e && !this.isDivingActivity() && !this.isBreathworkActivity() && !this.isEsportActivity()
            },
            showRespirationRateData: function() {
                return !(!this.isBreathworkActivity() && !this.isYogaActivity()) || (this.model.has("avgRespirationRate") || this.model.has("maxRespirationRate") || this.model.has("minRespirationRate"))
            },
            filterRespirationRateData: function() {
                if (this.model.get("metadataDTO").manualActivity) {
                    if (this.isBreathworkActivity())
                        return {
                            minRespirationRate: !1,
                            maxRespirationRate: !1
                        };
                    if (this.isYogaActivity())
                        return {
                            minRespirationRate: !1,
                            maxRespirationRate: !0
                        }
                }
                return {
                    minRespirationRate: !0,
                    maxRespirationRate: !0
                }
            },
            hasTrainingEffectData: function() {
                return this.model.has("trainingEffect") || this.model.has("anaerobicTrainingEffect")
            },
            renderDivingStatsViews: function(e) {
                var t = this.model.get("diveInfo")
                  , i = this.model.toJSON();
                (new S({
                    el: this.$("#divingConservatismStatsPlaceholder"),
                    statsLabel: l.a.localize("dive_conservatism_label"),
                    stats: [{
                        data: i.diveInfo && i.diveInfo.diveSettings ? c.a.personalizeDiveConservatism(i.diveInfo.diveSettings.gfLow, i.diveInfo.diveSettings.gfHigh, l.a) : null,
                        dataLabel: l.a.localize("dive_conservatism_label")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingDepthStatsPlaceholder"),
                    statsLabel: l.a.localize("depth_label"),
                    stats: [{
                        data: i.averageDepth ? c.a.personalizeDepth(i.averageDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("avg_depth_abbr")
                    }, {
                        data: i.maxDepth ? c.a.personalizeDepth(i.maxDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("max_depth")
                    }]
                }).render(),
                d.h.isApneaDiving(i.activityTypeDTO.typeKey)) ? new S({
                    el: this.$("#sessionTotalsStatsPlaceholder"),
                    statsLabel: l.a.localize("session_totals"),
                    stats: [{
                        data: i.bottomTime ? c.a.personalizeDuration(i.bottomTime, !1) : null,
                        dataLabel: l.a.localize("session_bottom_time")
                    }, {
                        data: i.diveInfo ? c.a.personalizeDuration(i.diveInfo.totalSurfaceTime, !1) : null,
                        dataLabel: l.a.localize("total_surface_interval")
                    }]
                }).render() : new S({
                    el: this.$("#divingBottomTimeStatsPlaceholder"),
                    statsLabel: l.a.localize("bottom_time"),
                    stats: [{
                        data: i.bottomTime ? c.a.personalizeDuration(i.bottomTime, !1) : null,
                        dataLabel: l.a.localize("this_dive")
                    }, {
                        data: e ? c.a.personalizeDuration(this.aggregateActivityMetricStats.getTotalBottomTimeInSeconds() + this.userSettings.getExternalBottomTime()) : null,
                        dataLabel: l.a.localize("total_bottom_time"),
                        tooltipHelpIconMessage: l.a.localize("edit_bottom_time_in_settings")
                    }]
                }).render();
                d.h.isCcrDiving(i.activityTypeDTO.typeKey) && new S({
                    el: this.$("#divingSetPointStatsPlaceholder"),
                    statsLabel: l.a.localize("dive_po2_setpoints"),
                    stats: [{
                        data: t.diveSettings.ccrLowSetpoint ? t.diveSettings.ccrLowSetpoint : null,
                        dataUnit: c.a.personalizePressureUnit({
                            unitKey: "bar"
                        }, l.a),
                        dataLabel: l.a.localize("dive_setpoint_low")
                    }, {
                        data: t.diveSettings.ccrLowSetpointDepth ? c.a.personalizeDepth(t.diveSettings.ccrLowSetpointDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("dive_po2_low_depth")
                    }, {
                        data: t.diveSettings.ccrHighSetpoint ? t.diveSettings.ccrHighSetpoint : null,
                        dataUnit: c.a.personalizePressureUnit({
                            unitKey: "bar"
                        }, l.a),
                        dataLabel: l.a.localize("dive_setpoint_high")
                    }, {
                        data: t.diveSettings.ccrHighSetpointDepth ? c.a.personalizeDepth(t.diveSettings.ccrHighSetpointDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("dive_po2_high_depth")
                    }]
                }).render();
                new S({
                    el: this.$("#divingN2LoadingStatsPlaceholder"),
                    statsLabel: l.a.localize("n2_loading_label"),
                    stats: [{
                        data: i.startN2 ? i.startN2 + "%" : null,
                        dataLabel: l.a.localize("loading_entering")
                    }, {
                        data: i.endN2 ? i.endN2 + "%" : null,
                        dataLabel: l.a.localize("loading_leaving")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingCnsLoadingStatsPlaceholder"),
                    statsLabel: l.a.localize("cns_loading_label"),
                    stats: [{
                        data: i.startCns ? i.startCns + "%" : null,
                        dataLabel: l.a.localize("loading_entering")
                    }, {
                        data: i.endCns ? i.endCns + "%" : null,
                        dataLabel: l.a.localize("loading_leaving")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingConditionsPlaceholder"),
                    statsLabel: l.a.localize("diving_conditions_label"),
                    stats: [{
                        data: i.maxElevation ? c.a.personalizeElevation(i.maxElevation) : null,
                        dataUnit: l.a.localize(c.a.getElevationUnitKey()),
                        dataLabel: l.a.localize("label.elevation")
                    }, {
                        data: t && t.entryType ? t.entryType : null,
                        dataLabel: l.a.localize("entry_type")
                    }, {
                        data: t && t.diveSettings && null !== t.diveSettings.waterType ? c.a.personalizeDiveWaterType(t.diveSettings.waterType, t.diveSettings.waterDensity, l.a) : null,
                        dataLabel: l.a.localize("water_type")
                    }, {
                        data: t && t.current ? t.current : null,
                        dataLabel: l.a.localize("water_current")
                    }, {
                        data: t && t.surfaceCondition ? t.surfaceCondition : null,
                        dataLabel: l.a.localize("surface_condition")
                    }, {
                        data: t && t.visibility ? c.a.personalizeVisibility(t.visibility) : null,
                        dataUnit: c.a.personalizeVisibilityUnit(t.visibilityUnit, l.a),
                        dataLabel: l.a.localize("dive_visibility")
                    }]
                }).render(),
                new S({
                    el: this.$("#waterTemperaturePlaceholder"),
                    statsLabel: l.a.localize("label_water_temperature"),
                    stats: [{
                        data: i.averageTemperature ? c.a.personalizeTemperature(i.averageTemperature) : null,
                        dataUnit: l.a.localize(c.a.getTemperatureUnitKey()),
                        dataLabel: l.a.localize("avg_water_temperature")
                    }, {
                        data: i.minTemperature ? c.a.personalizeTemperature(i.minTemperature) : null,
                        dataUnit: l.a.localize(c.a.getTemperatureUnitKey()),
                        dataLabel: l.a.localize("min_water_temperature")
                    }, {
                        data: i.maxTemperature ? c.a.personalizeTemperature(i.maxTemperature) : null,
                        dataUnit: l.a.localize(c.a.getTemperatureUnitKey()),
                        dataLabel: l.a.localize("max_water_temperature")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingWeightPlaceholder"),
                    statsLabel: l.a.localize("dive_weight"),
                    stats: [{
                        data: t && t.weight ? c.a.personalizeDiveWeight(t.weight) : null,
                        dataUnit: c.a.personalizeDiveWeightUnit(t.weightUnit, l.a),
                        dataLabel: l.a.localize("dive_weight")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingExposureSuitPlaceholder"),
                    statsLabel: l.a.localize("exposure_suit"),
                    stats: [{
                        data: t ? t.exposureSuit : null,
                        dataLabel: l.a.localize("suit_type_short")
                    }, {
                        data: t && t.suitThickness ? c.a.personalizeSuitThickness(t.suitThickness) : null,
                        dataUnit: l.a.localize("millimeter_unit"),
                        dataLabel: l.a.localize("suit_thickness_short")
                    }]
                }).render()
            },
            hasVectorAirCdAData: function() {
                return this.model.hasVectorAirCdAData()
            },
            hasIntensityIntervals: function() {
                return this.model.get("metadataDTO").hasIntensityIntervals
            },
            hasCalories: function() {
                return !this.isBreathworkActivity() && !this.isEsportActivity() && (!!this.model.has("calories") || !!this.model.has("caloriesEstimated"))
            },
            onClickAvgCadenceHelp: function(e) {
                if (e.preventDefault(),
                this.isCrossCountrySkiActivity() || this.isSkateSkiActivity()) {
                    var t = new je({});
                    new J.a({
                        view: t,
                        showFooter: !1,
                        modalTitle: l.a.localize("help.title")
                    }).render()
                }
            },
            onClickAvgStrideLengthHelp: function(e) {
                if (e.preventDefault(),
                this.isCrossCountrySkiActivity() || this.isSkateSkiActivity()) {
                    var t = new Ge({});
                    new J.a({
                        view: t,
                        showFooter: !1,
                        modalTitle: l.a.localize("help.title")
                    }).render()
                }
            },
            getAvgCadenceHelpTooltipText: function(e) {
                if (this.isCrossCountrySkiActivity() || this.isSkateSkiActivity())
                    return l.a.localize("label.click.for.detail.tooltip");
                var t = l.a.localize(c.a.getAvgCadenceTypeLabelKey(e.activityTypeDTO.typeKey));
                return "".concat(l.a.localize("help.running.dynamics.avg.cadence.label"), " ").concat(l.a.localize("help_running_dynamics_not_including_zeros_standing", t))
            },
            getAvgStrideLengthHelpTooltipText: function() {
                return this.isCrossCountrySkiActivity() || this.isSkateSkiActivity() ? l.a.localize("label.click.for.detail.tooltip") : "".concat(l.a.localize("help.running.dynamics.stride.length.tooltip"), " ").concat(l.a.localize("help_running_dynamics_not_including_zeros_standing", l.a.localize("label_avg_stride_length")))
            },
            displaySelfEvaluation: function() {
                (new Ee.a).renderComponent(st, this.$("#selfEvaluation")[0], {
                    feel: this.model.get("directWorkoutFeel"),
                    rpe: this.model.get("directWorkoutRpe")
                })
            },
            displayExecutionScore: function() {
                (new Ee.a).renderComponent(a.a, this.$("#executionScoreInfo")[0], {
                    score: this.hasWorkoutExecutionScore,
                    isInStatsSection: !0
                })
            },
            shouldDisplayExecutionMetrics: function() {
                return Number.isFinite(this.model.get("directWorkoutFeel")) || Number.isFinite(this.model.get("directWorkoutRpe"))
            }
        });
        ht.Events = lt;
        t.a = ht
    },
    5341: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(2667)
          , c = i.n(l)
          , h = o.a.View.extend({
            template: n.a.template(c.a),
            initialize: function(e) {
                return this.accessory = e.accessory,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    accessory: this.accessory,
                    Localizer: s.a
                })),
                this
            }
        })
          , p = i(4665)
          , d = i.n(p)
          , u = o.a.View.extend({
            template: n.a.template(d.a),
            className: "text-center",
            initialize: function(e) {
                return this.status = e.status,
                this.icon = e.icon,
                this.customClasses = e.customClasses,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    status: this.status,
                    icon: this.icon
                })),
                this.customClasses && this.$el.addClass(this.customClasses),
                this
            }
        })
          , g = o.a.View.extend({
            template: n.a.template(c.a),
            initialize: function(e) {
                if (!e.accessory)
                    throw "accessory is required";
                this.accessory = e.accessory;
                var t = this.accessory.batteryStatusTypes[this.accessory.batteryInfo.batteryStatus];
                return t || (t = this.accessory.batteryStatusTypes.UNKNOWN),
                this.accessory.status = t.prefix ? s.a.localize(t.prefix) + ": " + s.a.localize(t.status) : s.a.localize(t.status),
                this.accessory.icon = t.icon,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    accessory: {
                        name: this.accessory.batteryInfo.name,
                        imageUrl: this.accessory.batteryInfo.imageUrl,
                        softwareVersion: this.accessory.batteryInfo.softwareVersion
                    }
                })),
                this.$el.append(new u({
                    status: this.accessory.status,
                    icon: this.accessory.icon
                }).render().el),
                this
            }
        })
          , m = i(4666)
          , f = i.n(m);
        t.a = o.a.View.extend({
            template: n.a.template(f.a),
            initialize: function(e) {
                return this.accessories = e.accessories,
                this
            },
            render: function() {
                if (this.$el.html(this.template({})),
                this.accessories)
                    for (var e, t = 0, i = this.accessories.length; t < i; t += 1)
                        this.accessories[t] && (e = new (this.accessories[t].batteryInfo ? g : h)({
                            accessory: this.accessories[t]
                        }),
                        this.$el.append(e.render().el));
                else
                    this.$el.empty();
                return this
            },
            updateAccessories: function(e) {
                this.accessories = e
            }
        })
    },
    5342: function(e, t, i) {
        "use strict";
        var a = i(436)
          , n = i(437)
          , r = i(81)
          , o = i(80)
          , s = i(82)
          , l = i(10)
          , c = i.n(l)
          , h = i(1310)
          , p = i(11)
          , d = i(199)
          , u = i(1317)
          , g = i.n(u)
          , m = i(89)
          , f = i(2377)
          , y = i.n(f)
          , v = i(21)
          , b = {
            0: v.color_306,
            1: v.color_308,
            2: v.color_309,
            3: v.color_614,
            4: v.color_615,
            5: v.color_502,
            6: v.color_414,
            7: v.color_415,
            8: v.color_416
        }
          , A = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(o.a)(t).apply(this, arguments))
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    this.updateCanvas()
                }
            }, {
                key: "updateCanvas",
                value: function() {
                    var e = this.refs.canvas.getContext("2d")
                      , t = e.createLinearGradient(0, 0, 60, 7);
                    t.addColorStop(0, b[0]),
                    t.addColorStop(.1, b[0]),
                    t.addColorStop(.1, b[1]),
                    t.addColorStop(.2, b[1]),
                    t.addColorStop(.2, b[2]),
                    t.addColorStop(.3, b[2]),
                    t.addColorStop(.3, b[3]),
                    t.addColorStop(.4, b[3]),
                    t.addColorStop(.4, b[4]),
                    t.addColorStop(.6, b[4]),
                    t.addColorStop(.6, b[5]),
                    t.addColorStop(.7, b[5]),
                    t.addColorStop(.7, b[6]),
                    t.addColorStop(.8, b[6]),
                    t.addColorStop(.8, b[7]),
                    t.addColorStop(.9, b[7]),
                    t.addColorStop(.9, b[8]),
                    t.addColorStop(1, b[8]),
                    e.fillStyle = t,
                    e.fillRect(0, 0, 60, 7)
                }
            }, {
                key: "render",
                value: function() {
                    return c.a.createElement("div", {
                        className: y.a.legendContainer
                    }, c.a.createElement("span", {
                        className: y.a.legendLabel
                    }, c.a.createElement(m.a, {
                        ns: "pacepro",
                        content: "pacepro_slower_label"
                    })), c.a.createElement("canvas", {
                        ref: "canvas",
                        width: 60,
                        height: 7
                    }), c.a.createElement("span", {
                        className: y.a.legendLabel
                    }, c.a.createElement(m.a, {
                        ns: "pacepro",
                        content: "pacepro_faster_label"
                    })))
                }
            }]),
            t
        }(c.a.Component)
          , C = i(66)
          , w = i(194)
          , _ = i(40)
          , x = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(o.a)(t).apply(this, arguments))
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props.lap
                      , t = e.lapIndex
                      , i = e.duration
                      , a = e.averageSpeed
                      , n = e.maxSpeed;
                    return c.a.createElement("div", null, c.a.createElement("div", null, c.a.createElement("span", null, Object(_.b)("activity:auto_racing_lap_label"), ": "), c.a.createElement("span", {
                        className: y.a.statValue
                    }, t)), c.a.createElement("div", null, c.a.createElement("span", null, Object(_.b)("activity:auto_racing_lap_time"), ": "), c.a.createElement("span", {
                        className: y.a.statValue
                    }, p.a.fromSecondsToDuration(i))), n ? c.a.createElement("div", null, c.a.createElement("span", null, Object(_.b)("units:label_max_speed"), ": "), c.a.createElement("span", {
                        className: y.a.statValue
                    }, p.a.personalizeSpeed(n), " ", Object(_.b)("units:".concat(p.a.getSpeedUnitKey())))) : null, a ? c.a.createElement("div", null, c.a.createElement("span", null, Object(_.b)("units:label_avg_speed"), ": "), c.a.createElement("span", {
                        className: y.a.statValue
                    }, p.a.personalizeSpeed(a), " ", Object(_.b)("units:".concat(p.a.getSpeedUnitKey())))) : null)
                }
            }]),
            t
        }(c.a.Component)
          , S = function(e) {
            function t() {
                var e;
                return Object(a.a)(this, t),
                (e = Object(r.a)(this, Object(o.a)(t).call(this))).state = {
                    showModal: !1,
                    chartDataReady: !1
                },
                e
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    this.setState({
                        chartDataReady: !0
                    }),
                    this.lapsForChart = this.convertLapDataToChartObject(),
                    this.chart.reflow(),
                    this.renderPlotLineLabel()
                }
            }, {
                key: "componentDidUpdate",
                value: function() {
                    this.chart.reflow(),
                    this.avgRect.destroy(),
                    this.avgText.destroy(),
                    this.renderPlotLineLabel()
                }
            }, {
                key: "convertLapDataToChartObject",
                value: function() {
                    for (var e = this.props.lapDTOs, t = [], i = 0; i < e.length; i++) {
                        for (var a = e[i], n = 0; n < 100; n++)
                            t.push([i + n / 100, a.duration]);
                        t.push([i + 1, a.duration])
                    }
                    return t
                }
            }, {
                key: "renderPlotLineLabel",
                value: function() {
                    var e = _.a.t("activity:auto_racing_avg_lap_time_label", {
                        0: p.a.fromSecondsToDuration(this.avgLapTime())
                    })
                      , t = this.chart.plotWidth - 160 + 18 - 20
                      , i = this.chart.plotTop + 150 + 9 - 15;
                    this.avgText = this.chart.renderer.label(e, t, i).attr({
                        zIndex: 5
                    }).css({
                        color: v.color_131,
                        zIndex: 999,
                        opacity: .85
                    }).add();
                    var a = this.avgText.getBBox();
                    this.avgRect = this.chart.renderer.rect(t - 2, i, a.width + 4, a.height, 0).attr({
                        fill: v.color_503,
                        "stroke-width": 0,
                        zIndex: 4,
                        opacity: .7
                    }).add()
                }
            }, {
                key: "render",
                value: function() {
                    var e = this
                      , t = this.getChartConfig(225)
                      , i = this.getChartConfig(500);
                    return c.a.createElement(d.a, this.props, c.a.createElement("div", {
                        className: y.a.componentContainer
                    }, c.a.createElement(C.Flexbox, {
                        container: !0,
                        between: !0
                    }, c.a.createElement(C.Flexbox, {
                        xs: 5,
                        sm: 6,
                        md: 7,
                        lg: 8,
                        collapse: !0
                    }, c.a.createElement("div", null, c.a.createElement("span", {
                        className: y.a.lapTimeTitle
                    }, c.a.createElement(m.a, {
                        ns: "activity",
                        content: "auto_racing_lap_time"
                    })))), c.a.createElement(C.Flexbox, {
                        xs: 6,
                        sm: 5,
                        md: 4,
                        lg: 3,
                        collapse: !0
                    }, c.a.createElement(A, null)), c.a.createElement(C.Flexbox, {
                        xs: 1,
                        sm: 1,
                        md: 1,
                        lg: 1,
                        collapse: !0
                    }, c.a.createElement("div", {
                        className: y.a.button
                    }, c.a.createElement(C.ButtonIcon, {
                        ariaLabel: _.a.t("activity:full_screen"),
                        icon: "icon-full-screen",
                        onClick: function() {
                            e.setState({
                                showModal: !0
                            })
                        }
                    })))), c.a.createElement("div", null, c.a.createElement(h.a, {
                        config: t,
                        callback: function(t) {
                            return e.chart = t
                        }
                    })), c.a.createElement(C.Dialog, {
                        open: this.state.showModal,
                        onClose: function() {
                            e.setState({
                                showModal: !1
                            })
                        },
                        width: "fill"
                    }, c.a.createElement(C.DialogTitle, null, c.a.createElement(m.a, {
                        ns: "activity",
                        content: "auto_racing_lap_time"
                    })), c.a.createElement(C.DialogContent, null, c.a.createElement("div", {
                        className: y.a.modalChartContainer
                    }, c.a.createElement(h.a, {
                        config: i
                    })))), c.a.createElement("hr", null)))
                }
            }, {
                key: "determineColor",
                value: function() {
                    for (var e = this.props.lapDTOs, t = 0; t < e.length - 1; t++) {
                        var i = e[t]
                          , a = e[t + 1];
                        if (i.duration !== a.duration)
                            return {
                                linearGradient: {
                                    x1: 0,
                                    x2: 0,
                                    y1: 0,
                                    y2: 1
                                },
                                stops: [[0, b[0]], [.1, b[0]], [.1, b[1]], [.2, b[1]], [.2, b[2]], [.3, b[2]], [.3, b[3]], [.4, b[3]], [.4, b[4]], [.6, b[4]], [.6, b[5]], [.7, b[5]], [.7, b[6]], [.8, b[6]], [.8, b[7]], [.9, b[7]], [.9, b[8]], [1, b[8]]]
                            }
                    }
                    return b[4]
                }
            }, {
                key: "avgLapTime",
                value: function() {
                    var e = this.props.lapDTOs
                      , t = 0;
                    return e.forEach(function(e) {
                        t += e.duration
                    }),
                    t / e.length
                }
            }, {
                key: "getPlotLines",
                value: function(e, t) {
                    return e.linearGradient ? [{
                        color: v.color_102,
                        width: "2",
                        value: t,
                        dashStyle: "dash",
                        zIndex: 4
                    }] : []
                }
            }, {
                key: "getChartConfig",
                value: function(e) {
                    var t = this.props.lapDTOs
                      , i = this.avgLapTime()
                      , a = _.a.t("activity:auto_racing_lap_time_chart_y_label")
                      , n = this.determineColor()
                      , r = this.getPlotLines(n, i)
                      , o = t.map(function(e) {
                        return e.lapIndex
                    })
                      , s = t.map(function() {
                        return i
                    });
                    return {
                        chart: {
                            type: "line",
                            height: e,
                            reflow: !0
                        },
                        title: {
                            text: null
                        },
                        subtitle: {
                            text: null
                        },
                        xAxis: [{
                            id: "primary",
                            tickInterval: 1,
                            endOnTick: !0,
                            alignTicks: !1,
                            floor: 0,
                            ceiling: t.length,
                            visible: !1
                        }, {
                            id: "categories",
                            categories: o,
                            showEmpty: !0
                        }],
                        yAxis: [{
                            title: {
                                text: a
                            },
                            plotLines: r,
                            labels: {
                                formatter: function() {
                                    return p.a.personalizeDuration(this.value)
                                }
                            }
                        }],
                        tooltip: {
                            formatter: function() {
                                var e = Math.floor(this.x);
                                e = Math.min(e, t.length - 1);
                                var i = t[e];
                                return g.a.renderToString(c.a.createElement(x, {
                                    lap: i
                                }))
                            },
                            borderColor: "#000",
                            useHTML: !0
                        },
                        plotOptions: {
                            line: {
                                marker: {
                                    enabled: !1,
                                    states: {
                                        hover: {
                                            enabled: !1
                                        }
                                    }
                                }
                            }
                        },
                        series: [{
                            type: "line",
                            data: this.lapsForChart,
                            color: n,
                            xAxis: "primary"
                        }, {
                            data: s,
                            xAxis: "categories",
                            enableMouseTracking: !1,
                            lineWidth: 0
                        }],
                        legend: {
                            enabled: !1
                        },
                        exporting: {
                            enabled: !1
                        },
                        credits: {
                            enabled: !1
                        }
                    }
                }
            }]),
            t
        }(c.a.Component);
        t.a = Object(w.d)(["units", "activity"])(S)
    },
    5343: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(442)
          , l = i(436)
          , c = i(437)
          , h = i(81)
          , p = i(80)
          , d = i(82)
          , u = i(10)
          , g = i.n(u)
          , m = i(66)
          , f = i(11)
          , y = i(89)
          , v = i(2657)
          , b = i(57)
          , A = i(2665)
          , C = i.n(A)
          , w = i(322)
          , _ = function() {
            function e(t, i, a, n) {
                Object(l.a)(this, e),
                this.activitySplits = t,
                this.activitySummary = i,
                this.activityTypeKey = a,
                this.indoorClimbDifficulty = n
            }
            return Object(c.a)(e, [{
                key: "getSurfSplits",
                value: function() {
                    var e, t = [], i = [], a = new v.a(this.activityTypeKey);
                    return t.push(a.getWaveHeader(!0), a.getDurationHeader(!0), a.getDistanceHeader(!0), a.getMaxSpeedHeader(!0), a.getAvgSpeedHeader(!0)),
                    e = this.activitySplits.map(function(e, t) {
                        return {
                            index: {
                                value: t + 1,
                                sortValue: 1
                            },
                            duration: {
                                value: f.a.personalizeDuration(e.duration),
                                sortValue: f.a.personalizeDuration(e.duration)
                            },
                            distance: {
                                value: 0 === e.distance || "undefined" === typeof e.distance ? "--" : f.a.personalizeWaveDistance(e.distance),
                                sortValue: f.a.personalizeWaveDistance(e.distance)
                            },
                            maxSpeed: {
                                value: 0 === e.maxSpeed || "undefined" === typeof e.maxSpeed ? "--" : f.a.personalizeSpeed(e.maxSpeed),
                                sortValue: e.maxSpeed ? e.maxSpeed : 0
                            },
                            averageSpeed: {
                                value: 0 === e.averageSpeed || "undefined" === typeof e.averageSpeed ? "--" : f.a.personalizeSpeed(e.averageSpeed),
                                sortValue: e.averageSpeed
                            }
                        }
                    }),
                    i.push({
                        key: "index",
                        value: g.a.createElement(y.a, {
                            ns: "common",
                            content: "label_summary"
                        })
                    }, {
                        key: "duration",
                        value: f.a.personalizeDuration(this.activitySummary.splitSummaries[0].duration)
                    }, {
                        key: "distance",
                        value: f.a.personalizeWaveDistance(this.activitySummary.splitSummaries[0].distance)
                    }, {
                        key: "maxSpeed",
                        value: f.a.personalizeSpeed(this.activitySummary.splitSummaries[0].maxSpeed)
                    }, {
                        key: "averageSpeed",
                        value: f.a.personalizeSpeed(this.activitySummary.splitSummaries[0].averageSpeed)
                    }),
                    {
                        headers: t,
                        data: e,
                        footer: i
                    }
                }
            }, {
                key: "getBackCountrySplits",
                value: function() {
                    var e, t, i, a = [], n = [], r = 0, o = !1, s = new v.a(this.activityTypeKey);
                    return a.push(s.getSplitsHeader(!0), s.getDurationHeader(!0), s.getDistanceHeader(!0), s.getElevationGainHeader(!0), s.getElevationLossHeader(!0), s.getAvgSpeedHeader(!0), s.getMaxSpeedHeader(!0), s.getAvgHRHeader(!0), s.getMaxHRHeader(!0), s.getCumulativeTimeHeader(!0), s.getMovingTimeHeader(!0), s.getCaloriesHeader(!0)),
                    e = this.activitySplits.map(function(e, a) {
                        return t = r + e.duration,
                        r = t,
                        o = "ASCENT_SPLIT" === e.type || "DESCENT_SPLIT" === e.type,
                        i = "ASCENT_SPLIT" === e.type ? C.a.ascent : C.a.descent,
                        {
                            index: {
                                value: o ? g.a.createElement("div", null, a + 1, g.a.createElement("span", {
                                    className: i
                                })) : a + 1,
                                sortValue: 1
                            },
                            duration: {
                                value: f.a.personalizeDuration(e.duration),
                                sortValue: f.a.personalizeDuration(e.duration)
                            },
                            distance: {
                                value: f.a.personalizeDistance(e.distance),
                                sortValue: f.a.personalizeDistance(e.distance)
                            },
                            elevationGain: {
                                value: e.elevationGain ? f.a.personalizeElevation(e.elevationGain) : "--",
                                sortValue: e.elevationGain
                            },
                            elevationLoss: {
                                value: e.elevationLoss ? f.a.personalizeElevation(e.elevationLoss) : "--",
                                sortValue: e.elevationLoss
                            },
                            averageSpeed: {
                                value: f.a.personalizeSpeed(e.averageSpeed),
                                sortValue: f.a.personalizeSpeed(e.averageSpeed)
                            },
                            maxSpeed: {
                                value: f.a.personalizeSpeed(e.maxSpeed),
                                sortValue: e.maxSpeed
                            },
                            averageHR: {
                                value: f.a.personalizeHeartRate(e.averageHR),
                                sortValue: e.averageHR
                            },
                            maxHR: {
                                value: f.a.personalizeHeartRate(e.maxHR),
                                sortValue: f.a.personalizeHeartRate(e.maxHR)
                            },
                            cumDuration: {
                                value: f.a.personalizeDuration(t),
                                sortValue: t
                            },
                            movingDuration: {
                                value: f.a.personalizeDuration(e.movingDuration),
                                sortValue: f.a.personalizeDuration(e.movingDuration)
                            },
                            calories: {
                                value: f.a.formatWholeNumber(e.calories),
                                sortValue: f.a.formatWholeNumber(e.calories)
                            }
                        }
                    }),
                    n.push({
                        key: "index",
                        value: g.a.createElement(y.a, {
                            ns: "common",
                            content: "label_summary"
                        })
                    }, {
                        key: "duration",
                        value: f.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "distance",
                        value: f.a.personalizeDistance(this.activitySummary.distance)
                    }, {
                        key: "elevationGain",
                        value: f.a.personalizeElevation(this.activitySummary.elevationGain)
                    }, {
                        key: "elevationLoss",
                        value: f.a.personalizeElevation(this.activitySummary.elevationLoss)
                    }, {
                        key: "averageSpeed",
                        value: f.a.personalizeSpeed(this.activitySummary.averageSpeed)
                    }, {
                        key: "maxSpeed",
                        value: f.a.personalizeSpeed(this.activitySummary.maxSpeed)
                    }, {
                        key: "averageHR",
                        value: f.a.personalizeHeartRate(this.activitySummary.averageHR)
                    }, {
                        key: "maxHR",
                        value: f.a.personalizeHeartRate(this.activitySummary.maxHR)
                    }, {
                        key: "cumDuration",
                        value: f.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "movingDuration",
                        value: f.a.personalizeDuration(this.activitySummary.movingDuration)
                    }, {
                        key: "calories",
                        value: f.a.formatWholeNumber(this.activitySummary.calories)
                    }),
                    {
                        headers: a,
                        data: e,
                        footer: n
                    }
                }
            }, {
                key: "getIndoorClimbRoutes",
                value: function() {
                    var e = this
                      , t = []
                      , i = []
                      , a = {
                        CLIMB_COMPLETED: g.a.createElement(y.a, {
                            ns: "activity",
                            content: "climb_completed"
                        }),
                        CLIMB_ATTEMPTED: g.a.createElement(y.a, {
                            ns: "activity",
                            content: "climb_attempted"
                        }),
                        CLIMB_SEND: g.a.createElement(y.a, {
                            ns: "activity",
                            content: "climb_send"
                        })
                    }
                      , n = this.activitySplits.filter(function(e) {
                        return e.status !== a[e.status]
                    }).sort(function(e, t) {
                        return e.messageIndex - t.messageIndex
                    });
                    0 === n.length && (n = this.activitySplits);
                    var r = new v.a(this.activityTypeKey);
                    return t.push(r.getRoutesHeader(!0), r.getDifficultyHeader(!0), r.getFallsHeader(!0), r.getStatusHeader(!0), r.getDurationHeader(!0), r.getElevationGainHeader(!0), r.getAvgHRHeader(!0), r.getMaxHRHeader(!0), r.getCaloriesHeader(!0)),
                    i = n.map(function(t, i) {
                        var n = 0 !== t.numFalls ? a[t.status] : a.CLIMB_SEND;
                        return {
                            index: {
                                value: i + 1,
                                sortValue: 1
                            },
                            valueKey: {
                                value: t.gradeValue ? Object(w.c)(t.gradeValue.scale, t.gradeValue.valueKey, e.indoorClimbDifficulty) : "--",
                                sortValue: t.gradeValue && t.gradeValue.sortOrder
                            },
                            numFalls: {
                                value: t.numFalls ? f.a.formatWholeNumber(t.numFalls) : 0,
                                sortValue: f.a.formatWholeNumber(t.numFalls)
                            },
                            status: {
                                value: n || "--",
                                sortValue: "".concat(n)
                            },
                            duration: {
                                value: f.a.personalizeDuration(t.duration),
                                sortValue: f.a.personalizeDuration(t.duration)
                            },
                            elevationGain: {
                                value: t.elevationGain ? f.a.personalizeElevation(t.elevationGain) : "--",
                                sortValue: t.elevationGain
                            },
                            averageHR: {
                                value: f.a.personalizeHeartRate(t.averageHR),
                                sortValue: t.averageHR
                            },
                            maxHR: {
                                value: f.a.personalizeHeartRate(t.maxHR),
                                sortValue: f.a.personalizeHeartRate(t.maxHR)
                            },
                            calories: {
                                value: f.a.formatWholeNumber(t.calories),
                                sortValue: f.a.formatWholeNumber(t.calories)
                            }
                        }
                    }),
                    this.activityTypeKey === b.a.Bouldering && (t = t.filter(function(e) {
                        return "elevationGain" !== e.key && "numFalls" !== e.key
                    }),
                    i = i.filter(function(e) {
                        return delete e.elevationGain && delete e.numFalls
                    })),
                    {
                        headers: t,
                        data: i
                    }
                }
            }, {
                key: "getDefaultSplits",
                value: function() {
                    var e, t, i = [], a = [], n = 0, r = new v.a(this.activityTypeKey);
                    return i.push(r.getSplitsHeader(!0), r.getDurationHeader(!0), r.getCumulativeTimeHeader(!0), r.getMovingTimeHeader(!0), r.getDistanceHeader(!0), r.getAvgSpeedHeader(!0), r.getMaxSpeedHeader(!0), r.getAvgHRHeader(!0), r.getMaxHRHeader(!0), r.getMinTempHeader(!0), r.getMaxTempHeader(!0), r.getAvgTempHeader(!0), r.getCaloriesHeader(!0)),
                    e = this.activitySplits.map(function(e, i) {
                        return t = n + e.duration,
                        n = t,
                        {
                            index: {
                                value: i + 1,
                                sortValue: 1
                            },
                            duration: {
                                value: f.a.personalizeDuration(e.duration),
                                sortValue: f.a.personalizeDuration(e.duration)
                            },
                            cumDuration: {
                                value: f.a.personalizeDuration(t),
                                sortValue: t
                            },
                            movingDuration: {
                                value: f.a.personalizeDuration(e.movingDuration),
                                sortValue: f.a.personalizeDuration(e.movingDuration)
                            },
                            distance: {
                                value: f.a.personalizeDistance(e.distance),
                                sortValue: f.a.personalizeDistance(e.distance)
                            },
                            averageSpeed: {
                                value: f.a.personalizeSpeed(e.averageSpeed),
                                sortValue: f.a.personalizeSpeed(e.averageSpeed)
                            },
                            maxSpeed: {
                                value: f.a.personalizeSpeed(e.maxSpeed),
                                sortValue: f.a.personalizeSpeed(e.maxSpeed)
                            },
                            averageHR: {
                                value: f.a.personalizeHeartRate(e.averageHR),
                                sortValue: f.a.personalizeHeartRate(e.averageHR)
                            },
                            maxHR: {
                                value: f.a.personalizeHeartRate(e.maxHR),
                                sortValue: f.a.personalizeHeartRate(e.maxHR)
                            },
                            minTemperature: {
                                value: f.a.personalizeTemperature(e.minTemperature),
                                sortValue: f.a.personalizeTemperature(e.minTemperature)
                            },
                            maxTemperature: {
                                value: f.a.personalizeTemperature(e.maxTemperature),
                                sortValue: f.a.personalizeTemperature(e.maxTemperature)
                            },
                            averageTemperature: {
                                value: f.a.personalizeTemperature(e.averageTemperature),
                                sortValue: f.a.personalizeTemperature(e.averageTemperature)
                            },
                            calories: {
                                value: f.a.formatWholeNumber(e.calories),
                                sortValue: f.a.formatWholeNumber(e.calories)
                            }
                        }
                    }),
                    a.push({
                        key: "index",
                        value: g.a.createElement(y.a, {
                            ns: "common",
                            content: "label_summary"
                        })
                    }, {
                        key: "duration",
                        value: f.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "cumDuration",
                        value: f.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "movingDuration",
                        value: f.a.personalizeDuration(this.activitySummary.movingDuration)
                    }, {
                        key: "distance",
                        value: f.a.personalizeDistance(this.activitySummary.distance)
                    }, {
                        key: "averageSpeed",
                        value: f.a.personalizeSpeed(this.activitySummary.averageSpeed)
                    }, {
                        key: "maxSpeed",
                        value: f.a.personalizeSpeed(this.activitySummary.maxSpeed)
                    }, {
                        key: "averageHR",
                        value: f.a.personalizeHeartRate(this.activitySummary.averageHR)
                    }, {
                        key: "maxHR",
                        value: f.a.personalizeHeartRate(this.activitySummary.maxHR)
                    }, {
                        key: "minTemperature",
                        value: f.a.personalizeTemperature(this.activitySummary.minTemperature)
                    }, {
                        key: "maxTemperature",
                        value: f.a.personalizeTemperature(this.activitySummary.maxTemperature)
                    }, {
                        key: "averageTemperature",
                        value: f.a.personalizeTemperature(this.activitySummary.averageTemperature)
                    }, {
                        key: "calories",
                        value: f.a.formatWholeNumber(this.activitySummary.calories)
                    }),
                    {
                        headers: i,
                        data: e,
                        footer: a
                    }
                }
            }]),
            e
        }()
          , x = (i(42),
        function(e) {
            function t(e) {
                return Object(l.a)(this, t),
                Object(h.a)(this, Object(p.a)(t).call(this, e))
            }
            return Object(d.a)(t, e),
            Object(c.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.getActivitySplits();
                    return g.a.createElement("div", {
                        className: C.a.splitsTab
                    }, g.a.createElement(m.SortableTable, {
                        data: e.data,
                        columns: e.column,
                        footer: e.footer,
                        selector: !0
                    }))
                }
            }, {
                key: "getActivitySplits",
                value: function() {
                    var e = this.props;
                    return function(e, t, i, a) {
                        var n, r = new _(e,t,i,a);
                        switch (i) {
                        case "surfing":
                            return {
                                column: (n = r.getSurfSplits()).headers,
                                data: n.data,
                                footer: n.footer
                            };
                        case "backcountry_skiing_snowboarding_ws":
                            return {
                                column: (n = r.getBackCountrySplits()).headers,
                                data: n.data,
                                footer: n.footer
                            };
                        case "bouldering":
                        case "indoor_climbing":
                            return {
                                column: (n = r.getIndoorClimbRoutes()).headers,
                                data: n.data,
                                footer: n.footer
                            };
                        default:
                            return {
                                column: (n = r.getDefaultSplits()).headers,
                                data: n.data,
                                footer: n.footer
                            }
                        }
                    }(e.activitySplits, e.activitySummary, e.activityTypeKey, e.indoorClimbDifficulty)
                }
            }]),
            t
        }(g.a.Component))
          , S = i(4643)
          , T = i.n(S)
          , E = o.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(T.a),
                this.activityTypeKey = e.activityTypeKey,
                this.activitySummary = e.activitySummary,
                this.activitySplits = e.activitySplits,
                this.indoorClimbDifficulty = e.indoorClimbDifficulty
            },
            render: function() {
                this.$el.html(this.template()),
                this.view = new s.a,
                this.view.renderComponent(x, this.$(".react-activity-splits")[0], {
                    activityTypeKey: this.activityTypeKey,
                    activitySummary: this.activitySummary,
                    activitySplits: this.activitySplits,
                    indoorClimbDifficulty: this.indoorClimbDifficulty.toJSON()
                })
            }
        });
        t.a = E
    },
    5346: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(2653)
          , c = i(4551)
          , h = i(4552)
          , p = i(4557)
          , d = i.n(p)
          , u = {
            ADD_PHOTOS: "ADD_PHOTOS"
        }
          , g = o.a.View.extend({
            events: {
                "click .add-photos": "onClickAdd"
            },
            className: "photo-empty-state",
            template: n.a.template(d.a),
            initialize: function(e) {},
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a
                })),
                this
            },
            onClickAdd: function() {
                this.trigger(u.ADD_PHOTOS)
            },
            destroy: function() {
                this.off(),
                this.remove()
            }
        });
        g.Events = u;
        var m = g
          , f = i(4558)
          , y = i(4561)
          , v = i.n(y)
          , b = {
            CANCEL_UPLOAD: "CANCEL_UPLOAD"
        }
          , A = o.a.View.extend({
            events: {
                "click .notification-dismiss": "onClickDismissGrowl",
                "click .dismiss-growl": "onClickDismissGrowl",
                "click .dismiss-error-growl": "onClickDismissErrorGrowl",
                "click .cancel-upload": "onClickCancelUpload",
                "click .upload-error-dismiss": "onClickDismissFileErrors",
                "click .upload-error-expand": "onClickExpandFileErrors",
                "click .upload-error-minimize": "onClickMinimizeFileErrors"
            },
            initialize: function() {
                this.errorCount = 0,
                this.totalUploadCount = 0,
                this.currentPhoto = 0
            },
            render: function() {
                return this.$el.html(n.a.template(v.a)({
                    Localizer: s.a
                })),
                this
            },
            onDroppedExcessPhotos: function() {
                this.$(".photo-upload-error-growl").css("display", "block"),
                this.$(".photo-upload-error-growl").delay(4e3).fadeOut("slow")
            },
            onAddedPhoto: function() {
                "none" === this.$(".photo-upload-error-growl").css("display") && (0 === this.totalUploadCount && (this.$(".cancel-upload").css("display", "inline"),
                this.$(".dismiss-growl").css("display", "none"),
                this.$(".total-upload-progress").css("width", 0),
                this.currentPhoto = 1),
                this.totalUploadCount += 1,
                this.updateUploadText(!1, this.currentPhoto, this.totalUploadCount),
                this.$(".photo-upload-growl").stop(!0).css({
                    display: "block",
                    opacity: "1"
                }))
            },
            onUploadedPhoto: function() {
                this.currentPhoto += 1,
                this.onPhotoProcessed()
            },
            onUploadPhotoError: function() {
                this.errorCount += 1,
                1 === this.errorCount ? this.$(".upload-error-summary").html(s.a.localize("photos_upload_growl_file_error")) : this.$(".upload-error-summary").html(s.a.localize("photos_upload_growl_file_errors", this.errorCount)),
                this.$(".upload-error-section").css("display", "block"),
                this.onPhotoProcessed()
            },
            onPhotoProcessed: function() {
                this.currentPhoto + this.errorCount <= this.totalUploadCount ? this.updateUploadText(!1, this.currentPhoto, this.totalUploadCount) : this.onUploadComplete()
            },
            onUploadComplete: function() {
                this.updateUploadText(!0),
                this.$(".cancel-upload").css("display", "none"),
                this.$(".dismiss-growl").fadeIn(500).css("display", "inline"),
                "none" === this.$(".upload-error-section").css("display") && (this.$(".photo-upload-growl").delay(4e3).fadeOut("slow"),
                this.dismissFileErrors()),
                this.totalUploadCount = 0,
                this.currentPhoto = 0
            },
            onClickCancelUpload: function() {
                this.$(".upload-error-list").is(":empty") || this.trigger(b.CANCEL_UPLOAD),
                this.$(".photo-upload-growl").css("display", "none"),
                this.totalUploadCount = 0,
                this.dismissFileErrors()
            },
            onClickDismissGrowl: function() {
                this.$(".photo-upload-growl").css("display", "none"),
                this.totalUploadCount = 0,
                this.dismissFileErrors()
            },
            onClickDismissErrorGrowl: function() {
                this.$(".photo-upload-error-growl").css("display", "none"),
                this.totalUploadCount = 0
            },
            onClickDismissFileErrors: function() {
                this.dismissFileErrors()
            },
            onClickMinimizeFileErrors: function() {
                this.$(".upload-error-list").css("display", "none"),
                this.$(".upload-error-expand").css("display", "inline-block"),
                this.$(".upload-error-minimize").css("display", "none")
            },
            onClickExpandFileErrors: function() {
                this.$(".upload-error-list").fadeIn(300).css("display", "block"),
                this.$(".upload-error-expand").css("display", "none"),
                this.$(".upload-error-minimize").css("display", "inline-block")
            },
            updateProgressBar: function(e) {
                var t = this.$(".total-upload-progress")
                  , i = t.width() / t.parent().width() * 100;
                i < e && (i = e,
                t.css("width", i + "%"))
            },
            updateUploadText: function(e, t, i) {
                e ? this.$(".upload-text").html(s.a.localize("photos_upload_growl_upload_complete")) : this.$(".upload-text").html(s.a.localize("photos_upload_growl_uploading") + " " + t + "/" + i)
            },
            dismissFileErrors: function() {
                this.$(".upload-error-section").css("display", "none"),
                this.$(".upload-error-list").delay(1e3).empty(),
                this.errorCount = 0
            },
            destroy: function() {
                this.off(),
                this.remove()
            }
        });
        A.Events = b;
        var C = A
          , w = i(31)
          , _ = i(2654)
          , x = (i(186),
        i(4562))
          , S = i.n(x)
          , T = (i(4563),
        o.a.View.extend({
            template: n.a.template(S.a),
            initialize: function(e) {
                this.canManagePhotos = e.canManagePhotos,
                this.activityId = e.activityId,
                this.images = e.images,
                this.photoCarousel = null,
                this.photoUpload = null,
                this.photoUploadGrowl = null,
                this.uploadedPhotos = 0
            },
            render: function() {
                return this.$el.html(this.template({})),
                this.canManagePhotos ? (this.instantiateUploadGrowl(),
                this.instantiateDropzone()) : this.instantiatePhotoView(),
                this.images && this.images.length > 0 ? this.instantiateMainPhotoCarousel() : this.canManagePhotos && this.instantiateEmptyState(),
                this.photoCarousel && this.images.length >= 10 && this.photoCarousel.disableAddBtn(),
                this.hideShowEditBtn(),
                this
            },
            onDragPhotosIn: function(e) {
                this.photoUpload.onDragPhotosInPage(e)
            },
            onDragPhotosOut: function() {
                this.photoUpload.onDragPhotosOutPage()
            },
            onEnlargePhoto: function(e) {
                this.modalPhotoCarousel = new h.a({
                    images: this.images,
                    activityId: this.activityId,
                    canClickToEnlarge: !1,
                    selectedPhotoId: e,
                    isEnlarged: !0,
                    canManagePhotos: !1
                }),
                this.listenTo(this.modalPhotoCarousel, h.a.Events.MODAL_SCROLL, this.onSwitchModalPhoto),
                this.listenTo(this.modalPhotoCarousel, h.a.Events.REMOVED_MODAL_PHOTO, this.onRemovedModalPhoto),
                this.modalPopupView = new w.a({
                    view: this.modalPhotoCarousel,
                    showFooter: !1,
                    customClasses: "modal-wide photo-carousel-modal",
                    customBackdropClasses: "lightbox",
                    showCloseButton: !0
                }),
                this.modalPopupView.render(),
                this.modalPopupView.$el.appendTo(this.$el)
            },
            onRemovedPhoto: function(e) {
                e && 0 === e.length ? this.clearCarousel() : this.refreshDropzone(),
                this.hideShowEditBtn(),
                this.photoCarousel.enableAddBtn(),
                this.uploadedPhotos = 0
            },
            onClickAddPhotos: function() {
                this.photoUpload.myAwesomeDropzone.hiddenFileInput.click()
            },
            onRemovedModalPhoto: function(e) {
                this.images && 0 === this.images.length ? (this.clearCarousel(),
                this.modalPopupView.close()) : this.photoCarousel.removeGalleryPhoto(e),
                this.refreshDropzone()
            },
            onRenderEditView: function() {
                this.photoEditCarousel = new _.a({
                    images: this.images,
                    deleteUrl: this.deleteUrl
                }),
                this.listenTo(this.photoEditCarousel, _.a.Events.SAVE_EDIT_PHOTOS, this.onSaveEditCarousel),
                this.listenTo(this.photoEditCarousel, _.a.Events.CANCEL_EDIT_PHOTOS, this.onCloseEditCarousel),
                this.$(".edit-carousel-content").html(this.photoEditCarousel.render().el),
                this.photoCarousel.destroy(),
                this.photoUpload.destroy()
            },
            onSaveEditCarousel: function(e, t) {
                var i = this
                  , a = new c.a({
                    activityId: this.activityId,
                    ids: e
                });
                t.forEach(function(e) {
                    i.onRemovePhoto(e)
                }),
                e ? a.update({
                    success: function() {
                        this.images = this.getNewList(e),
                        this.onCloseEditCarousel()
                    }
                    .bind(this),
                    error: function() {
                        this.showErrorMessage(s.a.localize("error_reorder_photos")),
                        this.$(".photo-edit-error-growl").css("display", "block"),
                        this.onCloseEditCarousel()
                    }
                    .bind(this)
                }) : (this.images = this.photoEditCarousel.images,
                this.onCloseEditCarousel())
            },
            getNewList: function(e) {
                var t = []
                  , i = this;
                return e.forEach(function(e) {
                    i.images.forEach(function(i) {
                        e === i.imageId && t.push(i)
                    })
                }),
                t
            },
            onCloseEditCarousel: function() {
                this.photoEditCarousel.destroy(),
                this.refreshDropzone(),
                0 === this.images.length && (this.instantiateUploadGrowl(),
                this.instantiateDropzone(),
                this.instantiateEmptyState())
            },
            onRemovePhoto: function(e) {
                new l.a({
                    activityId: this.activityId,
                    imageId: e
                }).destroy({
                    success: function() {
                        for (var t = 0; t < this.images.length; t++)
                            if (e === this.images[t].imageId) {
                                this.images.splice(t, 1);
                                break
                            }
                    }
                    .bind(this),
                    error: function() {
                        this.showErrorMessage(s.a.localize("error_delete_photo"))
                    }
                    .bind(this)
                })
            },
            onSwitchModalPhoto: function(e) {
                this.photoCarousel.onModalSwitchPhoto(e)
            },
            onDroppedExcessPhotos: function() {
                this.photoUploadGrowl.onDroppedExcessPhotos()
            },
            onAddedPhoto: function() {
                this.photoUploadGrowl.onAddedPhoto(),
                this.uploadedPhotos++;
                var e = this.images.length + this.uploadedPhotos;
                this.photoCarousel && e >= 10 && this.photoCarousel.disableAddBtn()
            },
            hideShowEditBtn: function() {
                this.images.length <= 1 ? this.$(".edit-carousel").hide() : this.canManagePhotos && this.$(".edit-carousel").show()
            },
            onUploadedPhoto: function(e) {
                this.images && 0 === this.images.length && (this.emptyState.destroy(),
                this.instantiateMainPhotoCarousel()),
                this.uploadedPhotos = 0,
                this.photoCarousel.onPhotoUploaded(e),
                this.photoUploadGrowl.onUploadedPhoto(),
                this.hideShowEditBtn(),
                this.photoCarousel && this.images.length >= 10 && this.photoCarousel.disableAddBtn()
            },
            onUploadPhotoError: function() {
                this.photoUploadGrowl.onUploadPhotoError()
            },
            updateProgressBar: function(e) {
                this.photoUploadGrowl.updateProgressBar(e)
            },
            cancelPhotoUpload: function() {
                try {
                    this.photoUpload.myAwesomeDropzone.removeAllFiles()
                } catch (t) {}
                var e = this.images.length + this.photoUpload.myAwesomeDropzone.files.length;
                this.photoCarousel && e < 10 ? this.photoCarousel.enableAddBtn() : this.photoCarousel.disableAddBtn(),
                this.uploadedPhotos = 0
            },
            instantiateMainPhotoCarousel: function() {
                this.photoCarousel = new h.a({
                    images: this.images,
                    maxFileCount: 10,
                    activityId: this.activityId,
                    canClickToEnlarge: !0,
                    isEnlarged: !1,
                    canManagePhotos: this.canManagePhotos
                }),
                this.listenTo(this.photoCarousel, h.a.Events.ENLARGE_PHOTO, this.onEnlargePhoto),
                this.listenTo(this.photoCarousel, h.a.Events.REMOVED_PHOTO, this.onRemovedPhoto),
                this.listenTo(this.photoCarousel, h.a.Events.ADD_PHOTOS, this.onClickAddPhotos),
                this.listenTo(this.photoCarousel, h.a.Events.RENDER_EDIT_VIEW, this.onRenderEditView),
                this.$(".view-photos").html(this.photoCarousel.render().el)
            },
            instantiateEmptyState: function() {
                this.emptyState = new m({}),
                this.listenTo(this.emptyState, m.Events.ADD_PHOTOS, this.onClickAddPhotos),
                this.$(".empty-state").html(this.emptyState.render().el)
            },
            instantiateDropzone: function() {
                var e = "/modern/proxy/activity-service/activity/" + this.activityId + "/image"
                  , t = 10;
                this.images && (t -= this.images.length),
                this.photoUpload = new f.a({
                    deleteUrl: e + "/",
                    uploadOptions: {
                        url: e,
                        maxFiles: t,
                        previewsContainer: this.$(".upload-error-list")[0]
                    }
                }),
                this.listenTo(this.photoUpload, f.a.Events.DROPPED_EXCESS_PHOTOS, this.onDroppedExcessPhotos),
                this.listenTo(this.photoUpload, f.a.Events.ADDED_PHOTO, this.onAddedPhoto),
                this.listenTo(this.photoUpload, f.a.Events.UPLOADED_PHOTO, this.onUploadedPhoto),
                this.listenTo(this.photoUpload, f.a.Events.UPLOAD_ERROR, this.onUploadPhotoError),
                this.listenTo(this.photoUpload, f.a.Events.UPDATE_PROGRESS_BAR, this.updateProgressBar),
                this.$(".upload-photos-dropzone").html(this.photoUpload.render().el)
            },
            instantiateUploadGrowl: function() {
                this.photoUploadGrowl = new C({}),
                this.listenTo(this.photoUploadGrowl, C.Events.CANCEL_UPLOAD, this.cancelPhotoUpload),
                this.$(".upload-growl").html(this.photoUploadGrowl.render().el)
            },
            instantiatePhotoView: function() {
                this.images.length > 0 && (this.photoView = new h.a({
                    images: this.images,
                    maxFileCount: 10,
                    activityId: this.activityId,
                    canClickToEnlarge: !0,
                    selectedPhotoId: this.images[0].imageId,
                    isEnlarged: !1,
                    canManagePhotos: !1
                }),
                this.listenTo(this.photoView, h.a.Events.ENLARGE_PHOTO, this.onEnlargePhoto),
                this.$(".photo-carousel-view").html(this.photoView.render().el))
            },
            clearCarousel: function() {
                this.photoCarousel.destroy(),
                this.instantiateEmptyState()
            },
            refreshDropzone: function() {
                this.photoUpload.destroy(),
                this.instantiateDropzone(),
                this.instantiateMainPhotoCarousel()
            },
            showErrorMessage: function(e) {
                this.$(".alert-error").removeClass("hidden"),
                this.$(".alert-error").html(e).delay(4e3).fadeOut("slow")
            }
        }));
        t.a = T
    },
    5356: function(e, t, i) {
        "use strict";
        var a = i(3)
          , n = i(39)
          , r = i(8)
          , o = i.n(r)
          , s = i(0)
          , l = i.n(s)
          , c = i(7)
          , h = (i(11),
        i(442))
          , p = i(436)
          , d = i(437)
          , u = i(81)
          , g = i(80)
          , m = i(82)
          , f = i(10)
          , y = i.n(f)
          , v = i(66)
          , b = i(89)
          , A = i(42)
          , C = {
            ALL: "activity_step_type_all",
            ACTIVE: "activity_step_type_run",
            REST: "activity_step_type_rest"
        }
          , w = {
            ALL: "activity_step_type_all",
            OTHER: "activity_step_type_other",
            REST: "activity_step_type_rest"
        }
          , _ = function(e) {
            return A.h.isUltraRunActivity(e) ? C : w
        }
          , x = i(2662)
          , S = i(2663)
          , T = i.n(S)
          , E = function(e) {
            function t() {
                var e, i;
                Object(p.a)(this, t);
                for (var a = arguments.length, n = new Array(a), r = 0; r < a; r++)
                    n[r] = arguments[r];
                return (i = Object(u.a)(this, (e = Object(g.a)(t)).call.apply(e, [this].concat(n)))).onFilterChange = function(e) {
                    (0,
                    i.props.onFilterChange)(e.value)
                }
                ,
                i.renderStepTypeFilter = function() {
                    var e = i.props
                      , t = e.activityTypeKey
                      , a = e.splitTypeFilterType
                      , n = _(t);
                    return y.a.createElement(y.a.Fragment, null, y.a.createElement("span", null, y.a.createElement(b.a, {
                        ns: "activity",
                        content: "label_activity_split_type"
                    })), y.a.createElement("div", {
                        className: T.a.intervalsFilter
                    }, y.a.createElement(x.a, {
                        items: n,
                        value: a,
                        onChange: i.onFilterChange
                    })))
                }
                ,
                i
            }
            return Object(m.a)(t, e),
            Object(d.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.columns
                      , i = e.data;
                    return y.a.createElement(y.a.Fragment, null, y.a.createElement("div", {
                        className: "marBottomMD ".concat(T.a.intervalsFilterContainer)
                    }, this.renderStepTypeFilter()), y.a.createElement(v.IntervalsTable, {
                        columns: t,
                        data: i,
                        childModelKey: "lap_indexes"
                    }))
                }
            }]),
            t
        }(y.a.Component)
          , k = i(2664)
          , L = i(4641)
          , P = i.n(L)
          , z = {
            class: "",
            displayLabel: "",
            fieldName: "caret-activity",
            Personalizer: null
        }
          , I = {
            onFilterChanged: "onFilterChanged"
        }
          , D = l.a.View.extend({
            initialize: function(e) {
                this.template = o.a.template(P.a),
                this.colModel = e.colModel,
                this.data = e.data,
                this.activityTypedSplits = e.activityTypedSplits,
                this.splitSummaries = e.splitSummaries,
                this.activityTypeKey = e.activityTypeKey,
                this.parentActivityType = e.parentActivityType,
                this.splitTypeFilterType = "ALL"
            },
            render: function() {
                this.$el.html(this.template()),
                this.renderFilterTable()
            },
            renderFilterTable: function() {
                var e = this;
                this.splitIndex = 1;
                var t = this.getActivityTypeBuildData();
                this.view = new h.a;
                this.view.renderComponent(E, this.$(".activity-filter-table-tab-content")[0], {
                    columns: this.getColumns(),
                    data: t,
                    parentActivityType: this.parentActivityType,
                    activityTypeKey: this.activityTypeKey,
                    onFilterChange: function(t) {
                        e.onFilterChange(t)
                    },
                    splitTypeFilterType: this.splitTypeFilterType
                })
            },
            getColumns: function() {
                var e = []
                  , t = Object(n.a)(this.colModel);
                return t.splice(0, 0, z),
                t.forEach(function(t) {
                    if ("lap_indexes" !== t.displayLabel) {
                        var i = t.displayLabel ? c.a.localize(t.displayLabel) : "";
                        e.push(i)
                    }
                }),
                e
            },
            getActivityTypeBuildData: function() {
                if (A.h.isUltraRunActivity(this.activityTypeKey))
                    return this.buildUltraRunTableData()
            },
            buildUltraRunTableData: function() {
                var e = this
                  , t = this.getActivityFilteredData();
                return t.forEach(function(t) {
                    t.lap_indexes && t.lap_indexes.length;
                    var i = t.label_activity_split_type
                      , a = k.a.getSplitType(i, e.parentActivityType);
                    t.lap_indexes = [],
                    t["splits.laps"] = k.a.isRunActive(i) ? e.splitIndex++ : "",
                    t.label_activity_split_type = a
                }),
                t
            },
            getSplitSummary: function() {
                var e = this
                  , t = Object.keys(this.splitSummaries).find(function(t) {
                    return -1 !== t.indexOf(e.splitTypeFilterType)
                });
                return t ? this.splitSummaries[t] : {}
            },
            getTypeSplitsData: function() {
                var e = this;
                return this.activityTypedSplits.filter(function(t) {
                    return -1 !== t.label_activity_split_type.indexOf(e.splitTypeFilterType)
                })
            },
            getActivityFilteredData: function() {
                return "ALL" !== this.splitTypeFilterType ? this.getTypeSplitsData().map(function(e) {
                    return Object(a.a)({}, e)
                }) : this.activityTypedSplits.map(function(e) {
                    return Object(a.a)({}, e)
                })
            },
            onFilterChange: function(e) {
                var t = this.splitTypeFilterType;
                this.splitTypeFilterType = e;
                var i = this.getActivityFilteredData()
                  , a = [];
                i.forEach(function(e, t) {
                    e.lapIndexes && a.push(e.lapIndexes[0])
                }),
                this.splitIndex = 1,
                a.length > 0 && this.trigger(I.onFilterChanged, {
                    ciqIndexes: a,
                    previousFilter: t,
                    filterValue: e
                }),
                this.renderFilterTable()
            }
        });
        D.Events = I;
        t.a = D
    },
    5370: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(18)
          , c = i(198)
          , h = i(4565)
          , p = i(4570)
          , d = i.n(p)
          , u = o.a.View.extend({
            template: n.a.template(d.a),
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    model: this.model
                })),
                this
            }
        })
          , g = i(4571)
          , m = i.n(g)
          , f = {
            ELEV_CORRECTION_CHANGED: "ELEV_CORRECTION_CHANGED"
        }
          , y = o.a.View.extend({
            template: n.a.template(m.a),
            initialize: function(e) {
                return this.agent = e.agent,
                this.device = e.device,
                this.displayAgentInfo = e.displayAgentInfo,
                this.activity = e.activity,
                this.thirdPartyPartners = e.thirdPartyPartners,
                this.thirdPartyPartner = null,
                this.viewerIsAuthenticated = e.viewerIsAuthenticated,
                this.viewerIsOwner = e.viewerIsOwner,
                this
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    DateFormatter: l.a,
                    agent: this.agent ? this.agent.toJSON() : {},
                    metadata: this.activity.get("metadataDTO"),
                    displayAgentInfo: this.displayAgentInfo,
                    displayPowerAvgCalInfo: !1
                })),
                c.a.renderTooltips.call(this),
                this.renderRecordingMediumInfo()
            },
            renderRecordingMediumInfo: function() {
                this.canDisplayVirtualPartner() ? this.renderVirtualPartnerView() : this.device && this.renderDeviceInfoView()
            },
            renderDeviceInfoView: function() {
                var e = new h.a({
                    activity: this.activity,
                    device: this.device,
                    viewerIsAuthenticated: this.viewerIsAuthenticated,
                    viewerIsOwner: this.viewerIsOwner
                });
                e.on(h.a.Events.ELEV_CORRECTION_CHANGED, function(e) {
                    this.trigger(f.ELEV_CORRECTION_CHANGED, e)
                }, this),
                this.$el.prepend(e.render().el)
            },
            renderVirtualPartnerView: function() {
                var e = new u({
                    model: this.thirdPartyPartner
                });
                this.$el.prepend(e.render().el)
            },
            canDisplayVirtualPartner: function() {
                var e = !1;
                if (this.thirdPartyPartners) {
                    var t = this.activity.get("manufacturer");
                    t && (this.thirdPartyPartner = this.thirdPartyPartners.attributes[t],
                    e = !!this.thirdPartyPartner)
                }
                return e
            },
            setData: function(e) {
                for (var t in e)
                    t && (this[t] = e[t])
            }
        });
        y.Events = f;
        t.a = y
    },
    5371: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(1504)
          , h = i(23)
          , p = i(37)
          , d = i(4599)
          , u = i.n(d)
          , g = o.a.View.extend({
            tagName: "tr",
            template: n.a.template(u.a),
            events: {
                "click .edit-activity": "onEditClicked"
            },
            initialize: function(e) {
                this.setData = e.setData,
                this.rowNumber = e.rowNumber,
                this.isReadOnly = e.isReadOnly,
                this.isPilatesActivity = e.isPilatesActivity,
                this.isYogaActivity = e.isYogaActivity,
                this.weightIsNumber = !0,
                this.setData.weight !== s.a.localize("add_weight") && this.setData.weight !== s.a.localize("body_weight") || (this.weightIsNumber = !1),
                this.setData.weight === s.a.localize("add_weight") && this.isReadOnly && (this.weightIsNumber = !1,
                this.setData.weight = "--")
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    isMetric: l.a.measurementSystem === l.a.MeasurementSystems.METRIC,
                    rowNumber: this.rowNumber,
                    linkNameToEdit: this.setData.linkNameToEdit,
                    exerciseType: this.setData.exerciseType,
                    time: l.a.personalizeDuration(this.setData.time),
                    rest: l.a.personalizeDuration(this.setData.rest),
                    reps: 0 === this.setData.reps ? "0" : l.a.zeroDash(this.setData.reps),
                    weight: this.setData.weight,
                    isReadOnly: this.isReadOnly,
                    weightIsNumber: this.weightIsNumber,
                    isPilatesActivity: this.isPilatesActivity,
                    isYogaActivity: this.isYogaActivity,
                    labels: this.getLabels()
                }))
            },
            onEditClicked: function(e) {
                p.default.navigate("activity/manual/" + this.setData.activityId + "/edit", e)
            },
            getLabels: function() {
                var e = {
                    setNumberTitle: s.a.localize("label_set"),
                    setName: s.a.localize("label_exercise_name"),
                    chooseSetLabelKey: null
                };
                return this.isPilatesActivity && (e = {
                    setNumberTitle: s.a.localize("label_move"),
                    setName: s.a.localize("label_move_name"),
                    chooseSetLabelKey: "choose_a_move"
                }),
                this.isYogaActivity && (e = {
                    setNumberTitle: s.a.localize("label_pose"),
                    setName: s.a.localize("label_pose_name"),
                    chooseSetLabelKey: "choose_a_pose"
                }),
                e
            }
        })
          , m = i(4600)
          , f = i.n(m)
          , y = o.a.View.extend({
            template: n.a.template(f.a),
            initialize: function(e) {
                this.activity = e.activity.activity,
                this.repCountingActivity = e.activity.repCountingActivity.get("exerciseSets"),
                this.exerciseTypes = e.exerciseTypes,
                this.isReadOnly = e.isReadOnly,
                this.isPilatesActivity = e.isPilatesActivity,
                this.isYogaActivity = e.isYogaActivity
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    isPilatesActivity: this.isPilatesActivity,
                    isYogaActivity: this.isYogaActivity,
                    labels: this.getLabels()
                })),
                this.renderSets()
            },
            renderSets: function() {
                var e, t = this.repCountingActivity ? this.repCountingActivity.length : 0, i = this.$("#setsContainer"), a = 1;
                if (t > 0)
                    for (var n = 0; n < t; n += 1)
                        "REST" !== this.repCountingActivity[n].setType && ((e = new g({
                            setData: this.getSetData(n),
                            rowNumber: a,
                            isReadOnly: this.isReadOnly,
                            isPilatesActivity: this.isPilatesActivity,
                            isYogaActivity: this.isYogaActivity
                        })).render(),
                        i.append(e.el),
                        a += 1);
                else
                    (e = new g({
                        setData: this.getSetData(null),
                        rowNumber: a,
                        isReadOnly: this.isReadOnly,
                        isPilatesActivity: this.isPilatesActivity,
                        isYogaActivity: this.isYogaActivity
                    })).render(),
                    i.append(e.el)
            },
            getSetData: function(e) {
                var t = {}
                  , i = this.getExerciseCategoryAndType(e);
                return t.activityId = this.activity.get("activityId"),
                t.exerciseType = i.localizeString,
                t.linkNameToEdit = this.getLinkNameToEdit(t.exerciseType),
                t.time = this.getTime(e),
                t.rest = this.getRestTime(e),
                t.reps = this.getReps(e),
                t.weight = this.getWeight(e, i.category, i.type),
                t
            },
            getLinkNameToEdit: function(e) {
                return "choose_an_exercise" === e && !this.isReadOnly
            },
            getExerciseCategoryAndType: function(e) {
                var t = {
                    category: "",
                    type: "choose_an_exercise",
                    localizeString: "choose_an_exercise"
                }
                  , i = 0;
                return this.isReadOnly && (t.localizeString = "device.unknown"),
                null !== e && this.repCountingActivity[e] && n.a.each(this.repCountingActivity[e].exercises, function(e) {
                    e.probability > i && (i = e.probability,
                    e.name ? (t.localizeString = "exercise_type_" + e.name,
                    t.type = e.name,
                    t.category = e.category) : "UNKNOWN" !== e.category ? (t.localizeString = "category_type_" + e.category,
                    t.type = e.category,
                    t.category = e.category) : "UNKNOWN" === e.category && (i = c.a.UNKNOWN_PROBABILITY_OVERRIDE))
                }),
                t
            },
            getTime: function(e) {
                return null !== e ? this.repCountingActivity[e].duration : this.activity.get("duration")
            },
            getRestTime: function(e) {
                var t = e + 1
                  , i = 0
                  , a = this.repCountingActivity ? this.repCountingActivity.length : 0;
                if (null !== e)
                    for (; t < a && "REST" === this.repCountingActivity[t].setType; )
                        i += this.repCountingActivity[t].duration,
                        t += 1;
                return i
            },
            getReps: function(e) {
                return null !== e ? this.repCountingActivity[e].repetitionCount : 0
            },
            getWeight: function(e, t, i) {
                if (null === e || null === this.repCountingActivity[e].weight || void 0 === this.repCountingActivity[e].weight || -1 === this.repCountingActivity[e].weight && !this.isBodyweightCapable(t, i))
                    return s.a.localize("add_weight");
                if (-1 === this.repCountingActivity[e].weight)
                    return s.a.localize("body_weight");
                var a = parseFloat(this.repCountingActivity[e].weight);
                return l.a.personalizeWeight(a, h.a.PRECISION1_NOSEP_NOZERO)
            },
            isBodyweightCapable: function(e, t) {
                return this.exerciseTypes.categories[e] && this.exerciseTypes.categories[e].exercises && this.exerciseTypes.categories[e].exercises[t] && this.exerciseTypes.categories[e].exercises[t].isBodyWeight
            },
            getLabels: function() {
                var e = {
                    setNumberTitle: s.a.localize("label_set"),
                    setName: s.a.localize("label_exercise_name")
                };
                return this.isPilatesActivity && (e = {
                    setNumberTitle: s.a.localize("label_move"),
                    setName: s.a.localize("label_move_name")
                }),
                this.isYogaActivity && (e = {
                    setNumberTitle: s.a.localize("label_pose"),
                    setName: s.a.localize("label_pose_name")
                }),
                e
            }
        });
        t.a = y
    },
    5372: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(7)
          , l = i(11)
          , c = i(23)
          , h = i(4601)
          , p = i(37)
          , d = i(4603)
          , u = i.n(d)
          , g = o.a.View.extend({
            tagName: "tr",
            className: "exercises",
            template: n.a.template(u.a),
            events: {
                "click .edit-activity": "onEditClicked"
            },
            initialize: function(e) {
                this.activityId = e.activityId,
                this.rowNumber = e.rowNumber,
                this.exerciseRowNumber = e.exerciseRowNumber,
                this.isEvenRow = e.isEvenRow,
                this.exerciseCatAndType = e.exerciseCatAndType,
                this.linkNameToEdit = e.linkNameToEdit,
                this.exerciseSets = e.exerciseSets,
                this.exerciseTime = e.exerciseTime,
                this.exerciseRestTime = e.exerciseRestTime,
                this.exerciseRepCount = e.exerciseRepCount,
                this.exerciseWeight = e.exerciseWeight,
                this.isReadOnly = e.isReadOnly,
                this.weightIsNumber = !0,
                this.exerciseWeight !== s.a.localize("add_weight") && this.exerciseWeight !== s.a.localize("body_weight") || (this.weightIsNumber = !1),
                this.exerciseWeight === s.a.localize("add_weight") && this.isReadOnly && (this.weightIsNumber = !1,
                this.exerciseWeight = "--")
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    isMetric: l.a.measurementSystem === l.a.MeasurementSystems.METRIC,
                    exerciseName: this.exerciseCatAndType.localizeString,
                    exerciseType: this.exerciseCatAndType.type,
                    linkNameToEdit: this.linkNameToEdit,
                    exerciseTime: l.a.personalizeDuration(this.exerciseTime),
                    exerciseRestTime: l.a.personalizeDuration(this.exerciseRestTime),
                    exerciseRepCount: this.exerciseRepCount,
                    exerciseWeight: this.exerciseWeight,
                    rowNumber: this.rowNumber,
                    exerciseRowNumber: this.exerciseRowNumber,
                    isReadOnly: this.isReadOnly,
                    weightIsNumber: this.weightIsNumber,
                    labels: this.getLabels()
                })),
                this.isEvenRow && this.$el.addClass("roundsAlternatingRow")
            },
            getLabels: function() {
                return {
                    setNumberTitle: s.a.localize("label_set"),
                    setName: s.a.localize("label_exercise_name"),
                    chooseSetLabelKey: null
                }
            },
            onEditClicked: function(e) {
                p.default.navigate("activity/manual/" + this.activityId + "/edit", e)
            }
        })
          , m = i(1504)
          , f = i(4604)
          , y = i.n(f)
          , v = o.a.View.extend({
            template: n.a.template(y.a),
            initialize: function(e) {
                this.activity = e.activity.activity,
                this.repCountingActivity = e.activity.repCountingActivity.get("exerciseSets"),
                this.exerciseTypes = e.exerciseTypes,
                this.isReadOnly = e.isReadOnly,
                this.activityRounds = e.activityRounds,
                this.activityId = this.activity.get("activityId")
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    labels: this.getLabels()
                })),
                this.renderExerciseSets()
            },
            renderExerciseSets: function() {
                var e = this
                  , t = this.activityRounds.sort(function(e, t) {
                    return e.split.messageIndex - t.split.messageIndex
                })
                  , i = this.$("#setsRoundExercise")
                  , a = 1
                  , n = !1;
                t.forEach(function(t) {
                    n = a % 2 === 0;
                    var r = new h.a({
                        rowNumber: a,
                        roundTime: t.split.movingDuration,
                        roundRestTime: t.split.duration - t.split.movingDuration,
                        roundTotalReps: t.split.totalExerciseReps,
                        isEvenRow: n
                    });
                    r.render(),
                    i.append(r.el);
                    var o = 1;
                    t.exerciseSets.forEach(function(r, s) {
                        var l = e.getExerciseCategoryAndType(r);
                        if ("ACTIVE" === r.setType) {
                            var c = t.exerciseSets[s + 1].duration
                              , h = new g({
                                activityId: e.activityId,
                                rowNumber: a,
                                exerciseRowNumber: o,
                                isEvenRow: n,
                                exerciseCatAndType: l,
                                linkNameToEdit: e.getLinkNameToEdit(l.type),
                                exerciseSets: t.exerciseSets,
                                exerciseTime: r.duration,
                                exerciseRestTime: c,
                                exerciseRepCount: r.repetitionCount ? r.repetitionCount : "--",
                                exerciseWeight: e.getWeight(r, l.category, l.type),
                                isReadOnly: e.isReadOnly
                            });
                            o += 1,
                            h.render(),
                            i.append(h.el)
                        }
                    }),
                    a += 1
                })
            },
            getLinkNameToEdit: function(e) {
                return "choose_an_exercise" === e && !this.isReadOnly
            },
            getExerciseCategoryAndType: function(e) {
                var t = {
                    category: "",
                    type: "choose_an_exercise",
                    localizeString: "choose_an_exercise"
                }
                  , i = 0;
                return this.isReadOnly && (t.localizeString = "device.unknown"),
                e.exercises.forEach(function(e) {
                    e.probability > i && (i = e.probability,
                    e.name ? (t.localizeString = "exercise_type_" + e.name,
                    t.type = e.name,
                    t.category = e.category) : "UNKNOWN" !== e.category ? (t.localizeString = "category_type_" + e.category,
                    t.type = e.category,
                    t.category = e.category) : "UNKNOWN" === e.category && (i = m.a.UNKNOWN_PROBABILITY_OVERRIDE))
                }),
                t
            },
            getWeight: function(e, t, i) {
                if (null === e.weight || void 0 === e.weight || -1 === e.weight && !this.isBodyweightCapable(t, i))
                    return s.a.localize("add_weight");
                if (-1 === e.weight)
                    return s.a.localize("body_weight");
                var a = parseFloat(e.weight);
                return l.a.personalizeWeight(a, c.a.PRECISION1_NOSEP_NOZERO)
            },
            isBodyweightCapable: function(e, t) {
                return this.exerciseTypes.categories[e] && this.exerciseTypes.categories[e].exercises && this.exerciseTypes.categories[e].exercises[t] && this.exerciseTypes.categories[e].exercises[t].isBodyWeight
            },
            getLabels: function() {
                return {
                    setNumberTitle: s.a.localize("label_set"),
                    setName: s.a.localize("label_exercise_name")
                }
            }
        });
        t.a = v
    },
    5373: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(0)
          , s = i.n(o)
          , l = i(11)
          , c = i(4655)
          , h = i(31)
          , p = i(4657)
          , d = i.n(p)
          , u = s.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(d.a)
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: r.a
                }))
            }
        })
          , g = i(4658)
          , m = i.n(g);
        t.a = s.a.View.extend({
            template: n.a.template(m.a),
            className: "mtbStat",
            events: {
                "click .jumps-help": "onJumpsHelpClicked"
            },
            initialize: function(e) {
                return this.summaryDTO = e.summaryDTO,
                this.jumps = e.jumps,
                this.gridView = new c.a({
                    jumps: this.jumps,
                    activity: e.activity
                }),
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a,
                    summaryDTO: this.summaryDTO,
                    jumps: this.jumps,
                    Personalizer: l.a
                })),
                this.$(".mtb-jumps-grid").html(this.gridView.render().el),
                this
            },
            renderModal: function() {
                var e = new u({});
                new h.a({
                    view: e,
                    showFooter: !1,
                    customClasses: "modal-jumps-help",
                    modalTitle: r.a.localize("help.title")
                }).render()
            },
            onJumpsHelpClicked: function() {
                this.renderModal()
            }
        })
    },
    5374: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(7)
          , o = i(0)
          , s = i.n(o)
          , l = i(11)
          , c = i(4661)
          , h = i.n(c)
          , p = s.a.View.extend({
            template: n.a.template(h.a),
            tagName: "li",
            className: "media",
            initialize: function(e) {
                return this.song = e.song,
                this.trackNum = e.trackNum,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    title: this.song.get("title"),
                    songInfoString: this.getSongInfoString([this.song.get("artist"), this.song.get("album"), l.a.personalizeDuration(this.song.get("lengthInSeconds"))]),
                    trackNum: this.trackNum
                })),
                this
            },
            getSongInfoString: function(e) {
                return e.filter(function(e) {
                    return !!e
                }).join(" \u2022 ")
            }
        })
          , d = i(4662)
          , u = i.n(d);
        t.a = s.a.View.extend({
            template: n.a.template(u.a),
            className: "playlist-container bottom-m",
            initialize: function(e) {
                return this.songs = e.songs,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a
                })),
                n.a.each(this.songs, function(e, t) {
                    this.renderSong(e, t)
                }, this),
                this
            },
            renderSong: function(e, t) {
                var i = new p({
                    song: e,
                    trackNum: t + 1
                });
                this.$(".media-list").append(i.render().el)
            }
        })
    },
    5375: function(e, t, i) {
        "use strict";
        i(8);
        var a = i(0)
          , n = i.n(a)
          , r = n.a.Model.extend({});
        t.a = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/playlist"
            },
            initialize: function(e, t) {
                this.activityId = t.activityId
            },
            parse: function(e) {
                return e.playedSongs
            }
        })
    },
    5376: function(e, t, i) {
        "use strict";
        var a = i(436)
          , n = i(437)
          , r = i(81)
          , o = i(80)
          , s = i(82)
          , l = i(10)
          , c = i.n(l)
          , h = i(99)
          , p = i(1310)
          , d = i(11)
          , u = i(199)
          , g = i(1317)
          , m = i.n(g)
          , f = i(66)
          , y = i(4674)
          , v = i.n(y)
          , b = i(194)
          , A = i(40)
          , C = i(89)
          , w = i(365)
          , _ = i(21)
          , x = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(o.a)(t).apply(this, arguments))
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props.wave
                      , t = e.duration
                      , i = e.maxSpeed
                      , a = e.distance;
                    return c.a.createElement("div", null, c.a.createElement("div", null, c.a.createElement("span", null, Object(A.b)("units:label_distance"), ": "), c.a.createElement("span", null, d.a.personalizeWaveDistance(a), " ", Object(A.b)("units:".concat(d.a.getWaveDistanceUnitKey())))), c.a.createElement("div", null, c.a.createElement("span", null, Object(A.b)("units:label_max_speed"), ": "), c.a.createElement("span", null, d.a.personalizeSpeed(i), " ", Object(A.b)("units:".concat(d.a.getSpeedUnitKey())))), c.a.createElement("div", null, c.a.createElement("span", null, Object(A.b)("activity:surf_time_label"), ": "), c.a.createElement("span", null, d.a.personalizeDuration(t))))
                }
            }]),
            t
        }(c.a.Component)
          , S = {
            setSurfPolylineIndex: w.e
        }
          , T = function(e) {
            function t() {
                var e;
                return Object(a.a)(this, t),
                (e = Object(r.a)(this, Object(o.a)(t).call(this))).onShowHelpModal = function() {
                    e.setState({
                        showHelpModal: !0
                    })
                }
                ,
                e.waveHelpModal = function() {
                    return c.a.createElement(f.Dialog, {
                        open: e.state.showHelpModal,
                        onClose: function() {
                            e.setState({
                                showHelpModal: !1
                            })
                        }
                    }, c.a.createElement(f.DialogTitle, null, c.a.createElement(C.a, {
                        ns: "main_container"
                    }, "help.title")), c.a.createElement(f.DialogContent, null, e.state.showHelpModal && c.a.createElement(E, null)))
                }
                ,
                e.onWaveSelected = function(t, i) {
                    var a = e.props;
                    a.waves;
                    (0,
                    a.setSurfPolylineIndex)({
                        index: parseInt(t),
                        maxWaveIndex: i
                    })
                }
                ,
                e.state = {
                    showModal: !1,
                    showHelpModal: !1
                },
                e
            }
            return Object(s.a)(t, e),
            Object(n.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    this.chart.reflow()
                }
            }, {
                key: "componentDidUpdate",
                value: function() {
                    this.chart.reflow()
                }
            }, {
                key: "render",
                value: function() {
                    var e = this
                      , t = this.getChartConfig(500);
                    return c.a.createElement(u.a, this.props, c.a.createElement("div", {
                        className: v.a.componentContainer
                    }, c.a.createElement(f.Flexbox, {
                        container: !0,
                        between: !0
                    }, c.a.createElement(f.Flexbox, {
                        xs: 5,
                        sm: 6,
                        md: 7,
                        lg: 8,
                        collapse: !0
                    }, c.a.createElement("div", null, c.a.createElement("span", {
                        className: v.a.waveDistanceTitle
                    }, c.a.createElement(C.a, {
                        ns: "activity",
                        content: "surf_wave_distance_title",
                        params: {
                            0: A.a.t("units:".concat(d.a.getWaveDistanceUnitKey()))
                        }
                    })), c.a.createElement("span", {
                        className: v.a.waveHelpIcon
                    }, c.a.createElement(f.HelpIcon, {
                        onClick: this.onShowHelpModal
                    })))), c.a.createElement(f.Flexbox, {
                        xs: 1,
                        sm: 1,
                        md: 1,
                        lg: 1,
                        collapse: !0
                    }, c.a.createElement("div", {
                        className: v.a.button
                    }, c.a.createElement(f.ButtonIcon, {
                        ariaLabel: A.a.t("activity:full_screen"),
                        icon: "icon-full-screen",
                        onClick: function() {
                            e.setState({
                                showModal: !0
                            })
                        }
                    })))), c.a.createElement("div", null, c.a.createElement(p.a, {
                        config: this.getChartConfig(250),
                        callback: function(t) {
                            return e.chart = t
                        }
                    })), c.a.createElement(f.Dialog, {
                        open: this.state.showModal,
                        onClose: function() {
                            e.setState({
                                showModal: !1
                            })
                        },
                        width: "fill"
                    }, c.a.createElement(f.DialogTitle, null, c.a.createElement(C.a, {
                        ns: "activity",
                        content: "surf_wave_distance_title",
                        params: {
                            0: A.a.t("units:".concat(d.a.getWaveDistanceUnitKey()))
                        }
                    })), c.a.createElement(f.DialogContent, null, c.a.createElement("div", {
                        className: v.a.modalChartContainer
                    }, c.a.createElement(p.a, {
                        config: t
                    })))), c.a.createElement("hr", null)), this.waveHelpModal())
                }
            }, {
                key: "getChartConfig",
                value: function(e) {
                    var t = this
                      , i = this.props
                      , a = i.waves
                      , n = i.selectedWaveIndex
                      , r = n && n.index
                      , o = a.filter(function(e) {
                        return "SURF_ACTIVE" === e.type
                    })
                      , s = o.reduce(function(e, t, i, a) {
                        return t.distance > e.distance ? t : e
                    }, {
                        distance: 0
                    }).messageIndex
                      , l = o.map(function(e) {
                        var t = {
                            y: e.distance ? d.a.convertDistanceMetersFt(e.distance) : null,
                            color: _.blue_light_2
                        };
                        return e.messageIndex === s && (t.color = _.red_primary),
                        e.messageIndex === r && (t.color = _.yellow_dark_3),
                        null === t.y && (t.y = o[s].distance,
                        t.color = "transparent"),
                        t
                    });
                    return {
                        chart: {
                            type: "column",
                            height: e
                        },
                        title: {
                            text: ""
                        },
                        xAxis: {
                            tickInterval: 1,
                            tickWidth: 0,
                            crosshair: !0,
                            labels: {
                                formatter: function() {
                                    return this.value + 1
                                }
                            }
                        },
                        yAxis: {
                            min: 0,
                            title: {
                                text: ""
                            }
                        },
                        tooltip: {
                            formatter: function() {
                                var e = o[this.x];
                                return "transparent" === this.point.color ? A.a.t("units:label_distance") + ": " + A.a.t("activity:unmeasurable_chart_value") + "<br>" + A.a.t("activity:surf_time_label") + ": " + d.a.personalizeDuration(e.duration) : m.a.renderToString(c.a.createElement(x, {
                                    wave: e
                                }))
                            },
                            useHTML: !0
                        },
                        plotOptions: {
                            column: {
                                pointPadding: 0,
                                borderWidth: 0,
                                events: {
                                    legendItemClick: function() {
                                        return !1
                                    },
                                    click: function(e) {
                                        t.onWaveSelected(o[e.point.index].messageIndex, s)
                                    }
                                },
                                minPointLength: 3,
                                stacking: "normal"
                            }
                        },
                        series: [{
                            name: A.a.t("activity:surf_waves_label"),
                            color: _.blue_light_2,
                            data: l
                        }, {
                            name: A.a.t("activity:surf_longest_wave_label"),
                            color: _.red_primary,
                            data: []
                        }, {
                            name: A.a.t("activity:unmeasurable_chart_value"),
                            color: "transparent",
                            data: []
                        }],
                        exporting: {
                            enabled: !1
                        },
                        credits: {
                            enabled: !1
                        },
                        legend: {
                            itemStyle: {
                                cursor: "default",
                                fontWeight: "normal"
                            },
                            useHTML: !0,
                            labelFormatter: function() {
                                return this.name === A.a.t("activity:unmeasurable_chart_value") && this.chart.renderer.rect().attr({
                                    x: 3,
                                    y: 3.5,
                                    width: 12,
                                    height: 12,
                                    r: 5.5,
                                    "stroke-width": 1,
                                    stroke: _.darkui_accent_1,
                                    fill: "transparent"
                                }).add(this.legendGroup),
                                '<span title="' + this.name + '">' + this.name + "</span>"
                            }
                        }
                    }
                }
            }]),
            t
        }(c.a.Component);
        function E() {
            return c.a.createElement(f.Flexbox, {
                container: !0
            }, c.a.createElement(f.Flexbox, {
                collapse: !0
            }, c.a.createElement("h3", {
                className: v.a.waveDistanceTitle
            }, c.a.createElement(C.a, {
                ns: "activity",
                content: "wave_distance_help_title"
            })), c.a.createElement("p", {
                className: v.a.waveDistanceText
            }, c.a.createElement(C.a, {
                ns: "activity",
                content: "wave_distance_help_text"
            }))))
        }
        t.a = Object(b.d)(["units", "activity"])(Object(h.b)(function(e, t) {
            return {
                selectedWaveIndex: Object(w.d)(e)
            }
        }, S)(T))
    },
    5377: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(442)
          , l = i(436)
          , c = i(437)
          , h = i(81)
          , p = i(80)
          , d = i(82)
          , u = i(10)
          , g = i.n(u)
          , m = i(66)
          , f = i(194)
          , y = i(4682)
          , v = i.n(y)
          , b = i(2378)
          , A = function(e) {
            function t() {
                return Object(l.a)(this, t),
                Object(h.a)(this, Object(p.a)(t).apply(this, arguments))
            }
            return Object(d.a)(t, e),
            Object(c.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.getActivityStats();
                    return g.a.createElement("div", {
                        className: v.a.activitySmallStat
                    }, e.activityStatMetrics.map(function(e) {
                        return g.a.createElement("div", {
                            className: v.a.activityStat,
                            key: e.metricName
                        }, g.a.createElement(m.DataBlock, {
                            size: "large"
                        }, g.a.createElement(m.DataField, null, e.value, " ", e.unit), g.a.createElement(m.DataLabel, null, e.label)))
                    }))
                }
            }, {
                key: "getActivityStats",
                value: function() {
                    var e = this.props
                      , t = e.activity
                      , i = e.repCountingActivity
                      , a = e.indoorClimbDifficulty;
                    return Object(b.a)(t, i, a)
                }
            }]),
            t
        }(g.a.Component)
          , C = Object(f.d)(["units", "activity", "diving", "segment"])(A)
          , w = i(4684)
          , _ = i.n(w)
          , x = o.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(_.a),
                this.activity = e.activity,
                this.repCountingActivity = e.repCountingActivity,
                this.indoorClimbDifficulty = e.indoorClimbDifficulty
            },
            render: function() {
                this.$el.html(this.template()),
                this.view = new s.a,
                this.view.renderComponent(C, this.$(".react-activity-small-stats")[0], {
                    activity: this.activity,
                    repCountingActivity: this.repCountingActivity,
                    indoorClimbDifficulty: this.indoorClimbDifficulty
                })
            }
        });
        t.a = x
    },
    5395: function(e, t, i) {
        "use strict";
        var a = i(3)
          , n = i(39)
          , r = i(8)
          , o = i.n(r)
          , s = i(0)
          , l = i.n(s)
          , c = i(7)
          , h = (i(11),
        i(442))
          , p = i(436)
          , d = i(437)
          , u = i(81)
          , g = i(80)
          , m = i(82)
          , f = i(10)
          , y = i.n(f)
          , v = i(66)
          , b = i(89)
          , A = i(2376)
          , C = i(2662)
          , w = i(2663)
          , _ = i.n(w)
          , x = function(e) {
            function t() {
                var e, i;
                Object(p.a)(this, t);
                for (var a = arguments.length, n = new Array(a), r = 0; r < a; r++)
                    n[r] = arguments[r];
                return (i = Object(u.a)(this, (e = Object(g.a)(t)).call.apply(e, [this].concat(n)))).onFilterChange = function(e) {
                    (0,
                    i.props.onFilterChange)(e.value)
                }
                ,
                i.renderStepTypeFilter = function() {
                    var e = i.props.parentActivityType
                      , t = Object(A.a)(e);
                    return y.a.createElement(y.a.Fragment, null, y.a.createElement("span", null, y.a.createElement(b.a, {
                        ns: "activity",
                        content: "label_interval_type"
                    })), y.a.createElement("div", {
                        className: _.a.intervalsFilter
                    }, y.a.createElement(C.a, {
                        items: t,
                        value: "ALL",
                        onChange: i.onFilterChange
                    })))
                }
                ,
                i
            }
            return Object(m.a)(t, e),
            Object(d.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.columns
                      , i = e.data
                      , a = e.footer;
                    return y.a.createElement(y.a.Fragment, null, y.a.createElement("div", {
                        className: "marBottomMD ".concat(_.a.intervalsFilterContainer)
                    }, this.renderStepTypeFilter()), y.a.createElement(v.IntervalsTable, {
                        columns: t,
                        data: i,
                        footer: a,
                        childModelKey: "lap_indexes"
                    }))
                }
            }]),
            t
        }(y.a.Component)
          , S = i(1742)
          , T = i(4640)
          , E = i.n(T)
          , k = {
            class: "",
            displayLabel: "",
            fieldName: "caret-intervals",
            Personalizer: null
        }
          , L = l.a.View.extend({
            initialize: function(e) {
                this.template = o.a.template(E.a),
                this.colModel = e.colModel,
                this.data = e.data,
                this.activityTypedSplits = e.activityTypedSplits,
                this.footerModel = e.footerModel,
                this.splitSummaries = e.splitSummaries,
                this.activityTypeKey = e.activityTypeKey,
                this.parentActivityType = e.parentActivityType,
                this.intervalIndex = 1,
                this.intervalFilterType = "ALL"
            },
            render: function() {
                this.$el.html(this.template()),
                this.renderActivityIntervals()
            },
            renderActivityIntervals: function() {
                var e = this
                  , t = this.buildIntervalsTableData();
                this.view = new h.a;
                var i = this.getFooter();
                this.view.renderComponent(x, this.$(".activity-intervals-tab-content-placeholder")[0], {
                    columns: this.getColumns(),
                    data: t,
                    footer: i.length > 1 ? i : null,
                    parentActivityType: this.parentActivityType,
                    onFilterChange: function(t) {
                        e.onFilterChange(t)
                    }
                })
            },
            getColumns: function() {
                var e = []
                  , t = Object(n.a)(this.colModel);
                return t.splice(0, 0, k),
                t.forEach(function(t) {
                    if ("lap_indexes" !== t.displayLabel) {
                        var i = t.displayLabel ? c.a.localize(t.displayLabel) : "";
                        e.push(i)
                    }
                }),
                e
            },
            buildIntervalsTableData: function() {
                var e = this
                  , t = "ALL" !== this.intervalFilterType ? this.getIntervalsData().map(function(e) {
                    return Object(a.a)({}, e)
                }) : this.activityTypedSplits.map(function(e) {
                    return Object(a.a)({}, e)
                });
                return t.forEach(function(t) {
                    var i = t.lap_indexes ? t.lap_indexes.length : 0
                      , a = t.label_interval_type
                      , n = S.a.getIntervalType(a, e.parentActivityType);
                    if (i > 0) {
                        t["activity.interval"] = S.a.isActiveInterval(a) ? e.intervalIndex++ : "";
                        var r = t.lap_indexes[0]
                          , o = i > 1 ? t.lap_indexes[i - 1] : null;
                        t["activity.interval.lap"] = r && o ? "".concat(r, " - ").concat(o) : r;
                        var s = [];
                        t.lap_indexes.forEach(function(t) {
                            var i = e.data.find(function(e) {
                                return e["activity.interval.lap"] === t
                            });
                            i && (i.label_interval_type = n,
                            delete i.lap_indexes,
                            s.push(i))
                        }),
                        t.lap_indexes = s.length > 1 ? s : []
                    } else
                        t["activity.interval"] = "";
                    t.label_interval_type = n
                }),
                t
            },
            getFooter: function() {
                var e = [];
                e.push("");
                var t = "ALL" !== this.intervalFilterType ? this.getSplitSummary() : this.footerModel;
                for (var i in t)
                    "lap_indexes" !== i && e.push(t[i]);
                return e
            },
            getSplitSummary: function() {
                var e = this
                  , t = Object.keys(this.splitSummaries).find(function(t) {
                    return -1 !== t.indexOf(e.intervalFilterType)
                });
                return t ? this.splitSummaries[t] : {}
            },
            getIntervalsData: function() {
                var e = this;
                return this.activityTypedSplits.filter(function(t) {
                    return -1 !== t.label_interval_type.indexOf(e.intervalFilterType)
                })
            },
            onFilterChange: function(e) {
                this.intervalFilterType = e,
                this.intervalIndex = 1,
                this.renderActivityIntervals()
            }
        });
        t.a = L
    },
    5403: function(e, t, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(7)
          , o = i(1412)
          , s = i(31)
          , l = i(10)
          , c = i.n(l)
          , h = i(89)
          , p = i(66)
          , d = function() {
            return c.a.createElement(c.a.Fragment, null, c.a.createElement("div", null, c.a.createElement("h6", null, c.a.createElement("strong", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "power.zones"
            }))), c.a.createElement("p", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "power_zones_help_description"
            }))), c.a.createElement(p.Accordion, {
                expandedItem: ""
            }, c.a.createElement(p.AccordionItem, {
                index: "cyclingPowerZones"
            }, c.a.createElement(p.AccordionItemSummary, null, c.a.createElement("p", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "cycling_power_zones"
            }))), c.a.createElement(p.AccordionItemDetails, null, c.a.createElement("h6", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "using_cycling_power_zones"
            })), c.a.createElement("p", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "using_cycling_power_zones_desc"
            })), c.a.createElement("h6", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "setting_up_power_zones"
            })), c.a.createElement("p", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "setting_up_power_zones_desc"
            })), c.a.createElement("h6", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "training_with_power_zones"
            })), c.a.createElement("p", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "training_with_power_zones_desc"
            })), c.a.createElement("p", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "training_with_power_zones_desc_2"
            })))), c.a.createElement(p.AccordionItem, {
                index: "nonCyclingPowerZones"
            }, c.a.createElement(p.AccordionItemSummary, null, c.a.createElement("p", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "non_cycling_power_zones"
            }))), c.a.createElement(p.AccordionItemDetails, null, c.a.createElement("h6", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "other_activities_power_zones"
            })), c.a.createElement("p", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "other_activities_power_zones_desc"
            })), c.a.createElement("h6", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "setting_up_power_zones"
            })), c.a.createElement("p", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "setting_up_power_zones_other_sports_desc"
            })), c.a.createElement("h6", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "training_with_power_zones"
            })), c.a.createElement("p", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "training_with_power_zones_other_sports_desc"
            })), c.a.createElement("p", null, c.a.createElement(h.a, {
                ns: "power_zone",
                content: "training_with_power_zones_other_sports_desc_2"
            }))))))
        }
          , u = n.a.View.extend({
            initialize: function(e) {},
            render: function() {
                this.helpModalView && this.helpModalView.destroy(),
                this.helpModalView = new o.a({
                    reactComponent: d,
                    props: {}
                }),
                new s.a({
                    view: this.helpModalView,
                    showFooter: !1,
                    customClasses: "",
                    modalTitle: r.a.localize("help.title")
                }).render()
            }
        });
        t.a = u
    },
    5451: function(e, t, i) {
        "use strict";
        i.r(t),
        function(e, a) {
            var n = i(5)
              , r = i.n(n)
              , o = i(333)
              , s = i(3)
              , l = i(246)
              , c = i(8)
              , h = i.n(c)
              , p = i(4)
              , d = i.n(p)
              , u = i(0)
              , g = i.n(u)
              , m = i(7)
              , f = i(13)
              , y = i.n(f)
              , v = i(11)
              , b = i(1521)
              , A = i(2648)
              , C = i(323)
              , w = i(1577)
              , _ = i(155)
              , x = i(1818)
              , S = i(4467)
              , T = i(349)
              , E = i(1700)
              , k = i(2171)
              , L = i(4468)
              , P = i(1839)
              , z = i(4469)
              , I = i(1894)
              , D = i(20)
              , B = i(1421)
              , M = i(169)
              , O = i(1492)
              , R = i(1860)
              , N = i(1861)
              , V = i(60)
              , j = i(1379)
              , F = i(1515)
              , G = (i(1597),
            i(4470))
              , U = i(1442)
              , H = i(1504)
              , K = i(2349)
              , W = i(4471)
              , Q = i(1784)
              , Y = i(330)
              , $ = i(257)
              , Z = i(203)
              , q = i(2186)
              , X = i(4472)
              , J = i(1501)
              , ee = i(4473)
              , te = i(4474)
              , ie = i(2083)
              , ae = i(1426)
              , ne = i(1509)
              , re = i(2442)
              , oe = i(1505)
              , se = i(2350)
              , le = i(100)
              , ce = i(4475)
              , he = i(4477)
              , pe = i(31)
              , de = i(447)
              , ue = i(1964)
              , ge = i(442)
              , me = i(4479)
              , fe = i(4530)
              , ye = i(4532)
              , ve = i(4536)
              , be = i(1559)
              , Ae = i(4545)
              , Ce = i(1884)
              , we = i(5346)
              , _e = i(1886)
              , xe = i(5370)
              , Se = i(4572)
              , Te = i(1250)
              , Ee = i(4595)
              , ke = i(4597)
              , Le = i(5371)
              , Pe = i(5372)
              , ze = i(4605)
              , Ie = i(5309)
              , De = i(4635)
              , Be = i(4649)
              , Me = i(5373)
              , Oe = i(4659)
              , Re = i(5374)
              , Ne = i(1901)
              , Ve = i(4663)
              , je = i(5341)
              , Fe = i(25)
              , Ge = i(18)
              , Ue = i(2666)
              , He = i(438)
              , Ke = i(57)
              , We = i(42)
              , Qe = i(433)
              , Ye = i(37)
              , $e = i(1562)
              , Ze = i(4667)
              , qe = i(53)
              , Xe = i(4668)
              , Je = i(5375)
              , et = i(449)
              , tt = i(4670)
              , it = i(4671)
              , at = i(5342)
              , nt = i(5376)
              , rt = i(4676)
              , ot = i(4679)
              , st = i(4680)
              , lt = i(4681)
              , ct = i(5377)
              , ht = i(2668)
              , pt = i(1376)
              , dt = i(1900)
              , ut = i(1429)
              , gt = i(322)
              , mt = i(4685)
              , ft = i.n(mt)
              , yt = (i(1356),
            i(1399))
              , vt = i(248)
              , bt = i(2655)
              , At = i(2656)
              , Ct = i(61)
              , wt = {
                PageRendered: "PageRendered"
            }
              , _t = function(e) {
                this.activityId = e,
                this.isParent = !1,
                this.isLoaded = !1,
                this.activity = new B.default({
                    activityId: e
                }),
                this.segments = new ie.a([],{
                    activityId: e
                }),
                this.activitySplits = new ae.a([],{
                    activityId: e
                }),
                this.splitSummaries = new se.a([],{
                    activityId: e
                }),
                this.activityTypedSplits = new ne.a([],{
                    activityId: e
                }),
                this.activityDetails = new U.a({
                    activityId: e,
                    maxPolylineSize: 4e3,
                    maxChartSize: 2e3
                }),
                this.repCountingActivity = new H.a({
                    activityId: e
                }),
                this.weather = new W.a({
                    activityId: e
                }),
                this.course = null,
                this.childModels = [],
                this.childActivities = new A.a
            }
              , xt = function() {};
            h.a.extend(xt.prototype, {
                currentActivityModel: null,
                powerZones: null,
                viewerConnections: null,
                biometrics: null,
                userBiometricWeights: null,
                courses: null,
                conversation: null,
                mapProviderPreference: null,
                userMapSetting: null,
                activityTypes: null,
                eventTypes: null,
                usersPersonalRecords: null
            }),
            xt.prototype.setCurrentActivityModel = function(e) {
                e == this.activityModel.activityId ? this.currentActivityModel = this.activityModel : this.currentActivityModel = h.a.find(this.activityModel.childModels, function(t) {
                    return t.activityId == e
                })
            }
            ,
            t.default = le.a.extend({
                events: {
                    'click .ga-label[data-toggle="tab"]': "onTabToggleClicked",
                    "click .restore-to-original": "onRestoreClicked"
                },
                propertyFiles: ["/device/device", "/segment/segment", "/legal/legal", "/common/common", "/activity_types/activity_types", "/activity-api/activity-api", "/event_types/event_types", "/activity/activity", "/units/units", "/map/map", "/personal-record-api/personal-record-api", "/help/help", "/send_to_device/send_to_device", "/gear_tracking/gear_tracking", "/reportswidget/reportswidget", "/power_zone/power_zone", "/heart_rate/heart_rate", "/userprofile/userprofile", "/connectiq/connectiq", "/sensors/sensors", "/exercise_types/exercise_types", "/yoga-pilates/yoga-pilates", "/msn_workouts/msn_workouts", "/photos/photos", "/privacy_alert/privacy_alert", "/training_plans/training_plans", "/workout/workout", "/metrics/metrics", "/stress/stress", "/diving/diving"],
                template: h.a.template(ft.a),
                pageClassName: "activity-detail",
                enableGridCss: !1,
                fluid: !0,
                initializePage: function(e) {
                    var t = +e.activityId;
                    this.dataModel = new xt,
                    this.dataModel.activityModel = new _t(t),
                    this.dataModel.currentActivityModel = this.dataModel.activityModel,
                    this.dataModel.initialChildIndex = e.childId,
                    h.a.isUndefined(this.dataModel.initialChildIndex) || (this.dataModel.initialChildIndex = +this.dataModel.initialChildIndex),
                    this.dataModel.activityTypes = new C.a([]),
                    this.dataModel.videoClips = new E.a([],{
                        activityId: t
                    }),
                    this.dataModel.connectIQPresentationData = new L.a([],{
                        activityId: t
                    }),
                    this.dataModel.jumps = new Xe.a([],{
                        activityId: t
                    }),
                    this.dataModel.playlist = new Je.a([],{
                        activityId: t
                    }),
                    this.dataModel.activityWorkouts = new re.a({
                        activityId: t
                    }),
                    this.dataModel.activityChartsOrder = new ee.a({}),
                    this.dataModel.indoorClimbDifficulty = new ut.a({}),
                    this.dataModel.activityHiddenCharts = new X.a,
                    this.dataModel.userMapSetting = new j.a({
                        key: "Map.Setting.Activities"
                    }),
                    this.dataModel.tankSensor = new ot.a({
                        activityId: t
                    }),
                    this.dataModel.activityRounds = new te.a({
                        activityId: t
                    }),
                    this.viewerConnections = null,
                    this.viewerIsAuthenticated() && (this.dataModel.viewerConnections = _.a,
                    this.dataModel.biometrics = Y.a,
                    this.dataModel.userBiometricWeights = !0,
                    this.dataModel.courses = new x.a([],{
                        limit: 999
                    }),
                    this.dataModel.conversation = new M.a({
                        resourceType: "ACTIVITY",
                        resourceId: t
                    }),
                    this.dataModel.mapProviderPreference = new V.a({
                        key: "map_provider_type"
                    }),
                    this.dataModel.groundContactLastSelectedChart = new V.a({
                        key: "activity_details_ground_contact_chart_selection"
                    }),
                    this.dataModel.verticalOscRatioLastSelectedChart = new V.a({
                        key: "activity_details_vertical_ratio_oscillation_chart_selection"
                    }),
                    this.dataModel.powerChartLastSelectedChart = new V.a({
                        key: "activity_details_power_chart_selection"
                    }),
                    this.dataModel.chartsOrderUserPref = new V.a({
                        key: "Activity.Charts.order"
                    }),
                    this.dataModel.eventTypes = new w.a([]),
                    this.dataModel.usersPersonalRecords = new S.a([],{
                        displayName: D.a.get("displayName")
                    }),
                    this.dataModel.getLatestWeight = new P.a),
                    this.dataModel.player = new b.a({}),
                    this.dataModel.thirdPartyUploads = new z.a({}),
                    this.dependenciesLoaded = !1,
                    this.connectIQPresentationDataLoaded = !1,
                    this.enableVectorAirFeatureFlag = new Ze.a({}),
                    this.activityNotes = null,
                    this.playlistPreference = new qe.a({
                        key: "playlist-role"
                    }),
                    this.respirationRatePref = new qe.a({
                        key: "respiration-rate-epoc-role"
                    }),
                    this.advancedActivityEditPreference = new qe.a({
                        key: "87427305-c36b-4647-b276-7d28b747d7ab-role"
                    }),
                    this.addThisSharingEnabled = new qe.a({
                        key: Ct.a
                    }),
                    this.hideSensorInformationRoleKey = new qe.a({
                        key: Ct.g
                    }),
                    this.mertricTrackLogPref = new qe.a({
                        key: Ct.j
                    }),
                    this.displayMetricTrackLogTooltipUserPreference = new V.a({
                        key: "User_Has_Seen_Metric_Based_Track_Log"
                    }),
                    this.elevationScalingImprovementsRoleKey = new qe.a({
                        key: Ct.d
                    }),
                    this.selectedWaveMessageIndex = null,
                    this.reactMapComponent = new ge.a,
                    this.mapTilesLoaded = !1,
                    this.activityTypeChanged = !1
                },
                pushPageViewAnalyticsEvents: function() {
                    var e = this.viewerIsOwner() ? "View Own Activity" : "View Someone Else's Activity";
                    He.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: e,
                        label: "Activity Type: ".concat(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)
                    })
                },
                viewerIsOwner: function() {
                    return e.trim(D.a.get("displayName")) === e.trim(this.dataModel.activityModel.activity.get("userInfoDto").displayname)
                },
                activityOwnerName: function() {
                    return e.trim(this.dataModel.activityModel.activity.get("userInfoDto").displayname)
                },
                isReadOnly: function() {
                    return !this.viewerIsOwner()
                },
                isViewerConnected: function() {
                    return this.viewerIsAuthenticated()
                },
                provideDependencies: function(e, t) {
                    1 === t ? (!D.a.hasMBTesterRole() && this.dataModel.activityModel.activity.hasVectorAirCdAData() && e.addModel({
                        model: this.enableVectorAirFeatureFlag,
                        required: !0
                    }),
                    this.hasVideo() && e.addModel({
                        model: this.dataModel.videoClips,
                        required: !0
                    }),
                    this.dataModel.userBiometricWeights && this.dataModel.activityModel.activity.get("startTimeGMT") && (this.dataModel.userBiometricWeights = new k.a({
                        dates: new Date(this.dataModel.activityModel.activity.get("startTimeGMT"))
                    }),
                    e.addModel({
                        model: this.dataModel.userBiometricWeights,
                        required: !0
                    })),
                    this.dataModel.getLatestWeight && this.dataModel.activityModel.activity.get("startTimeGMT") && (this.dataModel.getLatestWeight = new P.a({
                        latestDate: this.dataModel.activityModel.activity.get("startTimeGMT")
                    }),
                    e.addModel({
                        model: this.dataModel.getLatestWeight,
                        required: !0
                    })),
                    this.showExerciseView(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && (e.addModel({
                        model: this.dataModel.activityModel.repCountingActivity,
                        required: !0
                    }),
                    this.isPilatesActivity() ? this.exerciseTypes = new R.a({}) : this.isYogaActivity() ? this.exerciseTypes = new N.a({}) : this.exerciseTypes = new O.a({}),
                    e.addModel({
                        model: this.exerciseTypes,
                        required: !0
                    })),
                    (We.h.isIndoorClimbingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) || We.h.isBoulderingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)) && this.dataModel.indoorClimbDifficulty && e.addModel({
                        model: this.dataModel.indoorClimbDifficulty,
                        required: !0
                    }),
                    We.h.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && e.addModel({
                        model: this.dataModel.tankSensor,
                        required: !0,
                        countError: !0
                    }),
                    We.h.isHiitActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && (e.addModel({
                        model: this.dataModel.activityRounds,
                        required: !0
                    }),
                    e.addModel({
                        model: this.dataModel.activityModel.repCountingActivity,
                        required: !0
                    }),
                    this.exerciseTypes = new O.a({}),
                    e.addModel({
                        model: this.exerciseTypes,
                        required: !0
                    })),
                    We.h.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.viewerIsOwner() && (this.userSettings = new Z.a,
                    e.addModel({
                        model: this.userSettings,
                        required: !0
                    }),
                    this.aggregateActivityMetricStats = new q.a({
                        aggregation: "yearly",
                        startDate: "0001-1-1",
                        endDate: Ge.a.formatISODate(y()().add(1, "days").toDate()),
                        activityType: "diving",
                        groupByActivityType: "true",
                        metric: ["bottomTime"],
                        excludedActivitySubType: ["apnea_diving", "apnea_hunting"]
                    }),
                    e.addModel({
                        model: this.aggregateActivityMetricStats,
                        require: !0
                    })),
                    this.viewerIsOwner() && this.dataModel.activityModel.activity.get("metadataDTO").isAtpActivity && null !== this.dataModel.activityModel.activity.get("metadataDTO").associatedWorkoutId && (this.workout = new J.a({
                        workoutId: this.dataModel.activityModel.activity.get("metadataDTO").associatedWorkoutId,
                        displayName: this.activityOwnerName()
                    }),
                    e.addModel({
                        model: this.workout,
                        required: !0
                    })),
                    this.dataModel.activityModel.activity.get("summaryDTO").jumpCount && this.dataModel.activityModel.activity.get("summaryDTO").jumpCount > 0 && e.addModel({
                        model: this.dataModel.jumps,
                        required: !0
                    }),
                    e.addModel({
                        model: this.dataModel.activityWorkouts,
                        required: !0
                    }),
                    this.hasPowerData() && (this.dataModel.powerCurve = new tt.a({
                        activityId: this.dataModel.activityModel.activity.get("activityId")
                    }),
                    e.addModel({
                        model: this.dataModel.powerCurve,
                        required: !0
                    })),
                    this.viewerIsOwner() && this.playlistPreference.featureEnabled() && e.addModel({
                        model: this.dataModel.playlist,
                        required: !0,
                        countError: !0
                    }),
                    (this.dataModel.activityModel.activity.get("hasPolyline") || this.hasStartOrEndPoints()) && this.viewerIsOwner() && this.mertricTrackLogPref.featureEnabled() && e.addModel({
                        model: this.displayMetricTrackLogTooltipUserPreference,
                        required: !0,
                        countError: !0
                    })) : 0 === t && (e.addModel({
                        model: this.respirationRatePref,
                        required: !0
                    }),
                    e.addModel({
                        model: this.playlistPreference,
                        required: !0
                    }),
                    e.addModel({
                        model: this.dataModel.activityModel.activity,
                        required: !0
                    }),
                    e.addModel({
                        model: this.advancedActivityEditPreference,
                        required: !0
                    }),
                    e.addModel({
                        model: this.dataModel.activityModel.activityTypedSplits,
                        required: !0,
                        countError: !0
                    }),
                    e.addModel({
                        model: this.addThisSharingEnabled,
                        required: !0
                    }),
                    e.addModel({
                        model: this.hideSensorInformationRoleKey,
                        required: !0
                    }),
                    e.addModel({
                        model: this.elevationScalingImprovementsRoleKey,
                        required: !0
                    }),
                    this.dataModel.mapProviderPreference && e.addModel({
                        model: this.dataModel.mapProviderPreference,
                        required: !0
                    }),
                    e.addModel({
                        model: this.mertricTrackLogPref,
                        required: !0
                    }),
                    this.dataModel.groundContactLastSelectedChart && e.addModel({
                        model: this.dataModel.groundContactLastSelectedChart,
                        required: !0
                    }),
                    this.dataModel.verticalOscRatioLastSelectedChart && e.addModel({
                        model: this.dataModel.verticalOscRatioLastSelectedChart,
                        required: !0
                    }),
                    this.dataModel.powerChartLastSelectedChart && e.addModel({
                        model: this.dataModel.powerChartLastSelectedChart,
                        required: !0
                    }),
                    this.dataModel.chartsOrderUserPref && e.addModel({
                        model: this.dataModel.chartsOrderUserPref,
                        required: !0
                    }),
                    this.dataModel.activityChartsOrder && e.addModel({
                        model: this.dataModel.activityChartsOrder,
                        required: !0
                    }),
                    this.dataModel.conversation && e.addModel({
                        model: this.dataModel.conversation,
                        required: !0,
                        countError: !0
                    }),
                    this.dataModel.biometrics && e.addModel({
                        model: this.dataModel.biometrics,
                        required: !0
                    }),
                    this.dataModel.courses && e.addModel({
                        model: this.dataModel.courses,
                        required: !0,
                        countError: !0
                    }),
                    this.dataModel.activityTypes && e.addModel({
                        model: this.dataModel.activityTypes,
                        required: !0
                    }),
                    this.dataModel.eventTypes && e.addModel({
                        model: this.dataModel.eventTypes,
                        required: !0
                    }),
                    this.dataModel.userMapSetting && e.addModel({
                        model: this.dataModel.userMapSetting,
                        required: !0
                    }),
                    this.dataModel.usersPersonalRecords && e.addModel({
                        model: this.dataModel.usersPersonalRecords,
                        required: !0
                    }),
                    this.dataModel.connectIQPresentationData && (e.addModel({
                        model: this.dataModel.connectIQPresentationData,
                        required: !1
                    }),
                    this.dataModel.connectIQPresentationData.once("sync", function() {
                        this.dataModel.currentActivityModel.isLoaded && (this.loadConnectIQ(),
                        this.connectIQPresentationDataLoaded = !0)
                    }, this)),
                    this.dataModel.thirdPartyUploads && e.addModel({
                        model: this.dataModel.thirdPartyUploads,
                        required: !1
                    }),
                    this.dataModel.activityHiddenCharts && e.addModel({
                        model: this.dataModel.activityHiddenCharts,
                        required: !1
                    }))
                },
                onDependenciesLoaded: function(e) {
                    if (this.dependenciesLoaded = !0,
                    0 === e)
                        this.dependenciesLoaded = !1;
                    else {
                        var t, i = this.dataModel.activityModel.activity.get("parentId");
                        if (i)
                            return void g.a.history.navigate("/activity/" + i + "/child/" + this.dataModel.activityModel.activityId, {
                                trigger: !0,
                                replace: !0
                            });
                        this.activityTypeKey = this.dataModel.activityModel.activity.getActivityTypeKey(),
                        this.dataModel.activityModel.activity.startTracking(),
                        this.dataModel.activityModel.isParent = this.dataModel.activityModel.activity.isParent(),
                        this.loadChildActivities(),
                        (h.a.isUndefined(this.dataModel.initialChildIndex) || h.a.isNaN(this.dataModel.initialChildIndex) || this.isBackFromSocialPlatform()) && (t = h.a.bind(this.displayActivityModel, this, this.dataModel.activityModel)),
                        this.loadActivityModel(this.dataModel.currentActivityModel, t),
                        this.workout && this.workout.has("atpPlanId") && (this.dataModel.activityModel.activity.get("summaryDTO").atpPlanId = this.workout.get("atpPlanId"))
                    }
                    return this.dependenciesLoaded
                },
                loadConnectIQ: function() {
                    this.connectIQPresentationUtil = new Ue.a(this.dataModel.connectIQPresentationData),
                    this.connectIQPresentationUtil.loadCIQLocalizedData(),
                    this.displayConnectIQViews()
                },
                destroy: function() {
                    this.activityTabsView && "function" === typeof this.activityTabsView.destroy && this.activityTabsView.destroy(),
                    this.autoRacingChartReactComponent && this.autoRacingChartReactComponent.removeComponent(),
                    this.off(),
                    this.remove()
                },
                render: function() {
                    var t = this;
                    if (this.$el.html(this.template({
                        Localizer: m.a,
                        Personalizer: v.a,
                        activity: this.dataModel.activityModel.activity.toJSON()
                    })),
                    this.dataModel.activityModel.isParent && (this.multisportNavView = new Ee.a({
                        el: this.$("#multisportNavPlaceholder"),
                        parentActivity: this.dataModel.activityModel.activity,
                        childActivities: this.dataModel.activityModel.childActivities
                    }),
                    this.listenTo(this.multisportNavView, Ee.a.Events.ActivityChanged, this.navigateToActivity, this),
                    this.multisportNavView.render()),
                    this.dataModel.activityModel.activity.get("hasPolyline") || this.hasStartOrEndPoints()) {
                        var i = this.dataModel.mapProviderPreference ? this.dataModel.mapProviderPreference.get("value") : null;
                        We.h.isSurfingActivity(this.activityTypeKey) ? this.reactMapComponent.renderComponent(be.a, this.$(".activity-react-map")[0], {
                            activity: this.dataModel.currentActivityModel.activity.toJSON(),
                            activitySplits: this.dataModel.currentActivityModel.activitySplits.toJSON(),
                            activityTypedSplits: this.dataModel.currentActivityModel.activityTypedSplits.toJSON(),
                            activityTypeKey: this.activityTypeKey,
                            showWeather: !0,
                            showFullScreen: !0,
                            hideZoomControls: !1,
                            hideMapProviderSwitch: !1,
                            doubleClickZoom: !0,
                            scrollWheelZoom: !0
                        }) : (this.activityMapView = new ve.a({
                            el: this.$("#activityMapViewPlaceholder"),
                            model: this.dataModel.currentActivityModel.activity,
                            activityDetails: this.dataModel.currentActivityModel.activityDetails,
                            activitySplits: this.dataModel.currentActivityModel.activitySplits,
                            activityTypedSplits: this.dataModel.currentActivityModel.activityTypedSplits,
                            userMapSetting: this.dataModel.userMapSetting,
                            childActivities: this.dataModel.activityModel.childActivities,
                            activityTypes: this.dataModel.activityTypes,
                            mapProvider: i,
                            player: this.dataModel.player,
                            videoClips: this.dataModel.videoClips,
                            jumps: et.a.userInChina() ? this.dataModel.jumps.getConvertedJumps() : this.dataModel.jumps.toJSON(),
                            isFullScreen: "true" === Ye.default.getQueryParameterByName("fullscreen"),
                            displayMetricTrackLogTooltip: this.showTracklogTooltip()
                        }),
                        this.listenTo(this.activityMapView, ve.a.Events.onMapCoordinateSystemClicked, this.onMapCoordinateSystemClicked, this),
                        this.listenTo(this.activityMapView, ve.a.Events.onCustomLayerClicked, this.onMapCustomLayerClicked, this),
                        this.listenTo(this.activityMapView, ve.a.Events.onTilesLoaded, function() {
                            (t.hasPolyline(t.dataModel.activityModel.activityDetails) || t.hasStartOrEndPoints()) && (t.mapTilesLoaded || (t.mapTilesLoaded = !0,
                            t.setMapLayer()))
                        }, this),
                        this.activityMapView.render())
                    }
                    this.showExerciseView(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && (this.repCountingActivityView = new Le.a({
                        el: this.$("#repCountingActivityViewPlaceholder"),
                        activity: this.dataModel.activityModel,
                        exerciseTypes: this.exerciseTypes.toJSON(),
                        isReadOnly: this.isReadOnly(),
                        isPilatesActivity: this.isPilatesActivity(),
                        isYogaActivity: this.isYogaActivity()
                    }),
                    this.$("#repCountingActivityViewPlaceholder").css({
                        display: "block"
                    }),
                    this.repCountingActivityView.render()),
                    We.h.isHiitActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && (this.roundsTableView = new Pe.a({
                        el: this.$("#roundsViewPlaceholder"),
                        activity: this.dataModel.activityModel,
                        exerciseTypes: this.exerciseTypes.toJSON(),
                        activityRounds: this.dataModel.activityRounds.get("rounds"),
                        isReadOnly: this.isReadOnly()
                    }),
                    this.$("#roundsViewPlaceholder").css({
                        display: "block"
                    }),
                    this.roundsTableView.render()),
                    this.showDiveLog() && (this.activityDiveLogView = new ze.a({
                        el: this.$("#divingLogViewPlaceholder"),
                        model: this.dataModel.activityModel
                    }),
                    this.$("#divingLogViewPlaceholder").css({
                        display: "block"
                    }),
                    this.activityDiveLogView.render()),
                    this.dataModel.activityModel.activity.get("hasChartData") && (this.activityChartsView = new me.a({
                        el: this.$("#activityChartsViewPlaceholder"),
                        player: this.dataModel.player,
                        overlayData: this.getOverlayData(),
                        groundContactLastSelectedChart: this.dataModel.groundContactLastSelectedChart,
                        verticalOscRatioLastSelectedChart: this.dataModel.verticalOscRatioLastSelectedChart,
                        powerChartLastSelectedChart: this.dataModel.powerChartLastSelectedChart,
                        isOwner: this.viewerIsOwner(),
                        hasPowerData: this.dataModel.activityModel.activityDetails.hasPowerData(),
                        activityHiddenChartsModel: this.dataModel.activityHiddenCharts,
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo(),
                        jumps: this.dataModel.jumps,
                        activityWorkouts: this.dataModel.activityWorkouts,
                        activityChartsOrder: this.dataModel.activityChartsOrder,
                        chartsOrderUserPref: this.dataModel.chartsOrderUserPref,
                        activityTypes: this.dataModel.activityTypes,
                        viewerIsAuthenticated: this.viewerIsAuthenticated(),
                        tankSensor: this.dataModel.tankSensor,
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty,
                        canViewImprovedElevationsScaling: this.elevationScalingImprovementsRoleKey.featureEnabled(),
                        hasPaceProSplits: this.hasPaceProSplits()
                    }),
                    this.listenTo(this.activityChartsView, me.a.Events.DisplayWeightEntryPopup, this.onDisplayWeightEntryPopup, this),
                    this.listenTo(this.activityChartsView, me.a.Events.WeightChangedFromChart, this.onWeightChanged, this),
                    this.listenTo(this.activityChartsView, me.a.Events.AxisTypeChanged, this.onAxisTypeChanged, this),
                    this.listenTo(this.activityChartsView, me.a.Events.PowerRangeChanged, this.onPowerRangeChanged, this),
                    this.listenTo(this.activityChartsView, me.a.Events.ResetZoom, this.onRangeReset, this));
                    var a = this.dataModel.activityModel.activity.get("timeZoneUnitDTO").unitKey
                      , n = T.a.getByKey(a);
                    if (n)
                        var r = m.a.localize(n.get("unitKey"));
                    this.activityIntroView = new ye.a({
                        el: this.$("#activityIntroViewPlaceholder"),
                        readOnly: this.isReadOnly(),
                        model: this.dataModel.activityModel.activity,
                        activityTypes: this.dataModel.activityTypes,
                        eventTypes: this.dataModel.eventTypes,
                        userCourses: this.dataModel.courses,
                        userBiometrics: this.dataModel.biometrics,
                        activityTimeZone: r,
                        activityTypeReadOnly: this.dataModel.activityModel.activity.isParent() || this.isReadOnly(),
                        isRepCounting: We.h.isRepCounting(this.activityTypeKey)
                    }),
                    this.activityIntroView.render(),
                    this.listenTo(this.activityIntroView, ye.a.Events.ActivityNameChanged, function() {
                        t.pushAnalyticsEvent("Activity Name Changed")
                    }),
                    this.listenTo(this.activityIntroView, ye.a.Events.EventTypeChanged, function() {
                        t.pushAnalyticsEvent("Activity Event Type Changed")
                    }),
                    this.listenTo(this.activityIntroView, ye.a.Events.ActivityTypeChanged, this.onActivityTypeChanged),
                    this.listenTo(this.activityIntroView, ye.a.Events.PrepareToNavigate, function() {
                        this.activityMapView && this.activityMapView.destroy()
                    }
                    .bind(this)),
                    this.viewerIsAuthenticated() && (this.activityCommentsView = new fe.a({
                        el: this.$("#activityCommentsViewPlaceholder"),
                        model: this.dataModel.activityModel.activity,
                        conversation: this.dataModel.conversation
                    }),
                    this.activityCommentsView.render()),
                    this.activityToolbarView = new Ae.a({
                        el: this.$("#activityToolbarViewPlaceholder"),
                        conversation: this.dataModel.conversation,
                        model: this.dataModel.activityModel.activity,
                        usersPersonalRecords: this.dataModel.usersPersonalRecords,
                        userUnit: this.userPreferences.get("measurementSystem"),
                        viewerIsAuthenticated: this.viewerIsAuthenticated(),
                        viewerIsConnected: this.isViewerConnected(),
                        mapProviderPreference: this.dataModel.mapProviderPreference,
                        activityTypes: this.dataModel.activityTypes,
                        canShowAdvancedActivityEdit: this.canShowAdvancedActivityEdit(),
                        canShowActivityRestore: this.canShowActivityRestore(),
                        addThisSharingEnabled: this.addThisSharingEnabled.get("value")
                    }),
                    this.activityToolbarView.on(Ae.a.Events.PersonalRecordsChanged, this.onPersonalRecordsChanged, this),
                    this.activityToolbarView.on(Ae.a.Events.PrivacyChanged, this.onPrivacyChanged, this),
                    this.listenTo(this.activityToolbarView, Ae.a.Events.RestoreActivity, function() {
                        this.restoreToOriginal()
                    }, this),
                    this.listenTo(this.activityToolbarView, Ae.a.Events.ExportSplitsCSV, this.exportSplitsToCSV),
                    We.h.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.dataModel.activityModel.activity.has("diveInfo") && (this.$("#activityLocationViewPlaceholder").append(new ce.a({
                        isNoteDisabled: this.isDiveLocationDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        modelAttribute: "locationName",
                        hasHeader: !0,
                        headerText: "dive_location"
                    }).render().el),
                    this.$("#entryLocationViewPlaceholder").append(new he.a({
                        isNoteDisabled: !0,
                        canEditNote: !0,
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        Latitude: "startLatitude",
                        Longitude: "startLongitude",
                        headerText: "entry_location"
                    }).render().el),
                    this.$("#exitLocationViewPlaceholder").append(new he.a({
                        isNoteDisabled: !0,
                        canEditNote: !0,
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        Latitude: "endLatitude",
                        Longitude: "endLongitude",
                        headerText: "exit_location"
                    }).render().el),
                    this.$("#activityBuddyViewPlaceholder").append(new ce.a({
                        isNoteDisabled: this.isDiveBuddyDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        modelAttribute: "buddy",
                        hasHeader: !0,
                        headerText: "dive_buddy"
                    }).render().el),
                    this.$("#activityEquipmentViewPlaceholder").append(new ce.a({
                        isNoteDisabled: this.isDiveEquipmentDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        modelAttribute: "equipments",
                        hasHeader: !0,
                        headerText: "diving_equipment"
                    }).render().el)),
                    this.playlistPreference.featureEnabled() && this.dataModel.playlist && this.dataModel.playlist.length > 0 && (this.songs = h.a.filter(this.dataModel.playlist.models, this.showSong),
                    this.songs.length > 0 && (this.activityPlaylistView = new Re.a({
                        songs: this.songs
                    }),
                    this.$("#activityPlaylistPlaceholder").html(this.activityPlaylistView.render().el))),
                    this.viewerIsOwner() || this.dataModel.activityModel.activity.has("description") ? (this.activityNotes = new ce.a({
                        isNoteDisabled: this.isNoteDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        hasHeader: !0,
                        headerText: "activity_notes_placeholder",
                        charMaxLength: 2e3,
                        placeholderText: We.h.getNotePlaceholderCopy(this.dataModel.currentActivityModel.activity.get("activityTypeDTO"), this.dataModel.activityTypes),
                        hasWorkoutExecutionScore: !!this.dataModel.activityModel.activity.get("directWorkoutComplianceScore") && this.dataModel.activityModel.activity.get("directWorkoutComplianceScore")
                    }),
                    this.$("#activityNoteViewPlaceholder").append(this.activityNotes.render().el)) : this.viewerIsAuthenticated() || this.$(".wrapper-top-container").hide(),
                    et.a.userInChina() || (this.hasVirbVideo() ? this.activityYouTubeView = new _e.a({
                        el: this.$("#activityYouTubePlaceholder"),
                        model: this.dataModel.activityModel.activity,
                        activityDetails: this.dataModel.activityModel.activityDetails,
                        player: this.dataModel.player,
                        videoClips: this.dataModel.videoClips
                    }) : this.activityYouTubeView = new Ce.a({
                        el: this.$("#activityYouTubePlaceholder"),
                        model: this.dataModel.activityModel.activity
                    }),
                    this.activityYouTubeView.render()),
                    this.renderActivityBadges(),
                    this.activityPhotosView = new we.a({
                        el: this.$("#activityPhotosPlaceholder"),
                        canManagePhotos: this.viewerIsOwner(),
                        activityId: this.dataModel.activityModel.activityId,
                        images: this.dataModel.activityModel.activity.get("metadataDTO").activityImages
                    }),
                    this.activityPhotosView.render(),
                    this.renderActivityDetailSmallStats(),
                    this.activityAdditionalInfoView = new xe.a({
                        el: this.$("#device-info"),
                        agent: this.dataModel.agentInfo,
                        device: this.dataModel.deviceInfo,
                        displayAgentInfo: this.shouldActivityModelShowAgent(D.a),
                        activity: this.dataModel.activityModel.activity,
                        thirdPartyPartners: this.dataModel.thirdPartyUploads,
                        viewerIsAuthenticated: this.viewerIsAuthenticated(),
                        viewerIsOwner: this.viewerIsOwner()
                    }),
                    this.activityAdditionalInfoView.on(xe.a.Events.ELEV_CORRECTION_CHANGED, function(e) {
                        location.reload()
                    }),
                    this.activityGearListView = new ke.a({
                        el: this.$("#attached-gear"),
                        readOnly: this.isReadOnly()
                    }),
                    We.h.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.renderDiveAppPromotion(),
                    this.activityTabsView = new Te.a({
                        el: this.$("#activityTabsViewPlaceholder"),
                        isLapSwimming: this.dataModel.activityModel.activity.get("summaryDTO").poolLength,
                        segmentCount: this.dataModel.activityModel.segments.length,
                        activityPageModel: this,
                        timeInZones: this.getTimeInZonesInfo(),
                        activityId: this.dataModel.activityModel.activityId,
                        activityDuration: this.dataModel.activityModel.activity.get("duration"),
                        summaryDTO: this.dataModel.activityModel.activity.get("summaryDTO"),
                        diveInfo: this.dataModel.activityModel.activity.get("diveInfo"),
                        apneaDives: this.dataModel.activityModel.activitySplits.get("lapDTOs"),
                        containsCyclingDynamicsData: this.dataModel.activityModel.activity.hasCyclingDynamicsData(),
                        hasMTBData: this.dataModel.activityModel.activity.hasMTBData(),
                        showPowerCurve: this.showPowerCurve(),
                        activityTypeKey: this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey,
                        manualActivity: this.dataModel.activityModel.activity.get("manualActivity"),
                        hasIntensityIntervals: this.hasIntensityIntervals(),
                        hasTypedSplits: this.hasTypedSplits(),
                        activity: this.dataModel.activityModel.activity,
                        activityTypedSplits: this.dataModel.activityModel.activityTypedSplits
                    }),
                    this.listenTo(this.activityTabsView, Te.a.Events.SEGMENT_TAB_CLICK, this.onFirstClickSegmentsTab, this),
                    this.listenTo(this.activityTabsView, Te.a.Events.MtbTabClicked, this.onMtbMetricsTabClicked, this),
                    this.listenTo(this.activityTabsView, Te.a.Events.PowerCurveTabClicked, this.onPowerCurveTabClicked, this),
                    this.listenTo(this.activityTabsView, Te.a.Events.ChartRangeChanged, this.onChartRangeChanged, this),
                    this.listenTo(this.activityTabsView, Te.a.Events.ModelSyncFail, function() {
                        this.showFailureMessage(m.a.localize("error_calculating_max_avg_power"))
                    }, this),
                    this.listenTo(this.activityTabsView, Te.a.Events.ModelSyncSuccess, function() {
                        this.hideFailureMessage()
                    }, this),
                    this.listenTo(this.activityTabsView, Te.a.Events.Error, function(e) {
                        this.$(".alert").html(e).show()
                    }, this),
                    this.activityStatsView = new Ie.a({
                        el: this.$("#tab-stats"),
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo(),
                        hasWorkoutExecutionScore: !!this.dataModel.activityModel.activity.get("directWorkoutComplianceScore") && this.dataModel.activityModel.activity.get("directWorkoutComplianceScore")
                    }),
                    this.listenTo(this.activityStatsView, Ie.a.Events.SpeedPaceToggled, this.onSpeedPaceToggled, this),
                    this.listenTo(this.activityStatsView, Ie.a.Events.DisplayWeightEntryPopup, this.onDisplayWeightEntryPopup, this),
                    this.listenTo(this.activityStatsView, Ie.a.Events.WeightChangedFromPowerStats, this.onWeightChanged, this);
                    var o = this.getParentType();
                    this.activitySplitsView = new De.a({
                        el: this.$("#tab-splits"),
                        usersWeight: this.getUsersWeight(),
                        isOwner: this.viewerIsOwner(),
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo(),
                        parentType: o ? o.get("typeKey") : null,
                        hasIntensityIntervals: this.hasIntensityIntervals(),
                        hasTypedSplits: this.hasTypedSplits(),
                        isUltraRunActivity: We.h.isUltraRunActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey),
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty
                    }),
                    this.listenTo(this.activitySplitsView, De.a.Events.DisplayWeightEntryPopup, this.onDisplayWeightEntryPopup, this),
                    this.listenTo(this.activitySplitsView, De.a.Events.WeightChangedFromSplits, this.onWeightChanged, this),
                    this.activitySegmentsView = new Be.a({
                        el: this.$("#tab-segments"),
                        isOwner: this.viewerIsOwner()
                    }),
                    this.activitySegmentsView && this.activityTabsView && this.listenTo(this.activitySegmentsView, Be.a.Events.RequestedSegmentMatch, this.activityTabsView.checkIfShouldRemoveSegmentCount),
                    this.listenTo(this.activitySegmentsView, Be.a.Events.ViewSegmentToggled, this.onViewSegmentToggled),
                    this.ciqInfoView = new Ve.a({
                        el: this.$("div.ciq-info")
                    }),
                    this.rendered = !0,
                    this.trigger(wt.PageRendered),
                    Qe.a.removeExpandCollapseHandlers(),
                    Qe.a.setExpandCollapseHandler(function() {
                        this.activityChartsView && "function" === typeof this.activityChartsView.reflowCharts && this.activityChartsView.reflowCharts(),
                        this.autoRacingChartReactComponent && this.autoRacingChartReactComponent.renderComponent(at.a, this.$("#autoRacingLapChartPlaceholder")[0], {
                            lapDTOs: this.dataModel.activityModel.activitySplits.get("lapDTOs"),
                            directSpeed: this.dataModel.activityModel.activityDetails.getData("directSpeed")
                        })
                    }
                    .bind(this), 100),
                    this.pushPageViewAnalyticsEvents(),
                    "true" === Ye.default.getQueryParameterByName("trimmed") && this.displayNotification("advanced_edit_restore_info", !1),
                    e(".page.activity-detail").on("dragenter", this.onDragFileIn.bind(this)),
                    e(".page.activity-detail").on("dragleave", this.onDragFileOut.bind(this)),
                    this.$el.attr("data-activity-type", this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)
                },
                hasPaceProSplits: function() {
                    var e = this.dataModel.activityModel.activity.get("hasSplits")
                      , t = this.dataModel.activityModel.activity.get("splitSummaries")
                      , i = !1;
                    return t && t.length > 0 && (i = t.some(function(e) {
                        return e.splitType === vt.a
                    })),
                    !!(e && t && i)
                },
                onFirstClickSegmentsTab: function() {
                    this.activitySegmentsView.setData(this.dataModel.currentActivityModel.activity, this.dataModel.currentActivityModel.segments),
                    this.activitySegmentsView.render()
                },
                isSegmentMatchActiveValues: function() {
                    return this.activitySegmentsView && "function" === typeof this.activitySegmentsView.getIsSegmentMatchActive && this.activitySegmentsView.getIsSegmentMatchActive(this.dataModel.activityModel.activity.get("activityId"))
                },
                onMtbMetricsTabClicked: function(e) {
                    0 === e && this.$("#tab-mtb").html(new Me.a({
                        summaryDTO: this.dataModel.currentActivityModel.activity.get("summaryDTO"),
                        activity: this.dataModel.currentActivityModel.activity,
                        jumps: this.dataModel.jumps
                    }).render().el)
                },
                onPowerCurveTabClicked: function(e) {
                    if (0 === e)
                        if (this.dataModel.powerCurve.get("excludeFromPowerCurveReports"))
                            this.powerCurveExcludedView = new it.a({}),
                            this.listenTo(this.powerCurveExcludedView, it.a.Events.INCLUDE_ACTIVITY, function() {
                                this.includeActivityIntoPowerCurve(this.dataModel.activityModel.activity.get("activityId"))
                            }),
                            this.$("#tab-power-curve").html(this.powerCurveExcludedView.render().el);
                        else {
                            var t = new Oe.a({
                                activityPowerCurve: this.dataModel.powerCurve
                            });
                            this.listenTo(t, Oe.a.Events.Error, function(e) {
                                this.$(".alert").html(e).show()
                            }),
                            this.$("#tab-power-curve").html(t.render().el)
                        }
                },
                getOverlayData: function() {
                    var e = null;
                    return this.hasVirbVideo() && (Ne.b.videoClips.data = this.dataModel.videoClips.models.length > 0 ? this.dataModel.videoClips.models : null,
                    e = Ne.b.videoClips),
                    this.hasTypedSplits() && (Ne.b.typedSplits.data = this.dataModel.currentActivityModel.activityTypedSplits.getHighlightedSplits(),
                    e = Ne.b.typedSplits),
                    e
                },
                setOverlayCompareData: function(e) {
                    this.hasVirbVideo() && (Ne.b.videoClips.compareData = e),
                    this.hasTypedSplits() && (Ne.b.typedSplits.compareData = e)
                },
                loadChildActivities: function() {
                    var e = this.dataModel.activityModel.activity.get("childIds");
                    if (e && e.length > 0) {
                        var t = new Fe.a
                          , i = 1;
                        h.a.each(e, function(e) {
                            var a = new _t(e);
                            a.index = i++,
                            this.dataModel.activityModel.childModels.push(a),
                            t.addModel({
                                model: a.activity,
                                required: !0
                            })
                        }, this),
                        t.on(Fe.a.Events.SYNCHRONIZED, function() {
                            h.a.each(this.dataModel.activityModel.childModels, function(e) {
                                this.dataModel.activityModel.childActivities.add(e.activity)
                            }, this),
                            this.multisportNavView && (this.multisportNavView.childActivities = this.dataModel.activityModel.childActivities,
                            this.multisportNavView.render()),
                            "undefined" != typeof this.dataModel.initialChildIndex && this.dataModel.initialChildIndex < this.dataModel.activityModel.childModels.length + 1 && this.navigateToChild(this.dataModel.initialChildIndex)
                        }, this),
                        t.fetchModels()
                    }
                },
                navigateToActivity: function(e) {
                    if (this.dataModel.setCurrentActivityModel(e),
                    e == this.dataModel.activityModel.activityId)
                        g.a.history.navigate("/activity/" + this.dataModel.activityModel.activityId, {
                            replace: !0
                        }),
                        this.multisportNavView && this.multisportNavView.selectTab(0);
                    else {
                        var t = this.dataModel.currentActivityModel.index;
                        t > 0 && (g.a.history.navigate("/activity/" + this.dataModel.activityModel.activityId + "/" + t, {
                            replace: !0
                        }),
                        this.multisportNavView && this.multisportNavView.selectTab(t))
                    }
                    this.loadAndDisplayActivityModel(this.dataModel.currentActivityModel)
                },
                navigateToChild: function(e) {
                    this.dataModel.currentActivityModel = this.dataModel.activityModel.childModels[e - 1],
                    this.loadAndDisplayActivityModel(this.dataModel.currentActivityModel),
                    this.multisportNavView.selectTab(e)
                },
                loadAndDisplayActivityModel: function(e) {
                    this.loadActivityModel(e, h.a.bind(this.displayActivityModel, this, e))
                },
                handleDisplayActivityMapView: function(e) {
                    this.activityMapView && (this.hasPolyline(e.activityDetails) || this.hasStartOrEndPoints()) ? (this.additionalMapLayers = this.getMapLayers(e),
                    this.activityMapView.show(),
                    this.activityMapView.setActivity(e.activity, e.activityDetails, e.activitySplits, e.activityTypedSplits, e.weather, this.additionalMapLayers, e.hrTimeInZones, e.powerTimeInZones),
                    this.activityMapView.updatePolyline()) : this.activityMapView && this.activityMapView.hide()
                },
                hasPolyline: function(e) {
                    return e.get("polyline") && e.get("polyline").length > 0
                },
                displayActivityModel: function(t) {
                    if (this.$el.attr("data-activity-type", t.activity.get("activityTypeDTO").typeKey),
                    this.handleDisplayActivityMapView(t),
                    t.activity.get("hasChartData") && t.activityDetails.isValid() && (this.activityChartsView.setActivity(t.activity, t.activityDetails, t.activitySplits, t.activityTypedSplits, t.splitSummaries, this.getUsersWeight()),
                    this.setOverlayCompareData(t.activityDetails.getData("directTimestamp", "sumDuration")),
                    this.activityChartsView.render()),
                    this.activityAdditionalInfoView && (this.activityAdditionalInfoView.setData({
                        displayElevCorrectionInfo: this.canDisplayElevCorrectionInfo(),
                        displayPowerAvgCalInfo: this.dataModel.activityModel.activityDetails.hasPowerData()
                    }),
                    this.activityAdditionalInfoView.render()),
                    this.activityAccessoryInfoView ? this.activityAccessoryInfoView && this.activityAccessoryInfoView.updateAccessories(this.getAllAccessories()) : this.activityAccessoryInfoView = new je.a({
                        el: this.$("#accessory-info"),
                        accessories: this.getAllAccessories()
                    }),
                    this.activityAccessoryInfoView.render(),
                    this.activityToolbarView && (this.activityToolbarView.setData({
                        hasMap: this.showEmbedMapView()
                    }),
                    this.activityToolbarView.canShowAdvancedActivityEdit(this.canShowAdvancedActivityEdit()),
                    this.activityToolbarView.canShowActivityRestore(this.canShowActivityRestore()),
                    this.activityToolbarView.render()),
                    this.activityTabsView.$("#tabStatsId").click(),
                    this.activityTabsView.setData(t.segments.length, t.activity.isLapSwimming(), this.containsGasesAndTanks(t), this.hasApneaDives(t), t.activitySplits.get("lapDTOs"), this.getTimeInZonesInfo(t.activity.get("metadataDTO")), t.activity.hasCyclingDynamicsData(), t.activity.get("activityId"), t.activity.get("duration"), t.activity.get("summaryDTO"), t.activity.isParent()),
                    this.activityTabsView.showSegmentTab = this.shouldActivityModelShowSegments(t),
                    this.activityTabsView.showSplitsTab = this.shouldActivityModelShowSplits(t),
                    this.activityTabsView.hasIntensityIntervals = this.hasIntensityIntervals(),
                    this.activityTabsView.showStatsTab = this.shouldActivityModelShowStats(t),
                    this.activityTabsView.render(),
                    this.activityTabsView.$el.show(),
                    t.isParent ? (this.activityStatsView.setData(null),
                    this.activityStatsView.$el.empty(),
                    this.activityStatsView.stopListening()) : (this.activityStatsView.setData(t.activity, t.splitSummaries, this.hasPowerData(), this.getUsersWeight(), this.getRepCounting(), this.splits, this.dataModel.indoorClimbDifficulty.toJSON(), this.hasTypedSplits()),
                    this.activityStatsView.powerZones = this.dataModel.powerZones,
                    this.activityStatsView.heartRateZones = this.dataModel.heartRateZones,
                    this.activityStatsView.activityTypes = this.dataModel.activityTypes,
                    We.h.isDivingActivity(t.activity.get("activityTypeDTO").typeKey) && this.viewerIsOwner() && (this.activityStatsView.aggregateActivityMetricStats = this.aggregateActivityMetricStats,
                    this.activityStatsView.userSettings = this.userSettings),
                    this.activityStatsView.render()),
                    this.shouldActivityModelShowSplits(t)) {
                        var i = this.getParentType();
                        this.activitySplitsView.setData({
                            model: t.activitySplits,
                            activityTypeKey: t.activity.get("activityTypeDTO").typeKey,
                            activitySummary: t.activity,
                            usersWeight: this.getUsersWeight(),
                            parentType: i ? i.get("typeKey") : null,
                            activityWorkouts: this.dataModel.activityWorkouts ? this.dataModel.activityWorkouts.toJSON() : null,
                            activityTypedSplits: t.activityTypedSplits,
                            splitSummaries: t.splitSummaries
                        }),
                        this.activitySplitsView.render()
                    } else
                        this.activitySplitsView.$el.empty(),
                        this.activitySplitsView.stopListening();
                    this.shouldActivityModelShowSegments(t) ? this.activitySegmentsView.render() : (this.activitySegmentsView.$el.empty(),
                    this.activitySegmentsView.stopListening()),
                    this.activityToolbarView.setActivity(t.activity),
                    this.activityToolbarView.render(),
                    this.renderActivityDetailSmallStats(),
                    this.activityTabsView.activityTypeKey = t.activity.get("activityTypeDTO").typeKey,
                    this.activityTabsView.render(),
                    this.activityIntroView.updateModels(t.activity, t.selectedGear, t.course),
                    this.activityIntroView.render(),
                    this.activityGearListView && (this.activityGearListView.updateModels(t.activity, t.selectedGear),
                    this.activityGearListView.render());
                    var a = this.dataModel.activityModel.activityDetails.hasPowerData();
                    if (e(".legal", this.$el).css({
                        display: a ? "block" : "none"
                    }),
                    this.showExerciseView(t.activity.get("activityTypeDTO").typeKey)) {
                        if (!this.exerciseTypes) {
                            (r = new Fe.a).addModel({
                                model: this.dataModel.currentActivityModel.repCountingActivity,
                                required: !0
                            }),
                            this.isPilatesActivity(t) ? this.exerciseTypes = new R.a({}) : this.exerciseTypes = new O.a({}),
                            r.addModel({
                                model: this.exerciseTypes,
                                required: !0
                            });
                            var n = this;
                            return this.listenTo(r, Fe.a.Events.SYNCHRONIZED, function() {
                                n.displayActivityModel(n.dataModel.currentActivityModel),
                                n.stopListening(r)
                            }),
                            void r.fetchModels()
                        }
                        if (this.dataModel.activityModel.isParent) {
                            var r;
                            (r = new Fe.a).addModel({
                                model: this.dataModel.currentActivityModel.repCountingActivity,
                                required: !0
                            });
                            n = this;
                            this.listenTo(r, Fe.a.Events.SYNCHRONIZED, function() {
                                n.displayActivityModel(n.dataModel.currentActivityModel),
                                n.stopListening(r)
                            }),
                            r.fetchModels()
                        }
                        this.repCountingActivityView = new Le.a({
                            el: this.$("#repCountingActivityViewPlaceholder"),
                            activity: t,
                            exerciseTypes: this.exerciseTypes.toJSON(),
                            isReadOnly: this.isReadOnly(),
                            isPilatesActivity: this.isPilatesActivity(t),
                            isYogaActivity: this.isYogaActivity(t)
                        }),
                        this.$("#repCountingActivityViewPlaceholder").css({
                            display: "block"
                        }),
                        this.repCountingActivityView.render()
                    } else
                        this.repCountingActivityView && (this.repCountingActivityView.off(),
                        this.repCountingActivityView = null,
                        this.$("#repCountingActivityViewPlaceholder").html(""));
                    We.h.isDivingActivity(t.activity.get("activityTypeDTO").typeKey) && !We.h.isApneaDiving(t.activity.get("activityTypeDTO").typeKey) ? (this.activityDiveLogView = new ze.a({
                        el: this.$("#divingLogViewPlaceholder"),
                        model: t
                    }),
                    this.$("#divingLogViewPlaceholder").css({
                        display: "block"
                    }),
                    this.activityDiveLogView.render()) : this.activityDiveLogView && (this.activityDiveLogView.off(),
                    this.activityDiveLogView = null,
                    this.$("#divingLogViewPlaceholder").html("")),
                    this.activityNotes && "function" === typeof this.activityNotes.updatePlaceholderText && this.activityNotes.updatePlaceholderText(We.h.getNotePlaceholderCopy(this.dataModel.currentActivityModel.activity.get("activityTypeDTO"), this.dataModel.activityTypes)),
                    (We.h.isIndoorClimbingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) || We.h.isBoulderingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)) && this.dataModel.activityModel.activityTypedSplits && this.dataModel.activityModel.activityTypedSplits.length && Object(gt.f)(this.dataModel.activityModel.activityTypedSplits.toJSON()) && (this.climbingDifficultyChart = new ge.a,
                    this.climbingDifficultyChart.renderComponent(st.a, this.$("#climbingDifficultyChartPlaceholder")[0], {
                        typedSplits: this.dataModel.activityModel.activityTypedSplits.toJSON(),
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty.toJSON()
                    }),
                    this.$("#climbingDifficultyChartPlaceholder").css({
                        display: "block"
                    })),
                    We.h.isBoulderingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.dataModel.activityModel.activityTypedSplits && this.dataModel.activityModel.activityTypedSplits.length && (this.boulderingDifficultyChart = new ge.a,
                    this.boulderingDifficultyChart.renderComponent(lt.a, this.$("#climbingDifficultyChartPlaceholder")[0], {
                        typedSplits: this.dataModel.activityModel.activityTypedSplits.toJSON(),
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty.toJSON()
                    }),
                    this.$("#climbingDifficultyChartPlaceholder").css({
                        display: "block"
                    })),
                    We.h.isAutoRacingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.dataModel.activityModel.activitySplits.get("lapDTOs").length && (this.autoRacingChartReactComponent = new ge.a,
                    this.autoRacingChartReactComponent.renderComponent(at.a, this.$("#autoRacingLapChartPlaceholder")[0], {
                        lapDTOs: this.dataModel.activityModel.activitySplits.get("lapDTOs"),
                        directSpeed: this.dataModel.activityModel.activityDetails.getData("directSpeed")
                    }),
                    this.$("#autoRacingLapChartPlaceholder").css({
                        display: "block"
                    })),
                    We.h.isSurfingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.dataModel.activityModel.activityTypedSplits && this.dataModel.activityModel.activityTypedSplits.getSplitsOfType("SURF_ACTIVE").length && (this.renderSurfWaveDistanceChart(),
                    this.renderSurfWaveMapLegend()),
                    this.mapTilesLoaded && this.activityTypeChanged && (this.hasPolyline(this.dataModel.activityModel.activityDetails) || this.hasStartOrEndPoints()) && this.setMapLayer()
                },
                containsGasesAndTanks: function(e) {
                    var t = e.activity.get("activityTypeDTO").typeKey;
                    if (We.h.isDivingActivity(t) && !We.h.isApneaDiving(t) && e.activity.get("diveInfo") && e.activity.get("diveInfo").diveGases && e.activity.get("diveInfo").diveGases.length > 0)
                        return !0
                },
                showEmbedMapView: function() {
                    return !(!this.dataModel.activityModel.activity.get("hasPolyline") && !this.hasStartOrEndPoints())
                },
                hasApneaDives: function(e) {
                    var t = e.activity.get("activityTypeDTO").typeKey
                      , i = e.activity.get("manualActivity");
                    if (We.h.isApneaDiving(t) && e.activitySplits.get("lapDTOs").length > 0 && !i)
                        return !0
                },
                displayConnectIQViews: function() {
                    if (this.presentationDataWasReturnedForConnectIQ()) {
                        var e = this.dataModel.activityModel;
                        this.ciqInfoView.renderWithPrecentationData(this.connectIQPresentationUtil),
                        e.activity && this.activityStatsView.renderConnectIQView(this.connectIQPresentationUtil),
                        this.shouldActivityModelShowSplits(e) && this.activitySplitsView.renderConnectIQView(this.connectIQPresentationUtil),
                        e.activityDetails && this.activityChartsView.renderConnectIQView(this.connectIQPresentationUtil)
                    }
                },
                loadActivityModel: function(e, t) {
                    var i = new Fe.a({});
                    if (this.rendered || i.addEvent({
                        model: this,
                        event: wt.PageRendered,
                        required: !0
                    }),
                    this.viewerIsOwner() && !this.dataModel.powerZones) {
                        var a = this.dataModel.currentActivityModel.activity.get("activityTypeDTO").typeKey
                          , n = this.dataModel.activityTypes.getParentType(a);
                        if (n) {
                            var r = n.get("typeKey");
                            r === Ke.a.WinterSports && a.includes("cross_country") && (r = a.substring(0, a.length - 3)),
                            this.dataModel.powerZones = new G.a({
                                sportType: r
                            }),
                            this.dataModel.powerZones.findSport(r.toUpperCase()) && i.addModel({
                                model: this.dataModel.powerZones,
                                required: !0
                            })
                        }
                    }
                    this.viewerIsOwner() && !this.dataModel.heartRateZones && (this.dataModel.heartRateZones = new F.a,
                    i.addModel({
                        model: this.dataModel.heartRateZones,
                        required: !0
                    })),
                    this.canActivityModelSupportSegments(e) && (this.dataModel.segmentOptionalFeature || (this.dataModel.segmentOptionalFeature = new Q.a({
                        displayName: this.activityOwnerName()
                    }),
                    i.addModel({
                        model: this.dataModel.segmentOptionalFeature,
                        required: !0
                    })),
                    this.dataModel.stravaOptionalFeature || (this.dataModel.stravaOptionalFeature = new $.a({}),
                    i.addModel({
                        model: this.dataModel.stravaOptionalFeature,
                        required: !0
                    })));
                    var o = this.dataModel.activityModel.activity.get("metadataDTO").deviceApplicationInstallationId
                      , s = this.dataModel.activityModel.activity.get("metadataDTO").agentApplicationInstallationId;
                    if (!this.dataModel.deviceInfo && o && (this.dataModel.deviceInfo = new K.a([],{}),
                    this.dataModel.deviceInfo.setAfterLoad(o),
                    i.addModel({
                        model: this.dataModel.deviceInfo,
                        required: !0,
                        countError: !0
                    })),
                    !this.dataModel.agentInfo && this.shouldActivityModelShowAgent() && (this.dataModel.agentInfo = new K.a([],{}),
                    this.dataModel.agentInfo.setAfterLoad(s),
                    i.addModel({
                        model: this.dataModel.agentInfo,
                        required: !0,
                        countError: !0
                    })),
                    e.isLoaded)
                        t && t();
                    else {
                        if (e.activitySplits && i.addModel({
                            model: e.activitySplits,
                            required: !0,
                            countError: !0
                        }),
                        (this.hasTypedSplits() || this.hasIntensityIntervals() && e.activityTypedSplits) && i.addModel({
                            model: this.dataModel.activityModel.activityTypedSplits,
                            required: !0,
                            countError: !0
                        }),
                        e.activity.get("hasChartData") || e.activity.get("hasPolyline")) {
                            e.activityDetails.setIsLapSwimming(e.activity.isLapSwimming()),
                            i.addModel({
                                model: e.activityDetails,
                                required: !0,
                                countError: !0
                            }),
                            i.addModel({
                                model: e.splitSummaries,
                                required: !0,
                                countError: !0
                            }),
                            e.hrTimeInZones = new bt.a({
                                activityId: e.activityId
                            }),
                            e.powerTimeInZones = new At.a({
                                activityId: e.activityId
                            });
                            var l = this.getTimeInZonesInfo();
                            this.mertricTrackLogPref.featureEnabled() && (l.hasHrTimeInZones && i.addModel({
                                model: e.hrTimeInZones,
                                required: !0,
                                countError: !0
                            }),
                            l.hasPowerTimeInZones && i.addModel({
                                model: e.powerTimeInZones,
                                required: !0,
                                countError: !0
                            }))
                        }
                        this.canActivityModelSupportSegments(e) && (i.addModel({
                            model: e.segments,
                            required: !1,
                            countError: !0
                        }),
                        e.segments.once("sync", function(t, i, a) {
                            this.shouldActivityModelShowSegments(e) && this.activityTabsView.updateSegmentCount(e.segments.length)
                        }, this));
                        var c = e.activity.get("associatedCourseId");
                        c && (e.course = new I.a({
                            courseId: c
                        }),
                        i.addModel({
                            model: e.course,
                            required: !0,
                            countError: !0
                        })),
                        e.isParent && e.activity.get("childIds") && e.weather.set({
                            activityId: e.activity.get("childIds")[0]
                        }),
                        i.addModel({
                            model: e.weather,
                            required: !0,
                            countError: !0
                        }),
                        e.isParent || (e.selectedGear = new oe.a([],{
                            criteria: {
                                activityId: e.activity.id
                            }
                        }),
                        i.addModel({
                            model: e.selectedGear,
                            required: !0,
                            countError: !0
                        })),
                        i.on(Fe.a.Events.SYNCHRONIZED, t),
                        i.on(Fe.a.Events.SYNCHRONIZED, function() {
                            e.isLoaded = !0,
                            this.dataModel.connectIQPresentationData && this.dataModel.connectIQPresentationData.length > 0 && !this.connectIQPresentationDataLoaded && this.loadConnectIQ()
                        }, this),
                        i.fetchModels()
                    }
                },
                isNoteDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("description")
                },
                isDiveBuddyDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("diveInfo").buddy
                },
                isDiveLocationDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("locationName")
                },
                isDiveEquipmentDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("diveInfo").equipments
                },
                canActivityModelSupportSegments: function(e) {
                    return (e.activity.isCycling() || e.activity.isRunning()) && e.activity.get("hasPolyline") && !e.isParent && this.viewerIsAuthenticated()
                },
                isUserOptedIntoStravaSegments: function() {
                    return this.dataModel.stravaOptionalFeature && this.dataModel.stravaOptionalFeature.get("userOptionType") === $.a.USER_OPTION_TYPES.OPT_IN
                },
                shouldActivityModelShowSegments: function(e) {
                    return 0 == this.isUserOptedIntoStravaSegments() && this.dataModel.segmentOptionalFeature && this.dataModel.segmentOptionalFeature.isOptedIn() && this.canActivityModelSupportSegments(e)
                },
                shouldActivityModelShowStats: function(e) {
                    return !e.isParent
                },
                shouldActivityModelShowAgent: function() {
                    return D.a.isAdminUser() || D.a.isCustomerService() || !1
                },
                shouldActivityModelShowSplits: function(e) {
                    var t = !1;
                    if (e.activitySplits && e.activitySplits.get("lapDTOs")) {
                        var i = e.activitySplits && e.activitySplits.get("lapDTOs");
                        h.a.each(i, function(e) {
                            e.duration && e.duration > 0 && (t = !0)
                        }, this)
                    }
                    var a = this.getRepCounting();
                    return a && a.get("exerciseSets") && a.get("exerciseSets").length > 0 && (t = !1),
                    e.activity.get("activityTypeDTO").typeKey === Ke.a.Yoga && (t = !1),
                    We.h.isDivingActivity(e.activity.get("activityTypeDTO").typeKey) && (t = !1),
                    We.h.isBreathworkActivity(e.activity.get("activityTypeDTO").typeKey) && (t = !1),
                    !e.isParent && t
                },
                canDisplayAccessories: function() {
                    return this.dataModel.currentActivityModel.activity.canDisplayAccessories()
                },
                canDisplayAccessoriesBatteryStatus: function() {
                    return this.dataModel.currentActivityModel.activity.canDisplayAccessoriesBatteryStatus()
                },
                setChartSpeedType: function(e, t) {
                    this.activityChartsView && this.activityChartsView.setSpeedType(e, t)
                },
                onDragFileIn: function(e) {
                    this.activityPhotosView.onDragPhotosIn(e)
                },
                onDragFileOut: function() {
                    this.activityPhotosView.onDragPhotosOut()
                },
                onAxisTypeChanged: function(e) {
                    this.activityTabsView.changeAxisType(e)
                },
                onPowerRangeChanged: function(e, t) {
                    this.activityTabsView.changePowerRange(e, t)
                },
                onChartRangeChanged: function(e, t, i, a) {
                    this.activityChartsView.onChartRangeChanged(e, t, i, a)
                },
                onRangeReset: function(e) {
                    this.activityTabsView.resetRange(e)
                },
                onSpeedPaceToggled: function(e, t) {
                    this.setChartSpeedType(e, t)
                },
                onActivityTypeChanged: function(e) {
                    this.activityTypeChanged = !0,
                    this.displayActivityModel(this.dataModel.currentActivityModel),
                    this.pushAnalyticsEvent("Activity Type Changed")
                },
                onViewSegmentToggled: function(e, t) {
                    t ? this.activityMapView.showSegment(e) : this.activityMapView.hideSegment(e)
                },
                onPersonalRecordsChanged: function(e) {
                    this.multisportNavView ? this.multisportNavView.render() : this.dataModel.currentActivityModel.activity.isParent() || this.activityIntroView.renderPrTrophy()
                },
                onPrivacyChanged: function() {
                    this.activitySegmentsView && this.shouldActivityModelShowSegments(this.dataModel.currentActivityModel) && (this.activitySegmentsView.setData(this.dataModel.activityModel.activity, this.dataModel.activityModel.segments),
                    this.activitySegmentsView.render())
                },
                onPageUnloaded: function() {
                    this.reactActivityBadges && this.reactActivityBadges.removeComponent(),
                    le.a.prototype.onPageUnloaded.call(this),
                    this.activityMapView && this.activityMapView.unloadMap(),
                    this.hasVirbVideo() && this.activityYouTubeView.cleanUp()
                },
                isBackFromSocialPlatform: function() {
                    var e = g.a.history.location.href;
                    return !!/activity\/\d+\/share\/(0|1)\?lang=/.test(e)
                },
                hasVideo: function() {
                    return !(!this.dataModel || !this.dataModel.activityModel) && this.dataModel.activityModel.activity.get("videoUrl")
                },
                hasVirbVideo: function() {
                    return !(!this.dataModel || !this.dataModel.videoClips) && this.dataModel.videoClips.length > 0
                },
                hasTypedSplits: function() {
                    return this.dataModel.activityModel.activity.get("metadataDTO").hasSplits
                },
                hasIntensityIntervals: function() {
                    return this.dataModel.activityModel.activity.get("metadataDTO").hasIntensityIntervals
                },
                hasPowerData: function(e) {
                    return !!((e = e || this.dataModel.currentActivityModel.activity).get("averagePower") || e.get("maxPowerTwentyMinutes") || e.get("leftBalance") || e.get("leftTorqueEffectiveness") || e.get("leftPedalSmoothness") || e.get("normalizedPower") || e.get("intensityFactor") || e.get("functionalThresholdPower") || e.get("totalWork"))
                },
                canDisplayElevCorrectionInfo: function() {
                    return !this.hasVirbVideo() && this.dataModel.activityModel.activityDetails.hasElevationData()
                },
                canDisplayVectorAirInfo: function() {
                    return D.a.hasMBTesterRole() || this.enableVectorAirFeatureFlag && !h.a.isEmpty(this.enableVectorAirFeatureFlag.get("value")) && !1 !== JSON.parse(this.enableVectorAirFeatureFlag.get("value"))
                },
                getUsersWeight: function() {
                    return this.dataModel.getLatestWeight && this.dataModel.getLatestWeight.get("weight") ? v.a.convertWeightGramsToKg(this.dataModel.getLatestWeight.get("weight")) : null
                },
                getRepCounting: function() {
                    return this.showExerciseView(this.dataModel.currentActivityModel.activity.get("activityTypeDTO").typeKey) ? this.dataModel.currentActivityModel.repCountingActivity : We.h.isHiitActivity(this.dataModel.currentActivityModel.activity.get("activityTypeDTO").typeKey) ? this.dataModel.currentActivityModel.repCountingActivity : null
                },
                onDisplayWeightEntryPopup: function(e) {
                    var t = new ue.a({
                        prompt: m.a.localize("ftp.weight.modal.prompt"),
                        weightDate: Ge.a.formatISODate(new Date(this.dataModel.activityModel.activity.get("startTimeGMT")))
                    });
                    this.listenTo(t, ue.a.Events.WEIGHT_SUCCESS, function(t) {
                        e.successCallback && "function" === typeof e.successCallback && e.successCallback.call(e.context || this, t),
                        i && "function" === typeof i.close && i.close()
                    }, this);
                    var i = new pe.a({
                        view: t,
                        showFooter: !0,
                        showCancelButton: !1,
                        modalTitle: m.a.localize("ftp.modal.title")
                    });
                    i.render()
                },
                onWeightChanged: function(e) {
                    this.activityChartsView.setAndApplyWeight(e),
                    this.activityStatsView.setAndApplyWeight(e),
                    this.activitySplitsView.setAndApplyWeight(e),
                    this.dataModel.userBiometricWeights && this.dataModel.userBiometricWeights.length > 0 && this.dataModel.userBiometricWeights.at(0).set("weight", v.a.convertWeightToGrams(e))
                },
                getTimeInZonesInfo: function(e) {
                    var t = e || this.dataModel.currentActivityModel.activity.get("metadataDTO");
                    return t ? {
                        hasPowerTimeInZones: t.hasPowerTimeInZones,
                        hasHrTimeInZones: t.hasHrTimeInZones
                    } : {
                        hasPowerTimeInZones: !1,
                        hasHrTimeInZones: !1
                    }
                },
                presentationDataWasReturnedForConnectIQ: function() {
                    return this.dataModel.connectIQPresentationData && this.dataModel.connectIQPresentationData.models.length > 0
                },
                onTabToggleClicked: function() {
                    this.pushToggleIntervalsTabsAnalyticsEvents()
                },
                pushToggleIntervalsTabsAnalyticsEvents: function() {
                    He.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Toggle Intervals Tabs"
                    })
                },
                getAllAccessories: function() {
                    var e, t = [];
                    if (this.canDisplayAccessories() && (e = this.dataModel.currentActivityModel.activity.getListOfAccessories()))
                        for (var i in e)
                            i && e.hasOwnProperty(i) && t.push({
                                name: e[i].name,
                                imageUrl: e[i].imageUrl,
                                softwareVersion: e[i].softwareVersion
                            });
                    if (this.canDisplayAccessoriesBatteryStatus() && (e = this.dataModel.currentActivityModel.activity.getListOfAccessoriesWithBatteryStatus()) && e.length > 0)
                        for (var a = 0, n = e.length; a < n; a += 1)
                            if (e[a]) {
                                var r = this.dataModel.currentActivityModel.activity.getBatteryInfo(e[a]);
                                (!this.hideSensorInformationRoleKey.featureEnabled() && !e[a].sku.includes(yt.a.AccessoriesWithBatteryStatus.Rally200.sku) || this.hideSensorInformationRoleKey.featureEnabled()) && t.push({
                                    name: r.name,
                                    softwareVersion: r.softwareVersion,
                                    batteryInfo: r,
                                    batteryStatusTypes: this.dataModel.currentActivityModel.activity.getBatteryStatusTypes()
                                })
                            }
                    return t
                },
                showExerciseView: function(e) {
                    return -1 !== [Ke.a.StrengthTraining, Ke.a.Cardio, Ke.a.Pilates, Ke.a.Yoga].indexOf(e)
                },
                hasStartOrEndPoints: function() {
                    return Object(pt.a)(this.dataModel.currentActivityModel.activity.has("startLongitude"), this.dataModel.currentActivityModel.activity.has("startLatitude"), this.dataModel.currentActivityModel.activity.has("endLongitude"), this.dataModel.currentActivityModel.activity.has("endLatitude"))
                },
                renderActivityBadges: function() {
                    this.reactActivityBadges = new ge.a,
                    this.reactActivityBadges.renderComponent(window.ActivityBadges, this.$(".react-activity-badges")[0], {
                        activityId: this.dataModel.activityModel.activityId,
                        viewerSocialProfile: D.a.toJSON(),
                        displayName: this.dataModel.activityModel.activity.get("userInfoDto").displayname
                    })
                },
                getMapLayers: function(e) {
                    var t = this
                      , i = []
                      , a = this
                      , n = this.getTimeInZonesInfo()
                      , r = this.getLayersForActivity(e)
                      , o = this.getParentType();
                    if (o) {
                        var s = o.get("typeKey");
                        i.push({
                            value: "NONE",
                            text: m.a.localize("overlay_none_label"),
                            selected: !1,
                            func: function(e) {
                                e && (Object.keys(r).forEach(function(e) {
                                    a.activityMapView.removeMapLayer(e)
                                }),
                                a.activityMapView.removeMapLegend())
                            }
                        });
                        var c = "PACE";
                        "cycling" === s && (c = n.hasPowerTimeInZones && e.powerTimeInZones && e.powerTimeInZones.at(0) && null !== e.powerTimeInZones.at(0).get("zoneLowBoundary") ? "POWER" : "SPEED");
                        for (var h = Object.entries(r), p = function() {
                            var a = h[d]
                              , n = (u = Object(l.a)(a, 2))[0]
                              , r = u[1]
                              , o = !1;
                            n === c && (o = !0),
                            e.activity.get("summaryDTO")[r.summaryDataKey] && i.push({
                                value: n,
                                text: m.a.localize(r.label),
                                selected: o,
                                func: function(e) {
                                    e && (this.activityMapView.addMapLayer(n),
                                    this.activityMapView.renderMapLegend(n))
                                }
                                .bind(t)
                            })
                        }, d = 0; d < h.length; d++) {
                            var u;
                            p()
                        }
                    }
                    return 1 === i.length && "NONE" === i[0].value && (i = []),
                    i
                },
                setMapLayer: function() {
                    var e = this.additionalMapLayers && this.additionalMapLayers.length > 0 ? this.additionalMapLayers[0] : null;
                    if (e && e.selected)
                        this.activityMapView.addMapLayer(e.value),
                        this.activityMapView.renderMapLegend(e.value);
                    else {
                        var t = this.additionalMapLayers.find(function(e) {
                            return !0 === e.selected
                        });
                        t && (this.activityMapView.addMapLayer(t.value),
                        this.activityMapView.renderMapLegend(t.value))
                    }
                },
                getLayersForActivity: function(e) {
                    var t = {}
                      , i = e.activity.get("activityTypeDTO").typeKey
                      , a = this.getParentType();
                    if (a) {
                        var n = a.get("typeKey");
                        if (this.mertricTrackLogPref.featureEnabled()) {
                            if (We.a.indexOf(n) > -1) {
                                var r = et.a.getSpeedPaceLayer(i);
                                t = Object(s.a)({}, We.f),
                                "SPEED" === r ? delete t.PACE : delete t.SPEED;
                                var o = this.getTimeInZonesInfo();
                                o.hasHrTimeInZones && e.hrTimeInZones && e.hrTimeInZones.at(0) && null !== e.hrTimeInZones.at(0).get("zoneLowBoundary") || delete t.HEART_RATE,
                                o.hasPowerTimeInZones && e.powerTimeInZones && e.powerTimeInZones.at(0) && null !== e.powerTimeInZones.at(0).get("zoneLowBoundary") || delete t.POWER
                            }
                        } else
                            t = Object(s.a)({}, We.f),
                            Object.keys(t).forEach(function(e) {
                                "GRIT" !== e && "FLOW" !== e && delete t[e]
                            })
                    }
                    return t
                },
                renderDiveAppPromotion: function() {
                    this.diveAppLinkInfo = new Se.a({
                        el: this.$(".dive-app-link-info")
                    }),
                    this.diveAppLinkInfo.render()
                },
                renderActivityDetailSmallStats: function() {
                    this.showDiveLog() || (this.activityDetailSmallStats = new ct.a({
                        el: this.$("#react-activitySmallStats"),
                        activity: this.dataModel.activityModel.activity.toJSON(),
                        repCountingActivity: this.dataModel.activityModel.repCountingActivity,
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty.toJSON()
                    }),
                    this.activityDetailSmallStats.render())
                },
                isPilatesActivity: function(e) {
                    var t = e || this.dataModel.activityModel;
                    return We.h.isPilatesActivity(t.activity.get("activityTypeDTO").typeKey)
                },
                isYogaActivity: function(e) {
                    var t = e || this.dataModel.activityModel;
                    return We.h.isYogaActivity(t.activity.get("activityTypeDTO").typeKey)
                },
                isMountainBikeActivity: function() {
                    var e = this.dataModel.activityModel;
                    return We.h.isMountainBikeActivity(e.activity.get("activityTypeDTO").typeKey)
                },
                includeActivityIntoPowerCurve: function(e) {
                    a.ajax({
                        method: "POST",
                        url: Ye.default.url("/proxy/activity-service/activity/" + e + "/powerCurve"),
                        contentType: "application/json",
                        data: JSON.stringify({
                            excludeFromPowerCurveReports: !1
                        }),
                        beforeSend: function(e) {
                            e.setRequestHeader("X-HTTP-Method-Override", "PATCH")
                        },
                        success: function() {
                            this.dataModel.powerCurve = new tt.a({
                                activityId: e
                            });
                            var t = new Fe.a;
                            t.addModel({
                                model: this.dataModel.powerCurve,
                                required: !0
                            }),
                            this.listenTo(t, Fe.a.Events.SYNCHRONIZED, function() {
                                this.onPowerCurveTabClicked(0)
                            }),
                            t.bind(Fe.a.Events.SYNCHRONIZE_FAILED, function() {
                                this.trigger(wt.Error, m.a.localize("please_try_again_later"))
                            }, this),
                            t.fetchModels()
                        }
                        .bind(this),
                        error: function(e, t, i) {}
                    })
                },
                getParentType: function() {
                    return this.dataModel.activityTypes.getParentType(this.dataModel.currentActivityModel.activity.get("activityTypeDTO").typeKey)
                },
                canShowAdvancedActivityEdit: function() {
                    var e = this.dataModel.activityModel.activity
                      , t = this.dataModel.activityModel.activityDetails;
                    return this.advancedActivityEditPreference.featureEnabled() && this.viewerIsOwner() && !e.get("metadataDTO").manualActivity && e.get("metadataDTO").fileFormat && "fit" === e.get("metadataDTO").fileFormat.formatKey && $e.b.isActivityTypeAdvancedActivitySupported(e) && $e.b.hasAdvancedEditChartData(e, t)
                },
                canShowActivityRestore: function() {
                    var e = this.dataModel.activityModel.activity;
                    return this.advancedActivityEditPreference.featureEnabled() && e.get("metadataDTO").trimmed
                },
                showSong: function(e) {
                    return e.has("artist") || e.has("album") || e.has("title") && "OTHER" !== e.get("title").toUpperCase() && "ALL" !== e.get("title").toUpperCase()
                },
                restoreToOriginal: function() {
                    var e = this;
                    new de.a({
                        modalTitle: m.a.localize("activity_restore_question"),
                        message: m.a.localize("activity_restore_text"),
                        confirmationTextKey: "activity_restore_label",
                        cancelTextKey: "button_cancel",
                        onSaveButtonClicked: function() {
                            return e.restore(),
                            !0
                        }
                    }).render()
                },
                restore: function() {
                    var e = Object(o.a)(r.a.mark(function e() {
                        var t, i, a, n = this;
                        return r.a.wrap(function(e) {
                            for (; ; )
                                switch (e.prev = e.next) {
                                case 0:
                                    return t = this.dataModel.activityModel.activity,
                                    this.hideFailureMessage(),
                                    this.showSpinner(!0, m.a.localize("activity_wait_message")),
                                    $e.b.pushAnalyticsEvent("TrimActivityRestore"),
                                    e.prev = 4,
                                    e.next = 7,
                                    d.a.put("/activity-service/activity/".concat(t.get("activityId"), "/reconstruct"), {});
                                case 7:
                                    202 === (i = e.sent).status ? (a = new ht.a(i.headers.location,i.headers["location-in-milliseconds"]),
                                    this.listenTo(a.channel, ht.a.Events.Success, function() {
                                        var e = document.URL;
                                        e = e.substring(0, e.indexOf("?")),
                                        location.replace(e)
                                    }, this),
                                    this.listenTo(a.channel, ht.a.Events.Timeout, function() {
                                        var e = new de.a({
                                            modalTitle: m.a.localize("advanced_activity_restore_inprogress_modal_title"),
                                            message: m.a.localize("advanced_activity_restore_inprogress_exceeded"),
                                            confirmationTextKey: "ok",
                                            showCancelButton: !1,
                                            closable: !1,
                                            onSaveButtonClicked: function() {
                                                return Ye.default.navigate("/activities", null, {
                                                    trigger: !0
                                                }),
                                                !0
                                            }
                                        });
                                        n.showSpinner(!1),
                                        e.render()
                                    }),
                                    this.listenTo(a.channel, ht.a.Events.Error, function() {
                                        n.showSpinner(!1),
                                        n.showFailureMessage(m.a.localize("advanced_activity_restore_error"))
                                    }),
                                    a.poll()) : (this.showSpinner(!1),
                                    this.showFailureMessage(m.a.localize("advanced_activity_save_error"))),
                                    e.next = 15;
                                    break;
                                case 11:
                                    e.prev = 11,
                                    e.t0 = e.catch(4),
                                    this.showSpinner(!1),
                                    this.showFailureMessage(m.a.localize("advanced_activity_restore_error"));
                                case 15:
                                case "end":
                                    return e.stop()
                                }
                        }, e, this, [[4, 11]])
                    }));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }(),
                showSpinner: function(e, t) {
                    e ? (this.$(".spinner-container .h5").text(t),
                    this.$(".spinner-container").show()) : this.$(".spinner-container").hide()
                },
                displayNotification: function(e, t) {
                    this.restoreURL(),
                    (new ge.a).renderComponent(dt.a, this.$("#notification-placeholder")[0], {
                        messageKey: e,
                        autoClose: t,
                        renderTimeoutVal: 2e3,
                        onClose: this.onCloseNotification.bind(this)
                    })
                },
                restoreURL: function() {
                    var e = location.href.substring(0, location.href.indexOf("?"));
                    Ye.default.replaceNavigationURL(e)
                },
                onRestoreClicked: function(e) {
                    e.preventDefault(),
                    this.onCloseNotification(),
                    this.restore()
                },
                onCloseNotification: function() {
                    this.$("#notification-placeholder").remove()
                },
                pushAnalyticsEvent: function(e) {
                    He.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: e
                    })
                },
                exportSplitsToCSV: function() {
                    this.activitySplitsView.exportToCSV()
                },
                showDiveLog: function() {
                    return We.h.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && !We.h.isApneaDiving(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)
                },
                renderSurfWaveDistanceChart: function() {
                    (new ge.a).renderComponent(nt.a, this.$("#surfWaveChartPlaceholder")[0], {
                        waves: this.dataModel.activityModel.activityTypedSplits.toJSON(),
                        selectedWaveMessageIndex: this.selectedWaveMessageIndex
                    }),
                    this.$("#surfWaveChartPlaceholder").css({
                        display: "block"
                    })
                },
                renderSurfWaveMapLegend: function() {
                    (new ge.a).renderComponent(rt.a, this.$("#surfWaveMapLegendPlaceholder")[0]),
                    this.$("#surfWaveMapLegendPlaceholder").css({
                        display: "block"
                    })
                },
                showPowerCurve: function() {
                    return !(!this.viewerIsOwner() || !this.dataModel.powerCurve || We.h.isOffShoreGrinding(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) || We.h.isOnShoreGrindingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey))
                },
                showTracklogTooltip: function() {
                    return this.viewerIsOwner() && this.mertricTrackLogPref.featureEnabled() && "true" !== this.displayMetricTrackLogTooltipUserPreference.get("value")
                },
                onMapCustomLayerClicked: function(e) {
                    var t = this.dataModel.activityModel.activityId
                      , i = this.dataModel.deviceInfo.get("productDisplayName");
                    e.selected && He.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Toggle metrics track log '".concat(e.which, "' ON. ActivityId: ").concat(t, ", Device: ").concat(i)
                    })
                }
            })
        }
        .call(this, i(9), i(9))
    }
}]);
//# sourceMappingURL=236.125e6034.chunk.js.map
